var i6=Object.create;var{getPrototypeOf:l6,defineProperty:C2,getOwnPropertyNames:L1,getOwnPropertyDescriptor:m6}=Object,A1=Object.prototype.hasOwnProperty;var n6=(w,B,h)=>{h=w!=null?i6(l6(w)):{};let U=B||!w||!w.__esModule?C2(h,"default",{value:w,enumerable:!0}):h;for(let I of L1(w))if(!A1.call(U,I))C2(U,I,{get:()=>w[I],enumerable:!0});return U},E1=new WeakMap,_0=(w)=>{var B=E1.get(w),h;if(B)return B;if(B=C2({},"__esModule",{value:!0}),w&&typeof w==="object"||typeof w==="function")L1(w).map((U)=>!A1.call(B,U)&&C2(B,U,{get:()=>w[U],enumerable:!(h=m6(w,U))||h.enumerable}));return E1.set(w,B),B},r6=(w,B)=>()=>(B||w((B={exports:{}}).exports,B),B.exports);var O1=(w,B)=>{for(var h in B)C2(w,h,{get:B[h],enumerable:!0,configurable:!0,set:(U)=>B[h]=()=>U})};var M1=(w,B)=>()=>(w&&(B=w(w=0)),B);var b0={};O1(b0,{transcode:()=>u8,resolveObjectURL:()=>y8,kStringMaxLength:()=>i1,kMaxLength:()=>N2,isUtf8:()=>c8,isAscii:()=>v8,default:()=>g8,constants:()=>q8,btoa:()=>Q8,atob:()=>Z8,INSPECT_MAX_BYTES:()=>d1,File:()=>J8,Buffer:()=>R,Blob:()=>F8});function h8(w){var B=w.length;if(B%4>0)throw Error("Invalid string. Length must be a multiple of 4");var h=w.indexOf("=");if(h===-1)h=B;var U=h===B?0:4-h%4;return[h,U]}function w8(w,B){return(w+B)*3/4-B}function U8(w){var B,h=h8(w),U=h[0],I=h[1],X=new Uint8Array(w8(U,I)),Q=0,q=I>0?U-4:U,Y;for(Y=0;Y<q;Y+=4)B=S0[w.charCodeAt(Y)]<<18|S0[w.charCodeAt(Y+1)]<<12|S0[w.charCodeAt(Y+2)]<<6|S0[w.charCodeAt(Y+3)],X[Q++]=B>>16&255,X[Q++]=B>>8&255,X[Q++]=B&255;if(I===2)B=S0[w.charCodeAt(Y)]<<2|S0[w.charCodeAt(Y+1)]>>4,X[Q++]=B&255;if(I===1)B=S0[w.charCodeAt(Y)]<<10|S0[w.charCodeAt(Y+1)]<<4|S0[w.charCodeAt(Y+2)]>>2,X[Q++]=B>>8&255,X[Q++]=B&255;return X}function I8(w){return y0[w>>18&63]+y0[w>>12&63]+y0[w>>6&63]+y0[w&63]}function X8(w,B,h){var U,I=[];for(var X=B;X<h;X+=3)U=(w[X]<<16&16711680)+(w[X+1]<<8&65280)+(w[X+2]&255),I.push(I8(U));return I.join("")}function c1(w){var B,h=w.length,U=h%3,I=[],X=16383;for(var Q=0,q=h-U;Q<q;Q+=X)I.push(X8(w,Q,Q+X>q?q:Q+X));if(U===1)B=w[h-1],I.push(y0[B>>2]+y0[B<<4&63]+"==");else if(U===2)B=(w[h-2]<<8)+w[h-1],I.push(y0[B>>10]+y0[B>>4&63]+y0[B<<2&63]+"=");return I.join("")}function D2(w,B,h,U,I){var X,Q,q=I*8-U-1,Y=(1<<q)-1,K=Y>>1,$=-7,j=h?I-1:0,x=h?-1:1,M=w[B+j];j+=x,X=M&(1<<-$)-1,M>>=-$,$+=q;for(;$>0;X=X*256+w[B+j],j+=x,$-=8);Q=X&(1<<-$)-1,X>>=-$,$+=U;for(;$>0;Q=Q*256+w[B+j],j+=x,$-=8);if(X===0)X=1-K;else if(X===Y)return Q?NaN:(M?-1:1)*(1/0);else Q=Q+Math.pow(2,U),X=X-K;return(M?-1:1)*Q*Math.pow(2,X-U)}function p1(w,B,h,U,I,X){var Q,q,Y,K=X*8-I-1,$=(1<<K)-1,j=$>>1,x=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=U?0:X-1,d=U?1:-1,s=B<0||B===0&&1/B<0?1:0;if(B=Math.abs(B),isNaN(B)||B===1/0)q=isNaN(B)?1:0,Q=$;else{if(Q=Math.floor(Math.log(B)/Math.LN2),B*(Y=Math.pow(2,-Q))<1)Q--,Y*=2;if(Q+j>=1)B+=x/Y;else B+=x*Math.pow(2,1-j);if(B*Y>=2)Q++,Y/=2;if(Q+j>=$)q=0,Q=$;else if(Q+j>=1)q=(B*Y-1)*Math.pow(2,I),Q=Q+j;else q=B*Math.pow(2,j-1)*Math.pow(2,I),Q=0}for(;I>=8;w[h+M]=q&255,M+=d,q/=256,I-=8);Q=Q<<I|q,K+=I;for(;K>0;w[h+M]=Q&255,M+=d,Q/=256,K-=8);w[h+M-d]|=s*128}function g0(w){if(w>N2)throw RangeError('The value "'+w+'" is invalid for option "size"');let B=new Uint8Array(w);return Object.setPrototypeOf(B,R.prototype),B}function o2(w,B,h){return class extends h{constructor(){super();Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}function R(w,B,h){if(typeof w==="number"){if(typeof B==="string")throw TypeError('The "string" argument must be of type string. Received type number');return a2(w)}return l1(w,B,h)}function l1(w,B,h){if(typeof w==="string")return $8(w,B);if(ArrayBuffer.isView(w))return z8(w);if(w==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(c0(w,ArrayBuffer)||w&&c0(w.buffer,ArrayBuffer))return n2(w,B,h);if(typeof SharedArrayBuffer<"u"&&(c0(w,SharedArrayBuffer)||w&&c0(w.buffer,SharedArrayBuffer)))return n2(w,B,h);if(typeof w==="number")throw TypeError('The "value" argument must not be of type number. Received type number');let U=w.valueOf&&w.valueOf();if(U!=null&&U!==w)return R.from(U,B,h);let I=G8(w);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]==="function")return R.from(w[Symbol.toPrimitive]("string"),B,h);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}function m1(w){if(typeof w!=="number")throw TypeError('"size" argument must be of type number');else if(w<0)throw RangeError('The value "'+w+'" is invalid for option "size"')}function Y8(w,B,h){if(m1(w),w<=0)return g0(w);if(B!==void 0)return typeof h==="string"?g0(w).fill(B,h):g0(w).fill(B);return g0(w)}function a2(w){return m1(w),g0(w<0?0:s2(w)|0)}function $8(w,B){if(typeof B!=="string"||B==="")B="utf8";if(!R.isEncoding(B))throw TypeError("Unknown encoding: "+B);let h=n1(w,B)|0,U=g0(h),I=U.write(w,B);if(I!==h)U=U.slice(0,I);return U}function m2(w){let B=w.length<0?0:s2(w.length)|0,h=g0(B);for(let U=0;U<B;U+=1)h[U]=w[U]&255;return h}function z8(w){if(c0(w,Uint8Array)){let B=new Uint8Array(w);return n2(B.buffer,B.byteOffset,B.byteLength)}return m2(w)}function n2(w,B,h){if(B<0||w.byteLength<B)throw RangeError('"offset" is outside of buffer bounds');if(w.byteLength<B+(h||0))throw RangeError('"length" is outside of buffer bounds');let U;if(B===void 0&&h===void 0)U=new Uint8Array(w);else if(h===void 0)U=new Uint8Array(w,B);else U=new Uint8Array(w,B,h);return Object.setPrototypeOf(U,R.prototype),U}function G8(w){if(R.isBuffer(w)){let B=s2(w.length)|0,h=g0(B);if(h.length===0)return h;return w.copy(h,0,0,B),h}if(w.length!==void 0){if(typeof w.length!=="number"||Number.isNaN(w.length))return g0(0);return m2(w)}if(w.type==="Buffer"&&Array.isArray(w.data))return m2(w.data)}function s2(w){if(w>=N2)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+N2.toString(16)+" bytes");return w|0}function n1(w,B){if(R.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||c0(w,ArrayBuffer))return w.byteLength;if(typeof w!=="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);let h=w.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&h===0)return 0;let I=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return r2(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return w6(w).length;default:if(I)return U?-1:r2(w).length;B=(""+B).toLowerCase(),I=!0}}function W8(w,B,h){let U=!1;if(B===void 0||B<0)B=0;if(B>this.length)return"";if(h===void 0||h>this.length)h=this.length;if(h<=0)return"";if(h>>>=0,B>>>=0,h<=B)return"";if(!w)w="utf8";while(!0)switch(w){case"hex":return x8(this,B,h);case"utf8":case"utf-8":return o1(this,B,h);case"ascii":return O8(this,B,h);case"latin1":case"binary":return M8(this,B,h);case"base64":return L8(this,B,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D8(this,B,h);default:if(U)throw TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),U=!0}}function U2(w,B,h){let U=w[B];w[B]=w[h],w[h]=U}function r1(w,B,h,U,I){if(w.length===0)return-1;if(typeof h==="string")U=h,h=0;else if(h>2147483647)h=2147483647;else if(h<-2147483648)h=-2147483648;if(h=+h,Number.isNaN(h))h=I?0:w.length-1;if(h<0)h=w.length+h;if(h>=w.length)if(I)return-1;else h=w.length-1;else if(h<0)if(I)h=0;else return-1;if(typeof B==="string")B=R.from(B,U);if(R.isBuffer(B)){if(B.length===0)return-1;return u1(w,B,h,U,I)}else if(typeof B==="number"){if(B=B&255,typeof Uint8Array.prototype.indexOf==="function")if(I)return Uint8Array.prototype.indexOf.call(w,B,h);else return Uint8Array.prototype.lastIndexOf.call(w,B,h);return u1(w,[B],h,U,I)}throw TypeError("val must be string, number or Buffer")}function u1(w,B,h,U,I){let X=1,Q=w.length,q=B.length;if(U!==void 0){if(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le"){if(w.length<2||B.length<2)return-1;X=2,Q/=2,q/=2,h/=2}}function Y($,j){if(X===1)return $[j];else return $.readUInt16BE(j*X)}let K;if(I){let $=-1;for(K=h;K<Q;K++)if(Y(w,K)===Y(B,$===-1?0:K-$)){if($===-1)$=K;if(K-$+1===q)return $*X}else{if($!==-1)K-=K-$;$=-1}}else{if(h+q>Q)h=Q-q;for(K=h;K>=0;K--){let $=!0;for(let j=0;j<q;j++)if(Y(w,K+j)!==Y(B,j)){$=!1;break}if($)return K}}return-1}function C8(w,B,h,U){h=Number(h)||0;let I=w.length-h;if(!U)U=I;else if(U=Number(U),U>I)U=I;let X=B.length;if(U>X/2)U=X/2;let Q;for(Q=0;Q<U;++Q){let q=parseInt(B.substr(Q*2,2),16);if(Number.isNaN(q))return Q;w[h+Q]=q}return Q}function N8(w,B,h,U){return P2(r2(B,w.length-h),w,h,U)}function V8(w,B,h,U){return P2(_8(B),w,h,U)}function j8(w,B,h,U){return P2(w6(B),w,h,U)}function E8(w,B,h,U){return P2(f8(B,w.length-h),w,h,U)}function L8(w,B,h){if(B===0&&h===w.length)return c1(w);else return c1(w.slice(B,h))}function o1(w,B,h){h=Math.min(w.length,h);let U=[],I=B;while(I<h){let X=w[I],Q=null,q=X>239?4:X>223?3:X>191?2:1;if(I+q<=h){let Y,K,$,j;switch(q){case 1:if(X<128)Q=X;break;case 2:if(Y=w[I+1],(Y&192)===128){if(j=(X&31)<<6|Y&63,j>127)Q=j}break;case 3:if(Y=w[I+1],K=w[I+2],(Y&192)===128&&(K&192)===128){if(j=(X&15)<<12|(Y&63)<<6|K&63,j>2047&&(j<55296||j>57343))Q=j}break;case 4:if(Y=w[I+1],K=w[I+2],$=w[I+3],(Y&192)===128&&(K&192)===128&&($&192)===128){if(j=(X&15)<<18|(Y&63)<<12|(K&63)<<6|$&63,j>65535&&j<1114112)Q=j}}}if(Q===null)Q=65533,q=1;else if(Q>65535)Q-=65536,U.push(Q>>>10&1023|55296),Q=56320|Q&1023;U.push(Q),I+=q}return A8(U)}function A8(w){let B=w.length;if(B<=g1)return String.fromCharCode.apply(String,w);let h="",U=0;while(U<B)h+=String.fromCharCode.apply(String,w.slice(U,U+=g1));return h}function O8(w,B,h){let U="";h=Math.min(w.length,h);for(let I=B;I<h;++I)U+=String.fromCharCode(w[I]&127);return U}function M8(w,B,h){let U="";h=Math.min(w.length,h);for(let I=B;I<h;++I)U+=String.fromCharCode(w[I]);return U}function x8(w,B,h){let U=w.length;if(!B||B<0)B=0;if(!h||h<0||h>U)h=U;let I="";for(let X=B;X<h;++X)I+=S8[w[X]];return I}function D8(w,B,h){let U=w.slice(B,h),I="";for(let X=0;X<U.length-1;X+=2)I+=String.fromCharCode(U[X]+U[X+1]*256);return I}function E0(w,B,h){if(w%1!==0||w<0)throw RangeError("offset is not uint");if(w+B>h)throw RangeError("Trying to access beyond buffer length")}function x0(w,B,h,U,I,X){if(!R.isBuffer(w))throw TypeError('"buffer" argument must be a Buffer instance');if(B>I||B<X)throw RangeError('"value" argument is out of bounds');if(h+U>w.length)throw RangeError("Index out of range")}function a1(w,B,h,U,I){h6(B,U,I,w,h,7);let X=Number(B&BigInt(4294967295));w[h++]=X,X=X>>8,w[h++]=X,X=X>>8,w[h++]=X,X=X>>8,w[h++]=X;let Q=Number(B>>BigInt(32)&BigInt(4294967295));return w[h++]=Q,Q=Q>>8,w[h++]=Q,Q=Q>>8,w[h++]=Q,Q=Q>>8,w[h++]=Q,h}function s1(w,B,h,U,I){h6(B,U,I,w,h,7);let X=Number(B&BigInt(4294967295));w[h+7]=X,X=X>>8,w[h+6]=X,X=X>>8,w[h+5]=X,X=X>>8,w[h+4]=X;let Q=Number(B>>BigInt(32)&BigInt(4294967295));return w[h+3]=Q,Q=Q>>8,w[h+2]=Q,Q=Q>>8,w[h+1]=Q,Q=Q>>8,w[h]=Q,h+8}function t1(w,B,h,U,I,X){if(h+U>w.length)throw RangeError("Index out of range");if(h<0)throw RangeError("Index out of range")}function e1(w,B,h,U,I){if(B=+B,h=h>>>0,!I)t1(w,B,h,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return p1(w,B,h,U,23,4),h+4}function B6(w,B,h,U,I){if(B=+B,h=h>>>0,!I)t1(w,B,h,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return p1(w,B,h,U,52,8),h+8}function b1(w){let B="",h=w.length,U=w[0]==="-"?1:0;for(;h>=U+4;h-=3)B=`_${w.slice(h-3,h)}${B}`;return`${w.slice(0,h)}${B}`}function P8(w,B,h){if($2(B,"offset"),w[B]===void 0||w[B+h]===void 0)V2(B,w.length-(h+1))}function h6(w,B,h,U,I,X){if(w>h||w<B){let Q=typeof B==="bigint"?"n":"",q;if(X>3)if(B===0||B===BigInt(0))q=`>= 0${Q} and < 2${Q} ** ${(X+1)*8}${Q}`;else q=`>= -(2${Q} ** ${(X+1)*8-1}${Q}) and < 2 ** ${(X+1)*8-1}${Q}`;else q=`>= ${B}${Q} and <= ${h}${Q}`;throw new l2("value",q,w)}P8(U,I,X)}function $2(w,B){if(typeof w!=="number")throw new H8(B,"number",w)}function V2(w,B,h){if(Math.floor(w)!==w)throw $2(w,h),new l2(h||"offset","an integer",w);if(B<0)throw new K8;throw new l2(h||"offset",`>= ${h?1:0} and <= ${B}`,w)}function R8(w){if(w=w.split("=")[0],w=w.trim().replace(T8,""),w.length<2)return"";while(w.length%4!==0)w=w+"=";return w}function r2(w,B){B=B||1/0;let h,U=w.length,I=null,X=[];for(let Q=0;Q<U;++Q){if(h=w.charCodeAt(Q),h>55295&&h<57344){if(!I){if(h>56319){if((B-=3)>-1)X.push(239,191,189);continue}else if(Q+1===U){if((B-=3)>-1)X.push(239,191,189);continue}I=h;continue}if(h<56320){if((B-=3)>-1)X.push(239,191,189);I=h;continue}h=(I-55296<<10|h-56320)+65536}else if(I){if((B-=3)>-1)X.push(239,191,189)}if(I=null,h<128){if((B-=1)<0)break;X.push(h)}else if(h<2048){if((B-=2)<0)break;X.push(h>>6|192,h&63|128)}else if(h<65536){if((B-=3)<0)break;X.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((B-=4)<0)break;X.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw Error("Invalid code point")}return X}function _8(w){let B=[];for(let h=0;h<w.length;++h)B.push(w.charCodeAt(h)&255);return B}function f8(w,B){let h,U,I,X=[];for(let Q=0;Q<w.length;++Q){if((B-=2)<0)break;h=w.charCodeAt(Q),U=h>>8,I=h%256,X.push(I),X.push(U)}return X}function w6(w){return U8(R8(w))}function P2(w,B,h,U){let I;for(I=0;I<U;++I){if(I+h>=B.length||I>=w.length)break;B[I+h]=w[I]}return I}function c0(w,B){return w instanceof B||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===B.name}function n0(w){return typeof BigInt>"u"?k8:w}function k8(){throw Error("BigInt not supported")}function t2(w){return()=>{throw Error(w+" is not implemented for node:buffer browser polyfill")}}var y0,S0,i2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w2,y1,v1,d1=50,N2=2147483647,i1=536870888,Q8,Z8,J8,F8,q8,K8,H8,l2,g1=4096,T8,S8,y8,c8,v8=(w)=>{for(let B of w)if(B.charCodeAt(0)>127)return!1;return!0},u8,g8;var p0=M1(()=>{y0=[],S0=[];for(w2=0,y1=i2.length;w2<y1;++w2)y0[w2]=i2[w2],S0[i2.charCodeAt(w2)]=w2;S0[45]=62;S0[95]=63;v1=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,Q8=globalThis.btoa,Z8=globalThis.atob,J8=globalThis.File,F8=globalThis.Blob,q8={MAX_LENGTH:N2,MAX_STRING_LENGTH:i1};K8=o2("ERR_BUFFER_OUT_OF_BOUNDS",function(w){if(w)return`${w} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),H8=o2("ERR_INVALID_ARG_TYPE",function(w,B){return`The "${w}" argument must be of type number. Received type ${typeof B}`},TypeError),l2=o2("ERR_OUT_OF_RANGE",function(w,B,h){let U=`The value of "${w}" is out of range.`,I=h;if(Number.isInteger(h)&&Math.abs(h)>4294967296)I=b1(String(h));else if(typeof h==="bigint"){if(I=String(h),h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))I=b1(I);I+="n"}return U+=` It must be ${B}. Received ${I}`,U},RangeError);Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(!R.isBuffer(this))return;return this.buffer}});Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(!R.isBuffer(this))return;return this.byteOffset}});R.poolSize=8192;R.from=function(w,B,h){return l1(w,B,h)};Object.setPrototypeOf(R.prototype,Uint8Array.prototype);Object.setPrototypeOf(R,Uint8Array);R.alloc=function(w,B,h){return Y8(w,B,h)};R.allocUnsafe=function(w){return a2(w)};R.allocUnsafeSlow=function(w){return a2(w)};R.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==R.prototype};R.compare=function(B,h){if(c0(B,Uint8Array))B=R.from(B,B.offset,B.byteLength);if(c0(h,Uint8Array))h=R.from(h,h.offset,h.byteLength);if(!R.isBuffer(B)||!R.isBuffer(h))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===h)return 0;let U=B.length,I=h.length;for(let X=0,Q=Math.min(U,I);X<Q;++X)if(B[X]!==h[X]){U=B[X],I=h[X];break}if(U<I)return-1;if(I<U)return 1;return 0};R.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};R.concat=function(B,h){if(!Array.isArray(B))throw TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return R.alloc(0);let U;if(h===void 0){h=0;for(U=0;U<B.length;++U)h+=B[U].length}let I=R.allocUnsafe(h),X=0;for(U=0;U<B.length;++U){let Q=B[U];if(c0(Q,Uint8Array))if(X+Q.length>I.length){if(!R.isBuffer(Q))Q=R.from(Q);Q.copy(I,X)}else Uint8Array.prototype.set.call(I,Q,X);else if(!R.isBuffer(Q))throw TypeError('"list" argument must be an Array of Buffers');else Q.copy(I,X);X+=Q.length}return I};R.byteLength=n1;R.prototype._isBuffer=!0;R.prototype.swap16=function(){let B=this.length;if(B%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<B;h+=2)U2(this,h,h+1);return this};R.prototype.swap32=function(){let B=this.length;if(B%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<B;h+=4)U2(this,h,h+3),U2(this,h+1,h+2);return this};R.prototype.swap64=function(){let B=this.length;if(B%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<B;h+=8)U2(this,h,h+7),U2(this,h+1,h+6),U2(this,h+2,h+5),U2(this,h+3,h+4);return this};R.prototype.toString=function(){let B=this.length;if(B===0)return"";if(arguments.length===0)return o1(this,0,B);return W8.apply(this,arguments)};R.prototype.toLocaleString=R.prototype.toString;R.prototype.equals=function(B){if(!R.isBuffer(B))throw TypeError("Argument must be a Buffer");if(this===B)return!0;return R.compare(this,B)===0};R.prototype.inspect=function(){let B="",h=d1;if(B=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h)B+=" ... ";return"<Buffer "+B+">"};if(v1)R.prototype[v1]=R.prototype.inspect;R.prototype.compare=function(B,h,U,I,X){if(c0(B,Uint8Array))B=R.from(B,B.offset,B.byteLength);if(!R.isBuffer(B))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(h===void 0)h=0;if(U===void 0)U=B?B.length:0;if(I===void 0)I=0;if(X===void 0)X=this.length;if(h<0||U>B.length||I<0||X>this.length)throw RangeError("out of range index");if(I>=X&&h>=U)return 0;if(I>=X)return-1;if(h>=U)return 1;if(h>>>=0,U>>>=0,I>>>=0,X>>>=0,this===B)return 0;let Q=X-I,q=U-h,Y=Math.min(Q,q),K=this.slice(I,X),$=B.slice(h,U);for(let j=0;j<Y;++j)if(K[j]!==$[j]){Q=K[j],q=$[j];break}if(Q<q)return-1;if(q<Q)return 1;return 0};R.prototype.includes=function(B,h,U){return this.indexOf(B,h,U)!==-1};R.prototype.indexOf=function(B,h,U){return r1(this,B,h,U,!0)};R.prototype.lastIndexOf=function(B,h,U){return r1(this,B,h,U,!1)};R.prototype.write=function(B,h,U,I){if(h===void 0)I="utf8",U=this.length,h=0;else if(U===void 0&&typeof h==="string")I=h,U=this.length,h=0;else if(isFinite(h))if(h=h>>>0,isFinite(U)){if(U=U>>>0,I===void 0)I="utf8"}else I=U,U=void 0;else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let X=this.length-h;if(U===void 0||U>X)U=X;if(B.length>0&&(U<0||h<0)||h>this.length)throw RangeError("Attempt to write outside buffer bounds");if(!I)I="utf8";let Q=!1;for(;;)switch(I){case"hex":return C8(this,B,h,U);case"utf8":case"utf-8":return N8(this,B,h,U);case"ascii":case"latin1":case"binary":return V8(this,B,h,U);case"base64":return j8(this,B,h,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E8(this,B,h,U);default:if(Q)throw TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),Q=!0}};R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};R.prototype.slice=function(B,h){let U=this.length;if(B=~~B,h=h===void 0?U:~~h,B<0){if(B+=U,B<0)B=0}else if(B>U)B=U;if(h<0){if(h+=U,h<0)h=0}else if(h>U)h=U;if(h<B)h=B;let I=this.subarray(B,h);return Object.setPrototypeOf(I,R.prototype),I};R.prototype.readUintLE=R.prototype.readUIntLE=function(B,h,U){if(B=B>>>0,h=h>>>0,!U)E0(B,h,this.length);let I=this[B],X=1,Q=0;while(++Q<h&&(X*=256))I+=this[B+Q]*X;return I};R.prototype.readUintBE=R.prototype.readUIntBE=function(B,h,U){if(B=B>>>0,h=h>>>0,!U)E0(B,h,this.length);let I=this[B+--h],X=1;while(h>0&&(X*=256))I+=this[B+--h]*X;return I};R.prototype.readUint8=R.prototype.readUInt8=function(B,h){if(B=B>>>0,!h)E0(B,1,this.length);return this[B]};R.prototype.readUint16LE=R.prototype.readUInt16LE=function(B,h){if(B=B>>>0,!h)E0(B,2,this.length);return this[B]|this[B+1]<<8};R.prototype.readUint16BE=R.prototype.readUInt16BE=function(B,h){if(B=B>>>0,!h)E0(B,2,this.length);return this[B]<<8|this[B+1]};R.prototype.readUint32LE=R.prototype.readUInt32LE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216};R.prototype.readUint32BE=R.prototype.readUInt32BE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])};R.prototype.readBigUInt64LE=n0(function(B){B=B>>>0,$2(B,"offset");let h=this[B],U=this[B+7];if(h===void 0||U===void 0)V2(B,this.length-8);let I=h+this[++B]*256+this[++B]*65536+this[++B]*16777216,X=this[++B]+this[++B]*256+this[++B]*65536+U*16777216;return BigInt(I)+(BigInt(X)<<BigInt(32))});R.prototype.readBigUInt64BE=n0(function(B){B=B>>>0,$2(B,"offset");let h=this[B],U=this[B+7];if(h===void 0||U===void 0)V2(B,this.length-8);let I=h*16777216+this[++B]*65536+this[++B]*256+this[++B],X=this[++B]*16777216+this[++B]*65536+this[++B]*256+U;return(BigInt(I)<<BigInt(32))+BigInt(X)});R.prototype.readIntLE=function(B,h,U){if(B=B>>>0,h=h>>>0,!U)E0(B,h,this.length);let I=this[B],X=1,Q=0;while(++Q<h&&(X*=256))I+=this[B+Q]*X;if(X*=128,I>=X)I-=Math.pow(2,8*h);return I};R.prototype.readIntBE=function(B,h,U){if(B=B>>>0,h=h>>>0,!U)E0(B,h,this.length);let I=h,X=1,Q=this[B+--I];while(I>0&&(X*=256))Q+=this[B+--I]*X;if(X*=128,Q>=X)Q-=Math.pow(2,8*h);return Q};R.prototype.readInt8=function(B,h){if(B=B>>>0,!h)E0(B,1,this.length);if(!(this[B]&128))return this[B];return(255-this[B]+1)*-1};R.prototype.readInt16LE=function(B,h){if(B=B>>>0,!h)E0(B,2,this.length);let U=this[B]|this[B+1]<<8;return U&32768?U|4294901760:U};R.prototype.readInt16BE=function(B,h){if(B=B>>>0,!h)E0(B,2,this.length);let U=this[B+1]|this[B]<<8;return U&32768?U|4294901760:U};R.prototype.readInt32LE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24};R.prototype.readInt32BE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]};R.prototype.readBigInt64LE=n0(function(B){B=B>>>0,$2(B,"offset");let h=this[B],U=this[B+7];if(h===void 0||U===void 0)V2(B,this.length-8);let I=this[B+4]+this[B+5]*256+this[B+6]*65536+(U<<24);return(BigInt(I)<<BigInt(32))+BigInt(h+this[++B]*256+this[++B]*65536+this[++B]*16777216)});R.prototype.readBigInt64BE=n0(function(B){B=B>>>0,$2(B,"offset");let h=this[B],U=this[B+7];if(h===void 0||U===void 0)V2(B,this.length-8);let I=(h<<24)+this[++B]*65536+this[++B]*256+this[++B];return(BigInt(I)<<BigInt(32))+BigInt(this[++B]*16777216+this[++B]*65536+this[++B]*256+U)});R.prototype.readFloatLE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return D2(this,B,!0,23,4)};R.prototype.readFloatBE=function(B,h){if(B=B>>>0,!h)E0(B,4,this.length);return D2(this,B,!1,23,4)};R.prototype.readDoubleLE=function(B,h){if(B=B>>>0,!h)E0(B,8,this.length);return D2(this,B,!0,52,8)};R.prototype.readDoubleBE=function(B,h){if(B=B>>>0,!h)E0(B,8,this.length);return D2(this,B,!1,52,8)};R.prototype.writeUintLE=R.prototype.writeUIntLE=function(B,h,U,I){if(B=+B,h=h>>>0,U=U>>>0,!I){let q=Math.pow(2,8*U)-1;x0(this,B,h,U,q,0)}let X=1,Q=0;this[h]=B&255;while(++Q<U&&(X*=256))this[h+Q]=B/X&255;return h+U};R.prototype.writeUintBE=R.prototype.writeUIntBE=function(B,h,U,I){if(B=+B,h=h>>>0,U=U>>>0,!I){let q=Math.pow(2,8*U)-1;x0(this,B,h,U,q,0)}let X=U-1,Q=1;this[h+X]=B&255;while(--X>=0&&(Q*=256))this[h+X]=B/Q&255;return h+U};R.prototype.writeUint8=R.prototype.writeUInt8=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,1,255,0);return this[h]=B&255,h+1};R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,2,65535,0);return this[h]=B&255,this[h+1]=B>>>8,h+2};R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,2,65535,0);return this[h]=B>>>8,this[h+1]=B&255,h+2};R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,4,4294967295,0);return this[h+3]=B>>>24,this[h+2]=B>>>16,this[h+1]=B>>>8,this[h]=B&255,h+4};R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,4,4294967295,0);return this[h]=B>>>24,this[h+1]=B>>>16,this[h+2]=B>>>8,this[h+3]=B&255,h+4};R.prototype.writeBigUInt64LE=n0(function(B,h=0){return a1(this,B,h,BigInt(0),BigInt("0xffffffffffffffff"))});R.prototype.writeBigUInt64BE=n0(function(B,h=0){return s1(this,B,h,BigInt(0),BigInt("0xffffffffffffffff"))});R.prototype.writeIntLE=function(B,h,U,I){if(B=+B,h=h>>>0,!I){let Y=Math.pow(2,8*U-1);x0(this,B,h,U,Y-1,-Y)}let X=0,Q=1,q=0;this[h]=B&255;while(++X<U&&(Q*=256)){if(B<0&&q===0&&this[h+X-1]!==0)q=1;this[h+X]=(B/Q>>0)-q&255}return h+U};R.prototype.writeIntBE=function(B,h,U,I){if(B=+B,h=h>>>0,!I){let Y=Math.pow(2,8*U-1);x0(this,B,h,U,Y-1,-Y)}let X=U-1,Q=1,q=0;this[h+X]=B&255;while(--X>=0&&(Q*=256)){if(B<0&&q===0&&this[h+X+1]!==0)q=1;this[h+X]=(B/Q>>0)-q&255}return h+U};R.prototype.writeInt8=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,1,127,-128);if(B<0)B=255+B+1;return this[h]=B&255,h+1};R.prototype.writeInt16LE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,2,32767,-32768);return this[h]=B&255,this[h+1]=B>>>8,h+2};R.prototype.writeInt16BE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,2,32767,-32768);return this[h]=B>>>8,this[h+1]=B&255,h+2};R.prototype.writeInt32LE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,4,2147483647,-2147483648);return this[h]=B&255,this[h+1]=B>>>8,this[h+2]=B>>>16,this[h+3]=B>>>24,h+4};R.prototype.writeInt32BE=function(B,h,U){if(B=+B,h=h>>>0,!U)x0(this,B,h,4,2147483647,-2147483648);if(B<0)B=4294967295+B+1;return this[h]=B>>>24,this[h+1]=B>>>16,this[h+2]=B>>>8,this[h+3]=B&255,h+4};R.prototype.writeBigInt64LE=n0(function(B,h=0){return a1(this,B,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});R.prototype.writeBigInt64BE=n0(function(B,h=0){return s1(this,B,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});R.prototype.writeFloatLE=function(B,h,U){return e1(this,B,h,!0,U)};R.prototype.writeFloatBE=function(B,h,U){return e1(this,B,h,!1,U)};R.prototype.writeDoubleLE=function(B,h,U){return B6(this,B,h,!0,U)};R.prototype.writeDoubleBE=function(B,h,U){return B6(this,B,h,!1,U)};R.prototype.copy=function(B,h,U,I){if(!R.isBuffer(B))throw TypeError("argument should be a Buffer");if(!U)U=0;if(!I&&I!==0)I=this.length;if(h>=B.length)h=B.length;if(!h)h=0;if(I>0&&I<U)I=U;if(I===U)return 0;if(B.length===0||this.length===0)return 0;if(h<0)throw RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw RangeError("Index out of range");if(I<0)throw RangeError("sourceEnd out of bounds");if(I>this.length)I=this.length;if(B.length-h<I-U)I=B.length-h+U;let X=I-U;if(this===B&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(h,U,I);else Uint8Array.prototype.set.call(B,this.subarray(U,I),h);return X};R.prototype.fill=function(B,h,U,I){if(typeof B==="string"){if(typeof h==="string")I=h,h=0,U=this.length;else if(typeof U==="string")I=U,U=this.length;if(I!==void 0&&typeof I!=="string")throw TypeError("encoding must be a string");if(typeof I==="string"&&!R.isEncoding(I))throw TypeError("Unknown encoding: "+I);if(B.length===1){let Q=B.charCodeAt(0);if(I==="utf8"&&Q<128||I==="latin1")B=Q}}else if(typeof B==="number")B=B&255;else if(typeof B==="boolean")B=Number(B);if(h<0||this.length<h||this.length<U)throw RangeError("Out of range index");if(U<=h)return this;if(h=h>>>0,U=U===void 0?this.length:U>>>0,!B)B=0;let X;if(typeof B==="number")for(X=h;X<U;++X)this[X]=B;else{let Q=R.isBuffer(B)?B:R.from(B,I),q=Q.length;if(q===0)throw TypeError('The value "'+B+'" is invalid for argument "value"');for(X=0;X<U-h;++X)this[X+h]=Q[X%q]}return this};T8=/[^+/0-9A-Za-z-_]/g;S8=function(){let w=Array(256);for(let B=0;B<16;++B){let h=B*16;for(let U=0;U<16;++U)w[h+U]="0123456789abcdef"[B]+"0123456789abcdef"[U]}return w}();y8=t2("resolveObjectURL"),c8=t2("isUtf8"),u8=t2("transcode"),g8=R});var E2={};O1(E2,{setMaxListeners:()=>Y6,once:()=>K6,listenerCount:()=>$6,init:()=>r0,getMaxListeners:()=>G6,getEventListeners:()=>H6,default:()=>o8,captureRejectionSymbol:()=>Z6,addAbortListener:()=>W6,EventEmitter:()=>r0});function J6(w,B){var{_events:h}=w;if(B[0]??=Error("Unhandled error."),!h)throw B[0];var U=h[Q6];if(U)for(var I of I6.call(U))I.apply(w,B);var X=h.error;if(!X)throw B[0];for(var I of I6.call(X))I.apply(w,B);return!0}function d8(w,B,h,U){B.then(void 0,function(I){queueMicrotask(()=>i8(w,I,h,U))})}function i8(w,B,h,U){if(typeof w[U6]==="function")w[U6](B,h,...U);else try{w[I2]=!1,w.emit("error",B)}finally{w[I2]=!0}}function F6(w,B,h){h.warned=!0;let U=Error(`Possible EventEmitter memory leak detected. ${h.length} ${String(B)} listeners added to [${w.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);U.name="MaxListenersExceededWarning",U.emitter=w,U.type=B,U.count=h.length,console.warn(U)}function q6(w,B,...h){this.removeListener(w,B),B.apply(this,h)}function K6(w,B,h){var U=h?.signal;if(z6(U,"options.signal"),U?.aborted)throw new e2(void 0,{cause:U?.reason});let{resolve:I,reject:X,promise:Q}=$newPromiseCapability(Promise),q=($)=>{if(w.removeListener(B,Y),U!=null)T2(U,"abort",K);X($)},Y=(...$)=>{if(typeof w.removeListener==="function")w.removeListener("error",q);if(U!=null)T2(U,"abort",K);I($)};if(X6(w,B,Y,{once:!0}),B!=="error"&&typeof w.once==="function")w.once("error",q);function K(){T2(w,B,Y),T2(w,"error",q),X(new e2(void 0,{cause:U?.reason}))}if(U!=null)X6(U,"abort",K,{once:!0});return Q}function H6(w,B){return w.listeners(B)}function Y6(w,...B){h1(w,"setMaxListeners",0);var h;if(B&&(h=B.length))for(let U=0;U<h;U++)B[U].setMaxListeners(w);else X2=w}function $6(w,B){return w.listenerCount(B)}function T2(w,B,h,U){if(typeof w.removeListener==="function")w.removeListener(B,h);else w.removeEventListener(B,h,U)}function X6(w,B,h,U){if(typeof w.on==="function")if(U.once)w.once(B,h);else w.on(B,h);else w.addEventListener(B,h,U)}function z2(w,B,h){let U=TypeError(`The "${w}" argument must be of type ${B}. Received ${h}`);return U.code="ERR_INVALID_ARG_TYPE",U}function n8(w,B,h){let U=RangeError(`The "${w}" argument is out of range. It must be ${B}. Received ${h}`);return U.code="ERR_OUT_OF_RANGE",U}function z6(w,B){if(w!==void 0&&(w===null||typeof w!=="object"||!("aborted"in w)))throw z2(B,"AbortSignal",w)}function h1(w,B,h,U){if(typeof w!=="number")throw z2(B,"number",w);if(h!=null&&w<h||U!=null&&w>U||(h!=null||U!=null)&&Number.isNaN(w))throw n8(B,`${h!=null?`>= ${h}`:""}${h!=null&&U!=null?" && ":""}${U!=null?`<= ${U}`:""}`,w)}function j2(w){if(typeof w!=="function")throw TypeError("The listener must be a function")}function r8(w,B){if(typeof w!=="boolean")throw z2(B,"boolean",w)}function G6(w){return w?._maxListeners??X2}function W6(w,B){if(w===void 0)throw z2("signal","AbortSignal",w);if(z6(w,"signal"),typeof B!=="function")throw z2("listener","function",B);let h;if(w.aborted)queueMicrotask(()=>B());else w.addEventListener("abort",B,{__proto__:null,once:!0}),h=()=>{w.removeEventListener("abort",B)};return{__proto__:null,[Symbol.dispose](){h?.()}}}var B1,I2,Q6,b8,p8,U6,Z6,I6,X2=10,r0=function(B){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[I2]=B?.captureRejections?Boolean(B?.captureRejections):G0[I2])this.emit=m8},G0,l8=function(B,...h){if(B==="error")return J6(this,h);var{_events:U}=this;if(U===void 0)return!1;var I=U[B];if(I===void 0)return!1;let X=I.length>1?I.slice():I;for(let Q=0,{length:q}=X;Q<q;Q++){let Y=X[Q];switch(h.length){case 0:Y.call(this);break;case 1:Y.call(this,h[0]);break;case 2:Y.call(this,h[0],h[1]);break;case 3:Y.call(this,h[0],h[1],h[2]);break;default:Y.apply(this,h);break}}return!0},m8=function(B,...h){if(B==="error")return J6(this,h);var{_events:U}=this;if(U===void 0)return!1;var I=U[B];if(I===void 0)return!1;let X=I.length>1?I.slice():I;for(let Q=0,{length:q}=X;Q<q;Q++){let Y=X[Q],K;switch(h.length){case 0:K=Y.call(this);break;case 1:K=Y.call(this,h[0]);break;case 2:K=Y.call(this,h[0],h[1]);break;case 3:K=Y.call(this,h[0],h[1],h[2]);break;default:K=Y.apply(this,h);break}if(K!==void 0&&typeof K?.then==="function"&&K.then===Promise.prototype.then)d8(this,K,B,h)}return!0},e2,o8;var L2=M1(()=>{B1=Symbol.for,I2=Symbol("kCapture"),Q6=B1("events.errorMonitor"),b8=Symbol("events.maxEventTargetListeners"),p8=Symbol("events.maxEventTargetListenersWarned"),U6=B1("nodejs.rejection"),Z6=B1("nodejs.rejection"),I6=Array.prototype.slice,G0=r0.prototype={};G0._events=void 0;G0._eventsCount=0;G0._maxListeners=void 0;G0.setMaxListeners=function(B){return h1(B,"setMaxListeners",0),this._maxListeners=B,this};G0.constructor=r0;G0.getMaxListeners=function(){return this?._maxListeners??X2};G0.emit=l8;G0.addListener=function(B,h){j2(h);var U=this._events;if(!U)U=this._events={__proto__:null},this._eventsCount=0;else if(U.newListener)this.emit("newListener",B,h.listener??h);var I=U[B];if(!I)U[B]=[h],this._eventsCount++;else{I.push(h);var X=this._maxListeners??X2;if(X>0&&I.length>X&&!I.warned)F6(this,B,I)}return this};G0.on=G0.addListener;G0.prependListener=function(B,h){j2(h);var U=this._events;if(!U)U=this._events={__proto__:null},this._eventsCount=0;else if(U.newListener)this.emit("newListener",B,h.listener??h);var I=U[B];if(!I)U[B]=[h],this._eventsCount++;else{I.unshift(h);var X=this._maxListeners??X2;if(X>0&&I.length>X&&!I.warned)F6(this,B,I)}return this};G0.once=function(B,h){j2(h);let U=q6.bind(this,B,h);return U.listener=h,this.addListener(B,U),this};G0.prependOnceListener=function(B,h){j2(h);let U=q6.bind(this,B,h);return U.listener=h,this.prependListener(B,U),this};G0.removeListener=function(B,h){j2(h);var{_events:U}=this;if(!U)return this;var I=U[B];if(!I)return this;var X=I.length;let Q=-1;for(let q=X-1;q>=0;q--)if(I[q]===h||I[q].listener===h){Q=q;break}if(Q<0)return this;if(Q===0)I.shift();else I.splice(Q,1);if(I.length===0)delete U[B],this._eventsCount--;return this};G0.off=G0.removeListener;G0.removeAllListeners=function(B){var{_events:h}=this;if(B&&h){if(h[B])delete h[B],this._eventsCount--}else this._events={__proto__:null};return this};G0.listeners=function(B){var{_events:h}=this;if(!h)return[];var U=h[B];if(!U)return[];return U.map((I)=>I.listener??I)};G0.rawListeners=function(B){var{_events:h}=this;if(!h)return[];var U=h[B];if(!U)return[];return U.slice()};G0.listenerCount=function(B){var{_events:h}=this;if(!h)return 0;return h[B]?.length??0};G0.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};G0[I2]=!1;e2=class e2 extends Error{constructor(w="The operation was aborted",B=void 0){if(B!==void 0&&typeof B!=="object")throw z2("options","Object",B);super(w,B);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(r0,{captureRejections:{get(){return G0[I2]},set(w){r8(w,"EventEmitter.captureRejections"),G0[I2]=w},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return X2},set:(w)=>{h1(w,"defaultMaxListeners",0),X2=w}},kMaxEventTargetListeners:{value:b8,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:p8,enumerable:!1,configurable:!1,writable:!1}});Object.assign(r0,{once:K6,getEventListeners:H6,getMaxListeners:G6,setMaxListeners:Y6,EventEmitter:r0,usingDomains:!1,captureRejectionSymbol:Z6,errorMonitor:Q6,addAbortListener:W6,init:r0,listenerCount:$6});o8=r0});var X1=r6((y4,O6)=>{var $0=(w,B)=>()=>(B||w((B={exports:{}}).exports,B),B.exports),W0=$0((w,B)=>{class h extends Error{constructor(U){if(!Array.isArray(U))throw TypeError(`Expected input to be an Array, got ${typeof U}`);let I="";for(let X=0;X<U.length;X++)I+=`    ${U[X].stack}
`;super(I);this.name="AggregateError",this.errors=U}}B.exports={AggregateError:h,ArrayIsArray(U){return Array.isArray(U)},ArrayPrototypeIncludes(U,I){return U.includes(I)},ArrayPrototypeIndexOf(U,I){return U.indexOf(I)},ArrayPrototypeJoin(U,I){return U.join(I)},ArrayPrototypeMap(U,I){return U.map(I)},ArrayPrototypePop(U,I){return U.pop(I)},ArrayPrototypePush(U,I){return U.push(I)},ArrayPrototypeSlice(U,I,X){return U.slice(I,X)},Error,FunctionPrototypeCall(U,I,...X){return U.call(I,...X)},FunctionPrototypeSymbolHasInstance(U,I){return Function.prototype[Symbol.hasInstance].call(U,I)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(U,I){return Object.defineProperties(U,I)},ObjectDefineProperty(U,I,X){return Object.defineProperty(U,I,X)},ObjectGetOwnPropertyDescriptor(U,I){return Object.getOwnPropertyDescriptor(U,I)},ObjectKeys(U){return Object.keys(U)},ObjectSetPrototypeOf(U,I){return Object.setPrototypeOf(U,I)},Promise,PromisePrototypeCatch(U,I){return U.catch(I)},PromisePrototypeThen(U,I,X){return U.then(I,X)},PromiseReject(U){return Promise.reject(U)},PromiseResolve(U){return Promise.resolve(U)},ReflectApply:Reflect.apply,RegExpPrototypeTest(U,I){return U.test(I)},SafeSet:Set,String,StringPrototypeSlice(U,I,X){return U.slice(I,X)},StringPrototypeToLowerCase(U){return U.toLowerCase()},StringPrototypeToUpperCase(U){return U.toUpperCase()},StringPrototypeTrim(U){return U.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(U,I,X){return U.set(I,X)},Boolean,Uint8Array}}),C6=$0((w,B)=>{B.exports={format(h,...U){return h.replace(/%([sdifj])/g,function(...[I,X]){let Q=U.shift();if(X==="f")return Q.toFixed(6);else if(X==="j")return JSON.stringify(Q);else if(X==="s"&&typeof Q==="object")return`${Q.constructor!==Object?Q.constructor.name:""} {}`.trim();else return Q.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'")){if(!h.includes('"'))return`"${h}"`;else if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}return`'${h}'`;case"number":if(isNaN(h))return"NaN";else if(Object.is(h,-0))return String(h);return h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}}}}),O0=$0((w,B)=>{var{format:h,inspect:U}=C6(),{AggregateError:I}=W0(),X=globalThis.AggregateError||I,Q=Symbol("kIsNodeError"),q=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Y=/^([A-Z][a-z0-9]*)+$/,K={};function $(E,F){if(!E)throw new K.ERR_INTERNAL_ASSERTION(F)}function j(E){let F="",W=E.length,L=E[0]==="-"?1:0;for(;W>=L+4;W-=3)F=`_${E.slice(W-3,W)}${F}`;return`${E.slice(0,W)}${F}`}function x(E,F,W){if(typeof F==="function")return $(F.length<=W.length,`Code: ${E}; The provided arguments length (${W.length}) does not match the required ones (${F.length}).`),F(...W);let L=(F.match(/%[dfijoOs]/g)||[]).length;if($(L===W.length,`Code: ${E}; The provided arguments length (${W.length}) does not match the required ones (${L}).`),W.length===0)return F;return h(F,...W)}function M(E,F,W){if(!W)W=Error;class L extends W{constructor(...T){super(x(E,F,T))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(L.prototype,{name:{value:W.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),L.prototype.code=E,L.prototype[Q]=!0,K[E]=L}function d(E){let F="__node_internal_"+E.name;return Object.defineProperty(E,"name",{value:F}),E}function s(E,F){if(E&&F&&E!==F){if(Array.isArray(F.errors))return F.errors.push(E),F;let W=new X([F,E],F.message);return W.code=F.code,W}return E||F}class c extends Error{constructor(E="The operation was aborted",F=void 0){if(F!==void 0&&typeof F!=="object")throw new K.ERR_INVALID_ARG_TYPE("options","Object",F);super(E,F);this.code="ABORT_ERR",this.name="AbortError"}}M("ERR_ASSERTION","%s",Error),M("ERR_INVALID_ARG_TYPE",(E,F,W)=>{if($(typeof E==="string","'name' must be a string"),!Array.isArray(F))F=[F];let L="The ";if(E.endsWith(" argument"))L+=`${E} `;else L+=`"${E}" ${E.includes(".")?"property":"argument"} `;L+="must be ";let T=[],a=[],h0=[];for(let t of F)if($(typeof t==="string","All expected entries have to be of type string"),q.includes(t))T.push(t.toLowerCase());else if(Y.test(t))a.push(t);else $(t!=="object",'The value "object" should be written as "Object"'),h0.push(t);if(a.length>0){let t=T.indexOf("object");if(t!==-1)T.splice(T,t,1),a.push("Object")}if(T.length>0){switch(T.length){case 1:L+=`of type ${T[0]}`;break;case 2:L+=`one of type ${T[0]} or ${T[1]}`;break;default:{let t=T.pop();L+=`one of type ${T.join(", ")}, or ${t}`}}if(a.length>0||h0.length>0)L+=" or "}if(a.length>0){switch(a.length){case 1:L+=`an instance of ${a[0]}`;break;case 2:L+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let t=a.pop();L+=`an instance of ${a.join(", ")}, or ${t}`}}if(h0.length>0)L+=" or "}switch(h0.length){case 0:break;case 1:if(h0[0].toLowerCase()!==h0[0])L+="an ";L+=`${h0[0]}`;break;case 2:L+=`one of ${h0[0]} or ${h0[1]}`;break;default:{let t=h0.pop();L+=`one of ${h0.join(", ")}, or ${t}`}}if(W==null)L+=`. Received ${W}`;else if(typeof W==="function"&&W.name)L+=`. Received function ${W.name}`;else if(typeof W==="object"){var Y0;if((Y0=W.constructor)!==null&&Y0!==void 0&&Y0.name)L+=`. Received an instance of ${W.constructor.name}`;else{let t=U(W,{depth:-1});L+=`. Received ${t}`}}else{let t=U(W,{colors:!1});if(t.length>25)t=`${t.slice(0,25)}...`;L+=`. Received type ${typeof W} (${t})`}return L},TypeError),M("ERR_INVALID_ARG_VALUE",(E,F,W="is invalid")=>{let L=U(F);if(L.length>128)L=L.slice(0,128)+"...";return`The ${E.includes(".")?"property":"argument"} '${E}' ${W}. Received ${L}`},TypeError),M("ERR_INVALID_RETURN_VALUE",(E,F,W)=>{var L;let T=W!==null&&W!==void 0&&(L=W.constructor)!==null&&L!==void 0&&L.name?`instance of ${W.constructor.name}`:`type ${typeof W}`;return`Expected ${E} to be returned from the "${F}" function but got ${T}.`},TypeError),M("ERR_MISSING_ARGS",(...E)=>{$(E.length>0,"At least one arg needs to be specified");let F,W=E.length;switch(E=(Array.isArray(E)?E:[E]).map((L)=>`"${L}"`).join(" or "),W){case 1:F+=`The ${E[0]} argument`;break;case 2:F+=`The ${E[0]} and ${E[1]} arguments`;break;default:{let L=E.pop();F+=`The ${E.join(", ")}, and ${L} arguments`}break}return`${F} must be specified`},TypeError),M("ERR_OUT_OF_RANGE",(E,F,W)=>{$(F,'Missing "range" argument');let L;if(Number.isInteger(W)&&Math.abs(W)>4294967296)L=j(String(W));else if(typeof W==="bigint"){L=String(W);let T=BigInt(2)**BigInt(32);if(W>T||W<-T)L=j(L);L+="n"}else L=U(W);return`The value of "${E}" is out of range. It must be ${F}. Received ${L}`},RangeError),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),M("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),M("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),M("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),M("ERR_STREAM_WRITE_AFTER_END","write after end",Error),M("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),B.exports={AbortError:c,aggregateTwoErrors:d(s),hideStackFrames:d,codes:K}}),a8=$0((w,B)=>{Object.defineProperty(w,"__esModule",{value:!0});var h=new WeakMap,U=new WeakMap;function I(D){let u=h.get(D);return console.assert(u!=null,"'this' is expected an Event object, but got",D),u}function X(D){if(D.passiveListener!=null){if(typeof console<"u"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",D.passiveListener);return}if(!D.event.cancelable)return;if(D.canceled=!0,typeof D.event.preventDefault==="function")D.event.preventDefault()}function Q(D,u){h.set(this,{eventTarget:D,event:u,eventPhase:2,currentTarget:D,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:u.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let A=Object.keys(u);for(let V=0;V<A.length;++V){let O=A[V];if(!(O in this))Object.defineProperty(this,O,q(O))}}if(Q.prototype={get type(){return I(this).event.type},get target(){return I(this).eventTarget},get currentTarget(){return I(this).currentTarget},composedPath(){let D=I(this).currentTarget;if(D==null)return[];return[D]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return I(this).eventPhase},stopPropagation(){let D=I(this);if(D.stopped=!0,typeof D.event.stopPropagation==="function")D.event.stopPropagation()},stopImmediatePropagation(){let D=I(this);if(D.stopped=!0,D.immediateStopped=!0,typeof D.event.stopImmediatePropagation==="function")D.event.stopImmediatePropagation()},get bubbles(){return Boolean(I(this).event.bubbles)},get cancelable(){return Boolean(I(this).event.cancelable)},preventDefault(){X(I(this))},get defaultPrevented(){return I(this).canceled},get composed(){return Boolean(I(this).event.composed)},get timeStamp(){return I(this).timeStamp},get srcElement(){return I(this).eventTarget},get cancelBubble(){return I(this).stopped},set cancelBubble(D){if(!D)return;let u=I(this);if(u.stopped=!0,typeof u.event.cancelBubble==="boolean")u.event.cancelBubble=!0},get returnValue(){return!I(this).canceled},set returnValue(D){if(!D)X(I(this))},initEvent(){}},Object.defineProperty(Q.prototype,"constructor",{value:Q,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u")Object.setPrototypeOf(Q.prototype,window.Event.prototype),U.set(window.Event.prototype,Q);function q(D){return{get(){return I(this).event[D]},set(u){I(this).event[D]=u},configurable:!0,enumerable:!0}}function Y(D){return{value(){let u=I(this).event;return u[D].apply(u,arguments)},configurable:!0,enumerable:!0}}function K(D,u){let A=Object.keys(u);if(A.length===0)return D;function V(O,N){D.call(this,O,N)}V.prototype=Object.create(D.prototype,{constructor:{value:V,configurable:!0,writable:!0}});for(let O=0;O<A.length;++O){let N=A[O];if(!(N in D.prototype)){let b=typeof Object.getOwnPropertyDescriptor(u,N).value==="function";Object.defineProperty(V.prototype,N,b?Y(N):q(N))}}return V}function $(D){if(D==null||D===Object.prototype)return Q;let u=U.get(D);if(u==null)u=K($(Object.getPrototypeOf(D)),D),U.set(D,u);return u}function j(D,u){return new($(Object.getPrototypeOf(u)))(D,u)}function x(D){return I(D).immediateStopped}function M(D,u){I(D).eventPhase=u}function d(D,u){I(D).currentTarget=u}function s(D,u){I(D).passiveListener=u}var c=new WeakMap,E=1,F=2,W=3;function L(D){return D!==null&&typeof D==="object"}function T(D){let u=c.get(D);if(u==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return u}function a(D){return{get(){let u=T(this).get(D);while(u!=null){if(u.listenerType===W)return u.listener;u=u.next}return null},set(u){if(typeof u!=="function"&&!L(u))u=null;let A=T(this),V=null,O=A.get(D);while(O!=null){if(O.listenerType===W)if(V!==null)V.next=O.next;else if(O.next!==null)A.set(D,O.next);else A.delete(D);else V=O;O=O.next}if(u!==null){let N={listener:u,listenerType:W,passive:!1,once:!1,next:null};if(V===null)A.set(D,N);else V.next=N}},configurable:!0,enumerable:!0}}function h0(D,u){Object.defineProperty(D,`on${u}`,a(u))}function Y0(D){function u(){t.call(this)}u.prototype=Object.create(t.prototype,{constructor:{value:u,configurable:!0,writable:!0}});for(let A=0;A<D.length;++A)h0(u.prototype,D[A]);return u}function t(){if(this instanceof t){c.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Y0(arguments[0]);if(arguments.length>0){let D=Array(arguments.length);for(let u=0;u<arguments.length;++u)D[u]=arguments[u];return Y0(D)}throw TypeError("Cannot call a class as a function")}if(t.prototype={addEventListener(D,u,A){if(u==null)return;if(typeof u!=="function"&&!L(u))throw TypeError("'listener' should be a function or an object.");let V=T(this),O=L(A),N=(O?Boolean(A.capture):Boolean(A))?E:F,b={listener:u,listenerType:N,passive:O&&Boolean(A.passive),once:O&&Boolean(A.once),next:null},e=V.get(D);if(e===void 0){V.set(D,b);return}let I0=null;while(e!=null){if(e.listener===u&&e.listenerType===N)return;I0=e,e=e.next}I0.next=b},removeEventListener(D,u,A){if(u==null)return;let V=T(this),O=(L(A)?Boolean(A.capture):Boolean(A))?E:F,N=null,b=V.get(D);while(b!=null){if(b.listener===u&&b.listenerType===O){if(N!==null)N.next=b.next;else if(b.next!==null)V.set(D,b.next);else V.delete(D);return}N=b,b=b.next}},dispatchEvent(D){if(D==null||typeof D.type!=="string")throw TypeError('"event.type" should be a string.');let u=T(this),A=D.type,V=u.get(A);if(V==null)return!0;let O=j(this,D),N=null;while(V!=null){if(V.once)if(N!==null)N.next=V.next;else if(V.next!==null)u.set(A,V.next);else u.delete(A);else N=V;if(s(O,V.passive?V.listener:null),typeof V.listener==="function")try{V.listener.call(this,O)}catch(b){if(typeof console<"u"&&typeof console.error==="function")console.error(b)}else if(V.listenerType!==W&&typeof V.listener.handleEvent==="function")V.listener.handleEvent(O);if(x(O))break;V=V.next}return s(O,null),M(O,0),d(O,null),!O.defaultPrevented}},Object.defineProperty(t.prototype,"constructor",{value:t,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u")Object.setPrototypeOf(t.prototype,window.EventTarget.prototype);w.defineEventAttribute=h0,w.EventTarget=t,w.default=t,B.exports=t,B.exports.EventTarget=B.exports.default=t,B.exports.defineEventAttribute=h0}),A2=$0((w,B)=>{Object.defineProperty(w,"__esModule",{value:!0});var h=a8();class U extends h.EventTarget{constructor(){super();throw TypeError("AbortSignal cannot be constructed directly")}get aborted(){let $=Q.get(this);if(typeof $!=="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return $}}h.defineEventAttribute(U.prototype,"abort");function I(){let $=Object.create(U.prototype);return h.EventTarget.call($),Q.set($,!1),$}function X($){if(Q.get($)!==!1)return;Q.set($,!0),$.dispatchEvent({type:"abort"})}var Q=new WeakMap;if(Object.defineProperties(U.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(U.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class q{constructor(){Y.set(this,I())}get signal(){return K(this)}abort(){X(K(this))}}var Y=new WeakMap;function K($){let j=Y.get($);if(j==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${$===null?"null":typeof $}`);return j}if(Object.defineProperties(q.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(q.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});w.AbortController=q,w.AbortSignal=U,w.default=q,B.exports=q,B.exports.AbortController=B.exports.default=q,B.exports.AbortSignal=U}),D0=$0((w,B)=>{var h=(p0(),_0(b0)),{format:U,inspect:I}=C6(),{codes:{ERR_INVALID_ARG_TYPE:X}}=O0(),{kResistStopPropagation:Q,AggregateError:q,SymbolDispose:Y}=W0(),K=globalThis.AbortSignal||A2().AbortSignal,$=globalThis.AbortController||A2().AbortController,j=Object.getPrototypeOf(async function(){}).constructor,x=globalThis.Blob||h.Blob,M=typeof x<"u"?function(E){return E instanceof x}:function(E){return!1},d=(c,E)=>{if(c!==void 0&&(c===null||typeof c!=="object"||!("aborted"in c)))throw new X(E,"AbortSignal",c)},s=(c,E)=>{if(typeof c!=="function")throw new X(E,"Function",c)};B.exports={AggregateError:q,kEmptyObject:Object.freeze({}),once(c){let E=!1;return function(...F){if(E)return;E=!0,c.apply(this,F)}},createDeferredPromise:function(){let c,E;return{promise:new Promise((F,W)=>{c=F,E=W}),resolve:c,reject:E}},promisify(c){return new Promise((E,F)=>{c((W,...L)=>{if(W)return F(W);return E(...L)})})},debuglog(){return function(){}},format:U,inspect:I,types:{isAsyncFunction(c){return c instanceof j},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:M,deprecate(c,E){return c},addAbortListener:(L2(),_0(E2)).addAbortListener||function(E,F){if(E===void 0)throw new X("signal","AbortSignal",E);d(E,"signal"),s(F,"listener");let W;if(E.aborted)queueMicrotask(()=>F());else E.addEventListener("abort",F,{__proto__:null,once:!0,[Q]:!0}),W=()=>{E.removeEventListener("abort",F)};return{__proto__:null,[Y](){var L;(L=W)===null||L===void 0||L()}}},AbortSignalAny:K.any||function(E){if(E.length===1)return E[0];let F=new $,W=()=>F.abort();return E.forEach((L)=>{d(L,"signals"),L.addEventListener("abort",W,{once:!0})}),F.signal.addEventListener("abort",()=>{E.forEach((L)=>L.removeEventListener("abort",W))},{once:!0}),F.signal}},B.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),O2=$0((w,B)=>{var{ArrayIsArray:h,ArrayPrototypeIncludes:U,ArrayPrototypeJoin:I,ArrayPrototypeMap:X,NumberIsInteger:Q,NumberIsNaN:q,NumberMAX_SAFE_INTEGER:Y,NumberMIN_SAFE_INTEGER:K,NumberParseInt:$,ObjectPrototypeHasOwnProperty:j,RegExpPrototypeExec:x,String:M,StringPrototypeToUpperCase:d,StringPrototypeTrim:s}=W0(),{hideStackFrames:c,codes:{ERR_SOCKET_BAD_PORT:E,ERR_INVALID_ARG_TYPE:F,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:L,ERR_UNKNOWN_SIGNAL:T}}=O0(),{normalizeEncoding:a}=D0(),{isAsyncFunction:h0,isArrayBufferView:Y0}=D0().types,t={};function D(G){return G===(G|0)}function u(G){return G===G>>>0}var A=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function O(G,y,o){if(typeof G>"u")G=o;if(typeof G==="string"){if(x(A,G)===null)throw new W(y,G,V);G=$(G,8)}return e(G,y),G}var N=c((G,y,o=K,g=Y)=>{if(typeof G!=="number")throw new F(y,"number",G);if(!Q(G))throw new L(y,"an integer",G);if(G<o||G>g)throw new L(y,`>= ${o} && <= ${g}`,G)}),b=c((G,y,o=-2147483648,g=2147483647)=>{if(typeof G!=="number")throw new F(y,"number",G);if(!Q(G))throw new L(y,"an integer",G);if(G<o||G>g)throw new L(y,`>= ${o} && <= ${g}`,G)}),e=c((G,y,o=!1)=>{if(typeof G!=="number")throw new F(y,"number",G);if(!Q(G))throw new L(y,"an integer",G);let g=o?1:0,Q0=4294967295;if(G<g||G>Q0)throw new L(y,`>= ${g} && <= ${Q0}`,G)});function I0(G,y){if(typeof G!=="string")throw new F(y,"string",G)}function K0(G,y,o=void 0,g){if(typeof G!=="number")throw new F(y,"number",G);if(o!=null&&G<o||g!=null&&G>g||(o!=null||g!=null)&&q(G))throw new L(y,`${o!=null?`>= ${o}`:""}${o!=null&&g!=null?" && ":""}${g!=null?`<= ${g}`:""}`,G)}var S=c((G,y,o)=>{if(!U(o,G)){let g="must be one of: "+I(X(o,(Q0)=>typeof Q0==="string"?`'${Q0}'`:M(Q0)),", ");throw new W(y,G,g)}});function X0(G,y){if(typeof G!=="boolean")throw new F(y,"boolean",G)}function H(G,y,o){return G==null||!j(G,y)?o:G[y]}var v=c((G,y,o=null)=>{let g=H(o,"allowArray",!1),Q0=H(o,"allowFunction",!1);if(!H(o,"nullable",!1)&&G===null||!g&&h(G)||typeof G!=="object"&&(!Q0||typeof G!=="function"))throw new F(y,"Object",G)}),B0=c((G,y)=>{if(G!=null&&typeof G!=="object"&&typeof G!=="function")throw new F(y,"a dictionary",G)}),_=c((G,y,o=0)=>{if(!h(G))throw new F(y,"Array",G);if(G.length<o){let g=`must be longer than ${o}`;throw new W(y,G,g)}});function U0(G,y){_(G,y);for(let o=0;o<G.length;o++)I0(G[o],`${y}[${o}]`)}function Z0(G,y){_(G,y);for(let o=0;o<G.length;o++)X0(G[o],`${y}[${o}]`)}function H0(G,y){_(G,y);for(let o=0;o<G.length;o++){let g=G[o],Q0=`${y}[${o}]`;if(g==null)throw new F(Q0,"AbortSignal",g);F0(g,Q0)}}function q0(G,y="signal"){if(I0(G,y),t[G]===void 0){if(t[d(G)]!==void 0)throw new T(G+" (signals must use all capital letters)");throw new T(G)}}var f=c((G,y="buffer")=>{if(!Y0(G))throw new F(y,["Buffer","TypedArray","DataView"],G)});function k(G,y){let o=a(y),g=G.length;if(o==="hex"&&g%2!==0)throw new W("encoding",y,`is invalid for data of length ${g}`)}function r(G,y="Port",o=!0){if(typeof G!=="number"&&typeof G!=="string"||typeof G==="string"&&s(G).length===0||+G!==+G>>>0||G>65535||G===0&&!o)throw new E(y,G,o);return G|0}var F0=c((G,y)=>{if(G!==void 0&&(G===null||typeof G!=="object"||!("aborted"in G)))throw new F(y,"AbortSignal",G)}),J0=c((G,y)=>{if(typeof G!=="function")throw new F(y,"Function",G)}),z=c((G,y)=>{if(typeof G!=="function"||h0(G))throw new F(y,"Function",G)}),C=c((G,y)=>{if(G!==void 0)throw new F(y,"undefined",G)});function P(G,y,o){if(!U(o,G))throw new F(y,`('${I(o,"|")}')`,G)}var i=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function m(G,y){if(typeof G>"u"||!x(i,G))throw new W(y,G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function p(G){if(typeof G==="string")return m(G,"hints"),G;else if(h(G)){let y=G.length,o="";if(y===0)return o;for(let g=0;g<y;g++){let Q0=G[g];if(m(Q0,"hints"),o+=Q0,g!==y-1)o+=", "}return o}throw new W("hints",G,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}B.exports={isInt32:D,isUint32:u,parseFileMode:O,validateArray:_,validateStringArray:U0,validateBooleanArray:Z0,validateAbortSignalArray:H0,validateBoolean:X0,validateBuffer:f,validateDictionary:B0,validateEncoding:k,validateFunction:J0,validateInt32:b,validateInteger:N,validateNumber:K0,validateObject:v,validateOneOf:S,validatePlainFunction:z,validatePort:r,validateSignalName:q0,validateString:I0,validateUint32:e,validateUndefined:C,validateUnion:P,validateAbortSignal:F0,validateLinkHeaderValue:p}}),Q2=$0((w,B)=>{B.exports=globalThis.process}),i0=$0((w,B)=>{var{SymbolAsyncIterator:h,SymbolIterator:U,SymbolFor:I}=W0(),X=I("nodejs.stream.destroyed"),Q=I("nodejs.stream.errored"),q=I("nodejs.stream.readable"),Y=I("nodejs.stream.writable"),K=I("nodejs.stream.disturbed"),$=I("nodejs.webstream.isClosedPromise"),j=I("nodejs.webstream.controllerErrorFunction");function x(H,v=!1){var B0;return!!(H&&typeof H.pipe==="function"&&typeof H.on==="function"&&(!v||typeof H.pause==="function"&&typeof H.resume==="function")&&(!H._writableState||((B0=H._readableState)===null||B0===void 0?void 0:B0.readable)!==!1)&&(!H._writableState||H._readableState))}function M(H){var v;return!!(H&&typeof H.write==="function"&&typeof H.on==="function"&&(!H._readableState||((v=H._writableState)===null||v===void 0?void 0:v.writable)!==!1))}function d(H){return!!(H&&typeof H.pipe==="function"&&H._readableState&&typeof H.on==="function"&&typeof H.write==="function")}function s(H){return H&&(H._readableState||H._writableState||typeof H.write==="function"&&typeof H.on==="function"||typeof H.pipe==="function"&&typeof H.on==="function")}function c(H){return!!(H&&!s(H)&&typeof H.pipeThrough==="function"&&typeof H.getReader==="function"&&typeof H.cancel==="function")}function E(H){return!!(H&&!s(H)&&typeof H.getWriter==="function"&&typeof H.abort==="function")}function F(H){return!!(H&&!s(H)&&typeof H.readable==="object"&&typeof H.writable==="object")}function W(H){return c(H)||E(H)||F(H)}function L(H,v){if(H==null)return!1;if(v===!0)return typeof H[h]==="function";if(v===!1)return typeof H[U]==="function";return typeof H[h]==="function"||typeof H[U]==="function"}function T(H){if(!s(H))return null;let{_writableState:v,_readableState:B0}=H,_=v||B0;return!!(H.destroyed||H[X]||_!==null&&_!==void 0&&_.destroyed)}function a(H){if(!M(H))return null;if(H.writableEnded===!0)return!0;let v=H._writableState;if(v!==null&&v!==void 0&&v.errored)return!1;if(typeof(v===null||v===void 0?void 0:v.ended)!=="boolean")return null;return v.ended}function h0(H,v){if(!M(H))return null;if(H.writableFinished===!0)return!0;let B0=H._writableState;if(B0!==null&&B0!==void 0&&B0.errored)return!1;if(typeof(B0===null||B0===void 0?void 0:B0.finished)!=="boolean")return null;return!!(B0.finished||v===!1&&B0.ended===!0&&B0.length===0)}function Y0(H){if(!x(H))return null;if(H.readableEnded===!0)return!0;let v=H._readableState;if(!v||v.errored)return!1;if(typeof(v===null||v===void 0?void 0:v.ended)!=="boolean")return null;return v.ended}function t(H,v){if(!x(H))return null;let B0=H._readableState;if(B0!==null&&B0!==void 0&&B0.errored)return!1;if(typeof(B0===null||B0===void 0?void 0:B0.endEmitted)!=="boolean")return null;return!!(B0.endEmitted||v===!1&&B0.ended===!0&&B0.length===0)}function D(H){if(H&&H[q]!=null)return H[q];if(typeof(H===null||H===void 0?void 0:H.readable)!=="boolean")return null;if(T(H))return!1;return x(H)&&H.readable&&!t(H)}function u(H){if(H&&H[Y]!=null)return H[Y];if(typeof(H===null||H===void 0?void 0:H.writable)!=="boolean")return null;if(T(H))return!1;return M(H)&&H.writable&&!a(H)}function A(H,v){if(!s(H))return null;if(T(H))return!0;if((v===null||v===void 0?void 0:v.readable)!==!1&&D(H))return!1;if((v===null||v===void 0?void 0:v.writable)!==!1&&u(H))return!1;return!0}function V(H){var v,B0;if(!s(H))return null;if(H.writableErrored)return H.writableErrored;return(v=(B0=H._writableState)===null||B0===void 0?void 0:B0.errored)!==null&&v!==void 0?v:null}function O(H){var v,B0;if(!s(H))return null;if(H.readableErrored)return H.readableErrored;return(v=(B0=H._readableState)===null||B0===void 0?void 0:B0.errored)!==null&&v!==void 0?v:null}function N(H){if(!s(H))return null;if(typeof H.closed==="boolean")return H.closed;let{_writableState:v,_readableState:B0}=H;if(typeof(v===null||v===void 0?void 0:v.closed)==="boolean"||typeof(B0===null||B0===void 0?void 0:B0.closed)==="boolean")return(v===null||v===void 0?void 0:v.closed)||(B0===null||B0===void 0?void 0:B0.closed);if(typeof H._closed==="boolean"&&b(H))return H._closed;return null}function b(H){return typeof H._closed==="boolean"&&typeof H._defaultKeepAlive==="boolean"&&typeof H._removedConnection==="boolean"&&typeof H._removedContLen==="boolean"}function e(H){return typeof H._sent100==="boolean"&&b(H)}function I0(H){var v;return typeof H._consuming==="boolean"&&typeof H._dumped==="boolean"&&((v=H.req)===null||v===void 0?void 0:v.upgradeOrConnect)===void 0}function K0(H){if(!s(H))return null;let{_writableState:v,_readableState:B0}=H,_=v||B0;return!_&&e(H)||!!(_&&_.autoDestroy&&_.emitClose&&_.closed===!1)}function S(H){var v;return!!(H&&((v=H[K])!==null&&v!==void 0?v:H.readableDidRead||H.readableAborted))}function X0(H){var v,B0,_,U0,Z0,H0,q0,f,k,r;return!!(H&&((v=(B0=(_=(U0=(Z0=(H0=H[Q])!==null&&H0!==void 0?H0:H.readableErrored)!==null&&Z0!==void 0?Z0:H.writableErrored)!==null&&U0!==void 0?U0:(q0=H._readableState)===null||q0===void 0?void 0:q0.errorEmitted)!==null&&_!==void 0?_:(f=H._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&B0!==void 0?B0:(k=H._readableState)===null||k===void 0?void 0:k.errored)!==null&&v!==void 0?v:(r=H._writableState)===null||r===void 0?void 0:r.errored))}B.exports={isDestroyed:T,kIsDestroyed:X,isDisturbed:S,kIsDisturbed:K,isErrored:X0,kIsErrored:Q,isReadable:D,kIsReadable:q,kIsClosedPromise:$,kControllerErrorFunction:j,kIsWritable:Y,isClosed:N,isDuplexNodeStream:d,isFinished:A,isIterable:L,isReadableNodeStream:x,isReadableStream:c,isReadableEnded:Y0,isReadableFinished:t,isReadableErrored:O,isNodeStream:s,isWebStream:W,isWritable:u,isWritableNodeStream:M,isWritableStream:E,isWritableEnded:a,isWritableFinished:h0,isWritableErrored:V,isServerRequest:I0,isServerResponse:e,willEmitClose:K0,isTransformStream:F}}),o0=$0((w,B)=>{var h=Q2(),{AbortError:U,codes:I}=O0(),{ERR_INVALID_ARG_TYPE:X,ERR_STREAM_PREMATURE_CLOSE:Q}=I,{kEmptyObject:q,once:Y}=D0(),{validateAbortSignal:K,validateFunction:$,validateObject:j,validateBoolean:x}=O2(),{Promise:M,PromisePrototypeThen:d,SymbolDispose:s}=W0(),{isClosed:c,isReadable:E,isReadableNodeStream:F,isReadableStream:W,isReadableFinished:L,isReadableErrored:T,isWritable:a,isWritableNodeStream:h0,isWritableStream:Y0,isWritableFinished:t,isWritableErrored:D,isNodeStream:u,willEmitClose:A,kIsClosedPromise:V}=i0(),O;function N(S){return S.setHeader&&typeof S.abort==="function"}var b=()=>{};function e(S,X0,H){var v,B0;if(arguments.length===2)H=X0,X0=q;else if(X0==null)X0=q;else j(X0,"options");if($(H,"callback"),K(X0.signal,"options.signal"),H=Y(H),W(S)||Y0(S))return I0(S,X0,H);if(!u(S))throw new X("stream",["ReadableStream","WritableStream","Stream"],S);let _=(v=X0.readable)!==null&&v!==void 0?v:F(S),U0=(B0=X0.writable)!==null&&B0!==void 0?B0:h0(S),Z0=S._writableState,H0=S._readableState,q0=()=>{if(!S.writable)r()},f=A(S)&&F(S)===_&&h0(S)===U0,k=t(S,!1),r=()=>{if(k=!0,S.destroyed)f=!1;if(f&&(!S.readable||_))return;if(!_||F0)H.call(S)},F0=L(S,!1),J0=()=>{if(F0=!0,S.destroyed)f=!1;if(f&&(!S.writable||U0))return;if(!U0||k)H.call(S)},z=(G)=>{H.call(S,G)},C=c(S),P=()=>{C=!0;let G=D(S)||T(S);if(G&&typeof G!=="boolean")return H.call(S,G);if(_&&!F0&&F(S,!0)){if(!L(S,!1))return H.call(S,new Q)}if(U0&&!k){if(!t(S,!1))return H.call(S,new Q)}H.call(S)},i=()=>{C=!0;let G=D(S)||T(S);if(G&&typeof G!=="boolean")return H.call(S,G);H.call(S)},m=()=>{S.req.on("finish",r)};if(N(S)){if(S.on("complete",r),!f)S.on("abort",P);if(S.req)m();else S.on("request",m)}else if(U0&&!Z0)S.on("end",q0),S.on("close",q0);if(!f&&typeof S.aborted==="boolean")S.on("aborted",P);if(S.on("end",J0),S.on("finish",r),X0.error!==!1)S.on("error",z);if(S.on("close",P),C)h.nextTick(P);else if(Z0!==null&&Z0!==void 0&&Z0.errorEmitted||H0!==null&&H0!==void 0&&H0.errorEmitted){if(!f)h.nextTick(i)}else if(!_&&(!f||E(S))&&(k||a(S)===!1))h.nextTick(i);else if(!U0&&(!f||a(S))&&(F0||E(S)===!1))h.nextTick(i);else if(H0&&S.req&&S.aborted)h.nextTick(i);let p=()=>{if(H=b,S.removeListener("aborted",P),S.removeListener("complete",r),S.removeListener("abort",P),S.removeListener("request",m),S.req)S.req.removeListener("finish",r);S.removeListener("end",q0),S.removeListener("close",q0),S.removeListener("finish",r),S.removeListener("end",J0),S.removeListener("error",z),S.removeListener("close",P)};if(X0.signal&&!C){let G=()=>{let y=H;p(),y.call(S,new U(void 0,{cause:X0.signal.reason}))};if(X0.signal.aborted)h.nextTick(G);else{O=O||D0().addAbortListener;let y=O(X0.signal,G),o=H;H=Y((...g)=>{y[s](),o.apply(S,g)})}}return p}function I0(S,X0,H){let v=!1,B0=b;if(X0.signal)if(B0=()=>{v=!0,H.call(S,new U(void 0,{cause:X0.signal.reason}))},X0.signal.aborted)h.nextTick(B0);else{O=O||D0().addAbortListener;let U0=O(X0.signal,B0),Z0=H;H=Y((...H0)=>{U0[s](),Z0.apply(S,H0)})}let _=(...U0)=>{if(!v)h.nextTick(()=>H.apply(S,U0))};return d(S[V].promise,_,_),b}function K0(S,X0){var H;let v=!1;if(X0===null)X0=q;if((H=X0)!==null&&H!==void 0&&H.cleanup)x(X0.cleanup,"cleanup"),v=X0.cleanup;return new M((B0,_)=>{let U0=e(S,X0,(Z0)=>{if(v)U0();if(Z0)_(Z0);else B0()})})}B.exports=e,B.exports.finished=K0}),G2=$0((w,B)=>{var h=Q2(),{aggregateTwoErrors:U,codes:{ERR_MULTIPLE_CALLBACK:I},AbortError:X}=O0(),{Symbol:Q}=W0(),{kIsDestroyed:q,isDestroyed:Y,isFinished:K,isServerRequest:$}=i0(),j=Q("kDestroy"),x=Q("kConstruct");function M(A,V,O){if(A){if(A.stack,V&&!V.errored)V.errored=A;if(O&&!O.errored)O.errored=A}}function d(A,V){let O=this._readableState,N=this._writableState,b=N||O;if(N!==null&&N!==void 0&&N.destroyed||O!==null&&O!==void 0&&O.destroyed){if(typeof V==="function")V();return this}if(M(A,N,O),N)N.destroyed=!0;if(O)O.destroyed=!0;if(!b.constructed)this.once(j,function(e){s(this,U(e,A),V)});else s(this,A,V);return this}function s(A,V,O){let N=!1;function b(e){if(N)return;N=!0;let{_readableState:I0,_writableState:K0}=A;if(M(e,K0,I0),K0)K0.closed=!0;if(I0)I0.closed=!0;if(typeof O==="function")O(e);if(e)h.nextTick(c,A,e);else h.nextTick(E,A)}try{A._destroy(V||null,b)}catch(e){b(e)}}function c(A,V){F(A,V),E(A)}function E(A){let{_readableState:V,_writableState:O}=A;if(O)O.closeEmitted=!0;if(V)V.closeEmitted=!0;if(O!==null&&O!==void 0&&O.emitClose||V!==null&&V!==void 0&&V.emitClose)A.emit("close")}function F(A,V){let{_readableState:O,_writableState:N}=A;if(N!==null&&N!==void 0&&N.errorEmitted||O!==null&&O!==void 0&&O.errorEmitted)return;if(N)N.errorEmitted=!0;if(O)O.errorEmitted=!0;A.emit("error",V)}function W(){let A=this._readableState,V=this._writableState;if(A)A.constructed=!0,A.closed=!1,A.closeEmitted=!1,A.destroyed=!1,A.errored=null,A.errorEmitted=!1,A.reading=!1,A.ended=A.readable===!1,A.endEmitted=A.readable===!1;if(V)V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1}function L(A,V,O){let{_readableState:N,_writableState:b}=A;if(b!==null&&b!==void 0&&b.destroyed||N!==null&&N!==void 0&&N.destroyed)return this;if(N!==null&&N!==void 0&&N.autoDestroy||b!==null&&b!==void 0&&b.autoDestroy)A.destroy(V);else if(V){if(V.stack,b&&!b.errored)b.errored=V;if(N&&!N.errored)N.errored=V;if(O)h.nextTick(F,A,V);else F(A,V)}}function T(A,V){if(typeof A._construct!=="function")return;let{_readableState:O,_writableState:N}=A;if(O)O.constructed=!1;if(N)N.constructed=!1;if(A.once(x,V),A.listenerCount(x)>1)return;h.nextTick(a,A)}function a(A){let V=!1;function O(N){if(V){L(A,N!==null&&N!==void 0?N:new I);return}V=!0;let{_readableState:b,_writableState:e}=A,I0=e||b;if(b)b.constructed=!0;if(e)e.constructed=!0;if(I0.destroyed)A.emit(j,N);else if(N)L(A,N,!0);else h.nextTick(h0,A)}try{A._construct((N)=>{h.nextTick(O,N)})}catch(N){h.nextTick(O,N)}}function h0(A){A.emit(x)}function Y0(A){return(A===null||A===void 0?void 0:A.setHeader)&&typeof A.abort==="function"}function t(A){A.emit("close")}function D(A,V){A.emit("error",V),h.nextTick(t,A)}function u(A,V){if(!A||Y(A))return;if(!V&&!K(A))V=new X;if($(A))A.socket=null,A.destroy(V);else if(Y0(A))A.abort();else if(Y0(A.req))A.req.abort();else if(typeof A.destroy==="function")A.destroy(V);else if(typeof A.close==="function")A.close();else if(V)h.nextTick(D,A,V);else h.nextTick(t,A);if(!A.destroyed)A[q]=!0}B.exports={construct:T,destroyer:u,destroy:d,undestroy:W,errorOrDestroy:L}}),w1=$0((w,B)=>{var{ArrayIsArray:h,ObjectSetPrototypeOf:U}=W0(),{EventEmitter:I}=(L2(),_0(E2));function X(q){I.call(this,q)}U(X.prototype,I.prototype),U(X,I),X.prototype.pipe=function(q,Y){let K=this;function $(E){if(q.writable&&q.write(E)===!1&&K.pause)K.pause()}K.on("data",$);function j(){if(K.readable&&K.resume)K.resume()}if(q.on("drain",j),!q._isStdio&&(!Y||Y.end!==!1))K.on("end",M),K.on("close",d);let x=!1;function M(){if(x)return;x=!0,q.end()}function d(){if(x)return;if(x=!0,typeof q.destroy==="function")q.destroy()}function s(E){if(c(),I.listenerCount(this,"error")===0)this.emit("error",E)}Q(K,"error",s),Q(q,"error",s);function c(){K.removeListener("data",$),q.removeListener("drain",j),K.removeListener("end",M),K.removeListener("close",d),K.removeListener("error",s),q.removeListener("error",s),K.removeListener("end",c),K.removeListener("close",c),q.removeListener("close",c)}return K.on("end",c),K.on("close",c),q.on("close",c),q.emit("pipe",K),q};function Q(q,Y,K){if(typeof q.prependListener==="function")return q.prependListener(Y,K);if(!q._events||!q._events[Y])q.on(Y,K);else if(h(q._events[Y]))q._events[Y].unshift(K);else q._events[Y]=[K,q._events[Y]]}B.exports={Stream:X,prependListener:Q}}),R2=$0((w,B)=>{var{SymbolDispose:h}=W0(),{AbortError:U,codes:I}=O0(),{isNodeStream:X,isWebStream:Q,kControllerErrorFunction:q}=i0(),Y=o0(),{ERR_INVALID_ARG_TYPE:K}=I,$,j=(x,M)=>{if(typeof x!=="object"||!("aborted"in x))throw new K(M,"AbortSignal",x)};B.exports.addAbortSignal=function(M,d){if(j(M,"signal"),!X(d)&&!Q(d))throw new K("stream",["ReadableStream","WritableStream","Stream"],d);return B.exports.addAbortSignalNoValidate(M,d)},B.exports.addAbortSignalNoValidate=function(x,M){if(typeof x!=="object"||!("aborted"in x))return M;let d=X(M)?()=>{M.destroy(new U(void 0,{cause:x.reason}))}:()=>{M[q](new U(void 0,{cause:x.reason}))};if(x.aborted)d();else{$=$||D0().addAbortListener;let s=$(x,d);Y(M,s[h])}return M}}),s8=$0((w,B)=>{var{StringPrototypeSlice:h,SymbolIterator:U,TypedArrayPrototypeSet:I,Uint8Array:X}=W0(),{Buffer:Q}=(p0(),_0(b0)),{inspect:q}=D0();B.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(K){let $={data:K,next:null};if(this.length>0)this.tail.next=$;else this.head=$;this.tail=$,++this.length}unshift(K){let $={data:K,next:this.head};if(this.length===0)this.tail=$;this.head=$,++this.length}shift(){if(this.length===0)return;let K=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,K}clear(){this.head=this.tail=null,this.length=0}join(K){if(this.length===0)return"";let $=this.head,j=""+$.data;while(($=$.next)!==null)j+=K+$.data;return j}concat(K){if(this.length===0)return Q.alloc(0);let $=Q.allocUnsafe(K>>>0),j=this.head,x=0;while(j)I($,j.data,x),x+=j.data.length,j=j.next;return $}consume(K,$){let j=this.head.data;if(K<j.length){let x=j.slice(0,K);return this.head.data=j.slice(K),x}if(K===j.length)return this.shift();return $?this._getString(K):this._getBuffer(K)}first(){return this.head.data}*[U](){for(let K=this.head;K;K=K.next)yield K.data}_getString(K){let $="",j=this.head,x=0;do{let M=j.data;if(K>M.length)$+=M,K-=M.length;else{if(K===M.length)if($+=M,++x,j.next)this.head=j.next;else this.head=this.tail=null;else $+=h(M,0,K),this.head=j,j.data=h(M,K);break}++x}while((j=j.next)!==null);return this.length-=x,$}_getBuffer(K){let $=Q.allocUnsafe(K),j=K,x=this.head,M=0;do{let d=x.data;if(K>d.length)I($,d,j-K),K-=d.length;else{if(K===d.length)if(I($,d,j-K),++M,x.next)this.head=x.next;else this.head=this.tail=null;else I($,new X(d.buffer,d.byteOffset,K),j-K),this.head=x,x.data=d.slice(K);break}++M}while((x=x.next)!==null);return this.length-=M,$}[Symbol.for("nodejs.util.inspect.custom")](K,$){return q(this,{...$,depth:0,customInspect:!1})}}}),_2=$0((w,B)=>{var{MathFloor:h,NumberIsInteger:U}=W0(),{validateInteger:I}=O2(),{ERR_INVALID_ARG_VALUE:X}=O0().codes,Q=16384,q=16;function Y(x,M,d){return x.highWaterMark!=null?x.highWaterMark:M?x[d]:null}function K(x){return x?q:Q}function $(x,M){if(I(M,"value",0),x)q=M;else Q=M}function j(x,M,d,s){let c=Y(M,s,d);if(c!=null){if(!U(c)||c<0){let E=s?`options.${d}`:"options.highWaterMark";throw new X(E,c)}return h(c)}return K(x.objectMode)}B.exports={getHighWaterMark:j,getDefaultHighWaterMark:K,setDefaultHighWaterMark:$}}),t8=$0((w,B)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var h=(p0(),_0(b0)),U=h.Buffer;function I(Q,q){for(var Y in Q)q[Y]=Q[Y]}if(U.from&&U.alloc&&U.allocUnsafe&&U.allocUnsafeSlow)B.exports=h;else I(h,w),w.Buffer=X;function X(Q,q,Y){return U(Q,q,Y)}X.prototype=Object.create(U.prototype),I(U,X),X.from=function(Q,q,Y){if(typeof Q==="number")throw TypeError("Argument must not be a number");return U(Q,q,Y)},X.alloc=function(Q,q,Y){if(typeof Q!=="number")throw TypeError("Argument must be a number");var K=U(Q);if(q!==void 0)if(typeof Y==="string")K.fill(q,Y);else K.fill(q);else K.fill(0);return K},X.allocUnsafe=function(Q){if(typeof Q!=="number")throw TypeError("Argument must be a number");return U(Q)},X.allocUnsafeSlow=function(Q){if(typeof Q!=="number")throw TypeError("Argument must be a number");return h.SlowBuffer(Q)}}),e8=$0((w)=>{var B=t8().Buffer,h=B.isEncoding||function(F){switch(F=""+F,F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function U(F){if(!F)return"utf8";var W;while(!0)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(W)return;F=(""+F).toLowerCase(),W=!0}}function I(F){var W=U(F);if(typeof W!=="string"&&(B.isEncoding===h||!h(F)))throw Error("Unknown encoding: "+F);return W||F}w.StringDecoder=X;function X(F){this.encoding=I(F);var W;switch(this.encoding){case"utf16le":this.text=x,this.end=M,W=4;break;case"utf8":this.fillLast=K,W=4;break;case"base64":this.text=d,this.end=s,W=3;break;default:this.write=c,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=B.allocUnsafe(W)}X.prototype.write=function(F){if(F.length===0)return"";var W,L;if(this.lastNeed){if(W=this.fillLast(F),W===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;if(L<F.length)return W?W+this.text(F,L):this.text(F,L);return W||""},X.prototype.end=j,X.prototype.text=$,X.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length};function Q(F){if(F<=127)return 0;else if(F>>5===6)return 2;else if(F>>4===14)return 3;else if(F>>3===30)return 4;return F>>6===2?-1:-2}function q(F,W,L){var T=W.length-1;if(T<L)return 0;var a=Q(W[T]);if(a>=0){if(a>0)F.lastNeed=a-1;return a}if(--T<L||a===-2)return 0;if(a=Q(W[T]),a>=0){if(a>0)F.lastNeed=a-2;return a}if(--T<L||a===-2)return 0;if(a=Q(W[T]),a>=0){if(a>0)if(a===2)a=0;else F.lastNeed=a-3;return a}return 0}function Y(F,W,L){if((W[0]&192)!==128)return F.lastNeed=0,"";if(F.lastNeed>1&&W.length>1){if((W[1]&192)!==128)return F.lastNeed=1,"";if(F.lastNeed>2&&W.length>2){if((W[2]&192)!==128)return F.lastNeed=2,""}}}function K(F){var W=this.lastTotal-this.lastNeed,L=Y(this,F,W);if(L!==void 0)return L;if(this.lastNeed<=F.length)return F.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,W,0,F.length),this.lastNeed-=F.length}function $(F,W){var L=q(this,F,W);if(!this.lastNeed)return F.toString("utf8",W);this.lastTotal=L;var T=F.length-(L-this.lastNeed);return F.copy(this.lastChar,0,T),F.toString("utf8",W,T)}function j(F){var W=F&&F.length?this.write(F):"";if(this.lastNeed)return W+"";return W}function x(F,W){if((F.length-W)%2===0){var L=F.toString("utf16le",W);if(L){var T=L.charCodeAt(L.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",W,F.length-1)}function M(F){var W=F&&F.length?this.write(F):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return W+this.lastChar.toString("utf16le",0,L)}return W}function d(F,W){var L=(F.length-W)%3;if(L===0)return F.toString("base64",W);if(this.lastNeed=3-L,this.lastTotal=3,L===1)this.lastChar[0]=F[F.length-1];else this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1];return F.toString("base64",W,F.length-L)}function s(F){var W=F&&F.length?this.write(F):"";if(this.lastNeed)return W+this.lastChar.toString("base64",0,3-this.lastNeed);return W}function c(F){return F.toString(this.encoding)}function E(F){return F&&F.length?this.write(F):""}}),N6=$0((w,B)=>{var h=Q2(),{PromisePrototypeThen:U,SymbolAsyncIterator:I,SymbolIterator:X}=W0(),{Buffer:Q}=(p0(),_0(b0)),{ERR_INVALID_ARG_TYPE:q,ERR_STREAM_NULL_VALUES:Y}=O0().codes;function K($,j,x){let M;if(typeof j==="string"||j instanceof Q)return new $({objectMode:!0,...x,read(){this.push(j),this.push(null)}});let d;if(j&&j[I])d=!0,M=j[I]();else if(j&&j[X])d=!1,M=j[X]();else throw new q("iterable",["Iterable"],j);let s=new $({objectMode:!0,highWaterMark:1,...x}),c=!1;s._read=function(){if(!c)c=!0,F()},s._destroy=function(W,L){U(E(W),()=>h.nextTick(L,W),(T)=>h.nextTick(L,T||W))};async function E(W){let L=W!==void 0&&W!==null,T=typeof M.throw==="function";if(L&&T){let{value:a,done:h0}=await M.throw(W);if(await a,h0)return}if(typeof M.return==="function"){let{value:a}=await M.return();await a}}async function F(){for(;;){try{let{value:W,done:L}=d?await M.next():M.next();if(L)s.push(null);else{let T=W&&typeof W.then==="function"?await W:W;if(T===null)throw c=!1,new Y;else if(s.push(T))continue;else c=!1}}catch(W){s.destroy(W)}break}}return s}B.exports=K}),f2=$0((w,B)=>{var h=Q2(),{ArrayPrototypeIndexOf:U,NumberIsInteger:I,NumberIsNaN:X,NumberParseInt:Q,ObjectDefineProperties:q,ObjectKeys:Y,ObjectSetPrototypeOf:K,Promise:$,SafeSet:j,SymbolAsyncDispose:x,SymbolAsyncIterator:M,Symbol:d}=W0();B.exports=g,g.ReadableState=o;var{EventEmitter:s}=(L2(),_0(E2)),{Stream:c,prependListener:E}=w1(),{Buffer:F}=(p0(),_0(b0)),{addAbortSignal:W}=R2(),L=o0(),T=D0().debuglog("stream",(Z)=>{T=Z}),a=s8(),h0=G2(),{getHighWaterMark:Y0,getDefaultHighWaterMark:t}=_2(),{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:u,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_OUT_OF_RANGE:V,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:N},AbortError:b}=O0(),{validateObject:e}=O2(),I0=d("kPaused"),{StringDecoder:K0}=e8(),S=N6();K(g.prototype,c.prototype),K(g,c);var X0=()=>{},{errorOrDestroy:H}=h0,v=1,B0=2,_=4,U0=8,Z0=16,H0=32,q0=64,f=128,k=256,r=512,F0=1024,J0=2048,z=4096,C=8192,P=16384,i=32768,m=65536,p=131072,G=262144;function y(Z){return{enumerable:!1,get(){return(this.state&Z)!==0},set(J){if(J)this.state|=Z;else this.state&=~Z}}}q(o.prototype,{objectMode:y(v),ended:y(B0),endEmitted:y(_),reading:y(U0),constructed:y(Z0),sync:y(H0),needReadable:y(q0),emittedReadable:y(f),readableListening:y(k),resumeScheduled:y(r),errorEmitted:y(F0),emitClose:y(J0),autoDestroy:y(z),destroyed:y(C),closed:y(P),closeEmitted:y(i),multiAwaitDrain:y(m),readingMore:y(p),dataEmitted:y(G)});function o(Z,J,l){if(typeof l!=="boolean")l=J instanceof d0();if(this.state=J0|z|Z0|H0,Z&&Z.objectMode)this.state|=v;if(l&&Z&&Z.readableObjectMode)this.state|=v;if(this.highWaterMark=Z?Y0(this,Z,"readableHighWaterMark",l):t(!1),this.buffer=new a,this.length=0,this.pipes=[],this.flowing=null,this[I0]=null,Z&&Z.emitClose===!1)this.state&=~J0;if(Z&&Z.autoDestroy===!1)this.state&=~z;if(this.errored=null,this.defaultEncoding=Z&&Z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Z&&Z.encoding)this.decoder=new K0(Z.encoding),this.encoding=Z.encoding}function g(Z){if(!(this instanceof g))return new g(Z);let J=this instanceof d0();if(this._readableState=new o(Z,this,J),Z){if(typeof Z.read==="function")this._read=Z.read;if(typeof Z.destroy==="function")this._destroy=Z.destroy;if(typeof Z.construct==="function")this._construct=Z.construct;if(Z.signal&&!J)W(Z.signal,this)}c.call(this,Z),h0.construct(this,()=>{if(this._readableState.needReadable)K2(this,this._readableState)})}g.prototype.destroy=h0.destroy,g.prototype._undestroy=h0.undestroy,g.prototype._destroy=function(Z,J){J(Z)},g.prototype[s.captureRejectionSymbol]=function(Z){this.destroy(Z)},g.prototype[x]=function(){let Z;if(!this.destroyed)Z=this.readableEnded?null:new b,this.destroy(Z);return new $((J,l)=>L(this,(n)=>n&&n!==Z?l(n):J(null)))},g.prototype.push=function(Z,J){return Q0(this,Z,J,!1)},g.prototype.unshift=function(Z,J){return Q0(this,Z,J,!0)};function Q0(Z,J,l,n){T("readableAddChunk",J);let w0=Z._readableState,A0;if((w0.state&v)===0){if(typeof J==="string"){if(l=l||w0.defaultEncoding,w0.encoding!==l)if(n&&w0.encoding)J=F.from(J,l).toString(w0.encoding);else J=F.from(J,l),l=""}else if(J instanceof F)l="";else if(c._isUint8Array(J))J=c._uint8ArrayToBuffer(J),l="";else if(J!=null)A0=new u("chunk",["string","Buffer","Uint8Array"],J)}if(A0)H(Z,A0);else if(J===null)w0.state&=~U0,L0(Z,w0);else if((w0.state&v)!==0||J&&J.length>0)if(n)if((w0.state&_)!==0)H(Z,new N);else if(w0.destroyed||w0.errored)return!1;else P0(Z,w0,J,!0);else if(w0.ended)H(Z,new O);else if(w0.destroyed||w0.errored)return!1;else if(w0.state&=~U0,w0.decoder&&!l)if(J=w0.decoder.write(J),w0.objectMode||J.length!==0)P0(Z,w0,J,!1);else K2(Z,w0);else P0(Z,w0,J,!1);else if(!n)w0.state&=~U0,K2(Z,w0);return!w0.ended&&(w0.length<w0.highWaterMark||w0.length===0)}function P0(Z,J,l,n){if(J.flowing&&J.length===0&&!J.sync&&Z.listenerCount("data")>0){if((J.state&m)!==0)J.awaitDrainWriters.clear();else J.awaitDrainWriters=null;J.dataEmitted=!0,Z.emit("data",l)}else{if(J.length+=J.objectMode?1:l.length,n)J.buffer.unshift(l);else J.buffer.push(l);if((J.state&q0)!==0)M0(Z)}K2(Z,J)}g.prototype.isPaused=function(){let Z=this._readableState;return Z[I0]===!0||Z.flowing===!1},g.prototype.setEncoding=function(Z){let J=new K0(Z);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;let l=this._readableState.buffer,n="";for(let w0 of l)n+=J.write(w0);if(l.clear(),n!=="")l.push(n);return this._readableState.length=n.length,this};var C0=1073741824;function j0(Z){if(Z>C0)throw new V("size","<= 1GiB",Z);else Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++;return Z}function a0(Z,J){if(Z<=0||J.length===0&&J.ended)return 0;if((J.state&v)!==0)return 1;if(X(Z)){if(J.flowing&&J.length)return J.buffer.first().length;return J.length}if(Z<=J.length)return Z;return J.ended?J.length:0}g.prototype.read=function(Z){if(T("read",Z),Z===void 0)Z=NaN;else if(!I(Z))Z=Q(Z,10);let J=this._readableState,l=Z;if(Z>J.highWaterMark)J.highWaterMark=j0(Z);if(Z!==0)J.state&=~f;if(Z===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended)){if(T("read: emitReadable",J.length,J.ended),J.length===0&&J.ended)S2(this);else M0(this);return null}if(Z=a0(Z,J),Z===0&&J.ended){if(J.length===0)S2(this);return null}let n=(J.state&q0)!==0;if(T("need readable",n),J.length===0||J.length-Z<J.highWaterMark)n=!0,T("length less than watermark",n);if(J.ended||J.reading||J.destroyed||J.errored||!J.constructed)n=!1,T("reading, ended or constructing",n);else if(n){if(T("do read"),J.state|=U0|H0,J.length===0)J.state|=q0;try{this._read(J.highWaterMark)}catch(A0){H(this,A0)}if(J.state&=~H0,!J.reading)Z=a0(l,J)}let w0;if(Z>0)w0=W1(Z,J);else w0=null;if(w0===null)J.needReadable=J.length<=J.highWaterMark,Z=0;else if(J.length-=Z,J.multiAwaitDrain)J.awaitDrainWriters.clear();else J.awaitDrainWriters=null;if(J.length===0){if(!J.ended)J.needReadable=!0;if(l!==Z&&J.ended)S2(this)}if(w0!==null&&!J.errorEmitted&&!J.closeEmitted)J.dataEmitted=!0,this.emit("data",w0);return w0};function L0(Z,J){if(T("onEofChunk"),J.ended)return;if(J.decoder){let l=J.decoder.end();if(l&&l.length)J.buffer.push(l),J.length+=J.objectMode?1:l.length}if(J.ended=!0,J.sync)M0(Z);else J.needReadable=!1,J.emittedReadable=!0,q2(Z)}function M0(Z){let J=Z._readableState;if(T("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,!J.emittedReadable)T("emitReadable",J.flowing),J.emittedReadable=!0,h.nextTick(q2,Z)}function q2(Z){let J=Z._readableState;if(T("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&!J.errored&&(J.length||J.ended))Z.emit("readable"),J.emittedReadable=!1;J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,z1(Z)}function K2(Z,J){if(!J.readingMore&&J.constructed)J.readingMore=!0,h.nextTick(k0,Z,J)}function k0(Z,J){while(!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0)){let l=J.length;if(T("maybeReadMore read 0"),Z.read(0),l===J.length)break}J.readingMore=!1}g.prototype._read=function(Z){throw new A("_read()")},g.prototype.pipe=function(Z,J){let l=this,n=this._readableState;if(n.pipes.length===1){if(!n.multiAwaitDrain)n.multiAwaitDrain=!0,n.awaitDrainWriters=new j(n.awaitDrainWriters?[n.awaitDrainWriters]:[])}n.pipes.push(Z),T("pipe count=%d opts=%j",n.pipes.length,J);let w0=(!J||J.end!==!1)&&Z!==h.stdout&&Z!==h.stderr?R0:W2;if(n.endEmitted)h.nextTick(w0);else l.once("end",w0);Z.on("unpipe",A0);function A0(t0,v0){if(T("onunpipe"),t0===l){if(v0&&v0.hasUnpiped===!1)v0.hasUnpiped=!0,d6()}}function R0(){T("onend"),Z.end()}let s0,N1=!1;function d6(){if(T("cleanup"),Z.removeListener("close",c2),Z.removeListener("finish",v2),s0)Z.removeListener("drain",s0);if(Z.removeListener("error",y2),Z.removeListener("unpipe",A0),l.removeListener("end",R0),l.removeListener("end",W2),l.removeListener("data",j1),N1=!0,s0&&n.awaitDrainWriters&&(!Z._writableState||Z._writableState.needDrain))s0()}function V1(){if(!N1){if(n.pipes.length===1&&n.pipes[0]===Z)T("false write response, pause",0),n.awaitDrainWriters=Z,n.multiAwaitDrain=!1;else if(n.pipes.length>1&&n.pipes.includes(Z))T("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(Z);l.pause()}if(!s0)s0=y6(l,Z),Z.on("drain",s0)}l.on("data",j1);function j1(t0){T("ondata");let v0=Z.write(t0);if(T("dest.write",v0),v0===!1)V1()}function y2(t0){if(T("onerror",t0),W2(),Z.removeListener("error",y2),Z.listenerCount("error")===0){let v0=Z._writableState||Z._readableState;if(v0&&!v0.errorEmitted)H(Z,t0);else Z.emit("error",t0)}}E(Z,"error",y2);function c2(){Z.removeListener("finish",v2),W2()}Z.once("close",c2);function v2(){T("onfinish"),Z.removeListener("close",c2),W2()}Z.once("finish",v2);function W2(){T("unpipe"),l.unpipe(Z)}if(Z.emit("pipe",l),Z.writableNeedDrain===!0)V1();else if(!n.flowing)T("pipe resume"),l.resume();return Z};function y6(Z,J){return function(){let n=Z._readableState;if(n.awaitDrainWriters===J)T("pipeOnDrain",1),n.awaitDrainWriters=null;else if(n.multiAwaitDrain)T("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(J);if((!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&Z.listenerCount("data"))Z.resume()}}g.prototype.unpipe=function(Z){let J=this._readableState,l={hasUnpiped:!1};if(J.pipes.length===0)return this;if(!Z){let w0=J.pipes;J.pipes=[],this.pause();for(let A0=0;A0<w0.length;A0++)w0[A0].emit("unpipe",this,{hasUnpiped:!1});return this}let n=U(J.pipes,Z);if(n===-1)return this;if(J.pipes.splice(n,1),J.pipes.length===0)this.pause();return Z.emit("unpipe",this,l),this},g.prototype.on=function(Z,J){let l=c.prototype.on.call(this,Z,J),n=this._readableState;if(Z==="data"){if(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1)this.resume()}else if(Z==="readable"){if(!n.endEmitted&&!n.readableListening){if(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,T("on readable",n.length,n.reading),n.length)M0(this);else if(!n.reading)h.nextTick(c6,this)}}return l},g.prototype.addListener=g.prototype.on,g.prototype.removeListener=function(Z,J){let l=c.prototype.removeListener.call(this,Z,J);if(Z==="readable")h.nextTick($1,this);return l},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(Z){let J=c.prototype.removeAllListeners.apply(this,arguments);if(Z==="readable"||Z===void 0)h.nextTick($1,this);return J};function $1(Z){let J=Z._readableState;if(J.readableListening=Z.listenerCount("readable")>0,J.resumeScheduled&&J[I0]===!1)J.flowing=!0;else if(Z.listenerCount("data")>0)Z.resume();else if(!J.readableListening)J.flowing=null}function c6(Z){T("readable nexttick read 0"),Z.read(0)}g.prototype.resume=function(){let Z=this._readableState;if(!Z.flowing)T("resume"),Z.flowing=!Z.readableListening,v6(this,Z);return Z[I0]=!1,this};function v6(Z,J){if(!J.resumeScheduled)J.resumeScheduled=!0,h.nextTick(u6,Z,J)}function u6(Z,J){if(T("resume",J.reading),!J.reading)Z.read(0);if(J.resumeScheduled=!1,Z.emit("resume"),z1(Z),J.flowing&&!J.reading)Z.read(0)}g.prototype.pause=function(){if(T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)T("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[I0]=!0,this};function z1(Z){let J=Z._readableState;T("flow",J.flowing);while(J.flowing&&Z.read()!==null);}g.prototype.wrap=function(Z){let J=!1;Z.on("data",(n)=>{if(!this.push(n)&&Z.pause)J=!0,Z.pause()}),Z.on("end",()=>{this.push(null)}),Z.on("error",(n)=>{H(this,n)}),Z.on("close",()=>{this.destroy()}),Z.on("destroy",()=>{this.destroy()}),this._read=()=>{if(J&&Z.resume)J=!1,Z.resume()};let l=Y(Z);for(let n=1;n<l.length;n++){let w0=l[n];if(this[w0]===void 0&&typeof Z[w0]==="function")this[w0]=Z[w0].bind(Z)}return this},g.prototype[M]=function(){return G1(this)},g.prototype.iterator=function(Z){if(Z!==void 0)e(Z,"options");return G1(this,Z)};function G1(Z,J){if(typeof Z.read!=="function")Z=g.wrap(Z,{objectMode:!0});let l=g6(Z,J);return l.stream=Z,l}async function*g6(Z,J){let l=X0;function n(R0){if(this===Z)l(),l=X0;else l=R0}Z.on("readable",n);let w0,A0=L(Z,{writable:!1},(R0)=>{w0=R0?D(w0,R0):null,l(),l=X0});try{while(!0){let R0=Z.destroyed?null:Z.read();if(R0!==null)yield R0;else if(w0)throw w0;else if(w0===null)return;else await new $(n)}}catch(R0){throw w0=D(w0,R0),w0}finally{if((w0||(J===null||J===void 0?void 0:J.destroyOnReturn)!==!1)&&(w0===void 0||Z._readableState.autoDestroy))h0.destroyer(Z,null);else Z.off("readable",n),A0()}}q(g.prototype,{readable:{__proto__:null,get(){let Z=this._readableState;return!!Z&&Z.readable!==!1&&!Z.destroyed&&!Z.errorEmitted&&!Z.endEmitted},set(Z){if(this._readableState)this._readableState.readable=!!Z}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){if(this._readableState)this._readableState.flowing=Z}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Z){if(!this._readableState)return;this._readableState.destroyed=Z}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),q(o.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[I0]!==!1},set(Z){this[I0]=!!Z}}}),g._fromList=W1;function W1(Z,J){if(J.length===0)return null;let l;if(J.objectMode)l=J.buffer.shift();else if(!Z||Z>=J.length){if(J.decoder)l=J.buffer.join("");else if(J.buffer.length===1)l=J.buffer.first();else l=J.buffer.concat(J.length);J.buffer.clear()}else l=J.buffer.consume(Z,J.decoder);return l}function S2(Z){let J=Z._readableState;if(T("endReadable",J.endEmitted),!J.endEmitted)J.ended=!0,h.nextTick(b6,J,Z)}function b6(Z,J){if(T("endReadableNT",Z.endEmitted,Z.length),!Z.errored&&!Z.closeEmitted&&!Z.endEmitted&&Z.length===0){if(Z.endEmitted=!0,J.emit("end"),J.writable&&J.allowHalfOpen===!1)h.nextTick(p6,J);else if(Z.autoDestroy){let l=J._writableState;if(!l||l.autoDestroy&&(l.finished||l.writable===!1))J.destroy()}}}function p6(Z){if(Z.writable&&!Z.writableEnded&&!Z.destroyed)Z.end()}g.from=function(Z,J){return S(g,Z,J)};var k2;function C1(){if(k2===void 0)k2={};return k2}g.fromWeb=function(Z,J){return C1().newStreamReadableFromReadableStream(Z,J)},g.toWeb=function(Z,J){return C1().newReadableStreamFromStreamReadable(Z,J)},g.wrap=function(Z,J){var l,n;return new g({objectMode:(l=(n=Z.readableObjectMode)!==null&&n!==void 0?n:Z.objectMode)!==null&&l!==void 0?l:!0,...J,destroy(w0,A0){h0.destroyer(Z,w0),A0(w0)}}).wrap(Z)}}),U1=$0((w,B)=>{var h=Q2(),{ArrayPrototypeSlice:U,Error:I,FunctionPrototypeSymbolHasInstance:X,ObjectDefineProperty:Q,ObjectDefineProperties:q,ObjectSetPrototypeOf:Y,StringPrototypeToLowerCase:K,Symbol:$,SymbolHasInstance:j}=W0();B.exports=e,e.WritableState=N;var{EventEmitter:x}=(L2(),_0(E2)),M=w1().Stream,{Buffer:d}=(p0(),_0(b0)),s=G2(),{addAbortSignal:c}=R2(),{getHighWaterMark:E,getDefaultHighWaterMark:F}=_2(),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:a,ERR_STREAM_DESTROYED:h0,ERR_STREAM_ALREADY_FINISHED:Y0,ERR_STREAM_NULL_VALUES:t,ERR_STREAM_WRITE_AFTER_END:D,ERR_UNKNOWN_ENCODING:u}=O0().codes,{errorOrDestroy:A}=s;Y(e.prototype,M.prototype),Y(e,M);function V(){}var O=$("kOnFinished");function N(z,C,P){if(typeof P!=="boolean")P=C instanceof d0();if(this.objectMode=!!(z&&z.objectMode),P)this.objectMode=this.objectMode||!!(z&&z.writableObjectMode);this.highWaterMark=z?E(this,z,"writableHighWaterMark",P):F(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(z&&z.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=H.bind(void 0,C),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,b(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function b(z){z.buffered=[],z.bufferedIndex=0,z.allBuffers=!0,z.allNoop=!0}N.prototype.getBuffer=function(){return U(this.buffered,this.bufferedIndex)},Q(N.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function e(z){let C=this instanceof d0();if(!C&&!X(e,this))return new e(z);if(this._writableState=new N(z,this,C),z){if(typeof z.write==="function")this._write=z.write;if(typeof z.writev==="function")this._writev=z.writev;if(typeof z.destroy==="function")this._destroy=z.destroy;if(typeof z.final==="function")this._final=z.final;if(typeof z.construct==="function")this._construct=z.construct;if(z.signal)c(z.signal,this)}M.call(this,z),s.construct(this,()=>{let P=this._writableState;if(!P.writing)U0(this,P);f(this,P)})}Q(e,j,{__proto__:null,value:function(z){if(X(this,z))return!0;if(this!==e)return!1;return z&&z._writableState instanceof N}}),e.prototype.pipe=function(){A(this,new a)};function I0(z,C,P,i){let m=z._writableState;if(typeof P==="function")i=P,P=m.defaultEncoding;else{if(!P)P=m.defaultEncoding;else if(P!=="buffer"&&!d.isEncoding(P))throw new u(P);if(typeof i!=="function")i=V}if(C===null)throw new t;else if(!m.objectMode)if(typeof C==="string"){if(m.decodeStrings!==!1)C=d.from(C,P),P="buffer"}else if(C instanceof d)P="buffer";else if(M._isUint8Array(C))C=M._uint8ArrayToBuffer(C),P="buffer";else throw new W("chunk",["string","Buffer","Uint8Array"],C);let p;if(m.ending)p=new D;else if(m.destroyed)p=new h0("write");if(p)return h.nextTick(i,p),A(z,p,!0),p;return m.pendingcb++,K0(z,m,C,P,i)}e.prototype.write=function(z,C,P){return I0(this,z,C,P)===!0},e.prototype.cork=function(){this._writableState.corked++},e.prototype.uncork=function(){let z=this._writableState;if(z.corked){if(z.corked--,!z.writing)U0(this,z)}},e.prototype.setDefaultEncoding=function(C){if(typeof C==="string")C=K(C);if(!d.isEncoding(C))throw new u(C);return this._writableState.defaultEncoding=C,this};function K0(z,C,P,i,m){let p=C.objectMode?1:P.length;C.length+=p;let G=C.length<C.highWaterMark;if(!G)C.needDrain=!0;if(C.writing||C.corked||C.errored||!C.constructed){if(C.buffered.push({chunk:P,encoding:i,callback:m}),C.allBuffers&&i!=="buffer")C.allBuffers=!1;if(C.allNoop&&m!==V)C.allNoop=!1}else C.writelen=p,C.writecb=m,C.writing=!0,C.sync=!0,z._write(P,i,C.onwrite),C.sync=!1;return G&&!C.errored&&!C.destroyed}function S(z,C,P,i,m,p,G){if(C.writelen=i,C.writecb=G,C.writing=!0,C.sync=!0,C.destroyed)C.onwrite(new h0("write"));else if(P)z._writev(m,C.onwrite);else z._write(m,p,C.onwrite);C.sync=!1}function X0(z,C,P,i){--C.pendingcb,i(P),_(C),A(z,P)}function H(z,C){let P=z._writableState,i=P.sync,m=P.writecb;if(typeof m!=="function"){A(z,new T);return}if(P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0,C){if(C.stack,!P.errored)P.errored=C;if(z._readableState&&!z._readableState.errored)z._readableState.errored=C;if(i)h.nextTick(X0,z,P,C,m);else X0(z,P,C,m)}else{if(P.buffered.length>P.bufferedIndex)U0(z,P);if(i)if(P.afterWriteTickInfo!==null&&P.afterWriteTickInfo.cb===m)P.afterWriteTickInfo.count++;else P.afterWriteTickInfo={count:1,cb:m,stream:z,state:P},h.nextTick(v,P.afterWriteTickInfo);else B0(z,P,1,m)}}function v({stream:z,state:C,count:P,cb:i}){return C.afterWriteTickInfo=null,B0(z,C,P,i)}function B0(z,C,P,i){if(!C.ending&&!z.destroyed&&C.length===0&&C.needDrain)C.needDrain=!1,z.emit("drain");while(P-- >0)C.pendingcb--,i();if(C.destroyed)_(C);f(z,C)}function _(z){if(z.writing)return;for(let m=z.bufferedIndex;m<z.buffered.length;++m){var C;let{chunk:p,callback:G}=z.buffered[m],y=z.objectMode?1:p.length;z.length-=y,G((C=z.errored)!==null&&C!==void 0?C:new h0("write"))}let P=z[O].splice(0);for(let m=0;m<P.length;m++){var i;P[m]((i=z.errored)!==null&&i!==void 0?i:new h0("end"))}b(z)}function U0(z,C){if(C.corked||C.bufferProcessing||C.destroyed||!C.constructed)return;let{buffered:P,bufferedIndex:i,objectMode:m}=C,p=P.length-i;if(!p)return;let G=i;if(C.bufferProcessing=!0,p>1&&z._writev){C.pendingcb-=p-1;let y=C.allNoop?V:(g)=>{for(let Q0=G;Q0<P.length;++Q0)P[Q0].callback(g)},o=C.allNoop&&G===0?P:U(P,G);o.allBuffers=C.allBuffers,S(z,C,!0,C.length,o,"",y),b(C)}else{do{let{chunk:y,encoding:o,callback:g}=P[G];P[G++]=null;let Q0=m?1:y.length;S(z,C,!1,Q0,y,o,g)}while(G<P.length&&!C.writing);if(G===P.length)b(C);else if(G>256)P.splice(0,G),C.bufferedIndex=0;else C.bufferedIndex=G}C.bufferProcessing=!1}e.prototype._write=function(z,C,P){if(this._writev)this._writev([{chunk:z,encoding:C}],P);else throw new L("_write()")},e.prototype._writev=null,e.prototype.end=function(z,C,P){let i=this._writableState;if(typeof z==="function")P=z,z=null,C=null;else if(typeof C==="function")P=C,C=null;let m;if(z!==null&&z!==void 0){let p=I0(this,z,C);if(p instanceof I)m=p}if(i.corked)i.corked=1,this.uncork();if(m);else if(!i.errored&&!i.ending)i.ending=!0,f(this,i,!0),i.ended=!0;else if(i.finished)m=new Y0("end");else if(i.destroyed)m=new h0("end");if(typeof P==="function")if(m||i.finished)h.nextTick(P,m);else i[O].push(P);return this};function Z0(z){return z.ending&&!z.destroyed&&z.constructed&&z.length===0&&!z.errored&&z.buffered.length===0&&!z.finished&&!z.writing&&!z.errorEmitted&&!z.closeEmitted}function H0(z,C){let P=!1;function i(m){if(P){A(z,m!==null&&m!==void 0?m:T());return}if(P=!0,C.pendingcb--,m){let p=C[O].splice(0);for(let G=0;G<p.length;G++)p[G](m);A(z,m,C.sync)}else if(Z0(C))C.prefinished=!0,z.emit("prefinish"),C.pendingcb++,h.nextTick(k,z,C)}C.sync=!0,C.pendingcb++;try{z._final(i)}catch(m){i(m)}C.sync=!1}function q0(z,C){if(!C.prefinished&&!C.finalCalled)if(typeof z._final==="function"&&!C.destroyed)C.finalCalled=!0,H0(z,C);else C.prefinished=!0,z.emit("prefinish")}function f(z,C,P){if(Z0(C)){if(q0(z,C),C.pendingcb===0){if(P)C.pendingcb++,h.nextTick((i,m)=>{if(Z0(m))k(i,m);else m.pendingcb--},z,C);else if(Z0(C))C.pendingcb++,k(z,C)}}}function k(z,C){C.pendingcb--,C.finished=!0;let P=C[O].splice(0);for(let i=0;i<P.length;i++)P[i]();if(z.emit("finish"),C.autoDestroy){let i=z._readableState;if(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))z.destroy()}}q(e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(z){if(this._writableState)this._writableState.destroyed=z}},writable:{__proto__:null,get(){let z=this._writableState;return!!z&&z.writable!==!1&&!z.destroyed&&!z.errored&&!z.ending&&!z.ended},set(z){if(this._writableState)this._writableState.writable=!!z}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let z=this._writableState;if(!z)return!1;return!z.destroyed&&!z.ending&&z.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var r=s.destroy;e.prototype.destroy=function(z,C){let P=this._writableState;if(!P.destroyed&&(P.bufferedIndex<P.buffered.length||P[O].length))h.nextTick(_,P);return r.call(this,z,C),this},e.prototype._undestroy=s.undestroy,e.prototype._destroy=function(z,C){C(z)},e.prototype[x.captureRejectionSymbol]=function(z){this.destroy(z)};var F0;function J0(){if(F0===void 0)F0={};return F0}e.fromWeb=function(z,C){return J0().newStreamWritableFromWritableStream(z,C)},e.toWeb=function(z){return J0().newWritableStreamFromStreamWritable(z)}}),B4=$0((w,B)=>{var h=Q2(),U=(p0(),_0(b0)),{isReadable:I,isWritable:X,isIterable:Q,isNodeStream:q,isReadableNodeStream:Y,isWritableNodeStream:K,isDuplexNodeStream:$,isReadableStream:j,isWritableStream:x}=i0(),M=o0(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:s,ERR_INVALID_RETURN_VALUE:c}}=O0(),{destroyer:E}=G2(),F=d0(),W=f2(),L=U1(),{createDeferredPromise:T}=D0(),a=N6(),h0=globalThis.Blob||U.Blob,Y0=typeof h0<"u"?function(N){return N instanceof h0}:function(N){return!1},t=globalThis.AbortController||A2().AbortController,{FunctionPrototypeCall:D}=W0();class u extends F{constructor(O){super(O);if((O===null||O===void 0?void 0:O.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((O===null||O===void 0?void 0:O.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}B.exports=function O(N,b){if($(N))return N;if(Y(N))return V({readable:N});if(K(N))return V({writable:N});if(q(N))return V({writable:!1,readable:!1});if(j(N))return V({readable:W.fromWeb(N)});if(x(N))return V({writable:L.fromWeb(N)});if(typeof N==="function"){let{value:I0,write:K0,final:S,destroy:X0}=A(N);if(Q(I0))return a(u,I0,{objectMode:!0,write:K0,final:S,destroy:X0});let H=I0===null||I0===void 0?void 0:I0.then;if(typeof H==="function"){let v,B0=D(H,I0,(_)=>{if(_!=null)throw new c("nully","body",_)},(_)=>{E(v,_)});return v=new u({objectMode:!0,readable:!1,write:K0,final(_){S(async()=>{try{await B0,h.nextTick(_,null)}catch(U0){h.nextTick(_,U0)}})},destroy:X0})}throw new c("Iterable, AsyncIterable or AsyncFunction",b,I0)}if(Y0(N))return O(N.arrayBuffer());if(Q(N))return a(u,N,{objectMode:!0,writable:!1});if(j(N===null||N===void 0?void 0:N.readable)&&x(N===null||N===void 0?void 0:N.writable))return u.fromWeb(N);if(typeof(N===null||N===void 0?void 0:N.writable)==="object"||typeof(N===null||N===void 0?void 0:N.readable)==="object"){let I0=N!==null&&N!==void 0&&N.readable?Y(N===null||N===void 0?void 0:N.readable)?N===null||N===void 0?void 0:N.readable:O(N.readable):void 0,K0=N!==null&&N!==void 0&&N.writable?K(N===null||N===void 0?void 0:N.writable)?N===null||N===void 0?void 0:N.writable:O(N.writable):void 0;return V({readable:I0,writable:K0})}let e=N===null||N===void 0?void 0:N.then;if(typeof e==="function"){let I0;return D(e,N,(K0)=>{if(K0!=null)I0.push(K0);I0.push(null)},(K0)=>{E(I0,K0)}),I0=new u({objectMode:!0,writable:!1,read(){}})}throw new s(b,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],N)};function A(O){let{promise:N,resolve:b}=T(),e=new t,I0=e.signal;return{value:O(async function*(){while(!0){let K0=N;N=null;let{chunk:S,done:X0,cb:H}=await K0;if(h.nextTick(H),X0)return;if(I0.aborted)throw new d(void 0,{cause:I0.reason});({promise:N,resolve:b}=T()),yield S}}(),{signal:I0}),write(K0,S,X0){let H=b;b=null,H({chunk:K0,done:!1,cb:X0})},final(K0){let S=b;b=null,S({done:!0,cb:K0})},destroy(K0,S){e.abort(),S(K0)}}}function V(O){let N=O.readable&&typeof O.readable.read!=="function"?W.wrap(O.readable):O.readable,b=O.writable,e=!!I(N),I0=!!X(b),K0,S,X0,H,v;function B0(_){let U0=H;if(H=null,U0)U0(_);else if(_)v.destroy(_)}if(v=new u({readableObjectMode:!!(N!==null&&N!==void 0&&N.readableObjectMode),writableObjectMode:!!(b!==null&&b!==void 0&&b.writableObjectMode),readable:e,writable:I0}),I0)M(b,(_)=>{if(I0=!1,_)E(N,_);B0(_)}),v._write=function(_,U0,Z0){if(b.write(_,U0))Z0();else K0=Z0},v._final=function(_){b.end(),S=_},b.on("drain",function(){if(K0){let _=K0;K0=null,_()}}),b.on("finish",function(){if(S){let _=S;S=null,_()}});if(e)M(N,(_)=>{if(e=!1,_)E(N,_);B0(_)}),N.on("readable",function(){if(X0){let _=X0;X0=null,_()}}),N.on("end",function(){v.push(null)}),v._read=function(){while(!0){let _=N.read();if(_===null){X0=v._read;return}if(!v.push(_))return}};return v._destroy=function(_,U0){if(!_&&H!==null)_=new d;if(X0=null,K0=null,S=null,H===null)U0(_);else H=U0,E(b,_),E(N,_)},v}}),d0=$0((w,B)=>{var{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:U,ObjectKeys:I,ObjectSetPrototypeOf:X}=W0();B.exports=Y;var Q=f2(),q=U1();X(Y.prototype,Q.prototype),X(Y,Q);{let x=I(q.prototype);for(let M=0;M<x.length;M++){let d=x[M];if(!Y.prototype[d])Y.prototype[d]=q.prototype[d]}}function Y(x){if(!(this instanceof Y))return new Y(x);if(Q.call(this,x),q.call(this,x),x){if(this.allowHalfOpen=x.allowHalfOpen!==!1,x.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(x.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}h(Y.prototype,{writable:{__proto__:null,...U(q.prototype,"writable")},writableHighWaterMark:{__proto__:null,...U(q.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...U(q.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...U(q.prototype,"writableBuffer")},writableLength:{__proto__:null,...U(q.prototype,"writableLength")},writableFinished:{__proto__:null,...U(q.prototype,"writableFinished")},writableCorked:{__proto__:null,...U(q.prototype,"writableCorked")},writableEnded:{__proto__:null,...U(q.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...U(q.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(x){if(this._readableState&&this._writableState)this._readableState.destroyed=x,this._writableState.destroyed=x}}});var K;function $(){if(K===void 0)K={};return K}Y.fromWeb=function(x,M){return $().newStreamDuplexFromReadableWritablePair(x,M)},Y.toWeb=function(x){return $().newReadableWritablePairFromDuplex(x)};var j;Y.from=function(x){if(!j)j=B4();return j(x,"body")}}),V6=$0((w,B)=>{var{ObjectSetPrototypeOf:h,Symbol:U}=W0();B.exports=Y;var{ERR_METHOD_NOT_IMPLEMENTED:I}=O0().codes,X=d0(),{getHighWaterMark:Q}=_2();h(Y.prototype,X.prototype),h(Y,X);var q=U("kCallback");function Y(j){if(!(this instanceof Y))return new Y(j);let x=j?Q(this,j,"readableHighWaterMark",!0):null;if(x===0)j={...j,highWaterMark:null,readableHighWaterMark:x,writableHighWaterMark:j.writableHighWaterMark||0};if(X.call(this,j),this._readableState.sync=!1,this[q]=null,j){if(typeof j.transform==="function")this._transform=j.transform;if(typeof j.flush==="function")this._flush=j.flush}this.on("prefinish",$)}function K(j){if(typeof this._flush==="function"&&!this.destroyed)this._flush((x,M)=>{if(x){if(j)j(x);else this.destroy(x);return}if(M!=null)this.push(M);if(this.push(null),j)j()});else if(this.push(null),j)j()}function $(){if(this._final!==K)K.call(this)}Y.prototype._final=K,Y.prototype._transform=function(j,x,M){throw new I("_transform()")},Y.prototype._write=function(j,x,M){let d=this._readableState,s=this._writableState,c=d.length;this._transform(j,x,(E,F)=>{if(E){M(E);return}if(F!=null)this.push(F);if(s.ended||c===d.length||d.length<d.highWaterMark)M();else this[q]=M})},Y.prototype._read=function(){if(this[q]){let j=this[q];this[q]=null,j()}}}),j6=$0((w,B)=>{var{ObjectSetPrototypeOf:h}=W0();B.exports=I;var U=V6();h(I.prototype,U.prototype),h(I,U);function I(X){if(!(this instanceof I))return new I(X);U.call(this,X)}I.prototype._transform=function(X,Q,q){q(null,X)}}),I1=$0((w,B)=>{var h=Q2(),{ArrayIsArray:U,Promise:I,SymbolAsyncIterator:X,SymbolDispose:Q}=W0(),q=o0(),{once:Y}=D0(),K=G2(),$=d0(),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:M,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:s,ERR_STREAM_PREMATURE_CLOSE:c},AbortError:E}=O0(),{validateFunction:F,validateAbortSignal:W}=O2(),{isIterable:L,isReadable:T,isReadableNodeStream:a,isNodeStream:h0,isTransformStream:Y0,isWebStream:t,isReadableStream:D,isReadableFinished:u}=i0(),A=globalThis.AbortController||A2().AbortController,V,O,N;function b(_,U0,Z0){let H0=!1;_.on("close",()=>{H0=!0});let q0=q(_,{readable:U0,writable:Z0},(f)=>{H0=!f});return{destroy:(f)=>{if(H0)return;H0=!0,K.destroyer(_,f||new s("pipe"))},cleanup:q0}}function e(_){return F(_[_.length-1],"streams[stream.length - 1]"),_.pop()}function I0(_){if(L(_))return _;else if(a(_))return K0(_);throw new x("val",["Readable","Iterable","AsyncIterable"],_)}async function*K0(_){if(!O)O=f2();yield*O.prototype[X].call(_)}async function S(_,U0,Z0,{end:H0}){let q0,f=null,k=(J0)=>{if(J0)q0=J0;if(f){let z=f;f=null,z()}},r=()=>new I((J0,z)=>{if(q0)z(q0);else f=()=>{if(q0)z(q0);else J0()}});U0.on("drain",k);let F0=q(U0,{readable:!1},k);try{if(U0.writableNeedDrain)await r();for await(let J0 of _)if(!U0.write(J0))await r();if(H0)U0.end(),await r();Z0()}catch(J0){Z0(q0!==J0?j(q0,J0):J0)}finally{F0(),U0.off("drain",k)}}async function X0(_,U0,Z0,{end:H0}){if(Y0(U0))U0=U0.writable;let q0=U0.getWriter();try{for await(let f of _)await q0.ready,q0.write(f).catch(()=>{});if(await q0.ready,H0)await q0.close();Z0()}catch(f){try{await q0.abort(f),Z0(f)}catch(k){Z0(k)}}}function H(..._){return v(_,Y(e(_)))}function v(_,U0,Z0){if(_.length===1&&U(_[0]))_=_[0];if(_.length<2)throw new d("streams");let H0=new A,q0=H0.signal,f=Z0===null||Z0===void 0?void 0:Z0.signal,k=[];W(f,"options.signal");function r(){m(new E)}N=N||D0().addAbortListener;let F0;if(f)F0=N(f,r);let J0,z,C=[],P=0;function i(g){m(g,--P===0)}function m(g,Q0){var P0;if(g&&(!J0||J0.code==="ERR_STREAM_PREMATURE_CLOSE"))J0=g;if(!J0&&!Q0)return;while(C.length)C.shift()(J0);if((P0=F0)===null||P0===void 0||P0[Q](),H0.abort(),Q0){if(!J0)k.forEach((C0)=>C0());h.nextTick(U0,J0,z)}}let p;for(let g=0;g<_.length;g++){let Q0=_[g],P0=g<_.length-1,C0=g>0,j0=P0||(Z0===null||Z0===void 0?void 0:Z0.end)!==!1,a0=g===_.length-1;if(h0(Q0)){let L0=function(M0){if(M0&&M0.name!=="AbortError"&&M0.code!=="ERR_STREAM_PREMATURE_CLOSE")i(M0)};var G=L0;if(j0){let{destroy:M0,cleanup:q2}=b(Q0,P0,C0);if(C.push(M0),T(Q0)&&a0)k.push(q2)}if(Q0.on("error",L0),T(Q0)&&a0)k.push(()=>{Q0.removeListener("error",L0)})}if(g===0)if(typeof Q0==="function"){if(p=Q0({signal:q0}),!L(p))throw new M("Iterable, AsyncIterable or Stream","source",p)}else if(L(Q0)||a(Q0)||Y0(Q0))p=Q0;else p=$.from(Q0);else if(typeof Q0==="function"){if(Y0(p)){var y;p=I0((y=p)===null||y===void 0?void 0:y.readable)}else p=I0(p);if(p=Q0(p,{signal:q0}),P0){if(!L(p,!0))throw new M("AsyncIterable",`transform[${g-1}]`,p)}else{var o;if(!V)V=j6();let L0=new V({objectMode:!0}),M0=(o=p)===null||o===void 0?void 0:o.then;if(typeof M0==="function")P++,M0.call(p,(k0)=>{if(z=k0,k0!=null)L0.write(k0);if(j0)L0.end();h.nextTick(i)},(k0)=>{L0.destroy(k0),h.nextTick(i,k0)});else if(L(p,!0))P++,S(p,L0,i,{end:j0});else if(D(p)||Y0(p)){let k0=p.readable||p;P++,S(k0,L0,i,{end:j0})}else throw new M("AsyncIterable or Promise","destination",p);p=L0;let{destroy:q2,cleanup:K2}=b(p,!1,!0);if(C.push(q2),a0)k.push(K2)}}else if(h0(Q0)){if(a(p)){P+=2;let L0=B0(p,Q0,i,{end:j0});if(T(Q0)&&a0)k.push(L0)}else if(Y0(p)||D(p)){let L0=p.readable||p;P++,S(L0,Q0,i,{end:j0})}else if(L(p))P++,S(p,Q0,i,{end:j0});else throw new x("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=Q0}else if(t(Q0)){if(a(p))P++,X0(I0(p),Q0,i,{end:j0});else if(D(p)||L(p))P++,X0(p,Q0,i,{end:j0});else if(Y0(p))P++,X0(p.readable,Q0,i,{end:j0});else throw new x("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=Q0}else p=$.from(Q0)}if(q0!==null&&q0!==void 0&&q0.aborted||f!==null&&f!==void 0&&f.aborted)h.nextTick(r);return p}function B0(_,U0,Z0,{end:H0}){let q0=!1;if(U0.on("close",()=>{if(!q0)Z0(new c)}),_.pipe(U0,{end:!1}),H0){let k=function(){q0=!0,U0.end()};var f=k;if(u(_))h.nextTick(k);else _.once("end",k)}else Z0();return q(_,{readable:!0,writable:!1},(k)=>{let r=_._readableState;if(k&&k.code==="ERR_STREAM_PREMATURE_CLOSE"&&r&&r.ended&&!r.errored&&!r.errorEmitted)_.once("end",Z0).once("error",Z0);else Z0(k)}),q(U0,{readable:!1,writable:!0},Z0)}B.exports={pipelineImpl:v,pipeline:H}}),E6=$0((w,B)=>{var{pipeline:h}=I1(),U=d0(),{destroyer:I}=G2(),{isNodeStream:X,isReadable:Q,isWritable:q,isWebStream:Y,isTransformStream:K,isWritableStream:$,isReadableStream:j}=i0(),{AbortError:x,codes:{ERR_INVALID_ARG_VALUE:M,ERR_MISSING_ARGS:d}}=O0(),s=o0();B.exports=function(...E){if(E.length===0)throw new d("streams");if(E.length===1)return U.from(E[0]);let F=[...E];if(typeof E[0]==="function")E[0]=U.from(E[0]);if(typeof E[E.length-1]==="function"){let V=E.length-1;E[V]=U.from(E[V])}for(let V=0;V<E.length;++V){if(!X(E[V])&&!Y(E[V]))continue;if(V<E.length-1&&!(Q(E[V])||j(E[V])||K(E[V])))throw new M(`streams[${V}]`,F[V],"must be readable");if(V>0&&!(q(E[V])||$(E[V])||K(E[V])))throw new M(`streams[${V}]`,F[V],"must be writable")}let W,L,T,a,h0;function Y0(V){let O=a;if(a=null,O)O(V);else if(V)h0.destroy(V);else if(!A&&!u)h0.destroy()}let t=E[0],D=h(E,Y0),u=!!(q(t)||$(t)||K(t)),A=!!(Q(D)||j(D)||K(D));if(h0=new U({writableObjectMode:!!(t!==null&&t!==void 0&&t.writableObjectMode),readableObjectMode:!!(D!==null&&D!==void 0&&D.readableObjectMode),writable:u,readable:A}),u){if(X(t))h0._write=function(O,N,b){if(t.write(O,N))b();else W=b},h0._final=function(O){t.end(),L=O},t.on("drain",function(){if(W){let O=W;W=null,O()}});else if(Y(t)){let O=(K(t)?t.writable:t).getWriter();h0._write=async function(N,b,e){try{await O.ready,O.write(N).catch(()=>{}),e()}catch(I0){e(I0)}},h0._final=async function(N){try{await O.ready,O.close().catch(()=>{}),L=N}catch(b){N(b)}}}let V=K(D)?D.readable:D;s(V,()=>{if(L){let O=L;L=null,O()}})}if(A){if(X(D))D.on("readable",function(){if(T){let V=T;T=null,V()}}),D.on("end",function(){h0.push(null)}),h0._read=function(){while(!0){let V=D.read();if(V===null){T=h0._read;return}if(!h0.push(V))return}};else if(Y(D)){let V=(K(D)?D.readable:D).getReader();h0._read=async function(){while(!0)try{let{value:O,done:N}=await V.read();if(!h0.push(O))return;if(N){h0.push(null);return}}catch{return}}}}return h0._destroy=function(V,O){if(!V&&a!==null)V=new x;if(T=null,W=null,L=null,a===null)O(V);else if(a=O,X(D))I(D,V)},h0}}),h4=$0((w,B)=>{var h=globalThis.AbortController||A2().AbortController,{codes:{ERR_INVALID_ARG_VALUE:U,ERR_INVALID_ARG_TYPE:I,ERR_MISSING_ARGS:X,ERR_OUT_OF_RANGE:Q},AbortError:q}=O0(),{validateAbortSignal:Y,validateInteger:K,validateObject:$}=O2(),j=W0().Symbol("kWeak"),x=W0().Symbol("kResistStopPropagation"),{finished:M}=o0(),d=E6(),{addAbortSignalNoValidate:s}=R2(),{isWritable:c,isNodeStream:E}=i0(),{deprecate:F}=D0(),{ArrayPrototypePush:W,Boolean:L,MathFloor:T,Number:a,NumberIsNaN:h0,Promise:Y0,PromiseReject:t,PromiseResolve:D,PromisePrototypeThen:u,Symbol:A}=W0(),V=A("kEmpty"),O=A("kEof");function N(f,k){if(k!=null)$(k,"options");if((k===null||k===void 0?void 0:k.signal)!=null)Y(k.signal,"options.signal");if(E(f)&&!c(f))throw new U("stream",f,"must be writable");let r=d(this,f);if(k!==null&&k!==void 0&&k.signal)s(k.signal,r);return r}function b(f,k){if(typeof f!=="function")throw new I("fn",["Function","AsyncFunction"],f);if(k!=null)$(k,"options");if((k===null||k===void 0?void 0:k.signal)!=null)Y(k.signal,"options.signal");let r=1;if((k===null||k===void 0?void 0:k.concurrency)!=null)r=T(k.concurrency);let F0=r-1;if((k===null||k===void 0?void 0:k.highWaterMark)!=null)F0=T(k.highWaterMark);return K(r,"options.concurrency",1),K(F0,"options.highWaterMark",0),F0+=r,async function*(){let z=D0().AbortSignalAny([k===null||k===void 0?void 0:k.signal].filter(L)),C=this,P=[],i={signal:z},m,p,G=!1,y=0;function o(){G=!0,g()}function g(){y-=1,Q0()}function Q0(){if(p&&!G&&y<r&&P.length<F0)p(),p=null}async function P0(){try{for await(let C0 of C){if(G)return;if(z.aborted)throw new q;try{if(C0=f(C0,i),C0===V)continue;C0=D(C0)}catch(j0){C0=t(j0)}if(y+=1,u(C0,g,o),P.push(C0),m)m(),m=null;if(!G&&(P.length>=F0||y>=r))await new Y0((j0)=>{p=j0})}P.push(O)}catch(C0){let j0=t(C0);u(j0,g,o),P.push(j0)}finally{if(G=!0,m)m(),m=null}}P0();try{while(!0){while(P.length>0){let C0=await P[0];if(C0===O)return;if(z.aborted)throw new q;if(C0!==V)yield C0;P.shift(),Q0()}await new Y0((C0)=>{m=C0})}}finally{if(G=!0,p)p(),p=null}}.call(this)}function e(f=void 0){if(f!=null)$(f,"options");if((f===null||f===void 0?void 0:f.signal)!=null)Y(f.signal,"options.signal");return async function*(){let r=0;for await(let J0 of this){var F0;if(f!==null&&f!==void 0&&(F0=f.signal)!==null&&F0!==void 0&&F0.aborted)throw new q({cause:f.signal.reason});yield[r++,J0]}}.call(this)}async function I0(f,k=void 0){for await(let r of H.call(this,f,k))return!0;return!1}async function K0(f,k=void 0){if(typeof f!=="function")throw new I("fn",["Function","AsyncFunction"],f);return!await I0.call(this,async(...r)=>{return!await f(...r)},k)}async function S(f,k){for await(let r of H.call(this,f,k))return r;return}async function X0(f,k){if(typeof f!=="function")throw new I("fn",["Function","AsyncFunction"],f);async function r(F0,J0){return await f(F0,J0),V}for await(let F0 of b.call(this,r,k));}function H(f,k){if(typeof f!=="function")throw new I("fn",["Function","AsyncFunction"],f);async function r(F0,J0){if(await f(F0,J0))return F0;return V}return b.call(this,r,k)}class v extends X{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function B0(f,k,r){var F0;if(typeof f!=="function")throw new I("reducer",["Function","AsyncFunction"],f);if(r!=null)$(r,"options");if((r===null||r===void 0?void 0:r.signal)!=null)Y(r.signal,"options.signal");let J0=arguments.length>1;if(r!==null&&r!==void 0&&(F0=r.signal)!==null&&F0!==void 0&&F0.aborted){let m=new q(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await M(this.destroy(m)),m}let z=new h,C=z.signal;if(r!==null&&r!==void 0&&r.signal){let m={once:!0,[j]:this,[x]:!0};r.signal.addEventListener("abort",()=>z.abort(),m)}let P=!1;try{for await(let m of this){var i;if(P=!0,r!==null&&r!==void 0&&(i=r.signal)!==null&&i!==void 0&&i.aborted)throw new q;if(!J0)k=m,J0=!0;else k=await f(k,m,{signal:C})}if(!P&&!J0)throw new v}finally{z.abort()}return k}async function _(f){if(f!=null)$(f,"options");if((f===null||f===void 0?void 0:f.signal)!=null)Y(f.signal,"options.signal");let k=[];for await(let F0 of this){var r;if(f!==null&&f!==void 0&&(r=f.signal)!==null&&r!==void 0&&r.aborted)throw new q(void 0,{cause:f.signal.reason});W(k,F0)}return k}function U0(f,k){let r=b.call(this,f,k);return async function*(){for await(let J0 of r)yield*J0}.call(this)}function Z0(f){if(f=a(f),h0(f))return 0;if(f<0)throw new Q("number",">= 0",f);return f}function H0(f,k=void 0){if(k!=null)$(k,"options");if((k===null||k===void 0?void 0:k.signal)!=null)Y(k.signal,"options.signal");return f=Z0(f),async function*(){var F0;if(k!==null&&k!==void 0&&(F0=k.signal)!==null&&F0!==void 0&&F0.aborted)throw new q;for await(let z of this){var J0;if(k!==null&&k!==void 0&&(J0=k.signal)!==null&&J0!==void 0&&J0.aborted)throw new q;if(f--<=0)yield z}}.call(this)}function q0(f,k=void 0){if(k!=null)$(k,"options");if((k===null||k===void 0?void 0:k.signal)!=null)Y(k.signal,"options.signal");return f=Z0(f),async function*(){var F0;if(k!==null&&k!==void 0&&(F0=k.signal)!==null&&F0!==void 0&&F0.aborted)throw new q;for await(let z of this){var J0;if(k!==null&&k!==void 0&&(J0=k.signal)!==null&&J0!==void 0&&J0.aborted)throw new q;if(f-- >0)yield z;if(f<=0)return}}.call(this)}B.exports.streamReturningOperators={asIndexedPairs:F(e,"readable.asIndexedPairs will be removed in a future version."),drop:H0,filter:H,flatMap:U0,map:b,take:q0,compose:N},B.exports.promiseReturningOperators={every:K0,forEach:X0,reduce:B0,toArray:_,some:I0,find:S}}),L6=$0((w,B)=>{var{ArrayPrototypePop:h,Promise:U}=W0(),{isIterable:I,isNodeStream:X,isWebStream:Q}=i0(),{pipelineImpl:q}=I1(),{finished:Y}=o0();A6();function K(...$){return new U((j,x)=>{let M,d,s=$[$.length-1];if(s&&typeof s==="object"&&!X(s)&&!I(s)&&!Q(s)){let c=h($);M=c.signal,d=c.end}q($,(c,E)=>{if(c)x(c);else j(E)},{signal:M,end:d})})}B.exports={finished:Y,pipeline:K}}),A6=$0((w,B)=>{var{Buffer:h}=(p0(),_0(b0)),{ObjectDefineProperty:U,ObjectKeys:I,ReflectApply:X}=W0(),{promisify:{custom:Q}}=D0(),{streamReturningOperators:q,promiseReturningOperators:Y}=h4(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:K}}=O0(),$=E6(),{setDefaultHighWaterMark:j,getDefaultHighWaterMark:x}=_2(),{pipeline:M}=I1(),{destroyer:d}=G2(),s=o0(),c=L6(),E=i0(),F=B.exports=w1().Stream;F.isDestroyed=E.isDestroyed,F.isDisturbed=E.isDisturbed,F.isErrored=E.isErrored,F.isReadable=E.isReadable,F.isWritable=E.isWritable,F.Readable=f2();for(let L of I(q)){let T=function(...h0){if(new.target)throw K();return F.Readable.from(X(a,this,h0))},a=q[L];U(T,"name",{__proto__:null,value:a.name}),U(T,"length",{__proto__:null,value:a.length}),U(F.Readable.prototype,L,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(let L of I(Y)){let T=function(...h0){if(new.target)throw K();return X(a,this,h0)},a=Y[L];U(T,"name",{__proto__:null,value:a.name}),U(T,"length",{__proto__:null,value:a.length}),U(F.Readable.prototype,L,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}F.Writable=U1(),F.Duplex=d0(),F.Transform=V6(),F.PassThrough=j6(),F.pipeline=M;var{addAbortSignal:W}=R2();F.addAbortSignal=W,F.finished=s,F.destroy=d,F.compose=$,F.setDefaultHighWaterMark=j,F.getDefaultHighWaterMark=x,U(F,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return c}}),U(M,Q,{__proto__:null,enumerable:!0,get(){return c.pipeline}}),U(s,Q,{__proto__:null,enumerable:!0,get(){return c.finished}}),F.Stream=F,F._isUint8Array=function(T){return T instanceof Uint8Array},F._uint8ArrayToBuffer=function(T){return h.from(T.buffer,T.byteOffset,T.byteLength)}}),w4=$0((w,B)=>{var h=X1();{let U=A6(),I=L6(),X=U.Readable.destroy;B.exports=U.Readable,B.exports._uint8ArrayToBuffer=U._uint8ArrayToBuffer,B.exports._isUint8Array=U._isUint8Array,B.exports.isDisturbed=U.isDisturbed,B.exports.isErrored=U.isErrored,B.exports.isReadable=U.isReadable,B.exports.Readable=U.Readable,B.exports.Writable=U.Writable,B.exports.Duplex=U.Duplex,B.exports.Transform=U.Transform,B.exports.PassThrough=U.PassThrough,B.exports.addAbortSignal=U.addAbortSignal,B.exports.finished=U.finished,B.exports.destroy=U.destroy,B.exports.destroy=X,B.exports.pipeline=U.pipeline,B.exports.compose=U.compose,Object.defineProperty(U,"promises",{configurable:!0,enumerable:!0,get(){return I}}),B.exports.Stream=U.Stream}B.exports.default=B.exports});O6.exports=w4()});import{logger as N0,ModelType as V0}from"@elizaos/core";import{logger as h2}from"@elizaos/core";import{logger as H2}from"@elizaos/core";function z0(w,B,h){return w.getSetting(B)??process.env[B]??h}function l0(){return typeof globalThis<"u"&&"document"in globalThis&&typeof globalThis.document<"u"}function x1(w){return l0()&&!!z0(w,"OPENAI_BROWSER_BASE_URL")}function f0(w,B=!1){if(l0())return{};let h=B?o6(w):Y2(w);return h?{Authorization:`Bearer ${h}`}:{}}function T0(w){let B=z0(w,"OPENAI_BROWSER_BASE_URL"),h=l0()&&B?B:z0(w,"OPENAI_BASE_URL","https://api.openai.com/v1");return H2.debug(`[OpenAI] Default base URL: ${h}`),h}function D1(w){let B=l0()?z0(w,"OPENAI_BROWSER_EMBEDDING_URL")||z0(w,"OPENAI_BROWSER_BASE_URL"):z0(w,"OPENAI_EMBEDDING_URL");if(B)return H2.debug(`[OpenAI] Using specific embedding base URL: ${B}`),B;return H2.debug("[OpenAI] Falling back to general base URL for embeddings."),T0(w)}function Y2(w){return z0(w,"OPENAI_API_KEY")}function o6(w){let B=z0(w,"OPENAI_EMBEDDING_API_KEY");if(B)return H2.debug("[OpenAI] Using specific embedding API key (present)"),B;return H2.debug("[OpenAI] Falling back to general API key for embeddings."),Y2(w)}function e0(w){return z0(w,"OPENAI_SMALL_MODEL")??z0(w,"SMALL_MODEL","gpt-4o-mini")}function B2(w){return z0(w,"OPENAI_LARGE_MODEL")??z0(w,"LARGE_MODEL","gpt-4o")}function P1(w){return z0(w,"OPENAI_IMAGE_DESCRIPTION_MODEL","gpt-5-nano")}function T1(w){let B=z0(w,"OPENAI_EXPERIMENTAL_TELEMETRY","false"),h=String(B).toLowerCase(),U=h==="true";return H2.debug(`[OpenAI] Experimental telemetry in function: "${B}" (type: ${typeof B}, normalized: "${h}", result: ${U})`),U}function R1(w,B){(async()=>{try{if(!Y2(B)&&!l0()){h2.warn("OPENAI_API_KEY is not set in environment - OpenAI functionality will be limited");return}try{let h=T0(B),U=await fetch(`${h}/models`,{headers:f0(B)});if(!U.ok)h2.warn(`OpenAI API key validation failed: ${U.statusText}`),h2.warn("OpenAI functionality will be limited until a valid API key is provided");else h2.log("OpenAI API key validated successfully")}catch(h){let U=h instanceof Error?h.message:String(h);h2.warn(`Error validating OpenAI API key: ${U}`),h2.warn("OpenAI functionality will be limited until a valid API key is provided")}}catch(h){let U=h?.errors?.map((I)=>I.message).join(", ")||(h instanceof Error?h.message:String(h));h2.warn(`OpenAI plugin configuration issue: ${U} - You need to configure the OPENAI_API_KEY in your environment variables`)}})()}import{logger as _1,ModelType as f1}from"@elizaos/core";import{generateText as t6}from"ai";import{createOpenAI as a6}from"@ai-sdk/openai";function M2(w){let B=T0(w),h=Y2(w)??(x1(w)?"sk-proxy":void 0);return a6({apiKey:h??"",baseURL:B})}import{EventType as s6}from"@elizaos/core";function m0(w,B,h,U){let I=("promptTokens"in U?U.promptTokens:void 0)??("inputTokens"in U?U.inputTokens:void 0)??0,X=("completionTokens"in U?U.completionTokens:void 0)??("outputTokens"in U?U.outputTokens:void 0)??0,Q=("totalTokens"in U?U.totalTokens:void 0)??I+X;w.emitEvent(s6.MODEL_USED,{provider:"openai",type:B,prompt:h,tokens:{prompt:I,completion:X,total:Q}})}async function S1(w,B,h,U){let I=M2(w),X=U(w),Q=T1(w);_1.log(`[OpenAI] Using ${h} model: ${X}`),_1.log(B.prompt);let{prompt:q,stopSequences:Y=[],maxTokens:K=8192,temperature:$=0.7,frequencyPenalty:j=0.7,presencePenalty:x=0.7}=B,{text:M,usage:d}=await t6({model:I.languageModel(X),prompt:q,system:w.character.system??void 0,temperature:$,maxOutputTokens:K,frequencyPenalty:j,presencePenalty:x,stopSequences:Y,experimental_telemetry:{isEnabled:Q}});if(d)m0(w,h,q,d);return M}async function u2(w,B){return S1(w,B,f1.TEXT_SMALL,e0)}async function g2(w,B){return S1(w,B,f1.TEXT_LARGE,B2)}import{logger as u0,ModelType as e6,VECTOR_DIMS as k1}from"@elizaos/core";async function b2(w,B){let h=z0(w,"OPENAI_EMBEDDING_MODEL","text-embedding-3-small"),U=Number.parseInt(z0(w,"OPENAI_EMBEDDING_DIMENSIONS","1536")||"1536",10);if(!Object.values(k1).includes(U)){let Q=`Invalid embedding dimension: ${U}. Must be one of: ${Object.values(k1).join(", ")}`;throw u0.error(Q),Error(Q)}if(B===null){u0.debug("Creating test embedding for initialization");let Q=Array(U).fill(0);return Q[0]=0.1,Q}let I;if(typeof B==="string")I=B;else if(typeof B==="object"&&B.text)I=B.text;else{u0.warn("Invalid input format for embedding");let q=Array(U).fill(0);return q[0]=0.2,q}if(!I.trim()){u0.warn("Empty text for embedding");let q=Array(U).fill(0);return q[0]=0.3,q}let X=D1(w);try{let Q=await fetch(`${X}/embeddings`,{method:"POST",headers:{...f0(w,!0),"Content-Type":"application/json"},body:JSON.stringify({model:h,input:I})});if(!Q.ok)throw u0.error(`OpenAI API error: ${Q.status} - ${Q.statusText}`),Error(`OpenAI API error: ${Q.status} - ${Q.statusText}`);let q=await Q.json();if(!q?.data?.[0]?.embedding)throw u0.error("API returned invalid structure"),Error("API returned invalid structure");let Y=q.data[0].embedding;if(!Array.isArray(Y)||Y.length!==U){let K=`Embedding length ${Y?.length??0} does not match configured dimension ${U}`;u0.error(K);let $=Array(U).fill(0);return $[0]=0.4,$}if(q.usage){let K={inputTokens:q.usage.prompt_tokens,outputTokens:0,totalTokens:q.usage.total_tokens};m0(w,e6.TEXT_EMBEDDING,I,K)}return u0.log(`Got valid embedding with length ${Y.length}`),Y}catch(Q){let q=Q instanceof Error?Q.message:String(Q);throw u0.error(`Error generating embedding: ${q}`),Q instanceof Error?Q:Error(q)}}import{logger as x2,ModelType as B8}from"@elizaos/core";async function p2(w,B){let h=B.n||1,U=B.size||"1024x1024",I=B.prompt,X=z0(w,"OPENAI_IMAGE_MODEL","gpt-image-1");x2.log(`[OpenAI] Using IMAGE model: ${X}`);let Q=T0(w);try{let q=await fetch(`${Q}/images/generations`,{method:"POST",headers:{...f0(w),"Content-Type":"application/json"},body:JSON.stringify({model:X,prompt:I,n:h,size:U})});if(!q.ok)throw Error(`Failed to generate image: ${q.statusText}`);return await q.json()}catch(q){let Y=q instanceof Error?q.message:String(q);throw q}}async function d2(w,B){let h,U,I=P1(w);x2.log(`[OpenAI] Using IMAGE_DESCRIPTION model: ${I}`);let X=Number.parseInt(z0(w,"OPENAI_IMAGE_DESCRIPTION_MAX_TOKENS","8192")||"8192",10),Q="Please analyze this image and provide a title and detailed description.";if(typeof B==="string")h=B,U=Q;else h=B.imageUrl,U=B.prompt||Q;let q=[{role:"user",content:[{type:"text",text:U},{type:"image_url",image_url:{url:h}}]}],Y=T0(w);try{let K={model:I,messages:q,max_tokens:X},$=await fetch(`${Y}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",...f0(w)},body:JSON.stringify(K)});if(!$.ok)throw Error(`OpenAI API error: ${$.status}`);let x=await $.json(),M=x.choices?.[0]?.message?.content;if(x.usage)m0(w,B8.IMAGE_DESCRIPTION,typeof B==="string"?B:B.prompt||"",{inputTokens:x.usage.prompt_tokens,outputTokens:x.usage.completion_tokens,totalTokens:x.usage.total_tokens});if(!M)return{title:"Failed to analyze image",description:"No response from API"};if(typeof B==="object"&&Boolean(B.prompt)&&B.prompt!==Q)return M;let c=M.match(/title[:\s]+(.+?)(?:\n|$)/i)?.[1]?.trim();if(!c)x2.warn("Could not extract title from image description response");let E=c||"Image Analysis",F=M.replace(/title[:\s]+(.+?)(?:\n|$)/i,"").trim();return{title:E,description:F}}catch(K){let $=K instanceof Error?K.message:String(K);return x2.error(`Error analyzing image: ${$}`),{title:"Failed to analyze image",description:`Error: ${$}`}}}import{logger as F2}from"@elizaos/core";import{logger as M6}from"@elizaos/core";var Z2={WAV:{HEADER:[82,73,70,70],IDENTIFIER:[87,65,86,69]},MP3_ID3:[73,68,51],OGG:[79,103,103,83],FLAC:[102,76,97,67],FTYP:[102,116,121,112],WEBM_EBML:[26,69,223,163]};function J2(w,B,h){for(let U=0;U<h.length;U++)if(w[B+U]!==h[U])return!1;return!0}function Q1(w){if(w.length<12)return"application/octet-stream";if(J2(w,0,Z2.WAV.HEADER)&&J2(w,8,Z2.WAV.IDENTIFIER))return"audio/wav";if(J2(w,0,Z2.MP3_ID3)||w[0]===255&&(w[1]&224)===224)return"audio/mpeg";if(J2(w,0,Z2.OGG))return"audio/ogg";if(J2(w,0,Z2.FLAC))return"audio/flac";if(J2(w,4,Z2.FTYP))return"audio/mp4";if(J2(w,0,Z2.WEBM_EBML))return"audio/webm";return M6.warn("Could not detect audio format from buffer, using generic binary type"),"application/octet-stream"}async function x6(w){try{let{Readable:B}=await Promise.resolve().then(() => n6(X1(),1)),h=w.getReader();return new B({async read(){try{let{done:U,value:I}=await h.read();if(U)this.push(null);else this.push(I)}catch(U){this.destroy(U)}},destroy(U,I){h.cancel().finally(()=>I(U))}})}catch(B){let h=B instanceof Error?B.message:String(B);throw M6.error(`Failed to load node:stream module: ${h}`),Error("Cannot convert stream: node:stream module unavailable. This feature requires a Node.js environment.")}}async function U4(w,B){let h=z0(w,"OPENAI_TTS_MODEL","gpt-4o-mini-tts"),U=z0(w,"OPENAI_TTS_VOICE","nova"),I=z0(w,"OPENAI_TTS_INSTRUCTIONS",""),X=T0(w),Q=B.model||h,q=B.voice||U,Y=B.instructions??I,K=B.format||"mp3";try{let $=await fetch(`${X}/audio/speech`,{method:"POST",headers:{...f0(w),"Content-Type":"application/json",...K==="mp3"?{Accept:"audio/mpeg"}:{}},body:JSON.stringify({model:Q,voice:q,input:B.text,format:K,...Y&&{instructions:Y}})});if(!$.ok){let j=await $.text();throw Error(`OpenAI TTS error ${$.status}: ${j}`)}if(!$.body)throw Error("OpenAI TTS response body is null");if(!l0())return await x6($.body);return $.body}catch($){let j=$ instanceof Error?$.message:String($);throw Error(`Failed to fetch speech from OpenAI TTS: ${j}`)}}async function Z1(w,B){let h=z0(w,"OPENAI_TRANSCRIPTION_MODEL","gpt-4o-mini-transcribe");F2.log(`[OpenAI] Using TRANSCRIPTION model: ${h}`);let U=T0(w),I,X=null;if(B instanceof Blob||B instanceof File)I=B;else if(Buffer.isBuffer(B)){let K=Q1(B);F2.debug(`Auto-detected audio MIME type: ${K}`);let $=new Uint8Array(B);I=new Blob([$],{type:K})}else if(typeof B==="object"&&B!==null&&B.audio!=null){let K=B;if(!(K.audio instanceof Blob)&&!(K.audio instanceof File)&&!Buffer.isBuffer(K.audio))throw Error("TRANSCRIPTION param 'audio' must be a Blob/File/Buffer.");if(Buffer.isBuffer(K.audio)){let $=K.mimeType;if(!$)$=Q1(K.audio),F2.debug(`Auto-detected audio MIME type: ${$}`);else F2.debug(`Using provided MIME type: ${$}`);let j=new Uint8Array(K.audio);I=new Blob([j],{type:$})}else I=K.audio;if(X=K,typeof K.model==="string"&&K.model)h=K.model}else throw Error("TRANSCRIPTION expects a Blob/File/Buffer or an object { audio: Blob/File/Buffer, mimeType?, language?, response_format?, timestampGranularities?, prompt?, temperature?, model? }");let Q=I.type||"audio/webm",q=I.name||(Q.includes("mp3")||Q.includes("mpeg")?"recording.mp3":Q.includes("ogg")?"recording.ogg":Q.includes("wav")?"recording.wav":Q.includes("webm")?"recording.webm":"recording.bin"),Y=new FormData;if(Y.append("file",I,q),Y.append("model",String(h)),X){if(typeof X.language==="string")Y.append("language",String(X.language));if(typeof X.response_format==="string")Y.append("response_format",String(X.response_format));if(typeof X.prompt==="string")Y.append("prompt",String(X.prompt));if(typeof X.temperature==="number")Y.append("temperature",String(X.temperature));if(Array.isArray(X.timestampGranularities))for(let K of X.timestampGranularities)Y.append("timestamp_granularities[]",String(K))}try{let K=await fetch(`${U}/audio/transcriptions`,{method:"POST",headers:{...f0(w)},body:Y});if(!K.ok)throw Error(`Failed to transcribe audio: ${K.status} ${K.statusText}`);return(await K.json()).text||""}catch(K){let $=K instanceof Error?K.message:String(K);throw F2.error(`TRANSCRIPTION error: ${$}`),K}}async function J1(w,B){let h=typeof B==="string"?{text:B}:B,U=h.model||z0(w,"OPENAI_TTS_MODEL","gpt-4o-mini-tts");F2.log(`[OpenAI] Using TEXT_TO_SPEECH model: ${U}`);try{return await U4(w,h)}catch(I){let X=I instanceof Error?I.message:String(I);throw F2.error(`Error in TEXT_TO_SPEECH: ${X}`),I}}import{logger as F1,ModelType as P6}from"@elizaos/core";import{generateObject as Q4}from"ai";import{logger as I4}from"@elizaos/core";import{JSONParseError as X4}from"ai";function D6(){return async({text:w,error:B})=>{try{if(B instanceof X4){let h=w.replace(/```json\n|\n```|```/g,"");return JSON.parse(h),h}return null}catch(h){let U=h instanceof Error?h.message:String(h);return I4.warn(`Failed to repair JSON text: ${U}`),null}}}async function T6(w,B,h,U){let I=M2(w),X=U(w);F1.log(`[OpenAI] Using ${h} model: ${X}`);let Q=B.temperature??0;if(!!B.schema)F1.warn("Schema provided but ignored: OpenAI object generation currently uses output=no-schema. The schema parameter has no effect.");try{let{object:Y,usage:K}=await Q4({model:I.languageModel(X),output:"no-schema",prompt:B.prompt,temperature:Q,experimental_repairText:D6()});if(K)m0(w,h,B.prompt,K);return Y}catch(Y){let K=Y instanceof Error?Y.message:String(Y);throw F1.error(`[generateObject] Error: ${K}`),Y}}async function q1(w,B){return T6(w,B,P6.OBJECT_SMALL,e0)}async function K1(w,B){return T6(w,B,P6.OBJECT_LARGE,B2)}import{ModelType as k6}from"@elizaos/core";import{ModelType as R6}from"@elizaos/core";import{encodingForModel as Z4,getEncoding as J4}from"js-tiktoken";function _6(w){let h=w.toLowerCase().includes("4o")?"o200k_base":"cl100k_base";try{return Z4(w)}catch(U){return J4(h)}}async function f6(w,B,h){let U=B===R6.TEXT_SMALL?e0(w):B2(w);return _6(U).encode(h)}async function S6(w,B,h){let U=B===R6.TEXT_SMALL?e0(w):B2(w);return _6(U).decode(h)}async function H1(w,{prompt:B,modelType:h=k6.TEXT_LARGE}){return await f6(w,h,B)}async function Y1(w,{tokens:B,modelType:h=k6.TEXT_LARGE}){return await S6(w,h,B)}var F4={name:"openai",description:"OpenAI plugin",config:{OPENAI_API_KEY:process.env.OPENAI_API_KEY,OPENAI_BASE_URL:process.env.OPENAI_BASE_URL,OPENAI_SMALL_MODEL:process.env.OPENAI_SMALL_MODEL,OPENAI_LARGE_MODEL:process.env.OPENAI_LARGE_MODEL,SMALL_MODEL:process.env.SMALL_MODEL,LARGE_MODEL:process.env.LARGE_MODEL,OPENAI_EMBEDDING_MODEL:process.env.OPENAI_EMBEDDING_MODEL,OPENAI_EMBEDDING_API_KEY:process.env.OPENAI_EMBEDDING_API_KEY,OPENAI_EMBEDDING_URL:process.env.OPENAI_EMBEDDING_URL,OPENAI_EMBEDDING_DIMENSIONS:process.env.OPENAI_EMBEDDING_DIMENSIONS,OPENAI_IMAGE_DESCRIPTION_MODEL:process.env.OPENAI_IMAGE_DESCRIPTION_MODEL,OPENAI_IMAGE_DESCRIPTION_MAX_TOKENS:process.env.OPENAI_IMAGE_DESCRIPTION_MAX_TOKENS,OPENAI_EXPERIMENTAL_TELEMETRY:process.env.OPENAI_EXPERIMENTAL_TELEMETRY},async init(w,B){R1(w,B)},models:{[V0.TEXT_EMBEDDING]:async(w,B)=>{return b2(w,B)},[V0.TEXT_TOKENIZER_ENCODE]:async(w,B)=>{return H1(w,B)},[V0.TEXT_TOKENIZER_DECODE]:async(w,B)=>{return Y1(w,B)},[V0.TEXT_SMALL]:async(w,B)=>{return u2(w,B)},[V0.TEXT_LARGE]:async(w,B)=>{return g2(w,B)},[V0.IMAGE]:async(w,B)=>{return p2(w,B)},[V0.IMAGE_DESCRIPTION]:async(w,B)=>{return d2(w,B)},[V0.TRANSCRIPTION]:async(w,B)=>{return Z1(w,B)},[V0.TEXT_TO_SPEECH]:async(w,B)=>{return J1(w,B)},[V0.OBJECT_SMALL]:async(w,B)=>{return q1(w,B)},[V0.OBJECT_LARGE]:async(w,B)=>{return K1(w,B)}},tests:[{name:"openai_plugin_tests",tests:[{name:"openai_test_url_and_api_key_validation",fn:async(w)=>{let B=T0(w),h=await fetch(`${B}/models`,{headers:f0(w)}),U=await h.json();if(N0.log({data:U?.data?.length??"N/A"},"Models Available"),!h.ok)throw Error(`Failed to validate OpenAI API key: ${h.statusText}`)}},{name:"openai_test_text_embedding",fn:async(w)=>{try{let B=await w.useModel(V0.TEXT_EMBEDDING,{text:"Hello, world!"});N0.log({embedding:B},"embedding")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in test_text_embedding: ${h}`),B}}},{name:"openai_test_text_large",fn:async(w)=>{try{let B=await w.useModel(V0.TEXT_LARGE,{prompt:"What is the nature of reality in 10 words?"});if(B.length===0)throw Error("Failed to generate text");N0.log({text:B},"generated with test_text_large")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in test_text_large: ${h}`),B}}},{name:"openai_test_text_small",fn:async(w)=>{try{let B=await w.useModel(V0.TEXT_SMALL,{prompt:"What is the nature of reality in 10 words?"});if(B.length===0)throw Error("Failed to generate text");N0.log({text:B},"generated with test_text_small")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in test_text_small: ${h}`),B}}},{name:"openai_test_image_generation",fn:async(w)=>{N0.log("openai_test_image_generation");try{let B=await w.useModel(V0.IMAGE,{prompt:"A beautiful sunset over a calm ocean",n:1,size:"1024x1024"});N0.log({image:B},"generated with test_image_generation")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in test_image_generation: ${h}`),B}}},{name:"image-description",fn:async(w)=>{try{N0.log("openai_test_image_description");try{let B=await w.useModel(V0.IMAGE_DESCRIPTION,"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Vitalik_Buterin_TechCrunch_London_2015_%28cropped%29.jpg/537px-Vitalik_Buterin_TechCrunch_London_2015_%28cropped%29.jpg");if(B&&typeof B==="object"&&"title"in B&&"description"in B)N0.log({result:B},"Image description");else N0.error("Invalid image description result format:",B)}catch(B){let h=B instanceof Error?B.message:String(B);N0.error(`Error in image description test: ${h}`)}}catch(B){let h=B instanceof Error?B.message:String(B);N0.error(`Error in openai_test_image_description: ${h}`)}}},{name:"openai_test_transcription",fn:async(w)=>{N0.log("openai_test_transcription");try{let h=await(await fetch("https://upload.wikimedia.org/wikipedia/en/4/40/Chris_Benoit_Voice_Message.ogg")).arrayBuffer(),U=await w.useModel(V0.TRANSCRIPTION,Buffer.from(new Uint8Array(h)));N0.log({transcription:U},"generated with test_transcription")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in test_transcription: ${h}`),B}}},{name:"openai_test_text_tokenizer_encode",fn:async(w)=>{let h=await w.useModel(V0.TEXT_TOKENIZER_ENCODE,{prompt:"Hello tokenizer encode!"});if(!Array.isArray(h)||h.length===0)throw Error("Failed to tokenize text: expected non-empty array of tokens");N0.log({tokens:h},"Tokenized output")}},{name:"openai_test_text_tokenizer_decode",fn:async(w)=>{let h=await w.useModel(V0.TEXT_TOKENIZER_ENCODE,{prompt:"Hello tokenizer decode!"}),U=await w.useModel(V0.TEXT_TOKENIZER_DECODE,{tokens:h});if(U!=="Hello tokenizer decode!")throw Error(`Decoded text does not match original. Expected "Hello tokenizer decode!", got "${U}"`);N0.log({decodedText:U},"Decoded text")}},{name:"openai_test_text_to_speech",fn:async(w)=>{try{if(!await w.useModel(V0.TEXT_TO_SPEECH,{text:"Hello, this is a test for text-to-speech."}))throw Error("Failed to generate speech");N0.log("Generated speech successfully")}catch(B){let h=B instanceof Error?B.message:String(B);throw N0.error(`Error in openai_test_text_to_speech: ${h}`),B}}}]}]},q4=F4;export{F4 as openaiPlugin,q4 as default};

//# debugId=4B7FB4379F5FC70C64756E2164756E21
