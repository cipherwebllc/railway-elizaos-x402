import { type IAgentRuntime, Service } from '@elizaos/core';
import type { CallToolResult } from '@modelcontextprotocol/sdk/types.js';
import { type McpProvider, type McpResourceResponse, type McpServer } from './types';
export declare class McpService extends Service {
    static serviceType: string;
    capabilityDescription: string;
    private connections;
    private connectionStates;
    private mcpProvider;
    private pingConfig;
    private toolCompatibility;
    private compatibilityInitialized;
    private initializationPromise;
    constructor(runtime: IAgentRuntime);
    static start(runtime: IAgentRuntime): Promise<McpService>;
    /**
     * Wait for initialization to complete (useful if service was created without awaiting start)
     */
    waitForInitialization(): Promise<void>;
    stop(): Promise<void>;
    private initializeMcpServers;
    private getMcpSettings;
    private updateServerConnections;
    private initializeConnection;
    private setupTransportHandlers;
    private startPingMonitoring;
    private sendPing;
    private handlePingFailure;
    private handleDisconnection;
    deleteConnection(name: string): Promise<void>;
    private getServerConnection;
    private buildStdioClientTransport;
    private buildHttpClientTransport;
    private appendErrorMessage;
    private fetchToolsList;
    private fetchResourcesList;
    private fetchResourceTemplatesList;
    getServers(): McpServer[];
    getProviderData(): McpProvider;
    callTool(serverName: string, toolName: string, toolArguments?: Record<string, unknown>): Promise<CallToolResult>;
    readResource(serverName: string, uri: string): Promise<McpResourceResponse>;
    restartConnection(serverName: string): Promise<void>;
    private initializeToolCompatibility;
    applyToolCompatibility(toolSchema: any): any;
}
//# sourceMappingURL=service.d.ts.map