var aN=Object.create;var{getPrototypeOf:QN,defineProperty:OP,getOwnPropertyNames:wT,getOwnPropertyDescriptor:eN}=Object,fT=Object.prototype.hasOwnProperty;var N8=($,q,_)=>{_=$!=null?aN(QN($)):{};let K=q||!$||!$.__esModule?OP(_,"default",{value:$,enumerable:!0}):_;for(let P of wT($))if(!fT.call(K,P))OP(K,P,{get:()=>$[P],enumerable:!0});return K},TT=new WeakMap,J6=($)=>{var q=TT.get($),_;if(q)return q;if(q=OP({},"__esModule",{value:!0}),$&&typeof $==="object"||typeof $==="function")wT($).map((K)=>!fT.call(q,K)&&OP(q,K,{get:()=>$[K],enumerable:!(_=eN($,K))||_.enumerable}));return TT.set($,q),q},N$=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports);var oq=($,q)=>{for(var _ in q)OP($,_,{get:q[_],enumerable:!0,configurable:!0,set:(K)=>q[_]=()=>K})};var lK=($,q)=>()=>($&&(q=$($=0)),q);var m8=(($)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy($,{get:(q,_)=>(typeof require<"u"?require:q)[_]}):$)(function($){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var XT=N$((tF,ZT)=>{ZT.exports=function($,q){if(typeof $!=="string")throw TypeError("Expected a string");return q=typeof q>"u"?"_":q,$.replace(/([a-z\d])([A-Z])/g,"$1"+q+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+q+"$2").toLowerCase()}});var NT=N$((UF,t2)=>{var jC=/[\p{Lu}]/u,vC=/[\p{Ll}]/u,AT=/^[\p{Lu}](?![\p{Lu}])/gu,VT=/([\p{Alpha}\p{N}_]|$)/u,ST=/[_.\- ]+/,zC=new RegExp("^"+ST.source),kT=new RegExp(ST.source+VT.source,"gu"),GT=new RegExp("\\d+"+VT.source,"gu"),WC=($,q,_)=>{let K=!1,P=!1,O=!1;for(let Y=0;Y<$.length;Y++){let z=$[Y];if(K&&jC.test(z))$=$.slice(0,Y)+"-"+$.slice(Y),K=!1,O=P,P=!0,Y++;else if(P&&O&&vC.test(z))$=$.slice(0,Y-1)+"-"+$.slice(Y-1),O=P,P=!1,K=!0;else K=q(z)===z&&_(z)!==z,O=P,P=_(z)===z&&q(z)!==z}return $},JC=($,q)=>{return AT.lastIndex=0,$.replace(AT,(_)=>q(_))},HC=($,q)=>{return kT.lastIndex=0,GT.lastIndex=0,$.replace(kT,(_,K)=>q(K)).replace(GT,(_)=>q(_))},MT=($,q)=>{if(!(typeof $==="string"||Array.isArray($)))throw TypeError("Expected the input to be `string | string[]`");if(q={pascalCase:!1,preserveConsecutiveUppercase:!1,...q},Array.isArray($))$=$.map((O)=>O.trim()).filter((O)=>O.length).join("-");else $=$.trim();if($.length===0)return"";let _=q.locale===!1?(O)=>O.toLowerCase():(O)=>O.toLocaleLowerCase(q.locale),K=q.locale===!1?(O)=>O.toUpperCase():(O)=>O.toLocaleUpperCase(q.locale);if($.length===1)return q.pascalCase?K($):_($);if($!==_($))$=WC($,_,K);if($=$.replace(zC,""),q.preserveConsecutiveUppercase)$=JC($,_);else $=_($);if(q.pascalCase)$=K($.charAt(0))+$.slice(1);return HC($,K)};t2.exports=MT;t2.exports.default=MT});var Jf=N$((ae,MO)=>{var ME=Object.prototype.hasOwnProperty,Dq="~";function fP(){}if(Object.create){if(fP.prototype=Object.create(null),!new fP().__proto__)Dq=!1}function NE($,q,_){this.fn=$,this.context=q,this.once=_||!1}function Wf($,q,_,K,P){if(typeof _!=="function")throw TypeError("The listener must be a function");var O=new NE(_,K||$,P),Y=Dq?Dq+q:q;if(!$._events[Y])$._events[Y]=O,$._eventsCount++;else if(!$._events[Y].fn)$._events[Y].push(O);else $._events[Y]=[$._events[Y],O];return $}function u1($,q){if(--$._eventsCount===0)$._events=new fP;else delete $._events[q]}function Nq(){this._events=new fP,this._eventsCount=0}Nq.prototype.eventNames=function(){var q=[],_,K;if(this._eventsCount===0)return q;for(K in _=this._events)if(ME.call(_,K))q.push(Dq?K.slice(1):K);if(Object.getOwnPropertySymbols)return q.concat(Object.getOwnPropertySymbols(_));return q};Nq.prototype.listeners=function(q){var _=Dq?Dq+q:q,K=this._events[_];if(!K)return[];if(K.fn)return[K.fn];for(var P=0,O=K.length,Y=Array(O);P<O;P++)Y[P]=K[P].fn;return Y};Nq.prototype.listenerCount=function(q){var _=Dq?Dq+q:q,K=this._events[_];if(!K)return 0;if(K.fn)return 1;return K.length};Nq.prototype.emit=function(q,_,K,P,O,Y){var z=Dq?Dq+q:q;if(!this._events[z])return!1;var H=this._events[z],T=arguments.length,f,w;if(H.fn){if(H.once)this.removeListener(q,H.fn,void 0,!0);switch(T){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,_),!0;case 3:return H.fn.call(H.context,_,K),!0;case 4:return H.fn.call(H.context,_,K,P),!0;case 5:return H.fn.call(H.context,_,K,P,O),!0;case 6:return H.fn.call(H.context,_,K,P,O,Y),!0}for(w=1,f=Array(T-1);w<T;w++)f[w-1]=arguments[w];H.fn.apply(H.context,f)}else{var k=H.length,S;for(w=0;w<k;w++){if(H[w].once)this.removeListener(q,H[w].fn,void 0,!0);switch(T){case 1:H[w].fn.call(H[w].context);break;case 2:H[w].fn.call(H[w].context,_);break;case 3:H[w].fn.call(H[w].context,_,K);break;case 4:H[w].fn.call(H[w].context,_,K,P);break;default:if(!f)for(S=1,f=Array(T-1);S<T;S++)f[S-1]=arguments[S];H[w].fn.apply(H[w].context,f)}}}return!0};Nq.prototype.on=function(q,_,K){return Wf(this,q,_,K,!1)};Nq.prototype.once=function(q,_,K){return Wf(this,q,_,K,!0)};Nq.prototype.removeListener=function(q,_,K,P){var O=Dq?Dq+q:q;if(!this._events[O])return this;if(!_)return u1(this,O),this;var Y=this._events[O];if(Y.fn){if(Y.fn===_&&(!P||Y.once)&&(!K||Y.context===K))u1(this,O)}else{for(var z=0,H=[],T=Y.length;z<T;z++)if(Y[z].fn!==_||P&&!Y[z].once||K&&Y[z].context!==K)H.push(Y[z]);if(H.length)this._events[O]=H.length===1?H[0]:H;else u1(this,O)}return this};Nq.prototype.removeAllListeners=function(q){var _;if(q){if(_=Dq?Dq+q:q,this._events[_])u1(this,_)}else this._events=new fP,this._eventsCount=0;return this};Nq.prototype.off=Nq.prototype.removeListener;Nq.prototype.addListener=Nq.prototype.on;Nq.prefixed=Dq;Nq.EventEmitter=Nq;if(typeof MO<"u")MO.exports=Nq});var Tf=N$((Qe,Hf)=>{Hf.exports=($,q)=>{return q=q||(()=>{}),$.then((_)=>new Promise((K)=>{K(q())}).then(()=>_),(_)=>new Promise((K)=>{K(q())}).then(()=>{throw _}))}});var ff=N$((ee,x1)=>{var CE=Tf();class NO extends Error{constructor($){super($);this.name="TimeoutError"}}var wf=($,q,_)=>new Promise((K,P)=>{if(typeof q!=="number"||q<0)throw TypeError("Expected `milliseconds` to be a positive number");if(q===1/0){K($);return}let O=setTimeout(()=>{if(typeof _==="function"){try{K(_())}catch(H){P(H)}return}let Y=typeof _==="string"?_:`Promise timed out after ${q} milliseconds`,z=_ instanceof Error?_:new NO(Y);if(typeof $.cancel==="function")$.cancel();P(z)},q);CE($.then(K,P),()=>{clearTimeout(O)})});x1.exports=wf;x1.exports.default=wf;x1.exports.TimeoutError=NO});var Xf=N$((Zf)=>{Object.defineProperty(Zf,"__esModule",{value:!0});function EE($,q,_){let K=0,P=$.length;while(P>0){let O=P/2|0,Y=K+O;if(_($[Y],q)<=0)K=++Y,P-=O+1;else P=O}return K}Zf.default=EE});var Gf=N$((kf)=>{Object.defineProperty(kf,"__esModule",{value:!0});var RE=Xf();class Af{constructor(){this._queue=[]}enqueue($,q){q=Object.assign({priority:0},q);let _={priority:q.priority,run:$};if(this.size&&this._queue[this.size-1].priority>=q.priority){this._queue.push(_);return}let K=RE.default(this._queue,_,(P,O)=>O.priority-P.priority);this._queue.splice(K,0,_)}dequeue(){let $=this._queue.shift();return $===null||$===void 0?void 0:$.run}filter($){return this._queue.filter((q)=>q.priority===$.priority).map((q)=>q.run)}get size(){return this._queue.length}}kf.default=Af});var c1=N$((Mf)=>{Object.defineProperty(Mf,"__esModule",{value:!0});var DE=Jf(),Vf=ff(),LE=Gf(),p1=()=>{},gE=new Vf.TimeoutError;class Sf extends DE{constructor($){var q,_,K,P;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=p1,this._resolveIdle=p1,$=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:LE.default},$),!(typeof $.intervalCap==="number"&&$.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(_=(q=$.intervalCap)===null||q===void 0?void 0:q.toString())!==null&&_!==void 0?_:""}\` (${typeof $.intervalCap})`);if($.interval===void 0||!(Number.isFinite($.interval)&&$.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(P=(K=$.interval)===null||K===void 0?void 0:K.toString())!==null&&P!==void 0?P:""}\` (${typeof $.interval})`);this._carryoverConcurrencyCount=$.carryoverConcurrencyCount,this._isIntervalIgnored=$.intervalCap===1/0||$.interval===0,this._intervalCap=$.intervalCap,this._interval=$.interval,this._queue=new $.queueClass,this._queueClass=$.queueClass,this.concurrency=$.concurrency,this._timeout=$.timeout,this._throwOnTimeout=$.throwOnTimeout===!0,this._isPaused=$.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){if(this._resolveEmpty(),this._resolveEmpty=p1,this._pendingCount===0)this._resolveIdle(),this._resolveIdle=p1,this.emit("idle")}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let $=Date.now();if(this._intervalId===void 0){let q=this._intervalEnd-$;if(q<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else{if(this._timeoutId===void 0)this._timeoutId=setTimeout(()=>{this._onResumeInterval()},q);return!0}}return!1}_tryToStartAnother(){if(this._queue.size===0){if(this._intervalId)clearInterval(this._intervalId);return this._intervalId=void 0,this._resolvePromises(),!1}if(!this._isPaused){let $=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let q=this._queue.dequeue();if(!q)return!1;if(this.emit("active"),q(),$)this._initializeIntervalIfNeeded();return!0}}return!1}_initializeIntervalIfNeeded(){if(this._isIntervalIgnored||this._intervalId!==void 0)return;this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval}_onInterval(){if(this._intervalCount===0&&this._pendingCount===0&&this._intervalId)clearInterval(this._intervalId),this._intervalId=void 0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){while(this._tryToStartAnother());}get concurrency(){return this._concurrency}set concurrency($){if(!(typeof $==="number"&&$>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${$}\` (${typeof $})`);this._concurrency=$,this._processQueue()}async add($,q={}){return new Promise((_,K)=>{let P=async()=>{this._pendingCount++,this._intervalCount++;try{let O=this._timeout===void 0&&q.timeout===void 0?$():Vf.default(Promise.resolve($()),q.timeout===void 0?this._timeout:q.timeout,()=>{if(q.throwOnTimeout===void 0?this._throwOnTimeout:q.throwOnTimeout)K(gE);return});_(await O)}catch(O){K(O)}this._next()};this._queue.enqueue(P,q),this._tryToStartAnother(),this.emit("add")})}async addAll($,q){return Promise.all($.map(async(_)=>this.add(_,q)))}start(){if(!this._isPaused)return this;return this._isPaused=!1,this._processQueue(),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size===0)return;return new Promise(($)=>{let q=this._resolveEmpty;this._resolveEmpty=()=>{q(),$()}})}async onIdle(){if(this._pendingCount===0&&this._queue.size===0)return;return new Promise(($)=>{let q=this._resolveIdle;this._resolveIdle=()=>{q(),$()}})}get size(){return this._queue.size}sizeBy($){return this._queue.filter($).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout($){this._timeout=$}}Mf.default=Sf});var ZP=N$((Os,Nf)=>{var uE=Number.MAX_SAFE_INTEGER||9007199254740991,xE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Nf.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:uE,RELEASE_TYPES:xE,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var XP=N$((Ys,Cf)=>{var pE=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...$)=>console.error("SEMVER",...$):()=>{};Cf.exports=pE});var BK=N$((l8,Ef)=>{var{MAX_SAFE_COMPONENT_LENGTH:hO,MAX_SAFE_BUILD_LENGTH:cE,MAX_LENGTH:mE}=ZP(),dE=XP();l8=Ef.exports={};var lE=l8.re=[],rE=l8.safeRe=[],F$=l8.src=[],oE=l8.safeSrc=[],a$=l8.t={},nE=0,RO="[a-zA-Z0-9-]",iE=[["\\s",1],["\\d",mE],[RO,cE]],BE=($)=>{for(let[q,_]of iE)$=$.split(`${q}*`).join(`${q}{0,${_}}`).split(`${q}+`).join(`${q}{1,${_}}`);return $},Y6=($,q,_)=>{let K=BE(q),P=nE++;dE($,P,q),a$[$]=P,F$[P]=q,oE[P]=K,lE[P]=new RegExp(q,_?"g":void 0),rE[P]=new RegExp(K,_?"g":void 0)};Y6("NUMERICIDENTIFIER","0|[1-9]\\d*");Y6("NUMERICIDENTIFIERLOOSE","\\d+");Y6("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${RO}*`);Y6("MAINVERSION",`(${F$[a$.NUMERICIDENTIFIER]})\\.(${F$[a$.NUMERICIDENTIFIER]})\\.(${F$[a$.NUMERICIDENTIFIER]})`);Y6("MAINVERSIONLOOSE",`(${F$[a$.NUMERICIDENTIFIERLOOSE]})\\.(${F$[a$.NUMERICIDENTIFIERLOOSE]})\\.(${F$[a$.NUMERICIDENTIFIERLOOSE]})`);Y6("PRERELEASEIDENTIFIER",`(?:${F$[a$.NONNUMERICIDENTIFIER]}|${F$[a$.NUMERICIDENTIFIER]})`);Y6("PRERELEASEIDENTIFIERLOOSE",`(?:${F$[a$.NONNUMERICIDENTIFIER]}|${F$[a$.NUMERICIDENTIFIERLOOSE]})`);Y6("PRERELEASE",`(?:-(${F$[a$.PRERELEASEIDENTIFIER]}(?:\\.${F$[a$.PRERELEASEIDENTIFIER]})*))`);Y6("PRERELEASELOOSE",`(?:-?(${F$[a$.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${F$[a$.PRERELEASEIDENTIFIERLOOSE]})*))`);Y6("BUILDIDENTIFIER",`${RO}+`);Y6("BUILD",`(?:\\+(${F$[a$.BUILDIDENTIFIER]}(?:\\.${F$[a$.BUILDIDENTIFIER]})*))`);Y6("FULLPLAIN",`v?${F$[a$.MAINVERSION]}${F$[a$.PRERELEASE]}?${F$[a$.BUILD]}?`);Y6("FULL",`^${F$[a$.FULLPLAIN]}$`);Y6("LOOSEPLAIN",`[v=\\s]*${F$[a$.MAINVERSIONLOOSE]}${F$[a$.PRERELEASELOOSE]}?${F$[a$.BUILD]}?`);Y6("LOOSE",`^${F$[a$.LOOSEPLAIN]}$`);Y6("GTLT","((?:<|>)?=?)");Y6("XRANGEIDENTIFIERLOOSE",`${F$[a$.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Y6("XRANGEIDENTIFIER",`${F$[a$.NUMERICIDENTIFIER]}|x|X|\\*`);Y6("XRANGEPLAIN",`[v=\\s]*(${F$[a$.XRANGEIDENTIFIER]})(?:\\.(${F$[a$.XRANGEIDENTIFIER]})(?:\\.(${F$[a$.XRANGEIDENTIFIER]})(?:${F$[a$.PRERELEASE]})?${F$[a$.BUILD]}?)?)?`);Y6("XRANGEPLAINLOOSE",`[v=\\s]*(${F$[a$.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F$[a$.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F$[a$.XRANGEIDENTIFIERLOOSE]})(?:${F$[a$.PRERELEASELOOSE]})?${F$[a$.BUILD]}?)?)?`);Y6("XRANGE",`^${F$[a$.GTLT]}\\s*${F$[a$.XRANGEPLAIN]}$`);Y6("XRANGELOOSE",`^${F$[a$.GTLT]}\\s*${F$[a$.XRANGEPLAINLOOSE]}$`);Y6("COERCEPLAIN",`(^|[^\\d])(\\d{1,${hO}})(?:\\.(\\d{1,${hO}}))?(?:\\.(\\d{1,${hO}}))?`);Y6("COERCE",`${F$[a$.COERCEPLAIN]}(?:$|[^\\d])`);Y6("COERCEFULL",F$[a$.COERCEPLAIN]+`(?:${F$[a$.PRERELEASE]})?(?:${F$[a$.BUILD]})?(?:$|[^\\d])`);Y6("COERCERTL",F$[a$.COERCE],!0);Y6("COERCERTLFULL",F$[a$.COERCEFULL],!0);Y6("LONETILDE","(?:~>?)");Y6("TILDETRIM",`(\\s*)${F$[a$.LONETILDE]}\\s+`,!0);l8.tildeTrimReplace="$1~";Y6("TILDE",`^${F$[a$.LONETILDE]}${F$[a$.XRANGEPLAIN]}$`);Y6("TILDELOOSE",`^${F$[a$.LONETILDE]}${F$[a$.XRANGEPLAINLOOSE]}$`);Y6("LONECARET","(?:\\^)");Y6("CARETTRIM",`(\\s*)${F$[a$.LONECARET]}\\s+`,!0);l8.caretTrimReplace="$1^";Y6("CARET",`^${F$[a$.LONECARET]}${F$[a$.XRANGEPLAIN]}$`);Y6("CARETLOOSE",`^${F$[a$.LONECARET]}${F$[a$.XRANGEPLAINLOOSE]}$`);Y6("COMPARATORLOOSE",`^${F$[a$.GTLT]}\\s*(${F$[a$.LOOSEPLAIN]})$|^$`);Y6("COMPARATOR",`^${F$[a$.GTLT]}\\s*(${F$[a$.FULLPLAIN]})$|^$`);Y6("COMPARATORTRIM",`(\\s*)${F$[a$.GTLT]}\\s*(${F$[a$.LOOSEPLAIN]}|${F$[a$.XRANGEPLAIN]})`,!0);l8.comparatorTrimReplace="$1$2$3";Y6("HYPHENRANGE",`^\\s*(${F$[a$.XRANGEPLAIN]})\\s+-\\s+(${F$[a$.XRANGEPLAIN]})\\s*$`);Y6("HYPHENRANGELOOSE",`^\\s*(${F$[a$.XRANGEPLAINLOOSE]})\\s+-\\s+(${F$[a$.XRANGEPLAINLOOSE]})\\s*$`);Y6("STAR","(<|>)?=?\\s*\\*");Y6("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Y6("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var l1=N$((js,hf)=>{var tE=Object.freeze({loose:!0}),UE=Object.freeze({}),FE=($)=>{if(!$)return UE;if(typeof $!=="object")return tE;return $};hf.exports=FE});var IO=N$((vs,Df)=>{var Rf=/^[0-9]+$/,If=($,q)=>{if(typeof $==="number"&&typeof q==="number")return $===q?0:$<q?-1:1;let _=Rf.test($),K=Rf.test(q);if(_&&K)$=+$,q=+q;return $===q?0:_&&!K?-1:K&&!_?1:$<q?-1:1},aE=($,q)=>If(q,$);Df.exports={compareIdentifiers:If,rcompareIdentifiers:aE}});var Cq=N$((zs,gf)=>{var r1=XP(),{MAX_LENGTH:Lf,MAX_SAFE_INTEGER:o1}=ZP(),{safeRe:n1,t:i1}=BK(),QE=l1(),{compareIdentifiers:DO}=IO();class h8{constructor($,q){if(q=QE(q),$ instanceof h8)if($.loose===!!q.loose&&$.includePrerelease===!!q.includePrerelease)return $;else $=$.version;else if(typeof $!=="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof $}".`);if($.length>Lf)throw TypeError(`version is longer than ${Lf} characters`);r1("SemVer",$,q),this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease;let _=$.trim().match(q.loose?n1[i1.LOOSE]:n1[i1.FULL]);if(!_)throw TypeError(`Invalid Version: ${$}`);if(this.raw=$,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>o1||this.major<0)throw TypeError("Invalid major version");if(this.minor>o1||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o1||this.patch<0)throw TypeError("Invalid patch version");if(!_[4])this.prerelease=[];else this.prerelease=_[4].split(".").map((K)=>{if(/^[0-9]+$/.test(K)){let P=+K;if(P>=0&&P<o1)return P}return K});this.build=_[5]?_[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare($){if(r1("SemVer.compare",this.version,this.options,$),!($ instanceof h8)){if(typeof $==="string"&&$===this.version)return 0;$=new h8($,this.options)}if($.version===this.version)return 0;return this.compareMain($)||this.comparePre($)}compareMain($){if(!($ instanceof h8))$=new h8($,this.options);if(this.major<$.major)return-1;if(this.major>$.major)return 1;if(this.minor<$.minor)return-1;if(this.minor>$.minor)return 1;if(this.patch<$.patch)return-1;if(this.patch>$.patch)return 1;return 0}comparePre($){if(!($ instanceof h8))$=new h8($,this.options);if(this.prerelease.length&&!$.prerelease.length)return-1;else if(!this.prerelease.length&&$.prerelease.length)return 1;else if(!this.prerelease.length&&!$.prerelease.length)return 0;let q=0;do{let _=this.prerelease[q],K=$.prerelease[q];if(r1("prerelease compare",q,_,K),_===void 0&&K===void 0)return 0;else if(K===void 0)return 1;else if(_===void 0)return-1;else if(_===K)continue;else return DO(_,K)}while(++q)}compareBuild($){if(!($ instanceof h8))$=new h8($,this.options);let q=0;do{let _=this.build[q],K=$.build[q];if(r1("build compare",q,_,K),_===void 0&&K===void 0)return 0;else if(K===void 0)return 1;else if(_===void 0)return-1;else if(_===K)continue;else return DO(_,K)}while(++q)}inc($,q,_){if($.startsWith("pre")){if(!q&&_===!1)throw Error("invalid increment argument: identifier is empty");if(q){let K=`-${q}`.match(this.options.loose?n1[i1.PRERELEASELOOSE]:n1[i1.PRERELEASE]);if(!K||K[1]!==q)throw Error(`invalid identifier: ${q}`)}}switch($){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",q,_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",q,_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",q,_),this.inc("pre",q,_);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",q,_);this.inc("pre",q,_);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{let K=Number(_)?1:0;if(this.prerelease.length===0)this.prerelease=[K];else{let P=this.prerelease.length;while(--P>=0)if(typeof this.prerelease[P]==="number")this.prerelease[P]++,P=-2;if(P===-1){if(q===this.prerelease.join(".")&&_===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(K)}}if(q){let P=[q,K];if(_===!1)P=[q];if(DO(this.prerelease[0],q)===0){if(isNaN(this.prerelease[1]))this.prerelease=P}else this.prerelease=P}break}default:throw Error(`invalid increment argument: ${$}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}gf.exports=h8});var zK=N$((Ws,yf)=>{var bf=Cq(),eE=($,q,_=!1)=>{if($ instanceof bf)return $;try{return new bf($,q)}catch(K){if(!_)return null;throw K}};yf.exports=eE});var xf=N$((Js,uf)=>{var sE=zK(),$h=($,q)=>{let _=sE($,q);return _?_.version:null};uf.exports=$h});var cf=N$((Hs,pf)=>{var qh=zK(),_h=($,q)=>{let _=qh($.trim().replace(/^[=v]+/,""),q);return _?_.version:null};pf.exports=_h});var lf=N$((Ts,df)=>{var mf=Cq(),Kh=($,q,_,K,P)=>{if(typeof _==="string")P=K,K=_,_=void 0;try{return new mf($ instanceof mf?$.version:$,_).inc(q,K,P).version}catch(O){return null}};df.exports=Kh});var nf=N$((ws,of)=>{var rf=zK(),Ph=($,q)=>{let _=rf($,null,!0),K=rf(q,null,!0),P=_.compare(K);if(P===0)return null;let O=P>0,Y=O?_:K,z=O?K:_,H=!!Y.prerelease.length;if(!!z.prerelease.length&&!H){if(!z.patch&&!z.minor)return"major";if(z.compareMain(Y)===0){if(z.minor&&!z.patch)return"minor";return"patch"}}let f=H?"pre":"";if(_.major!==K.major)return f+"major";if(_.minor!==K.minor)return f+"minor";if(_.patch!==K.patch)return f+"patch";return"prerelease"};of.exports=Ph});var tf=N$((fs,Bf)=>{var Oh=Cq(),Yh=($,q)=>new Oh($,q).major;Bf.exports=Yh});var Ff=N$((Zs,Uf)=>{var jh=Cq(),vh=($,q)=>new jh($,q).minor;Uf.exports=vh});var Qf=N$((Xs,af)=>{var zh=Cq(),Wh=($,q)=>new zh($,q).patch;af.exports=Wh});var sf=N$((As,ef)=>{var Jh=zK(),Hh=($,q)=>{let _=Jh($,q);return _&&_.prerelease.length?_.prerelease:null};ef.exports=Hh});var W8=N$((ks,qZ)=>{var $Z=Cq(),Th=($,q,_)=>new $Z($,_).compare(new $Z(q,_));qZ.exports=Th});var KZ=N$((Gs,_Z)=>{var wh=W8(),fh=($,q,_)=>wh(q,$,_);_Z.exports=fh});var OZ=N$((Vs,PZ)=>{var Zh=W8(),Xh=($,q)=>Zh($,q,!0);PZ.exports=Xh});var B1=N$((Ss,jZ)=>{var YZ=Cq(),Ah=($,q,_)=>{let K=new YZ($,_),P=new YZ(q,_);return K.compare(P)||K.compareBuild(P)};jZ.exports=Ah});var zZ=N$((Ms,vZ)=>{var kh=B1(),Gh=($,q)=>$.sort((_,K)=>kh(_,K,q));vZ.exports=Gh});var JZ=N$((Ns,WZ)=>{var Vh=B1(),Sh=($,q)=>$.sort((_,K)=>Vh(K,_,q));WZ.exports=Sh});var AP=N$((Cs,HZ)=>{var Mh=W8(),Nh=($,q,_)=>Mh($,q,_)>0;HZ.exports=Nh});var t1=N$((Es,TZ)=>{var Ch=W8(),Eh=($,q,_)=>Ch($,q,_)<0;TZ.exports=Eh});var LO=N$((hs,wZ)=>{var hh=W8(),Rh=($,q,_)=>hh($,q,_)===0;wZ.exports=Rh});var gO=N$((Rs,fZ)=>{var Ih=W8(),Dh=($,q,_)=>Ih($,q,_)!==0;fZ.exports=Dh});var U1=N$((Is,ZZ)=>{var Lh=W8(),gh=($,q,_)=>Lh($,q,_)>=0;ZZ.exports=gh});var F1=N$((Ds,XZ)=>{var bh=W8(),yh=($,q,_)=>bh($,q,_)<=0;XZ.exports=yh});var bO=N$((Ls,AZ)=>{var uh=LO(),xh=gO(),ph=AP(),ch=U1(),mh=t1(),dh=F1(),lh=($,q,_,K)=>{switch(q){case"===":if(typeof $==="object")$=$.version;if(typeof _==="object")_=_.version;return $===_;case"!==":if(typeof $==="object")$=$.version;if(typeof _==="object")_=_.version;return $!==_;case"":case"=":case"==":return uh($,_,K);case"!=":return xh($,_,K);case">":return ph($,_,K);case">=":return ch($,_,K);case"<":return mh($,_,K);case"<=":return dh($,_,K);default:throw TypeError(`Invalid operator: ${q}`)}};AZ.exports=lh});var GZ=N$((gs,kZ)=>{var rh=Cq(),oh=zK(),{safeRe:a1,t:Q1}=BK(),nh=($,q)=>{if($ instanceof rh)return $;if(typeof $==="number")$=String($);if(typeof $!=="string")return null;q=q||{};let _=null;if(!q.rtl)_=$.match(q.includePrerelease?a1[Q1.COERCEFULL]:a1[Q1.COERCE]);else{let H=q.includePrerelease?a1[Q1.COERCERTLFULL]:a1[Q1.COERCERTL],T;while((T=H.exec($))&&(!_||_.index+_[0].length!==$.length)){if(!_||T.index+T[0].length!==_.index+_[0].length)_=T;H.lastIndex=T.index+T[1].length+T[2].length}H.lastIndex=-1}if(_===null)return null;let K=_[2],P=_[3]||"0",O=_[4]||"0",Y=q.includePrerelease&&_[5]?`-${_[5]}`:"",z=q.includePrerelease&&_[6]?`+${_[6]}`:"";return oh(`${K}.${P}.${O}${Y}${z}`,q)};kZ.exports=nh});var MZ=N$((bs,SZ)=>{class VZ{constructor(){this.max=1000,this.map=new Map}get($){let q=this.map.get($);if(q===void 0)return;else return this.map.delete($),this.map.set($,q),q}delete($){return this.map.delete($)}set($,q){if(!this.delete($)&&q!==void 0){if(this.map.size>=this.max){let K=this.map.keys().next().value;this.delete(K)}this.map.set($,q)}return this}}SZ.exports=VZ});var J8=N$((ys,hZ)=>{var ih=/\s+/g;class kP{constructor($,q){if(q=th(q),$ instanceof kP)if($.loose===!!q.loose&&$.includePrerelease===!!q.includePrerelease)return $;else return new kP($.raw,q);if($ instanceof yO)return this.raw=$.value,this.set=[[$]],this.formatted=void 0,this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=$.trim().replace(ih," "),this.set=this.raw.split("||").map((_)=>this.parseRange(_.trim())).filter((_)=>_.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let _=this.set[0];if(this.set=this.set.filter((K)=>!CZ(K[0])),this.set.length===0)this.set=[_];else if(this.set.length>1){for(let K of this.set)if(K.length===1&&$R(K[0])){this.set=[K];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let $=0;$<this.set.length;$++){if($>0)this.formatted+="||";let q=this.set[$];for(let _=0;_<q.length;_++){if(_>0)this.formatted+=" ";this.formatted+=q[_].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange($){let _=((this.options.includePrerelease&&eh)|(this.options.loose&&sh))+":"+$,K=NZ.get(_);if(K)return K;let P=this.options.loose,O=P?Lq[Eq.HYPHENRANGELOOSE]:Lq[Eq.HYPHENRANGE];$=$.replace(O,WR(this.options.includePrerelease)),I6("hyphen replace",$),$=$.replace(Lq[Eq.COMPARATORTRIM],Fh),I6("comparator trim",$),$=$.replace(Lq[Eq.TILDETRIM],ah),I6("tilde trim",$),$=$.replace(Lq[Eq.CARETTRIM],Qh),I6("caret trim",$);let Y=$.split(" ").map((f)=>qR(f,this.options)).join(" ").split(/\s+/).map((f)=>zR(f,this.options));if(P)Y=Y.filter((f)=>{return I6("loose invalid filter",f,this.options),!!f.match(Lq[Eq.COMPARATORLOOSE])});I6("range list",Y);let z=new Map,H=Y.map((f)=>new yO(f,this.options));for(let f of H){if(CZ(f))return[f];z.set(f.value,f)}if(z.size>1&&z.has(""))z.delete("");let T=[...z.values()];return NZ.set(_,T),T}intersects($,q){if(!($ instanceof kP))throw TypeError("a Range is required");return this.set.some((_)=>{return EZ(_,q)&&$.set.some((K)=>{return EZ(K,q)&&_.every((P)=>{return K.every((O)=>{return P.intersects(O,q)})})})})}test($){if(!$)return!1;if(typeof $==="string")try{$=new Uh($,this.options)}catch(q){return!1}for(let q=0;q<this.set.length;q++)if(JR(this.set[q],$,this.options))return!0;return!1}}hZ.exports=kP;var Bh=MZ(),NZ=new Bh,th=l1(),yO=GP(),I6=XP(),Uh=Cq(),{safeRe:Lq,t:Eq,comparatorTrimReplace:Fh,tildeTrimReplace:ah,caretTrimReplace:Qh}=BK(),{FLAG_INCLUDE_PRERELEASE:eh,FLAG_LOOSE:sh}=ZP(),CZ=($)=>$.value==="<0.0.0-0",$R=($)=>$.value==="",EZ=($,q)=>{let _=!0,K=$.slice(),P=K.pop();while(_&&K.length)_=K.every((O)=>{return P.intersects(O,q)}),P=K.pop();return _},qR=($,q)=>{return $=$.replace(Lq[Eq.BUILD],""),I6("comp",$,q),$=PR($,q),I6("caret",$),$=_R($,q),I6("tildes",$),$=YR($,q),I6("xrange",$),$=vR($,q),I6("stars",$),$},gq=($)=>!$||$.toLowerCase()==="x"||$==="*",_R=($,q)=>{return $.trim().split(/\s+/).map((_)=>KR(_,q)).join(" ")},KR=($,q)=>{let _=q.loose?Lq[Eq.TILDELOOSE]:Lq[Eq.TILDE];return $.replace(_,(K,P,O,Y,z)=>{I6("tilde",$,K,P,O,Y,z);let H;if(gq(P))H="";else if(gq(O))H=`>=${P}.0.0 <${+P+1}.0.0-0`;else if(gq(Y))H=`>=${P}.${O}.0 <${P}.${+O+1}.0-0`;else if(z)I6("replaceTilde pr",z),H=`>=${P}.${O}.${Y}-${z} <${P}.${+O+1}.0-0`;else H=`>=${P}.${O}.${Y} <${P}.${+O+1}.0-0`;return I6("tilde return",H),H})},PR=($,q)=>{return $.trim().split(/\s+/).map((_)=>OR(_,q)).join(" ")},OR=($,q)=>{I6("caret",$,q);let _=q.loose?Lq[Eq.CARETLOOSE]:Lq[Eq.CARET],K=q.includePrerelease?"-0":"";return $.replace(_,(P,O,Y,z,H)=>{I6("caret",$,P,O,Y,z,H);let T;if(gq(O))T="";else if(gq(Y))T=`>=${O}.0.0${K} <${+O+1}.0.0-0`;else if(gq(z))if(O==="0")T=`>=${O}.${Y}.0${K} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.0${K} <${+O+1}.0.0-0`;else if(H)if(I6("replaceCaret pr",H),O==="0")if(Y==="0")T=`>=${O}.${Y}.${z}-${H} <${O}.${Y}.${+z+1}-0`;else T=`>=${O}.${Y}.${z}-${H} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.${z}-${H} <${+O+1}.0.0-0`;else if(I6("no pr"),O==="0")if(Y==="0")T=`>=${O}.${Y}.${z}${K} <${O}.${Y}.${+z+1}-0`;else T=`>=${O}.${Y}.${z}${K} <${O}.${+Y+1}.0-0`;else T=`>=${O}.${Y}.${z} <${+O+1}.0.0-0`;return I6("caret return",T),T})},YR=($,q)=>{return I6("replaceXRanges",$,q),$.split(/\s+/).map((_)=>jR(_,q)).join(" ")},jR=($,q)=>{$=$.trim();let _=q.loose?Lq[Eq.XRANGELOOSE]:Lq[Eq.XRANGE];return $.replace(_,(K,P,O,Y,z,H)=>{I6("xRange",$,K,P,O,Y,z,H);let T=gq(O),f=T||gq(Y),w=f||gq(z),k=w;if(P==="="&&k)P="";if(H=q.includePrerelease?"-0":"",T)if(P===">"||P==="<")K="<0.0.0-0";else K="*";else if(P&&k){if(f)Y=0;if(z=0,P===">")if(P=">=",f)O=+O+1,Y=0,z=0;else Y=+Y+1,z=0;else if(P==="<=")if(P="<",f)O=+O+1;else Y=+Y+1;if(P==="<")H="-0";K=`${P+O}.${Y}.${z}${H}`}else if(f)K=`>=${O}.0.0${H} <${+O+1}.0.0-0`;else if(w)K=`>=${O}.${Y}.0${H} <${O}.${+Y+1}.0-0`;return I6("xRange return",K),K})},vR=($,q)=>{return I6("replaceStars",$,q),$.trim().replace(Lq[Eq.STAR],"")},zR=($,q)=>{return I6("replaceGTE0",$,q),$.trim().replace(Lq[q.includePrerelease?Eq.GTE0PRE:Eq.GTE0],"")},WR=($)=>(q,_,K,P,O,Y,z,H,T,f,w,k)=>{if(gq(K))_="";else if(gq(P))_=`>=${K}.0.0${$?"-0":""}`;else if(gq(O))_=`>=${K}.${P}.0${$?"-0":""}`;else if(Y)_=`>=${_}`;else _=`>=${_}${$?"-0":""}`;if(gq(T))H="";else if(gq(f))H=`<${+T+1}.0.0-0`;else if(gq(w))H=`<${T}.${+f+1}.0-0`;else if(k)H=`<=${T}.${f}.${w}-${k}`;else if($)H=`<${T}.${f}.${+w+1}-0`;else H=`<=${H}`;return`${_} ${H}`.trim()},JR=($,q,_)=>{for(let K=0;K<$.length;K++)if(!$[K].test(q))return!1;if(q.prerelease.length&&!_.includePrerelease){for(let K=0;K<$.length;K++){if(I6($[K].semver),$[K].semver===yO.ANY)continue;if($[K].semver.prerelease.length>0){let P=$[K].semver;if(P.major===q.major&&P.minor===q.minor&&P.patch===q.patch)return!0}}return!1}return!0}});var GP=N$((us,bZ)=>{var VP=Symbol("SemVer ANY");class e1{static get ANY(){return VP}constructor($,q){if(q=RZ(q),$ instanceof e1)if($.loose===!!q.loose)return $;else $=$.value;if($=$.trim().split(/\s+/).join(" "),xO("comparator",$,q),this.options=q,this.loose=!!q.loose,this.parse($),this.semver===VP)this.value="";else this.value=this.operator+this.semver.version;xO("comp",this)}parse($){let q=this.options.loose?IZ[DZ.COMPARATORLOOSE]:IZ[DZ.COMPARATOR],_=$.match(q);if(!_)throw TypeError(`Invalid comparator: ${$}`);if(this.operator=_[1]!==void 0?_[1]:"",this.operator==="=")this.operator="";if(!_[2])this.semver=VP;else this.semver=new LZ(_[2],this.options.loose)}toString(){return this.value}test($){if(xO("Comparator.test",$,this.options.loose),this.semver===VP||$===VP)return!0;if(typeof $==="string")try{$=new LZ($,this.options)}catch(q){return!1}return uO($,this.operator,this.semver,this.options)}intersects($,q){if(!($ instanceof e1))throw TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new gZ($.value,q).test(this.value)}else if($.operator===""){if($.value==="")return!0;return new gZ(this.value,q).test($.semver)}if(q=RZ(q),q.includePrerelease&&(this.value==="<0.0.0-0"||$.value==="<0.0.0-0"))return!1;if(!q.includePrerelease&&(this.value.startsWith("<0.0.0")||$.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&$.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&$.operator.startsWith("<"))return!0;if(this.semver.version===$.semver.version&&this.operator.includes("=")&&$.operator.includes("="))return!0;if(uO(this.semver,"<",$.semver,q)&&this.operator.startsWith(">")&&$.operator.startsWith("<"))return!0;if(uO(this.semver,">",$.semver,q)&&this.operator.startsWith("<")&&$.operator.startsWith(">"))return!0;return!1}}bZ.exports=e1;var RZ=l1(),{safeRe:IZ,t:DZ}=BK(),uO=bO(),xO=XP(),LZ=Cq(),gZ=J8()});var SP=N$((xs,yZ)=>{var HR=J8(),TR=($,q,_)=>{try{q=new HR(q,_)}catch(K){return!1}return q.test($)};yZ.exports=TR});var xZ=N$((ps,uZ)=>{var wR=J8(),fR=($,q)=>new wR($,q).set.map((_)=>_.map((K)=>K.value).join(" ").trim().split(" "));uZ.exports=fR});var cZ=N$((cs,pZ)=>{var ZR=Cq(),XR=J8(),AR=($,q,_)=>{let K=null,P=null,O=null;try{O=new XR(q,_)}catch(Y){return null}return $.forEach((Y)=>{if(O.test(Y)){if(!K||P.compare(Y)===-1)K=Y,P=new ZR(K,_)}}),K};pZ.exports=AR});var dZ=N$((ms,mZ)=>{var kR=Cq(),GR=J8(),VR=($,q,_)=>{let K=null,P=null,O=null;try{O=new GR(q,_)}catch(Y){return null}return $.forEach((Y)=>{if(O.test(Y)){if(!K||P.compare(Y)===1)K=Y,P=new kR(K,_)}}),K};mZ.exports=VR});var oZ=N$((ds,rZ)=>{var pO=Cq(),SR=J8(),lZ=AP(),MR=($,q)=>{$=new SR($,q);let _=new pO("0.0.0");if($.test(_))return _;if(_=new pO("0.0.0-0"),$.test(_))return _;_=null;for(let K=0;K<$.set.length;++K){let P=$.set[K],O=null;if(P.forEach((Y)=>{let z=new pO(Y.semver.version);switch(Y.operator){case">":if(z.prerelease.length===0)z.patch++;else z.prerelease.push(0);z.raw=z.format();case"":case">=":if(!O||lZ(z,O))O=z;break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${Y.operator}`)}}),O&&(!_||lZ(_,O)))_=O}if(_&&$.test(_))return _;return null};rZ.exports=MR});var iZ=N$((ls,nZ)=>{var NR=J8(),CR=($,q)=>{try{return new NR($,q).range||"*"}catch(_){return null}};nZ.exports=CR});var s1=N$((rs,FZ)=>{var ER=Cq(),UZ=GP(),{ANY:hR}=UZ,RR=J8(),IR=SP(),BZ=AP(),tZ=t1(),DR=F1(),LR=U1(),gR=($,q,_,K)=>{$=new ER($,K),q=new RR(q,K);let P,O,Y,z,H;switch(_){case">":P=BZ,O=DR,Y=tZ,z=">",H=">=";break;case"<":P=tZ,O=LR,Y=BZ,z="<",H="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(IR($,q,K))return!1;for(let T=0;T<q.set.length;++T){let f=q.set[T],w=null,k=null;if(f.forEach((S)=>{if(S.semver===hR)S=new UZ(">=0.0.0");if(w=w||S,k=k||S,P(S.semver,w.semver,K))w=S;else if(Y(S.semver,k.semver,K))k=S}),w.operator===z||w.operator===H)return!1;if((!k.operator||k.operator===z)&&O($,k.semver))return!1;else if(k.operator===H&&Y($,k.semver))return!1}return!0};FZ.exports=gR});var QZ=N$((os,aZ)=>{var bR=s1(),yR=($,q,_)=>bR($,q,">",_);aZ.exports=yR});var sZ=N$((ns,eZ)=>{var uR=s1(),xR=($,q,_)=>uR($,q,"<",_);eZ.exports=xR});var _X=N$((is,qX)=>{var $X=J8(),pR=($,q,_)=>{return $=new $X($,_),q=new $X(q,_),$.intersects(q,_)};qX.exports=pR});var PX=N$((Bs,KX)=>{var cR=SP(),mR=W8();KX.exports=($,q,_)=>{let K=[],P=null,O=null,Y=$.sort((f,w)=>mR(f,w,_));for(let f of Y)if(cR(f,q,_)){if(O=f,!P)P=f}else{if(O)K.push([P,O]);O=null,P=null}if(P)K.push([P,null]);let z=[];for(let[f,w]of K)if(f===w)z.push(f);else if(!w&&f===Y[0])z.push("*");else if(!w)z.push(`>=${f}`);else if(f===Y[0])z.push(`<=${w}`);else z.push(`${f} - ${w}`);let H=z.join(" || "),T=typeof q.raw==="string"?q.raw:String(q);return H.length<T.length?H:q}});var WX=N$((ts,zX)=>{var OX=J8(),mO=GP(),{ANY:cO}=mO,MP=SP(),dO=W8(),dR=($,q,_={})=>{if($===q)return!0;$=new OX($,_),q=new OX(q,_);let K=!1;$:for(let P of $.set){for(let O of q.set){let Y=rR(P,O,_);if(K=K||Y!==null,Y)continue $}if(K)return!1}return!0},lR=[new mO(">=0.0.0-0")],YX=[new mO(">=0.0.0")],rR=($,q,_)=>{if($===q)return!0;if($.length===1&&$[0].semver===cO)if(q.length===1&&q[0].semver===cO)return!0;else if(_.includePrerelease)$=lR;else $=YX;if(q.length===1&&q[0].semver===cO)if(_.includePrerelease)return!0;else q=YX;let K=new Set,P,O;for(let S of $)if(S.operator===">"||S.operator===">=")P=jX(P,S,_);else if(S.operator==="<"||S.operator==="<=")O=vX(O,S,_);else K.add(S.semver);if(K.size>1)return null;let Y;if(P&&O){if(Y=dO(P.semver,O.semver,_),Y>0)return null;else if(Y===0&&(P.operator!==">="||O.operator!=="<="))return null}for(let S of K){if(P&&!MP(S,String(P),_))return null;if(O&&!MP(S,String(O),_))return null;for(let N of q)if(!MP(S,String(N),_))return!1;return!0}let z,H,T,f,w=O&&!_.includePrerelease&&O.semver.prerelease.length?O.semver:!1,k=P&&!_.includePrerelease&&P.semver.prerelease.length?P.semver:!1;if(w&&w.prerelease.length===1&&O.operator==="<"&&w.prerelease[0]===0)w=!1;for(let S of q){if(f=f||S.operator===">"||S.operator===">=",T=T||S.operator==="<"||S.operator==="<=",P){if(k){if(S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===k.major&&S.semver.minor===k.minor&&S.semver.patch===k.patch)k=!1}if(S.operator===">"||S.operator===">="){if(z=jX(P,S,_),z===S&&z!==P)return!1}else if(P.operator===">="&&!MP(P.semver,String(S),_))return!1}if(O){if(w){if(S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===w.major&&S.semver.minor===w.minor&&S.semver.patch===w.patch)w=!1}if(S.operator==="<"||S.operator==="<="){if(H=vX(O,S,_),H===S&&H!==O)return!1}else if(O.operator==="<="&&!MP(O.semver,String(S),_))return!1}if(!S.operator&&(O||P)&&Y!==0)return!1}if(P&&T&&!O&&Y!==0)return!1;if(O&&f&&!P&&Y!==0)return!1;if(k||w)return!1;return!0},jX=($,q,_)=>{if(!$)return q;let K=dO($.semver,q.semver,_);return K>0?$:K<0?q:q.operator===">"&&$.operator===">="?q:$},vX=($,q,_)=>{if(!$)return q;let K=dO($.semver,q.semver,_);return K<0?$:K>0?q:q.operator==="<"&&$.operator==="<="?q:$};zX.exports=dR});var wX=N$((Us,TX)=>{var lO=BK(),JX=ZP(),oR=Cq(),HX=IO(),nR=zK(),iR=xf(),BR=cf(),tR=lf(),UR=nf(),FR=tf(),aR=Ff(),QR=Qf(),eR=sf(),sR=W8(),$I=KZ(),qI=OZ(),_I=B1(),KI=zZ(),PI=JZ(),OI=AP(),YI=t1(),jI=LO(),vI=gO(),zI=U1(),WI=F1(),JI=bO(),HI=GZ(),TI=GP(),wI=J8(),fI=SP(),ZI=xZ(),XI=cZ(),AI=dZ(),kI=oZ(),GI=iZ(),VI=s1(),SI=QZ(),MI=sZ(),NI=_X(),CI=PX(),EI=WX();TX.exports={parse:nR,valid:iR,clean:BR,inc:tR,diff:UR,major:FR,minor:aR,patch:QR,prerelease:eR,compare:sR,rcompare:$I,compareLoose:qI,compareBuild:_I,sort:KI,rsort:PI,gt:OI,lt:YI,eq:jI,neq:vI,gte:zI,lte:WI,cmp:JI,coerce:HI,Comparator:TI,Range:wI,satisfies:fI,toComparators:ZI,maxSatisfying:XI,minSatisfying:AI,minVersion:kI,validRange:GI,outside:VI,gtr:SI,ltr:MI,intersects:NI,simplifyRange:CI,subset:EI,SemVer:oR,re:lO.re,src:lO.src,tokens:lO.t,SEMVER_SPEC_VERSION:JX.SEMVER_SPEC_VERSION,RELEASE_TYPES:JX.RELEASE_TYPES,compareIdentifiers:HX.compareIdentifiers,rcompareIdentifiers:HX.rcompareIdentifiers}});var xX=N$((p$$,uX)=>{var bX=($=0)=>(q)=>`\x1B[${38+$};5;${q}m`,yX=($=0)=>(q,_,K)=>`\x1B[${38+$};2;${q};${_};${K}m`;function UI(){let $=new Map,q={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};q.color.gray=q.color.blackBright,q.bgColor.bgGray=q.bgColor.bgBlackBright,q.color.grey=q.color.blackBright,q.bgColor.bgGrey=q.bgColor.bgBlackBright;for(let[_,K]of Object.entries(q)){for(let[P,O]of Object.entries(K))q[P]={open:`\x1B[${O[0]}m`,close:`\x1B[${O[1]}m`},K[P]=q[P],$.set(O[0],O[1]);Object.defineProperty(q,_,{value:K,enumerable:!1})}return Object.defineProperty(q,"codes",{value:$,enumerable:!1}),q.color.close="\x1B[39m",q.bgColor.close="\x1B[49m",q.color.ansi256=bX(),q.color.ansi16m=yX(),q.bgColor.ansi256=bX(10),q.bgColor.ansi16m=yX(10),Object.defineProperties(q,{rgbToAnsi256:{value:(_,K,P)=>{if(_===K&&K===P){if(_<8)return 16;if(_>248)return 231;return Math.round((_-8)/247*24)+232}return 16+36*Math.round(_/255*5)+6*Math.round(K/255*5)+Math.round(P/255*5)},enumerable:!1},hexToRgb:{value:(_)=>{let K=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(_.toString(16));if(!K)return[0,0,0];let{colorString:P}=K.groups;if(P.length===3)P=P.split("").map((Y)=>Y+Y).join("");let O=Number.parseInt(P,16);return[O>>16&255,O>>8&255,O&255]},enumerable:!1},hexToAnsi256:{value:(_)=>q.rgbToAnsi256(...q.hexToRgb(_)),enumerable:!1}}),q}Object.defineProperty(uX,"exports",{enumerable:!0,get:UI})});var kk=N$((Gu)=>{Gu.byteLength=wu;Gu.toByteArray=Zu;Gu.fromByteArray=ku;var Q8=[],k8=[],Tu=typeof Uint8Array<"u"?Uint8Array:Array,Bz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(e_=0,tz=Bz.length;e_<tz;++e_)Q8[e_]=Bz[e_],k8[Bz.charCodeAt(e_)]=e_;var e_,tz;k8[45]=62;k8[95]=63;function Ak($){var q=$.length;if(q%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=$.indexOf("=");if(_===-1)_=q;var K=_===q?0:4-_%4;return[_,K]}function wu($){var q=Ak($),_=q[0],K=q[1];return(_+K)*3/4-K}function fu($,q,_){return(q+_)*3/4-_}function Zu($){var q,_=Ak($),K=_[0],P=_[1],O=new Tu(fu($,K,P)),Y=0,z=P>0?K-4:K,H;for(H=0;H<z;H+=4)q=k8[$.charCodeAt(H)]<<18|k8[$.charCodeAt(H+1)]<<12|k8[$.charCodeAt(H+2)]<<6|k8[$.charCodeAt(H+3)],O[Y++]=q>>16&255,O[Y++]=q>>8&255,O[Y++]=q&255;if(P===2)q=k8[$.charCodeAt(H)]<<2|k8[$.charCodeAt(H+1)]>>4,O[Y++]=q&255;if(P===1)q=k8[$.charCodeAt(H)]<<10|k8[$.charCodeAt(H+1)]<<4|k8[$.charCodeAt(H+2)]>>2,O[Y++]=q>>8&255,O[Y++]=q&255;return O}function Xu($){return Q8[$>>18&63]+Q8[$>>12&63]+Q8[$>>6&63]+Q8[$&63]}function Au($,q,_){var K,P=[];for(var O=q;O<_;O+=3)K=($[O]<<16&16711680)+($[O+1]<<8&65280)+($[O+2]&255),P.push(Xu(K));return P.join("")}function ku($){var q,_=$.length,K=_%3,P=[],O=16383;for(var Y=0,z=_-K;Y<z;Y+=O)P.push(Au($,Y,Y+O>z?z:Y+O));if(K===1)q=$[_-1],P.push(Q8[q>>2]+Q8[q<<4&63]+"==");else if(K===2)q=($[_-2]<<8)+$[_-1],P.push(Q8[q>>10]+Q8[q>>4&63]+Q8[q<<2&63]+"=");return P.join("")}});var cq=N$((ou)=>{ou.__esModule=!0;ou.extend=Sk;ou.indexOf=pu;ou.escapeExpression=cu;ou.isEmpty=mu;ou.createFrame=du;ou.blockParams=lu;ou.appendContextPath=ru;var bu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},yu=/[&<>"'`=]/g,uu=/[&<>"'`=]/;function xu($){return bu[$]}function Sk($){for(var q=1;q<arguments.length;q++)for(var _ in arguments[q])if(Object.prototype.hasOwnProperty.call(arguments[q],_))$[_]=arguments[q][_];return $}var sz=Object.prototype.toString;ou.toString=sz;var ez=function(q){return typeof q==="function"};if(ez(/x/))ou.isFunction=ez=function($){return typeof $==="function"&&sz.call($)==="[object Function]"};ou.isFunction=ez;var Mk=Array.isArray||function($){return $&&typeof $==="object"?sz.call($)==="[object Array]":!1};ou.isArray=Mk;function pu($,q){for(var _=0,K=$.length;_<K;_++)if($[_]===q)return _;return-1}function cu($){if(typeof $!=="string"){if($&&$.toHTML)return $.toHTML();else if($==null)return"";else if(!$)return $+"";$=""+$}if(!uu.test($))return $;return $.replace(yu,xu)}function mu($){if(!$&&$!==0)return!0;else if(Mk($)&&$.length===0)return!0;else return!1}function du($){var q=Sk({},$);return q._parent=$,q}function lu($,q){return $.path=q,$}function ru($,q){return($?$+".":"")+q}});var G8=N$((Nk,Ck)=>{Nk.__esModule=!0;var $W=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function qW($,q){var _=q&&q.loc,K=void 0,P=void 0,O=void 0,Y=void 0;if(_)K=_.start.line,P=_.end.line,O=_.start.column,Y=_.end.column,$+=" - "+K+":"+O;var z=Error.prototype.constructor.call(this,$);for(var H=0;H<$W.length;H++)this[$W[H]]=z[$W[H]];if(Error.captureStackTrace)Error.captureStackTrace(this,qW);try{if(_)if(this.lineNumber=K,this.endLineNumber=P,Object.defineProperty)Object.defineProperty(this,"column",{value:O,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:Y,enumerable:!0});else this.column=O,this.endColumn=Y}catch(T){}}qW.prototype=Error();Nk.default=qW;Ck.exports=Nk.default});var Rk=N$((Ek,hk)=>{Ek.__esModule=!0;var _W=cq();Ek.default=function($){$.registerHelper("blockHelperMissing",function(q,_){var{inverse:K,fn:P}=_;if(q===!0)return P(this);else if(q===!1||q==null)return K(this);else if(_W.isArray(q))if(q.length>0){if(_.ids)_.ids=[_.name];return $.helpers.each(q,_)}else return K(this);else{if(_.data&&_.ids){var O=_W.createFrame(_.data);O.contextPath=_W.appendContextPath(_.data.contextPath,_.name),_={data:O}}return P(q,_)}})};hk.exports=Ek.default});var Lk=N$((Ik,Dk)=>{Ik.__esModule=!0;function Ox($){return $&&$.__esModule?$:{default:$}}var L7=cq(),Yx=G8(),jx=Ox(Yx);Ik.default=function($){$.registerHelper("each",function(q,_){if(!_)throw new jx.default("Must pass iterator to #each");var{fn:K,inverse:P}=_,O=0,Y="",z=void 0,H=void 0;if(_.data&&_.ids)H=L7.appendContextPath(_.data.contextPath,_.ids[0])+".";if(L7.isFunction(q))q=q.call(this);if(_.data)z=L7.createFrame(_.data);function T(N,h,E){if(z){if(z.key=N,z.index=h,z.first=h===0,z.last=!!E,H)z.contextPath=H+N}Y=Y+K(q[N],{data:z,blockParams:L7.blockParams([q[N],N],[H+N,null])})}if(q&&typeof q==="object")if(L7.isArray(q)){for(var f=q.length;O<f;O++)if(O in q)T(O,O,O===q.length-1)}else if(typeof Symbol==="function"&&q[Symbol.iterator]){var w=[],k=q[Symbol.iterator]();for(var S=k.next();!S.done;S=k.next())w.push(S.value);q=w;for(var f=q.length;O<f;O++)T(O,O,O===q.length-1)}else(function(){var N=void 0;if(Object.keys(q).forEach(function(h){if(N!==void 0)T(N,O-1);N=h,O++}),N!==void 0)T(N,O-1,!0)})();if(O===0)Y=P(this);return Y})};Dk.exports=Ik.default});var yk=N$((gk,bk)=>{gk.__esModule=!0;function Wx($){return $&&$.__esModule?$:{default:$}}var Jx=G8(),Hx=Wx(Jx);gk.default=function($){$.registerHelper("helperMissing",function(){if(arguments.length===1)return;else throw new Hx.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})};bk.exports=gk.default});var mk=N$((pk,ck)=>{pk.__esModule=!0;function fx($){return $&&$.__esModule?$:{default:$}}var uk=cq(),Zx=G8(),xk=fx(Zx);pk.default=function($){$.registerHelper("if",function(q,_){if(arguments.length!=2)throw new xk.default("#if requires exactly one argument");if(uk.isFunction(q))q=q.call(this);if(!_.hash.includeZero&&!q||uk.isEmpty(q))return _.inverse(this);else return _.fn(this)}),$.registerHelper("unless",function(q,_){if(arguments.length!=2)throw new xk.default("#unless requires exactly one argument");return $.helpers.if.call(this,q,{fn:_.inverse,inverse:_.fn,hash:_.hash})})};ck.exports=pk.default});var rk=N$((dk,lk)=>{dk.__esModule=!0;dk.default=function($){$.registerHelper("log",function(){var q=[void 0],_=arguments[arguments.length-1];for(var K=0;K<arguments.length-1;K++)q.push(arguments[K]);var P=1;if(_.hash.level!=null)P=_.hash.level;else if(_.data&&_.data.level!=null)P=_.data.level;q[0]=P,$.log.apply($,q)})};lk.exports=dk.default});var ik=N$((ok,nk)=>{ok.__esModule=!0;ok.default=function($){$.registerHelper("lookup",function(q,_,K){if(!q)return q;return K.lookupProperty(q,_)})};nk.exports=ok.default});var Uk=N$((Bk,tk)=>{Bk.__esModule=!0;function Mx($){return $&&$.__esModule?$:{default:$}}var g7=cq(),Nx=G8(),Cx=Mx(Nx);Bk.default=function($){$.registerHelper("with",function(q,_){if(arguments.length!=2)throw new Cx.default("#with requires exactly one argument");if(g7.isFunction(q))q=q.call(this);var K=_.fn;if(!g7.isEmpty(q)){var P=_.data;if(_.data&&_.ids)P=g7.createFrame(_.data),P.contextPath=g7.appendContextPath(_.data.contextPath,_.ids[0]);return K(q,{data:P,blockParams:g7.blockParams([q],[P&&P.contextPath])})}else return _.inverse(this)})};tk.exports=Bk.default});var KW=N$((nx)=>{nx.__esModule=!0;nx.registerDefaultHelpers=rx;nx.moveHelperToHooks=ox;function hK($){return $&&$.__esModule?$:{default:$}}var Rx=Rk(),Ix=hK(Rx),Dx=Lk(),Lx=hK(Dx),gx=yk(),bx=hK(gx),yx=mk(),ux=hK(yx),xx=rk(),px=hK(xx),cx=ik(),mx=hK(cx),dx=Uk(),lx=hK(dx);function rx($){Ix.default($),Lx.default($),bx.default($),ux.default($),px.default($),mx.default($),lx.default($)}function ox($,q,_){if($.helpers[q]){if($.hooks[q]=$.helpers[q],!_)delete $.helpers[q]}}});var Qk=N$((Fk,ak)=>{Fk.__esModule=!0;var Ux=cq();Fk.default=function($){$.registerDecorator("inline",function(q,_,K,P){var O=q;if(!_.partials)_.partials={},O=function(Y,z){var H=K.partials;K.partials=Ux.extend({},H,_.partials);var T=q(Y,z);return K.partials=H,T};return _.partials[P.args[0]]=P.fn,O})};ak.exports=Fk.default});var ek=N$((qp)=>{qp.__esModule=!0;qp.registerDefaultDecorators=$p;function Qx($){return $&&$.__esModule?$:{default:$}}var ex=Qk(),sx=Qx(ex);function $p($){sx.default($)}});var PW=N$((sk,$G)=>{sk.__esModule=!0;var Pp=cq(),I4={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(q){if(typeof q==="string"){var _=Pp.indexOf(I4.methodMap,q.toLowerCase());if(_>=0)q=_;else q=parseInt(q,10)}return q},log:function(q){if(q=I4.lookupLevel(q),typeof console<"u"&&I4.lookupLevel(I4.level)<=q){var _=I4.methodMap[q];if(!console[_])_="log";for(var K=arguments.length,P=Array(K>1?K-1:0),O=1;O<K;O++)P[O-1]=arguments[O];console[_].apply(console,P)}}};sk.default=I4;$G.exports=sk.default});var qG=N$((zp)=>{zp.__esModule=!0;zp.createNewLookupObject=vp;var jp=cq();function vp(){for(var $=arguments.length,q=Array($),_=0;_<$;_++)q[_]=arguments[_];return jp.extend.apply(void 0,[Object.create(null)].concat(q))}});var OW=N$((kp)=>{kp.__esModule=!0;kp.createProtoAccessControl=fp;kp.resultIsAllowed=Zp;kp.resetLoggedProperties=Ap;function Hp($){return $&&$.__esModule?$:{default:$}}var _G=qG(),Tp=PW(),wp=Hp(Tp),I5=Object.create(null);function fp($){var q=Object.create(null);q.constructor=!1,q.__defineGetter__=!1,q.__defineSetter__=!1,q.__lookupGetter__=!1;var _=Object.create(null);return _.__proto__=!1,{properties:{whitelist:_G.createNewLookupObject(_,$.allowedProtoProperties),defaultValue:$.allowProtoPropertiesByDefault},methods:{whitelist:_G.createNewLookupObject(q,$.allowedProtoMethods),defaultValue:$.allowProtoMethodsByDefault}}}function Zp($,q,_){if(typeof $==="function")return KG(q.methods,_);else return KG(q.properties,_)}function KG($,q){if($.whitelist[q]!==void 0)return $.whitelist[q]===!0;if($.defaultValue!==void 0)return $.defaultValue;return Xp(q),!1}function Xp($){if(I5[$]!==!0)I5[$]=!0,wp.default.log("error",'Handlebars: Access has been denied to resolve the property "'+$+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`)}function Ap(){Object.keys(I5).forEach(function($){delete I5[$]})}});var L5=N$((yp)=>{yp.__esModule=!0;yp.HandlebarsEnvironment=vW;function PG($){return $&&$.__esModule?$:{default:$}}var RK=cq(),Np=G8(),YW=PG(Np),Cp=KW(),Ep=ek(),hp=PW(),D5=PG(hp),Rp=OW(),Ip="4.7.8";yp.VERSION=Ip;var Dp=8;yp.COMPILER_REVISION=Dp;var Lp=7;yp.LAST_COMPATIBLE_COMPILER_REVISION=Lp;var gp={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};yp.REVISION_CHANGES=gp;var jW="[object Object]";function vW($,q,_){this.helpers=$||{},this.partials=q||{},this.decorators=_||{},Cp.registerDefaultHelpers(this),Ep.registerDefaultDecorators(this)}vW.prototype={constructor:vW,logger:D5.default,log:D5.default.log,registerHelper:function(q,_){if(RK.toString.call(q)===jW){if(_)throw new YW.default("Arg not supported with multiple helpers");RK.extend(this.helpers,q)}else this.helpers[q]=_},unregisterHelper:function(q){delete this.helpers[q]},registerPartial:function(q,_){if(RK.toString.call(q)===jW)RK.extend(this.partials,q);else{if(typeof _>"u")throw new YW.default('Attempting to register a partial called "'+q+'" as undefined');this.partials[q]=_}},unregisterPartial:function(q){delete this.partials[q]},registerDecorator:function(q,_){if(RK.toString.call(q)===jW){if(_)throw new YW.default("Arg not supported with multiple decorators");RK.extend(this.decorators,q)}else this.decorators[q]=_},unregisterDecorator:function(q){delete this.decorators[q]},resetLoggedPropertyAccesses:function(){Rp.resetLoggedProperties()}};var bp=D5.default.log;yp.log=bp;yp.createFrame=RK.createFrame;yp.logger=D5.default});var jG=N$((OG,YG)=>{OG.__esModule=!0;function zW($){this.string=$}zW.prototype.toString=zW.prototype.toHTML=function(){return""+this.string};OG.default=zW;YG.exports=OG.default});var vG=N$((tp)=>{tp.__esModule=!0;tp.wrapHelper=Bp;function Bp($,q){if(typeof $!=="function")return $;var _=function(){var P=arguments[arguments.length-1];return arguments[arguments.length-1]=q(P),$.apply(this,arguments)};return _}});var TG=N$((vc)=>{vc.__esModule=!0;vc.checkRevision=qc;vc.template=_c;vc.wrapProgram=g5;vc.resolvePartial=Kc;vc.invokePartial=Pc;vc.noop=JG;function ap($){return $&&$.__esModule?$:{default:$}}function Qp($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}var ep=cq(),Z_=Qp(ep),sp=G8(),X_=ap(sp),A_=L5(),zG=KW(),$c=vG(),WG=OW();function qc($){var q=$&&$[0]||1,_=A_.COMPILER_REVISION;if(q>=A_.LAST_COMPATIBLE_COMPILER_REVISION&&q<=A_.COMPILER_REVISION)return;if(q<A_.LAST_COMPATIBLE_COMPILER_REVISION){var K=A_.REVISION_CHANGES[_],P=A_.REVISION_CHANGES[q];throw new X_.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+K+") or downgrade your runtime to an older version ("+P+").")}else throw new X_.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+$[1]+").")}function _c($,q){if(!q)throw new X_.default("No environment passed to template");if(!$||!$.main)throw new X_.default("Unknown template object: "+typeof $);$.main.decorator=$.main_d,q.VM.checkRevision($.compiler);var _=$.compiler&&$.compiler[0]===7;function K(Y,z,H){if(H.hash){if(z=Z_.extend({},z,H.hash),H.ids)H.ids[0]=!0}Y=q.VM.resolvePartial.call(this,Y,z,H);var T=Z_.extend({},H,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),f=q.VM.invokePartial.call(this,Y,z,T);if(f==null&&q.compile)H.partials[H.name]=q.compile(Y,$.compilerOptions,q),f=H.partials[H.name](z,T);if(f!=null){if(H.indent){var w=f.split(`
`);for(var k=0,S=w.length;k<S;k++){if(!w[k]&&k+1===S)break;w[k]=H.indent+w[k]}f=w.join(`
`)}return f}else throw new X_.default("The partial "+H.name+" could not be compiled when running in runtime-only mode")}var P={strict:function(z,H,T){if(!z||!(H in z))throw new X_.default('"'+H+'" not defined in '+z,{loc:T});return P.lookupProperty(z,H)},lookupProperty:function(z,H){var T=z[H];if(T==null)return T;if(Object.prototype.hasOwnProperty.call(z,H))return T;if(WG.resultIsAllowed(T,P.protoAccessControl,H))return T;return},lookup:function(z,H){var T=z.length;for(var f=0;f<T;f++){var w=z[f]&&P.lookupProperty(z[f],H);if(w!=null)return z[f][H]}},lambda:function(z,H){return typeof z==="function"?z.call(H):z},escapeExpression:Z_.escapeExpression,invokePartial:K,fn:function(z){var H=$[z];return H.decorator=$[z+"_d"],H},programs:[],program:function(z,H,T,f,w){var k=this.programs[z],S=this.fn(z);if(H||w||f||T)k=g5(this,z,S,H,T,f,w);else if(!k)k=this.programs[z]=g5(this,z,S);return k},data:function(z,H){while(z&&H--)z=z._parent;return z},mergeIfNeeded:function(z,H){var T=z||H;if(z&&H&&z!==H)T=Z_.extend({},H,z);return T},nullContext:Object.seal({}),noop:q.VM.noop,compilerInfo:$.compiler};function O(Y){var z=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],H=z.data;if(O._setup(z),!z.partial&&$.useData)H=Oc(Y,H);var T=void 0,f=$.useBlockParams?[]:void 0;if($.useDepths)if(z.depths)T=Y!=z.depths[0]?[Y].concat(z.depths):z.depths;else T=[Y];function w(k){return""+$.main(P,k,P.helpers,P.partials,H,f,T)}return w=HG($.main,w,P,z.depths||[],H,f),w(Y,z)}return O.isTop=!0,O._setup=function(Y){if(!Y.partial){var z=Z_.extend({},q.helpers,Y.helpers);if(Yc(z,P),P.helpers=z,$.usePartial)P.partials=P.mergeIfNeeded(Y.partials,q.partials);if($.usePartial||$.useDecorators)P.decorators=Z_.extend({},q.decorators,Y.decorators);P.hooks={},P.protoAccessControl=WG.createProtoAccessControl(Y);var H=Y.allowCallsToHelperMissing||_;zG.moveHelperToHooks(P,"helperMissing",H),zG.moveHelperToHooks(P,"blockHelperMissing",H)}else P.protoAccessControl=Y.protoAccessControl,P.helpers=Y.helpers,P.partials=Y.partials,P.decorators=Y.decorators,P.hooks=Y.hooks},O._child=function(Y,z,H,T){if($.useBlockParams&&!H)throw new X_.default("must pass block params");if($.useDepths&&!T)throw new X_.default("must pass parent depths");return g5(P,Y,$[Y],z,0,H,T)},O}function g5($,q,_,K,P,O,Y){function z(H){var T=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],f=Y;if(Y&&H!=Y[0]&&!(H===$.nullContext&&Y[0]===null))f=[H].concat(Y);return _($,H,$.helpers,$.partials,T.data||K,O&&[T.blockParams].concat(O),f)}return z=HG(_,z,$,Y,K,O),z.program=q,z.depth=Y?Y.length:0,z.blockParams=P||0,z}function Kc($,q,_){if(!$)if(_.name==="@partial-block")$=_.data["partial-block"];else $=_.partials[_.name];else if(!$.call&&!_.name)_.name=$,$=_.partials[$];return $}function Pc($,q,_){var K=_.data&&_.data["partial-block"];if(_.partial=!0,_.ids)_.data.contextPath=_.ids[0]||_.data.contextPath;var P=void 0;if(_.fn&&_.fn!==JG)(function(){_.data=A_.createFrame(_.data);var O=_.fn;if(P=_.data["partial-block"]=function(z){var H=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return H.data=A_.createFrame(H.data),H.data["partial-block"]=K,O(z,H)},O.partials)_.partials=Z_.extend({},_.partials,O.partials)})();if($===void 0&&P)$=P;if($===void 0)throw new X_.default("The partial "+_.name+" could not be found");else if($ instanceof Function)return $(q,_)}function JG(){return""}function Oc($,q){if(!q||!("root"in q))q=q?A_.createFrame(q):{},q.root=$;return q}function HG($,q,_,K,P,O){if($.decorator){var Y={};q=$.decorator(q,Y,_,K&&K[0],P,O,K),Z_.extend(q,Y)}return q}function Yc($,q){Object.keys($).forEach(function(_){var K=$[_];$[_]=jc(K,q)})}function jc($,q){var _=q.lookupProperty;return $c.wrapHelper($,function(K){return Z_.extend({lookupProperty:_},K)})}});var WW=N$((wG,fG)=>{wG.__esModule=!0;wG.default=function($){(function(){if(typeof globalThis==="object")return;Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__})();var q=globalThis.Handlebars;$.noConflict=function(){if(globalThis.Handlebars===$)globalThis.Handlebars=q;return $}};fG.exports=wG.default});var VG=N$((kG,GG)=>{kG.__esModule=!0;function HW($){return $&&$.__esModule?$:{default:$}}function TW($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}var Ac=L5(),ZG=TW(Ac),kc=jG(),Gc=HW(kc),Vc=G8(),Sc=HW(Vc),Mc=cq(),JW=TW(Mc),Nc=TG(),XG=TW(Nc),Cc=WW(),Ec=HW(Cc);function AG(){var $=new ZG.HandlebarsEnvironment;return JW.extend($,ZG),$.SafeString=Gc.default,$.Exception=Sc.default,$.Utils=JW,$.escapeExpression=JW.escapeExpression,$.VM=XG,$.template=function(q){return XG.template(q,$)},$}var b7=AG();b7.create=AG;Ec.default(b7);b7.default=b7;kG.default=b7;GG.exports=kG.default});var wW=N$((MG,NG)=>{MG.__esModule=!0;var SG={helpers:{helperExpression:function(q){return q.type==="SubExpression"||(q.type==="MustacheStatement"||q.type==="BlockStatement")&&!!(q.params&&q.params.length||q.hash)},scopedId:function(q){return/^\.|this\b/.test(q.original)},simpleId:function(q){return q.parts.length===1&&!SG.helpers.scopedId(q)&&!q.depth}}};MG.default=SG;NG.exports=MG.default});var hG=N$((CG,EG)=>{CG.__esModule=!0;var Lc=function(){var $={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(P,O,Y,z,H,T,f){var w=T.length-1;switch(H){case 1:return T[w-1];case 2:this.$=z.prepareProgram(T[w]);break;case 3:this.$=T[w];break;case 4:this.$=T[w];break;case 5:this.$=T[w];break;case 6:this.$=T[w];break;case 7:this.$=T[w];break;case 8:this.$=T[w];break;case 9:this.$={type:"CommentStatement",value:z.stripComment(T[w]),strip:z.stripFlags(T[w],T[w]),loc:z.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:T[w],value:T[w],loc:z.locInfo(this._$)};break;case 11:this.$=z.prepareRawBlock(T[w-2],T[w-1],T[w],this._$);break;case 12:this.$={path:T[w-3],params:T[w-2],hash:T[w-1]};break;case 13:this.$=z.prepareBlock(T[w-3],T[w-2],T[w-1],T[w],!1,this._$);break;case 14:this.$=z.prepareBlock(T[w-3],T[w-2],T[w-1],T[w],!0,this._$);break;case 15:this.$={open:T[w-5],path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:z.stripFlags(T[w-5],T[w])};break;case 16:this.$={path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:z.stripFlags(T[w-5],T[w])};break;case 17:this.$={path:T[w-4],params:T[w-3],hash:T[w-2],blockParams:T[w-1],strip:z.stripFlags(T[w-5],T[w])};break;case 18:this.$={strip:z.stripFlags(T[w-1],T[w-1]),program:T[w]};break;case 19:var k=z.prepareBlock(T[w-2],T[w-1],T[w],T[w],!1,this._$),S=z.prepareProgram([k],T[w-1].loc);S.chained=!0,this.$={strip:T[w-2].strip,program:S,chain:!0};break;case 20:this.$=T[w];break;case 21:this.$={path:T[w-1],strip:z.stripFlags(T[w-2],T[w])};break;case 22:this.$=z.prepareMustache(T[w-3],T[w-2],T[w-1],T[w-4],z.stripFlags(T[w-4],T[w]),this._$);break;case 23:this.$=z.prepareMustache(T[w-3],T[w-2],T[w-1],T[w-4],z.stripFlags(T[w-4],T[w]),this._$);break;case 24:this.$={type:"PartialStatement",name:T[w-3],params:T[w-2],hash:T[w-1],indent:"",strip:z.stripFlags(T[w-4],T[w]),loc:z.locInfo(this._$)};break;case 25:this.$=z.preparePartialBlock(T[w-2],T[w-1],T[w],this._$);break;case 26:this.$={path:T[w-3],params:T[w-2],hash:T[w-1],strip:z.stripFlags(T[w-4],T[w])};break;case 27:this.$=T[w];break;case 28:this.$=T[w];break;case 29:this.$={type:"SubExpression",path:T[w-3],params:T[w-2],hash:T[w-1],loc:z.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:T[w],loc:z.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:z.id(T[w-2]),value:T[w],loc:z.locInfo(this._$)};break;case 32:this.$=z.id(T[w-1]);break;case 33:this.$=T[w];break;case 34:this.$=T[w];break;case 35:this.$={type:"StringLiteral",value:T[w],original:T[w],loc:z.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(T[w]),original:Number(T[w]),loc:z.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:T[w]==="true",original:T[w]==="true",loc:z.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:z.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:z.locInfo(this._$)};break;case 40:this.$=T[w];break;case 41:this.$=T[w];break;case 42:this.$=z.preparePath(!0,T[w],this._$);break;case 43:this.$=z.preparePath(!1,T[w],this._$);break;case 44:T[w-2].push({part:z.id(T[w]),original:T[w],separator:T[w-1]}),this.$=T[w-2];break;case 45:this.$=[{part:z.id(T[w]),original:T[w]}];break;case 46:this.$=[];break;case 47:T[w-1].push(T[w]);break;case 48:this.$=[];break;case 49:T[w-1].push(T[w]);break;case 50:this.$=[];break;case 51:T[w-1].push(T[w]);break;case 58:this.$=[];break;case 59:T[w-1].push(T[w]);break;case 64:this.$=[];break;case 65:T[w-1].push(T[w]);break;case 70:this.$=[];break;case 71:T[w-1].push(T[w]);break;case 78:this.$=[];break;case 79:T[w-1].push(T[w]);break;case 82:this.$=[];break;case 83:T[w-1].push(T[w]);break;case 86:this.$=[];break;case 87:T[w-1].push(T[w]);break;case 90:this.$=[];break;case 91:T[w-1].push(T[w]);break;case 94:this.$=[];break;case 95:T[w-1].push(T[w]);break;case 98:this.$=[T[w]];break;case 99:T[w-1].push(T[w]);break;case 100:this.$=[T[w]];break;case 101:T[w-1].push(T[w]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(P,O){throw Error(P)},parse:function(P){var O=this,Y=[0],z=[null],H=[],T=this.table,f="",w=0,k=0,S=0,N=2,h=1;if(this.lexer.setInput(P),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u")this.lexer.yylloc={};var E=this.lexer.yylloc;H.push(E);var D=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function I(Z){Y.length=Y.length-2*Z,z.length=z.length-Z,H.length=H.length-Z}function L(){var Z=O.lexer.lex()||1;if(typeof Z!=="number")Z=O.symbols_[Z]||Z;return Z}var g,y,c,o,Q,U,p={},s,j,J,X;while(!0){if(c=Y[Y.length-1],this.defaultActions[c])o=this.defaultActions[c];else{if(g===null||typeof g>"u")g=L();o=T[c]&&T[c][g]}if(typeof o>"u"||!o.length||!o[0]){var W="";if(!S){X=[];for(s in T[c])if(this.terminals_[s]&&s>2)X.push("'"+this.terminals_[s]+"'");if(this.lexer.showPosition)W="Parse error on line "+(w+1)+`:
`+this.lexer.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[g]||g)+"'";else W="Parse error on line "+(w+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'");this.parseError(W,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:E,expected:X})}}if(o[0]instanceof Array&&o.length>1)throw Error("Parse Error: multiple actions possible at state: "+c+", token: "+g);switch(o[0]){case 1:if(Y.push(g),z.push(this.lexer.yytext),H.push(this.lexer.yylloc),Y.push(o[1]),g=null,!y){if(k=this.lexer.yyleng,f=this.lexer.yytext,w=this.lexer.yylineno,E=this.lexer.yylloc,S>0)S--}else g=y,y=null;break;case 2:if(j=this.productions_[o[1]][1],p.$=z[z.length-j],p._$={first_line:H[H.length-(j||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(j||1)].first_column,last_column:H[H.length-1].last_column},D)p._$.range=[H[H.length-(j||1)].range[0],H[H.length-1].range[1]];if(U=this.performAction.call(p,f,k,w,this.yy,o[1],z,H),typeof U<"u")return U;if(j)Y=Y.slice(0,-1*j*2),z=z.slice(0,-1*j),H=H.slice(0,-1*j);Y.push(this.productions_[o[1]][0]),z.push(p.$),H.push(p._$),J=T[Y[Y.length-2]][Y[Y.length-1]],Y.push(J);break;case 3:return!0}}return!0}},q=function(){var K={EOF:1,parseError:function(O,Y){if(this.yy.parser)this.yy.parser.parseError(O,Y);else throw Error(O)},setInput:function(O){if(this._input=O,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},input:function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var Y=O.match(/(?:\r\n?|\n).*/g);if(Y)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),O},unput:function(O){var Y=O.length,z=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y-1),this.offset-=Y;var H=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1)this.yylineno-=z.length-1;var T=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===H.length?this.yylloc.first_column:0)+H[H.length-z.length].length-z[0].length:this.yylloc.first_column-Y},this.options.ranges)this.yylloc.range=[T[0],T[0]+this.yyleng-Y];return this},more:function(){return this._more=!0,this},less:function(O){this.unput(this.match.slice(O))},pastInput:function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var O=this.match;if(O.length<20)O+=this._input.substr(0,20-O.length);return(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var O=this.pastInput(),Y=Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+Y+"^"},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var O,Y,z,H,T,f;if(!this._more)this.yytext="",this.match="";var w=this._currentRules();for(var k=0;k<w.length;k++)if(z=this._input.match(this.rules[w[k]]),z&&(!Y||z[0].length>Y[0].length)){if(Y=z,H=k,!this.options.flex)break}if(Y){if(f=Y[0].match(/(?:\r\n?|\n).*/g),f)this.yylineno+=f.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],O=this.performAction.call(this,this.yy,this,w[H],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(O)return O;else return}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var O=this.next();if(typeof O<"u")return O;else return this.lex()},begin:function(O){this.conditionStack.push(O)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(O){this.begin(O)}};return K.options={},K.performAction=function(O,Y,z,H){function T(w,k){return Y.yytext=Y.yytext.substring(w,Y.yyleng-k+w)}var f=H;switch(z){case 0:if(Y.yytext.slice(-2)==="\\\\")T(0,1),this.begin("mu");else if(Y.yytext.slice(-1)==="\\")T(0,1),this.begin("emu");else this.begin("mu");if(Y.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;break;case 3:return this.begin("raw"),15;break;case 4:if(this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw")return 15;else return T(5,9),"END_RAW_BLOCK";break;case 5:return 15;case 6:return this.popState(),14;break;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;break;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;break;case 16:return this.popState(),44;break;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(Y.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;break;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;break;case 30:return this.popState(),33;break;case 31:return Y.yytext=T(1,2).replace(/\\"/g,'"'),80;break;case 32:return Y.yytext=T(1,2).replace(/\\'/g,"'"),80;break;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return Y.yytext=Y.yytext.replace(/\\([\\\]])/g,"$1"),72;break;case 43:return"INVALID";case 44:return 5}},K.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],K.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},K}();$.lexer=q;function _(){this.yy={}}return _.prototype=$,$.Parser=_,new _}();CG.default=Lc;EG.exports=CG.default});var u5=N$((DG,LG)=>{DG.__esModule=!0;function yc($){return $&&$.__esModule?$:{default:$}}var uc=G8(),fW=yc(uc);function b5(){this.parents=[]}b5.prototype={constructor:b5,mutating:!1,acceptKey:function(q,_){var K=this.accept(q[_]);if(this.mutating){if(K&&!b5.prototype[K.type])throw new fW.default('Unexpected node type "'+K.type+'" found when accepting '+_+" on "+q.type);q[_]=K}},acceptRequired:function(q,_){if(this.acceptKey(q,_),!q[_])throw new fW.default(q.type+" requires "+_)},acceptArray:function(q){for(var _=0,K=q.length;_<K;_++)if(this.acceptKey(q,_),!q[_])q.splice(_,1),_--,K--},accept:function(q){if(!q)return;if(!this[q.type])throw new fW.default("Unknown type: "+q.type,q);if(this.current)this.parents.unshift(this.current);this.current=q;var _=this[q.type](q);if(this.current=this.parents.shift(),!this.mutating||_)return _;else if(_!==!1)return q},Program:function(q){this.acceptArray(q.body)},MustacheStatement:y5,Decorator:y5,BlockStatement:RG,DecoratorBlock:RG,PartialStatement:IG,PartialBlockStatement:function(q){IG.call(this,q),this.acceptKey(q,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:y5,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(q){this.acceptArray(q.pairs)},HashPair:function(q){this.acceptRequired(q,"value")}};function y5($){this.acceptRequired($,"path"),this.acceptArray($.params),this.acceptKey($,"hash")}function RG($){y5.call(this,$),this.acceptKey($,"program"),this.acceptKey($,"inverse")}function IG($){this.acceptRequired($,"name"),this.acceptArray($.params),this.acceptKey($,"hash")}DG.default=b5;LG.exports=DG.default});var yG=N$((gG,bG)=>{gG.__esModule=!0;function cc($){return $&&$.__esModule?$:{default:$}}var mc=u5(),dc=cc(mc);function e8(){var $=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=$}e8.prototype=new dc.default;e8.prototype.Program=function($){var q=!this.options.ignoreStandalone,_=!this.isRootSeen;this.isRootSeen=!0;var K=$.body;for(var P=0,O=K.length;P<O;P++){var Y=K[P],z=this.accept(Y);if(!z)continue;var H=ZW(K,P,_),T=XW(K,P,_),f=z.openStandalone&&H,w=z.closeStandalone&&T,k=z.inlineStandalone&&H&&T;if(z.close)IK(K,P,!0);if(z.open)s_(K,P,!0);if(q&&k){if(IK(K,P),s_(K,P)){if(Y.type==="PartialStatement")Y.indent=/([ \t]+$)/.exec(K[P-1].original)[1]}}if(q&&f)IK((Y.program||Y.inverse).body),s_(K,P);if(q&&w)IK(K,P),s_((Y.inverse||Y.program).body)}return $};e8.prototype.BlockStatement=e8.prototype.DecoratorBlock=e8.prototype.PartialBlockStatement=function($){this.accept($.program),this.accept($.inverse);var q=$.program||$.inverse,_=$.program&&$.inverse,K=_,P=_;if(_&&_.chained){K=_.body[0].program;while(P.chained)P=P.body[P.body.length-1].program}var O={open:$.openStrip.open,close:$.closeStrip.close,openStandalone:XW(q.body),closeStandalone:ZW((K||q).body)};if($.openStrip.close)IK(q.body,null,!0);if(_){var Y=$.inverseStrip;if(Y.open)s_(q.body,null,!0);if(Y.close)IK(K.body,null,!0);if($.closeStrip.open)s_(P.body,null,!0);if(!this.options.ignoreStandalone&&ZW(q.body)&&XW(K.body))s_(q.body),IK(K.body)}else if($.closeStrip.open)s_(q.body,null,!0);return O};e8.prototype.Decorator=e8.prototype.MustacheStatement=function($){return $.strip};e8.prototype.PartialStatement=e8.prototype.CommentStatement=function($){var q=$.strip||{};return{inlineStandalone:!0,open:q.open,close:q.close}};function ZW($,q,_){if(q===void 0)q=$.length;var K=$[q-1],P=$[q-2];if(!K)return _;if(K.type==="ContentStatement")return(P||!_?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(K.original)}function XW($,q,_){if(q===void 0)q=-1;var K=$[q+1],P=$[q+2];if(!K)return _;if(K.type==="ContentStatement")return(P||!_?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(K.original)}function IK($,q,_){var K=$[q==null?0:q+1];if(!K||K.type!=="ContentStatement"||!_&&K.rightStripped)return;var P=K.value;K.value=K.value.replace(_?/^\s+/:/^[ \t]*\r?\n?/,""),K.rightStripped=K.value!==P}function s_($,q,_){var K=$[q==null?$.length-1:q-1];if(!K||K.type!=="ContentStatement"||!_&&K.leftStripped)return;var P=K.value;return K.value=K.value.replace(_?/\s+$/:/[ \t]+$/,""),K.leftStripped=K.value!==P,K.leftStripped}gG.default=e8;bG.exports=gG.default});var uG=N$((qm)=>{qm.__esModule=!0;qm.SourceLocation=ic;qm.id=Bc;qm.stripFlags=tc;qm.stripComment=Uc;qm.preparePath=Fc;qm.prepareMustache=ac;qm.prepareRawBlock=Qc;qm.prepareBlock=ec;qm.prepareProgram=sc;qm.preparePartialBlock=$m;function oc($){return $&&$.__esModule?$:{default:$}}var nc=G8(),AW=oc(nc);function kW($,q){if(q=q.path?q.path.original:q,$.path.original!==q){var _={loc:$.path.loc};throw new AW.default($.path.original+" doesn't match "+q,_)}}function ic($,q){this.source=$,this.start={line:q.first_line,column:q.first_column},this.end={line:q.last_line,column:q.last_column}}function Bc($){if(/^\[.*\]$/.test($))return $.substring(1,$.length-1);else return $}function tc($,q){return{open:$.charAt(2)==="~",close:q.charAt(q.length-3)==="~"}}function Uc($){return $.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Fc($,q,_){_=this.locInfo(_);var K=$?"@":"",P=[],O=0;for(var Y=0,z=q.length;Y<z;Y++){var H=q[Y].part,T=q[Y].original!==H;if(K+=(q[Y].separator||"")+H,!T&&(H===".."||H==="."||H==="this")){if(P.length>0)throw new AW.default("Invalid path: "+K,{loc:_});else if(H==="..")O++}else P.push(H)}return{type:"PathExpression",data:$,depth:O,parts:P,original:K,loc:_}}function ac($,q,_,K,P,O){var Y=K.charAt(3)||K.charAt(2),z=Y!=="{"&&Y!=="&",H=/\*/.test(K);return{type:H?"Decorator":"MustacheStatement",path:$,params:q,hash:_,escaped:z,strip:P,loc:this.locInfo(O)}}function Qc($,q,_,K){kW($,_),K=this.locInfo(K);var P={type:"Program",body:q,strip:{},loc:K};return{type:"BlockStatement",path:$.path,params:$.params,hash:$.hash,program:P,openStrip:{},inverseStrip:{},closeStrip:{},loc:K}}function ec($,q,_,K,P,O){if(K&&K.path)kW($,K);var Y=/\*/.test($.open);q.blockParams=$.blockParams;var z=void 0,H=void 0;if(_){if(Y)throw new AW.default("Unexpected inverse block on decorator",_);if(_.chain)_.program.body[0].closeStrip=K.strip;H=_.strip,z=_.program}if(P)P=z,z=q,q=P;return{type:Y?"DecoratorBlock":"BlockStatement",path:$.path,params:$.params,hash:$.hash,program:q,inverse:z,openStrip:$.strip,inverseStrip:H,closeStrip:K&&K.strip,loc:this.locInfo(O)}}function sc($,q){if(!q&&$.length){var _=$[0].loc,K=$[$.length-1].loc;if(_&&K)q={source:_.source,start:{line:_.start.line,column:_.start.column},end:{line:K.end.line,column:K.end.column}}}return{type:"Program",body:$,strip:{},loc:q}}function $m($,q,_,K){return kW($,_),{type:"PartialBlockStatement",name:$.path,params:$.params,hash:$.hash,program:q,openStrip:$.strip,closeStrip:_&&_.strip,loc:this.locInfo(K)}}});var cG=N$((Vm)=>{Vm.__esModule=!0;Vm.parseWithoutProcessing=pG;Vm.parse=Gm;function Tm($){if($&&$.__esModule)return $;else{var q={};if($!=null){for(var _ in $)if(Object.prototype.hasOwnProperty.call($,_))q[_]=$[_]}return q.default=$,q}}function xG($){return $&&$.__esModule?$:{default:$}}var wm=hG(),GW=xG(wm),fm=yG(),Zm=xG(fm),Xm=uG(),Am=Tm(Xm),km=cq();Vm.parser=GW.default;var x5={};km.extend(x5,Am);function pG($,q){if($.type==="Program")return $;GW.default.yy=x5,x5.locInfo=function(K){return new x5.SourceLocation(q&&q.srcName,K)};var _=GW.default.parse($);return _}function Gm($,q){var _=pG($,q),K=new Zm.default(q);return K.accept(_)}});var rG=N$((Lm)=>{Lm.__esModule=!0;Lm.Compiler=VW;Lm.precompile=Im;Lm.compile=Dm;function dG($){return $&&$.__esModule?$:{default:$}}var Em=G8(),u7=dG(Em),x7=cq(),hm=wW(),y7=dG(hm),Rm=[].slice;function VW(){}VW.prototype={compiler:VW,equals:function(q){var _=this.opcodes.length;if(q.opcodes.length!==_)return!1;for(var K=0;K<_;K++){var P=this.opcodes[K],O=q.opcodes[K];if(P.opcode!==O.opcode||!lG(P.args,O.args))return!1}_=this.children.length;for(var K=0;K<_;K++)if(!this.children[K].equals(q.children[K]))return!1;return!0},guid:0,compile:function(q,_){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=_,this.stringParams=_.stringParams,this.trackIds=_.trackIds,_.blockParams=_.blockParams||[],_.knownHelpers=x7.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},_.knownHelpers),this.accept(q)},compileProgram:function(q){var _=new this.compiler,K=_.compile(q,this.options),P=this.guid++;return this.usePartial=this.usePartial||K.usePartial,this.children[P]=K,this.useDepths=this.useDepths||K.useDepths,P},accept:function(q){if(!this[q.type])throw new u7.default("Unknown type: "+q.type,q);this.sourceNode.unshift(q);var _=this[q.type](q);return this.sourceNode.shift(),_},Program:function(q){this.options.blockParams.unshift(q.blockParams);var _=q.body,K=_.length;for(var P=0;P<K;P++)this.accept(_[P]);return this.options.blockParams.shift(),this.isSimple=K===1,this.blockParams=q.blockParams?q.blockParams.length:0,this},BlockStatement:function(q){mG(q);var{program:_,inverse:K}=q;_=_&&this.compileProgram(_),K=K&&this.compileProgram(K);var P=this.classifySexpr(q);if(P==="helper")this.helperSexpr(q,_,K);else if(P==="simple")this.simpleSexpr(q),this.opcode("pushProgram",_),this.opcode("pushProgram",K),this.opcode("emptyHash"),this.opcode("blockValue",q.path.original);else this.ambiguousSexpr(q,_,K),this.opcode("pushProgram",_),this.opcode("pushProgram",K),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue");this.opcode("append")},DecoratorBlock:function(q){var _=q.program&&this.compileProgram(q.program),K=this.setupFullMustacheParams(q,_,void 0),P=q.path;this.useDecorators=!0,this.opcode("registerDecorator",K.length,P.original)},PartialStatement:function(q){this.usePartial=!0;var _=q.program;if(_)_=this.compileProgram(q.program);var K=q.params;if(K.length>1)throw new u7.default("Unsupported number of partial arguments: "+K.length,q);else if(!K.length)if(this.options.explicitPartialContext)this.opcode("pushLiteral","undefined");else K.push({type:"PathExpression",parts:[],depth:0});var P=q.name.original,O=q.name.type==="SubExpression";if(O)this.accept(q.name);this.setupFullMustacheParams(q,_,void 0,!0);var Y=q.indent||"";if(this.options.preventIndent&&Y)this.opcode("appendContent",Y),Y="";this.opcode("invokePartial",O,P,Y),this.opcode("append")},PartialBlockStatement:function(q){this.PartialStatement(q)},MustacheStatement:function(q){if(this.SubExpression(q),q.escaped&&!this.options.noEscape)this.opcode("appendEscaped");else this.opcode("append")},Decorator:function(q){this.DecoratorBlock(q)},ContentStatement:function(q){if(q.value)this.opcode("appendContent",q.value)},CommentStatement:function(){},SubExpression:function(q){mG(q);var _=this.classifySexpr(q);if(_==="simple")this.simpleSexpr(q);else if(_==="helper")this.helperSexpr(q);else this.ambiguousSexpr(q)},ambiguousSexpr:function(q,_,K){var P=q.path,O=P.parts[0],Y=_!=null||K!=null;this.opcode("getContext",P.depth),this.opcode("pushProgram",_),this.opcode("pushProgram",K),P.strict=!0,this.accept(P),this.opcode("invokeAmbiguous",O,Y)},simpleSexpr:function(q){var _=q.path;_.strict=!0,this.accept(_),this.opcode("resolvePossibleLambda")},helperSexpr:function(q,_,K){var P=this.setupFullMustacheParams(q,_,K),O=q.path,Y=O.parts[0];if(this.options.knownHelpers[Y])this.opcode("invokeKnownHelper",P.length,Y);else if(this.options.knownHelpersOnly)throw new u7.default("You specified knownHelpersOnly, but used the unknown helper "+Y,q);else O.strict=!0,O.falsy=!0,this.accept(O),this.opcode("invokeHelper",P.length,O.original,y7.default.helpers.simpleId(O))},PathExpression:function(q){this.addDepth(q.depth),this.opcode("getContext",q.depth);var _=q.parts[0],K=y7.default.helpers.scopedId(q),P=!q.depth&&!K&&this.blockParamIndex(_);if(P)this.opcode("lookupBlockParam",P,q.parts);else if(!_)this.opcode("pushContext");else if(q.data)this.options.data=!0,this.opcode("lookupData",q.depth,q.parts,q.strict);else this.opcode("lookupOnContext",q.parts,q.falsy,q.strict,K)},StringLiteral:function(q){this.opcode("pushString",q.value)},NumberLiteral:function(q){this.opcode("pushLiteral",q.value)},BooleanLiteral:function(q){this.opcode("pushLiteral",q.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(q){var _=q.pairs,K=0,P=_.length;this.opcode("pushHash");for(;K<P;K++)this.pushParam(_[K].value);while(K--)this.opcode("assignToHash",_[K].key);this.opcode("popHash")},opcode:function(q){this.opcodes.push({opcode:q,args:Rm.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(q){if(!q)return;this.useDepths=!0},classifySexpr:function(q){var _=y7.default.helpers.simpleId(q.path),K=_&&!!this.blockParamIndex(q.path.parts[0]),P=!K&&y7.default.helpers.helperExpression(q),O=!K&&(P||_);if(O&&!P){var Y=q.path.parts[0],z=this.options;if(z.knownHelpers[Y])P=!0;else if(z.knownHelpersOnly)O=!1}if(P)return"helper";else if(O)return"ambiguous";else return"simple"},pushParams:function(q){for(var _=0,K=q.length;_<K;_++)this.pushParam(q[_])},pushParam:function(q){var _=q.value!=null?q.value:q.original||"";if(this.stringParams){if(_.replace)_=_.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".");if(q.depth)this.addDepth(q.depth);if(this.opcode("getContext",q.depth||0),this.opcode("pushStringParam",_,q.type),q.type==="SubExpression")this.accept(q)}else{if(this.trackIds){var K=void 0;if(q.parts&&!y7.default.helpers.scopedId(q)&&!q.depth)K=this.blockParamIndex(q.parts[0]);if(K){var P=q.parts.slice(1).join(".");this.opcode("pushId","BlockParam",K,P)}else{if(_=q.original||_,_.replace)_=_.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"");this.opcode("pushId",q.type,_)}}this.accept(q)}},setupFullMustacheParams:function(q,_,K,P){var O=q.params;if(this.pushParams(O),this.opcode("pushProgram",_),this.opcode("pushProgram",K),q.hash)this.accept(q.hash);else this.opcode("emptyHash",P);return O},blockParamIndex:function(q){for(var _=0,K=this.options.blockParams.length;_<K;_++){var P=this.options.blockParams[_],O=P&&x7.indexOf(P,q);if(P&&O>=0)return[_,O]}}};function Im($,q,_){if($==null||typeof $!=="string"&&$.type!=="Program")throw new u7.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+$);if(q=q||{},!("data"in q))q.data=!0;if(q.compat)q.useDepths=!0;var K=_.parse($,q),P=new _.Compiler().compile(K,q);return new _.JavaScriptCompiler().compile(P,q)}function Dm($,q,_){if(q===void 0)q={};if($==null||typeof $!=="string"&&$.type!=="Program")throw new u7.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+$);if(q=x7.extend({},q),!("data"in q))q.data=!0;if(q.compat)q.useDepths=!0;var K=void 0;function P(){var Y=_.parse($,q),z=new _.Compiler().compile(Y,q),H=new _.JavaScriptCompiler().compile(z,q,void 0,!0);return _.template(H)}function O(Y,z){if(!K)K=P();return K.call(this,Y,z)}return O._setup=function(Y){if(!K)K=P();return K._setup(Y)},O._child=function(Y,z,H,T){if(!K)K=P();return K._child(Y,z,H,T)},O}function lG($,q){if($===q)return!0;if(x7.isArray($)&&x7.isArray(q)&&$.length===q.length){for(var _=0;_<$.length;_++)if(!lG($[_],q[_]))return!1;return!0}}function mG($){if(!$.path.parts){var q=$.path;$.path={type:"PathExpression",data:!1,depth:0,parts:[q.original+""],original:q.original+"",loc:q.loc}}}});var nG=N$((xm)=>{var oG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");xm.encode=function($){if(0<=$&&$<oG.length)return oG[$];throw TypeError("Must be between 0 and 63: "+$)};xm.decode=function($){var q=65,_=90,K=97,P=122,O=48,Y=57,z=43,H=47,T=26,f=52;if(q<=$&&$<=_)return $-q;if(K<=$&&$<=P)return $-K+T;if(O<=$&&$<=Y)return $-O+f;if($==z)return 62;if($==H)return 63;return-1}});var MW=N$((lm)=>{var iG=nG(),SW=5,BG=1<<SW,tG=BG-1,UG=BG;function mm($){return $<0?(-$<<1)+1:($<<1)+0}function dm($){var q=($&1)===1,_=$>>1;return q?-_:_}lm.encode=function(q){var _="",K,P=mm(q);do{if(K=P&tG,P>>>=SW,P>0)K|=UG;_+=iG.encode(K)}while(P>0);return _};lm.decode=function(q,_,K){var P=q.length,O=0,Y=0,z,H;do{if(_>=P)throw Error("Expected more digits in base 64 VLQ value.");if(H=iG.decode(q.charCodeAt(_++)),H===-1)throw Error("Invalid base64 digit: "+q.charAt(_-1));z=!!(H&UG),H&=tG,O=O+(H<<Y),Y+=SW}while(z);K.value=dm(O),K.rest=_}});var g4=N$(($d)=>{function nm($,q,_){if(q in $)return $[q];else if(arguments.length===3)return _;else throw Error('"'+q+'" is a required argument.')}$d.getArg=nm;var FG=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,im=/^data:.+\,.+$/;function p7($){var q=$.match(FG);if(!q)return null;return{scheme:q[1],auth:q[2],host:q[3],port:q[4],path:q[5]}}$d.urlParse=p7;function D4($){var q="";if($.scheme)q+=$.scheme+":";if(q+="//",$.auth)q+=$.auth+"@";if($.host)q+=$.host;if($.port)q+=":"+$.port;if($.path)q+=$.path;return q}$d.urlGenerate=D4;function NW($){var q=$,_=p7($);if(_){if(!_.path)return $;q=_.path}var K=$d.isAbsolute(q),P=q.split(/\/+/);for(var O,Y=0,z=P.length-1;z>=0;z--)if(O=P[z],O===".")P.splice(z,1);else if(O==="..")Y++;else if(Y>0)if(O==="")P.splice(z+1,Y),Y=0;else P.splice(z,2),Y--;if(q=P.join("/"),q==="")q=K?"/":".";if(_)return _.path=q,D4(_);return q}$d.normalize=NW;function aG($,q){if($==="")$=".";if(q==="")q=".";var _=p7(q),K=p7($);if(K)$=K.path||"/";if(_&&!_.scheme){if(K)_.scheme=K.scheme;return D4(_)}if(_||q.match(im))return q;if(K&&!K.host&&!K.path)return K.host=q,D4(K);var P=q.charAt(0)==="/"?q:NW($.replace(/\/+$/,"")+"/"+q);if(K)return K.path=P,D4(K);return P}$d.join=aG;$d.isAbsolute=function($){return $.charAt(0)==="/"||FG.test($)};function Bm($,q){if($==="")$=".";$=$.replace(/\/$/,"");var _=0;while(q.indexOf($+"/")!==0){var K=$.lastIndexOf("/");if(K<0)return q;if($=$.slice(0,K),$.match(/^([^\/]+:\/)?\/*$/))return q;++_}return Array(_+1).join("../")+q.substr($.length+1)}$d.relative=Bm;var QG=function(){var $=Object.create(null);return!("__proto__"in $)}();function eG($){return $}function tm($){if(sG($))return"$"+$;return $}$d.toSetString=QG?eG:tm;function Um($){if(sG($))return $.slice(1);return $}$d.fromSetString=QG?eG:Um;function sG($){if(!$)return!1;var q=$.length;if(q<9)return!1;if($.charCodeAt(q-1)!==95||$.charCodeAt(q-2)!==95||$.charCodeAt(q-3)!==111||$.charCodeAt(q-4)!==116||$.charCodeAt(q-5)!==111||$.charCodeAt(q-6)!==114||$.charCodeAt(q-7)!==112||$.charCodeAt(q-8)!==95||$.charCodeAt(q-9)!==95)return!1;for(var _=q-10;_>=0;_--)if($.charCodeAt(_)!==36)return!1;return!0}function Fm($,q,_){var K=L4($.source,q.source);if(K!==0)return K;if(K=$.originalLine-q.originalLine,K!==0)return K;if(K=$.originalColumn-q.originalColumn,K!==0||_)return K;if(K=$.generatedColumn-q.generatedColumn,K!==0)return K;if(K=$.generatedLine-q.generatedLine,K!==0)return K;return L4($.name,q.name)}$d.compareByOriginalPositions=Fm;function am($,q,_){var K=$.generatedLine-q.generatedLine;if(K!==0)return K;if(K=$.generatedColumn-q.generatedColumn,K!==0||_)return K;if(K=L4($.source,q.source),K!==0)return K;if(K=$.originalLine-q.originalLine,K!==0)return K;if(K=$.originalColumn-q.originalColumn,K!==0)return K;return L4($.name,q.name)}$d.compareByGeneratedPositionsDeflated=am;function L4($,q){if($===q)return 0;if($===null)return 1;if(q===null)return-1;if($>q)return 1;return-1}function Qm($,q){var _=$.generatedLine-q.generatedLine;if(_!==0)return _;if(_=$.generatedColumn-q.generatedColumn,_!==0)return _;if(_=L4($.source,q.source),_!==0)return _;if(_=$.originalLine-q.originalLine,_!==0)return _;if(_=$.originalColumn-q.originalColumn,_!==0)return _;return L4($.name,q.name)}$d.compareByGeneratedPositionsInflated=Qm;function em($){return JSON.parse($.replace(/^\)]}'[^\n]*\n/,""))}$d.parseSourceMapInput=em;function sm($,q,_){if(q=q||"",$){if($[$.length-1]!=="/"&&q[0]!=="/")$+="/";q=$+q}if(_){var K=p7(_);if(!K)throw Error("sourceMapURL could not be parsed");if(K.path){var P=K.path.lastIndexOf("/");if(P>=0)K.path=K.path.substring(0,P+1)}q=aG(D4(K),q)}return NW(q)}$d.computeSourceURL=sm});var hW=N$((fd)=>{var CW=g4(),EW=Object.prototype.hasOwnProperty,DK=typeof Map<"u";function k_(){this._array=[],this._set=DK?new Map:Object.create(null)}k_.fromArray=function(q,_){var K=new k_;for(var P=0,O=q.length;P<O;P++)K.add(q[P],_);return K};k_.prototype.size=function(){return DK?this._set.size:Object.getOwnPropertyNames(this._set).length};k_.prototype.add=function(q,_){var K=DK?q:CW.toSetString(q),P=DK?this.has(q):EW.call(this._set,K),O=this._array.length;if(!P||_)this._array.push(q);if(!P)if(DK)this._set.set(q,O);else this._set[K]=O};k_.prototype.has=function(q){if(DK)return this._set.has(q);else{var _=CW.toSetString(q);return EW.call(this._set,_)}};k_.prototype.indexOf=function(q){if(DK){var _=this._set.get(q);if(_>=0)return _}else{var K=CW.toSetString(q);if(EW.call(this._set,K))return this._set[K]}throw Error('"'+q+'" is not in the set.')};k_.prototype.at=function(q){if(q>=0&&q<this._array.length)return this._array[q];throw Error("No element indexed by "+q)};k_.prototype.toArray=function(){return this._array.slice()};fd.ArraySet=k_});var qV=N$((Ad)=>{var $V=g4();function Xd($,q){var _=$.generatedLine,K=q.generatedLine,P=$.generatedColumn,O=q.generatedColumn;return K>_||K==_&&O>=P||$V.compareByGeneratedPositionsInflated($,q)<=0}function p5(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}p5.prototype.unsortedForEach=function(q,_){this._array.forEach(q,_)};p5.prototype.add=function(q){if(Xd(this._last,q))this._last=q,this._array.push(q);else this._sorted=!1,this._array.push(q)};p5.prototype.toArray=function(){if(!this._sorted)this._array.sort($V.compareByGeneratedPositionsInflated),this._sorted=!0;return this._array};Ad.MappingList=p5});var RW=N$((Vd)=>{var c7=MW(),B6=g4(),c5=hW().ArraySet,Gd=qV().MappingList;function V8($){if(!$)$={};this._file=B6.getArg($,"file",null),this._sourceRoot=B6.getArg($,"sourceRoot",null),this._skipValidation=B6.getArg($,"skipValidation",!1),this._sources=new c5,this._names=new c5,this._mappings=new Gd,this._sourcesContents=null}V8.prototype._version=3;V8.fromSourceMap=function(q){var _=q.sourceRoot,K=new V8({file:q.file,sourceRoot:_});return q.eachMapping(function(P){var O={generated:{line:P.generatedLine,column:P.generatedColumn}};if(P.source!=null){if(O.source=P.source,_!=null)O.source=B6.relative(_,O.source);if(O.original={line:P.originalLine,column:P.originalColumn},P.name!=null)O.name=P.name}K.addMapping(O)}),q.sources.forEach(function(P){var O=P;if(_!==null)O=B6.relative(_,P);if(!K._sources.has(O))K._sources.add(O);var Y=q.sourceContentFor(P);if(Y!=null)K.setSourceContent(P,Y)}),K};V8.prototype.addMapping=function(q){var _=B6.getArg(q,"generated"),K=B6.getArg(q,"original",null),P=B6.getArg(q,"source",null),O=B6.getArg(q,"name",null);if(!this._skipValidation)this._validateMapping(_,K,P,O);if(P!=null){if(P=String(P),!this._sources.has(P))this._sources.add(P)}if(O!=null){if(O=String(O),!this._names.has(O))this._names.add(O)}this._mappings.add({generatedLine:_.line,generatedColumn:_.column,originalLine:K!=null&&K.line,originalColumn:K!=null&&K.column,source:P,name:O})};V8.prototype.setSourceContent=function(q,_){var K=q;if(this._sourceRoot!=null)K=B6.relative(this._sourceRoot,K);if(_!=null){if(!this._sourcesContents)this._sourcesContents=Object.create(null);this._sourcesContents[B6.toSetString(K)]=_}else if(this._sourcesContents){if(delete this._sourcesContents[B6.toSetString(K)],Object.keys(this._sourcesContents).length===0)this._sourcesContents=null}};V8.prototype.applySourceMap=function(q,_,K){var P=_;if(_==null){if(q.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);P=q.file}var O=this._sourceRoot;if(O!=null)P=B6.relative(O,P);var Y=new c5,z=new c5;this._mappings.unsortedForEach(function(H){if(H.source===P&&H.originalLine!=null){var T=q.originalPositionFor({line:H.originalLine,column:H.originalColumn});if(T.source!=null){if(H.source=T.source,K!=null)H.source=B6.join(K,H.source);if(O!=null)H.source=B6.relative(O,H.source);if(H.originalLine=T.line,H.originalColumn=T.column,T.name!=null)H.name=T.name}}var f=H.source;if(f!=null&&!Y.has(f))Y.add(f);var w=H.name;if(w!=null&&!z.has(w))z.add(w)},this),this._sources=Y,this._names=z,q.sources.forEach(function(H){var T=q.sourceContentFor(H);if(T!=null){if(K!=null)H=B6.join(K,H);if(O!=null)H=B6.relative(O,H);this.setSourceContent(H,T)}},this)};V8.prototype._validateMapping=function(q,_,K,P){if(_&&typeof _.line!=="number"&&typeof _.column!=="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(q&&"line"in q&&"column"in q&&q.line>0&&q.column>=0&&!_&&!K&&!P)return;else if(q&&"line"in q&&"column"in q&&_&&"line"in _&&"column"in _&&q.line>0&&q.column>=0&&_.line>0&&_.column>=0&&K)return;else throw Error("Invalid mapping: "+JSON.stringify({generated:q,source:K,original:_,name:P}))};V8.prototype._serializeMappings=function(){var q=0,_=1,K=0,P=0,O=0,Y=0,z="",H,T,f,w,k=this._mappings.toArray();for(var S=0,N=k.length;S<N;S++){if(T=k[S],H="",T.generatedLine!==_){q=0;while(T.generatedLine!==_)H+=";",_++}else if(S>0){if(!B6.compareByGeneratedPositionsInflated(T,k[S-1]))continue;H+=","}if(H+=c7.encode(T.generatedColumn-q),q=T.generatedColumn,T.source!=null){if(w=this._sources.indexOf(T.source),H+=c7.encode(w-Y),Y=w,H+=c7.encode(T.originalLine-1-P),P=T.originalLine-1,H+=c7.encode(T.originalColumn-K),K=T.originalColumn,T.name!=null)f=this._names.indexOf(T.name),H+=c7.encode(f-O),O=f}z+=H}return z};V8.prototype._generateSourcesContent=function(q,_){return q.map(function(K){if(!this._sourcesContents)return null;if(_!=null)K=B6.relative(_,K);var P=B6.toSetString(K);return Object.prototype.hasOwnProperty.call(this._sourcesContents,P)?this._sourcesContents[P]:null},this)};V8.prototype.toJSON=function(){var q={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null)q.file=this._file;if(this._sourceRoot!=null)q.sourceRoot=this._sourceRoot;if(this._sourcesContents)q.sourcesContent=this._generateSourcesContent(q.sources,q.sourceRoot);return q};V8.prototype.toString=function(){return JSON.stringify(this.toJSON())};Vd.SourceMapGenerator=V8});var KV=N$((Md)=>{Md.GREATEST_LOWER_BOUND=1;Md.LEAST_UPPER_BOUND=2;function IW($,q,_,K,P,O){var Y=Math.floor((q-$)/2)+$,z=P(_,K[Y],!0);if(z===0)return Y;else if(z>0){if(q-Y>1)return IW(Y,q,_,K,P,O);if(O==Md.LEAST_UPPER_BOUND)return q<K.length?q:-1;else return Y}else{if(Y-$>1)return IW($,Y,_,K,P,O);if(O==Md.LEAST_UPPER_BOUND)return Y;else return $<0?-1:$}}Md.search=function(q,_,K,P){if(_.length===0)return-1;var O=IW(-1,_.length,q,_,K,P||Md.GREATEST_LOWER_BOUND);if(O<0)return-1;while(O-1>=0){if(K(_[O],_[O-1],!0)!==0)break;--O}return O}});var PV=N$((Ed)=>{function LW($,q,_){var K=$[q];$[q]=$[_],$[_]=K}function Cd($,q){return Math.round($+Math.random()*(q-$))}function gW($,q,_,K){if(_<K){var P=Cd(_,K),O=_-1;LW($,P,K);var Y=$[K];for(var z=_;z<K;z++)if(q($[z],Y)<=0)O+=1,LW($,O,z);LW($,O+1,z);var H=O+1;gW($,q,_,H-1),gW($,q,H+1,K)}}Ed.quickSort=function($,q){gW($,q,0,$.length-1)}});var YV=N$((Id)=>{var Q$=g4(),bW=KV(),b4=hW().ArraySet,Rd=MW(),m7=PV().quickSort;function L6($,q){var _=$;if(typeof $==="string")_=Q$.parseSourceMapInput($);return _.sections!=null?new p8(_,q):new Gq(_,q)}L6.fromSourceMap=function($,q){return Gq.fromSourceMap($,q)};L6.prototype._version=3;L6.prototype.__generatedMappings=null;Object.defineProperty(L6.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__generatedMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__generatedMappings}});L6.prototype.__originalMappings=null;Object.defineProperty(L6.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__originalMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__originalMappings}});L6.prototype._charIsMappingSeparator=function(q,_){var K=q.charAt(_);return K===";"||K===","};L6.prototype._parseMappings=function(q,_){throw Error("Subclasses must implement _parseMappings")};L6.GENERATED_ORDER=1;L6.ORIGINAL_ORDER=2;L6.GREATEST_LOWER_BOUND=1;L6.LEAST_UPPER_BOUND=2;L6.prototype.eachMapping=function(q,_,K){var P=_||null,O=K||L6.GENERATED_ORDER,Y;switch(O){case L6.GENERATED_ORDER:Y=this._generatedMappings;break;case L6.ORIGINAL_ORDER:Y=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var z=this.sourceRoot;Y.map(function(H){var T=H.source===null?null:this._sources.at(H.source);return T=Q$.computeSourceURL(z,T,this._sourceMapURL),{source:T,generatedLine:H.generatedLine,generatedColumn:H.generatedColumn,originalLine:H.originalLine,originalColumn:H.originalColumn,name:H.name===null?null:this._names.at(H.name)}},this).forEach(q,P)};L6.prototype.allGeneratedPositionsFor=function(q){var _=Q$.getArg(q,"line"),K={source:Q$.getArg(q,"source"),originalLine:_,originalColumn:Q$.getArg(q,"column",0)};if(K.source=this._findSourceIndex(K.source),K.source<0)return[];var P=[],O=this._findMapping(K,this._originalMappings,"originalLine","originalColumn",Q$.compareByOriginalPositions,bW.LEAST_UPPER_BOUND);if(O>=0){var Y=this._originalMappings[O];if(q.column===void 0){var z=Y.originalLine;while(Y&&Y.originalLine===z)P.push({line:Q$.getArg(Y,"generatedLine",null),column:Q$.getArg(Y,"generatedColumn",null),lastColumn:Q$.getArg(Y,"lastGeneratedColumn",null)}),Y=this._originalMappings[++O]}else{var H=Y.originalColumn;while(Y&&Y.originalLine===_&&Y.originalColumn==H)P.push({line:Q$.getArg(Y,"generatedLine",null),column:Q$.getArg(Y,"generatedColumn",null),lastColumn:Q$.getArg(Y,"lastGeneratedColumn",null)}),Y=this._originalMappings[++O]}}return P};Id.SourceMapConsumer=L6;function Gq($,q){var _=$;if(typeof $==="string")_=Q$.parseSourceMapInput($);var K=Q$.getArg(_,"version"),P=Q$.getArg(_,"sources"),O=Q$.getArg(_,"names",[]),Y=Q$.getArg(_,"sourceRoot",null),z=Q$.getArg(_,"sourcesContent",null),H=Q$.getArg(_,"mappings"),T=Q$.getArg(_,"file",null);if(K!=this._version)throw Error("Unsupported version: "+K);if(Y)Y=Q$.normalize(Y);P=P.map(String).map(Q$.normalize).map(function(f){return Y&&Q$.isAbsolute(Y)&&Q$.isAbsolute(f)?Q$.relative(Y,f):f}),this._names=b4.fromArray(O.map(String),!0),this._sources=b4.fromArray(P,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Q$.computeSourceURL(Y,f,q)}),this.sourceRoot=Y,this.sourcesContent=z,this._mappings=H,this._sourceMapURL=q,this.file=T}Gq.prototype=Object.create(L6.prototype);Gq.prototype.consumer=L6;Gq.prototype._findSourceIndex=function($){var q=$;if(this.sourceRoot!=null)q=Q$.relative(this.sourceRoot,q);if(this._sources.has(q))return this._sources.indexOf(q);var _;for(_=0;_<this._absoluteSources.length;++_)if(this._absoluteSources[_]==$)return _;return-1};Gq.fromSourceMap=function(q,_){var K=Object.create(Gq.prototype),P=K._names=b4.fromArray(q._names.toArray(),!0),O=K._sources=b4.fromArray(q._sources.toArray(),!0);K.sourceRoot=q._sourceRoot,K.sourcesContent=q._generateSourcesContent(K._sources.toArray(),K.sourceRoot),K.file=q._file,K._sourceMapURL=_,K._absoluteSources=K._sources.toArray().map(function(S){return Q$.computeSourceURL(K.sourceRoot,S,_)});var Y=q._mappings.toArray().slice(),z=K.__generatedMappings=[],H=K.__originalMappings=[];for(var T=0,f=Y.length;T<f;T++){var w=Y[T],k=new OV;if(k.generatedLine=w.generatedLine,k.generatedColumn=w.generatedColumn,w.source){if(k.source=O.indexOf(w.source),k.originalLine=w.originalLine,k.originalColumn=w.originalColumn,w.name)k.name=P.indexOf(w.name);H.push(k)}z.push(k)}return m7(K.__originalMappings,Q$.compareByOriginalPositions),K};Gq.prototype._version=3;Object.defineProperty(Gq.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function OV(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Gq.prototype._parseMappings=function(q,_){var K=1,P=0,O=0,Y=0,z=0,H=0,T=q.length,f=0,w={},k={},S=[],N=[],h,E,D,I,L;while(f<T)if(q.charAt(f)===";")K++,f++,P=0;else if(q.charAt(f)===",")f++;else{h=new OV,h.generatedLine=K;for(I=f;I<T;I++)if(this._charIsMappingSeparator(q,I))break;if(E=q.slice(f,I),D=w[E],D)f+=E.length;else{D=[];while(f<I)Rd.decode(q,f,k),L=k.value,f=k.rest,D.push(L);if(D.length===2)throw Error("Found a source, but no line and column");if(D.length===3)throw Error("Found a source and line, but no column");w[E]=D}if(h.generatedColumn=P+D[0],P=h.generatedColumn,D.length>1){if(h.source=z+D[1],z+=D[1],h.originalLine=O+D[2],O=h.originalLine,h.originalLine+=1,h.originalColumn=Y+D[3],Y=h.originalColumn,D.length>4)h.name=H+D[4],H+=D[4]}if(N.push(h),typeof h.originalLine==="number")S.push(h)}m7(N,Q$.compareByGeneratedPositionsDeflated),this.__generatedMappings=N,m7(S,Q$.compareByOriginalPositions),this.__originalMappings=S};Gq.prototype._findMapping=function(q,_,K,P,O,Y){if(q[K]<=0)throw TypeError("Line must be greater than or equal to 1, got "+q[K]);if(q[P]<0)throw TypeError("Column must be greater than or equal to 0, got "+q[P]);return bW.search(q,_,O,Y)};Gq.prototype.computeColumnSpans=function(){for(var q=0;q<this._generatedMappings.length;++q){var _=this._generatedMappings[q];if(q+1<this._generatedMappings.length){var K=this._generatedMappings[q+1];if(_.generatedLine===K.generatedLine){_.lastGeneratedColumn=K.generatedColumn-1;continue}}_.lastGeneratedColumn=1/0}};Gq.prototype.originalPositionFor=function(q){var _={generatedLine:Q$.getArg(q,"line"),generatedColumn:Q$.getArg(q,"column")},K=this._findMapping(_,this._generatedMappings,"generatedLine","generatedColumn",Q$.compareByGeneratedPositionsDeflated,Q$.getArg(q,"bias",L6.GREATEST_LOWER_BOUND));if(K>=0){var P=this._generatedMappings[K];if(P.generatedLine===_.generatedLine){var O=Q$.getArg(P,"source",null);if(O!==null)O=this._sources.at(O),O=Q$.computeSourceURL(this.sourceRoot,O,this._sourceMapURL);var Y=Q$.getArg(P,"name",null);if(Y!==null)Y=this._names.at(Y);return{source:O,line:Q$.getArg(P,"originalLine",null),column:Q$.getArg(P,"originalColumn",null),name:Y}}}return{source:null,line:null,column:null,name:null}};Gq.prototype.hasContentsOfAllSources=function(){if(!this.sourcesContent)return!1;return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(q){return q==null})};Gq.prototype.sourceContentFor=function(q,_){if(!this.sourcesContent)return null;var K=this._findSourceIndex(q);if(K>=0)return this.sourcesContent[K];var P=q;if(this.sourceRoot!=null)P=Q$.relative(this.sourceRoot,P);var O;if(this.sourceRoot!=null&&(O=Q$.urlParse(this.sourceRoot))){var Y=P.replace(/^file:\/\//,"");if(O.scheme=="file"&&this._sources.has(Y))return this.sourcesContent[this._sources.indexOf(Y)];if((!O.path||O.path=="/")&&this._sources.has("/"+P))return this.sourcesContent[this._sources.indexOf("/"+P)]}if(_)return null;else throw Error('"'+P+'" is not in the SourceMap.')};Gq.prototype.generatedPositionFor=function(q){var _=Q$.getArg(q,"source");if(_=this._findSourceIndex(_),_<0)return{line:null,column:null,lastColumn:null};var K={source:_,originalLine:Q$.getArg(q,"line"),originalColumn:Q$.getArg(q,"column")},P=this._findMapping(K,this._originalMappings,"originalLine","originalColumn",Q$.compareByOriginalPositions,Q$.getArg(q,"bias",L6.GREATEST_LOWER_BOUND));if(P>=0){var O=this._originalMappings[P];if(O.source===K.source)return{line:Q$.getArg(O,"generatedLine",null),column:Q$.getArg(O,"generatedColumn",null),lastColumn:Q$.getArg(O,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Id.BasicSourceMapConsumer=Gq;function p8($,q){var _=$;if(typeof $==="string")_=Q$.parseSourceMapInput($);var K=Q$.getArg(_,"version"),P=Q$.getArg(_,"sections");if(K!=this._version)throw Error("Unsupported version: "+K);this._sources=new b4,this._names=new b4;var O={line:-1,column:0};this._sections=P.map(function(Y){if(Y.url)throw Error("Support for url field in sections not implemented.");var z=Q$.getArg(Y,"offset"),H=Q$.getArg(z,"line"),T=Q$.getArg(z,"column");if(H<O.line||H===O.line&&T<O.column)throw Error("Section offsets must be ordered and non-overlapping.");return O=z,{generatedOffset:{generatedLine:H+1,generatedColumn:T+1},consumer:new L6(Q$.getArg(Y,"map"),q)}})}p8.prototype=Object.create(L6.prototype);p8.prototype.constructor=L6;p8.prototype._version=3;Object.defineProperty(p8.prototype,"sources",{get:function(){var $=[];for(var q=0;q<this._sections.length;q++)for(var _=0;_<this._sections[q].consumer.sources.length;_++)$.push(this._sections[q].consumer.sources[_]);return $}});p8.prototype.originalPositionFor=function(q){var _={generatedLine:Q$.getArg(q,"line"),generatedColumn:Q$.getArg(q,"column")},K=bW.search(_,this._sections,function(O,Y){var z=O.generatedLine-Y.generatedOffset.generatedLine;if(z)return z;return O.generatedColumn-Y.generatedOffset.generatedColumn}),P=this._sections[K];if(!P)return{source:null,line:null,column:null,name:null};return P.consumer.originalPositionFor({line:_.generatedLine-(P.generatedOffset.generatedLine-1),column:_.generatedColumn-(P.generatedOffset.generatedLine===_.generatedLine?P.generatedOffset.generatedColumn-1:0),bias:q.bias})};p8.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(q){return q.consumer.hasContentsOfAllSources()})};p8.prototype.sourceContentFor=function(q,_){for(var K=0;K<this._sections.length;K++){var P=this._sections[K],O=P.consumer.sourceContentFor(q,!0);if(O)return O}if(_)return null;else throw Error('"'+q+'" is not in the SourceMap.')};p8.prototype.generatedPositionFor=function(q){for(var _=0;_<this._sections.length;_++){var K=this._sections[_];if(K.consumer._findSourceIndex(Q$.getArg(q,"source"))===-1)continue;var P=K.consumer.generatedPositionFor(q);if(P){var O={line:P.line+(K.generatedOffset.generatedLine-1),column:P.column+(K.generatedOffset.generatedLine===P.line?K.generatedOffset.generatedColumn-1:0)};return O}}return{line:null,column:null}};p8.prototype._parseMappings=function(q,_){this.__generatedMappings=[],this.__originalMappings=[];for(var K=0;K<this._sections.length;K++){var P=this._sections[K],O=P.consumer._generatedMappings;for(var Y=0;Y<O.length;Y++){var z=O[Y],H=P.consumer._sources.at(z.source);H=Q$.computeSourceURL(P.consumer.sourceRoot,H,this._sourceMapURL),this._sources.add(H),H=this._sources.indexOf(H);var T=null;if(z.name)T=P.consumer._names.at(z.name),this._names.add(T),T=this._names.indexOf(T);var f={source:H,generatedLine:z.generatedLine+(P.generatedOffset.generatedLine-1),generatedColumn:z.generatedColumn+(P.generatedOffset.generatedLine===z.generatedLine?P.generatedOffset.generatedColumn-1:0),originalLine:z.originalLine,originalColumn:z.originalColumn,name:T};if(this.__generatedMappings.push(f),typeof f.originalLine==="number")this.__originalMappings.push(f)}}m7(this.__generatedMappings,Q$.compareByGeneratedPositionsDeflated),m7(this.__originalMappings,Q$.compareByOriginalPositions)};Id.IndexedSourceMapConsumer=p8});var jV=N$((xd)=>{var bd=RW().SourceMapGenerator,m5=g4(),yd=/(\r?\n)/,ud=10,y4="$$$isSourceNode$$$";function j8($,q,_,K,P){if(this.children=[],this.sourceContents={},this.line=$==null?null:$,this.column=q==null?null:q,this.source=_==null?null:_,this.name=P==null?null:P,this[y4]=!0,K!=null)this.add(K)}j8.fromStringWithSourceMap=function(q,_,K){var P=new j8,O=q.split(yd),Y=0,z=function(){var k=N(),S=N()||"";return k+S;function N(){return Y<O.length?O[Y++]:void 0}},H=1,T=0,f=null;if(_.eachMapping(function(k){if(f!==null)if(H<k.generatedLine)w(f,z()),H++,T=0;else{var S=O[Y]||"",N=S.substr(0,k.generatedColumn-T);O[Y]=S.substr(k.generatedColumn-T),T=k.generatedColumn,w(f,N),f=k;return}while(H<k.generatedLine)P.add(z()),H++;if(T<k.generatedColumn){var S=O[Y]||"";P.add(S.substr(0,k.generatedColumn)),O[Y]=S.substr(k.generatedColumn),T=k.generatedColumn}f=k},this),Y<O.length){if(f)w(f,z());P.add(O.splice(Y).join(""))}return _.sources.forEach(function(k){var S=_.sourceContentFor(k);if(S!=null){if(K!=null)k=m5.join(K,k);P.setSourceContent(k,S)}}),P;function w(k,S){if(k===null||k.source===void 0)P.add(S);else{var N=K?m5.join(K,k.source):k.source;P.add(new j8(k.originalLine,k.originalColumn,N,S,k.name))}}};j8.prototype.add=function(q){if(Array.isArray(q))q.forEach(function(_){this.add(_)},this);else if(q[y4]||typeof q==="string"){if(q)this.children.push(q)}else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+q);return this};j8.prototype.prepend=function(q){if(Array.isArray(q))for(var _=q.length-1;_>=0;_--)this.prepend(q[_]);else if(q[y4]||typeof q==="string")this.children.unshift(q);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+q);return this};j8.prototype.walk=function(q){var _;for(var K=0,P=this.children.length;K<P;K++)if(_=this.children[K],_[y4])_.walk(q);else if(_!=="")q(_,{source:this.source,line:this.line,column:this.column,name:this.name})};j8.prototype.join=function(q){var _,K,P=this.children.length;if(P>0){_=[];for(K=0;K<P-1;K++)_.push(this.children[K]),_.push(q);_.push(this.children[K]),this.children=_}return this};j8.prototype.replaceRight=function(q,_){var K=this.children[this.children.length-1];if(K[y4])K.replaceRight(q,_);else if(typeof K==="string")this.children[this.children.length-1]=K.replace(q,_);else this.children.push("".replace(q,_));return this};j8.prototype.setSourceContent=function(q,_){this.sourceContents[m5.toSetString(q)]=_};j8.prototype.walkSourceContents=function(q){for(var _=0,K=this.children.length;_<K;_++)if(this.children[_][y4])this.children[_].walkSourceContents(q);var P=Object.keys(this.sourceContents);for(var _=0,K=P.length;_<K;_++)q(m5.fromSetString(P[_]),this.sourceContents[P[_]])};j8.prototype.toString=function(){var q="";return this.walk(function(_){q+=_}),q};j8.prototype.toStringWithSourceMap=function(q){var _={code:"",line:1,column:0},K=new bd(q),P=!1,O=null,Y=null,z=null,H=null;return this.walk(function(T,f){if(_.code+=T,f.source!==null&&f.line!==null&&f.column!==null){if(O!==f.source||Y!==f.line||z!==f.column||H!==f.name)K.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:_.line,column:_.column},name:f.name});O=f.source,Y=f.line,z=f.column,H=f.name,P=!0}else if(P)K.addMapping({generated:{line:_.line,column:_.column}}),O=null,P=!1;for(var w=0,k=T.length;w<k;w++)if(T.charCodeAt(w)===ud){if(_.line++,_.column=0,w+1===k)O=null,P=!1;else if(P)K.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:_.line,column:_.column},name:f.name})}else _.column++}),this.walkSourceContents(function(T,f){K.setSourceContent(T,f)}),{code:_.code,map:K}};xd.SourceNode=j8});var vV=N$((cd)=>{cd.SourceMapGenerator=RW().SourceMapGenerator;cd.SourceMapConsumer=YV().SourceMapConsumer;cd.SourceNode=jV().SourceNode});var HV=N$((WV,JV)=>{WV.__esModule=!0;var uW=cq(),LK=void 0;try{if(typeof define!=="function"||!define.amd)xW=vV(),LK=xW.SourceNode}catch($){}var xW;if(!LK)LK=function($,q,_,K){if(this.src="",K)this.add(K)},LK.prototype={add:function(q){if(uW.isArray(q))q=q.join("");this.src+=q},prepend:function(q){if(uW.isArray(q))q=q.join("");this.src=q+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};function yW($,q,_){if(uW.isArray($)){var K=[];for(var P=0,O=$.length;P<O;P++)K.push(q.wrap($[P],_));return K}else if(typeof $==="boolean"||typeof $==="number")return $+"";return $}function zV($){this.srcFile=$,this.source=[]}zV.prototype={isEmpty:function(){return!this.source.length},prepend:function(q,_){this.source.unshift(this.wrap(q,_))},push:function(q,_){this.source.push(this.wrap(q,_))},merge:function(){var q=this.empty();return this.each(function(_){q.add(["  ",_,`
`])}),q},each:function(q){for(var _=0,K=this.source.length;_<K;_++)q(this.source[_])},empty:function(){var q=this.currentLocation||{start:{}};return new LK(q.start.line,q.start.column,this.srcFile)},wrap:function(q){var _=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];if(q instanceof LK)return q;return q=yW(q,this,_),new LK(_.start.line,_.start.column,this.srcFile,q)},functionCall:function(q,_,K){return K=this.generateList(K),this.wrap([q,_?"."+_+"(":"(",K,")"])},quotedString:function(q){return'"'+(q+"").replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(q){var _=this,K=[];Object.keys(q).forEach(function(O){var Y=yW(q[O],_);if(Y!=="undefined")K.push([_.quotedString(O),":",Y])});var P=this.generateList(K);return P.prepend("{"),P.add("}"),P},generateList:function(q){var _=this.empty();for(var K=0,P=q.length;K<P;K++){if(K)_.add(",");_.add(yW(q[K],this))}return _},generateArray:function(q){var _=this.generateList(q);return _.prepend("["),_.add("]"),_}};WV.default=zV;JV.exports=WV.default});var AV=N$((ZV,XV)=>{ZV.__esModule=!0;function fV($){return $&&$.__esModule?$:{default:$}}var TV=L5(),nd=G8(),pW=fV(nd),id=cq(),Bd=HV(),wV=fV(Bd);function u4($){this.value=$}function x4(){}x4.prototype={nameLookup:function(q,_){return this.internalNameLookup(q,_)},depthedLookup:function(q){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(q),")"]},compilerInfo:function(){var q=TV.COMPILER_REVISION,_=TV.REVISION_CHANGES[q];return[q,_]},appendToBuffer:function(q,_,K){if(!id.isArray(q))q=[q];if(q=this.source.wrap(q,_),this.environment.isSimple)return["return ",q,";"];else if(K)return["buffer += ",q,";"];else return q.appendToBuffer=!0,q},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(q,_){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",q,",",JSON.stringify(_),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(q,_,K,P){this.environment=q,this.options=_,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!P,this.name=this.environment.name,this.isChild=!!K,this.context=K||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(q,_),this.useDepths=this.useDepths||q.useDepths||q.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||q.useBlockParams;var O=q.opcodes,Y=void 0,z=void 0,H=void 0,T=void 0;for(H=0,T=O.length;H<T;H++)Y=O[H],this.source.currentLocation=Y.loc,z=z||Y.loc,this[Y.opcode].apply(this,Y.args);if(this.source.currentLocation=z,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new pW.default("Compile completed with content left on stack");if(!this.decorators.isEmpty())if(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),P)this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]);else this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge();else this.decorators=void 0;var f=this.createFunctionContext(P);if(!this.isChild){var w={compiler:this.compilerInfo(),main:f};if(this.decorators)w.main_d=this.decorators,w.useDecorators=!0;var k=this.context,S=k.programs,N=k.decorators;for(H=0,T=S.length;H<T;H++)if(S[H]){if(w[H]=S[H],N[H])w[H+"_d"]=N[H],w.useDecorators=!0}if(this.environment.usePartial)w.usePartial=!0;if(this.options.data)w.useData=!0;if(this.useDepths)w.useDepths=!0;if(this.useBlockParams)w.useBlockParams=!0;if(this.options.compat)w.compat=!0;if(!P)if(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),_.srcName)w=w.toStringWithSourceMap({file:_.destName}),w.map=w.map&&w.map.toString();else w=w.toString();else w.compilerOptions=this.options;return w}else return f},preamble:function(){this.lastContext=0,this.source=new wV.default(this.options.srcName),this.decorators=new wV.default(this.options.srcName)},createFunctionContext:function(q){var _=this,K="",P=this.stackVars.concat(this.registers.list);if(P.length>0)K+=", "+P.join(", ");var O=0;if(Object.keys(this.aliases).forEach(function(H){var T=_.aliases[H];if(T.children&&T.referenceCount>1)K+=", alias"+ ++O+"="+H,T.children[0]="alias"+O}),this.lookupPropertyFunctionIsUsed)K+=", "+this.lookupPropertyFunctionVarDeclaration();var Y=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths)Y.push("blockParams");if(this.useDepths)Y.push("depths");var z=this.mergeSource(K);if(q)return Y.push(z),Function.apply(this,Y);else return this.source.wrap(["function(",Y.join(","),`) {
  `,z,"}"])},mergeSource:function(q){var _=this.environment.isSimple,K=!this.forceBuffer,P=void 0,O=void 0,Y=void 0,z=void 0;if(this.source.each(function(H){if(H.appendToBuffer){if(Y)H.prepend("  + ");else Y=H;z=H}else{if(Y){if(!O)P=!0;else Y.prepend("buffer += ");z.add(";"),Y=z=void 0}if(O=!0,!_)K=!1}}),K){if(Y)Y.prepend("return "),z.add(";");else if(!O)this.source.push('return "";')}else if(q+=", buffer = "+(P?"":this.initializeBuffer()),Y)Y.prepend("return buffer + "),z.add(";");else this.source.push("return buffer;");if(q)this.source.prepend("var "+q.substring(2)+(P?"":`;
`));return this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(q){var _=this.aliasable("container.hooks.blockHelperMissing"),K=[this.contextName(0)];this.setupHelperArgs(q,0,K);var P=this.popStack();K.splice(1,0,P),this.push(this.source.functionCall(_,"call",K))},ambiguousBlockValue:function(){var q=this.aliasable("container.hooks.blockHelperMissing"),_=[this.contextName(0)];this.setupHelperArgs("",0,_,!0),this.flushInline();var K=this.topStack();_.splice(1,0,K),this.pushSource(["if (!",this.lastHelper,") { ",K," = ",this.source.functionCall(q,"call",_),"}"])},appendContent:function(q){if(this.pendingContent)q=this.pendingContent+q;else this.pendingLocation=this.source.currentLocation;this.pendingContent=q},append:function(){if(this.isInline())this.replaceStack(function(_){return[" != null ? ",_,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var q=this.popStack();if(this.pushSource(["if (",q," != null) { ",this.appendToBuffer(q,void 0,!0)," }"]),this.environment.isSimple)this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(q){this.lastContext=q},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(q,_,K,P){var O=0;if(!P&&this.options.compat&&!this.lastContext)this.push(this.depthedLookup(q[O++]));else this.pushContext();this.resolvePath("context",q,O,_,K)},lookupBlockParam:function(q,_){this.useBlockParams=!0,this.push(["blockParams[",q[0],"][",q[1],"]"]),this.resolvePath("context",_,1)},lookupData:function(q,_,K){if(!q)this.pushStackLiteral("data");else this.pushStackLiteral("container.data(data, "+q+")");this.resolvePath("data",_,0,!0,K)},resolvePath:function(q,_,K,P,O){var Y=this;if(this.options.strict||this.options.assumeObjects){this.push(td(this.options.strict&&O,this,_,K,q));return}var z=_.length;for(;K<z;K++)this.replaceStack(function(H){var T=Y.nameLookup(H,_[K],q);if(!P)return[" != null ? ",T," : ",H];else return[" && ",T]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(q,_){if(this.pushContext(),this.pushString(_),_!=="SubExpression")if(typeof q==="string")this.pushString(q);else this.pushStackLiteral(q)},emptyHash:function(q){if(this.trackIds)this.push("{}");if(this.stringParams)this.push("{}"),this.push("{}");this.pushStackLiteral(q?"undefined":"{}")},pushHash:function(){if(this.hash)this.hashes.push(this.hash);this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var q=this.hash;if(this.hash=this.hashes.pop(),this.trackIds)this.push(this.objectLiteral(q.ids));if(this.stringParams)this.push(this.objectLiteral(q.contexts)),this.push(this.objectLiteral(q.types));this.push(this.objectLiteral(q.values))},pushString:function(q){this.pushStackLiteral(this.quotedString(q))},pushLiteral:function(q){this.pushStackLiteral(q)},pushProgram:function(q){if(q!=null)this.pushStackLiteral(this.programExpression(q));else this.pushStackLiteral(null)},registerDecorator:function(q,_){var K=this.nameLookup("decorators",_,"decorator"),P=this.setupHelperArgs(_,q);this.decorators.push(["fn = ",this.decorators.functionCall(K,"",["fn","props","container",P])," || fn;"])},invokeHelper:function(q,_,K){var P=this.popStack(),O=this.setupHelper(q,_),Y=[];if(K)Y.push(O.name);if(Y.push(P),!this.options.strict)Y.push(this.aliasable("container.hooks.helperMissing"));var z=["(",this.itemsSeparatedBy(Y,"||"),")"],H=this.source.functionCall(z,"call",O.callParams);this.push(H)},itemsSeparatedBy:function(q,_){var K=[];K.push(q[0]);for(var P=1;P<q.length;P++)K.push(_,q[P]);return K},invokeKnownHelper:function(q,_){var K=this.setupHelper(q,_);this.push(this.source.functionCall(K.name,"call",K.callParams))},invokeAmbiguous:function(q,_){this.useRegister("helper");var K=this.popStack();this.emptyHash();var P=this.setupHelper(0,q,_),O=this.lastHelper=this.nameLookup("helpers",q,"helper"),Y=["(","(helper = ",O," || ",K,")"];if(!this.options.strict)Y[0]="(helper = ",Y.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"));this.push(["(",Y,P.paramsInit?["),(",P.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",P.callParams)," : helper))"])},invokePartial:function(q,_,K){var P=[],O=this.setupParams(_,1,P);if(q)_=this.popStack(),delete O.name;if(K)O.indent=JSON.stringify(K);if(O.helpers="helpers",O.partials="partials",O.decorators="container.decorators",!q)P.unshift(this.nameLookup("partials",_,"partial"));else P.unshift(_);if(this.options.compat)O.depths="depths";O=this.objectLiteral(O),P.push(O),this.push(this.source.functionCall("container.invokePartial","",P))},assignToHash:function(q){var _=this.popStack(),K=void 0,P=void 0,O=void 0;if(this.trackIds)O=this.popStack();if(this.stringParams)P=this.popStack(),K=this.popStack();var Y=this.hash;if(K)Y.contexts[q]=K;if(P)Y.types[q]=P;if(O)Y.ids[q]=O;Y.values[q]=_},pushId:function(q,_,K){if(q==="BlockParam")this.pushStackLiteral("blockParams["+_[0]+"].path["+_[1]+"]"+(K?" + "+JSON.stringify("."+K):""));else if(q==="PathExpression")this.pushString(_);else if(q==="SubExpression")this.pushStackLiteral("true");else this.pushStackLiteral("null")},compiler:x4,compileChildren:function(q,_){var K=q.children,P=void 0,O=void 0;for(var Y=0,z=K.length;Y<z;Y++){P=K[Y],O=new this.compiler;var H=this.matchExistingProgram(P);if(H==null){this.context.programs.push("");var T=this.context.programs.length;P.index=T,P.name="program"+T,this.context.programs[T]=O.compile(P,_,this.context,!this.precompile),this.context.decorators[T]=O.decorators,this.context.environments[T]=P,this.useDepths=this.useDepths||O.useDepths,this.useBlockParams=this.useBlockParams||O.useBlockParams,P.useDepths=this.useDepths,P.useBlockParams=this.useBlockParams}else P.index=H.index,P.name="program"+H.index,this.useDepths=this.useDepths||H.useDepths,this.useBlockParams=this.useBlockParams||H.useBlockParams}},matchExistingProgram:function(q){for(var _=0,K=this.context.environments.length;_<K;_++){var P=this.context.environments[_];if(P&&P.equals(q))return P}},programExpression:function(q){var _=this.environment.children[q],K=[_.index,"data",_.blockParams];if(this.useBlockParams||this.useDepths)K.push("blockParams");if(this.useDepths)K.push("depths");return"container.program("+K.join(", ")+")"},useRegister:function(q){if(!this.registers[q])this.registers[q]=!0,this.registers.list.push(q)},push:function(q){if(!(q instanceof u4))q=this.source.wrap(q);return this.inlineStack.push(q),q},pushStackLiteral:function(q){this.push(new u4(q))},pushSource:function(q){if(this.pendingContent)this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0;if(q)this.source.push(q)},replaceStack:function(q){var _=["("],K=void 0,P=void 0,O=void 0;if(!this.isInline())throw new pW.default("replaceStack on non-inline");var Y=this.popStack(!0);if(Y instanceof u4)K=[Y.value],_=["(",K],O=!0;else{P=!0;var z=this.incrStack();_=["((",this.push(z)," = ",Y,")"],K=this.topStack()}var H=q.call(this,K);if(!O)this.popStack();if(P)this.stackSlot--;this.push(_.concat(H,")"))},incrStack:function(){if(this.stackSlot++,this.stackSlot>this.stackVars.length)this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var q=this.inlineStack;this.inlineStack=[];for(var _=0,K=q.length;_<K;_++){var P=q[_];if(P instanceof u4)this.compileStack.push(P);else{var O=this.incrStack();this.pushSource([O," = ",P,";"]),this.compileStack.push(O)}}},isInline:function(){return this.inlineStack.length},popStack:function(q){var _=this.isInline(),K=(_?this.inlineStack:this.compileStack).pop();if(!q&&K instanceof u4)return K.value;else{if(!_){if(!this.stackSlot)throw new pW.default("Invalid stack pop");this.stackSlot--}return K}},topStack:function(){var q=this.isInline()?this.inlineStack:this.compileStack,_=q[q.length-1];if(_ instanceof u4)return _.value;else return _},contextName:function(q){if(this.useDepths&&q)return"depths["+q+"]";else return"depth"+q},quotedString:function(q){return this.source.quotedString(q)},objectLiteral:function(q){return this.source.objectLiteral(q)},aliasable:function(q){var _=this.aliases[q];if(_)return _.referenceCount++,_;return _=this.aliases[q]=this.source.wrap(q),_.aliasable=!0,_.referenceCount=1,_},setupHelper:function(q,_,K){var P=[],O=this.setupHelperArgs(_,q,P,K),Y=this.nameLookup("helpers",_,"helper"),z=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:P,paramsInit:O,name:Y,callParams:[z].concat(P)}},setupParams:function(q,_,K){var P={},O=[],Y=[],z=[],H=!K,T=void 0;if(H)K=[];if(P.name=this.quotedString(q),P.hash=this.popStack(),this.trackIds)P.hashIds=this.popStack();if(this.stringParams)P.hashTypes=this.popStack(),P.hashContexts=this.popStack();var f=this.popStack(),w=this.popStack();if(w||f)P.fn=w||"container.noop",P.inverse=f||"container.noop";var k=_;while(k--){if(T=this.popStack(),K[k]=T,this.trackIds)z[k]=this.popStack();if(this.stringParams)Y[k]=this.popStack(),O[k]=this.popStack()}if(H)P.args=this.source.generateArray(K);if(this.trackIds)P.ids=this.source.generateArray(z);if(this.stringParams)P.types=this.source.generateArray(Y),P.contexts=this.source.generateArray(O);if(this.options.data)P.data="data";if(this.useBlockParams)P.blockParams="blockParams";return P},setupHelperArgs:function(q,_,K,P){var O=this.setupParams(q,_,K);if(O.loc=JSON.stringify(this.source.currentLocation),O=this.objectLiteral(O),P)return this.useRegister("options"),K.push("options"),["options=",O];else if(K)return K.push(O),"";else return O}};(function(){var $="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),q=x4.RESERVED_WORDS={};for(var _=0,K=$.length;_<K;_++)q[$[_]]=!0})();x4.isValidJavaScriptVariableName=function($){return!x4.RESERVED_WORDS[$]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test($)};function td($,q,_,K,P){var O=q.popStack(),Y=_.length;if($)Y--;for(;K<Y;K++)O=q.nameLookup(O,_[K],P);if($)return[q.aliasable("container.strict"),"(",O,", ",q.quotedString(_[K]),", ",JSON.stringify(q.source.currentLocation)," )"];else return O}ZV.default=x4;XV.exports=ZV.default});var SV=N$((GV,VV)=>{GV.__esModule=!0;function d7($){return $&&$.__esModule?$:{default:$}}var ad=VG(),Qd=d7(ad),ed=wW(),sd=d7(ed),cW=cG(),mW=rG(),$l=AV(),ql=d7($l),_l=u5(),Kl=d7(_l),Pl=WW(),Ol=d7(Pl),Yl=Qd.default.create;function kV(){var $=Yl();return $.compile=function(q,_){return mW.compile(q,_,$)},$.precompile=function(q,_){return mW.precompile(q,_,$)},$.AST=sd.default,$.Compiler=mW.Compiler,$.JavaScriptCompiler=ql.default,$.Parser=cW.parser,$.parse=cW.parse,$.parseWithoutProcessing=cW.parseWithoutProcessing,$}var p4=kV();p4.create=kV;Ol.default(p4);p4.Visitor=Kl.default;p4.default=p4;GV.default=p4;VV.exports=GV.default});var MV=N$((Tl)=>{Tl.__esModule=!0;Tl.print=Hl;Tl.PrintVisitor=r6;function zl($){return $&&$.__esModule?$:{default:$}}var Wl=u5(),Jl=zl(Wl);function Hl($){return new r6().accept($)}function r6(){this.padding=0}r6.prototype=new Jl.default;r6.prototype.pad=function($){var q="";for(var _=0,K=this.padding;_<K;_++)q+="  ";return q+=$+`
`,q};r6.prototype.Program=function($){var q="",_=$.body,K=void 0,P=void 0;if($.blockParams){var O="BLOCK PARAMS: [";for(K=0,P=$.blockParams.length;K<P;K++)O+=" "+$.blockParams[K];O+=" ]",q+=this.pad(O)}for(K=0,P=_.length;K<P;K++)q+=this.accept(_[K]);return this.padding--,q};r6.prototype.MustacheStatement=function($){return this.pad("{{ "+this.SubExpression($)+" }}")};r6.prototype.Decorator=function($){return this.pad("{{ DIRECTIVE "+this.SubExpression($)+" }}")};r6.prototype.BlockStatement=r6.prototype.DecoratorBlock=function($){var q="";if(q+=this.pad(($.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,q+=this.pad(this.SubExpression($)),$.program)q+=this.pad("PROGRAM:"),this.padding++,q+=this.accept($.program),this.padding--;if($.inverse){if($.program)this.padding++;if(q+=this.pad("{{^}}"),this.padding++,q+=this.accept($.inverse),this.padding--,$.program)this.padding--}return this.padding--,q};r6.prototype.PartialStatement=function($){var q="PARTIAL:"+$.name.original;if($.params[0])q+=" "+this.accept($.params[0]);if($.hash)q+=" "+this.accept($.hash);return this.pad("{{> "+q+" }}")};r6.prototype.PartialBlockStatement=function($){var q="PARTIAL BLOCK:"+$.name.original;if($.params[0])q+=" "+this.accept($.params[0]);if($.hash)q+=" "+this.accept($.hash);return q+=" "+this.pad("PROGRAM:"),this.padding++,q+=this.accept($.program),this.padding--,this.pad("{{> "+q+" }}")};r6.prototype.ContentStatement=function($){return this.pad("CONTENT[ '"+$.value+"' ]")};r6.prototype.CommentStatement=function($){return this.pad("{{! '"+$.value+"' }}")};r6.prototype.SubExpression=function($){var q=$.params,_=[],K=void 0;for(var P=0,O=q.length;P<O;P++)_.push(this.accept(q[P]));return q="["+_.join(", ")+"]",K=$.hash?" "+this.accept($.hash):"",this.accept($.path)+" "+q+K};r6.prototype.PathExpression=function($){var q=$.parts.join("/");return($.data?"@":"")+"PATH:"+q};r6.prototype.StringLiteral=function($){return'"'+$.value+'"'};r6.prototype.NumberLiteral=function($){return"NUMBER{"+$.value+"}"};r6.prototype.BooleanLiteral=function($){return"BOOLEAN{"+$.value+"}"};r6.prototype.UndefinedLiteral=function(){return"UNDEFINED"};r6.prototype.NullLiteral=function(){return"NULL"};r6.prototype.Hash=function($){var q=$.pairs,_=[];for(var K=0,P=q.length;K<P;K++)_.push(this.accept(q[K]));return"HASH{"+_.join(", ")+"}"};r6.prototype.HashPair=function($){return $.key+"="+this.accept($.value)}});var hV=N$((M9$,EV)=>{var d5=SV().default,CV=MV();d5.PrintVisitor=CV.PrintVisitor;d5.print=CV.print;EV.exports=d5;function NV($,q){var _=(()=>({})),K=_.readFileSync(q,"utf8");$.exports=d5.compile(K)}if(m8.extensions)m8.extensions[".handlebars"]=NV,m8.extensions[".hbs"]=NV});var uJ={};oq(uJ,{sep:()=>LS,resolve:()=>K2,relative:()=>NS,posix:()=>bS,parse:()=>DS,normalize:()=>yJ,join:()=>MS,isAbsolute:()=>SS,format:()=>IS,extname:()=>RS,dirname:()=>ES,delimiter:()=>gS,default:()=>lr,basename:()=>hS,_makeLong:()=>CS});function s8($){if(typeof $!=="string")throw TypeError("Path must be a string. Received "+JSON.stringify($))}function VS($,q){var _="",K=0,P=-1,O=0,Y;for(var z=0;z<=$.length;++z){if(z<$.length)Y=$.charCodeAt(z);else if(Y===47)break;else Y=47;if(Y===47){if(P===z-1||O===1);else if(P!==z-1&&O===2){if(_.length<2||K!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var H=_.lastIndexOf("/");if(H!==_.length-1){if(H===-1)_="",K=0;else _=_.slice(0,H),K=_.length-1-_.lastIndexOf("/");P=z,O=0;continue}}else if(_.length===2||_.length===1){_="",K=0,P=z,O=0;continue}}if(q){if(_.length>0)_+="/..";else _="..";K=2}}else{if(_.length>0)_+="/"+$.slice(P+1,z);else _=$.slice(P+1,z);K=z-P-1}P=z,O=0}else if(Y===46&&O!==-1)++O;else O=-1}return _}function dr($,q){var _=q.dir||q.root,K=q.base||(q.name||"")+(q.ext||"");if(!_)return K;if(_===q.root)return _+K;return _+$+K}function K2(){var $="",q=!1,_;for(var K=arguments.length-1;K>=-1&&!q;K--){var P;if(K>=0)P=arguments[K];else{if(_===void 0)_=process.cwd();P=_}if(s8(P),P.length===0)continue;$=P+"/"+$,q=P.charCodeAt(0)===47}if($=VS($,!q),q)if($.length>0)return"/"+$;else return"/";else if($.length>0)return $;else return"."}function yJ($){if(s8($),$.length===0)return".";var q=$.charCodeAt(0)===47,_=$.charCodeAt($.length-1)===47;if($=VS($,!q),$.length===0&&!q)$=".";if($.length>0&&_)$+="/";if(q)return"/"+$;return $}function SS($){return s8($),$.length>0&&$.charCodeAt(0)===47}function MS(){if(arguments.length===0)return".";var $;for(var q=0;q<arguments.length;++q){var _=arguments[q];if(s8(_),_.length>0)if($===void 0)$=_;else $+="/"+_}if($===void 0)return".";return yJ($)}function NS($,q){if(s8($),s8(q),$===q)return"";if($=K2($),q=K2(q),$===q)return"";var _=1;for(;_<$.length;++_)if($.charCodeAt(_)!==47)break;var K=$.length,P=K-_,O=1;for(;O<q.length;++O)if(q.charCodeAt(O)!==47)break;var Y=q.length,z=Y-O,H=P<z?P:z,T=-1,f=0;for(;f<=H;++f){if(f===H){if(z>H){if(q.charCodeAt(O+f)===47)return q.slice(O+f+1);else if(f===0)return q.slice(O+f)}else if(P>H){if($.charCodeAt(_+f)===47)T=f;else if(f===0)T=0}break}var w=$.charCodeAt(_+f),k=q.charCodeAt(O+f);if(w!==k)break;else if(w===47)T=f}var S="";for(f=_+T+1;f<=K;++f)if(f===K||$.charCodeAt(f)===47)if(S.length===0)S+="..";else S+="/..";if(S.length>0)return S+q.slice(O+T);else{if(O+=T,q.charCodeAt(O)===47)++O;return q.slice(O)}}function CS($){return $}function ES($){if(s8($),$.length===0)return".";var q=$.charCodeAt(0),_=q===47,K=-1,P=!0;for(var O=$.length-1;O>=1;--O)if(q=$.charCodeAt(O),q===47){if(!P){K=O;break}}else P=!1;if(K===-1)return _?"/":".";if(_&&K===1)return"//";return $.slice(0,K)}function hS($,q){if(q!==void 0&&typeof q!=="string")throw TypeError('"ext" argument must be a string');s8($);var _=0,K=-1,P=!0,O;if(q!==void 0&&q.length>0&&q.length<=$.length){if(q.length===$.length&&q===$)return"";var Y=q.length-1,z=-1;for(O=$.length-1;O>=0;--O){var H=$.charCodeAt(O);if(H===47){if(!P){_=O+1;break}}else{if(z===-1)P=!1,z=O+1;if(Y>=0)if(H===q.charCodeAt(Y)){if(--Y===-1)K=O}else Y=-1,K=z}}if(_===K)K=z;else if(K===-1)K=$.length;return $.slice(_,K)}else{for(O=$.length-1;O>=0;--O)if($.charCodeAt(O)===47){if(!P){_=O+1;break}}else if(K===-1)P=!1,K=O+1;if(K===-1)return"";return $.slice(_,K)}}function RS($){s8($);var q=-1,_=0,K=-1,P=!0,O=0;for(var Y=$.length-1;Y>=0;--Y){var z=$.charCodeAt(Y);if(z===47){if(!P){_=Y+1;break}continue}if(K===-1)P=!1,K=Y+1;if(z===46){if(q===-1)q=Y;else if(O!==1)O=1}else if(q!==-1)O=-1}if(q===-1||K===-1||O===0||O===1&&q===K-1&&q===_+1)return"";return $.slice(q,K)}function IS($){if($===null||typeof $!=="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof $);return dr("/",$)}function DS($){s8($);var q={root:"",dir:"",base:"",ext:"",name:""};if($.length===0)return q;var _=$.charCodeAt(0),K=_===47,P;if(K)q.root="/",P=1;else P=0;var O=-1,Y=0,z=-1,H=!0,T=$.length-1,f=0;for(;T>=P;--T){if(_=$.charCodeAt(T),_===47){if(!H){Y=T+1;break}continue}if(z===-1)H=!1,z=T+1;if(_===46){if(O===-1)O=T;else if(f!==1)f=1}else if(O!==-1)f=-1}if(O===-1||z===-1||f===0||f===1&&O===z-1&&O===Y+1){if(z!==-1)if(Y===0&&K)q.base=q.name=$.slice(1,z);else q.base=q.name=$.slice(Y,z)}else{if(Y===0&&K)q.name=$.slice(1,O),q.base=$.slice(1,z);else q.name=$.slice(Y,O),q.base=$.slice(Y,z);q.ext=$.slice(O,z)}if(Y>0)q.dir=$.slice(0,Y-1);else if(K)q.dir="/";return q}var LS="/",gS=":",bS,lr;var xJ=lK(()=>{bS=(($)=>($.posix=$,$))({resolve:K2,normalize:yJ,isAbsolute:SS,join:MS,relative:NS,_makeLong:CS,dirname:ES,basename:hS,extname:RS,format:IS,parse:DS,sep:LS,delimiter:gS,win32:null,posix:null}),lr=bS});var pJ={};oq(pJ,{uptime:()=>ir,type:()=>Fr,totalmem:()=>tr,tmpdir:()=>uS,tmpDir:()=>$o,release:()=>ar,platform:()=>sr,networkInterfaces:()=>Qr,loadavg:()=>nr,hostname:()=>or,homedir:()=>_o,getNetworkInterfaces:()=>yS,freemem:()=>Br,endianness:()=>rr,cpus:()=>Ur,arch:()=>er,EOL:()=>qo});var rr=function(){return"LE"},or=function(){if(typeof location<"u")return location.hostname;else return""},nr=function(){return[]},ir=function(){return 0},Br=function(){return Number.MAX_VALUE},tr=function(){return Number.MAX_VALUE},Ur=function(){return[]},Fr=function(){return"Browser"},ar=function(){if(typeof navigator<"u")return navigator.appVersion;return""},yS=function(){return{}},Qr,er=function(){return"javascript"},sr=function(){return"browser"},uS=function(){return"/tmp"},$o,qo=`
`,_o=function(){return"/"};var cJ=lK(()=>{Qr=yS,$o=uS});var Tq={};oq(Tq,{transcode:()=>ro,resolveObjectURL:()=>co,kStringMaxLength:()=>nS,kMaxLength:()=>t7,isUtf8:()=>mo,isAscii:()=>lo,default:()=>oo,constants:()=>Ho,btoa:()=>vo,atob:()=>zo,INSPECT_MAX_BYTES:()=>oS,File:()=>Wo,Buffer:()=>Z$,Blob:()=>Jo});function Ko($){var q=$.length;if(q%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=$.indexOf("=");if(_===-1)_=q;var K=_===q?0:4-_%4;return[_,K]}function Po($,q){return($+q)*3/4-q}function Oo($){var q,_=Ko($),K=_[0],P=_[1],O=new Uint8Array(Po(K,P)),Y=0,z=P>0?K-4:K,H;for(H=0;H<z;H+=4)q=S8[$.charCodeAt(H)]<<18|S8[$.charCodeAt(H+1)]<<12|S8[$.charCodeAt(H+2)]<<6|S8[$.charCodeAt(H+3)],O[Y++]=q>>16&255,O[Y++]=q>>8&255,O[Y++]=q&255;if(P===2)q=S8[$.charCodeAt(H)]<<2|S8[$.charCodeAt(H+1)]>>4,O[Y++]=q&255;if(P===1)q=S8[$.charCodeAt(H)]<<10|S8[$.charCodeAt(H+1)]<<4|S8[$.charCodeAt(H+2)]>>2,O[Y++]=q>>8&255,O[Y++]=q&255;return O}function Yo($){return $_[$>>18&63]+$_[$>>12&63]+$_[$>>6&63]+$_[$&63]}function jo($,q,_){var K,P=[];for(var O=q;O<_;O+=3)K=($[O]<<16&16711680)+($[O+1]<<8&65280)+($[O+2]&255),P.push(Yo(K));return P.join("")}function pS($){var q,_=$.length,K=_%3,P=[],O=16383;for(var Y=0,z=_-K;Y<z;Y+=O)P.push(jo($,Y,Y+O>z?z:Y+O));if(K===1)q=$[_-1],P.push($_[q>>2]+$_[q<<4&63]+"==");else if(K===2)q=($[_-2]<<8)+$[_-1],P.push($_[q>>10]+$_[q>>4&63]+$_[q<<2&63]+"=");return P.join("")}function P2($,q,_,K,P){var O,Y,z=P*8-K-1,H=(1<<z)-1,T=H>>1,f=-7,w=_?P-1:0,k=_?-1:1,S=$[q+w];w+=k,O=S&(1<<-f)-1,S>>=-f,f+=z;for(;f>0;O=O*256+$[q+w],w+=k,f-=8);Y=O&(1<<-f)-1,O>>=-f,f+=K;for(;f>0;Y=Y*256+$[q+w],w+=k,f-=8);if(O===0)O=1-T;else if(O===H)return Y?NaN:(S?-1:1)*(1/0);else Y=Y+Math.pow(2,K),O=O-T;return(S?-1:1)*Y*Math.pow(2,O-K)}function rS($,q,_,K,P,O){var Y,z,H,T=O*8-P-1,f=(1<<T)-1,w=f>>1,k=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=K?0:O-1,N=K?1:-1,h=q<0||q===0&&1/q<0?1:0;if(q=Math.abs(q),isNaN(q)||q===1/0)z=isNaN(q)?1:0,Y=f;else{if(Y=Math.floor(Math.log(q)/Math.LN2),q*(H=Math.pow(2,-Y))<1)Y--,H*=2;if(Y+w>=1)q+=k/H;else q+=k*Math.pow(2,1-w);if(q*H>=2)Y++,H/=2;if(Y+w>=f)z=0,Y=f;else if(Y+w>=1)z=(q*H-1)*Math.pow(2,P),Y=Y+w;else z=q*Math.pow(2,w-1)*Math.pow(2,P),Y=0}for(;P>=8;$[_+S]=z&255,S+=N,z/=256,P-=8);Y=Y<<P|z,T+=P;for(;T>0;$[_+S]=Y&255,S+=N,Y/=256,T-=8);$[_+S-N]|=h*128}function V_($){if($>t7)throw RangeError('The value "'+$+'" is invalid for option "size"');let q=new Uint8Array($);return Object.setPrototypeOf(q,Z$.prototype),q}function nJ($,q,_){return class extends _{constructor(){super();Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}function Z$($,q,_){if(typeof $==="number"){if(typeof q==="string")throw TypeError('The "string" argument must be of type string. Received type number');return iJ($)}return iS($,q,_)}function iS($,q,_){if(typeof $==="string")return Zo($,q);if(ArrayBuffer.isView($))return Xo($);if($==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(q_($,ArrayBuffer)||$&&q_($.buffer,ArrayBuffer))return rJ($,q,_);if(typeof SharedArrayBuffer<"u"&&(q_($,SharedArrayBuffer)||$&&q_($.buffer,SharedArrayBuffer)))return rJ($,q,_);if(typeof $==="number")throw TypeError('The "value" argument must not be of type number. Received type number');let K=$.valueOf&&$.valueOf();if(K!=null&&K!==$)return Z$.from(K,q,_);let P=Ao($);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]==="function")return Z$.from($[Symbol.toPrimitive]("string"),q,_);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function BS($){if(typeof $!=="number")throw TypeError('"size" argument must be of type number');else if($<0)throw RangeError('The value "'+$+'" is invalid for option "size"')}function fo($,q,_){if(BS($),$<=0)return V_($);if(q!==void 0)return typeof _==="string"?V_($).fill(q,_):V_($).fill(q);return V_($)}function iJ($){return BS($),V_($<0?0:BJ($)|0)}function Zo($,q){if(typeof q!=="string"||q==="")q="utf8";if(!Z$.isEncoding(q))throw TypeError("Unknown encoding: "+q);let _=tS($,q)|0,K=V_(_),P=K.write($,q);if(P!==_)K=K.slice(0,P);return K}function lJ($){let q=$.length<0?0:BJ($.length)|0,_=V_(q);for(let K=0;K<q;K+=1)_[K]=$[K]&255;return _}function Xo($){if(q_($,Uint8Array)){let q=new Uint8Array($);return rJ(q.buffer,q.byteOffset,q.byteLength)}return lJ($)}function rJ($,q,_){if(q<0||$.byteLength<q)throw RangeError('"offset" is outside of buffer bounds');if($.byteLength<q+(_||0))throw RangeError('"length" is outside of buffer bounds');let K;if(q===void 0&&_===void 0)K=new Uint8Array($);else if(_===void 0)K=new Uint8Array($,q);else K=new Uint8Array($,q,_);return Object.setPrototypeOf(K,Z$.prototype),K}function Ao($){if(Z$.isBuffer($)){let q=BJ($.length)|0,_=V_(q);if(_.length===0)return _;return $.copy(_,0,0,q),_}if($.length!==void 0){if(typeof $.length!=="number"||Number.isNaN($.length))return V_(0);return lJ($)}if($.type==="Buffer"&&Array.isArray($.data))return lJ($.data)}function BJ($){if($>=t7)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t7.toString(16)+" bytes");return $|0}function tS($,q){if(Z$.isBuffer($))return $.length;if(ArrayBuffer.isView($)||q_($,ArrayBuffer))return $.byteLength;if(typeof $!=="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);let _=$.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&_===0)return 0;let P=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return oJ($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return _0($).length;default:if(P)return K?-1:oJ($).length;q=(""+q).toLowerCase(),P=!0}}function ko($,q,_){let K=!1;if(q===void 0||q<0)q=0;if(q>this.length)return"";if(_===void 0||_>this.length)_=this.length;if(_<=0)return"";if(_>>>=0,q>>>=0,_<=q)return"";if(!$)$="utf8";while(!0)switch($){case"hex":return Io(this,q,_);case"utf8":case"utf-8":return FS(this,q,_);case"ascii":return ho(this,q,_);case"latin1":case"binary":return Ro(this,q,_);case"base64":return Co(this,q,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Do(this,q,_);default:if(K)throw TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),K=!0}}function bK($,q,_){let K=$[q];$[q]=$[_],$[_]=K}function US($,q,_,K,P){if($.length===0)return-1;if(typeof _==="string")K=_,_=0;else if(_>2147483647)_=2147483647;else if(_<-2147483648)_=-2147483648;if(_=+_,Number.isNaN(_))_=P?0:$.length-1;if(_<0)_=$.length+_;if(_>=$.length)if(P)return-1;else _=$.length-1;else if(_<0)if(P)_=0;else return-1;if(typeof q==="string")q=Z$.from(q,K);if(Z$.isBuffer(q)){if(q.length===0)return-1;return mS($,q,_,K,P)}else if(typeof q==="number"){if(q=q&255,typeof Uint8Array.prototype.indexOf==="function")if(P)return Uint8Array.prototype.indexOf.call($,q,_);else return Uint8Array.prototype.lastIndexOf.call($,q,_);return mS($,[q],_,K,P)}throw TypeError("val must be string, number or Buffer")}function mS($,q,_,K,P){let O=1,Y=$.length,z=q.length;if(K!==void 0){if(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le"){if($.length<2||q.length<2)return-1;O=2,Y/=2,z/=2,_/=2}}function H(f,w){if(O===1)return f[w];else return f.readUInt16BE(w*O)}let T;if(P){let f=-1;for(T=_;T<Y;T++)if(H($,T)===H(q,f===-1?0:T-f)){if(f===-1)f=T;if(T-f+1===z)return f*O}else{if(f!==-1)T-=T-f;f=-1}}else{if(_+z>Y)_=Y-z;for(T=_;T>=0;T--){let f=!0;for(let w=0;w<z;w++)if(H($,T+w)!==H(q,w)){f=!1;break}if(f)return T}}return-1}function Go($,q,_,K){_=Number(_)||0;let P=$.length-_;if(!K)K=P;else if(K=Number(K),K>P)K=P;let O=q.length;if(K>O/2)K=O/2;let Y;for(Y=0;Y<K;++Y){let z=parseInt(q.substr(Y*2,2),16);if(Number.isNaN(z))return Y;$[_+Y]=z}return Y}function Vo($,q,_,K){return O2(oJ(q,$.length-_),$,_,K)}function So($,q,_,K){return O2(yo(q),$,_,K)}function Mo($,q,_,K){return O2(_0(q),$,_,K)}function No($,q,_,K){return O2(uo(q,$.length-_),$,_,K)}function Co($,q,_){if(q===0&&_===$.length)return pS($);else return pS($.slice(q,_))}function FS($,q,_){_=Math.min($.length,_);let K=[],P=q;while(P<_){let O=$[P],Y=null,z=O>239?4:O>223?3:O>191?2:1;if(P+z<=_){let H,T,f,w;switch(z){case 1:if(O<128)Y=O;break;case 2:if(H=$[P+1],(H&192)===128){if(w=(O&31)<<6|H&63,w>127)Y=w}break;case 3:if(H=$[P+1],T=$[P+2],(H&192)===128&&(T&192)===128){if(w=(O&15)<<12|(H&63)<<6|T&63,w>2047&&(w<55296||w>57343))Y=w}break;case 4:if(H=$[P+1],T=$[P+2],f=$[P+3],(H&192)===128&&(T&192)===128&&(f&192)===128){if(w=(O&15)<<18|(H&63)<<12|(T&63)<<6|f&63,w>65535&&w<1114112)Y=w}}}if(Y===null)Y=65533,z=1;else if(Y>65535)Y-=65536,K.push(Y>>>10&1023|55296),Y=56320|Y&1023;K.push(Y),P+=z}return Eo(K)}function Eo($){let q=$.length;if(q<=dS)return String.fromCharCode.apply(String,$);let _="",K=0;while(K<q)_+=String.fromCharCode.apply(String,$.slice(K,K+=dS));return _}function ho($,q,_){let K="";_=Math.min($.length,_);for(let P=q;P<_;++P)K+=String.fromCharCode($[P]&127);return K}function Ro($,q,_){let K="";_=Math.min($.length,_);for(let P=q;P<_;++P)K+=String.fromCharCode($[P]);return K}function Io($,q,_){let K=$.length;if(!q||q<0)q=0;if(!_||_<0||_>K)_=K;let P="";for(let O=q;O<_;++O)P+=xo[$[O]];return P}function Do($,q,_){let K=$.slice(q,_),P="";for(let O=0;O<K.length-1;O+=2)P+=String.fromCharCode(K[O]+K[O+1]*256);return P}function Hq($,q,_){if($%1!==0||$<0)throw RangeError("offset is not uint");if($+q>_)throw RangeError("Trying to access beyond buffer length")}function $8($,q,_,K,P,O){if(!Z$.isBuffer($))throw TypeError('"buffer" argument must be a Buffer instance');if(q>P||q<O)throw RangeError('"value" argument is out of bounds');if(_+K>$.length)throw RangeError("Index out of range")}function aS($,q,_,K,P){q0(q,K,P,$,_,7);let O=Number(q&BigInt(4294967295));$[_++]=O,O=O>>8,$[_++]=O,O=O>>8,$[_++]=O,O=O>>8,$[_++]=O;let Y=Number(q>>BigInt(32)&BigInt(4294967295));return $[_++]=Y,Y=Y>>8,$[_++]=Y,Y=Y>>8,$[_++]=Y,Y=Y>>8,$[_++]=Y,_}function QS($,q,_,K,P){q0(q,K,P,$,_,7);let O=Number(q&BigInt(4294967295));$[_+7]=O,O=O>>8,$[_+6]=O,O=O>>8,$[_+5]=O,O=O>>8,$[_+4]=O;let Y=Number(q>>BigInt(32)&BigInt(4294967295));return $[_+3]=Y,Y=Y>>8,$[_+2]=Y,Y=Y>>8,$[_+1]=Y,Y=Y>>8,$[_]=Y,_+8}function eS($,q,_,K,P,O){if(_+K>$.length)throw RangeError("Index out of range");if(_<0)throw RangeError("Index out of range")}function sS($,q,_,K,P){if(q=+q,_=_>>>0,!P)eS($,q,_,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return rS($,q,_,K,23,4),_+4}function $0($,q,_,K,P){if(q=+q,_=_>>>0,!P)eS($,q,_,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return rS($,q,_,K,52,8),_+8}function lS($){let q="",_=$.length,K=$[0]==="-"?1:0;for(;_>=K+4;_-=3)q=`_${$.slice(_-3,_)}${q}`;return`${$.slice(0,_)}${q}`}function Lo($,q,_){if(d4(q,"offset"),$[q]===void 0||$[q+_]===void 0)U7(q,$.length-(_+1))}function q0($,q,_,K,P,O){if($>_||$<q){let Y=typeof q==="bigint"?"n":"",z;if(O>3)if(q===0||q===BigInt(0))z=`>= 0${Y} and < 2${Y} ** ${(O+1)*8}${Y}`;else z=`>= -(2${Y} ** ${(O+1)*8-1}${Y}) and < 2 ** ${(O+1)*8-1}${Y}`;else z=`>= ${q}${Y} and <= ${_}${Y}`;throw new dJ("value",z,$)}Lo(K,P,O)}function d4($,q){if(typeof $!=="number")throw new wo(q,"number",$)}function U7($,q,_){if(Math.floor($)!==$)throw d4($,_),new dJ(_||"offset","an integer",$);if(q<0)throw new To;throw new dJ(_||"offset",`>= ${_?1:0} and <= ${q}`,$)}function bo($){if($=$.split("=")[0],$=$.trim().replace(go,""),$.length<2)return"";while($.length%4!==0)$=$+"=";return $}function oJ($,q){q=q||1/0;let _,K=$.length,P=null,O=[];for(let Y=0;Y<K;++Y){if(_=$.charCodeAt(Y),_>55295&&_<57344){if(!P){if(_>56319){if((q-=3)>-1)O.push(239,191,189);continue}else if(Y+1===K){if((q-=3)>-1)O.push(239,191,189);continue}P=_;continue}if(_<56320){if((q-=3)>-1)O.push(239,191,189);P=_;continue}_=(P-55296<<10|_-56320)+65536}else if(P){if((q-=3)>-1)O.push(239,191,189)}if(P=null,_<128){if((q-=1)<0)break;O.push(_)}else if(_<2048){if((q-=2)<0)break;O.push(_>>6|192,_&63|128)}else if(_<65536){if((q-=3)<0)break;O.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((q-=4)<0)break;O.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw Error("Invalid code point")}return O}function yo($){let q=[];for(let _=0;_<$.length;++_)q.push($.charCodeAt(_)&255);return q}function uo($,q){let _,K,P,O=[];for(let Y=0;Y<$.length;++Y){if((q-=2)<0)break;_=$.charCodeAt(Y),K=_>>8,P=_%256,O.push(P),O.push(K)}return O}function _0($){return Oo(bo($))}function O2($,q,_,K){let P;for(P=0;P<K;++P){if(P+_>=q.length||P>=$.length)break;q[P+_]=$[P]}return P}function q_($,q){return $ instanceof q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===q.name}function $K($){return typeof BigInt>"u"?po:$}function po(){throw Error("BigInt not supported")}function tJ($){return()=>{throw Error($+" is not implemented for node:buffer browser polyfill")}}var $_,S8,mJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gK,xS,cS,oS=50,t7=2147483647,nS=536870888,vo,zo,Wo,Jo,Ho,To,wo,dJ,dS=4096,go,xo,co,mo,lo=($)=>{for(let q of $)if(q.charCodeAt(0)>127)return!1;return!0},ro,oo;var wq=lK(()=>{$_=[],S8=[];for(gK=0,xS=mJ.length;gK<xS;++gK)$_[gK]=mJ[gK],S8[mJ.charCodeAt(gK)]=gK;S8[45]=62;S8[95]=63;cS=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,vo=globalThis.btoa,zo=globalThis.atob,Wo=globalThis.File,Jo=globalThis.Blob,Ho={MAX_LENGTH:t7,MAX_STRING_LENGTH:nS};To=nJ("ERR_BUFFER_OUT_OF_BOUNDS",function($){if($)return`${$} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),wo=nJ("ERR_INVALID_ARG_TYPE",function($,q){return`The "${$}" argument must be of type number. Received type ${typeof q}`},TypeError),dJ=nJ("ERR_OUT_OF_RANGE",function($,q,_){let K=`The value of "${$}" is out of range.`,P=_;if(Number.isInteger(_)&&Math.abs(_)>4294967296)P=lS(String(_));else if(typeof _==="bigint"){if(P=String(_),_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))P=lS(P);P+="n"}return K+=` It must be ${q}. Received ${P}`,K},RangeError);Object.defineProperty(Z$.prototype,"parent",{enumerable:!0,get:function(){if(!Z$.isBuffer(this))return;return this.buffer}});Object.defineProperty(Z$.prototype,"offset",{enumerable:!0,get:function(){if(!Z$.isBuffer(this))return;return this.byteOffset}});Z$.poolSize=8192;Z$.from=function($,q,_){return iS($,q,_)};Object.setPrototypeOf(Z$.prototype,Uint8Array.prototype);Object.setPrototypeOf(Z$,Uint8Array);Z$.alloc=function($,q,_){return fo($,q,_)};Z$.allocUnsafe=function($){return iJ($)};Z$.allocUnsafeSlow=function($){return iJ($)};Z$.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==Z$.prototype};Z$.compare=function($,q){if(q_($,Uint8Array))$=Z$.from($,$.offset,$.byteLength);if(q_(q,Uint8Array))q=Z$.from(q,q.offset,q.byteLength);if(!Z$.isBuffer($)||!Z$.isBuffer(q))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===q)return 0;let _=$.length,K=q.length;for(let P=0,O=Math.min(_,K);P<O;++P)if($[P]!==q[P]){_=$[P],K=q[P];break}if(_<K)return-1;if(K<_)return 1;return 0};Z$.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Z$.concat=function($,q){if(!Array.isArray($))throw TypeError('"list" argument must be an Array of Buffers');if($.length===0)return Z$.alloc(0);let _;if(q===void 0){q=0;for(_=0;_<$.length;++_)q+=$[_].length}let K=Z$.allocUnsafe(q),P=0;for(_=0;_<$.length;++_){let O=$[_];if(q_(O,Uint8Array))if(P+O.length>K.length){if(!Z$.isBuffer(O))O=Z$.from(O);O.copy(K,P)}else Uint8Array.prototype.set.call(K,O,P);else if(!Z$.isBuffer(O))throw TypeError('"list" argument must be an Array of Buffers');else O.copy(K,P);P+=O.length}return K};Z$.byteLength=tS;Z$.prototype._isBuffer=!0;Z$.prototype.swap16=function(){let $=this.length;if($%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<$;q+=2)bK(this,q,q+1);return this};Z$.prototype.swap32=function(){let $=this.length;if($%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<$;q+=4)bK(this,q,q+3),bK(this,q+1,q+2);return this};Z$.prototype.swap64=function(){let $=this.length;if($%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<$;q+=8)bK(this,q,q+7),bK(this,q+1,q+6),bK(this,q+2,q+5),bK(this,q+3,q+4);return this};Z$.prototype.toString=function(){let $=this.length;if($===0)return"";if(arguments.length===0)return FS(this,0,$);return ko.apply(this,arguments)};Z$.prototype.toLocaleString=Z$.prototype.toString;Z$.prototype.equals=function($){if(!Z$.isBuffer($))throw TypeError("Argument must be a Buffer");if(this===$)return!0;return Z$.compare(this,$)===0};Z$.prototype.inspect=function(){let $="",q=oS;if($=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q)$+=" ... ";return"<Buffer "+$+">"};if(cS)Z$.prototype[cS]=Z$.prototype.inspect;Z$.prototype.compare=function($,q,_,K,P){if(q_($,Uint8Array))$=Z$.from($,$.offset,$.byteLength);if(!Z$.isBuffer($))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(q===void 0)q=0;if(_===void 0)_=$?$.length:0;if(K===void 0)K=0;if(P===void 0)P=this.length;if(q<0||_>$.length||K<0||P>this.length)throw RangeError("out of range index");if(K>=P&&q>=_)return 0;if(K>=P)return-1;if(q>=_)return 1;if(q>>>=0,_>>>=0,K>>>=0,P>>>=0,this===$)return 0;let O=P-K,Y=_-q,z=Math.min(O,Y),H=this.slice(K,P),T=$.slice(q,_);for(let f=0;f<z;++f)if(H[f]!==T[f]){O=H[f],Y=T[f];break}if(O<Y)return-1;if(Y<O)return 1;return 0};Z$.prototype.includes=function($,q,_){return this.indexOf($,q,_)!==-1};Z$.prototype.indexOf=function($,q,_){return US(this,$,q,_,!0)};Z$.prototype.lastIndexOf=function($,q,_){return US(this,$,q,_,!1)};Z$.prototype.write=function($,q,_,K){if(q===void 0)K="utf8",_=this.length,q=0;else if(_===void 0&&typeof q==="string")K=q,_=this.length,q=0;else if(isFinite(q))if(q=q>>>0,isFinite(_)){if(_=_>>>0,K===void 0)K="utf8"}else K=_,_=void 0;else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let P=this.length-q;if(_===void 0||_>P)_=P;if($.length>0&&(_<0||q<0)||q>this.length)throw RangeError("Attempt to write outside buffer bounds");if(!K)K="utf8";let O=!1;for(;;)switch(K){case"hex":return Go(this,$,q,_);case"utf8":case"utf-8":return Vo(this,$,q,_);case"ascii":case"latin1":case"binary":return So(this,$,q,_);case"base64":return Mo(this,$,q,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return No(this,$,q,_);default:if(O)throw TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),O=!0}};Z$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Z$.prototype.slice=function($,q){let _=this.length;if($=~~$,q=q===void 0?_:~~q,$<0){if($+=_,$<0)$=0}else if($>_)$=_;if(q<0){if(q+=_,q<0)q=0}else if(q>_)q=_;if(q<$)q=$;let K=this.subarray($,q);return Object.setPrototypeOf(K,Z$.prototype),K};Z$.prototype.readUintLE=Z$.prototype.readUIntLE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Hq($,q,this.length);let K=this[$],P=1,O=0;while(++O<q&&(P*=256))K+=this[$+O]*P;return K};Z$.prototype.readUintBE=Z$.prototype.readUIntBE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Hq($,q,this.length);let K=this[$+--q],P=1;while(q>0&&(P*=256))K+=this[$+--q]*P;return K};Z$.prototype.readUint8=Z$.prototype.readUInt8=function($,q){if($=$>>>0,!q)Hq($,1,this.length);return this[$]};Z$.prototype.readUint16LE=Z$.prototype.readUInt16LE=function($,q){if($=$>>>0,!q)Hq($,2,this.length);return this[$]|this[$+1]<<8};Z$.prototype.readUint16BE=Z$.prototype.readUInt16BE=function($,q){if($=$>>>0,!q)Hq($,2,this.length);return this[$]<<8|this[$+1]};Z$.prototype.readUint32LE=Z$.prototype.readUInt32LE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216};Z$.prototype.readUint32BE=Z$.prototype.readUInt32BE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])};Z$.prototype.readBigUInt64LE=$K(function($){$=$>>>0,d4($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)U7($,this.length-8);let K=q+this[++$]*256+this[++$]*65536+this[++$]*16777216,P=this[++$]+this[++$]*256+this[++$]*65536+_*16777216;return BigInt(K)+(BigInt(P)<<BigInt(32))});Z$.prototype.readBigUInt64BE=$K(function($){$=$>>>0,d4($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)U7($,this.length-8);let K=q*16777216+this[++$]*65536+this[++$]*256+this[++$],P=this[++$]*16777216+this[++$]*65536+this[++$]*256+_;return(BigInt(K)<<BigInt(32))+BigInt(P)});Z$.prototype.readIntLE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Hq($,q,this.length);let K=this[$],P=1,O=0;while(++O<q&&(P*=256))K+=this[$+O]*P;if(P*=128,K>=P)K-=Math.pow(2,8*q);return K};Z$.prototype.readIntBE=function($,q,_){if($=$>>>0,q=q>>>0,!_)Hq($,q,this.length);let K=q,P=1,O=this[$+--K];while(K>0&&(P*=256))O+=this[$+--K]*P;if(P*=128,O>=P)O-=Math.pow(2,8*q);return O};Z$.prototype.readInt8=function($,q){if($=$>>>0,!q)Hq($,1,this.length);if(!(this[$]&128))return this[$];return(255-this[$]+1)*-1};Z$.prototype.readInt16LE=function($,q){if($=$>>>0,!q)Hq($,2,this.length);let _=this[$]|this[$+1]<<8;return _&32768?_|4294901760:_};Z$.prototype.readInt16BE=function($,q){if($=$>>>0,!q)Hq($,2,this.length);let _=this[$+1]|this[$]<<8;return _&32768?_|4294901760:_};Z$.prototype.readInt32LE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24};Z$.prototype.readInt32BE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]};Z$.prototype.readBigInt64LE=$K(function($){$=$>>>0,d4($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)U7($,this.length-8);let K=this[$+4]+this[$+5]*256+this[$+6]*65536+(_<<24);return(BigInt(K)<<BigInt(32))+BigInt(q+this[++$]*256+this[++$]*65536+this[++$]*16777216)});Z$.prototype.readBigInt64BE=$K(function($){$=$>>>0,d4($,"offset");let q=this[$],_=this[$+7];if(q===void 0||_===void 0)U7($,this.length-8);let K=(q<<24)+this[++$]*65536+this[++$]*256+this[++$];return(BigInt(K)<<BigInt(32))+BigInt(this[++$]*16777216+this[++$]*65536+this[++$]*256+_)});Z$.prototype.readFloatLE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return P2(this,$,!0,23,4)};Z$.prototype.readFloatBE=function($,q){if($=$>>>0,!q)Hq($,4,this.length);return P2(this,$,!1,23,4)};Z$.prototype.readDoubleLE=function($,q){if($=$>>>0,!q)Hq($,8,this.length);return P2(this,$,!0,52,8)};Z$.prototype.readDoubleBE=function($,q){if($=$>>>0,!q)Hq($,8,this.length);return P2(this,$,!1,52,8)};Z$.prototype.writeUintLE=Z$.prototype.writeUIntLE=function($,q,_,K){if($=+$,q=q>>>0,_=_>>>0,!K){let Y=Math.pow(2,8*_)-1;$8(this,$,q,_,Y,0)}let P=1,O=0;this[q]=$&255;while(++O<_&&(P*=256))this[q+O]=$/P&255;return q+_};Z$.prototype.writeUintBE=Z$.prototype.writeUIntBE=function($,q,_,K){if($=+$,q=q>>>0,_=_>>>0,!K){let Y=Math.pow(2,8*_)-1;$8(this,$,q,_,Y,0)}let P=_-1,O=1;this[q+P]=$&255;while(--P>=0&&(O*=256))this[q+P]=$/O&255;return q+_};Z$.prototype.writeUint8=Z$.prototype.writeUInt8=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,1,255,0);return this[q]=$&255,q+1};Z$.prototype.writeUint16LE=Z$.prototype.writeUInt16LE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,2,65535,0);return this[q]=$&255,this[q+1]=$>>>8,q+2};Z$.prototype.writeUint16BE=Z$.prototype.writeUInt16BE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,2,65535,0);return this[q]=$>>>8,this[q+1]=$&255,q+2};Z$.prototype.writeUint32LE=Z$.prototype.writeUInt32LE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,4,4294967295,0);return this[q+3]=$>>>24,this[q+2]=$>>>16,this[q+1]=$>>>8,this[q]=$&255,q+4};Z$.prototype.writeUint32BE=Z$.prototype.writeUInt32BE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,4,4294967295,0);return this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4};Z$.prototype.writeBigUInt64LE=$K(function($,q=0){return aS(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))});Z$.prototype.writeBigUInt64BE=$K(function($,q=0){return QS(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))});Z$.prototype.writeIntLE=function($,q,_,K){if($=+$,q=q>>>0,!K){let z=Math.pow(2,8*_-1);$8(this,$,q,_,z-1,-z)}let P=0,O=1,Y=0;this[q]=$&255;while(++P<_&&(O*=256)){if($<0&&Y===0&&this[q+P-1]!==0)Y=1;this[q+P]=($/O>>0)-Y&255}return q+_};Z$.prototype.writeIntBE=function($,q,_,K){if($=+$,q=q>>>0,!K){let z=Math.pow(2,8*_-1);$8(this,$,q,_,z-1,-z)}let P=_-1,O=1,Y=0;this[q+P]=$&255;while(--P>=0&&(O*=256)){if($<0&&Y===0&&this[q+P+1]!==0)Y=1;this[q+P]=($/O>>0)-Y&255}return q+_};Z$.prototype.writeInt8=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,1,127,-128);if($<0)$=255+$+1;return this[q]=$&255,q+1};Z$.prototype.writeInt16LE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,2,32767,-32768);return this[q]=$&255,this[q+1]=$>>>8,q+2};Z$.prototype.writeInt16BE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,2,32767,-32768);return this[q]=$>>>8,this[q+1]=$&255,q+2};Z$.prototype.writeInt32LE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,4,2147483647,-2147483648);return this[q]=$&255,this[q+1]=$>>>8,this[q+2]=$>>>16,this[q+3]=$>>>24,q+4};Z$.prototype.writeInt32BE=function($,q,_){if($=+$,q=q>>>0,!_)$8(this,$,q,4,2147483647,-2147483648);if($<0)$=4294967295+$+1;return this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4};Z$.prototype.writeBigInt64LE=$K(function($,q=0){return aS(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Z$.prototype.writeBigInt64BE=$K(function($,q=0){return QS(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Z$.prototype.writeFloatLE=function($,q,_){return sS(this,$,q,!0,_)};Z$.prototype.writeFloatBE=function($,q,_){return sS(this,$,q,!1,_)};Z$.prototype.writeDoubleLE=function($,q,_){return $0(this,$,q,!0,_)};Z$.prototype.writeDoubleBE=function($,q,_){return $0(this,$,q,!1,_)};Z$.prototype.copy=function($,q,_,K){if(!Z$.isBuffer($))throw TypeError("argument should be a Buffer");if(!_)_=0;if(!K&&K!==0)K=this.length;if(q>=$.length)q=$.length;if(!q)q=0;if(K>0&&K<_)K=_;if(K===_)return 0;if($.length===0||this.length===0)return 0;if(q<0)throw RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw RangeError("Index out of range");if(K<0)throw RangeError("sourceEnd out of bounds");if(K>this.length)K=this.length;if($.length-q<K-_)K=$.length-q+_;let P=K-_;if(this===$&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(q,_,K);else Uint8Array.prototype.set.call($,this.subarray(_,K),q);return P};Z$.prototype.fill=function($,q,_,K){if(typeof $==="string"){if(typeof q==="string")K=q,q=0,_=this.length;else if(typeof _==="string")K=_,_=this.length;if(K!==void 0&&typeof K!=="string")throw TypeError("encoding must be a string");if(typeof K==="string"&&!Z$.isEncoding(K))throw TypeError("Unknown encoding: "+K);if($.length===1){let O=$.charCodeAt(0);if(K==="utf8"&&O<128||K==="latin1")$=O}}else if(typeof $==="number")$=$&255;else if(typeof $==="boolean")$=Number($);if(q<0||this.length<q||this.length<_)throw RangeError("Out of range index");if(_<=q)return this;if(q=q>>>0,_=_===void 0?this.length:_>>>0,!$)$=0;let P;if(typeof $==="number")for(P=q;P<_;++P)this[P]=$;else{let O=Z$.isBuffer($)?$:Z$.from($,K),Y=O.length;if(Y===0)throw TypeError('The value "'+$+'" is invalid for argument "value"');for(P=0;P<_-q;++P)this[P+q]=O[P%Y]}return this};go=/[^+/0-9A-Za-z-_]/g;xo=function(){let $=Array(256);for(let q=0;q<16;++q){let _=q*16;for(let K=0;K<16;++K)$[_+K]="0123456789abcdef"[q]+"0123456789abcdef"[K]}return $}();co=tJ("resolveObjectURL"),mo=tJ("isUtf8"),ro=tJ("transcode"),oo=Z$});var H0={};oq(H0,{types:()=>so,promisify:()=>v0,log:()=>O0,isUndefined:()=>l4,isSymbol:()=>qn,isString:()=>J2,isRegExp:()=>Y2,isPrimitive:()=>_n,isObject:()=>r4,isNumber:()=>P0,isNullOrUndefined:()=>$n,isNull:()=>W2,isFunction:()=>v2,isError:()=>j2,isDate:()=>QJ,isBuffer:()=>Kn,isBoolean:()=>sJ,isArray:()=>K0,inspect:()=>yK,inherits:()=>Y0,format:()=>eJ,deprecate:()=>io,default:()=>Yn,debuglog:()=>Bo,callbackifyOnRejected:()=>_H,callbackify:()=>z0,_extend:()=>qH,TextEncoder:()=>W0,TextDecoder:()=>J0});function eJ($,...q){if(!J2($)){var _=[$];for(var K=0;K<q.length;K++)_.push(yK(q[K]));return _.join(" ")}var K=0,P=q.length,O=String($).replace(no,function(z){if(z==="%%")return"%";if(K>=P)return z;switch(z){case"%s":return String(q[K++]);case"%d":return Number(q[K++]);case"%j":try{return JSON.stringify(q[K++])}catch(H){return"[Circular]"}default:return z}});for(var Y=q[K];K<P;Y=q[++K])if(W2(Y)||!r4(Y))O+=" "+Y;else O+=" "+yK(Y);return O}function io($,q){if(typeof process>"u"||process?.noDeprecation===!0)return $;var _=!1;function K(...P){if(!_){if(process.throwDeprecation)throw Error(q);else if(process.traceDeprecation)console.trace(q);else console.error(q);_=!0}return $.apply(this,...P)}return K}function to($,q){var _=yK.styles[q];if(_)return"\x1B["+yK.colors[_][0]+"m"+$+"\x1B["+yK.colors[_][1]+"m";else return $}function Uo($,q){return $}function Fo($){var q={};return $.forEach(function(_,K){q[_]=!0}),q}function z2($,q,_){if($.customInspect&&q&&v2(q.inspect)&&q.inspect!==yK&&!(q.constructor&&q.constructor.prototype===q)){var K=q.inspect(_,$);if(!J2(K))K=z2($,K,_);return K}var P=ao($,q);if(P)return P;var O=Object.keys(q),Y=Fo(O);if($.showHidden)O=Object.getOwnPropertyNames(q);if(j2(q)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return UJ(q);if(O.length===0){if(v2(q)){var z=q.name?": "+q.name:"";return $.stylize("[Function"+z+"]","special")}if(Y2(q))return $.stylize(RegExp.prototype.toString.call(q),"regexp");if(QJ(q))return $.stylize(Date.prototype.toString.call(q),"date");if(j2(q))return UJ(q)}var H="",T=!1,f=["{","}"];if(K0(q))T=!0,f=["[","]"];if(v2(q)){var w=q.name?": "+q.name:"";H=" [Function"+w+"]"}if(Y2(q))H=" "+RegExp.prototype.toString.call(q);if(QJ(q))H=" "+Date.prototype.toUTCString.call(q);if(j2(q))H=" "+UJ(q);if(O.length===0&&(!T||q.length==0))return f[0]+H+f[1];if(_<0)if(Y2(q))return $.stylize(RegExp.prototype.toString.call(q),"regexp");else return $.stylize("[Object]","special");$.seen.push(q);var k;if(T)k=Qo($,q,_,Y,O);else k=O.map(function(S){return aJ($,q,_,Y,S,T)});return $.seen.pop(),eo(k,H,f)}function ao($,q){if(l4(q))return $.stylize("undefined","undefined");if(J2(q)){var _="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(_,"string")}if(P0(q))return $.stylize(""+q,"number");if(sJ(q))return $.stylize(""+q,"boolean");if(W2(q))return $.stylize("null","null")}function UJ($){return"["+Error.prototype.toString.call($)+"]"}function Qo($,q,_,K,P){var O=[];for(var Y=0,z=q.length;Y<z;++Y)if(j0(q,String(Y)))O.push(aJ($,q,_,K,String(Y),!0));else O.push("");return P.forEach(function(H){if(!H.match(/^\d+$/))O.push(aJ($,q,_,K,H,!0))}),O}function aJ($,q,_,K,P,O){var Y,z,H;if(H=Object.getOwnPropertyDescriptor(q,P)||{value:q[P]},H.get)if(H.set)z=$.stylize("[Getter/Setter]","special");else z=$.stylize("[Getter]","special");else if(H.set)z=$.stylize("[Setter]","special");if(!j0(K,P))Y="["+P+"]";if(!z)if($.seen.indexOf(H.value)<0){if(W2(_))z=z2($,H.value,null);else z=z2($,H.value,_-1);if(z.indexOf(`
`)>-1)if(O)z=z.split(`
`).map(function(T){return"  "+T}).join(`
`).slice(2);else z=`
`+z.split(`
`).map(function(T){return"   "+T}).join(`
`)}else z=$.stylize("[Circular]","special");if(l4(Y)){if(O&&P.match(/^\d+$/))return z;if(Y=JSON.stringify(""+P),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))Y=Y.slice(1,-1),Y=$.stylize(Y,"name");else Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=$.stylize(Y,"string")}return Y+": "+z}function eo($,q,_){var K=0,P=$.reduce(function(O,Y){if(K++,Y.indexOf(`
`)>=0)K++;return O+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(P>60)return _[0]+(q===""?"":q+`
 `)+" "+$.join(`,
  `)+" "+_[1];return _[0]+q+" "+$.join(", ")+" "+_[1]}function K0($){return Array.isArray($)}function sJ($){return typeof $==="boolean"}function W2($){return $===null}function $n($){return $==null}function P0($){return typeof $==="number"}function J2($){return typeof $==="string"}function qn($){return typeof $==="symbol"}function l4($){return $===void 0}function Y2($){return r4($)&&$H($)==="[object RegExp]"}function r4($){return typeof $==="object"&&$!==null}function QJ($){return r4($)&&$H($)==="[object Date]"}function j2($){return r4($)&&($H($)==="[object Error]"||$ instanceof Error)}function v2($){return typeof $==="function"}function _n($){return $===null||typeof $==="boolean"||typeof $==="number"||typeof $==="string"||typeof $==="symbol"||typeof $>"u"}function Kn($){return $ instanceof Buffer}function $H($){return Object.prototype.toString.call($)}function FJ($){return $<10?"0"+$.toString(10):$.toString(10)}function On(){var $=new Date,q=[FJ($.getHours()),FJ($.getMinutes()),FJ($.getSeconds())].join(":");return[$.getDate(),Pn[$.getMonth()],q].join(" ")}function O0(...$){console.log("%s - %s",On(),eJ.apply(null,$))}function Y0($,q){if(q)$.super_=q,$.prototype=Object.create(q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}})}function qH($,q){if(!q||!r4(q))return $;var _=Object.keys(q),K=_.length;while(K--)$[_[K]]=q[_[K]];return $}function j0($,q){return Object.prototype.hasOwnProperty.call($,q)}function _H($,q){if(!$){var _=Error("Promise was rejected with a falsy value");_.reason=$,$=_}return q($)}function z0($){if(typeof $!=="function")throw TypeError('The "original" argument must be of type Function');function q(..._){var K=_.pop();if(typeof K!=="function")throw TypeError("The last argument must be of type Function");var P=this,O=function(...Y){return K.apply(P,...Y)};$.apply(this,_).then(function(Y){process.nextTick(O.bind(null,null,Y))},function(Y){process.nextTick(_H.bind(null,Y,O))})}return Object.setPrototypeOf(q,Object.getPrototypeOf($)),Object.defineProperties(q,Object.getOwnPropertyDescriptors($)),q}var no,Bo,yK,so=()=>{},Pn,v0,W0,J0,Yn;var T0=lK(()=>{no=/%[sdj%]/g;Bo=(($={},q={},_)=>((_=typeof process<"u"&&!1)&&(_=_.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),q=new RegExp("^"+_+"$","i"),(K)=>{if(K=K.toUpperCase(),!$[K])if(q.test(K))$[K]=function(...P){console.error("%s: %s",K,pid,eJ.apply(null,...P))};else $[K]=function(){};return $[K]}))(),yK=(($)=>($.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.custom=Symbol.for("nodejs.util.inspect.custom"),$))(function($,q,..._){var K={seen:[],stylize:Uo};if(_.length>=1)K.depth=_[0];if(_.length>=2)K.colors=_[1];if(sJ(q))K.showHidden=q;else if(q)qH(K,q);if(l4(K.showHidden))K.showHidden=!1;if(l4(K.depth))K.depth=2;if(l4(K.colors))K.colors=!1;if(K.colors)K.stylize=to;return z2(K,$,K.depth)});Pn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];v0=(($)=>($.custom=Symbol.for("nodejs.util.promisify.custom"),$))(function($){if(typeof $!=="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&$[kCustomPromisifiedSymbol]){var q=$[kCustomPromisifiedSymbol];if(typeof q!=="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,kCustomPromisifiedSymbol,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(..._){var K,P,O=new Promise(function(Y,z){K=Y,P=z});_.push(function(Y,z){if(Y)P(Y);else K(z)});try{$.apply(this,_)}catch(Y){P(Y)}return O}if(Object.setPrototypeOf(q,Object.getPrototypeOf($)),kCustomPromisifiedSymbol)Object.defineProperty(q,kCustomPromisifiedSymbol,{value:q,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(q,Object.getOwnPropertyDescriptors($))});({TextEncoder:W0,TextDecoder:J0}=globalThis),Yn={TextEncoder:W0,TextDecoder:J0,promisify:v0,log:O0,inherits:Y0,_extend:qH,callbackifyOnRejected:_H,callbackify:z0}});var a7={};oq(a7,{setMaxListeners:()=>N0,once:()=>S0,listenerCount:()=>C0,init:()=>qK,getMaxListeners:()=>h0,getEventListeners:()=>M0,default:()=>fn,captureRejectionSymbol:()=>A0,addAbortListener:()=>R0,EventEmitter:()=>qK});function k0($,q){var{_events:_}=$;if(q[0]??=Error("Unhandled error."),!_)throw q[0];var K=_[X0];if(K)for(var P of f0.call(K))P.apply($,q);var O=_.error;if(!O)throw q[0];for(var P of f0.call(O))P.apply($,q);return!0}function zn($,q,_,K){q.then(void 0,function(P){queueMicrotask(()=>Wn($,P,_,K))})}function Wn($,q,_,K){if(typeof $[w0]==="function")$[w0](q,_,...K);else try{$[uK]=!1,$.emit("error",q)}finally{$[uK]=!0}}function G0($,q,_){_.warned=!0;let K=Error(`Possible EventEmitter memory leak detected. ${_.length} ${String(q)} listeners added to [${$.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);K.name="MaxListenersExceededWarning",K.emitter=$,K.type=q,K.count=_.length,console.warn(K)}function V0($,q,..._){this.removeListener($,q),q.apply(this,_)}function S0($,q,_){var K=_?.signal;if(E0(K,"options.signal"),K?.aborted)throw new KH(void 0,{cause:K?.reason});let{resolve:P,reject:O,promise:Y}=$newPromiseCapability(Promise),z=(f)=>{if($.removeListener(q,H),K!=null)H2(K,"abort",T);O(f)},H=(...f)=>{if(typeof $.removeListener==="function")$.removeListener("error",z);if(K!=null)H2(K,"abort",T);P(f)};if(Z0($,q,H,{once:!0}),q!=="error"&&typeof $.once==="function")$.once("error",z);function T(){H2($,q,H),H2($,"error",z),O(new KH(void 0,{cause:K?.reason}))}if(K!=null)Z0(K,"abort",T,{once:!0});return Y}function M0($,q){return $.listeners(q)}function N0($,...q){OH($,"setMaxListeners",0);var _;if(q&&(_=q.length))for(let K=0;K<_;K++)q[K].setMaxListeners($);else xK=$}function C0($,q){return $.listenerCount(q)}function H2($,q,_,K){if(typeof $.removeListener==="function")$.removeListener(q,_);else $.removeEventListener(q,_,K)}function Z0($,q,_,K){if(typeof $.on==="function")if(K.once)$.once(q,_);else $.on(q,_);else $.addEventListener(q,_,K)}function o4($,q,_){let K=TypeError(`The "${$}" argument must be of type ${q}. Received ${_}`);return K.code="ERR_INVALID_ARG_TYPE",K}function Tn($,q,_){let K=RangeError(`The "${$}" argument is out of range. It must be ${q}. Received ${_}`);return K.code="ERR_OUT_OF_RANGE",K}function E0($,q){if($!==void 0&&($===null||typeof $!=="object"||!("aborted"in $)))throw o4(q,"AbortSignal",$)}function OH($,q,_,K){if(typeof $!=="number")throw o4(q,"number",$);if(_!=null&&$<_||K!=null&&$>K||(_!=null||K!=null)&&Number.isNaN($))throw Tn(q,`${_!=null?`>= ${_}`:""}${_!=null&&K!=null?" && ":""}${K!=null?`<= ${K}`:""}`,$)}function F7($){if(typeof $!=="function")throw TypeError("The listener must be a function")}function wn($,q){if(typeof $!=="boolean")throw o4(q,"boolean",$)}function h0($){return $?._maxListeners??xK}function R0($,q){if($===void 0)throw o4("signal","AbortSignal",$);if(E0($,"signal"),typeof q!=="function")throw o4("listener","function",q);let _;if($.aborted)queueMicrotask(()=>q());else $.addEventListener("abort",q,{__proto__:null,once:!0}),_=()=>{$.removeEventListener("abort",q)};return{__proto__:null,[Symbol.dispose](){_?.()}}}var PH,uK,X0,jn,vn,w0,A0,f0,xK=10,qK=function($){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[uK]=$?.captureRejections?Boolean($?.captureRejections):g6[uK])this.emit=Hn},g6,Jn=function($,...q){if($==="error")return k0(this,q);var{_events:_}=this;if(_===void 0)return!1;var K=_[$];if(K===void 0)return!1;let P=K.length>1?K.slice():K;for(let O=0,{length:Y}=P;O<Y;O++){let z=P[O];switch(q.length){case 0:z.call(this);break;case 1:z.call(this,q[0]);break;case 2:z.call(this,q[0],q[1]);break;case 3:z.call(this,q[0],q[1],q[2]);break;default:z.apply(this,q);break}}return!0},Hn=function($,...q){if($==="error")return k0(this,q);var{_events:_}=this;if(_===void 0)return!1;var K=_[$];if(K===void 0)return!1;let P=K.length>1?K.slice():K;for(let O=0,{length:Y}=P;O<Y;O++){let z=P[O],H;switch(q.length){case 0:H=z.call(this);break;case 1:H=z.call(this,q[0]);break;case 2:H=z.call(this,q[0],q[1]);break;case 3:H=z.call(this,q[0],q[1],q[2]);break;default:H=z.apply(this,q);break}if(H!==void 0&&typeof H?.then==="function"&&H.then===Promise.prototype.then)zn(this,H,$,q)}return!0},KH,fn;var Q7=lK(()=>{PH=Symbol.for,uK=Symbol("kCapture"),X0=PH("events.errorMonitor"),jn=Symbol("events.maxEventTargetListeners"),vn=Symbol("events.maxEventTargetListenersWarned"),w0=PH("nodejs.rejection"),A0=PH("nodejs.rejection"),f0=Array.prototype.slice,g6=qK.prototype={};g6._events=void 0;g6._eventsCount=0;g6._maxListeners=void 0;g6.setMaxListeners=function($){return OH($,"setMaxListeners",0),this._maxListeners=$,this};g6.constructor=qK;g6.getMaxListeners=function(){return this?._maxListeners??xK};g6.emit=Jn;g6.addListener=function($,q){F7(q);var _=this._events;if(!_)_=this._events={__proto__:null},this._eventsCount=0;else if(_.newListener)this.emit("newListener",$,q.listener??q);var K=_[$];if(!K)_[$]=[q],this._eventsCount++;else{K.push(q);var P=this._maxListeners??xK;if(P>0&&K.length>P&&!K.warned)G0(this,$,K)}return this};g6.on=g6.addListener;g6.prependListener=function($,q){F7(q);var _=this._events;if(!_)_=this._events={__proto__:null},this._eventsCount=0;else if(_.newListener)this.emit("newListener",$,q.listener??q);var K=_[$];if(!K)_[$]=[q],this._eventsCount++;else{K.unshift(q);var P=this._maxListeners??xK;if(P>0&&K.length>P&&!K.warned)G0(this,$,K)}return this};g6.once=function($,q){F7(q);let _=V0.bind(this,$,q);return _.listener=q,this.addListener($,_),this};g6.prependOnceListener=function($,q){F7(q);let _=V0.bind(this,$,q);return _.listener=q,this.prependListener($,_),this};g6.removeListener=function($,q){F7(q);var{_events:_}=this;if(!_)return this;var K=_[$];if(!K)return this;var P=K.length;let O=-1;for(let Y=P-1;Y>=0;Y--)if(K[Y]===q||K[Y].listener===q){O=Y;break}if(O<0)return this;if(O===0)K.shift();else K.splice(O,1);if(K.length===0)delete _[$],this._eventsCount--;return this};g6.off=g6.removeListener;g6.removeAllListeners=function($){var{_events:q}=this;if($&&q){if(q[$])delete q[$],this._eventsCount--}else this._events={__proto__:null};return this};g6.listeners=function($){var{_events:q}=this;if(!q)return[];var _=q[$];if(!_)return[];return _.map((K)=>K.listener??K)};g6.rawListeners=function($){var{_events:q}=this;if(!q)return[];var _=q[$];if(!_)return[];return _.slice()};g6.listenerCount=function($){var{_events:q}=this;if(!q)return 0;return q[$]?.length??0};g6.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};g6[uK]=!1;KH=class KH extends Error{constructor($="The operation was aborted",q=void 0){if(q!==void 0&&typeof q!=="object")throw o4("options","Object",q);super($,q);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(qK,{captureRejections:{get(){return g6[uK]},set($){wn($,"EventEmitter.captureRejections"),g6[uK]=$},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return xK},set:($)=>{OH($,"defaultMaxListeners",0),xK=$}},kMaxEventTargetListeners:{value:jn,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:vn,enumerable:!1,configurable:!1,writable:!1}});Object.assign(qK,{once:S0,getEventListeners:M0,getMaxListeners:h0,setMaxListeners:N0,EventEmitter:qK,usingDomains:!1,captureRejectionSymbol:A0,errorMonitor:X0,addAbortListener:R0,init:qK,listenerCount:C0});fn=qK});var zH=N$((n9$,x0)=>{var V6=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports),x6=V6(($,q)=>{class _ extends Error{constructor(K){if(!Array.isArray(K))throw TypeError(`Expected input to be an Array, got ${typeof K}`);let P="";for(let O=0;O<K.length;O++)P+=`    ${K[O].stack}
`;super(P);this.name="AggregateError",this.errors=K}}q.exports={AggregateError:_,ArrayIsArray(K){return Array.isArray(K)},ArrayPrototypeIncludes(K,P){return K.includes(P)},ArrayPrototypeIndexOf(K,P){return K.indexOf(P)},ArrayPrototypeJoin(K,P){return K.join(P)},ArrayPrototypeMap(K,P){return K.map(P)},ArrayPrototypePop(K,P){return K.pop(P)},ArrayPrototypePush(K,P){return K.push(P)},ArrayPrototypeSlice(K,P,O){return K.slice(P,O)},Error,FunctionPrototypeCall(K,P,...O){return K.call(P,...O)},FunctionPrototypeSymbolHasInstance(K,P){return Function.prototype[Symbol.hasInstance].call(K,P)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(K,P){return Object.defineProperties(K,P)},ObjectDefineProperty(K,P,O){return Object.defineProperty(K,P,O)},ObjectGetOwnPropertyDescriptor(K,P){return Object.getOwnPropertyDescriptor(K,P)},ObjectKeys(K){return Object.keys(K)},ObjectSetPrototypeOf(K,P){return Object.setPrototypeOf(K,P)},Promise,PromisePrototypeCatch(K,P){return K.catch(P)},PromisePrototypeThen(K,P,O){return K.then(P,O)},PromiseReject(K){return Promise.reject(K)},PromiseResolve(K){return Promise.resolve(K)},ReflectApply:Reflect.apply,RegExpPrototypeTest(K,P){return K.test(P)},SafeSet:Set,String,StringPrototypeSlice(K,P,O){return K.slice(P,O)},StringPrototypeToLowerCase(K){return K.toLowerCase()},StringPrototypeToUpperCase(K){return K.toUpperCase()},StringPrototypeTrim(K){return K.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(K,P,O){return K.set(P,O)},Boolean,Uint8Array}}),I0=V6(($,q)=>{q.exports={format(_,...K){return _.replace(/%([sdifj])/g,function(...[P,O]){let Y=K.shift();if(O==="f")return Y.toFixed(6);else if(O==="j")return JSON.stringify(Y);else if(O==="s"&&typeof Y==="object")return`${Y.constructor!==Object?Y.constructor.name:""} {}`.trim();else return Y.toString()})},inspect(_){switch(typeof _){case"string":if(_.includes("'")){if(!_.includes('"'))return`"${_}"`;else if(!_.includes("`")&&!_.includes("${"))return`\`${_}\``}return`'${_}'`;case"number":if(isNaN(_))return"NaN";else if(Object.is(_,-0))return String(_);return _;case"bigint":return`${String(_)}n`;case"boolean":case"undefined":return String(_);case"object":return"{}"}}}}),mq=V6(($,q)=>{var{format:_,inspect:K}=I0(),{AggregateError:P}=x6(),O=globalThis.AggregateError||P,Y=Symbol("kIsNodeError"),z=["string","function","number","object","Function","Object","boolean","bigint","symbol"],H=/^([A-Z][a-z0-9]*)+$/,T={};function f(D,I){if(!D)throw new T.ERR_INTERNAL_ASSERTION(I)}function w(D){let I="",L=D.length,g=D[0]==="-"?1:0;for(;L>=g+4;L-=3)I=`_${D.slice(L-3,L)}${I}`;return`${D.slice(0,L)}${I}`}function k(D,I,L){if(typeof I==="function")return f(I.length<=L.length,`Code: ${D}; The provided arguments length (${L.length}) does not match the required ones (${I.length}).`),I(...L);let g=(I.match(/%[dfijoOs]/g)||[]).length;if(f(g===L.length,`Code: ${D}; The provided arguments length (${L.length}) does not match the required ones (${g}).`),L.length===0)return I;return _(I,...L)}function S(D,I,L){if(!L)L=Error;class g extends L{constructor(...y){super(k(D,I,y))}toString(){return`${this.name} [${D}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:L.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${D}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=D,g.prototype[Y]=!0,T[D]=g}function N(D){let I="__node_internal_"+D.name;return Object.defineProperty(D,"name",{value:I}),D}function h(D,I){if(D&&I&&D!==I){if(Array.isArray(I.errors))return I.errors.push(D),I;let L=new O([I,D],I.message);return L.code=I.code,L}return D||I}class E extends Error{constructor(D="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!=="object")throw new T.ERR_INVALID_ARG_TYPE("options","Object",I);super(D,I);this.code="ABORT_ERR",this.name="AbortError"}}S("ERR_ASSERTION","%s",Error),S("ERR_INVALID_ARG_TYPE",(D,I,L)=>{if(f(typeof D==="string","'name' must be a string"),!Array.isArray(I))I=[I];let g="The ";if(D.endsWith(" argument"))g+=`${D} `;else g+=`"${D}" ${D.includes(".")?"property":"argument"} `;g+="must be ";let y=[],c=[],o=[];for(let U of I)if(f(typeof U==="string","All expected entries have to be of type string"),z.includes(U))y.push(U.toLowerCase());else if(H.test(U))c.push(U);else f(U!=="object",'The value "object" should be written as "Object"'),o.push(U);if(c.length>0){let U=y.indexOf("object");if(U!==-1)y.splice(y,U,1),c.push("Object")}if(y.length>0){switch(y.length){case 1:g+=`of type ${y[0]}`;break;case 2:g+=`one of type ${y[0]} or ${y[1]}`;break;default:{let U=y.pop();g+=`one of type ${y.join(", ")}, or ${U}`}}if(c.length>0||o.length>0)g+=" or "}if(c.length>0){switch(c.length){case 1:g+=`an instance of ${c[0]}`;break;case 2:g+=`an instance of ${c[0]} or ${c[1]}`;break;default:{let U=c.pop();g+=`an instance of ${c.join(", ")}, or ${U}`}}if(o.length>0)g+=" or "}switch(o.length){case 0:break;case 1:if(o[0].toLowerCase()!==o[0])g+="an ";g+=`${o[0]}`;break;case 2:g+=`one of ${o[0]} or ${o[1]}`;break;default:{let U=o.pop();g+=`one of ${o.join(", ")}, or ${U}`}}if(L==null)g+=`. Received ${L}`;else if(typeof L==="function"&&L.name)g+=`. Received function ${L.name}`;else if(typeof L==="object"){var Q;if((Q=L.constructor)!==null&&Q!==void 0&&Q.name)g+=`. Received an instance of ${L.constructor.name}`;else{let U=K(L,{depth:-1});g+=`. Received ${U}`}}else{let U=K(L,{colors:!1});if(U.length>25)U=`${U.slice(0,25)}...`;g+=`. Received type ${typeof L} (${U})`}return g},TypeError),S("ERR_INVALID_ARG_VALUE",(D,I,L="is invalid")=>{let g=K(I);if(g.length>128)g=g.slice(0,128)+"...";return`The ${D.includes(".")?"property":"argument"} '${D}' ${L}. Received ${g}`},TypeError),S("ERR_INVALID_RETURN_VALUE",(D,I,L)=>{var g;let y=L!==null&&L!==void 0&&(g=L.constructor)!==null&&g!==void 0&&g.name?`instance of ${L.constructor.name}`:`type ${typeof L}`;return`Expected ${D} to be returned from the "${I}" function but got ${y}.`},TypeError),S("ERR_MISSING_ARGS",(...D)=>{f(D.length>0,"At least one arg needs to be specified");let I,L=D.length;switch(D=(Array.isArray(D)?D:[D]).map((g)=>`"${g}"`).join(" or "),L){case 1:I+=`The ${D[0]} argument`;break;case 2:I+=`The ${D[0]} and ${D[1]} arguments`;break;default:{let g=D.pop();I+=`The ${D.join(", ")}, and ${g} arguments`}break}return`${I} must be specified`},TypeError),S("ERR_OUT_OF_RANGE",(D,I,L)=>{f(I,'Missing "range" argument');let g;if(Number.isInteger(L)&&Math.abs(L)>4294967296)g=w(String(L));else if(typeof L==="bigint"){g=String(L);let y=BigInt(2)**BigInt(32);if(L>y||L<-y)g=w(g);g+="n"}else g=K(L);return`The value of "${D}" is out of range. It must be ${I}. Received ${g}`},RangeError),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),S("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),S("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),S("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),S("ERR_STREAM_WRITE_AFTER_END","write after end",Error),S("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),q.exports={AbortError:E,aggregateTwoErrors:N(h),hideStackFrames:N,codes:T}}),Zn=V6(($,q)=>{Object.defineProperty($,"__esModule",{value:!0});var _=new WeakMap,K=new WeakMap;function P(p){let s=_.get(p);return console.assert(s!=null,"'this' is expected an Event object, but got",p),s}function O(p){if(p.passiveListener!=null){if(typeof console<"u"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",p.passiveListener);return}if(!p.event.cancelable)return;if(p.canceled=!0,typeof p.event.preventDefault==="function")p.event.preventDefault()}function Y(p,s){_.set(this,{eventTarget:p,event:s,eventPhase:2,currentTarget:p,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:s.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let j=Object.keys(s);for(let J=0;J<j.length;++J){let X=j[J];if(!(X in this))Object.defineProperty(this,X,z(X))}}if(Y.prototype={get type(){return P(this).event.type},get target(){return P(this).eventTarget},get currentTarget(){return P(this).currentTarget},composedPath(){let p=P(this).currentTarget;if(p==null)return[];return[p]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return P(this).eventPhase},stopPropagation(){let p=P(this);if(p.stopped=!0,typeof p.event.stopPropagation==="function")p.event.stopPropagation()},stopImmediatePropagation(){let p=P(this);if(p.stopped=!0,p.immediateStopped=!0,typeof p.event.stopImmediatePropagation==="function")p.event.stopImmediatePropagation()},get bubbles(){return Boolean(P(this).event.bubbles)},get cancelable(){return Boolean(P(this).event.cancelable)},preventDefault(){O(P(this))},get defaultPrevented(){return P(this).canceled},get composed(){return Boolean(P(this).event.composed)},get timeStamp(){return P(this).timeStamp},get srcElement(){return P(this).eventTarget},get cancelBubble(){return P(this).stopped},set cancelBubble(p){if(!p)return;let s=P(this);if(s.stopped=!0,typeof s.event.cancelBubble==="boolean")s.event.cancelBubble=!0},get returnValue(){return!P(this).canceled},set returnValue(p){if(!p)O(P(this))},initEvent(){}},Object.defineProperty(Y.prototype,"constructor",{value:Y,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u")Object.setPrototypeOf(Y.prototype,window.Event.prototype),K.set(window.Event.prototype,Y);function z(p){return{get(){return P(this).event[p]},set(s){P(this).event[p]=s},configurable:!0,enumerable:!0}}function H(p){return{value(){let s=P(this).event;return s[p].apply(s,arguments)},configurable:!0,enumerable:!0}}function T(p,s){let j=Object.keys(s);if(j.length===0)return p;function J(X,W){p.call(this,X,W)}J.prototype=Object.create(p.prototype,{constructor:{value:J,configurable:!0,writable:!0}});for(let X=0;X<j.length;++X){let W=j[X];if(!(W in p.prototype)){let Z=typeof Object.getOwnPropertyDescriptor(s,W).value==="function";Object.defineProperty(J.prototype,W,Z?H(W):z(W))}}return J}function f(p){if(p==null||p===Object.prototype)return Y;let s=K.get(p);if(s==null)s=T(f(Object.getPrototypeOf(p)),p),K.set(p,s);return s}function w(p,s){return new(f(Object.getPrototypeOf(s)))(p,s)}function k(p){return P(p).immediateStopped}function S(p,s){P(p).eventPhase=s}function N(p,s){P(p).currentTarget=s}function h(p,s){P(p).passiveListener=s}var E=new WeakMap,D=1,I=2,L=3;function g(p){return p!==null&&typeof p==="object"}function y(p){let s=E.get(p);if(s==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return s}function c(p){return{get(){let s=y(this).get(p);while(s!=null){if(s.listenerType===L)return s.listener;s=s.next}return null},set(s){if(typeof s!=="function"&&!g(s))s=null;let j=y(this),J=null,X=j.get(p);while(X!=null){if(X.listenerType===L)if(J!==null)J.next=X.next;else if(X.next!==null)j.set(p,X.next);else j.delete(p);else J=X;X=X.next}if(s!==null){let W={listener:s,listenerType:L,passive:!1,once:!1,next:null};if(J===null)j.set(p,W);else J.next=W}},configurable:!0,enumerable:!0}}function o(p,s){Object.defineProperty(p,`on${s}`,c(s))}function Q(p){function s(){U.call(this)}s.prototype=Object.create(U.prototype,{constructor:{value:s,configurable:!0,writable:!0}});for(let j=0;j<p.length;++j)o(s.prototype,p[j]);return s}function U(){if(this instanceof U){E.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Q(arguments[0]);if(arguments.length>0){let p=Array(arguments.length);for(let s=0;s<arguments.length;++s)p[s]=arguments[s];return Q(p)}throw TypeError("Cannot call a class as a function")}if(U.prototype={addEventListener(p,s,j){if(s==null)return;if(typeof s!=="function"&&!g(s))throw TypeError("'listener' should be a function or an object.");let J=y(this),X=g(j),W=(X?Boolean(j.capture):Boolean(j))?D:I,Z={listener:s,listenerType:W,passive:X&&Boolean(j.passive),once:X&&Boolean(j.once),next:null},V=J.get(p);if(V===void 0){J.set(p,Z);return}let M=null;while(V!=null){if(V.listener===s&&V.listenerType===W)return;M=V,V=V.next}M.next=Z},removeEventListener(p,s,j){if(s==null)return;let J=y(this),X=(g(j)?Boolean(j.capture):Boolean(j))?D:I,W=null,Z=J.get(p);while(Z!=null){if(Z.listener===s&&Z.listenerType===X){if(W!==null)W.next=Z.next;else if(Z.next!==null)J.set(p,Z.next);else J.delete(p);return}W=Z,Z=Z.next}},dispatchEvent(p){if(p==null||typeof p.type!=="string")throw TypeError('"event.type" should be a string.');let s=y(this),j=p.type,J=s.get(j);if(J==null)return!0;let X=w(this,p),W=null;while(J!=null){if(J.once)if(W!==null)W.next=J.next;else if(J.next!==null)s.set(j,J.next);else s.delete(j);else W=J;if(h(X,J.passive?J.listener:null),typeof J.listener==="function")try{J.listener.call(this,X)}catch(Z){if(typeof console<"u"&&typeof console.error==="function")console.error(Z)}else if(J.listenerType!==L&&typeof J.listener.handleEvent==="function")J.listener.handleEvent(X);if(k(X))break;J=J.next}return h(X,null),S(X,0),N(X,null),!X.defaultPrevented}},Object.defineProperty(U.prototype,"constructor",{value:U,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u")Object.setPrototypeOf(U.prototype,window.EventTarget.prototype);$.defineEventAttribute=o,$.EventTarget=U,$.default=U,q.exports=U,q.exports.EventTarget=q.exports.default=U,q.exports.defineEventAttribute=o}),e7=V6(($,q)=>{Object.defineProperty($,"__esModule",{value:!0});var _=Zn();class K extends _.EventTarget{constructor(){super();throw TypeError("AbortSignal cannot be constructed directly")}get aborted(){let f=Y.get(this);if(typeof f!=="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return f}}_.defineEventAttribute(K.prototype,"abort");function P(){let f=Object.create(K.prototype);return _.EventTarget.call(f),Y.set(f,!1),f}function O(f){if(Y.get(f)!==!1)return;Y.set(f,!0),f.dispatchEvent({type:"abort"})}var Y=new WeakMap;if(Object.defineProperties(K.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(K.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class z{constructor(){H.set(this,P())}get signal(){return T(this)}abort(){O(T(this))}}var H=new WeakMap;function T(f){let w=H.get(f);if(w==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${f===null?"null":typeof f}`);return w}if(Object.defineProperties(z.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(z.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});$.AbortController=z,$.AbortSignal=K,$.default=z,q.exports=z,q.exports.AbortController=q.exports.default=z,q.exports.AbortSignal=K}),q8=V6(($,q)=>{var _=(wq(),J6(Tq)),{format:K,inspect:P}=I0(),{codes:{ERR_INVALID_ARG_TYPE:O}}=mq(),{kResistStopPropagation:Y,AggregateError:z,SymbolDispose:H}=x6(),T=globalThis.AbortSignal||e7().AbortSignal,f=globalThis.AbortController||e7().AbortController,w=Object.getPrototypeOf(async function(){}).constructor,k=globalThis.Blob||_.Blob,S=typeof k<"u"?function(E){return E instanceof k}:function(E){return!1},N=(E,D)=>{if(E!==void 0&&(E===null||typeof E!=="object"||!("aborted"in E)))throw new O(D,"AbortSignal",E)},h=(E,D)=>{if(typeof E!=="function")throw new O(D,"Function",E)};q.exports={AggregateError:z,kEmptyObject:Object.freeze({}),once(E){let D=!1;return function(...I){if(D)return;D=!0,E.apply(this,I)}},createDeferredPromise:function(){let E,D;return{promise:new Promise((I,L)=>{E=I,D=L}),resolve:E,reject:D}},promisify(E){return new Promise((D,I)=>{E((L,...g)=>{if(L)return I(L);return D(...g)})})},debuglog(){return function(){}},format:K,inspect:P,types:{isAsyncFunction(E){return E instanceof w},isArrayBufferView(E){return ArrayBuffer.isView(E)}},isBlob:S,deprecate(E,D){return E},addAbortListener:(Q7(),J6(a7)).addAbortListener||function(E,D){if(E===void 0)throw new O("signal","AbortSignal",E);N(E,"signal"),h(D,"listener");let I;if(E.aborted)queueMicrotask(()=>D());else E.addEventListener("abort",D,{__proto__:null,once:!0,[Y]:!0}),I=()=>{E.removeEventListener("abort",D)};return{__proto__:null,[H](){var L;(L=I)===null||L===void 0||L()}}},AbortSignalAny:T.any||function(E){if(E.length===1)return E[0];let D=new f,I=()=>D.abort();return E.forEach((L)=>{N(L,"signals"),L.addEventListener("abort",I,{once:!0})}),D.signal.addEventListener("abort",()=>{E.forEach((L)=>L.removeEventListener("abort",I))},{once:!0}),D.signal}},q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),s7=V6(($,q)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:K,ArrayPrototypeJoin:P,ArrayPrototypeMap:O,NumberIsInteger:Y,NumberIsNaN:z,NumberMAX_SAFE_INTEGER:H,NumberMIN_SAFE_INTEGER:T,NumberParseInt:f,ObjectPrototypeHasOwnProperty:w,RegExpPrototypeExec:k,String:S,StringPrototypeToUpperCase:N,StringPrototypeTrim:h}=x6(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:D,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:g,ERR_UNKNOWN_SIGNAL:y}}=mq(),{normalizeEncoding:c}=q8(),{isAsyncFunction:o,isArrayBufferView:Q}=q8().types,U={};function p(d){return d===(d|0)}function s(d){return d===d>>>0}var j=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function X(d,n,H$){if(typeof d>"u")d=H$;if(typeof d==="string"){if(k(j,d)===null)throw new L(n,d,J);d=f(d,8)}return V(d,n),d}var W=E((d,n,H$=T,t=H)=>{if(typeof d!=="number")throw new I(n,"number",d);if(!Y(d))throw new g(n,"an integer",d);if(d<H$||d>t)throw new g(n,`>= ${H$} && <= ${t}`,d)}),Z=E((d,n,H$=-2147483648,t=2147483647)=>{if(typeof d!=="number")throw new I(n,"number",d);if(!Y(d))throw new g(n,"an integer",d);if(d<H$||d>t)throw new g(n,`>= ${H$} && <= ${t}`,d)}),V=E((d,n,H$=!1)=>{if(typeof d!=="number")throw new I(n,"number",d);if(!Y(d))throw new g(n,"an integer",d);let t=H$?1:0,F=4294967295;if(d<t||d>F)throw new g(n,`>= ${t} && <= ${F}`,d)});function M(d,n){if(typeof d!=="string")throw new I(n,"string",d)}function A(d,n,H$=void 0,t){if(typeof d!=="number")throw new I(n,"number",d);if(H$!=null&&d<H$||t!=null&&d>t||(H$!=null||t!=null)&&z(d))throw new g(n,`${H$!=null?`>= ${H$}`:""}${H$!=null&&t!=null?" && ":""}${t!=null?`<= ${t}`:""}`,d)}var v=E((d,n,H$)=>{if(!K(H$,d)){let t="must be one of: "+P(O(H$,(F)=>typeof F==="string"?`'${F}'`:S(F)),", ");throw new L(n,d,t)}});function G(d,n){if(typeof d!=="boolean")throw new I(n,"boolean",d)}function R(d,n,H$){return d==null||!w(d,n)?H$:d[n]}var C=E((d,n,H$=null)=>{let t=R(H$,"allowArray",!1),F=R(H$,"allowFunction",!1);if(!R(H$,"nullable",!1)&&d===null||!t&&_(d)||typeof d!=="object"&&(!F||typeof d!=="function"))throw new I(n,"Object",d)}),b=E((d,n)=>{if(d!=null&&typeof d!=="object"&&typeof d!=="function")throw new I(n,"a dictionary",d)}),x=E((d,n,H$=0)=>{if(!_(d))throw new I(n,"Array",d);if(d.length<H$){let t=`must be longer than ${H$}`;throw new L(n,d,t)}});function l(d,n){x(d,n);for(let H$=0;H$<d.length;H$++)M(d[H$],`${n}[${H$}]`)}function a(d,n){x(d,n);for(let H$=0;H$<d.length;H$++)G(d[H$],`${n}[${H$}]`)}function f$(d,n){x(d,n);for(let H$=0;H$<d.length;H$++){let t=d[H$],F=`${n}[${H$}]`;if(t==null)throw new I(F,"AbortSignal",t);P$(t,F)}}function q$(d,n="signal"){if(M(d,n),U[d]===void 0){if(U[N(d)]!==void 0)throw new y(d+" (signals must use all capital letters)");throw new y(d)}}var B=E((d,n="buffer")=>{if(!Q(d))throw new I(n,["Buffer","TypedArray","DataView"],d)});function v$(d,n){let H$=c(n),t=d.length;if(H$==="hex"&&t%2!==0)throw new L("encoding",n,`is invalid for data of length ${t}`)}function e(d,n="Port",H$=!0){if(typeof d!=="number"&&typeof d!=="string"||typeof d==="string"&&h(d).length===0||+d!==+d>>>0||d>65535||d===0&&!H$)throw new D(n,d,H$);return d|0}var P$=E((d,n)=>{if(d!==void 0&&(d===null||typeof d!=="object"||!("aborted"in d)))throw new I(n,"AbortSignal",d)}),o$=E((d,n)=>{if(typeof d!=="function")throw new I(n,"Function",d)}),m=E((d,n)=>{if(typeof d!=="function"||o(d))throw new I(n,"Function",d)}),r=E((d,n)=>{if(d!==void 0)throw new I(n,"undefined",d)});function J$(d,n,H$){if(!K(H$,d))throw new I(n,`('${P(H$,"|")}')`,d)}var $$=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function _$(d,n){if(typeof d>"u"||!k($$,d))throw new L(n,d,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Y$(d){if(typeof d==="string")return _$(d,"hints"),d;else if(_(d)){let n=d.length,H$="";if(n===0)return H$;for(let t=0;t<n;t++){let F=d[t];if(_$(F,"hints"),H$+=F,t!==n-1)H$+=", "}return H$}throw new L("hints",d,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}q.exports={isInt32:p,isUint32:s,parseFileMode:X,validateArray:x,validateStringArray:l,validateBooleanArray:a,validateAbortSignalArray:f$,validateBoolean:G,validateBuffer:B,validateDictionary:b,validateEncoding:v$,validateFunction:o$,validateInt32:Z,validateInteger:W,validateNumber:A,validateObject:C,validateOneOf:v,validatePlainFunction:m,validatePort:e,validateSignalName:q$,validateString:M,validateUint32:V,validateUndefined:r,validateUnion:J$,validateAbortSignal:P$,validateLinkHeaderValue:Y$}}),pK=V6(($,q)=>{q.exports=globalThis.process}),M_=V6(($,q)=>{var{SymbolAsyncIterator:_,SymbolIterator:K,SymbolFor:P}=x6(),O=P("nodejs.stream.destroyed"),Y=P("nodejs.stream.errored"),z=P("nodejs.stream.readable"),H=P("nodejs.stream.writable"),T=P("nodejs.stream.disturbed"),f=P("nodejs.webstream.isClosedPromise"),w=P("nodejs.webstream.controllerErrorFunction");function k(R,C=!1){var b;return!!(R&&typeof R.pipe==="function"&&typeof R.on==="function"&&(!C||typeof R.pause==="function"&&typeof R.resume==="function")&&(!R._writableState||((b=R._readableState)===null||b===void 0?void 0:b.readable)!==!1)&&(!R._writableState||R._readableState))}function S(R){var C;return!!(R&&typeof R.write==="function"&&typeof R.on==="function"&&(!R._readableState||((C=R._writableState)===null||C===void 0?void 0:C.writable)!==!1))}function N(R){return!!(R&&typeof R.pipe==="function"&&R._readableState&&typeof R.on==="function"&&typeof R.write==="function")}function h(R){return R&&(R._readableState||R._writableState||typeof R.write==="function"&&typeof R.on==="function"||typeof R.pipe==="function"&&typeof R.on==="function")}function E(R){return!!(R&&!h(R)&&typeof R.pipeThrough==="function"&&typeof R.getReader==="function"&&typeof R.cancel==="function")}function D(R){return!!(R&&!h(R)&&typeof R.getWriter==="function"&&typeof R.abort==="function")}function I(R){return!!(R&&!h(R)&&typeof R.readable==="object"&&typeof R.writable==="object")}function L(R){return E(R)||D(R)||I(R)}function g(R,C){if(R==null)return!1;if(C===!0)return typeof R[_]==="function";if(C===!1)return typeof R[K]==="function";return typeof R[_]==="function"||typeof R[K]==="function"}function y(R){if(!h(R))return null;let{_writableState:C,_readableState:b}=R,x=C||b;return!!(R.destroyed||R[O]||x!==null&&x!==void 0&&x.destroyed)}function c(R){if(!S(R))return null;if(R.writableEnded===!0)return!0;let C=R._writableState;if(C!==null&&C!==void 0&&C.errored)return!1;if(typeof(C===null||C===void 0?void 0:C.ended)!=="boolean")return null;return C.ended}function o(R,C){if(!S(R))return null;if(R.writableFinished===!0)return!0;let b=R._writableState;if(b!==null&&b!==void 0&&b.errored)return!1;if(typeof(b===null||b===void 0?void 0:b.finished)!=="boolean")return null;return!!(b.finished||C===!1&&b.ended===!0&&b.length===0)}function Q(R){if(!k(R))return null;if(R.readableEnded===!0)return!0;let C=R._readableState;if(!C||C.errored)return!1;if(typeof(C===null||C===void 0?void 0:C.ended)!=="boolean")return null;return C.ended}function U(R,C){if(!k(R))return null;let b=R._readableState;if(b!==null&&b!==void 0&&b.errored)return!1;if(typeof(b===null||b===void 0?void 0:b.endEmitted)!=="boolean")return null;return!!(b.endEmitted||C===!1&&b.ended===!0&&b.length===0)}function p(R){if(R&&R[z]!=null)return R[z];if(typeof(R===null||R===void 0?void 0:R.readable)!=="boolean")return null;if(y(R))return!1;return k(R)&&R.readable&&!U(R)}function s(R){if(R&&R[H]!=null)return R[H];if(typeof(R===null||R===void 0?void 0:R.writable)!=="boolean")return null;if(y(R))return!1;return S(R)&&R.writable&&!c(R)}function j(R,C){if(!h(R))return null;if(y(R))return!0;if((C===null||C===void 0?void 0:C.readable)!==!1&&p(R))return!1;if((C===null||C===void 0?void 0:C.writable)!==!1&&s(R))return!1;return!0}function J(R){var C,b;if(!h(R))return null;if(R.writableErrored)return R.writableErrored;return(C=(b=R._writableState)===null||b===void 0?void 0:b.errored)!==null&&C!==void 0?C:null}function X(R){var C,b;if(!h(R))return null;if(R.readableErrored)return R.readableErrored;return(C=(b=R._readableState)===null||b===void 0?void 0:b.errored)!==null&&C!==void 0?C:null}function W(R){if(!h(R))return null;if(typeof R.closed==="boolean")return R.closed;let{_writableState:C,_readableState:b}=R;if(typeof(C===null||C===void 0?void 0:C.closed)==="boolean"||typeof(b===null||b===void 0?void 0:b.closed)==="boolean")return(C===null||C===void 0?void 0:C.closed)||(b===null||b===void 0?void 0:b.closed);if(typeof R._closed==="boolean"&&Z(R))return R._closed;return null}function Z(R){return typeof R._closed==="boolean"&&typeof R._defaultKeepAlive==="boolean"&&typeof R._removedConnection==="boolean"&&typeof R._removedContLen==="boolean"}function V(R){return typeof R._sent100==="boolean"&&Z(R)}function M(R){var C;return typeof R._consuming==="boolean"&&typeof R._dumped==="boolean"&&((C=R.req)===null||C===void 0?void 0:C.upgradeOrConnect)===void 0}function A(R){if(!h(R))return null;let{_writableState:C,_readableState:b}=R,x=C||b;return!x&&V(R)||!!(x&&x.autoDestroy&&x.emitClose&&x.closed===!1)}function v(R){var C;return!!(R&&((C=R[T])!==null&&C!==void 0?C:R.readableDidRead||R.readableAborted))}function G(R){var C,b,x,l,a,f$,q$,B,v$,e;return!!(R&&((C=(b=(x=(l=(a=(f$=R[Y])!==null&&f$!==void 0?f$:R.readableErrored)!==null&&a!==void 0?a:R.writableErrored)!==null&&l!==void 0?l:(q$=R._readableState)===null||q$===void 0?void 0:q$.errorEmitted)!==null&&x!==void 0?x:(B=R._writableState)===null||B===void 0?void 0:B.errorEmitted)!==null&&b!==void 0?b:(v$=R._readableState)===null||v$===void 0?void 0:v$.errored)!==null&&C!==void 0?C:(e=R._writableState)===null||e===void 0?void 0:e.errored))}q.exports={isDestroyed:y,kIsDestroyed:O,isDisturbed:v,kIsDisturbed:T,isErrored:G,kIsErrored:Y,isReadable:p,kIsReadable:z,kIsClosedPromise:f,kControllerErrorFunction:w,kIsWritable:H,isClosed:W,isDuplexNodeStream:N,isFinished:j,isIterable:g,isReadableNodeStream:k,isReadableStream:E,isReadableEnded:Q,isReadableFinished:U,isReadableErrored:X,isNodeStream:h,isWebStream:L,isWritable:s,isWritableNodeStream:S,isWritableStream:D,isWritableEnded:c,isWritableFinished:o,isWritableErrored:J,isServerRequest:M,isServerResponse:V,willEmitClose:A,isTransformStream:I}}),_K=V6(($,q)=>{var _=pK(),{AbortError:K,codes:P}=mq(),{ERR_INVALID_ARG_TYPE:O,ERR_STREAM_PREMATURE_CLOSE:Y}=P,{kEmptyObject:z,once:H}=q8(),{validateAbortSignal:T,validateFunction:f,validateObject:w,validateBoolean:k}=s7(),{Promise:S,PromisePrototypeThen:N,SymbolDispose:h}=x6(),{isClosed:E,isReadable:D,isReadableNodeStream:I,isReadableStream:L,isReadableFinished:g,isReadableErrored:y,isWritable:c,isWritableNodeStream:o,isWritableStream:Q,isWritableFinished:U,isWritableErrored:p,isNodeStream:s,willEmitClose:j,kIsClosedPromise:J}=M_(),X;function W(v){return v.setHeader&&typeof v.abort==="function"}var Z=()=>{};function V(v,G,R){var C,b;if(arguments.length===2)R=G,G=z;else if(G==null)G=z;else w(G,"options");if(f(R,"callback"),T(G.signal,"options.signal"),R=H(R),L(v)||Q(v))return M(v,G,R);if(!s(v))throw new O("stream",["ReadableStream","WritableStream","Stream"],v);let x=(C=G.readable)!==null&&C!==void 0?C:I(v),l=(b=G.writable)!==null&&b!==void 0?b:o(v),a=v._writableState,f$=v._readableState,q$=()=>{if(!v.writable)e()},B=j(v)&&I(v)===x&&o(v)===l,v$=U(v,!1),e=()=>{if(v$=!0,v.destroyed)B=!1;if(B&&(!v.readable||x))return;if(!x||P$)R.call(v)},P$=g(v,!1),o$=()=>{if(P$=!0,v.destroyed)B=!1;if(B&&(!v.writable||l))return;if(!l||v$)R.call(v)},m=(d)=>{R.call(v,d)},r=E(v),J$=()=>{r=!0;let d=p(v)||y(v);if(d&&typeof d!=="boolean")return R.call(v,d);if(x&&!P$&&I(v,!0)){if(!g(v,!1))return R.call(v,new Y)}if(l&&!v$){if(!U(v,!1))return R.call(v,new Y)}R.call(v)},$$=()=>{r=!0;let d=p(v)||y(v);if(d&&typeof d!=="boolean")return R.call(v,d);R.call(v)},_$=()=>{v.req.on("finish",e)};if(W(v)){if(v.on("complete",e),!B)v.on("abort",J$);if(v.req)_$();else v.on("request",_$)}else if(l&&!a)v.on("end",q$),v.on("close",q$);if(!B&&typeof v.aborted==="boolean")v.on("aborted",J$);if(v.on("end",o$),v.on("finish",e),G.error!==!1)v.on("error",m);if(v.on("close",J$),r)_.nextTick(J$);else if(a!==null&&a!==void 0&&a.errorEmitted||f$!==null&&f$!==void 0&&f$.errorEmitted){if(!B)_.nextTick($$)}else if(!x&&(!B||D(v))&&(v$||c(v)===!1))_.nextTick($$);else if(!l&&(!B||c(v))&&(P$||D(v)===!1))_.nextTick($$);else if(f$&&v.req&&v.aborted)_.nextTick($$);let Y$=()=>{if(R=Z,v.removeListener("aborted",J$),v.removeListener("complete",e),v.removeListener("abort",J$),v.removeListener("request",_$),v.req)v.req.removeListener("finish",e);v.removeListener("end",q$),v.removeListener("close",q$),v.removeListener("finish",e),v.removeListener("end",o$),v.removeListener("error",m),v.removeListener("close",J$)};if(G.signal&&!r){let d=()=>{let n=R;Y$(),n.call(v,new K(void 0,{cause:G.signal.reason}))};if(G.signal.aborted)_.nextTick(d);else{X=X||q8().addAbortListener;let n=X(G.signal,d),H$=R;R=H((...t)=>{n[h](),H$.apply(v,t)})}}return Y$}function M(v,G,R){let C=!1,b=Z;if(G.signal)if(b=()=>{C=!0,R.call(v,new K(void 0,{cause:G.signal.reason}))},G.signal.aborted)_.nextTick(b);else{X=X||q8().addAbortListener;let l=X(G.signal,b),a=R;R=H((...f$)=>{l[h](),a.apply(v,f$)})}let x=(...l)=>{if(!C)_.nextTick(()=>R.apply(v,l))};return N(v[J].promise,x,x),Z}function A(v,G){var R;let C=!1;if(G===null)G=z;if((R=G)!==null&&R!==void 0&&R.cleanup)k(G.cleanup,"cleanup"),C=G.cleanup;return new S((b,x)=>{let l=V(v,G,(a)=>{if(C)l();if(a)x(a);else b()})})}q.exports=V,q.exports.finished=A}),n4=V6(($,q)=>{var _=pK(),{aggregateTwoErrors:K,codes:{ERR_MULTIPLE_CALLBACK:P},AbortError:O}=mq(),{Symbol:Y}=x6(),{kIsDestroyed:z,isDestroyed:H,isFinished:T,isServerRequest:f}=M_(),w=Y("kDestroy"),k=Y("kConstruct");function S(j,J,X){if(j){if(j.stack,J&&!J.errored)J.errored=j;if(X&&!X.errored)X.errored=j}}function N(j,J){let X=this._readableState,W=this._writableState,Z=W||X;if(W!==null&&W!==void 0&&W.destroyed||X!==null&&X!==void 0&&X.destroyed){if(typeof J==="function")J();return this}if(S(j,W,X),W)W.destroyed=!0;if(X)X.destroyed=!0;if(!Z.constructed)this.once(w,function(V){h(this,K(V,j),J)});else h(this,j,J);return this}function h(j,J,X){let W=!1;function Z(V){if(W)return;W=!0;let{_readableState:M,_writableState:A}=j;if(S(V,A,M),A)A.closed=!0;if(M)M.closed=!0;if(typeof X==="function")X(V);if(V)_.nextTick(E,j,V);else _.nextTick(D,j)}try{j._destroy(J||null,Z)}catch(V){Z(V)}}function E(j,J){I(j,J),D(j)}function D(j){let{_readableState:J,_writableState:X}=j;if(X)X.closeEmitted=!0;if(J)J.closeEmitted=!0;if(X!==null&&X!==void 0&&X.emitClose||J!==null&&J!==void 0&&J.emitClose)j.emit("close")}function I(j,J){let{_readableState:X,_writableState:W}=j;if(W!==null&&W!==void 0&&W.errorEmitted||X!==null&&X!==void 0&&X.errorEmitted)return;if(W)W.errorEmitted=!0;if(X)X.errorEmitted=!0;j.emit("error",J)}function L(){let j=this._readableState,J=this._writableState;if(j)j.constructed=!0,j.closed=!1,j.closeEmitted=!1,j.destroyed=!1,j.errored=null,j.errorEmitted=!1,j.reading=!1,j.ended=j.readable===!1,j.endEmitted=j.readable===!1;if(J)J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1}function g(j,J,X){let{_readableState:W,_writableState:Z}=j;if(Z!==null&&Z!==void 0&&Z.destroyed||W!==null&&W!==void 0&&W.destroyed)return this;if(W!==null&&W!==void 0&&W.autoDestroy||Z!==null&&Z!==void 0&&Z.autoDestroy)j.destroy(J);else if(J){if(J.stack,Z&&!Z.errored)Z.errored=J;if(W&&!W.errored)W.errored=J;if(X)_.nextTick(I,j,J);else I(j,J)}}function y(j,J){if(typeof j._construct!=="function")return;let{_readableState:X,_writableState:W}=j;if(X)X.constructed=!1;if(W)W.constructed=!1;if(j.once(k,J),j.listenerCount(k)>1)return;_.nextTick(c,j)}function c(j){let J=!1;function X(W){if(J){g(j,W!==null&&W!==void 0?W:new P);return}J=!0;let{_readableState:Z,_writableState:V}=j,M=V||Z;if(Z)Z.constructed=!0;if(V)V.constructed=!0;if(M.destroyed)j.emit(w,W);else if(W)g(j,W,!0);else _.nextTick(o,j)}try{j._construct((W)=>{_.nextTick(X,W)})}catch(W){_.nextTick(X,W)}}function o(j){j.emit(k)}function Q(j){return(j===null||j===void 0?void 0:j.setHeader)&&typeof j.abort==="function"}function U(j){j.emit("close")}function p(j,J){j.emit("error",J),_.nextTick(U,j)}function s(j,J){if(!j||H(j))return;if(!J&&!T(j))J=new O;if(f(j))j.socket=null,j.destroy(J);else if(Q(j))j.abort();else if(Q(j.req))j.req.abort();else if(typeof j.destroy==="function")j.destroy(J);else if(typeof j.close==="function")j.close();else if(J)_.nextTick(p,j,J);else _.nextTick(U,j);if(!j.destroyed)j[z]=!0}q.exports={construct:y,destroyer:s,destroy:N,undestroy:L,errorOrDestroy:g}}),YH=V6(($,q)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:K}=x6(),{EventEmitter:P}=(Q7(),J6(a7));function O(z){P.call(this,z)}K(O.prototype,P.prototype),K(O,P),O.prototype.pipe=function(z,H){let T=this;function f(D){if(z.writable&&z.write(D)===!1&&T.pause)T.pause()}T.on("data",f);function w(){if(T.readable&&T.resume)T.resume()}if(z.on("drain",w),!z._isStdio&&(!H||H.end!==!1))T.on("end",S),T.on("close",N);let k=!1;function S(){if(k)return;k=!0,z.end()}function N(){if(k)return;if(k=!0,typeof z.destroy==="function")z.destroy()}function h(D){if(E(),P.listenerCount(this,"error")===0)this.emit("error",D)}Y(T,"error",h),Y(z,"error",h);function E(){T.removeListener("data",f),z.removeListener("drain",w),T.removeListener("end",S),T.removeListener("close",N),T.removeListener("error",h),z.removeListener("error",h),T.removeListener("end",E),T.removeListener("close",E),z.removeListener("close",E)}return T.on("end",E),T.on("close",E),z.on("close",E),z.emit("pipe",T),z};function Y(z,H,T){if(typeof z.prependListener==="function")return z.prependListener(H,T);if(!z._events||!z._events[H])z.on(H,T);else if(_(z._events[H]))z._events[H].unshift(T);else z._events[H]=[T,z._events[H]]}q.exports={Stream:O,prependListener:Y}}),T2=V6(($,q)=>{var{SymbolDispose:_}=x6(),{AbortError:K,codes:P}=mq(),{isNodeStream:O,isWebStream:Y,kControllerErrorFunction:z}=M_(),H=_K(),{ERR_INVALID_ARG_TYPE:T}=P,f,w=(k,S)=>{if(typeof k!=="object"||!("aborted"in k))throw new T(S,"AbortSignal",k)};q.exports.addAbortSignal=function(k,S){if(w(k,"signal"),!O(S)&&!Y(S))throw new T("stream",["ReadableStream","WritableStream","Stream"],S);return q.exports.addAbortSignalNoValidate(k,S)},q.exports.addAbortSignalNoValidate=function(k,S){if(typeof k!=="object"||!("aborted"in k))return S;let N=O(S)?()=>{S.destroy(new K(void 0,{cause:k.reason}))}:()=>{S[z](new K(void 0,{cause:k.reason}))};if(k.aborted)N();else{f=f||q8().addAbortListener;let h=f(k,N);H(S,h[_])}return S}}),Xn=V6(($,q)=>{var{StringPrototypeSlice:_,SymbolIterator:K,TypedArrayPrototypeSet:P,Uint8Array:O}=x6(),{Buffer:Y}=(wq(),J6(Tq)),{inspect:z}=q8();q.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(H){let T={data:H,next:null};if(this.length>0)this.tail.next=T;else this.head=T;this.tail=T,++this.length}unshift(H){let T={data:H,next:this.head};if(this.length===0)this.tail=T;this.head=T,++this.length}shift(){if(this.length===0)return;let H=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,H}clear(){this.head=this.tail=null,this.length=0}join(H){if(this.length===0)return"";let T=this.head,f=""+T.data;while((T=T.next)!==null)f+=H+T.data;return f}concat(H){if(this.length===0)return Y.alloc(0);let T=Y.allocUnsafe(H>>>0),f=this.head,w=0;while(f)P(T,f.data,w),w+=f.data.length,f=f.next;return T}consume(H,T){let f=this.head.data;if(H<f.length){let w=f.slice(0,H);return this.head.data=f.slice(H),w}if(H===f.length)return this.shift();return T?this._getString(H):this._getBuffer(H)}first(){return this.head.data}*[K](){for(let H=this.head;H;H=H.next)yield H.data}_getString(H){let T="",f=this.head,w=0;do{let k=f.data;if(H>k.length)T+=k,H-=k.length;else{if(H===k.length)if(T+=k,++w,f.next)this.head=f.next;else this.head=this.tail=null;else T+=_(k,0,H),this.head=f,f.data=_(k,H);break}++w}while((f=f.next)!==null);return this.length-=w,T}_getBuffer(H){let T=Y.allocUnsafe(H),f=H,w=this.head,k=0;do{let S=w.data;if(H>S.length)P(T,S,f-H),H-=S.length;else{if(H===S.length)if(P(T,S,f-H),++k,w.next)this.head=w.next;else this.head=this.tail=null;else P(T,new O(S.buffer,S.byteOffset,H),f-H),this.head=w,w.data=S.slice(H);break}++k}while((w=w.next)!==null);return this.length-=k,T}[Symbol.for("nodejs.util.inspect.custom")](H,T){return z(this,{...T,depth:0,customInspect:!1})}}}),w2=V6(($,q)=>{var{MathFloor:_,NumberIsInteger:K}=x6(),{validateInteger:P}=s7(),{ERR_INVALID_ARG_VALUE:O}=mq().codes,Y=16384,z=16;function H(k,S,N){return k.highWaterMark!=null?k.highWaterMark:S?k[N]:null}function T(k){return k?z:Y}function f(k,S){if(P(S,"value",0),k)z=S;else Y=S}function w(k,S,N,h){let E=H(S,h,N);if(E!=null){if(!K(E)||E<0){let D=h?`options.${N}`:"options.highWaterMark";throw new O(D,E)}return _(E)}return T(k.objectMode)}q.exports={getHighWaterMark:w,getDefaultHighWaterMark:T,setDefaultHighWaterMark:f}}),An=V6(($,q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=(wq(),J6(Tq)),K=_.Buffer;function P(Y,z){for(var H in Y)z[H]=Y[H]}if(K.from&&K.alloc&&K.allocUnsafe&&K.allocUnsafeSlow)q.exports=_;else P(_,$),$.Buffer=O;function O(Y,z,H){return K(Y,z,H)}O.prototype=Object.create(K.prototype),P(K,O),O.from=function(Y,z,H){if(typeof Y==="number")throw TypeError("Argument must not be a number");return K(Y,z,H)},O.alloc=function(Y,z,H){if(typeof Y!=="number")throw TypeError("Argument must be a number");var T=K(Y);if(z!==void 0)if(typeof H==="string")T.fill(z,H);else T.fill(z);else T.fill(0);return T},O.allocUnsafe=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return K(Y)},O.allocUnsafeSlow=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return _.SlowBuffer(Y)}}),kn=V6(($)=>{var q=An().Buffer,_=q.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function K(I){if(!I)return"utf8";var L;while(!0)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(L)return;I=(""+I).toLowerCase(),L=!0}}function P(I){var L=K(I);if(typeof L!=="string"&&(q.isEncoding===_||!_(I)))throw Error("Unknown encoding: "+I);return L||I}$.StringDecoder=O;function O(I){this.encoding=P(I);var L;switch(this.encoding){case"utf16le":this.text=k,this.end=S,L=4;break;case"utf8":this.fillLast=T,L=4;break;case"base64":this.text=N,this.end=h,L=3;break;default:this.write=E,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=q.allocUnsafe(L)}O.prototype.write=function(I){if(I.length===0)return"";var L,g;if(this.lastNeed){if(L=this.fillLast(I),L===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;if(g<I.length)return L?L+this.text(I,g):this.text(I,g);return L||""},O.prototype.end=w,O.prototype.text=f,O.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function Y(I){if(I<=127)return 0;else if(I>>5===6)return 2;else if(I>>4===14)return 3;else if(I>>3===30)return 4;return I>>6===2?-1:-2}function z(I,L,g){var y=L.length-1;if(y<g)return 0;var c=Y(L[y]);if(c>=0){if(c>0)I.lastNeed=c-1;return c}if(--y<g||c===-2)return 0;if(c=Y(L[y]),c>=0){if(c>0)I.lastNeed=c-2;return c}if(--y<g||c===-2)return 0;if(c=Y(L[y]),c>=0){if(c>0)if(c===2)c=0;else I.lastNeed=c-3;return c}return 0}function H(I,L,g){if((L[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&L.length>2){if((L[2]&192)!==128)return I.lastNeed=2,""}}}function T(I){var L=this.lastTotal-this.lastNeed,g=H(this,I,L);if(g!==void 0)return g;if(this.lastNeed<=I.length)return I.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,L,0,I.length),this.lastNeed-=I.length}function f(I,L){var g=z(this,I,L);if(!this.lastNeed)return I.toString("utf8",L);this.lastTotal=g;var y=I.length-(g-this.lastNeed);return I.copy(this.lastChar,0,y),I.toString("utf8",L,y)}function w(I){var L=I&&I.length?this.write(I):"";if(this.lastNeed)return L+"";return L}function k(I,L){if((I.length-L)%2===0){var g=I.toString("utf16le",L);if(g){var y=g.charCodeAt(g.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",L,I.length-1)}function S(I){var L=I&&I.length?this.write(I):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,g)}return L}function N(I,L){var g=(I.length-L)%3;if(g===0)return I.toString("base64",L);if(this.lastNeed=3-g,this.lastTotal=3,g===1)this.lastChar[0]=I[I.length-1];else this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1];return I.toString("base64",L,I.length-g)}function h(I){var L=I&&I.length?this.write(I):"";if(this.lastNeed)return L+this.lastChar.toString("base64",0,3-this.lastNeed);return L}function E(I){return I.toString(this.encoding)}function D(I){return I&&I.length?this.write(I):""}}),D0=V6(($,q)=>{var _=pK(),{PromisePrototypeThen:K,SymbolAsyncIterator:P,SymbolIterator:O}=x6(),{Buffer:Y}=(wq(),J6(Tq)),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_NULL_VALUES:H}=mq().codes;function T(f,w,k){let S;if(typeof w==="string"||w instanceof Y)return new f({objectMode:!0,...k,read(){this.push(w),this.push(null)}});let N;if(w&&w[P])N=!0,S=w[P]();else if(w&&w[O])N=!1,S=w[O]();else throw new z("iterable",["Iterable"],w);let h=new f({objectMode:!0,highWaterMark:1,...k}),E=!1;h._read=function(){if(!E)E=!0,I()},h._destroy=function(L,g){K(D(L),()=>_.nextTick(g,L),(y)=>_.nextTick(g,y||L))};async function D(L){let g=L!==void 0&&L!==null,y=typeof S.throw==="function";if(g&&y){let{value:c,done:o}=await S.throw(L);if(await c,o)return}if(typeof S.return==="function"){let{value:c}=await S.return();await c}}async function I(){for(;;){try{let{value:L,done:g}=N?await S.next():S.next();if(g)h.push(null);else{let y=L&&typeof L.then==="function"?await L:L;if(y===null)throw E=!1,new H;else if(h.push(y))continue;else E=!1}}catch(L){h.destroy(L)}break}}return h}q.exports=T}),f2=V6(($,q)=>{var _=pK(),{ArrayPrototypeIndexOf:K,NumberIsInteger:P,NumberIsNaN:O,NumberParseInt:Y,ObjectDefineProperties:z,ObjectKeys:H,ObjectSetPrototypeOf:T,Promise:f,SafeSet:w,SymbolAsyncDispose:k,SymbolAsyncIterator:S,Symbol:N}=x6();q.exports=t,t.ReadableState=H$;var{EventEmitter:h}=(Q7(),J6(a7)),{Stream:E,prependListener:D}=YH(),{Buffer:I}=(wq(),J6(Tq)),{addAbortSignal:L}=T2(),g=_K(),y=q8().debuglog("stream",(u)=>{y=u}),c=Xn(),o=n4(),{getHighWaterMark:Q,getDefaultHighWaterMark:U}=w2(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:s,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:X,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:W},AbortError:Z}=mq(),{validateObject:V}=s7(),M=N("kPaused"),{StringDecoder:A}=kn(),v=D0();T(t.prototype,E.prototype),T(t,E);var G=()=>{},{errorOrDestroy:R}=o,C=1,b=2,x=4,l=8,a=16,f$=32,q$=64,B=128,v$=256,e=512,P$=1024,o$=2048,m=4096,r=8192,J$=16384,$$=32768,_$=65536,Y$=131072,d=262144;function n(u){return{enumerable:!1,get(){return(this.state&u)!==0},set(i){if(i)this.state|=u;else this.state&=~u}}}z(H$.prototype,{objectMode:n(C),ended:n(b),endEmitted:n(x),reading:n(l),constructed:n(a),sync:n(f$),needReadable:n(q$),emittedReadable:n(B),readableListening:n(v$),resumeScheduled:n(e),errorEmitted:n(P$),emitClose:n(o$),autoDestroy:n(m),destroyed:n(r),closed:n(J$),closeEmitted:n($$),multiAwaitDrain:n(_$),readingMore:n(Y$),dataEmitted:n(d)});function H$(u,i,K$){if(typeof K$!=="boolean")K$=i instanceof S_();if(this.state=o$|m|a|f$,u&&u.objectMode)this.state|=C;if(K$&&u&&u.readableObjectMode)this.state|=C;if(this.highWaterMark=u?Q(this,u,"readableHighWaterMark",K$):U(!1),this.buffer=new c,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,u&&u.emitClose===!1)this.state&=~o$;if(u&&u.autoDestroy===!1)this.state&=~m;if(this.errored=null,this.defaultEncoding=u&&u.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,u&&u.encoding)this.decoder=new A(u.encoding),this.encoding=u.encoding}function t(u){if(!(this instanceof t))return new t(u);let i=this instanceof S_();if(this._readableState=new H$(u,this,i),u){if(typeof u.read==="function")this._read=u.read;if(typeof u.destroy==="function")this._destroy=u.destroy;if(typeof u.construct==="function")this._construct=u.construct;if(u.signal&&!i)L(u.signal,this)}E.call(this,u),o.construct(this,()=>{if(this._readableState.needReadable)M$(this,this._readableState)})}t.prototype.destroy=o.destroy,t.prototype._undestroy=o.undestroy,t.prototype._destroy=function(u,i){i(u)},t.prototype[h.captureRejectionSymbol]=function(u){this.destroy(u)},t.prototype[k]=function(){let u;if(!this.destroyed)u=this.readableEnded?null:new Z,this.destroy(u);return new f((i,K$)=>g(this,(O$)=>O$&&O$!==u?K$(O$):i(null)))},t.prototype.push=function(u,i){return F(this,u,i,!1)},t.prototype.unshift=function(u,i){return F(this,u,i,!0)};function F(u,i,K$,O$){y("readableAddChunk",i);let B$=u._readableState,G$;if((B$.state&C)===0){if(typeof i==="string"){if(K$=K$||B$.defaultEncoding,B$.encoding!==K$)if(O$&&B$.encoding)i=I.from(i,K$).toString(B$.encoding);else i=I.from(i,K$),K$=""}else if(i instanceof I)K$="";else if(E._isUint8Array(i))i=E._uint8ArrayToBuffer(i),K$="";else if(i!=null)G$=new s("chunk",["string","Buffer","Uint8Array"],i)}if(G$)R(u,G$);else if(i===null)B$.state&=~l,X$(u,B$);else if((B$.state&C)!==0||i&&i.length>0)if(O$)if((B$.state&x)!==0)R(u,new W);else if(B$.destroyed||B$.errored)return!1;else A$(u,B$,i,!0);else if(B$.ended)R(u,new X);else if(B$.destroyed||B$.errored)return!1;else if(B$.state&=~l,B$.decoder&&!K$)if(i=B$.decoder.write(i),B$.objectMode||i.length!==0)A$(u,B$,i,!1);else M$(u,B$);else A$(u,B$,i,!1);else if(!O$)B$.state&=~l,M$(u,B$);return!B$.ended&&(B$.length<B$.highWaterMark||B$.length===0)}function A$(u,i,K$,O$){if(i.flowing&&i.length===0&&!i.sync&&u.listenerCount("data")>0){if((i.state&_$)!==0)i.awaitDrainWriters.clear();else i.awaitDrainWriters=null;i.dataEmitted=!0,u.emit("data",K$)}else{if(i.length+=i.objectMode?1:K$.length,O$)i.buffer.unshift(K$);else i.buffer.push(K$);if((i.state&q$)!==0)k$(u)}M$(u,i)}t.prototype.isPaused=function(){let u=this._readableState;return u[M]===!0||u.flowing===!1},t.prototype.setEncoding=function(u){let i=new A(u);this._readableState.decoder=i,this._readableState.encoding=this._readableState.decoder.encoding;let K$=this._readableState.buffer,O$="";for(let B$ of K$)O$+=i.write(B$);if(K$.clear(),O$!=="")K$.push(O$);return this._readableState.length=O$.length,this};var W$=1073741824;function z$(u){if(u>W$)throw new J("size","<= 1GiB",u);else u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++;return u}function Z6(u,i){if(u<=0||i.length===0&&i.ended)return 0;if((i.state&C)!==0)return 1;if(O(u)){if(i.flowing&&i.length)return i.buffer.first().length;return i.length}if(u<=i.length)return u;return i.ended?i.length:0}t.prototype.read=function(u){if(y("read",u),u===void 0)u=NaN;else if(!P(u))u=Y(u,10);let i=this._readableState,K$=u;if(u>i.highWaterMark)i.highWaterMark=z$(u);if(u!==0)i.state&=~B;if(u===0&&i.needReadable&&((i.highWaterMark!==0?i.length>=i.highWaterMark:i.length>0)||i.ended)){if(y("read: emitReadable",i.length,i.ended),i.length===0&&i.ended)zq(this);else k$(this);return null}if(u=Z6(u,i),u===0&&i.ended){if(i.length===0)zq(this);return null}let O$=(i.state&q$)!==0;if(y("need readable",O$),i.length===0||i.length-u<i.highWaterMark)O$=!0,y("length less than watermark",O$);if(i.ended||i.reading||i.destroyed||i.errored||!i.constructed)O$=!1,y("reading, ended or constructing",O$);else if(O$){if(y("do read"),i.state|=l|f$,i.length===0)i.state|=q$;try{this._read(i.highWaterMark)}catch(G$){R(this,G$)}if(i.state&=~f$,!i.reading)u=Z6(K$,i)}let B$;if(u>0)B$=R$(u,i);else B$=null;if(B$===null)i.needReadable=i.length<=i.highWaterMark,u=0;else if(i.length-=u,i.multiAwaitDrain)i.awaitDrainWriters.clear();else i.awaitDrainWriters=null;if(i.length===0){if(!i.ended)i.needReadable=!0;if(K$!==u&&i.ended)zq(this)}if(B$!==null&&!i.errorEmitted&&!i.closeEmitted)i.dataEmitted=!0,this.emit("data",B$);return B$};function X$(u,i){if(y("onEofChunk"),i.ended)return;if(i.decoder){let K$=i.decoder.end();if(K$&&K$.length)i.buffer.push(K$),i.length+=i.objectMode?1:K$.length}if(i.ended=!0,i.sync)k$(u);else i.needReadable=!1,i.emittedReadable=!0,o6(u)}function k$(u){let i=u._readableState;if(y("emitReadable",i.needReadable,i.emittedReadable),i.needReadable=!1,!i.emittedReadable)y("emitReadable",i.flowing),i.emittedReadable=!0,_.nextTick(o6,u)}function o6(u){let i=u._readableState;if(y("emitReadable_",i.destroyed,i.length,i.ended),!i.destroyed&&!i.errored&&(i.length||i.ended))u.emit("readable"),i.emittedReadable=!1;i.needReadable=!i.flowing&&!i.ended&&i.length<=i.highWaterMark,h$(u)}function M$(u,i){if(!i.readingMore&&i.constructed)i.readingMore=!0,_.nextTick(S$,u,i)}function S$(u,i){while(!i.reading&&!i.ended&&(i.length<i.highWaterMark||i.flowing&&i.length===0)){let K$=i.length;if(y("maybeReadMore read 0"),u.read(0),K$===i.length)break}i.readingMore=!1}t.prototype._read=function(u){throw new j("_read()")},t.prototype.pipe=function(u,i){let K$=this,O$=this._readableState;if(O$.pipes.length===1){if(!O$.multiAwaitDrain)O$.multiAwaitDrain=!0,O$.awaitDrainWriters=new w(O$.awaitDrainWriters?[O$.awaitDrainWriters]:[])}O$.pipes.push(u),y("pipe count=%d opts=%j",O$.pipes.length,i);let B$=(!i||i.end!==!1)&&u!==_.stdout&&u!==_.stderr?V$:j6;if(O$.endEmitted)_.nextTick(B$);else K$.once("end",B$);u.on("unpipe",G$);function G$(E6,S6){if(y("onunpipe"),E6===K$){if(S6&&S6.hasUnpiped===!1)S6.hasUnpiped=!0,p$()}}function V$(){y("onend"),u.end()}let p6,D$=!1;function p$(){if(y("cleanup"),u.removeListener("close",c6),u.removeListener("finish",W6),p6)u.removeListener("drain",p6);if(u.removeListener("error",C$),u.removeListener("unpipe",G$),K$.removeListener("end",V$),K$.removeListener("end",j6),K$.removeListener("data",L$),D$=!0,p6&&O$.awaitDrainWriters&&(!u._writableState||u._writableState.needDrain))p6()}function Zq(){if(!D$){if(O$.pipes.length===1&&O$.pipes[0]===u)y("false write response, pause",0),O$.awaitDrainWriters=u,O$.multiAwaitDrain=!1;else if(O$.pipes.length>1&&O$.pipes.includes(u))y("false write response, pause",O$.awaitDrainWriters.size),O$.awaitDrainWriters.add(u);K$.pause()}if(!p6)p6=Sq(K$,u),u.on("drain",p6)}K$.on("data",L$);function L$(E6){y("ondata");let S6=u.write(E6);if(y("dest.write",S6),S6===!1)Zq()}function C$(E6){if(y("onerror",E6),j6(),u.removeListener("error",C$),u.listenerCount("error")===0){let S6=u._writableState||u._readableState;if(S6&&!S6.errorEmitted)R(u,E6);else u.emit("error",E6)}}D(u,"error",C$);function c6(){u.removeListener("finish",W6),j6()}u.once("close",c6);function W6(){y("onfinish"),u.removeListener("close",c6),j6()}u.once("finish",W6);function j6(){y("unpipe"),K$.unpipe(u)}if(u.emit("pipe",K$),u.writableNeedDrain===!0)Zq();else if(!O$.flowing)y("pipe resume"),K$.resume();return u};function Sq(u,i){return function(){let K$=u._readableState;if(K$.awaitDrainWriters===i)y("pipeOnDrain",1),K$.awaitDrainWriters=null;else if(K$.multiAwaitDrain)y("pipeOnDrain",K$.awaitDrainWriters.size),K$.awaitDrainWriters.delete(i);if((!K$.awaitDrainWriters||K$.awaitDrainWriters.size===0)&&u.listenerCount("data"))u.resume()}}t.prototype.unpipe=function(u){let i=this._readableState,K$={hasUnpiped:!1};if(i.pipes.length===0)return this;if(!u){let B$=i.pipes;i.pipes=[],this.pause();for(let G$=0;G$<B$.length;G$++)B$[G$].emit("unpipe",this,{hasUnpiped:!1});return this}let O$=K(i.pipes,u);if(O$===-1)return this;if(i.pipes.splice(O$,1),i.pipes.length===0)this.pause();return u.emit("unpipe",this,K$),this},t.prototype.on=function(u,i){let K$=E.prototype.on.call(this,u,i),O$=this._readableState;if(u==="data"){if(O$.readableListening=this.listenerCount("readable")>0,O$.flowing!==!1)this.resume()}else if(u==="readable"){if(!O$.endEmitted&&!O$.readableListening){if(O$.readableListening=O$.needReadable=!0,O$.flowing=!1,O$.emittedReadable=!1,y("on readable",O$.length,O$.reading),O$.length)k$(this);else if(!O$.reading)_.nextTick(g$,this)}}return K$},t.prototype.addListener=t.prototype.on,t.prototype.removeListener=function(u,i){let K$=E.prototype.removeListener.call(this,u,i);if(u==="readable")_.nextTick(E$,this);return K$},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(u){let i=E.prototype.removeAllListeners.apply(this,arguments);if(u==="readable"||u===void 0)_.nextTick(E$,this);return i};function E$(u){let i=u._readableState;if(i.readableListening=u.listenerCount("readable")>0,i.resumeScheduled&&i[M]===!1)i.flowing=!0;else if(u.listenerCount("data")>0)u.resume();else if(!i.readableListening)i.flowing=null}function g$(u){y("readable nexttick read 0"),u.read(0)}t.prototype.resume=function(){let u=this._readableState;if(!u.flowing)y("resume"),u.flowing=!u.readableListening,Mq(this,u);return u[M]=!1,this};function Mq(u,i){if(!i.resumeScheduled)i.resumeScheduled=!0,_.nextTick(b$,u,i)}function b$(u,i){if(y("resume",i.reading),!i.reading)u.read(0);if(i.resumeScheduled=!1,u.emit("resume"),h$(u),i.flowing&&!i.reading)u.read(0)}t.prototype.pause=function(){if(y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)y("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[M]=!0,this};function h$(u){let i=u._readableState;y("flow",i.flowing);while(i.flowing&&u.read()!==null);}t.prototype.wrap=function(u){let i=!1;u.on("data",(O$)=>{if(!this.push(O$)&&u.pause)i=!0,u.pause()}),u.on("end",()=>{this.push(null)}),u.on("error",(O$)=>{R(this,O$)}),u.on("close",()=>{this.destroy()}),u.on("destroy",()=>{this.destroy()}),this._read=()=>{if(i&&u.resume)i=!1,u.resume()};let K$=H(u);for(let O$=1;O$<K$.length;O$++){let B$=K$[O$];if(this[B$]===void 0&&typeof u[B$]==="function")this[B$]=u[B$].bind(u)}return this},t.prototype[S]=function(){return fq(this)},t.prototype.iterator=function(u){if(u!==void 0)V(u,"options");return fq(this,u)};function fq(u,i){if(typeof u.read!=="function")u=t.wrap(u,{objectMode:!0});let K$=y$(u,i);return K$.stream=u,K$}async function*y$(u,i){let K$=G;function O$(V$){if(this===u)K$(),K$=G;else K$=V$}u.on("readable",O$);let B$,G$=g(u,{writable:!1},(V$)=>{B$=V$?p(B$,V$):null,K$(),K$=G});try{while(!0){let V$=u.destroyed?null:u.read();if(V$!==null)yield V$;else if(B$)throw B$;else if(B$===null)return;else await new f(O$)}}catch(V$){throw B$=p(B$,V$),B$}finally{if((B$||(i===null||i===void 0?void 0:i.destroyOnReturn)!==!1)&&(B$===void 0||u._readableState.autoDestroy))o.destroyer(u,null);else u.off("readable",O$),G$()}}z(t.prototype,{readable:{__proto__:null,get(){let u=this._readableState;return!!u&&u.readable!==!1&&!u.destroyed&&!u.errorEmitted&&!u.endEmitted},set(u){if(this._readableState)this._readableState.readable=!!u}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){if(this._readableState)this._readableState.flowing=u}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(u){if(!this._readableState)return;this._readableState.destroyed=u}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),z(H$.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[M]!==!1},set(u){this[M]=!!u}}}),t._fromList=R$;function R$(u,i){if(i.length===0)return null;let K$;if(i.objectMode)K$=i.buffer.shift();else if(!u||u>=i.length){if(i.decoder)K$=i.buffer.join("");else if(i.buffer.length===1)K$=i.buffer.first();else K$=i.buffer.concat(i.length);i.buffer.clear()}else K$=i.buffer.consume(u,i.decoder);return K$}function zq(u){let i=u._readableState;if(y("endReadable",i.endEmitted),!i.endEmitted)i.ended=!0,_.nextTick(u$,i,u)}function u$(u,i){if(y("endReadableNT",u.endEmitted,u.length),!u.errored&&!u.closeEmitted&&!u.endEmitted&&u.length===0){if(u.endEmitted=!0,i.emit("end"),i.writable&&i.allowHalfOpen===!1)_.nextTick(x$,i);else if(u.autoDestroy){let K$=i._writableState;if(!K$||K$.autoDestroy&&(K$.finished||K$.writable===!1))i.destroy()}}}function x$(u){if(u.writable&&!u.writableEnded&&!u.destroyed)u.end()}t.from=function(u,i){return v(t,u,i)};var Wq;function I$(){if(Wq===void 0)Wq={};return Wq}t.fromWeb=function(u,i){return I$().newStreamReadableFromReadableStream(u,i)},t.toWeb=function(u,i){return I$().newReadableStreamFromStreamReadable(u,i)},t.wrap=function(u,i){var K$,O$;return new t({objectMode:(K$=(O$=u.readableObjectMode)!==null&&O$!==void 0?O$:u.objectMode)!==null&&K$!==void 0?K$:!0,...i,destroy(B$,G$){o.destroyer(u,B$),G$(B$)}}).wrap(u)}}),jH=V6(($,q)=>{var _=pK(),{ArrayPrototypeSlice:K,Error:P,FunctionPrototypeSymbolHasInstance:O,ObjectDefineProperty:Y,ObjectDefineProperties:z,ObjectSetPrototypeOf:H,StringPrototypeToLowerCase:T,Symbol:f,SymbolHasInstance:w}=x6();q.exports=V,V.WritableState=W;var{EventEmitter:k}=(Q7(),J6(a7)),S=YH().Stream,{Buffer:N}=(wq(),J6(Tq)),h=n4(),{addAbortSignal:E}=T2(),{getHighWaterMark:D,getDefaultHighWaterMark:I}=w2(),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:g,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:c,ERR_STREAM_DESTROYED:o,ERR_STREAM_ALREADY_FINISHED:Q,ERR_STREAM_NULL_VALUES:U,ERR_STREAM_WRITE_AFTER_END:p,ERR_UNKNOWN_ENCODING:s}=mq().codes,{errorOrDestroy:j}=h;H(V.prototype,S.prototype),H(V,S);function J(){}var X=f("kOnFinished");function W(m,r,J$){if(typeof J$!=="boolean")J$=r instanceof S_();if(this.objectMode=!!(m&&m.objectMode),J$)this.objectMode=this.objectMode||!!(m&&m.writableObjectMode);this.highWaterMark=m?D(this,m,"writableHighWaterMark",J$):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let $$=!!(m&&m.decodeStrings===!1);this.decodeStrings=!$$,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=R.bind(void 0,r),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Z(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function Z(m){m.buffered=[],m.bufferedIndex=0,m.allBuffers=!0,m.allNoop=!0}W.prototype.getBuffer=function(){return K(this.buffered,this.bufferedIndex)},Y(W.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function V(m){let r=this instanceof S_();if(!r&&!O(V,this))return new V(m);if(this._writableState=new W(m,this,r),m){if(typeof m.write==="function")this._write=m.write;if(typeof m.writev==="function")this._writev=m.writev;if(typeof m.destroy==="function")this._destroy=m.destroy;if(typeof m.final==="function")this._final=m.final;if(typeof m.construct==="function")this._construct=m.construct;if(m.signal)E(m.signal,this)}S.call(this,m),h.construct(this,()=>{let J$=this._writableState;if(!J$.writing)l(this,J$);B(this,J$)})}Y(V,w,{__proto__:null,value:function(m){if(O(this,m))return!0;if(this!==V)return!1;return m&&m._writableState instanceof W}}),V.prototype.pipe=function(){j(this,new c)};function M(m,r,J$,$$){let _$=m._writableState;if(typeof J$==="function")$$=J$,J$=_$.defaultEncoding;else{if(!J$)J$=_$.defaultEncoding;else if(J$!=="buffer"&&!N.isEncoding(J$))throw new s(J$);if(typeof $$!=="function")$$=J}if(r===null)throw new U;else if(!_$.objectMode)if(typeof r==="string"){if(_$.decodeStrings!==!1)r=N.from(r,J$),J$="buffer"}else if(r instanceof N)J$="buffer";else if(S._isUint8Array(r))r=S._uint8ArrayToBuffer(r),J$="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],r);let Y$;if(_$.ending)Y$=new p;else if(_$.destroyed)Y$=new o("write");if(Y$)return _.nextTick($$,Y$),j(m,Y$,!0),Y$;return _$.pendingcb++,A(m,_$,r,J$,$$)}V.prototype.write=function(m,r,J$){return M(this,m,r,J$)===!0},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){let m=this._writableState;if(m.corked){if(m.corked--,!m.writing)l(this,m)}},V.prototype.setDefaultEncoding=function(m){if(typeof m==="string")m=T(m);if(!N.isEncoding(m))throw new s(m);return this._writableState.defaultEncoding=m,this};function A(m,r,J$,$$,_$){let Y$=r.objectMode?1:J$.length;r.length+=Y$;let d=r.length<r.highWaterMark;if(!d)r.needDrain=!0;if(r.writing||r.corked||r.errored||!r.constructed){if(r.buffered.push({chunk:J$,encoding:$$,callback:_$}),r.allBuffers&&$$!=="buffer")r.allBuffers=!1;if(r.allNoop&&_$!==J)r.allNoop=!1}else r.writelen=Y$,r.writecb=_$,r.writing=!0,r.sync=!0,m._write(J$,$$,r.onwrite),r.sync=!1;return d&&!r.errored&&!r.destroyed}function v(m,r,J$,$$,_$,Y$,d){if(r.writelen=$$,r.writecb=d,r.writing=!0,r.sync=!0,r.destroyed)r.onwrite(new o("write"));else if(J$)m._writev(_$,r.onwrite);else m._write(_$,Y$,r.onwrite);r.sync=!1}function G(m,r,J$,$$){--r.pendingcb,$$(J$),x(r),j(m,J$)}function R(m,r){let J$=m._writableState,$$=J$.sync,_$=J$.writecb;if(typeof _$!=="function"){j(m,new y);return}if(J$.writing=!1,J$.writecb=null,J$.length-=J$.writelen,J$.writelen=0,r){if(r.stack,!J$.errored)J$.errored=r;if(m._readableState&&!m._readableState.errored)m._readableState.errored=r;if($$)_.nextTick(G,m,J$,r,_$);else G(m,J$,r,_$)}else{if(J$.buffered.length>J$.bufferedIndex)l(m,J$);if($$)if(J$.afterWriteTickInfo!==null&&J$.afterWriteTickInfo.cb===_$)J$.afterWriteTickInfo.count++;else J$.afterWriteTickInfo={count:1,cb:_$,stream:m,state:J$},_.nextTick(C,J$.afterWriteTickInfo);else b(m,J$,1,_$)}}function C({stream:m,state:r,count:J$,cb:$$}){return r.afterWriteTickInfo=null,b(m,r,J$,$$)}function b(m,r,J$,$$){if(!r.ending&&!m.destroyed&&r.length===0&&r.needDrain)r.needDrain=!1,m.emit("drain");while(J$-- >0)r.pendingcb--,$$();if(r.destroyed)x(r);B(m,r)}function x(m){if(m.writing)return;for(let _$=m.bufferedIndex;_$<m.buffered.length;++_$){var r;let{chunk:Y$,callback:d}=m.buffered[_$],n=m.objectMode?1:Y$.length;m.length-=n,d((r=m.errored)!==null&&r!==void 0?r:new o("write"))}let J$=m[X].splice(0);for(let _$=0;_$<J$.length;_$++){var $$;J$[_$](($$=m.errored)!==null&&$$!==void 0?$$:new o("end"))}Z(m)}function l(m,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;let{buffered:J$,bufferedIndex:$$,objectMode:_$}=r,Y$=J$.length-$$;if(!Y$)return;let d=$$;if(r.bufferProcessing=!0,Y$>1&&m._writev){r.pendingcb-=Y$-1;let n=r.allNoop?J:(t)=>{for(let F=d;F<J$.length;++F)J$[F].callback(t)},H$=r.allNoop&&d===0?J$:K(J$,d);H$.allBuffers=r.allBuffers,v(m,r,!0,r.length,H$,"",n),Z(r)}else{do{let{chunk:n,encoding:H$,callback:t}=J$[d];J$[d++]=null;let F=_$?1:n.length;v(m,r,!1,F,n,H$,t)}while(d<J$.length&&!r.writing);if(d===J$.length)Z(r);else if(d>256)J$.splice(0,d),r.bufferedIndex=0;else r.bufferedIndex=d}r.bufferProcessing=!1}V.prototype._write=function(m,r,J$){if(this._writev)this._writev([{chunk:m,encoding:r}],J$);else throw new g("_write()")},V.prototype._writev=null,V.prototype.end=function(m,r,J$){let $$=this._writableState;if(typeof m==="function")J$=m,m=null,r=null;else if(typeof r==="function")J$=r,r=null;let _$;if(m!==null&&m!==void 0){let Y$=M(this,m,r);if(Y$ instanceof P)_$=Y$}if($$.corked)$$.corked=1,this.uncork();if(_$);else if(!$$.errored&&!$$.ending)$$.ending=!0,B(this,$$,!0),$$.ended=!0;else if($$.finished)_$=new Q("end");else if($$.destroyed)_$=new o("end");if(typeof J$==="function")if(_$||$$.finished)_.nextTick(J$,_$);else $$[X].push(J$);return this};function a(m){return m.ending&&!m.destroyed&&m.constructed&&m.length===0&&!m.errored&&m.buffered.length===0&&!m.finished&&!m.writing&&!m.errorEmitted&&!m.closeEmitted}function f$(m,r){let J$=!1;function $$(_$){if(J$){j(m,_$!==null&&_$!==void 0?_$:y());return}if(J$=!0,r.pendingcb--,_$){let Y$=r[X].splice(0);for(let d=0;d<Y$.length;d++)Y$[d](_$);j(m,_$,r.sync)}else if(a(r))r.prefinished=!0,m.emit("prefinish"),r.pendingcb++,_.nextTick(v$,m,r)}r.sync=!0,r.pendingcb++;try{m._final($$)}catch(_$){$$(_$)}r.sync=!1}function q$(m,r){if(!r.prefinished&&!r.finalCalled)if(typeof m._final==="function"&&!r.destroyed)r.finalCalled=!0,f$(m,r);else r.prefinished=!0,m.emit("prefinish")}function B(m,r,J$){if(a(r)){if(q$(m,r),r.pendingcb===0){if(J$)r.pendingcb++,_.nextTick(($$,_$)=>{if(a(_$))v$($$,_$);else _$.pendingcb--},m,r);else if(a(r))r.pendingcb++,v$(m,r)}}}function v$(m,r){r.pendingcb--,r.finished=!0;let J$=r[X].splice(0);for(let $$=0;$$<J$.length;$$++)J$[$$]();if(m.emit("finish"),r.autoDestroy){let $$=m._readableState;if(!$$||$$.autoDestroy&&($$.endEmitted||$$.readable===!1))m.destroy()}}z(V.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(m){if(this._writableState)this._writableState.destroyed=m}},writable:{__proto__:null,get(){let m=this._writableState;return!!m&&m.writable!==!1&&!m.destroyed&&!m.errored&&!m.ending&&!m.ended},set(m){if(this._writableState)this._writableState.writable=!!m}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let m=this._writableState;if(!m)return!1;return!m.destroyed&&!m.ending&&m.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var e=h.destroy;V.prototype.destroy=function(m,r){let J$=this._writableState;if(!J$.destroyed&&(J$.bufferedIndex<J$.buffered.length||J$[X].length))_.nextTick(x,J$);return e.call(this,m,r),this},V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(m,r){r(m)},V.prototype[k.captureRejectionSymbol]=function(m){this.destroy(m)};var P$;function o$(){if(P$===void 0)P$={};return P$}V.fromWeb=function(m,r){return o$().newStreamWritableFromWritableStream(m,r)},V.toWeb=function(m){return o$().newWritableStreamFromStreamWritable(m)}}),Gn=V6(($,q)=>{var _=pK(),K=(wq(),J6(Tq)),{isReadable:P,isWritable:O,isIterable:Y,isNodeStream:z,isReadableNodeStream:H,isWritableNodeStream:T,isDuplexNodeStream:f,isReadableStream:w,isWritableStream:k}=M_(),S=_K(),{AbortError:N,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:E}}=mq(),{destroyer:D}=n4(),I=S_(),L=f2(),g=jH(),{createDeferredPromise:y}=q8(),c=D0(),o=globalThis.Blob||K.Blob,Q=typeof o<"u"?function(X){return X instanceof o}:function(X){return!1},U=globalThis.AbortController||e7().AbortController,{FunctionPrototypeCall:p}=x6();class s extends I{constructor(X){super(X);if((X===null||X===void 0?void 0:X.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((X===null||X===void 0?void 0:X.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}q.exports=function X(W,Z){if(f(W))return W;if(H(W))return J({readable:W});if(T(W))return J({writable:W});if(z(W))return J({writable:!1,readable:!1});if(w(W))return J({readable:L.fromWeb(W)});if(k(W))return J({writable:g.fromWeb(W)});if(typeof W==="function"){let{value:M,write:A,final:v,destroy:G}=j(W);if(Y(M))return c(s,M,{objectMode:!0,write:A,final:v,destroy:G});let R=M===null||M===void 0?void 0:M.then;if(typeof R==="function"){let C,b=p(R,M,(x)=>{if(x!=null)throw new E("nully","body",x)},(x)=>{D(C,x)});return C=new s({objectMode:!0,readable:!1,write:A,final(x){v(async()=>{try{await b,_.nextTick(x,null)}catch(l){_.nextTick(x,l)}})},destroy:G})}throw new E("Iterable, AsyncIterable or AsyncFunction",Z,M)}if(Q(W))return X(W.arrayBuffer());if(Y(W))return c(s,W,{objectMode:!0,writable:!1});if(w(W===null||W===void 0?void 0:W.readable)&&k(W===null||W===void 0?void 0:W.writable))return s.fromWeb(W);if(typeof(W===null||W===void 0?void 0:W.writable)==="object"||typeof(W===null||W===void 0?void 0:W.readable)==="object"){let M=W!==null&&W!==void 0&&W.readable?H(W===null||W===void 0?void 0:W.readable)?W===null||W===void 0?void 0:W.readable:X(W.readable):void 0,A=W!==null&&W!==void 0&&W.writable?T(W===null||W===void 0?void 0:W.writable)?W===null||W===void 0?void 0:W.writable:X(W.writable):void 0;return J({readable:M,writable:A})}let V=W===null||W===void 0?void 0:W.then;if(typeof V==="function"){let M;return p(V,W,(A)=>{if(A!=null)M.push(A);M.push(null)},(A)=>{D(M,A)}),M=new s({objectMode:!0,writable:!1,read(){}})}throw new h(Z,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],W)};function j(X){let{promise:W,resolve:Z}=y(),V=new U,M=V.signal;return{value:X(async function*(){while(!0){let A=W;W=null;let{chunk:v,done:G,cb:R}=await A;if(_.nextTick(R),G)return;if(M.aborted)throw new N(void 0,{cause:M.reason});({promise:W,resolve:Z}=y()),yield v}}(),{signal:M}),write(A,v,G){let R=Z;Z=null,R({chunk:A,done:!1,cb:G})},final(A){let v=Z;Z=null,v({done:!0,cb:A})},destroy(A,v){V.abort(),v(A)}}}function J(X){let W=X.readable&&typeof X.readable.read!=="function"?L.wrap(X.readable):X.readable,Z=X.writable,V=!!P(W),M=!!O(Z),A,v,G,R,C;function b(x){let l=R;if(R=null,l)l(x);else if(x)C.destroy(x)}if(C=new s({readableObjectMode:!!(W!==null&&W!==void 0&&W.readableObjectMode),writableObjectMode:!!(Z!==null&&Z!==void 0&&Z.writableObjectMode),readable:V,writable:M}),M)S(Z,(x)=>{if(M=!1,x)D(W,x);b(x)}),C._write=function(x,l,a){if(Z.write(x,l))a();else A=a},C._final=function(x){Z.end(),v=x},Z.on("drain",function(){if(A){let x=A;A=null,x()}}),Z.on("finish",function(){if(v){let x=v;v=null,x()}});if(V)S(W,(x)=>{if(V=!1,x)D(W,x);b(x)}),W.on("readable",function(){if(G){let x=G;G=null,x()}}),W.on("end",function(){C.push(null)}),C._read=function(){while(!0){let x=W.read();if(x===null){G=C._read;return}if(!C.push(x))return}};return C._destroy=function(x,l){if(!x&&R!==null)x=new N;if(G=null,A=null,v=null,R===null)l(x);else R=l,D(Z,x),D(W,x)},C}}),S_=V6(($,q)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:K,ObjectKeys:P,ObjectSetPrototypeOf:O}=x6();q.exports=H;var Y=f2(),z=jH();O(H.prototype,Y.prototype),O(H,Y);{let k=P(z.prototype);for(let S=0;S<k.length;S++){let N=k[S];if(!H.prototype[N])H.prototype[N]=z.prototype[N]}}function H(k){if(!(this instanceof H))return new H(k);if(Y.call(this,k),z.call(this,k),k){if(this.allowHalfOpen=k.allowHalfOpen!==!1,k.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(k.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}_(H.prototype,{writable:{__proto__:null,...K(z.prototype,"writable")},writableHighWaterMark:{__proto__:null,...K(z.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...K(z.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...K(z.prototype,"writableBuffer")},writableLength:{__proto__:null,...K(z.prototype,"writableLength")},writableFinished:{__proto__:null,...K(z.prototype,"writableFinished")},writableCorked:{__proto__:null,...K(z.prototype,"writableCorked")},writableEnded:{__proto__:null,...K(z.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...K(z.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(k){if(this._readableState&&this._writableState)this._readableState.destroyed=k,this._writableState.destroyed=k}}});var T;function f(){if(T===void 0)T={};return T}H.fromWeb=function(k,S){return f().newStreamDuplexFromReadableWritablePair(k,S)},H.toWeb=function(k){return f().newReadableWritablePairFromDuplex(k)};var w;H.from=function(k){if(!w)w=Gn();return w(k,"body")}}),L0=V6(($,q)=>{var{ObjectSetPrototypeOf:_,Symbol:K}=x6();q.exports=H;var{ERR_METHOD_NOT_IMPLEMENTED:P}=mq().codes,O=S_(),{getHighWaterMark:Y}=w2();_(H.prototype,O.prototype),_(H,O);var z=K("kCallback");function H(w){if(!(this instanceof H))return new H(w);let k=w?Y(this,w,"readableHighWaterMark",!0):null;if(k===0)w={...w,highWaterMark:null,readableHighWaterMark:k,writableHighWaterMark:w.writableHighWaterMark||0};if(O.call(this,w),this._readableState.sync=!1,this[z]=null,w){if(typeof w.transform==="function")this._transform=w.transform;if(typeof w.flush==="function")this._flush=w.flush}this.on("prefinish",f)}function T(w){if(typeof this._flush==="function"&&!this.destroyed)this._flush((k,S)=>{if(k){if(w)w(k);else this.destroy(k);return}if(S!=null)this.push(S);if(this.push(null),w)w()});else if(this.push(null),w)w()}function f(){if(this._final!==T)T.call(this)}H.prototype._final=T,H.prototype._transform=function(w,k,S){throw new P("_transform()")},H.prototype._write=function(w,k,S){let N=this._readableState,h=this._writableState,E=N.length;this._transform(w,k,(D,I)=>{if(D){S(D);return}if(I!=null)this.push(I);if(h.ended||E===N.length||N.length<N.highWaterMark)S();else this[z]=S})},H.prototype._read=function(){if(this[z]){let w=this[z];this[z]=null,w()}}}),g0=V6(($,q)=>{var{ObjectSetPrototypeOf:_}=x6();q.exports=P;var K=L0();_(P.prototype,K.prototype),_(P,K);function P(O){if(!(this instanceof P))return new P(O);K.call(this,O)}P.prototype._transform=function(O,Y,z){z(null,O)}}),vH=V6(($,q)=>{var _=pK(),{ArrayIsArray:K,Promise:P,SymbolAsyncIterator:O,SymbolDispose:Y}=x6(),z=_K(),{once:H}=q8(),T=n4(),f=S_(),{aggregateTwoErrors:w,codes:{ERR_INVALID_ARG_TYPE:k,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:N,ERR_STREAM_DESTROYED:h,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:D}=mq(),{validateFunction:I,validateAbortSignal:L}=s7(),{isIterable:g,isReadable:y,isReadableNodeStream:c,isNodeStream:o,isTransformStream:Q,isWebStream:U,isReadableStream:p,isReadableFinished:s}=M_(),j=globalThis.AbortController||e7().AbortController,J,X,W;function Z(x,l,a){let f$=!1;x.on("close",()=>{f$=!0});let q$=z(x,{readable:l,writable:a},(B)=>{f$=!B});return{destroy:(B)=>{if(f$)return;f$=!0,T.destroyer(x,B||new h("pipe"))},cleanup:q$}}function V(x){return I(x[x.length-1],"streams[stream.length - 1]"),x.pop()}function M(x){if(g(x))return x;else if(c(x))return A(x);throw new k("val",["Readable","Iterable","AsyncIterable"],x)}async function*A(x){if(!X)X=f2();yield*X.prototype[O].call(x)}async function v(x,l,a,{end:f$}){let q$,B=null,v$=(o$)=>{if(o$)q$=o$;if(B){let m=B;B=null,m()}},e=()=>new P((o$,m)=>{if(q$)m(q$);else B=()=>{if(q$)m(q$);else o$()}});l.on("drain",v$);let P$=z(l,{readable:!1},v$);try{if(l.writableNeedDrain)await e();for await(let o$ of x)if(!l.write(o$))await e();if(f$)l.end(),await e();a()}catch(o$){a(q$!==o$?w(q$,o$):o$)}finally{P$(),l.off("drain",v$)}}async function G(x,l,a,{end:f$}){if(Q(l))l=l.writable;let q$=l.getWriter();try{for await(let B of x)await q$.ready,q$.write(B).catch(()=>{});if(await q$.ready,f$)await q$.close();a()}catch(B){try{await q$.abort(B),a(B)}catch(v$){a(v$)}}}function R(...x){return C(x,H(V(x)))}function C(x,l,a){if(x.length===1&&K(x[0]))x=x[0];if(x.length<2)throw new N("streams");let f$=new j,q$=f$.signal,B=a===null||a===void 0?void 0:a.signal,v$=[];L(B,"options.signal");function e(){_$(new D)}W=W||q8().addAbortListener;let P$;if(B)P$=W(B,e);let o$,m,r=[],J$=0;function $$(t){_$(t,--J$===0)}function _$(t,F){var A$;if(t&&(!o$||o$.code==="ERR_STREAM_PREMATURE_CLOSE"))o$=t;if(!o$&&!F)return;while(r.length)r.shift()(o$);if((A$=P$)===null||A$===void 0||A$[Y](),f$.abort(),F){if(!o$)v$.forEach((W$)=>W$());_.nextTick(l,o$,m)}}let Y$;for(let t=0;t<x.length;t++){let F=x[t],A$=t<x.length-1,W$=t>0,z$=A$||(a===null||a===void 0?void 0:a.end)!==!1,Z6=t===x.length-1;if(o(F)){let X$=function(k$){if(k$&&k$.name!=="AbortError"&&k$.code!=="ERR_STREAM_PREMATURE_CLOSE")$$(k$)};var d=X$;if(z$){let{destroy:k$,cleanup:o6}=Z(F,A$,W$);if(r.push(k$),y(F)&&Z6)v$.push(o6)}if(F.on("error",X$),y(F)&&Z6)v$.push(()=>{F.removeListener("error",X$)})}if(t===0)if(typeof F==="function"){if(Y$=F({signal:q$}),!g(Y$))throw new S("Iterable, AsyncIterable or Stream","source",Y$)}else if(g(F)||c(F)||Q(F))Y$=F;else Y$=f.from(F);else if(typeof F==="function"){if(Q(Y$)){var n;Y$=M((n=Y$)===null||n===void 0?void 0:n.readable)}else Y$=M(Y$);if(Y$=F(Y$,{signal:q$}),A$){if(!g(Y$,!0))throw new S("AsyncIterable",`transform[${t-1}]`,Y$)}else{var H$;if(!J)J=g0();let X$=new J({objectMode:!0}),k$=(H$=Y$)===null||H$===void 0?void 0:H$.then;if(typeof k$==="function")J$++,k$.call(Y$,(S$)=>{if(m=S$,S$!=null)X$.write(S$);if(z$)X$.end();_.nextTick($$)},(S$)=>{X$.destroy(S$),_.nextTick($$,S$)});else if(g(Y$,!0))J$++,v(Y$,X$,$$,{end:z$});else if(p(Y$)||Q(Y$)){let S$=Y$.readable||Y$;J$++,v(S$,X$,$$,{end:z$})}else throw new S("AsyncIterable or Promise","destination",Y$);Y$=X$;let{destroy:o6,cleanup:M$}=Z(Y$,!1,!0);if(r.push(o6),Z6)v$.push(M$)}}else if(o(F)){if(c(Y$)){J$+=2;let X$=b(Y$,F,$$,{end:z$});if(y(F)&&Z6)v$.push(X$)}else if(Q(Y$)||p(Y$)){let X$=Y$.readable||Y$;J$++,v(X$,F,$$,{end:z$})}else if(g(Y$))J$++,v(Y$,F,$$,{end:z$});else throw new k("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y$);Y$=F}else if(U(F)){if(c(Y$))J$++,G(M(Y$),F,$$,{end:z$});else if(p(Y$)||g(Y$))J$++,G(Y$,F,$$,{end:z$});else if(Q(Y$))J$++,G(Y$.readable,F,$$,{end:z$});else throw new k("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y$);Y$=F}else Y$=f.from(F)}if(q$!==null&&q$!==void 0&&q$.aborted||B!==null&&B!==void 0&&B.aborted)_.nextTick(e);return Y$}function b(x,l,a,{end:f$}){let q$=!1;if(l.on("close",()=>{if(!q$)a(new E)}),x.pipe(l,{end:!1}),f$){let v$=function(){q$=!0,l.end()};var B=v$;if(s(x))_.nextTick(v$);else x.once("end",v$)}else a();return z(x,{readable:!0,writable:!1},(v$)=>{let e=x._readableState;if(v$&&v$.code==="ERR_STREAM_PREMATURE_CLOSE"&&e&&e.ended&&!e.errored&&!e.errorEmitted)x.once("end",a).once("error",a);else a(v$)}),z(l,{readable:!1,writable:!0},a)}q.exports={pipelineImpl:C,pipeline:R}}),b0=V6(($,q)=>{var{pipeline:_}=vH(),K=S_(),{destroyer:P}=n4(),{isNodeStream:O,isReadable:Y,isWritable:z,isWebStream:H,isTransformStream:T,isWritableStream:f,isReadableStream:w}=M_(),{AbortError:k,codes:{ERR_INVALID_ARG_VALUE:S,ERR_MISSING_ARGS:N}}=mq(),h=_K();q.exports=function(...E){if(E.length===0)throw new N("streams");if(E.length===1)return K.from(E[0]);let D=[...E];if(typeof E[0]==="function")E[0]=K.from(E[0]);if(typeof E[E.length-1]==="function"){let j=E.length-1;E[j]=K.from(E[j])}for(let j=0;j<E.length;++j){if(!O(E[j])&&!H(E[j]))continue;if(j<E.length-1&&!(Y(E[j])||w(E[j])||T(E[j])))throw new S(`streams[${j}]`,D[j],"must be readable");if(j>0&&!(z(E[j])||f(E[j])||T(E[j])))throw new S(`streams[${j}]`,D[j],"must be writable")}let I,L,g,y,c;function o(j){let J=y;if(y=null,J)J(j);else if(j)c.destroy(j);else if(!s&&!p)c.destroy()}let Q=E[0],U=_(E,o),p=!!(z(Q)||f(Q)||T(Q)),s=!!(Y(U)||w(U)||T(U));if(c=new K({writableObjectMode:!!(Q!==null&&Q!==void 0&&Q.writableObjectMode),readableObjectMode:!!(U!==null&&U!==void 0&&U.readableObjectMode),writable:p,readable:s}),p){if(O(Q))c._write=function(J,X,W){if(Q.write(J,X))W();else I=W},c._final=function(J){Q.end(),L=J},Q.on("drain",function(){if(I){let J=I;I=null,J()}});else if(H(Q)){let J=(T(Q)?Q.writable:Q).getWriter();c._write=async function(X,W,Z){try{await J.ready,J.write(X).catch(()=>{}),Z()}catch(V){Z(V)}},c._final=async function(X){try{await J.ready,J.close().catch(()=>{}),L=X}catch(W){X(W)}}}let j=T(U)?U.readable:U;h(j,()=>{if(L){let J=L;L=null,J()}})}if(s){if(O(U))U.on("readable",function(){if(g){let j=g;g=null,j()}}),U.on("end",function(){c.push(null)}),c._read=function(){while(!0){let j=U.read();if(j===null){g=c._read;return}if(!c.push(j))return}};else if(H(U)){let j=(T(U)?U.readable:U).getReader();c._read=async function(){while(!0)try{let{value:J,done:X}=await j.read();if(!c.push(J))return;if(X){c.push(null);return}}catch{return}}}}return c._destroy=function(j,J){if(!j&&y!==null)j=new k;if(g=null,I=null,L=null,y===null)J(j);else if(y=J,O(U))P(U,j)},c}}),Vn=V6(($,q)=>{var _=globalThis.AbortController||e7().AbortController,{codes:{ERR_INVALID_ARG_VALUE:K,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:O,ERR_OUT_OF_RANGE:Y},AbortError:z}=mq(),{validateAbortSignal:H,validateInteger:T,validateObject:f}=s7(),w=x6().Symbol("kWeak"),k=x6().Symbol("kResistStopPropagation"),{finished:S}=_K(),N=b0(),{addAbortSignalNoValidate:h}=T2(),{isWritable:E,isNodeStream:D}=M_(),{deprecate:I}=q8(),{ArrayPrototypePush:L,Boolean:g,MathFloor:y,Number:c,NumberIsNaN:o,Promise:Q,PromiseReject:U,PromiseResolve:p,PromisePrototypeThen:s,Symbol:j}=x6(),J=j("kEmpty"),X=j("kEof");function W(B,v$){if(v$!=null)f(v$,"options");if((v$===null||v$===void 0?void 0:v$.signal)!=null)H(v$.signal,"options.signal");if(D(B)&&!E(B))throw new K("stream",B,"must be writable");let e=N(this,B);if(v$!==null&&v$!==void 0&&v$.signal)h(v$.signal,e);return e}function Z(B,v$){if(typeof B!=="function")throw new P("fn",["Function","AsyncFunction"],B);if(v$!=null)f(v$,"options");if((v$===null||v$===void 0?void 0:v$.signal)!=null)H(v$.signal,"options.signal");let e=1;if((v$===null||v$===void 0?void 0:v$.concurrency)!=null)e=y(v$.concurrency);let P$=e-1;if((v$===null||v$===void 0?void 0:v$.highWaterMark)!=null)P$=y(v$.highWaterMark);return T(e,"options.concurrency",1),T(P$,"options.highWaterMark",0),P$+=e,async function*(){let o$=q8().AbortSignalAny([v$===null||v$===void 0?void 0:v$.signal].filter(g)),m=this,r=[],J$={signal:o$},$$,_$,Y$=!1,d=0;function n(){Y$=!0,H$()}function H$(){d-=1,t()}function t(){if(_$&&!Y$&&d<e&&r.length<P$)_$(),_$=null}async function F(){try{for await(let A$ of m){if(Y$)return;if(o$.aborted)throw new z;try{if(A$=B(A$,J$),A$===J)continue;A$=p(A$)}catch(W$){A$=U(W$)}if(d+=1,s(A$,H$,n),r.push(A$),$$)$$(),$$=null;if(!Y$&&(r.length>=P$||d>=e))await new Q((W$)=>{_$=W$})}r.push(X)}catch(A$){let W$=U(A$);s(W$,H$,n),r.push(W$)}finally{if(Y$=!0,$$)$$(),$$=null}}F();try{while(!0){while(r.length>0){let A$=await r[0];if(A$===X)return;if(o$.aborted)throw new z;if(A$!==J)yield A$;r.shift(),t()}await new Q((A$)=>{$$=A$})}}finally{if(Y$=!0,_$)_$(),_$=null}}.call(this)}function V(B=void 0){if(B!=null)f(B,"options");if((B===null||B===void 0?void 0:B.signal)!=null)H(B.signal,"options.signal");return async function*(){let v$=0;for await(let P$ of this){var e;if(B!==null&&B!==void 0&&(e=B.signal)!==null&&e!==void 0&&e.aborted)throw new z({cause:B.signal.reason});yield[v$++,P$]}}.call(this)}async function M(B,v$=void 0){for await(let e of R.call(this,B,v$))return!0;return!1}async function A(B,v$=void 0){if(typeof B!=="function")throw new P("fn",["Function","AsyncFunction"],B);return!await M.call(this,async(...e)=>{return!await B(...e)},v$)}async function v(B,v$){for await(let e of R.call(this,B,v$))return e;return}async function G(B,v$){if(typeof B!=="function")throw new P("fn",["Function","AsyncFunction"],B);async function e(P$,o$){return await B(P$,o$),J}for await(let P$ of Z.call(this,e,v$));}function R(B,v$){if(typeof B!=="function")throw new P("fn",["Function","AsyncFunction"],B);async function e(P$,o$){if(await B(P$,o$))return P$;return J}return Z.call(this,e,v$)}class C extends O{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function b(B,v$,e){var P$;if(typeof B!=="function")throw new P("reducer",["Function","AsyncFunction"],B);if(e!=null)f(e,"options");if((e===null||e===void 0?void 0:e.signal)!=null)H(e.signal,"options.signal");let o$=arguments.length>1;if(e!==null&&e!==void 0&&(P$=e.signal)!==null&&P$!==void 0&&P$.aborted){let _$=new z(void 0,{cause:e.signal.reason});throw this.once("error",()=>{}),await S(this.destroy(_$)),_$}let m=new _,r=m.signal;if(e!==null&&e!==void 0&&e.signal){let _$={once:!0,[w]:this,[k]:!0};e.signal.addEventListener("abort",()=>m.abort(),_$)}let J$=!1;try{for await(let _$ of this){var $$;if(J$=!0,e!==null&&e!==void 0&&($$=e.signal)!==null&&$$!==void 0&&$$.aborted)throw new z;if(!o$)v$=_$,o$=!0;else v$=await B(v$,_$,{signal:r})}if(!J$&&!o$)throw new C}finally{m.abort()}return v$}async function x(B){if(B!=null)f(B,"options");if((B===null||B===void 0?void 0:B.signal)!=null)H(B.signal,"options.signal");let v$=[];for await(let P$ of this){var e;if(B!==null&&B!==void 0&&(e=B.signal)!==null&&e!==void 0&&e.aborted)throw new z(void 0,{cause:B.signal.reason});L(v$,P$)}return v$}function l(B,v$){let e=Z.call(this,B,v$);return async function*(){for await(let P$ of e)yield*P$}.call(this)}function a(B){if(B=c(B),o(B))return 0;if(B<0)throw new Y("number",">= 0",B);return B}function f$(B,v$=void 0){if(v$!=null)f(v$,"options");if((v$===null||v$===void 0?void 0:v$.signal)!=null)H(v$.signal,"options.signal");return B=a(B),async function*(){var e;if(v$!==null&&v$!==void 0&&(e=v$.signal)!==null&&e!==void 0&&e.aborted)throw new z;for await(let o$ of this){var P$;if(v$!==null&&v$!==void 0&&(P$=v$.signal)!==null&&P$!==void 0&&P$.aborted)throw new z;if(B--<=0)yield o$}}.call(this)}function q$(B,v$=void 0){if(v$!=null)f(v$,"options");if((v$===null||v$===void 0?void 0:v$.signal)!=null)H(v$.signal,"options.signal");return B=a(B),async function*(){var e;if(v$!==null&&v$!==void 0&&(e=v$.signal)!==null&&e!==void 0&&e.aborted)throw new z;for await(let o$ of this){var P$;if(v$!==null&&v$!==void 0&&(P$=v$.signal)!==null&&P$!==void 0&&P$.aborted)throw new z;if(B-- >0)yield o$;if(B<=0)return}}.call(this)}q.exports.streamReturningOperators={asIndexedPairs:I(V,"readable.asIndexedPairs will be removed in a future version."),drop:f$,filter:R,flatMap:l,map:Z,take:q$,compose:W},q.exports.promiseReturningOperators={every:A,forEach:G,reduce:b,toArray:x,some:M,find:v}}),y0=V6(($,q)=>{var{ArrayPrototypePop:_,Promise:K}=x6(),{isIterable:P,isNodeStream:O,isWebStream:Y}=M_(),{pipelineImpl:z}=vH(),{finished:H}=_K();u0();function T(...f){return new K((w,k)=>{let S,N,h=f[f.length-1];if(h&&typeof h==="object"&&!O(h)&&!P(h)&&!Y(h)){let E=_(f);S=E.signal,N=E.end}z(f,(E,D)=>{if(E)k(E);else w(D)},{signal:S,end:N})})}q.exports={finished:H,pipeline:T}}),u0=V6(($,q)=>{var{Buffer:_}=(wq(),J6(Tq)),{ObjectDefineProperty:K,ObjectKeys:P,ReflectApply:O}=x6(),{promisify:{custom:Y}}=q8(),{streamReturningOperators:z,promiseReturningOperators:H}=Vn(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:T}}=mq(),f=b0(),{setDefaultHighWaterMark:w,getDefaultHighWaterMark:k}=w2(),{pipeline:S}=vH(),{destroyer:N}=n4(),h=_K(),E=y0(),D=M_(),I=q.exports=YH().Stream;I.isDestroyed=D.isDestroyed,I.isDisturbed=D.isDisturbed,I.isErrored=D.isErrored,I.isReadable=D.isReadable,I.isWritable=D.isWritable,I.Readable=f2();for(let g of P(z)){let y=function(...o){if(new.target)throw T();return I.Readable.from(O(c,this,o))},c=z[g];K(y,"name",{__proto__:null,value:c.name}),K(y,"length",{__proto__:null,value:c.length}),K(I.Readable.prototype,g,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(let g of P(H)){let y=function(...o){if(new.target)throw T();return O(c,this,o)},c=H[g];K(y,"name",{__proto__:null,value:c.name}),K(y,"length",{__proto__:null,value:c.length}),K(I.Readable.prototype,g,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}I.Writable=jH(),I.Duplex=S_(),I.Transform=L0(),I.PassThrough=g0(),I.pipeline=S;var{addAbortSignal:L}=T2();I.addAbortSignal=L,I.finished=h,I.destroy=N,I.compose=f,I.setDefaultHighWaterMark=w,I.getDefaultHighWaterMark=k,K(I,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),K(S,Y,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),K(h,Y,{__proto__:null,enumerable:!0,get(){return E.finished}}),I.Stream=I,I._isUint8Array=function(g){return g instanceof Uint8Array},I._uint8ArrayToBuffer=function(g){return _.from(g.buffer,g.byteOffset,g.byteLength)}}),Sn=V6(($,q)=>{var _=zH();{let K=u0(),P=y0(),O=K.Readable.destroy;q.exports=K.Readable,q.exports._uint8ArrayToBuffer=K._uint8ArrayToBuffer,q.exports._isUint8Array=K._isUint8Array,q.exports.isDisturbed=K.isDisturbed,q.exports.isErrored=K.isErrored,q.exports.isReadable=K.isReadable,q.exports.Readable=K.Readable,q.exports.Writable=K.Writable,q.exports.Duplex=K.Duplex,q.exports.Transform=K.Transform,q.exports.PassThrough=K.PassThrough,q.exports.addAbortSignal=K.addAbortSignal,q.exports.finished=K.finished,q.exports.destroy=K.destroy,q.exports.destroy=O,q.exports.pipeline=K.pipeline,q.exports.compose=K.compose,Object.defineProperty(K,"promises",{configurable:!0,enumerable:!0,get(){return P}}),q.exports.Stream=K.Stream}q.exports.default=q.exports});x0.exports=Sn()});var lq={};oq(lq,{webcrypto:()=>aB,rng:()=>vB,randomUUID:()=>tB,randomFillSync:()=>rB,randomFill:()=>lB,randomBytes:()=>zB,publicEncrypt:()=>pB,publicDecrypt:()=>mB,pseudoRandomBytes:()=>jB,prng:()=>YB,privateEncrypt:()=>cB,privateDecrypt:()=>dB,pbkdf2Sync:()=>ZB,pbkdf2:()=>fB,listCiphers:()=>EB,getRandomValues:()=>BB,getHashes:()=>wB,getDiffieHellman:()=>IB,getCurves:()=>FB,getCiphers:()=>CB,default:()=>QB,createVerify:()=>yB,createSign:()=>gB,createHmac:()=>TB,createHash:()=>JB,createECDH:()=>xB,createDiffieHellmanGroup:()=>RB,createDiffieHellman:()=>DB,createDecipheriv:()=>NB,createDecipher:()=>SB,createCredentials:()=>oB,createCipheriv:()=>GB,createCipher:()=>AB,constants:()=>nB,Verify:()=>uB,Sign:()=>bB,Hmac:()=>HB,Hash:()=>WB,DiffieHellmanGroup:()=>hB,DiffieHellman:()=>LB,Decipheriv:()=>MB,Decipher:()=>VB,DEFAULT_ENCODING:()=>iB,Cipheriv:()=>kB,Cipher:()=>XB});function FB(){return UB}var Mn,Nn,p0,Cn,En,hn=($,q,_)=>{_=$!=null?Mn(Nn($)):{};let K=q||!$||!$.__esModule?p0(_,"default",{value:$,enumerable:!0}):_;for(let P of Cn($))if(!En.call(K,P))p0(K,P,{get:()=>$[P],enumerable:!0});return K},T$=($,q)=>()=>(q||$((q={exports:{}}).exports,q),q.exports),Z2,X2,m0,Rn,JH,HH,dq,In,q1,d0,Dn,Ln,gn,bn,l0,yn,un,xn,pn,cn,mn,dn,ln,rn,on,_1,A2,r0,nn,o0,n0,Bn,K1,TH,wH,tn,i0,fH,Un,B0,Fn,t0,U0,an,Qn,en,sn,$i,qi,_i,Ki,Pi,Oi,Yi,ji,vi,zi,ZH,F0,Wi,a0,Ji,Hi,Ti,wi,N_,KK,Q0,M8,e0,k2,fi,v8,Zi,Xi,Ai,s0,__,P1,$M,ki,qM,Gi,_M,Vi,Si,Mi,Ni,XH,Ci,AH,Ei,hi,Ri,Ii,Di,Li,gi,bi,yi,ui,xi,pi,ci,mi,c0,di,$1,li,KM,PM,ri,oi,OM,ni,ii,O1,Bi,ti,Ui,Fi,ai,Qi,YM,ei,jM,vM,zM,kH,WM,si,JM,$B,qB,WH,_B,KB,PB,OB,w6,YB,jB,vB,zB,WB,JB,HB,TB,wB,fB,ZB,XB,AB,kB,GB,VB,SB,MB,NB,CB,EB,hB,RB,IB,DB,LB,gB,bB,yB,uB,xB,pB,cB,mB,dB,lB,rB,oB,nB,iB="buffer",BB=($)=>{return crypto.getRandomValues($)},tB=()=>{return crypto.randomUUID()},UB,aB,QB;var rq=lK(()=>{Mn=Object.create,{getPrototypeOf:Nn,defineProperty:p0,getOwnPropertyNames:Cn}=Object,En=Object.prototype.hasOwnProperty,Z2=T$(($,q)=>{q.exports=(rq(),J6(lq)).randomBytes}),X2=T$(($,q)=>{q.exports=(rq(),J6(lq)).createHash}),m0=T$(($,q)=>{q.exports=(rq(),J6(lq)).createHmac}),Rn=T$(($,q)=>{q.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),JH=T$(($,q)=>{var _=isFinite,K=Math.pow(2,30)-1;q.exports=function(P,O){if(typeof P!=="number")throw TypeError("Iterations not a number");if(P<0||!_(P))throw TypeError("Bad iterations");if(typeof O!=="number")throw TypeError("Key length not a number");if(O<0||O>K||O!==O)throw TypeError("Bad key length")}}),HH=T$(($,q)=>{var _;if(globalThis.process&&globalThis.process.browser)_="utf-8";else if(globalThis.process&&globalThis.process.version)K=parseInt(process.version.split(".")[0].slice(1),10),_=K>=6?"utf-8":"binary";else _="utf-8";var K;q.exports=_}),dq=T$(($,q)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=(wq(),J6(Tq)),K=_.Buffer;function P(Y,z){for(var H in Y)z[H]=Y[H]}if(K.from&&K.alloc&&K.allocUnsafe&&K.allocUnsafeSlow)q.exports=_;else P(_,$),$.Buffer=O;function O(Y,z,H){return K(Y,z,H)}O.prototype=Object.create(K.prototype),P(K,O),O.from=function(Y,z,H){if(typeof Y==="number")throw TypeError("Argument must not be a number");return K(Y,z,H)},O.alloc=function(Y,z,H){if(typeof Y!=="number")throw TypeError("Argument must be a number");var T=K(Y);if(z!==void 0)if(typeof H==="string")T.fill(z,H);else T.fill(z);else T.fill(0);return T},O.allocUnsafe=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return K(Y)},O.allocUnsafeSlow=function(Y){if(typeof Y!=="number")throw TypeError("Argument must be a number");return _.SlowBuffer(Y)}}),In=T$(($,q)=>{var _={}.toString;q.exports=Array.isArray||function(K){return _.call(K)=="[object Array]"}}),q1=T$(($,q)=>{q.exports=TypeError}),d0=T$(($,q)=>{q.exports=Object}),Dn=T$(($,q)=>{q.exports=Error}),Ln=T$(($,q)=>{q.exports=EvalError}),gn=T$(($,q)=>{q.exports=RangeError}),bn=T$(($,q)=>{q.exports=ReferenceError}),l0=T$(($,q)=>{q.exports=SyntaxError}),yn=T$(($,q)=>{q.exports=URIError}),un=T$(($,q)=>{q.exports=Math.abs}),xn=T$(($,q)=>{q.exports=Math.floor}),pn=T$(($,q)=>{q.exports=Math.max}),cn=T$(($,q)=>{q.exports=Math.min}),mn=T$(($,q)=>{q.exports=Math.pow}),dn=T$(($,q)=>{q.exports=Math.round}),ln=T$(($,q)=>{q.exports=Number.isNaN||function(_){return _!==_}}),rn=T$(($,q)=>{var _=ln();q.exports=function(K){if(_(K)||K===0)return K;return K<0?-1:1}}),on=T$(($,q)=>{q.exports=Object.getOwnPropertyDescriptor}),_1=T$(($,q)=>{var _=on();if(_)try{_([],"length")}catch(K){_=null}q.exports=_}),A2=T$(($,q)=>{var _=Object.defineProperty||!1;if(_)try{_({},"a",{value:1})}catch(K){_=!1}q.exports=_}),r0=T$(($,q)=>{q.exports=function(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var _={},K=Symbol("test"),P=Object(K);if(typeof K==="string")return!1;if(Object.prototype.toString.call(K)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var O=42;_[K]=O;for(var Y in _)return!1;if(typeof Object.keys==="function"&&Object.keys(_).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var z=Object.getOwnPropertySymbols(_);if(z.length!==1||z[0]!==K)return!1;if(!Object.prototype.propertyIsEnumerable.call(_,K))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var H=Object.getOwnPropertyDescriptor(_,K);if(H.value!==O||H.enumerable!==!0)return!1}return!0}}),nn=T$(($,q)=>{var _=typeof Symbol<"u"&&Symbol,K=r0();q.exports=function(){if(typeof _!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof _("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return K()}}),o0=T$(($,q)=>{q.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null}),n0=T$(($,q)=>{var _=d0();q.exports=_.getPrototypeOf||null}),Bn=T$(($,q)=>{var _="Function.prototype.bind called on incompatible ",K=Object.prototype.toString,P=Math.max,O="[object Function]",Y=function(T,f){var w=[];for(var k=0;k<T.length;k+=1)w[k]=T[k];for(var S=0;S<f.length;S+=1)w[S+T.length]=f[S];return w},z=function(T,f){var w=[];for(var k=f||0,S=0;k<T.length;k+=1,S+=1)w[S]=T[k];return w},H=function(T,f){var w="";for(var k=0;k<T.length;k+=1)if(w+=T[k],k+1<T.length)w+=f;return w};q.exports=function(T){var f=this;if(typeof f!=="function"||K.apply(f)!==O)throw TypeError(_+f);var w=z(arguments,1),k,S=function(){if(this instanceof k){var I=f.apply(this,Y(w,arguments));if(Object(I)===I)return I;return this}return f.apply(T,Y(w,arguments))},N=P(0,f.length-w.length),h=[];for(var E=0;E<N;E++)h[E]="$"+E;if(k=Function("binder","return function ("+H(h,",")+"){ return binder.apply(this,arguments); }")(S),f.prototype){var D=function(){};D.prototype=f.prototype,k.prototype=new D,D.prototype=null}return k}}),K1=T$(($,q)=>{var _=Bn();q.exports=Function.prototype.bind||_}),TH=T$(($,q)=>{q.exports=Function.prototype.call}),wH=T$(($,q)=>{q.exports=Function.prototype.apply}),tn=T$(($,q)=>{q.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply}),i0=T$(($,q)=>{var _=K1(),K=wH(),P=TH(),O=tn();q.exports=O||_.call(P,K)}),fH=T$(($,q)=>{var _=K1(),K=q1(),P=TH(),O=i0();q.exports=function(Y){if(Y.length<1||typeof Y[0]!=="function")throw new K("a function is required");return O(_,P,Y)}}),Un=T$(($,q)=>{var _=fH(),K=_1(),P;try{P=[].__proto__===Array.prototype}catch(H){if(!H||typeof H!=="object"||!("code"in H)||H.code!=="ERR_PROTO_ACCESS")throw H}var O=!!P&&K&&K(Object.prototype,"__proto__"),Y=Object,z=Y.getPrototypeOf;q.exports=O&&typeof O.get==="function"?_([O.get]):typeof z==="function"?function(H){return z(H==null?H:Y(H))}:!1}),B0=T$(($,q)=>{var _=o0(),K=n0(),P=Un();q.exports=_?function(O){return _(O)}:K?function(O){if(!O||typeof O!=="object"&&typeof O!=="function")throw TypeError("getProto: not an object");return K(O)}:P?function(O){return P(O)}:null}),Fn=T$(($,q)=>{var _=Function.prototype.call,K=Object.prototype.hasOwnProperty,P=K1();q.exports=P.call(_,K)}),t0=T$(($,q)=>{var _,K=d0(),P=Dn(),O=Ln(),Y=gn(),z=bn(),H=l0(),T=q1(),f=yn(),w=un(),k=xn(),S=pn(),N=cn(),h=mn(),E=dn(),D=rn(),I=Function,L=function(v$){try{return I('"use strict"; return ('+v$+").constructor;")()}catch(e){}},g=_1(),y=A2(),c=function(){throw new T},o=g?function(){try{return arguments.callee,c}catch(v$){try{return g(arguments,"callee").get}catch(e){return c}}}():c,Q=nn()(),U=B0(),p=n0(),s=o0(),j=wH(),J=TH(),X={},W=typeof Uint8Array>"u"||!U?_:U(Uint8Array),Z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&U?U([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":X,"%AsyncGenerator%":X,"%AsyncGeneratorFunction%":X,"%AsyncIteratorPrototype%":X,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":P,"%eval%":eval,"%EvalError%":O,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":X,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&U?U(U([][Symbol.iterator]())):_,"%JSON%":typeof JSON==="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!U?_:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":K,"%Object.getOwnPropertyDescriptor%":g,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":Y,"%ReferenceError%":z,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!U?_:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&U?U(""[Symbol.iterator]()):_,"%Symbol%":Q?Symbol:_,"%SyntaxError%":H,"%ThrowTypeError%":o,"%TypedArray%":W,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":J,"%Function.prototype.apply%":j,"%Object.defineProperty%":y,"%Object.getPrototypeOf%":p,"%Math.abs%":w,"%Math.floor%":k,"%Math.max%":S,"%Math.min%":N,"%Math.pow%":h,"%Math.round%":E,"%Math.sign%":D,"%Reflect.getPrototypeOf%":s};if(U)try{null.error}catch(v$){V=U(U(v$)),Z["%Error.prototype%"]=V}var V,M=function v$(e){var P$;if(e==="%AsyncFunction%")P$=L("async function () {}");else if(e==="%GeneratorFunction%")P$=L("function* () {}");else if(e==="%AsyncGeneratorFunction%")P$=L("async function* () {}");else if(e==="%AsyncGenerator%"){var o$=v$("%AsyncGeneratorFunction%");if(o$)P$=o$.prototype}else if(e==="%AsyncIteratorPrototype%"){var m=v$("%AsyncGenerator%");if(m&&U)P$=U(m.prototype)}return Z[e]=P$,P$},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=K1(),G=Fn(),R=v.call(J,Array.prototype.concat),C=v.call(j,Array.prototype.splice),b=v.call(J,String.prototype.replace),x=v.call(J,String.prototype.slice),l=v.call(J,RegExp.prototype.exec),a=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,f$=/\\(\\)?/g,q$=function(v$){var e=x(v$,0,1),P$=x(v$,-1);if(e==="%"&&P$!=="%")throw new H("invalid intrinsic syntax, expected closing `%`");else if(P$==="%"&&e!=="%")throw new H("invalid intrinsic syntax, expected opening `%`");var o$=[];return b(v$,a,function(m,r,J$,$$){o$[o$.length]=J$?b($$,f$,"$1"):r||m}),o$},B=function(v$,e){var P$=v$,o$;if(G(A,P$))o$=A[P$],P$="%"+o$[0]+"%";if(G(Z,P$)){var m=Z[P$];if(m===X)m=M(P$);if(typeof m>"u"&&!e)throw new T("intrinsic "+v$+" exists, but is not available. Please file an issue!");return{alias:o$,name:P$,value:m}}throw new H("intrinsic "+v$+" does not exist!")};q.exports=function(v$,e){if(typeof v$!=="string"||v$.length===0)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!=="boolean")throw new T('"allowMissing" argument must be a boolean');if(l(/^%?[^%]*%?$/,v$)===null)throw new H("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P$=q$(v$),o$=P$.length>0?P$[0]:"",m=B("%"+o$+"%",e),r=m.name,J$=m.value,$$=!1,_$=m.alias;if(_$)o$=_$[0],C(P$,R([0,1],_$));for(var Y$=1,d=!0;Y$<P$.length;Y$+=1){var n=P$[Y$],H$=x(n,0,1),t=x(n,-1);if((H$==='"'||H$==="'"||H$==="`"||(t==='"'||t==="'"||t==="`"))&&H$!==t)throw new H("property names with quotes must have matching quotes");if(n==="constructor"||!d)$$=!0;if(o$+="."+n,r="%"+o$+"%",G(Z,r))J$=Z[r];else if(J$!=null){if(!(n in J$)){if(!e)throw new T("base intrinsic for "+v$+" exists, but the property is not available.");return}if(g&&Y$+1>=P$.length){var F=g(J$,n);if(d=!!F,d&&"get"in F&&!("originalValue"in F.get))J$=F.get;else J$=J$[n]}else d=G(J$,n),J$=J$[n];if(d&&!$$)Z[r]=J$}}return J$}}),U0=T$(($,q)=>{var _=t0(),K=fH(),P=K([_("%String.prototype.indexOf%")]);q.exports=function(O,Y){var z=_(O,!!Y);if(typeof z==="function"&&P(O,".prototype.")>-1)return K([z]);return z}}),an=T$(($,q)=>{var _=Function.prototype.toString,K=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,P,O;if(typeof K==="function"&&typeof Object.defineProperty==="function")try{P=Object.defineProperty({},"length",{get:function(){throw O}}),O={},K(function(){throw 42},null,P)}catch(g){if(g!==O)K=null}else K=null;var Y=/^\s*class\b/,z=function(g){try{var y=_.call(g);return Y.test(y)}catch(c){return!1}},H=function(g){try{if(z(g))return!1;return _.call(g),!0}catch(y){return!1}},T=Object.prototype.toString,f="[object Object]",w="[object Function]",k="[object GeneratorFunction]",S="[object HTMLAllCollection]",N="[object HTML document.all class]",h="[object HTMLCollection]",E=typeof Symbol==="function"&&!!Symbol.toStringTag,D=!(0 in[,]),I=function(){return!1};if(typeof document==="object"){if(L=document.all,T.call(L)===T.call(document.all))I=function(g){if((D||!g)&&(typeof g>"u"||typeof g==="object"))try{var y=T.call(g);return(y===S||y===N||y===h||y===f)&&g("")==null}catch(c){}return!1}}var L;q.exports=K?function(g){if(I(g))return!0;if(!g)return!1;if(typeof g!=="function"&&typeof g!=="object")return!1;try{K(g,null,P)}catch(y){if(y!==O)return!1}return!z(g)&&H(g)}:function(g){if(I(g))return!0;if(!g)return!1;if(typeof g!=="function"&&typeof g!=="object")return!1;if(E)return H(g);if(z(g))return!1;var y=T.call(g);if(y!==w&&y!==k&&!/^\[object HTML/.test(y))return!1;return H(g)}}),Qn=T$(($,q)=>{var _=an(),K=Object.prototype.toString,P=Object.prototype.hasOwnProperty,O=function(T,f,w){for(var k=0,S=T.length;k<S;k++)if(P.call(T,k))if(w==null)f(T[k],k,T);else f.call(w,T[k],k,T)},Y=function(T,f,w){for(var k=0,S=T.length;k<S;k++)if(w==null)f(T.charAt(k),k,T);else f.call(w,T.charAt(k),k,T)},z=function(T,f,w){for(var k in T)if(P.call(T,k))if(w==null)f(T[k],k,T);else f.call(w,T[k],k,T)};function H(T){return K.call(T)==="[object Array]"}q.exports=function(T,f,w){if(!_(f))throw TypeError("iterator must be a function");var k;if(arguments.length>=3)k=w;if(H(T))O(T,f,k);else if(typeof T==="string")Y(T,f,k);else z(T,f,k)}}),en=T$(($,q)=>{q.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),sn=T$(($,q)=>{var _=en(),K=typeof globalThis>"u"?globalThis:globalThis;q.exports=function(){var P=[];for(var O=0;O<_.length;O++)if(typeof K[_[O]]==="function")P[P.length]=_[O];return P}}),$i=T$(($,q)=>{var _=A2(),K=l0(),P=q1(),O=_1();q.exports=function(Y,z,H){if(!Y||typeof Y!=="object"&&typeof Y!=="function")throw new P("`obj` must be an object or a function`");if(typeof z!=="string"&&typeof z!=="symbol")throw new P("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new P("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new P("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new P("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new P("`loose`, if provided, must be a boolean");var T=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,w=arguments.length>5?arguments[5]:null,k=arguments.length>6?arguments[6]:!1,S=!!O&&O(Y,z);if(_)_(Y,z,{configurable:w===null&&S?S.configurable:!w,enumerable:T===null&&S?S.enumerable:!T,value:H,writable:f===null&&S?S.writable:!f});else if(k||!T&&!f&&!w)Y[z]=H;else throw new K("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),qi=T$(($,q)=>{var _=A2(),K=function(){return!!_};K.hasArrayLengthDefineBug=function(){if(!_)return null;try{return _([],"length",{value:1}).length!==1}catch(P){return!0}},q.exports=K}),_i=T$(($,q)=>{var _=t0(),K=$i(),P=qi()(),O=_1(),Y=q1(),z=_("%Math.floor%");q.exports=function(H,T){if(typeof H!=="function")throw new Y("`fn` is not a function");if(typeof T!=="number"||T<0||T>4294967295||z(T)!==T)throw new Y("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],w=!0,k=!0;if("length"in H&&O){var S=O(H,"length");if(S&&!S.configurable)w=!1;if(S&&!S.writable)k=!1}if(w||k||!f)if(P)K(H,"length",T,!0,!0);else K(H,"length",T);return H}}),Ki=T$(($,q)=>{var _=K1(),K=wH(),P=i0();q.exports=function(){return P(_,K,arguments)}}),Pi=T$(($,q)=>{var _=_i(),K=A2(),P=fH(),O=Ki();if(q.exports=function(Y){var z=P(arguments),H=Y.length-(arguments.length-1);return _(z,1+(H>0?H:0),!0)},K)K(q.exports,"apply",{value:O});else q.exports.apply=O}),Oi=T$(($,q)=>{var _=r0();q.exports=function(){return _()&&!!Symbol.toStringTag}}),Yi=T$(($,q)=>{var _=Qn(),K=sn(),P=Pi(),O=U0(),Y=_1(),z=B0(),H=O("Object.prototype.toString"),T=Oi()(),f=typeof globalThis>"u"?globalThis:globalThis,w=K(),k=O("String.prototype.slice"),S=O("Array.prototype.indexOf",!0)||function(D,I){for(var L=0;L<D.length;L+=1)if(D[L]===I)return L;return-1},N={__proto__:null};if(T&&Y&&z)_(w,function(D){var I=new f[D];if(Symbol.toStringTag in I&&z){var L=z(I),g=Y(L,Symbol.toStringTag);if(!g&&L){var y=z(L);g=Y(y,Symbol.toStringTag)}N["$"+D]=P(g.get)}});else _(w,function(D){var I=new f[D],L=I.slice||I.set;if(L)N["$"+D]=P(L)});var h=function(D){var I=!1;return _(N,function(L,g){if(!I)try{if("$"+L(D)===g)I=k(g,1)}catch(y){}}),I},E=function(D){var I=!1;return _(N,function(L,g){if(!I)try{L(D),I=k(g,1)}catch(y){}}),I};q.exports=function(D){if(!D||typeof D!=="object")return!1;if(!T){var I=k(H(D),8,-1);if(S(w,I)>-1)return I;if(I!=="Object")return!1;return E(D)}if(!Y)return null;return h(D)}}),ji=T$(($,q)=>{var _=Yi();q.exports=function(K){return!!_(K)}}),vi=T$(($,q)=>{var _=q1(),K=U0(),P=K("TypedArray.prototype.buffer",!0),O=ji();q.exports=P||function(Y){if(!O(Y))throw new _("Not a Typed Array");return Y.buffer}}),zi=T$(($,q)=>{var _=dq().Buffer,K=In(),P=vi(),O=ArrayBuffer.isView||function(T){try{return P(T),!0}catch(f){return!1}},Y=typeof Uint8Array<"u",z=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",H=z&&(_.prototype instanceof Uint8Array||_.TYPED_ARRAY_SUPPORT);q.exports=function(T,f){if(_.isBuffer(T)){if(T.constructor&&!("isBuffer"in T))return _.from(T);return T}if(typeof T==="string")return _.from(T,f);if(z&&O(T)){if(T.byteLength===0)return _.alloc(0);if(H){var w=_.from(T.buffer,T.byteOffset,T.byteLength);if(w.byteLength===T.byteLength)return w}var k=T instanceof Uint8Array?T:new Uint8Array(T.buffer,T.byteOffset,T.byteLength),S=_.from(k);if(S.length===T.byteLength)return S}if(Y&&T instanceof Uint8Array)return _.from(T);var N=K(T);if(N)for(var h=0;h<T.length;h+=1){var E=T[h];if(typeof E!=="number"||E<0||E>255||~~E!==E)throw RangeError("Array items must be numbers in the range 0-255.")}if(N||_.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer==="function"&&T.constructor.isBuffer(T))return _.from(T);throw TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}}),ZH=T$(($,q)=>{var _=dq().Buffer,K=zi(),P=typeof Uint8Array<"u",O=P&&typeof ArrayBuffer<"u",Y=O&&ArrayBuffer.isView;q.exports=function(z,H,T){if(typeof z==="string"||_.isBuffer(z)||P&&z instanceof Uint8Array||Y&&Y(z))return K(z,H);throw TypeError(T+" must be a string, a Buffer, a Uint8Array, or a DataView")}}),F0=T$(($,q)=>{var _={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,rmd160:20,ripemd160:20},K={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"},P=m0(),O=dq().Buffer,Y=JH(),z=HH(),H=ZH();function T(f,w,k,S,N){Y(k,S),f=H(f,z,"Password"),w=H(w,z,"Salt");var h=(N||"sha1").toLowerCase(),E=K[h]||h,D=_[E];if(typeof D!=="number"||!D)throw TypeError("Digest algorithm not supported: "+N);var I=O.allocUnsafe(S),L=O.allocUnsafe(w.length+4);w.copy(L,0,0,w.length);var g=0,y=D,c=Math.ceil(S/y);for(var o=1;o<=c;o++){L.writeUInt32BE(o,w.length);var Q=P(E,f).update(L).digest(),U=Q;for(var p=1;p<k;p++){U=P(E,f).update(U).digest();for(var s=0;s<y;s++)Q[s]^=U[s]}Q.copy(I,g),g+=y}return I}q.exports=T}),Wi=T$(($,q)=>{var _=dq().Buffer,K=JH(),P=HH(),O=F0(),Y=ZH(),z,H=globalThis.crypto&&globalThis.crypto.subtle,T={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[],w;function k(){if(w)return w;if(globalThis.process&&globalThis.process.nextTick)w=globalThis.process.nextTick;else if(globalThis.queueMicrotask)w=globalThis.queueMicrotask;else if(globalThis.setImmediate)w=globalThis.setImmediate;else w=globalThis.setTimeout;return w}function S(E,D,I,L,g){return H.importKey("raw",E,{name:"PBKDF2"},!1,["deriveBits"]).then(function(y){return H.deriveBits({name:"PBKDF2",salt:D,iterations:I,hash:{name:g}},y,L<<3)}).then(function(y){return _.from(y)})}function N(E){if(globalThis.process&&!globalThis.process.browser)return Promise.resolve(!1);if(!H||!H.importKey||!H.deriveBits)return Promise.resolve(!1);if(f[E]!==void 0)return f[E];z=z||_.alloc(8);var D=S(z,z,10,128,E).then(function(){return!0},function(){return!1});return f[E]=D,D}function h(E,D){E.then(function(I){k()(function(){D(null,I)})},function(I){k()(function(){D(I)})})}q.exports=function(E,D,I,L,g,y){if(typeof g==="function")y=g,g=void 0;if(K(I,L),E=Y(E,P,"Password"),D=Y(D,P,"Salt"),typeof y!=="function")throw Error("No callback provided to pbkdf2");g=g||"sha1";var c=T[g.toLowerCase()];if(!c||typeof globalThis.Promise!=="function"){k()(function(){var o;try{o=O(E,D,I,L,g)}catch(Q){y(Q);return}y(null,o)});return}h(N(c).then(function(o){if(o)return S(E,D,I,L,c);return O(E,D,I,L,g)}),y)}}),a0=T$(($)=>{var q=(rq(),J6(lq)),_=JH(),K=HH(),P=ZH();function O(z,H,T,f,w,k){if(_(T,f),z=P(z,K,"Password"),H=P(H,K,"Salt"),typeof w==="function")k=w,w="sha1";if(typeof k!=="function")throw Error("No callback provided to pbkdf2");return q.pbkdf2(z,H,T,f,w,k)}function Y(z,H,T,f,w){return _(T,f),z=P(z,K,"Password"),H=P(H,K,"Salt"),w=w||"sha1",q.pbkdf2Sync(z,H,T,f,w)}if(!q.pbkdf2Sync||q.pbkdf2Sync.toString().indexOf("keylen, digest")===-1)$.pbkdf2Sync=F0(),$.pbkdf2=Wi();else $.pbkdf2Sync=Y,$.pbkdf2=O}),Ji=T$(($)=>{var q=(rq(),J6(lq));$.createCipher=$.Cipher=q.createCipher,$.createCipheriv=$.Cipheriv=q.createCipheriv,$.createDecipher=$.Decipher=q.createDecipher,$.createDecipheriv=$.Decipheriv=q.createDecipheriv,$.listCiphers=$.getCiphers=q.getCiphers}),Hi=T$(($)=>{var q=(rq(),J6(lq));$.DiffieHellmanGroup=q.DiffieHellmanGroup,$.createDiffieHellmanGroup=q.createDiffieHellmanGroup,$.getDiffieHellman=q.getDiffieHellman,$.createDiffieHellman=q.createDiffieHellman,$.DiffieHellman=q.DiffieHellman}),Ti=T$(($)=>{var q=(rq(),J6(lq));$.createSign=q.createSign,$.Sign=q.Sign,$.createVerify=q.createVerify,$.Verify=q.Verify}),wi=T$(($,q)=>{q.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),N_=T$(($,q)=>{(function(_,K){function P(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else K.BN=Y;Y.BN=Y,Y.wordSize=26;var z;try{if(typeof window<"u"&&typeof window.Buffer<"u")z=window.Buffer;else z=(wq(),J6(Tq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;P(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var W=0;if(j[0]==="-")W++,this.negative=1;if(W<j.length){if(J===16)this._parseHex(j,W,X);else if(this._parseBase(j,J,W),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else P(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(P(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z,V,M=0;if(X==="be"){for(W=j.length-1,Z=0;W>=0;W-=3)if(V=j[W]|j[W-1]<<8|j[W-2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}else if(X==="le"){for(W=0,Z=0;W<j.length;W+=3)if(V=j[W]|j[W+1]<<8|j[W+2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}return this.strip()};function H(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var W=H(j,X);if(X-1>=J)W|=H(j,X-1)<<4;return W}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z=0,V=0,M;if(X==="be")for(W=j.length-1;W>=J;W-=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8;else{var A=j.length-J;for(W=A%2===0?J+1:J;W<j.length;W+=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8}this.strip()};function f(j,J,X,W){var Z=0,V=Math.min(j.length,X);for(var M=J;M<V;M++){var A=j.charCodeAt(M)-48;if(Z*=W,A>=49)Z+=A-49+10;else if(A>=17)Z+=A-17+10;else Z+=A}return Z}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var W=0,Z=1;Z<=67108863;Z*=J)W++;W--,Z=Z/J|0;var V=j.length-X,M=V%W,A=Math.min(V,V-M)+X,v=0;for(var G=X;G<A;G+=W)if(v=f(j,G,G+W,J),this.imuln(Z),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v);if(M!==0){var R=1;v=f(j,G,j.length,J);for(G=0;G<M;G++)R*=J;if(this.imuln(R),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var W=0,Z=0;for(var V=0;V<this.length;V++){var M=this.words[V],A=((M<<W|Z)&16777215).toString(16);if(Z=M>>>24-W&16777215,W+=2,W>=26)W-=26,V--;if(Z!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(Z!==0)X=Z.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var v=k[j],G=S[j];X="";var R=this.clone();R.negative=0;while(!R.isZero()){var C=R.modn(G).toString(j);if(R=R.idivn(G),!R.isZero())X=w[v-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}P(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)P(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return P(typeof z<"u"),this.toArrayLike(z,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var W=this.byteLength(),Z=X||Math.max(1,W);P(W<=Z,"byte array longer than desired length"),P(Z>0,"Requested array length <= 0"),this.strip();var V=J==="le",M=new j(Z),A,v,G=this.clone();if(!V){for(v=0;v<Z-W;v++)M[v]=0;for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[Z-v-1]=A}else{for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[v]=A;for(;v<Z;v++)M[v]=0}return M},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var W=X/26|0,Z=X%26;J[X]=(j.words[W]&1<<Z)>>>Z}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return P((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return P((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var W=0;W<X.length;W++)this.words[W]=J.words[W]^X.words[W];if(this!==J)for(;W<J.length;W++)this.words[W]=J.words[W];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return P((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){P(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var W=0;W<J;W++)this.words[W]=~this.words[W]&67108863;if(X>0)this.words[W]=~this.words[W]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){P(typeof j==="number"&&j>=0);var X=j/26|0,W=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<W;else this.words[X]=this.words[X]&~(1<<W);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,W;if(this.length>j.length)X=this,W=j;else X=j,W=this;var Z=0;for(var V=0;V<W.length;V++)J=(X.words[V]|0)+(W.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;for(;Z!==0&&V<X.length;V++)J=(X.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;if(this.length=X.length,Z!==0)this.words[this.length]=Z,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,Z;if(X>0)W=this,Z=j;else W=j,Z=this;var V=0;for(var M=0;M<Z.length;M++)J=(W.words[M]|0)-(Z.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;for(;V!==0&&M<W.length;M++)J=(W.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;if(V===0&&M<W.length&&W!==this)for(;M<W.length;M++)this.words[M]=W.words[M];if(this.length=Math.max(this.length,M),W!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function h(j,J,X){X.negative=J.negative^j.negative;var W=j.length+J.length|0;X.length=W,W=W-1|0;var Z=j.words[0]|0,V=J.words[0]|0,M=Z*V,A=M&67108863,v=M/67108864|0;X.words[0]=A;for(var G=1;G<W;G++){var R=v>>>26,C=v&67108863,b=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=b;x++){var l=G-x|0;Z=j.words[l]|0,V=J.words[x]|0,M=Z*V+C,R+=M/67108864|0,C=M&67108863}X.words[G]=C|0,v=R|0}if(v!==0)X.words[G]=v|0;else X.length--;return X.strip()}var E=function(j,J,X){var W=j.words,Z=J.words,V=X.words,M=0,A,v,G,R=W[0]|0,C=R&8191,b=R>>>13,x=W[1]|0,l=x&8191,a=x>>>13,f$=W[2]|0,q$=f$&8191,B=f$>>>13,v$=W[3]|0,e=v$&8191,P$=v$>>>13,o$=W[4]|0,m=o$&8191,r=o$>>>13,J$=W[5]|0,$$=J$&8191,_$=J$>>>13,Y$=W[6]|0,d=Y$&8191,n=Y$>>>13,H$=W[7]|0,t=H$&8191,F=H$>>>13,A$=W[8]|0,W$=A$&8191,z$=A$>>>13,Z6=W[9]|0,X$=Z6&8191,k$=Z6>>>13,o6=Z[0]|0,M$=o6&8191,S$=o6>>>13,Sq=Z[1]|0,E$=Sq&8191,g$=Sq>>>13,Mq=Z[2]|0,b$=Mq&8191,h$=Mq>>>13,fq=Z[3]|0,y$=fq&8191,R$=fq>>>13,zq=Z[4]|0,u$=zq&8191,x$=zq>>>13,Wq=Z[5]|0,I$=Wq&8191,u=Wq>>>13,i=Z[6]|0,K$=i&8191,O$=i>>>13,B$=Z[7]|0,G$=B$&8191,V$=B$>>>13,p6=Z[8]|0,D$=p6&8191,p$=p6>>>13,Zq=Z[9]|0,L$=Zq&8191,C$=Zq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),v=Math.imul(C,S$),v=v+Math.imul(b,M$)|0,G=Math.imul(b,S$);var c6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(c6>>>26)|0,c6&=67108863,A=Math.imul(l,M$),v=Math.imul(l,S$),v=v+Math.imul(a,M$)|0,G=Math.imul(a,S$),A=A+Math.imul(C,E$)|0,v=v+Math.imul(C,g$)|0,v=v+Math.imul(b,E$)|0,G=G+Math.imul(b,g$)|0;var W6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(W6>>>26)|0,W6&=67108863,A=Math.imul(q$,M$),v=Math.imul(q$,S$),v=v+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(l,E$)|0,v=v+Math.imul(l,g$)|0,v=v+Math.imul(a,E$)|0,G=G+Math.imul(a,g$)|0,A=A+Math.imul(C,b$)|0,v=v+Math.imul(C,h$)|0,v=v+Math.imul(b,b$)|0,G=G+Math.imul(b,h$)|0;var j6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(j6>>>26)|0,j6&=67108863,A=Math.imul(e,M$),v=Math.imul(e,S$),v=v+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(q$,E$)|0,v=v+Math.imul(q$,g$)|0,v=v+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(l,b$)|0,v=v+Math.imul(l,h$)|0,v=v+Math.imul(a,b$)|0,G=G+Math.imul(a,h$)|0,A=A+Math.imul(C,y$)|0,v=v+Math.imul(C,R$)|0,v=v+Math.imul(b,y$)|0,G=G+Math.imul(b,R$)|0;var E6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(m,M$),v=Math.imul(m,S$),v=v+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(e,E$)|0,v=v+Math.imul(e,g$)|0,v=v+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(q$,b$)|0,v=v+Math.imul(q$,h$)|0,v=v+Math.imul(B,b$)|0,G=G+Math.imul(B,h$)|0,A=A+Math.imul(l,y$)|0,v=v+Math.imul(l,R$)|0,v=v+Math.imul(a,y$)|0,G=G+Math.imul(a,R$)|0,A=A+Math.imul(C,u$)|0,v=v+Math.imul(C,x$)|0,v=v+Math.imul(b,u$)|0,G=G+Math.imul(b,x$)|0;var S6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(S6>>>26)|0,S6&=67108863,A=Math.imul($$,M$),v=Math.imul($$,S$),v=v+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,v=v+Math.imul(m,g$)|0,v=v+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(e,b$)|0,v=v+Math.imul(e,h$)|0,v=v+Math.imul(P$,b$)|0,G=G+Math.imul(P$,h$)|0,A=A+Math.imul(q$,y$)|0,v=v+Math.imul(q$,R$)|0,v=v+Math.imul(B,y$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(l,u$)|0,v=v+Math.imul(l,x$)|0,v=v+Math.imul(a,u$)|0,G=G+Math.imul(a,x$)|0,A=A+Math.imul(C,I$)|0,v=v+Math.imul(C,u)|0,v=v+Math.imul(b,I$)|0,G=G+Math.imul(b,u)|0;var t6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(t6>>>26)|0,t6&=67108863,A=Math.imul(d,M$),v=Math.imul(d,S$),v=v+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul($$,E$)|0,v=v+Math.imul($$,g$)|0,v=v+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,v=v+Math.imul(m,h$)|0,v=v+Math.imul(r,b$)|0,G=G+Math.imul(r,h$)|0,A=A+Math.imul(e,y$)|0,v=v+Math.imul(e,R$)|0,v=v+Math.imul(P$,y$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(q$,u$)|0,v=v+Math.imul(q$,x$)|0,v=v+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(l,I$)|0,v=v+Math.imul(l,u)|0,v=v+Math.imul(a,I$)|0,G=G+Math.imul(a,u)|0,A=A+Math.imul(C,K$)|0,v=v+Math.imul(C,O$)|0,v=v+Math.imul(b,K$)|0,G=G+Math.imul(b,O$)|0;var U6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(U6>>>26)|0,U6&=67108863,A=Math.imul(t,M$),v=Math.imul(t,S$),v=v+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,v=v+Math.imul(d,g$)|0,v=v+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul($$,b$)|0,v=v+Math.imul($$,h$)|0,v=v+Math.imul(_$,b$)|0,G=G+Math.imul(_$,h$)|0,A=A+Math.imul(m,y$)|0,v=v+Math.imul(m,R$)|0,v=v+Math.imul(r,y$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(e,u$)|0,v=v+Math.imul(e,x$)|0,v=v+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(q$,I$)|0,v=v+Math.imul(q$,u)|0,v=v+Math.imul(B,I$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(l,K$)|0,v=v+Math.imul(l,O$)|0,v=v+Math.imul(a,K$)|0,G=G+Math.imul(a,O$)|0,A=A+Math.imul(C,G$)|0,v=v+Math.imul(C,V$)|0,v=v+Math.imul(b,G$)|0,G=G+Math.imul(b,V$)|0;var F6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(F6>>>26)|0,F6&=67108863,A=Math.imul(W$,M$),v=Math.imul(W$,S$),v=v+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,v=v+Math.imul(t,g$)|0,v=v+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,v=v+Math.imul(d,h$)|0,v=v+Math.imul(n,b$)|0,G=G+Math.imul(n,h$)|0,A=A+Math.imul($$,y$)|0,v=v+Math.imul($$,R$)|0,v=v+Math.imul(_$,y$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,u$)|0,v=v+Math.imul(m,x$)|0,v=v+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(e,I$)|0,v=v+Math.imul(e,u)|0,v=v+Math.imul(P$,I$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(q$,K$)|0,v=v+Math.imul(q$,O$)|0,v=v+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(l,G$)|0,v=v+Math.imul(l,V$)|0,v=v+Math.imul(a,G$)|0,G=G+Math.imul(a,V$)|0,A=A+Math.imul(C,D$)|0,v=v+Math.imul(C,p$)|0,v=v+Math.imul(b,D$)|0,G=G+Math.imul(b,p$)|0;var a6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(X$,M$),v=Math.imul(X$,S$),v=v+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(W$,E$)|0,v=v+Math.imul(W$,g$)|0,v=v+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,v=v+Math.imul(t,h$)|0,v=v+Math.imul(F,b$)|0,G=G+Math.imul(F,h$)|0,A=A+Math.imul(d,y$)|0,v=v+Math.imul(d,R$)|0,v=v+Math.imul(n,y$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul($$,u$)|0,v=v+Math.imul($$,x$)|0,v=v+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,I$)|0,v=v+Math.imul(m,u)|0,v=v+Math.imul(r,I$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(e,K$)|0,v=v+Math.imul(e,O$)|0,v=v+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(q$,G$)|0,v=v+Math.imul(q$,V$)|0,v=v+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(l,D$)|0,v=v+Math.imul(l,p$)|0,v=v+Math.imul(a,D$)|0,G=G+Math.imul(a,p$)|0,A=A+Math.imul(C,L$)|0,v=v+Math.imul(C,C$)|0,v=v+Math.imul(b,L$)|0,G=G+Math.imul(b,C$)|0;var Q6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(X$,E$),v=Math.imul(X$,g$),v=v+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(W$,b$)|0,v=v+Math.imul(W$,h$)|0,v=v+Math.imul(z$,b$)|0,G=G+Math.imul(z$,h$)|0,A=A+Math.imul(t,y$)|0,v=v+Math.imul(t,R$)|0,v=v+Math.imul(F,y$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,u$)|0,v=v+Math.imul(d,x$)|0,v=v+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul($$,I$)|0,v=v+Math.imul($$,u)|0,v=v+Math.imul(_$,I$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,v=v+Math.imul(m,O$)|0,v=v+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(e,G$)|0,v=v+Math.imul(e,V$)|0,v=v+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(q$,D$)|0,v=v+Math.imul(q$,p$)|0,v=v+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(l,L$)|0,v=v+Math.imul(l,C$)|0,v=v+Math.imul(a,L$)|0,G=G+Math.imul(a,C$)|0;var e6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(X$,b$),v=Math.imul(X$,h$),v=v+Math.imul(k$,b$)|0,G=Math.imul(k$,h$),A=A+Math.imul(W$,y$)|0,v=v+Math.imul(W$,R$)|0,v=v+Math.imul(z$,y$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,u$)|0,v=v+Math.imul(t,x$)|0,v=v+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,I$)|0,v=v+Math.imul(d,u)|0,v=v+Math.imul(n,I$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul($$,K$)|0,v=v+Math.imul($$,O$)|0,v=v+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,v=v+Math.imul(m,V$)|0,v=v+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(e,D$)|0,v=v+Math.imul(e,p$)|0,v=v+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(q$,L$)|0,v=v+Math.imul(q$,C$)|0,v=v+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var s6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,y$),v=Math.imul(X$,R$),v=v+Math.imul(k$,y$)|0,G=Math.imul(k$,R$),A=A+Math.imul(W$,u$)|0,v=v+Math.imul(W$,x$)|0,v=v+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,I$)|0,v=v+Math.imul(t,u)|0,v=v+Math.imul(F,I$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,v=v+Math.imul(d,O$)|0,v=v+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul($$,G$)|0,v=v+Math.imul($$,V$)|0,v=v+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,v=v+Math.imul(m,p$)|0,v=v+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(e,L$)|0,v=v+Math.imul(e,C$)|0,v=v+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var $q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,u$),v=Math.imul(X$,x$),v=v+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(W$,I$)|0,v=v+Math.imul(W$,u)|0,v=v+Math.imul(z$,I$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,v=v+Math.imul(t,O$)|0,v=v+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,v=v+Math.imul(d,V$)|0,v=v+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul($$,D$)|0,v=v+Math.imul($$,p$)|0,v=v+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,v=v+Math.imul(m,C$)|0,v=v+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var qq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,I$),v=Math.imul(X$,u),v=v+Math.imul(k$,I$)|0,G=Math.imul(k$,u),A=A+Math.imul(W$,K$)|0,v=v+Math.imul(W$,O$)|0,v=v+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,v=v+Math.imul(t,V$)|0,v=v+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,v=v+Math.imul(d,p$)|0,v=v+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul($$,L$)|0,v=v+Math.imul($$,C$)|0,v=v+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var _q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,K$),v=Math.imul(X$,O$),v=v+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(W$,G$)|0,v=v+Math.imul(W$,V$)|0,v=v+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,v=v+Math.imul(t,p$)|0,v=v+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,v=v+Math.imul(d,C$)|0,v=v+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var Kq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,G$),v=Math.imul(X$,V$),v=v+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(W$,D$)|0,v=v+Math.imul(W$,p$)|0,v=v+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,v=v+Math.imul(t,C$)|0,v=v+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var Pq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,D$),v=Math.imul(X$,p$),v=v+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(W$,L$)|0,v=v+Math.imul(W$,C$)|0,v=v+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var Oq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,L$),v=Math.imul(X$,C$),v=v+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var Yq=(M+A|0)+((v&8191)<<13)|0;if(M=(G+(v>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,V[0]=c6,V[1]=W6,V[2]=j6,V[3]=E6,V[4]=S6,V[5]=t6,V[6]=U6,V[7]=F6,V[8]=a6,V[9]=Q6,V[10]=e6,V[11]=s6,V[12]=$q,V[13]=qq,V[14]=_q,V[15]=Kq,V[16]=Pq,V[17]=Oq,V[18]=Yq,M!==0)V[19]=M,X.length++;return X};if(!Math.imul)E=h;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var W=0,Z=0;for(var V=0;V<X.length-1;V++){var M=Z;Z=0;var A=W&67108863,v=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=v;G++){var R=V-G,C=j.words[R]|0,b=J.words[G]|0,x=C*b,l=x&67108863;M=M+(x/67108864|0)|0,l=l+A|0,A=l&67108863,M=M+(l>>>26)|0,Z+=M>>>26,M&=67108863}X.words[V]=A,W=M,M=Z}if(W!==0)X.words[V]=W;else X.length--;return X.strip()}function I(j,J,X){var W=new L;return W.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,W=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(W<63)X=h(this,j,J);else if(W<1024)X=D(this,j,J);else X=I(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var W=0;W<j;W++)J[W]=this.revBin(W,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var W=0;for(var Z=0;Z<J;Z++)W|=(j&1)<<J-Z-1,j>>=1;return W},L.prototype.permute=function(j,J,X,W,Z,V){for(var M=0;M<V;M++)W[M]=J[j[M]],Z[M]=X[j[M]]},L.prototype.transform=function(j,J,X,W,Z,V){this.permute(V,j,J,X,W,Z);for(var M=1;M<Z;M<<=1){var A=M<<1,v=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var R=0;R<Z;R+=A){var C=v,b=G;for(var x=0;x<M;x++){var l=X[R+x],a=W[R+x],f$=X[R+x+M],q$=W[R+x+M],B=C*f$-b*q$;if(q$=C*q$+b*f$,f$=B,X[R+x]=l+f$,W[R+x]=a+q$,X[R+x+M]=l-f$,W[R+x+M]=a-q$,x!==A)B=v*C-G*b,b=v*b+G*C,C=B}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,W=X&1,Z=0;for(X=X/2|0;X;X=X>>>1)Z++;return 1<<Z+1+W},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var W=0;W<X/2;W++){var Z=j[W];j[W]=j[X-W-1],j[X-W-1]=Z,Z=J[W],J[W]=-J[X-W-1],J[X-W-1]=-Z}},L.prototype.normalize13b=function(j,J){var X=0;for(var W=0;W<J/2;W++){var Z=Math.round(j[2*W+1]/J)*8192+Math.round(j[2*W]/J)+X;if(j[W]=Z&67108863,Z<67108864)X=0;else X=Z/67108864|0}return j},L.prototype.convert13b=function(j,J,X,W){var Z=0;for(var V=0;V<J;V++)Z=Z+(j[V]|0),X[2*V]=Z&8191,Z=Z>>>13,X[2*V+1]=Z&8191,Z=Z>>>13;for(V=2*J;V<W;++V)X[V]=0;P(Z===0),P((Z&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var W=2*this.guessLen13b(j.length,J.length),Z=this.makeRBT(W),V=this.stub(W),M=Array(W),A=Array(W),v=Array(W),G=Array(W),R=Array(W),C=Array(W),b=X.words;b.length=W,this.convert13b(j.words,j.length,M,W),this.convert13b(J.words,J.length,G,W),this.transform(M,V,A,v,W,Z),this.transform(G,V,R,C,W,Z);for(var x=0;x<W;x++){var l=A[x]*R[x]-v[x]*C[x];v[x]=A[x]*C[x]+v[x]*R[x],A[x]=l}return this.conjugate(A,v,W),this.transform(A,v,b,V,W,Z),this.conjugate(b,V,W),this.normalize13b(b,W),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),I(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){P(typeof j==="number"),P(j<67108864);var J=0;for(var X=0;X<this.length;X++){var W=(this.words[X]|0)*j,Z=(W&67108863)+(J&67108863);J>>=26,J+=W/67108864|0,J+=Z>>>26,this.words[X]=Z&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var W=0;W<J.length;W++,X=X.sqr())if(J[W]!==0)break;if(++W<J.length)for(var Z=X.sqr();W<J.length;W++,Z=Z.sqr()){if(J[W]===0)continue;X=X.mul(Z)}return X},Y.prototype.iushln=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=67108863>>>26-J<<26-J,Z;if(J!==0){var V=0;for(Z=0;Z<this.length;Z++){var M=this.words[Z]&W,A=(this.words[Z]|0)-M<<J;this.words[Z]=A|V,V=M>>>26-J}if(V)this.words[Z]=V,this.length++}if(X!==0){for(Z=this.length-1;Z>=0;Z--)this.words[Z+X]=this.words[Z];for(Z=0;Z<X;Z++)this.words[Z]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return P(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){P(typeof j==="number"&&j>=0);var W;if(J)W=(J-J%26)/26;else W=0;var Z=j%26,V=Math.min((j-Z)/26,this.length),M=67108863^67108863>>>Z<<Z,A=X;if(W-=V,W=Math.max(0,W),A){for(var v=0;v<V;v++)A.words[v]=this.words[v];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(v=0;v<this.length;v++)this.words[v]=this.words[v+V]}else this.words[0]=0,this.length=1;var G=0;for(v=this.length-1;v>=0&&(G!==0||v>=W);v--){var R=this.words[v]|0;this.words[v]=G<<26-Z|R>>>Z,G=R&M}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return P(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return!1;var Z=this.words[X];return!!(Z&W)},Y.prototype.imaskn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var W=67108863^67108863>>>J<<J;this.words[this.length-1]&=W}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var W=j.length+X,Z;this._expand(W);var V,M=0;for(Z=0;Z<j.length;Z++){V=(this.words[Z+X]|0)+M;var A=(j.words[Z]|0)*J;V-=A&67108863,M=(V>>26)-(A/67108864|0),this.words[Z+X]=V&67108863}for(;Z<this.length-X;Z++)V=(this.words[Z+X]|0)+M,M=V>>26,this.words[Z+X]=V&67108863;if(M===0)return this.strip();P(M===-1),M=0;for(Z=0;Z<this.length;Z++)V=-(this.words[Z]|0)+M,M=V>>26,this.words[Z]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,W=this.clone(),Z=j,V=Z.words[Z.length-1]|0,M=this._countBits(V);if(X=26-M,X!==0)Z=Z.ushln(X),W.iushln(X),V=Z.words[Z.length-1]|0;var A=W.length-Z.length,v;if(J!=="mod"){v=new Y(null),v.length=A+1,v.words=Array(v.length);for(var G=0;G<v.length;G++)v.words[G]=0}var R=W.clone()._ishlnsubmul(Z,1,A);if(R.negative===0){if(W=R,v)v.words[A]=1}for(var C=A-1;C>=0;C--){var b=(W.words[Z.length+C]|0)*67108864+(W.words[Z.length+C-1]|0);b=Math.min(b/V|0,67108863),W._ishlnsubmul(Z,b,C);while(W.negative!==0)if(b--,W.negative=0,W._ishlnsubmul(Z,1,C),!W.isZero())W.negative^=1;if(v)v.words[C]=b}if(v)v.strip();if(W.strip(),J!=="div"&&X!==0)W.iushrn(X);return{div:v||null,mod:W}},Y.prototype.divmod=function(j,J,X){if(P(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var W,Z,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")W=V.div.neg();if(J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.iadd(j)}return{div:W,mod:Z}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")W=V.div.neg();return{div:W,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.isub(j)}return{div:V.div,mod:Z}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,W=j.ushrn(1),Z=j.andln(1),V=X.cmp(W);if(V<0||Z===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){P(j<=67108863);var J=67108864%j,X=0;for(var W=this.length-1;W>=0;W--)X=(J*X+(this.words[W]|0))%j;return X},Y.prototype.idivn=function(j){P(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var W=(this.words[X]|0)+J*67108864;this.words[X]=W/j|0,J=W%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=new Y(0),M=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var v=X.clone(),G=J.clone();while(!J.isZero()){for(var R=0,C=1;(J.words[0]&C)===0&&R<26;++R,C<<=1);if(R>0){J.iushrn(R);while(R-- >0){if(W.isOdd()||Z.isOdd())W.iadd(v),Z.isub(G);W.iushrn(1),Z.iushrn(1)}}for(var b=0,x=1;(X.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0){X.iushrn(b);while(b-- >0){if(V.isOdd()||M.isOdd())V.iadd(v),M.isub(G);V.iushrn(1),M.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(V),Z.isub(M);else X.isub(J),V.isub(W),M.isub(Z)}return{a:V,b:M,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var M=0,A=1;(J.words[0]&A)===0&&M<26;++M,A<<=1);if(M>0){J.iushrn(M);while(M-- >0){if(W.isOdd())W.iadd(V);W.iushrn(1)}}for(var v=0,G=1;(X.words[0]&G)===0&&v<26;++v,G<<=1);if(v>0){X.iushrn(v);while(v-- >0){if(Z.isOdd())Z.iadd(V);Z.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(Z);else X.isub(J),Z.isub(W)}var R;if(J.cmpn(1)===0)R=W;else R=Z;if(R.cmpn(0)<0)R.iadd(j);return R},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var W=0;J.isEven()&&X.isEven();W++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var Z=J.cmp(X);if(Z<0){var V=J;J=X,X=V}else if(Z===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(W)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){P(typeof j==="number");var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=W,this;var Z=W;for(var V=X;Z!==0&&V<this.length;V++){var M=this.words[V]|0;M+=Z,Z=M>>>26,M&=67108863,this.words[V]=M}if(Z!==0)this.words[V]=Z,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;P(j<=67108863,"Number is too big");var W=this.words[0]|0;X=W===j?0:W<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var W=this.words[X]|0,Z=j.words[X]|0;if(W===Z)continue;if(W<Z)J=-1;else if(W>Z)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new p(j)},Y.prototype.toRed=function(j){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return P(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return P(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var g={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var W=X<this.n?-1:J.ucmp(this.p);if(W===0)J.words[0]=0,J.length=1;else if(W>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function c(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(c,y),c.prototype.split=function(j,J){var X=4194303,W=Math.min(j.length,9);for(var Z=0;Z<W;Z++)J.words[Z]=j.words[Z];if(J.length=W,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(Z=10;Z<j.length;Z++){var M=j.words[Z]|0;j.words[Z-10]=(M&X)<<4|V>>>22,V=M}if(V>>>=22,j.words[Z-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},c.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var W=j.words[X]|0;J+=W*977,j.words[X]=J&67108863,J=W*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function o(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(o,y);function Q(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Q,y);function U(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(U,y),U.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var W=(j.words[X]|0)*19+J,Z=W&67108863;W>>>=26,j.words[X]=Z,J=W}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(g[j])return g[j];var J;if(j==="k256")J=new c;else if(j==="p224")J=new o;else if(j==="p192")J=new Q;else if(j==="p25519")J=new U;else throw Error("Unknown prime "+j);return g[j]=J,J};function p(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else P(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}p.prototype._verify1=function(j){P(j.negative===0,"red works only with positives"),P(j.red,"red works only with red numbers")},p.prototype._verify2=function(j,J){P((j.negative|J.negative)===0,"red works only with positives"),P(j.red&&j.red===J.red,"red works only with red numbers")},p.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},p.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},p.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},p.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},p.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},p.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},p.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},p.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},p.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},p.prototype.isqr=function(j){return this.imul(j,j.clone())},p.prototype.sqr=function(j){return this.mul(j,j)},p.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(P(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var W=this.m.subn(1),Z=0;while(!W.isZero()&&W.andln(1)===0)Z++,W.iushrn(1);P(!W.isZero());var V=new Y(1).toRed(this),M=V.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();v=new Y(2*v*v).toRed(this);while(this.pow(v,A).cmp(M)!==0)v.redIAdd(M);var G=this.pow(v,W),R=this.pow(j,W.addn(1).iushrn(1)),C=this.pow(j,W),b=Z;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();P(l<b);var a=this.pow(G,new Y(1).iushln(b-l-1));R=R.redMul(a),G=a.redSqr(),C=C.redMul(G),b=l}return R},p.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},p.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,W=Array(1<<X);W[0]=new Y(1).toRed(this),W[1]=j;for(var Z=2;Z<W.length;Z++)W[Z]=this.mul(W[Z-1],j);var V=W[0],M=0,A=0,v=J.bitLength()%26;if(v===0)v=26;for(Z=J.length-1;Z>=0;Z--){var G=J.words[Z];for(var R=v-1;R>=0;R--){var C=G>>R&1;if(V!==W[0])V=this.sqr(V);if(C===0&&M===0){A=0;continue}if(M<<=1,M|=C,A++,A!==X&&(Z!==0||R!==0))continue;V=this.mul(V,W[M]),A=0,M=0}v=26}return V},p.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},p.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new s(j)};function s(j){if(p.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(s,p),s.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},s.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},s.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),KK=T$(($,q)=>{q.exports=_;function _(K,P){if(!K)throw Error(P||"Assertion failed")}_.equal=function(K,P,O){if(K!=P)throw Error(O||"Assertion failed: "+K+" != "+P)}}),Q0=T$(($)=>{var q=$;function _(O,Y){if(Array.isArray(O))return O.slice();if(!O)return[];var z=[];if(typeof O!=="string"){for(var H=0;H<O.length;H++)z[H]=O[H]|0;return z}if(Y==="hex"){if(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0)O="0"+O;for(var H=0;H<O.length;H+=2)z.push(parseInt(O[H]+O[H+1],16))}else for(var H=0;H<O.length;H++){var T=O.charCodeAt(H),f=T>>8,w=T&255;if(f)z.push(f,w);else z.push(w)}return z}q.toArray=_;function K(O){if(O.length===1)return"0"+O;else return O}q.zero2=K;function P(O){var Y="";for(var z=0;z<O.length;z++)Y+=K(O[z].toString(16));return Y}q.toHex=P,q.encode=function(O,Y){if(Y==="hex")return P(O);else return O}}),M8=T$(($)=>{var q=$,_=N_(),K=KK(),P=Q0();q.assert=K,q.toArray=P.toArray,q.zero2=P.zero2,q.toHex=P.toHex,q.encode=P.encode;function O(f,w,k){var S=Array(Math.max(f.bitLength(),k)+1),N;for(N=0;N<S.length;N+=1)S[N]=0;var h=1<<w+1,E=f.clone();for(N=0;N<S.length;N++){var D,I=E.andln(h-1);if(E.isOdd()){if(I>(h>>1)-1)D=(h>>1)-I;else D=I;E.isubn(D)}else D=0;S[N]=D,E.iushrn(1)}return S}q.getNAF=O;function Y(f,w){var k=[[],[]];f=f.clone(),w=w.clone();var S=0,N=0,h;while(f.cmpn(-S)>0||w.cmpn(-N)>0){var E=f.andln(3)+S&3,D=w.andln(3)+N&3;if(E===3)E=-1;if(D===3)D=-1;var I;if((E&1)===0)I=0;else if(h=f.andln(7)+S&7,(h===3||h===5)&&D===2)I=-E;else I=E;k[0].push(I);var L;if((D&1)===0)L=0;else if(h=w.andln(7)+N&7,(h===3||h===5)&&E===2)L=-D;else L=D;if(k[1].push(L),2*S===I+1)S=1-S;if(2*N===L+1)N=1-N;f.iushrn(1),w.iushrn(1)}return k}q.getJSF=Y;function z(f,w,k){var S="_"+w;f.prototype[w]=function(){return this[S]!==void 0?this[S]:this[S]=k.call(this)}}q.cachedProperty=z;function H(f){return typeof f==="string"?q.toArray(f,"hex"):f}q.parseBytes=H;function T(f){return new _(f,"hex","le")}q.intFromLE=T}),e0=T$(($,q)=>{var _;q.exports=function(O){if(!_)_=new K(null);return _.generate(O)};function K(O){this.rand=O}if(q.exports.Rand=K,K.prototype.generate=function(O){return this._rand(O)},K.prototype._rand=function(O){if(this.rand.getBytes)return this.rand.getBytes(O);var Y=new Uint8Array(O);for(var z=0;z<Y.length;z++)Y[z]=this.rand.getByte();return Y},typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues)K.prototype._rand=function(O){var Y=new Uint8Array(O);return self.crypto.getRandomValues(Y),Y};else if(self.msCrypto&&self.msCrypto.getRandomValues)K.prototype._rand=function(O){var Y=new Uint8Array(O);return self.msCrypto.getRandomValues(Y),Y};else if(typeof window==="object")K.prototype._rand=function(){throw Error("Not implemented yet")}}else try{if(P=(rq(),J6(lq)),typeof P.randomBytes!=="function")throw Error("Not supported");K.prototype._rand=function(O){return P.randomBytes(O)}}catch(O){}var P}),k2=T$(($,q)=>{var _=N_(),K=M8(),P=K.getNAF,O=K.getJSF,Y=K.assert;function z(T,f){this.type=T,this.p=new _(f.p,16),this.red=f.prime?_.red(f.prime):_.mont(this.p),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=f.n&&new _(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var w=this.n&&this.p.div(this.n);if(!w||w.cmpn(100)>0)this.redN=null;else this._maxwellTrick=!0,this.redN=this.n.toRed(this.red)}q.exports=z,z.prototype.point=function(){throw Error("Not implemented")},z.prototype.validate=function(){throw Error("Not implemented")},z.prototype._fixedNafMul=function(T,f){Y(T.precomputed);var w=T._getDoubles(),k=P(f,1,this._bitLength),S=(1<<w.step+1)-(w.step%2===0?2:1);S/=3;var N=[],h,E;for(h=0;h<k.length;h+=w.step){E=0;for(var D=h+w.step-1;D>=h;D--)E=(E<<1)+k[D];N.push(E)}var I=this.jpoint(null,null,null),L=this.jpoint(null,null,null);for(var g=S;g>0;g--){for(h=0;h<N.length;h++)if(E=N[h],E===g)L=L.mixedAdd(w.points[h]);else if(E===-g)L=L.mixedAdd(w.points[h].neg());I=I.add(L)}return I.toP()},z.prototype._wnafMul=function(T,f){var w=4,k=T._getNAFPoints(w);w=k.wnd;var S=k.points,N=P(f,w,this._bitLength),h=this.jpoint(null,null,null);for(var E=N.length-1;E>=0;E--){for(var D=0;E>=0&&N[E]===0;E--)D++;if(E>=0)D++;if(h=h.dblp(D),E<0)break;var I=N[E];if(Y(I!==0),T.type==="affine")if(I>0)h=h.mixedAdd(S[I-1>>1]);else h=h.mixedAdd(S[-I-1>>1].neg());else if(I>0)h=h.add(S[I-1>>1]);else h=h.add(S[-I-1>>1].neg())}return T.type==="affine"?h.toP():h},z.prototype._wnafMulAdd=function(T,f,w,k,S){var N=this._wnafT1,h=this._wnafT2,E=this._wnafT3,D=0,I,L,g;for(I=0;I<k;I++){g=f[I];var y=g._getNAFPoints(T);N[I]=y.wnd,h[I]=y.points}for(I=k-1;I>=1;I-=2){var c=I-1,o=I;if(N[c]!==1||N[o]!==1){E[c]=P(w[c],N[c],this._bitLength),E[o]=P(w[o],N[o],this._bitLength),D=Math.max(E[c].length,D),D=Math.max(E[o].length,D);continue}var Q=[f[c],null,null,f[o]];if(f[c].y.cmp(f[o].y)===0)Q[1]=f[c].add(f[o]),Q[2]=f[c].toJ().mixedAdd(f[o].neg());else if(f[c].y.cmp(f[o].y.redNeg())===0)Q[1]=f[c].toJ().mixedAdd(f[o]),Q[2]=f[c].add(f[o].neg());else Q[1]=f[c].toJ().mixedAdd(f[o]),Q[2]=f[c].toJ().mixedAdd(f[o].neg());var U=[-3,-1,-5,-7,0,7,5,1,3],p=O(w[c],w[o]);D=Math.max(p[0].length,D),E[c]=Array(D),E[o]=Array(D);for(L=0;L<D;L++){var s=p[0][L]|0,j=p[1][L]|0;E[c][L]=U[(s+1)*3+(j+1)],E[o][L]=0,h[c]=Q}}var J=this.jpoint(null,null,null),X=this._wnafT4;for(I=D;I>=0;I--){var W=0;while(I>=0){var Z=!0;for(L=0;L<k;L++)if(X[L]=E[L][I]|0,X[L]!==0)Z=!1;if(!Z)break;W++,I--}if(I>=0)W++;if(J=J.dblp(W),I<0)break;for(L=0;L<k;L++){var V=X[L];if(V===0)continue;else if(V>0)g=h[L][V-1>>1];else if(V<0)g=h[L][-V-1>>1].neg();if(g.type==="affine")J=J.mixedAdd(g);else J=J.add(g)}}for(I=0;I<k;I++)h[I]=null;if(S)return J;else return J.toP()};function H(T,f){this.curve=T,this.type=f,this.precomputed=null}z.BasePoint=H,H.prototype.eq=function(){throw Error("Not implemented")},H.prototype.validate=function(){return this.curve.validate(this)},z.prototype.decodePoint=function(T,f){T=K.toArray(T,f);var w=this.p.byteLength();if((T[0]===4||T[0]===6||T[0]===7)&&T.length-1===2*w){if(T[0]===6)Y(T[T.length-1]%2===0);else if(T[0]===7)Y(T[T.length-1]%2===1);var k=this.point(T.slice(1,1+w),T.slice(1+w,1+2*w));return k}else if((T[0]===2||T[0]===3)&&T.length-1===w)return this.pointFromX(T.slice(1,1+w),T[0]===3);throw Error("Unknown point format")},H.prototype.encodeCompressed=function(T){return this.encode(T,!0)},H.prototype._encode=function(T){var f=this.curve.p.byteLength(),w=this.getX().toArray("be",f);if(T)return[this.getY().isEven()?2:3].concat(w);return[4].concat(w,this.getY().toArray("be",f))},H.prototype.encode=function(T,f){return K.encode(this._encode(f),T)},H.prototype.precompute=function(T){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,T),f.beta=this._getBeta(),this.precomputed=f,this},H.prototype._hasDoubles=function(T){if(!this.precomputed)return!1;var f=this.precomputed.doubles;if(!f)return!1;return f.points.length>=Math.ceil((T.bitLength()+1)/f.step)},H.prototype._getDoubles=function(T,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var w=[this],k=this;for(var S=0;S<f;S+=T){for(var N=0;N<T;N++)k=k.dbl();w.push(k)}return{step:T,points:w}},H.prototype._getNAFPoints=function(T){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var f=[this],w=(1<<T)-1,k=w===1?null:this.dbl();for(var S=1;S<w;S++)f[S]=f[S-1].add(k);return{wnd:T,points:f}},H.prototype._getBeta=function(){return null},H.prototype.dblp=function(T){var f=this;for(var w=0;w<T;w++)f=f.dbl();return f}}),fi=T$(($,q)=>{if(typeof Object.create==="function")q.exports=function(_,K){if(K)_.super_=K,_.prototype=Object.create(K.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}})};else q.exports=function(_,K){if(K){_.super_=K;var P=function(){};P.prototype=K.prototype,_.prototype=new P,_.prototype.constructor=_}}}),v8=T$(($,q)=>{try{if(_=(T0(),J6(H0)),typeof _.inherits!=="function")throw"";q.exports=_.inherits}catch(K){q.exports=fi()}var _}),Zi=T$(($,q)=>{var _=M8(),K=N_(),P=v8(),O=k2(),Y=_.assert;function z(f){O.call(this,"short",f),this.a=new K(f.a,16).toRed(this.red),this.b=new K(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}P(z,O),q.exports=z,z.prototype._getEndomorphism=function(f){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var w,k;if(f.beta)w=new K(f.beta,16).toRed(this.red);else{var S=this._getEndoRoots(this.p);w=S[0].cmp(S[1])<0?S[0]:S[1],w=w.toRed(this.red)}if(f.lambda)k=new K(f.lambda,16);else{var N=this._getEndoRoots(this.n);if(this.g.mul(N[0]).x.cmp(this.g.x.redMul(w))===0)k=N[0];else k=N[1],Y(this.g.mul(k).x.cmp(this.g.x.redMul(w))===0)}var h;if(f.basis)h=f.basis.map(function(E){return{a:new K(E.a,16),b:new K(E.b,16)}});else h=this._getEndoBasis(k);return{beta:w,lambda:k,basis:h}},z.prototype._getEndoRoots=function(f){var w=f===this.p?this.red:K.mont(f),k=new K(2).toRed(w).redInvm(),S=k.redNeg(),N=new K(3).toRed(w).redNeg().redSqrt().redMul(k),h=S.redAdd(N).fromRed(),E=S.redSub(N).fromRed();return[h,E]},z.prototype._getEndoBasis=function(f){var w=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=f,S=this.n.clone(),N=new K(1),h=new K(0),E=new K(0),D=new K(1),I,L,g,y,c,o,Q,U=0,p,s;while(k.cmpn(0)!==0){var j=S.div(k);p=S.sub(j.mul(k)),s=E.sub(j.mul(N));var J=D.sub(j.mul(h));if(!g&&p.cmp(w)<0)I=Q.neg(),L=N,g=p.neg(),y=s;else if(g&&++U===2)break;Q=p,S=k,k=p,E=N,N=s,D=h,h=J}c=p.neg(),o=s;var X=g.sqr().add(y.sqr()),W=c.sqr().add(o.sqr());if(W.cmp(X)>=0)c=I,o=L;if(g.negative)g=g.neg(),y=y.neg();if(c.negative)c=c.neg(),o=o.neg();return[{a:g,b:y},{a:c,b:o}]},z.prototype._endoSplit=function(f){var w=this.endo.basis,k=w[0],S=w[1],N=S.b.mul(f).divRound(this.n),h=k.b.neg().mul(f).divRound(this.n),E=N.mul(k.a),D=h.mul(S.a),I=N.mul(k.b),L=h.mul(S.b),g=f.sub(E).sub(D),y=I.add(L).neg();return{k1:g,k2:y}},z.prototype.pointFromX=function(f,w){if(f=new K(f,16),!f.red)f=f.toRed(this.red);var k=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),S=k.redSqrt();if(S.redSqr().redSub(k).cmp(this.zero)!==0)throw Error("invalid point");var N=S.fromRed().isOdd();if(w&&!N||!w&&N)S=S.redNeg();return this.point(f,S)},z.prototype.validate=function(f){if(f.inf)return!0;var{x:w,y:k}=f,S=this.a.redMul(w),N=w.redSqr().redMul(w).redIAdd(S).redIAdd(this.b);return k.redSqr().redISub(N).cmpn(0)===0},z.prototype._endoWnafMulAdd=function(f,w,k){var S=this._endoWnafT1,N=this._endoWnafT2;for(var h=0;h<f.length;h++){var E=this._endoSplit(w[h]),D=f[h],I=D._getBeta();if(E.k1.negative)E.k1.ineg(),D=D.neg(!0);if(E.k2.negative)E.k2.ineg(),I=I.neg(!0);S[h*2]=D,S[h*2+1]=I,N[h*2]=E.k1,N[h*2+1]=E.k2}var L=this._wnafMulAdd(1,S,N,h*2,k);for(var g=0;g<h*2;g++)S[g]=null,N[g]=null;return L};function H(f,w,k,S){if(O.BasePoint.call(this,f,"affine"),w===null&&k===null)this.x=null,this.y=null,this.inf=!0;else{if(this.x=new K(w,16),this.y=new K(k,16),S)this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=!1}}P(H,O.BasePoint),z.prototype.point=function(f,w,k){return new H(this,f,w,k)},z.prototype.pointFromJSON=function(f,w){return H.fromJSON(this,f,w)},H.prototype._getBeta=function(){if(!this.curve.endo)return;var f=this.precomputed;if(f&&f.beta)return f.beta;var w=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var k=this.curve,S=function(N){return k.point(N.x.redMul(k.endo.beta),N.y)};f.beta=w,w.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(S)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(S)}}}return w},H.prototype.toJSON=function(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]},H.fromJSON=function(f,w,k){if(typeof w==="string")w=JSON.parse(w);var S=f.point(w[0],w[1],k);if(!w[2])return S;function N(E){return f.point(E[0],E[1],k)}var h=w[2];return S.precomputed={beta:null,doubles:h.doubles&&{step:h.doubles.step,points:[S].concat(h.doubles.points.map(N))},naf:h.naf&&{wnd:h.naf.wnd,points:[S].concat(h.naf.points.map(N))}},S},H.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},H.prototype.isInfinity=function(){return this.inf},H.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var w=this.y.redSub(f.y);if(w.cmpn(0)!==0)w=w.redMul(this.x.redSub(f.x).redInvm());var k=w.redSqr().redISub(this.x).redISub(f.x),S=w.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,S)},H.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var w=this.curve.a,k=this.x.redSqr(),S=f.redInvm(),N=k.redAdd(k).redIAdd(k).redIAdd(w).redMul(S),h=N.redSqr().redISub(this.x.redAdd(this.x)),E=N.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,E)},H.prototype.getX=function(){return this.x.fromRed()},H.prototype.getY=function(){return this.y.fromRed()},H.prototype.mul=function(f){if(f=new K(f,16),this.isInfinity())return this;else if(this._hasDoubles(f))return this.curve._fixedNafMul(this,f);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[f]);else return this.curve._wnafMul(this,f)},H.prototype.mulAdd=function(f,w,k){var S=[this,w],N=[f,k];if(this.curve.endo)return this.curve._endoWnafMulAdd(S,N);else return this.curve._wnafMulAdd(1,S,N,2)},H.prototype.jmulAdd=function(f,w,k){var S=[this,w],N=[f,k];if(this.curve.endo)return this.curve._endoWnafMulAdd(S,N,!0);else return this.curve._wnafMulAdd(1,S,N,2,!0)},H.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},H.prototype.neg=function(f){if(this.inf)return this;var w=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var k=this.precomputed,S=function(N){return N.neg()};w.precomputed={naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(S)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(S)}}}return w},H.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var f=this.curve.jpoint(this.x,this.y,this.curve.one);return f};function T(f,w,k,S){if(O.BasePoint.call(this,f,"jacobian"),w===null&&k===null&&S===null)this.x=this.curve.one,this.y=this.curve.one,this.z=new K(0);else this.x=new K(w,16),this.y=new K(k,16),this.z=new K(S,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}P(T,O.BasePoint),z.prototype.jpoint=function(f,w,k){return new T(this,f,w,k)},T.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),w=f.redSqr(),k=this.x.redMul(w),S=this.y.redMul(w).redMul(f);return this.curve.point(k,S)},T.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},T.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var w=f.z.redSqr(),k=this.z.redSqr(),S=this.x.redMul(w),N=f.x.redMul(k),h=this.y.redMul(w.redMul(f.z)),E=f.y.redMul(k.redMul(this.z)),D=S.redSub(N),I=h.redSub(E);if(D.cmpn(0)===0)if(I.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var L=D.redSqr(),g=L.redMul(D),y=S.redMul(L),c=I.redSqr().redIAdd(g).redISub(y).redISub(y),o=I.redMul(y.redISub(c)).redISub(h.redMul(g)),Q=this.z.redMul(f.z).redMul(D);return this.curve.jpoint(c,o,Q)},T.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var w=this.z.redSqr(),k=this.x,S=f.x.redMul(w),N=this.y,h=f.y.redMul(w).redMul(this.z),E=k.redSub(S),D=N.redSub(h);if(E.cmpn(0)===0)if(D.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var I=E.redSqr(),L=I.redMul(E),g=k.redMul(I),y=D.redSqr().redIAdd(L).redISub(g).redISub(g),c=D.redMul(g.redISub(y)).redISub(N.redMul(L)),o=this.z.redMul(E);return this.curve.jpoint(y,c,o)},T.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var w;if(this.curve.zeroA||this.curve.threeA){var k=this;for(w=0;w<f;w++)k=k.dbl();return k}var S=this.curve.a,N=this.curve.tinv,h=this.x,E=this.y,D=this.z,I=D.redSqr().redSqr(),L=E.redAdd(E);for(w=0;w<f;w++){var g=h.redSqr(),y=L.redSqr(),c=y.redSqr(),o=g.redAdd(g).redIAdd(g).redIAdd(S.redMul(I)),Q=h.redMul(y),U=o.redSqr().redISub(Q.redAdd(Q)),p=Q.redISub(U),s=o.redMul(p);s=s.redIAdd(s).redISub(c);var j=L.redMul(D);if(w+1<f)I=I.redMul(c);h=U,D=j,L=s}return this.curve.jpoint(h,L.redMul(N),D)},T.prototype.dbl=function(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()},T.prototype._zeroDbl=function(){var f,w,k;if(this.zOne){var S=this.x.redSqr(),N=this.y.redSqr(),h=N.redSqr(),E=this.x.redAdd(N).redSqr().redISub(S).redISub(h);E=E.redIAdd(E);var D=S.redAdd(S).redIAdd(S),I=D.redSqr().redISub(E).redISub(E),L=h.redIAdd(h);L=L.redIAdd(L),L=L.redIAdd(L),f=I,w=D.redMul(E.redISub(I)).redISub(L),k=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),y=this.y.redSqr(),c=y.redSqr(),o=this.x.redAdd(y).redSqr().redISub(g).redISub(c);o=o.redIAdd(o);var Q=g.redAdd(g).redIAdd(g),U=Q.redSqr(),p=c.redIAdd(c);p=p.redIAdd(p),p=p.redIAdd(p),f=U.redISub(o).redISub(o),w=Q.redMul(o.redISub(f)).redISub(p),k=this.y.redMul(this.z),k=k.redIAdd(k)}return this.curve.jpoint(f,w,k)},T.prototype._threeDbl=function(){var f,w,k;if(this.zOne){var S=this.x.redSqr(),N=this.y.redSqr(),h=N.redSqr(),E=this.x.redAdd(N).redSqr().redISub(S).redISub(h);E=E.redIAdd(E);var D=S.redAdd(S).redIAdd(S).redIAdd(this.curve.a),I=D.redSqr().redISub(E).redISub(E);f=I;var L=h.redIAdd(h);L=L.redIAdd(L),L=L.redIAdd(L),w=D.redMul(E.redISub(I)).redISub(L),k=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),y=this.y.redSqr(),c=this.x.redMul(y),o=this.x.redSub(g).redMul(this.x.redAdd(g));o=o.redAdd(o).redIAdd(o);var Q=c.redIAdd(c);Q=Q.redIAdd(Q);var U=Q.redAdd(Q);f=o.redSqr().redISub(U),k=this.y.redAdd(this.z).redSqr().redISub(y).redISub(g);var p=y.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p),w=o.redMul(Q.redISub(f)).redISub(p)}return this.curve.jpoint(f,w,k)},T.prototype._dbl=function(){var f=this.curve.a,w=this.x,k=this.y,S=this.z,N=S.redSqr().redSqr(),h=w.redSqr(),E=k.redSqr(),D=h.redAdd(h).redIAdd(h).redIAdd(f.redMul(N)),I=w.redAdd(w);I=I.redIAdd(I);var L=I.redMul(E),g=D.redSqr().redISub(L.redAdd(L)),y=L.redISub(g),c=E.redSqr();c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var o=D.redMul(y).redISub(c),Q=k.redAdd(k).redMul(S);return this.curve.jpoint(g,o,Q)},T.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),w=this.y.redSqr(),k=this.z.redSqr(),S=w.redSqr(),N=f.redAdd(f).redIAdd(f),h=N.redSqr(),E=this.x.redAdd(w).redSqr().redISub(f).redISub(S);E=E.redIAdd(E),E=E.redAdd(E).redIAdd(E),E=E.redISub(h);var D=E.redSqr(),I=S.redIAdd(S);I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var L=N.redIAdd(E).redSqr().redISub(h).redISub(D).redISub(I),g=w.redMul(L);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.x.redMul(D).redISub(g);y=y.redIAdd(y),y=y.redIAdd(y);var c=this.y.redMul(L.redMul(I.redISub(L)).redISub(E.redMul(D)));c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var o=this.z.redAdd(E).redSqr().redISub(k).redISub(D);return this.curve.jpoint(y,c,o)},T.prototype.mul=function(f,w){return f=new K(f,w),this.curve._wnafMul(this,f)},T.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var w=this.z.redSqr(),k=f.z.redSqr();if(this.x.redMul(k).redISub(f.x.redMul(w)).cmpn(0)!==0)return!1;var S=w.redMul(this.z),N=k.redMul(f.z);return this.y.redMul(N).redISub(f.y.redMul(S)).cmpn(0)===0},T.prototype.eqXToP=function(f){var w=this.z.redSqr(),k=f.toRed(this.curve.red).redMul(w);if(this.x.cmp(k)===0)return!0;var S=f.clone(),N=this.curve.redN.redMul(w);for(;;){if(S.iadd(this.curve.n),S.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(N),this.x.cmp(k)===0)return!0}},T.prototype.inspect=function(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},T.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Xi=T$(($,q)=>{var _=N_(),K=v8(),P=k2(),O=M8();function Y(H){P.call(this,"mont",H),this.a=new _(H.a,16).toRed(this.red),this.b=new _(H.b,16).toRed(this.red),this.i4=new _(4).toRed(this.red).redInvm(),this.two=new _(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}K(Y,P),q.exports=Y,Y.prototype.validate=function(H){var T=H.normalize().x,f=T.redSqr(),w=f.redMul(T).redAdd(f.redMul(this.a)).redAdd(T),k=w.redSqrt();return k.redSqr().cmp(w)===0};function z(H,T,f){if(P.BasePoint.call(this,H,"projective"),T===null&&f===null)this.x=this.curve.one,this.z=this.curve.zero;else{if(this.x=new _(T,16),this.z=new _(f,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}K(z,P.BasePoint),Y.prototype.decodePoint=function(H,T){return this.point(O.toArray(H,T),1)},Y.prototype.point=function(H,T){return new z(this,H,T)},Y.prototype.pointFromJSON=function(H){return z.fromJSON(this,H)},z.prototype.precompute=function(){},z.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},z.fromJSON=function(H,T){return new z(H,T[0],T[1]||H.one)},z.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},z.prototype.isInfinity=function(){return this.z.cmpn(0)===0},z.prototype.dbl=function(){var H=this.x.redAdd(this.z),T=H.redSqr(),f=this.x.redSub(this.z),w=f.redSqr(),k=T.redSub(w),S=T.redMul(w),N=k.redMul(w.redAdd(this.curve.a24.redMul(k)));return this.curve.point(S,N)},z.prototype.add=function(){throw Error("Not supported on Montgomery curve")},z.prototype.diffAdd=function(H,T){var f=this.x.redAdd(this.z),w=this.x.redSub(this.z),k=H.x.redAdd(H.z),S=H.x.redSub(H.z),N=S.redMul(f),h=k.redMul(w),E=T.z.redMul(N.redAdd(h).redSqr()),D=T.x.redMul(N.redISub(h).redSqr());return this.curve.point(E,D)},z.prototype.mul=function(H){var T=H.clone(),f=this,w=this.curve.point(null,null),k=this;for(var S=[];T.cmpn(0)!==0;T.iushrn(1))S.push(T.andln(1));for(var N=S.length-1;N>=0;N--)if(S[N]===0)f=f.diffAdd(w,k),w=w.dbl();else w=f.diffAdd(w,k),f=f.dbl();return w},z.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},z.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},z.prototype.eq=function(H){return this.getX().cmp(H.getX())===0},z.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},z.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),Ai=T$(($,q)=>{var _=M8(),K=N_(),P=v8(),O=k2(),Y=_.assert;function z(T){this.twisted=(T.a|0)!==1,this.mOneA=this.twisted&&(T.a|0)===-1,this.extended=this.mOneA,O.call(this,"edwards",T),this.a=new K(T.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new K(T.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new K(T.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Y(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(T.c|0)===1}P(z,O),q.exports=z,z.prototype._mulA=function(T){if(this.mOneA)return T.redNeg();else return this.a.redMul(T)},z.prototype._mulC=function(T){if(this.oneC)return T;else return this.c.redMul(T)},z.prototype.jpoint=function(T,f,w,k){return this.point(T,f,w,k)},z.prototype.pointFromX=function(T,f){if(T=new K(T,16),!T.red)T=T.toRed(this.red);var w=T.redSqr(),k=this.c2.redSub(this.a.redMul(w)),S=this.one.redSub(this.c2.redMul(this.d).redMul(w)),N=k.redMul(S.redInvm()),h=N.redSqrt();if(h.redSqr().redSub(N).cmp(this.zero)!==0)throw Error("invalid point");var E=h.fromRed().isOdd();if(f&&!E||!f&&E)h=h.redNeg();return this.point(T,h)},z.prototype.pointFromY=function(T,f){if(T=new K(T,16),!T.red)T=T.toRed(this.red);var w=T.redSqr(),k=w.redSub(this.c2),S=w.redMul(this.d).redMul(this.c2).redSub(this.a),N=k.redMul(S.redInvm());if(N.cmp(this.zero)===0)if(f)throw Error("invalid point");else return this.point(this.zero,T);var h=N.redSqrt();if(h.redSqr().redSub(N).cmp(this.zero)!==0)throw Error("invalid point");if(h.fromRed().isOdd()!==f)h=h.redNeg();return this.point(h,T)},z.prototype.validate=function(T){if(T.isInfinity())return!0;T.normalize();var f=T.x.redSqr(),w=T.y.redSqr(),k=f.redMul(this.a).redAdd(w),S=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(w)));return k.cmp(S)===0};function H(T,f,w,k,S){if(O.BasePoint.call(this,T,"projective"),f===null&&w===null&&k===null)this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0;else{if(this.x=new K(f,16),this.y=new K(w,16),this.z=k?new K(k,16):this.curve.one,this.t=S&&new K(S,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);if(this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t){if(this.t=this.x.redMul(this.y),!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}P(H,O.BasePoint),z.prototype.pointFromJSON=function(T){return H.fromJSON(this,T)},z.prototype.point=function(T,f,w,k){return new H(this,T,f,w,k)},H.fromJSON=function(T,f){return new H(T,f[0],f[1],f[2])},H.prototype.inspect=function(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},H.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},H.prototype._extDbl=function(){var T=this.x.redSqr(),f=this.y.redSqr(),w=this.z.redSqr();w=w.redIAdd(w);var k=this.curve._mulA(T),S=this.x.redAdd(this.y).redSqr().redISub(T).redISub(f),N=k.redAdd(f),h=N.redSub(w),E=k.redSub(f),D=S.redMul(h),I=N.redMul(E),L=S.redMul(E),g=h.redMul(N);return this.curve.point(D,I,g,L)},H.prototype._projDbl=function(){var T=this.x.redAdd(this.y).redSqr(),f=this.x.redSqr(),w=this.y.redSqr(),k,S,N,h,E,D;if(this.curve.twisted){h=this.curve._mulA(f);var I=h.redAdd(w);if(this.zOne)k=T.redSub(f).redSub(w).redMul(I.redSub(this.curve.two)),S=I.redMul(h.redSub(w)),N=I.redSqr().redSub(I).redSub(I);else E=this.z.redSqr(),D=I.redSub(E).redISub(E),k=T.redSub(f).redISub(w).redMul(D),S=I.redMul(h.redSub(w)),N=I.redMul(D)}else h=f.redAdd(w),E=this.curve._mulC(this.z).redSqr(),D=h.redSub(E).redSub(E),k=this.curve._mulC(T.redISub(h)).redMul(D),S=this.curve._mulC(h).redMul(f.redISub(w)),N=h.redMul(D);return this.curve.point(k,S,N)},H.prototype.dbl=function(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()},H.prototype._extAdd=function(T){var f=this.y.redSub(this.x).redMul(T.y.redSub(T.x)),w=this.y.redAdd(this.x).redMul(T.y.redAdd(T.x)),k=this.t.redMul(this.curve.dd).redMul(T.t),S=this.z.redMul(T.z.redAdd(T.z)),N=w.redSub(f),h=S.redSub(k),E=S.redAdd(k),D=w.redAdd(f),I=N.redMul(h),L=E.redMul(D),g=N.redMul(D),y=h.redMul(E);return this.curve.point(I,L,y,g)},H.prototype._projAdd=function(T){var f=this.z.redMul(T.z),w=f.redSqr(),k=this.x.redMul(T.x),S=this.y.redMul(T.y),N=this.curve.d.redMul(k).redMul(S),h=w.redSub(N),E=w.redAdd(N),D=this.x.redAdd(this.y).redMul(T.x.redAdd(T.y)).redISub(k).redISub(S),I=f.redMul(h).redMul(D),L,g;if(this.curve.twisted)L=f.redMul(E).redMul(S.redSub(this.curve._mulA(k))),g=h.redMul(E);else L=f.redMul(E).redMul(S.redSub(k)),g=this.curve._mulC(h).redMul(E);return this.curve.point(I,L,g)},H.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.curve.extended)return this._extAdd(T);else return this._projAdd(T)},H.prototype.mul=function(T){if(this._hasDoubles(T))return this.curve._fixedNafMul(this,T);else return this.curve._wnafMul(this,T)},H.prototype.mulAdd=function(T,f,w){return this.curve._wnafMulAdd(1,[this,f],[T,w],2,!1)},H.prototype.jmulAdd=function(T,f,w){return this.curve._wnafMulAdd(1,[this,f],[T,w],2,!0)},H.prototype.normalize=function(){if(this.zOne)return this;var T=this.z.redInvm();if(this.x=this.x.redMul(T),this.y=this.y.redMul(T),this.t)this.t=this.t.redMul(T);return this.z=this.curve.one,this.zOne=!0,this},H.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},H.prototype.getX=function(){return this.normalize(),this.x.fromRed()},H.prototype.getY=function(){return this.normalize(),this.y.fromRed()},H.prototype.eq=function(T){return this===T||this.getX().cmp(T.getX())===0&&this.getY().cmp(T.getY())===0},H.prototype.eqXToP=function(T){var f=T.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;var w=T.clone(),k=this.curve.redN.redMul(this.z);for(;;){if(w.iadd(this.curve.n),w.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(k),this.x.cmp(f)===0)return!0}},H.prototype.toP=H.prototype.normalize,H.prototype.mixedAdd=H.prototype.add}),s0=T$(($)=>{var q=$;q.base=k2(),q.short=Zi(),q.mont=Xi(),q.edwards=Ai()}),__=T$(($)=>{var q=KK(),_=v8();$.inherits=_;function K(J,X){if((J.charCodeAt(X)&64512)!==55296)return!1;if(X<0||X+1>=J.length)return!1;return(J.charCodeAt(X+1)&64512)===56320}function P(J,X){if(Array.isArray(J))return J.slice();if(!J)return[];var W=[];if(typeof J==="string"){if(!X){var Z=0;for(var V=0;V<J.length;V++){var M=J.charCodeAt(V);if(M<128)W[Z++]=M;else if(M<2048)W[Z++]=M>>6|192,W[Z++]=M&63|128;else if(K(J,V))M=65536+((M&1023)<<10)+(J.charCodeAt(++V)&1023),W[Z++]=M>>18|240,W[Z++]=M>>12&63|128,W[Z++]=M>>6&63|128,W[Z++]=M&63|128;else W[Z++]=M>>12|224,W[Z++]=M>>6&63|128,W[Z++]=M&63|128}}else if(X==="hex"){if(J=J.replace(/[^a-z0-9]+/ig,""),J.length%2!==0)J="0"+J;for(V=0;V<J.length;V+=2)W.push(parseInt(J[V]+J[V+1],16))}}else for(V=0;V<J.length;V++)W[V]=J[V]|0;return W}$.toArray=P;function O(J){var X="";for(var W=0;W<J.length;W++)X+=H(J[W].toString(16));return X}$.toHex=O;function Y(J){var X=J>>>24|J>>>8&65280|J<<8&16711680|(J&255)<<24;return X>>>0}$.htonl=Y;function z(J,X){var W="";for(var Z=0;Z<J.length;Z++){var V=J[Z];if(X==="little")V=Y(V);W+=T(V.toString(16))}return W}$.toHex32=z;function H(J){if(J.length===1)return"0"+J;else return J}$.zero2=H;function T(J){if(J.length===7)return"0"+J;else if(J.length===6)return"00"+J;else if(J.length===5)return"000"+J;else if(J.length===4)return"0000"+J;else if(J.length===3)return"00000"+J;else if(J.length===2)return"000000"+J;else if(J.length===1)return"0000000"+J;else return J}$.zero8=T;function f(J,X,W,Z){var V=W-X;q(V%4===0);var M=Array(V/4);for(var A=0,v=X;A<M.length;A++,v+=4){var G;if(Z==="big")G=J[v]<<24|J[v+1]<<16|J[v+2]<<8|J[v+3];else G=J[v+3]<<24|J[v+2]<<16|J[v+1]<<8|J[v];M[A]=G>>>0}return M}$.join32=f;function w(J,X){var W=Array(J.length*4);for(var Z=0,V=0;Z<J.length;Z++,V+=4){var M=J[Z];if(X==="big")W[V]=M>>>24,W[V+1]=M>>>16&255,W[V+2]=M>>>8&255,W[V+3]=M&255;else W[V+3]=M>>>24,W[V+2]=M>>>16&255,W[V+1]=M>>>8&255,W[V]=M&255}return W}$.split32=w;function k(J,X){return J>>>X|J<<32-X}$.rotr32=k;function S(J,X){return J<<X|J>>>32-X}$.rotl32=S;function N(J,X){return J+X>>>0}$.sum32=N;function h(J,X,W){return J+X+W>>>0}$.sum32_3=h;function E(J,X,W,Z){return J+X+W+Z>>>0}$.sum32_4=E;function D(J,X,W,Z,V){return J+X+W+Z+V>>>0}$.sum32_5=D;function I(J,X,W,Z){var V=J[X],M=J[X+1],A=Z+M>>>0,v=(A<Z?1:0)+W+V;J[X]=v>>>0,J[X+1]=A}$.sum64=I;function L(J,X,W,Z){var V=X+Z>>>0,M=(V<X?1:0)+J+W;return M>>>0}$.sum64_hi=L;function g(J,X,W,Z){var V=X+Z;return V>>>0}$.sum64_lo=g;function y(J,X,W,Z,V,M,A,v){var G=0,R=X;R=R+Z>>>0,G+=R<X?1:0,R=R+M>>>0,G+=R<M?1:0,R=R+v>>>0,G+=R<v?1:0;var C=J+W+V+A+G;return C>>>0}$.sum64_4_hi=y;function c(J,X,W,Z,V,M,A,v){var G=X+Z+M+v;return G>>>0}$.sum64_4_lo=c;function o(J,X,W,Z,V,M,A,v,G,R){var C=0,b=X;b=b+Z>>>0,C+=b<X?1:0,b=b+M>>>0,C+=b<M?1:0,b=b+v>>>0,C+=b<v?1:0,b=b+R>>>0,C+=b<R?1:0;var x=J+W+V+A+G+C;return x>>>0}$.sum64_5_hi=o;function Q(J,X,W,Z,V,M,A,v,G,R){var C=X+Z+M+v+R;return C>>>0}$.sum64_5_lo=Q;function U(J,X,W){var Z=X<<32-W|J>>>W;return Z>>>0}$.rotr64_hi=U;function p(J,X,W){var Z=J<<32-W|X>>>W;return Z>>>0}$.rotr64_lo=p;function s(J,X,W){return J>>>W}$.shr64_hi=s;function j(J,X,W){var Z=J<<32-W|X>>>W;return Z>>>0}$.shr64_lo=j}),P1=T$(($)=>{var q=__(),_=KK();function K(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}$.BlockHash=K,K.prototype.update=function(P,O){if(P=q.toArray(P,O),!this.pending)this.pending=P;else this.pending=this.pending.concat(P);if(this.pendingTotal+=P.length,this.pending.length>=this._delta8){P=this.pending;var Y=P.length%this._delta8;if(this.pending=P.slice(P.length-Y,P.length),this.pending.length===0)this.pending=null;P=q.join32(P,0,P.length-Y,this.endian);for(var z=0;z<P.length;z+=this._delta32)this._update(P,z,z+this._delta32)}return this},K.prototype.digest=function(P){return this.update(this._pad()),_(this.pending===null),this._digest(P)},K.prototype._pad=function(){var P=this.pendingTotal,O=this._delta8,Y=O-(P+this.padLength)%O,z=Array(Y+this.padLength);z[0]=128;for(var H=1;H<Y;H++)z[H]=0;if(P<<=3,this.endian==="big"){for(var T=8;T<this.padLength;T++)z[H++]=0;z[H++]=0,z[H++]=0,z[H++]=0,z[H++]=0,z[H++]=P>>>24&255,z[H++]=P>>>16&255,z[H++]=P>>>8&255,z[H++]=P&255}else{z[H++]=P&255,z[H++]=P>>>8&255,z[H++]=P>>>16&255,z[H++]=P>>>24&255,z[H++]=0,z[H++]=0,z[H++]=0,z[H++]=0;for(T=8;T<this.padLength;T++)z[H++]=0}return z}}),$M=T$(($)=>{var q=__(),_=q.rotr32;function K(w,k,S,N){if(w===0)return P(k,S,N);if(w===1||w===3)return Y(k,S,N);if(w===2)return O(k,S,N)}$.ft_1=K;function P(w,k,S){return w&k^~w&S}$.ch32=P;function O(w,k,S){return w&k^w&S^k&S}$.maj32=O;function Y(w,k,S){return w^k^S}$.p32=Y;function z(w){return _(w,2)^_(w,13)^_(w,22)}$.s0_256=z;function H(w){return _(w,6)^_(w,11)^_(w,25)}$.s1_256=H;function T(w){return _(w,7)^_(w,18)^w>>>3}$.g0_256=T;function f(w){return _(w,17)^_(w,19)^w>>>10}$.g1_256=f}),ki=T$(($,q)=>{var _=__(),K=P1(),P=$M(),O=_.rotl32,Y=_.sum32,z=_.sum32_5,H=P.ft_1,T=K.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function w(){if(!(this instanceof w))return new w;T.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}_.inherits(w,T),q.exports=w,w.blockSize=512,w.outSize=160,w.hmacStrength=80,w.padLength=64,w.prototype._update=function(k,S){var N=this.W;for(var h=0;h<16;h++)N[h]=k[S+h];for(;h<N.length;h++)N[h]=O(N[h-3]^N[h-8]^N[h-14]^N[h-16],1);var E=this.h[0],D=this.h[1],I=this.h[2],L=this.h[3],g=this.h[4];for(h=0;h<N.length;h++){var y=~~(h/20),c=z(O(E,5),H(y,D,I,L),g,N[h],f[y]);g=L,L=I,I=O(D,30),D=E,E=c}this.h[0]=Y(this.h[0],E),this.h[1]=Y(this.h[1],D),this.h[2]=Y(this.h[2],I),this.h[3]=Y(this.h[3],L),this.h[4]=Y(this.h[4],g)},w.prototype._digest=function(k){if(k==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")}}),qM=T$(($,q)=>{var _=__(),K=P1(),P=$M(),O=KK(),Y=_.sum32,z=_.sum32_4,H=_.sum32_5,T=P.ch32,f=P.maj32,w=P.s0_256,k=P.s1_256,S=P.g0_256,N=P.g1_256,h=K.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function D(){if(!(this instanceof D))return new D;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=Array(64)}_.inherits(D,h),q.exports=D,D.blockSize=512,D.outSize=256,D.hmacStrength=192,D.padLength=64,D.prototype._update=function(I,L){var g=this.W;for(var y=0;y<16;y++)g[y]=I[L+y];for(;y<g.length;y++)g[y]=z(N(g[y-2]),g[y-7],S(g[y-15]),g[y-16]);var c=this.h[0],o=this.h[1],Q=this.h[2],U=this.h[3],p=this.h[4],s=this.h[5],j=this.h[6],J=this.h[7];O(this.k.length===g.length);for(y=0;y<g.length;y++){var X=H(J,k(p),T(p,s,j),this.k[y],g[y]),W=Y(w(c),f(c,o,Q));J=j,j=s,s=p,p=Y(U,X),U=Q,Q=o,o=c,c=Y(X,W)}this.h[0]=Y(this.h[0],c),this.h[1]=Y(this.h[1],o),this.h[2]=Y(this.h[2],Q),this.h[3]=Y(this.h[3],U),this.h[4]=Y(this.h[4],p),this.h[5]=Y(this.h[5],s),this.h[6]=Y(this.h[6],j),this.h[7]=Y(this.h[7],J)},D.prototype._digest=function(I){if(I==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")}}),Gi=T$(($,q)=>{var _=__(),K=qM();function P(){if(!(this instanceof P))return new P;K.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_.inherits(P,K),q.exports=P,P.blockSize=512,P.outSize=224,P.hmacStrength=192,P.padLength=64,P.prototype._digest=function(O){if(O==="hex")return _.toHex32(this.h.slice(0,7),"big");else return _.split32(this.h.slice(0,7),"big")}}),_M=T$(($,q)=>{var _=__(),K=P1(),P=KK(),O=_.rotr64_hi,Y=_.rotr64_lo,z=_.shr64_hi,H=_.shr64_lo,T=_.sum64,f=_.sum64_hi,w=_.sum64_lo,k=_.sum64_4_hi,S=_.sum64_4_lo,N=_.sum64_5_hi,h=_.sum64_5_lo,E=K.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,this.W=Array(160)}_.inherits(I,E),q.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(W,Z){var V=this.W;for(var M=0;M<32;M++)V[M]=W[Z+M];for(;M<V.length;M+=2){var A=J(V[M-4],V[M-3]),v=X(V[M-4],V[M-3]),G=V[M-14],R=V[M-13],C=s(V[M-30],V[M-29]),b=j(V[M-30],V[M-29]),x=V[M-32],l=V[M-31];V[M]=k(A,v,G,R,C,b,x,l),V[M+1]=S(A,v,G,R,C,b,x,l)}},I.prototype._update=function(W,Z){this._prepareBlock(W,Z);var V=this.W,M=this.h[0],A=this.h[1],v=this.h[2],G=this.h[3],R=this.h[4],C=this.h[5],b=this.h[6],x=this.h[7],l=this.h[8],a=this.h[9],f$=this.h[10],q$=this.h[11],B=this.h[12],v$=this.h[13],e=this.h[14],P$=this.h[15];P(this.k.length===V.length);for(var o$=0;o$<V.length;o$+=2){var m=e,r=P$,J$=U(l,a),$$=p(l,a),_$=L(l,a,f$,q$,B,v$),Y$=g(l,a,f$,q$,B,v$),d=this.k[o$],n=this.k[o$+1],H$=V[o$],t=V[o$+1],F=N(m,r,J$,$$,_$,Y$,d,n,H$,t),A$=h(m,r,J$,$$,_$,Y$,d,n,H$,t);m=o(M,A),r=Q(M,A),J$=y(M,A,v,G,R,C),$$=c(M,A,v,G,R,C);var W$=f(m,r,J$,$$),z$=w(m,r,J$,$$);e=B,P$=v$,B=f$,v$=q$,f$=l,q$=a,l=f(b,x,F,A$),a=w(x,x,F,A$),b=R,x=C,R=v,C=G,v=M,G=A,M=f(F,A$,W$,z$),A=w(F,A$,W$,z$)}T(this.h,0,M,A),T(this.h,2,v,G),T(this.h,4,R,C),T(this.h,6,b,x),T(this.h,8,l,a),T(this.h,10,f$,q$),T(this.h,12,B,v$),T(this.h,14,e,P$)},I.prototype._digest=function(W){if(W==="hex")return _.toHex32(this.h,"big");else return _.split32(this.h,"big")};function L(W,Z,V,M,A){var v=W&V^~W&A;if(v<0)v+=4294967296;return v}function g(W,Z,V,M,A,v){var G=Z&M^~Z&v;if(G<0)G+=4294967296;return G}function y(W,Z,V,M,A){var v=W&V^W&A^V&A;if(v<0)v+=4294967296;return v}function c(W,Z,V,M,A,v){var G=Z&M^Z&v^M&v;if(G<0)G+=4294967296;return G}function o(W,Z){var V=O(W,Z,28),M=O(Z,W,2),A=O(Z,W,7),v=V^M^A;if(v<0)v+=4294967296;return v}function Q(W,Z){var V=Y(W,Z,28),M=Y(Z,W,2),A=Y(Z,W,7),v=V^M^A;if(v<0)v+=4294967296;return v}function U(W,Z){var V=O(W,Z,14),M=O(W,Z,18),A=O(Z,W,9),v=V^M^A;if(v<0)v+=4294967296;return v}function p(W,Z){var V=Y(W,Z,14),M=Y(W,Z,18),A=Y(Z,W,9),v=V^M^A;if(v<0)v+=4294967296;return v}function s(W,Z){var V=O(W,Z,1),M=O(W,Z,8),A=z(W,Z,7),v=V^M^A;if(v<0)v+=4294967296;return v}function j(W,Z){var V=Y(W,Z,1),M=Y(W,Z,8),A=H(W,Z,7),v=V^M^A;if(v<0)v+=4294967296;return v}function J(W,Z){var V=O(W,Z,19),M=O(Z,W,29),A=z(W,Z,6),v=V^M^A;if(v<0)v+=4294967296;return v}function X(W,Z){var V=Y(W,Z,19),M=Y(Z,W,29),A=H(W,Z,6),v=V^M^A;if(v<0)v+=4294967296;return v}}),Vi=T$(($,q)=>{var _=__(),K=_M();function P(){if(!(this instanceof P))return new P;K.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_.inherits(P,K),q.exports=P,P.blockSize=1024,P.outSize=384,P.hmacStrength=192,P.padLength=128,P.prototype._digest=function(O){if(O==="hex")return _.toHex32(this.h.slice(0,12),"big");else return _.split32(this.h.slice(0,12),"big")}}),Si=T$(($)=>{$.sha1=ki(),$.sha224=Gi(),$.sha256=qM(),$.sha384=Vi(),$.sha512=_M()}),Mi=T$(($)=>{var q=__(),_=P1(),K=q.rotl32,P=q.sum32,O=q.sum32_3,Y=q.sum32_4,z=_.BlockHash;function H(){if(!(this instanceof H))return new H;z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}q.inherits(H,z),$.ripemd160=H,H.blockSize=512,H.outSize=160,H.hmacStrength=192,H.padLength=64,H.prototype._update=function(E,D){var I=this.h[0],L=this.h[1],g=this.h[2],y=this.h[3],c=this.h[4],o=I,Q=L,U=g,p=y,s=c;for(var j=0;j<80;j++){var J=P(K(Y(I,T(j,L,g,y),E[k[j]+D],f(j)),N[j]),c);I=c,c=y,y=K(g,10),g=L,L=J,J=P(K(Y(o,T(79-j,Q,U,p),E[S[j]+D],w(j)),h[j]),s),o=s,s=p,p=K(U,10),U=Q,Q=J}J=O(this.h[1],g,p),this.h[1]=O(this.h[2],y,s),this.h[2]=O(this.h[3],c,o),this.h[3]=O(this.h[4],I,Q),this.h[4]=O(this.h[0],L,U),this.h[0]=J},H.prototype._digest=function(E){if(E==="hex")return q.toHex32(this.h,"little");else return q.split32(this.h,"little")};function T(E,D,I,L){if(E<=15)return D^I^L;else if(E<=31)return D&I|~D&L;else if(E<=47)return(D|~I)^L;else if(E<=63)return D&L|I&~L;else return D^(I|~L)}function f(E){if(E<=15)return 0;else if(E<=31)return 1518500249;else if(E<=47)return 1859775393;else if(E<=63)return 2400959708;else return 2840853838}function w(E){if(E<=15)return 1352829926;else if(E<=31)return 1548603684;else if(E<=47)return 1836072691;else if(E<=63)return 2053994217;else return 0}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],S=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],N=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),Ni=T$(($,q)=>{var _=__(),K=KK();function P(O,Y,z){if(!(this instanceof P))return new P(O,Y,z);this.Hash=O,this.blockSize=O.blockSize/8,this.outSize=O.outSize/8,this.inner=null,this.outer=null,this._init(_.toArray(Y,z))}q.exports=P,P.prototype._init=function(O){if(O.length>this.blockSize)O=new this.Hash().update(O).digest();K(O.length<=this.blockSize);for(var Y=O.length;Y<this.blockSize;Y++)O.push(0);for(Y=0;Y<O.length;Y++)O[Y]^=54;this.inner=new this.Hash().update(O);for(Y=0;Y<O.length;Y++)O[Y]^=106;this.outer=new this.Hash().update(O)},P.prototype.update=function(O,Y){return this.inner.update(O,Y),this},P.prototype.digest=function(O){return this.outer.update(this.inner.digest()),this.outer.digest(O)}}),XH=T$(($)=>{var q=$;q.utils=__(),q.common=P1(),q.sha=Si(),q.ripemd=Mi(),q.hmac=Ni(),q.sha1=q.sha.sha1,q.sha256=q.sha.sha256,q.sha224=q.sha.sha224,q.sha384=q.sha.sha384,q.sha512=q.sha.sha512,q.ripemd160=q.ripemd.ripemd160}),Ci=T$(($,q)=>{q.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),AH=T$(($)=>{var q=$,_=XH(),K=s0(),P=M8(),O=P.assert;function Y(T){if(T.type==="short")this.curve=new K.short(T);else if(T.type==="edwards")this.curve=new K.edwards(T);else this.curve=new K.mont(T);this.g=this.curve.g,this.n=this.curve.n,this.hash=T.hash,O(this.g.validate(),"Invalid curve"),O(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}q.PresetCurve=Y;function z(T,f){Object.defineProperty(q,T,{configurable:!0,enumerable:!0,get:function(){var w=new Y(f);return Object.defineProperty(q,T,{configurable:!0,enumerable:!0,value:w}),w}})}z("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),z("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),z("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),z("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),z("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),z("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),z("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var H;try{H=Ci()}catch(T){H=void 0}z("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",H]})}),Ei=T$(($,q)=>{var _=XH(),K=Q0(),P=KK();function O(Y){if(!(this instanceof O))return new O(Y);this.hash=Y.hash,this.predResist=!!Y.predResist,this.outLen=this.hash.outSize,this.minEntropy=Y.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var z=K.toArray(Y.entropy,Y.entropyEnc||"hex"),H=K.toArray(Y.nonce,Y.nonceEnc||"hex"),T=K.toArray(Y.pers,Y.persEnc||"hex");P(z.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(z,H,T)}q.exports=O,O.prototype._init=function(Y,z,H){var T=Y.concat(z).concat(H);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(T),this._reseed=1,this.reseedInterval=281474976710656},O.prototype._hmac=function(){return new _.hmac(this.hash,this.K)},O.prototype._update=function(Y){var z=this._hmac().update(this.V).update([0]);if(Y)z=z.update(Y);if(this.K=z.digest(),this.V=this._hmac().update(this.V).digest(),!Y)return;this.K=this._hmac().update(this.V).update([1]).update(Y).digest(),this.V=this._hmac().update(this.V).digest()},O.prototype.reseed=function(Y,z,H,T){if(typeof z!=="string")T=H,H=z,z=null;Y=K.toArray(Y,z),H=K.toArray(H,T),P(Y.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Y.concat(H||[])),this._reseed=1},O.prototype.generate=function(Y,z,H,T){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");if(typeof z!=="string")T=H,H=z,z=null;if(H)H=K.toArray(H,T||"hex"),this._update(H);var f=[];while(f.length<Y)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var w=f.slice(0,Y);return this._update(H),this._reseed++,K.encode(w,z)}}),hi=T$(($,q)=>{var _=N_(),K=M8(),P=K.assert;function O(Y,z){if(this.ec=Y,this.priv=null,this.pub=null,z.priv)this._importPrivate(z.priv,z.privEnc);if(z.pub)this._importPublic(z.pub,z.pubEnc)}q.exports=O,O.fromPublic=function(Y,z,H){if(z instanceof O)return z;return new O(Y,{pub:z,pubEnc:H})},O.fromPrivate=function(Y,z,H){if(z instanceof O)return z;return new O(Y,{priv:z,privEnc:H})},O.prototype.validate=function(){var Y=this.getPublic();if(Y.isInfinity())return{result:!1,reason:"Invalid public key"};if(!Y.validate())return{result:!1,reason:"Public key is not a point"};if(!Y.mul(this.ec.curve.n).isInfinity())return{result:!1,reason:"Public key * N != O"};return{result:!0,reason:null}},O.prototype.getPublic=function(Y,z){if(typeof Y==="string")z=Y,Y=null;if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!z)return this.pub;return this.pub.encode(z,Y)},O.prototype.getPrivate=function(Y){if(Y==="hex")return this.priv.toString(16,2);else return this.priv},O.prototype._importPrivate=function(Y,z){this.priv=new _(Y,z||16),this.priv=this.priv.umod(this.ec.curve.n)},O.prototype._importPublic=function(Y,z){if(Y.x||Y.y){if(this.ec.curve.type==="mont")P(Y.x,"Need x coordinate");else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")P(Y.x&&Y.y,"Need both x and y coordinate");this.pub=this.ec.curve.point(Y.x,Y.y);return}this.pub=this.ec.curve.decodePoint(Y,z)},O.prototype.derive=function(Y){if(!Y.validate())P(Y.validate(),"public point not validated");return Y.mul(this.priv).getX()},O.prototype.sign=function(Y,z,H){return this.ec.sign(Y,this,z,H)},O.prototype.verify=function(Y,z,H){return this.ec.verify(Y,z,this,void 0,H)},O.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),Ri=T$(($,q)=>{var _=N_(),K=M8(),P=K.assert;function O(f,w){if(f instanceof O)return f;if(this._importDER(f,w))return;if(P(f.r&&f.s,"Signature without r or s"),this.r=new _(f.r,16),this.s=new _(f.s,16),f.recoveryParam===void 0)this.recoveryParam=null;else this.recoveryParam=f.recoveryParam}q.exports=O;function Y(){this.place=0}function z(f,w){var k=f[w.place++];if(!(k&128))return k;var S=k&15;if(S===0||S>4)return!1;if(f[w.place]===0)return!1;var N=0;for(var h=0,E=w.place;h<S;h++,E++)N<<=8,N|=f[E],N>>>=0;if(N<=127)return!1;return w.place=E,N}function H(f){var w=0,k=f.length-1;while(!f[w]&&!(f[w+1]&128)&&w<k)w++;if(w===0)return f;return f.slice(w)}O.prototype._importDER=function(f,w){f=K.toArray(f,w);var k=new Y;if(f[k.place++]!==48)return!1;var S=z(f,k);if(S===!1)return!1;if(S+k.place!==f.length)return!1;if(f[k.place++]!==2)return!1;var N=z(f,k);if(N===!1)return!1;if((f[k.place]&128)!==0)return!1;var h=f.slice(k.place,N+k.place);if(k.place+=N,f[k.place++]!==2)return!1;var E=z(f,k);if(E===!1)return!1;if(f.length!==E+k.place)return!1;if((f[k.place]&128)!==0)return!1;var D=f.slice(k.place,E+k.place);if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;if(D[0]===0)if(D[1]&128)D=D.slice(1);else return!1;return this.r=new _(h),this.s=new _(D),this.recoveryParam=null,!0};function T(f,w){if(w<128){f.push(w);return}var k=1+(Math.log(w)/Math.LN2>>>3);f.push(k|128);while(--k)f.push(w>>>(k<<3)&255);f.push(w)}O.prototype.toDER=function(f){var w=this.r.toArray(),k=this.s.toArray();if(w[0]&128)w=[0].concat(w);if(k[0]&128)k=[0].concat(k);w=H(w),k=H(k);while(!k[0]&&!(k[1]&128))k=k.slice(1);var S=[2];T(S,w.length),S=S.concat(w),S.push(2),T(S,k.length);var N=S.concat(k),h=[48];return T(h,N.length),h=h.concat(N),K.encode(h,f)}}),Ii=T$(($,q)=>{var _=N_(),K=Ei(),P=M8(),O=AH(),Y=e0(),z=P.assert,H=hi(),T=Ri();function f(w){if(!(this instanceof f))return new f(w);if(typeof w==="string")z(Object.prototype.hasOwnProperty.call(O,w),"Unknown curve "+w),w=O[w];if(w instanceof O.PresetCurve)w={curve:w};this.curve=w.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=w.curve.g,this.g.precompute(w.curve.n.bitLength()+1),this.hash=w.hash||w.curve.hash}q.exports=f,f.prototype.keyPair=function(w){return new H(this,w)},f.prototype.keyFromPrivate=function(w,k){return H.fromPrivate(this,w,k)},f.prototype.keyFromPublic=function(w,k){return H.fromPublic(this,w,k)},f.prototype.genKeyPair=function(w){if(!w)w={};var k=new K({hash:this.hash,pers:w.pers,persEnc:w.persEnc||"utf8",entropy:w.entropy||Y(this.hash.hmacStrength),entropyEnc:w.entropy&&w.entropyEnc||"utf8",nonce:this.n.toArray()}),S=this.n.byteLength(),N=this.n.sub(new _(2));for(;;){var h=new _(k.generate(S));if(h.cmp(N)>0)continue;return h.iaddn(1),this.keyFromPrivate(h)}},f.prototype._truncateToN=function(w,k,S){var N;if(_.isBN(w)||typeof w==="number")w=new _(w,16),N=w.byteLength();else if(typeof w==="object")N=w.length,w=new _(w,16);else{var h=w.toString();N=h.length+1>>>1,w=new _(h,16)}if(typeof S!=="number")S=N*8;var E=S-this.n.bitLength();if(E>0)w=w.ushrn(E);if(!k&&w.cmp(this.n)>=0)return w.sub(this.n);else return w},f.prototype.sign=function(w,k,S,N){if(typeof S==="object")N=S,S=null;if(!N)N={};if(typeof w!=="string"&&typeof w!=="number"&&!_.isBN(w)){z(typeof w==="object"&&w&&typeof w.length==="number","Expected message to be an array-like, a hex string, or a BN instance"),z(w.length>>>0===w.length);for(var h=0;h<w.length;h++)z((w[h]&255)===w[h])}k=this.keyFromPrivate(k,S),w=this._truncateToN(w,!1,N.msgBitLength),z(!w.isNeg(),"Can not sign a negative message");var E=this.n.byteLength(),D=k.getPrivate().toArray("be",E),I=w.toArray("be",E);z(new _(I).eq(w),"Can not sign message");var L=new K({hash:this.hash,entropy:D,nonce:I,pers:N.pers,persEnc:N.persEnc||"utf8"}),g=this.n.sub(new _(1));for(var y=0;;y++){var c=N.k?N.k(y):new _(L.generate(this.n.byteLength()));if(c=this._truncateToN(c,!0),c.cmpn(1)<=0||c.cmp(g)>=0)continue;var o=this.g.mul(c);if(o.isInfinity())continue;var Q=o.getX(),U=Q.umod(this.n);if(U.cmpn(0)===0)continue;var p=c.invm(this.n).mul(U.mul(k.getPrivate()).iadd(w));if(p=p.umod(this.n),p.cmpn(0)===0)continue;var s=(o.getY().isOdd()?1:0)|(Q.cmp(U)!==0?2:0);if(N.canonical&&p.cmp(this.nh)>0)p=this.n.sub(p),s^=1;return new T({r:U,s:p,recoveryParam:s})}},f.prototype.verify=function(w,k,S,N,h){if(!h)h={};w=this._truncateToN(w,!1,h.msgBitLength),S=this.keyFromPublic(S,N),k=new T(k,"hex");var{r:E,s:D}=k;if(E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;if(D.cmpn(1)<0||D.cmp(this.n)>=0)return!1;var I=D.invm(this.n),L=I.mul(w).umod(this.n),g=I.mul(E).umod(this.n),y;if(!this.curve._maxwellTrick){if(y=this.g.mulAdd(L,S.getPublic(),g),y.isInfinity())return!1;return y.getX().umod(this.n).cmp(E)===0}if(y=this.g.jmulAdd(L,S.getPublic(),g),y.isInfinity())return!1;return y.eqXToP(E)},f.prototype.recoverPubKey=function(w,k,S,N){z((3&S)===S,"The recovery param is more than two bits"),k=new T(k,N);var h=this.n,E=new _(w),D=k.r,I=k.s,L=S&1,g=S>>1;if(D.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw Error("Unable to find sencond key candinate");if(g)D=this.curve.pointFromX(D.add(this.curve.n),L);else D=this.curve.pointFromX(D,L);var y=k.r.invm(h),c=h.sub(E).mul(y).umod(h),o=I.mul(y).umod(h);return this.g.mulAdd(c,D,o)},f.prototype.getKeyRecoveryParam=function(w,k,S,N){if(k=new T(k,N),k.recoveryParam!==null)return k.recoveryParam;for(var h=0;h<4;h++){var E;try{E=this.recoverPubKey(w,k,h)}catch(D){continue}if(E.eq(S))return h}throw Error("Unable to find valid recovery factor")}}),Di=T$(($,q)=>{var _=M8(),K=_.assert,P=_.parseBytes,O=_.cachedProperty;function Y(z,H){if(this.eddsa=z,this._secret=P(H.secret),z.isPoint(H.pub))this._pub=H.pub;else this._pubBytes=P(H.pub)}Y.fromPublic=function(z,H){if(H instanceof Y)return H;return new Y(z,{pub:H})},Y.fromSecret=function(z,H){if(H instanceof Y)return H;return new Y(z,{secret:H})},Y.prototype.secret=function(){return this._secret},O(Y,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),O(Y,"pub",function(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}),O(Y,"privBytes",function(){var z=this.eddsa,H=this.hash(),T=z.encodingLength-1,f=H.slice(0,z.encodingLength);return f[0]&=248,f[T]&=127,f[T]|=64,f}),O(Y,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),O(Y,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),O(Y,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Y.prototype.sign=function(z){return K(this._secret,"KeyPair can only verify"),this.eddsa.sign(z,this)},Y.prototype.verify=function(z,H){return this.eddsa.verify(z,H,this)},Y.prototype.getSecret=function(z){return K(this._secret,"KeyPair is public only"),_.encode(this.secret(),z)},Y.prototype.getPublic=function(z){return _.encode(this.pubBytes(),z)},q.exports=Y}),Li=T$(($,q)=>{var _=N_(),K=M8(),P=K.assert,O=K.cachedProperty,Y=K.parseBytes;function z(H,T){if(this.eddsa=H,typeof T!=="object")T=Y(T);if(Array.isArray(T))P(T.length===H.encodingLength*2,"Signature has invalid size"),T={R:T.slice(0,H.encodingLength),S:T.slice(H.encodingLength)};if(P(T.R&&T.S,"Signature without R or S"),H.isPoint(T.R))this._R=T.R;if(T.S instanceof _)this._S=T.S;this._Rencoded=Array.isArray(T.R)?T.R:T.Rencoded,this._Sencoded=Array.isArray(T.S)?T.S:T.Sencoded}O(z,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),O(z,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),O(z,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),O(z,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),z.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},z.prototype.toHex=function(){return K.encode(this.toBytes(),"hex").toUpperCase()},q.exports=z}),gi=T$(($,q)=>{var _=XH(),K=AH(),P=M8(),O=P.assert,Y=P.parseBytes,z=Di(),H=Li();function T(f){if(O(f==="ed25519","only tested with ed25519 so far"),!(this instanceof T))return new T(f);f=K[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=_.sha512}q.exports=T,T.prototype.sign=function(f,w){f=Y(f);var k=this.keyFromSecret(w),S=this.hashInt(k.messagePrefix(),f),N=this.g.mul(S),h=this.encodePoint(N),E=this.hashInt(h,k.pubBytes(),f).mul(k.priv()),D=S.add(E).umod(this.curve.n);return this.makeSignature({R:N,S:D,Rencoded:h})},T.prototype.verify=function(f,w,k){if(f=Y(f),w=this.makeSignature(w),w.S().gte(w.eddsa.curve.n)||w.S().isNeg())return!1;var S=this.keyFromPublic(k),N=this.hashInt(w.Rencoded(),S.pubBytes(),f),h=this.g.mul(w.S()),E=w.R().add(S.pub().mul(N));return E.eq(h)},T.prototype.hashInt=function(){var f=this.hash();for(var w=0;w<arguments.length;w++)f.update(arguments[w]);return P.intFromLE(f.digest()).umod(this.curve.n)},T.prototype.keyFromPublic=function(f){return z.fromPublic(this,f)},T.prototype.keyFromSecret=function(f){return z.fromSecret(this,f)},T.prototype.makeSignature=function(f){if(f instanceof H)return f;return new H(this,f)},T.prototype.encodePoint=function(f){var w=f.getY().toArray("le",this.encodingLength);return w[this.encodingLength-1]|=f.getX().isOdd()?128:0,w},T.prototype.decodePoint=function(f){f=P.parseBytes(f);var w=f.length-1,k=f.slice(0,w).concat(f[w]&-129),S=(f[w]&128)!==0,N=P.intFromLE(k);return this.curve.pointFromY(N,S)},T.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},T.prototype.decodeInt=function(f){return P.intFromLE(f)},T.prototype.isPoint=function(f){return f instanceof this.pointClass}}),bi=T$(($)=>{var q=$;q.version=wi().version,q.utils=M8(),q.rand=e0(),q.curve=s0(),q.curves=AH(),q.ec=Ii(),q.eddsa=gi()}),yi=T$(($,q)=>{(function(_,K){function P(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else K.BN=Y;Y.BN=Y,Y.wordSize=26;var z;try{if(typeof window<"u"&&typeof window.Buffer<"u")z=window.Buffer;else z=(wq(),J6(Tq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;P(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var W=0;if(j[0]==="-")W++,this.negative=1;if(W<j.length){if(J===16)this._parseHex(j,W,X);else if(this._parseBase(j,J,W),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else P(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(P(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z,V,M=0;if(X==="be"){for(W=j.length-1,Z=0;W>=0;W-=3)if(V=j[W]|j[W-1]<<8|j[W-2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}else if(X==="le"){for(W=0,Z=0;W<j.length;W+=3)if(V=j[W]|j[W+1]<<8|j[W+2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}return this.strip()};function H(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var W=H(j,X);if(X-1>=J)W|=H(j,X-1)<<4;return W}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z=0,V=0,M;if(X==="be")for(W=j.length-1;W>=J;W-=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8;else{var A=j.length-J;for(W=A%2===0?J+1:J;W<j.length;W+=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8}this.strip()};function f(j,J,X,W){var Z=0,V=Math.min(j.length,X);for(var M=J;M<V;M++){var A=j.charCodeAt(M)-48;if(Z*=W,A>=49)Z+=A-49+10;else if(A>=17)Z+=A-17+10;else Z+=A}return Z}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var W=0,Z=1;Z<=67108863;Z*=J)W++;W--,Z=Z/J|0;var V=j.length-X,M=V%W,A=Math.min(V,V-M)+X,v=0;for(var G=X;G<A;G+=W)if(v=f(j,G,G+W,J),this.imuln(Z),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v);if(M!==0){var R=1;v=f(j,G,j.length,J);for(G=0;G<M;G++)R*=J;if(this.imuln(R),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var W=0,Z=0;for(var V=0;V<this.length;V++){var M=this.words[V],A=((M<<W|Z)&16777215).toString(16);if(Z=M>>>24-W&16777215,W+=2,W>=26)W-=26,V--;if(Z!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(Z!==0)X=Z.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var v=k[j],G=S[j];X="";var R=this.clone();R.negative=0;while(!R.isZero()){var C=R.modn(G).toString(j);if(R=R.idivn(G),!R.isZero())X=w[v-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}P(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)P(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return P(typeof z<"u"),this.toArrayLike(z,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var W=this.byteLength(),Z=X||Math.max(1,W);P(W<=Z,"byte array longer than desired length"),P(Z>0,"Requested array length <= 0"),this.strip();var V=J==="le",M=new j(Z),A,v,G=this.clone();if(!V){for(v=0;v<Z-W;v++)M[v]=0;for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[Z-v-1]=A}else{for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[v]=A;for(;v<Z;v++)M[v]=0}return M},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var W=X/26|0,Z=X%26;J[X]=(j.words[W]&1<<Z)>>>Z}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return P((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return P((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var W=0;W<X.length;W++)this.words[W]=J.words[W]^X.words[W];if(this!==J)for(;W<J.length;W++)this.words[W]=J.words[W];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return P((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){P(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var W=0;W<J;W++)this.words[W]=~this.words[W]&67108863;if(X>0)this.words[W]=~this.words[W]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){P(typeof j==="number"&&j>=0);var X=j/26|0,W=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<W;else this.words[X]=this.words[X]&~(1<<W);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,W;if(this.length>j.length)X=this,W=j;else X=j,W=this;var Z=0;for(var V=0;V<W.length;V++)J=(X.words[V]|0)+(W.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;for(;Z!==0&&V<X.length;V++)J=(X.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;if(this.length=X.length,Z!==0)this.words[this.length]=Z,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,Z;if(X>0)W=this,Z=j;else W=j,Z=this;var V=0;for(var M=0;M<Z.length;M++)J=(W.words[M]|0)-(Z.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;for(;V!==0&&M<W.length;M++)J=(W.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;if(V===0&&M<W.length&&W!==this)for(;M<W.length;M++)this.words[M]=W.words[M];if(this.length=Math.max(this.length,M),W!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function h(j,J,X){X.negative=J.negative^j.negative;var W=j.length+J.length|0;X.length=W,W=W-1|0;var Z=j.words[0]|0,V=J.words[0]|0,M=Z*V,A=M&67108863,v=M/67108864|0;X.words[0]=A;for(var G=1;G<W;G++){var R=v>>>26,C=v&67108863,b=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=b;x++){var l=G-x|0;Z=j.words[l]|0,V=J.words[x]|0,M=Z*V+C,R+=M/67108864|0,C=M&67108863}X.words[G]=C|0,v=R|0}if(v!==0)X.words[G]=v|0;else X.length--;return X.strip()}var E=function(j,J,X){var W=j.words,Z=J.words,V=X.words,M=0,A,v,G,R=W[0]|0,C=R&8191,b=R>>>13,x=W[1]|0,l=x&8191,a=x>>>13,f$=W[2]|0,q$=f$&8191,B=f$>>>13,v$=W[3]|0,e=v$&8191,P$=v$>>>13,o$=W[4]|0,m=o$&8191,r=o$>>>13,J$=W[5]|0,$$=J$&8191,_$=J$>>>13,Y$=W[6]|0,d=Y$&8191,n=Y$>>>13,H$=W[7]|0,t=H$&8191,F=H$>>>13,A$=W[8]|0,W$=A$&8191,z$=A$>>>13,Z6=W[9]|0,X$=Z6&8191,k$=Z6>>>13,o6=Z[0]|0,M$=o6&8191,S$=o6>>>13,Sq=Z[1]|0,E$=Sq&8191,g$=Sq>>>13,Mq=Z[2]|0,b$=Mq&8191,h$=Mq>>>13,fq=Z[3]|0,y$=fq&8191,R$=fq>>>13,zq=Z[4]|0,u$=zq&8191,x$=zq>>>13,Wq=Z[5]|0,I$=Wq&8191,u=Wq>>>13,i=Z[6]|0,K$=i&8191,O$=i>>>13,B$=Z[7]|0,G$=B$&8191,V$=B$>>>13,p6=Z[8]|0,D$=p6&8191,p$=p6>>>13,Zq=Z[9]|0,L$=Zq&8191,C$=Zq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),v=Math.imul(C,S$),v=v+Math.imul(b,M$)|0,G=Math.imul(b,S$);var c6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(c6>>>26)|0,c6&=67108863,A=Math.imul(l,M$),v=Math.imul(l,S$),v=v+Math.imul(a,M$)|0,G=Math.imul(a,S$),A=A+Math.imul(C,E$)|0,v=v+Math.imul(C,g$)|0,v=v+Math.imul(b,E$)|0,G=G+Math.imul(b,g$)|0;var W6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(W6>>>26)|0,W6&=67108863,A=Math.imul(q$,M$),v=Math.imul(q$,S$),v=v+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(l,E$)|0,v=v+Math.imul(l,g$)|0,v=v+Math.imul(a,E$)|0,G=G+Math.imul(a,g$)|0,A=A+Math.imul(C,b$)|0,v=v+Math.imul(C,h$)|0,v=v+Math.imul(b,b$)|0,G=G+Math.imul(b,h$)|0;var j6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(j6>>>26)|0,j6&=67108863,A=Math.imul(e,M$),v=Math.imul(e,S$),v=v+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(q$,E$)|0,v=v+Math.imul(q$,g$)|0,v=v+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(l,b$)|0,v=v+Math.imul(l,h$)|0,v=v+Math.imul(a,b$)|0,G=G+Math.imul(a,h$)|0,A=A+Math.imul(C,y$)|0,v=v+Math.imul(C,R$)|0,v=v+Math.imul(b,y$)|0,G=G+Math.imul(b,R$)|0;var E6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(m,M$),v=Math.imul(m,S$),v=v+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(e,E$)|0,v=v+Math.imul(e,g$)|0,v=v+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(q$,b$)|0,v=v+Math.imul(q$,h$)|0,v=v+Math.imul(B,b$)|0,G=G+Math.imul(B,h$)|0,A=A+Math.imul(l,y$)|0,v=v+Math.imul(l,R$)|0,v=v+Math.imul(a,y$)|0,G=G+Math.imul(a,R$)|0,A=A+Math.imul(C,u$)|0,v=v+Math.imul(C,x$)|0,v=v+Math.imul(b,u$)|0,G=G+Math.imul(b,x$)|0;var S6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(S6>>>26)|0,S6&=67108863,A=Math.imul($$,M$),v=Math.imul($$,S$),v=v+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,v=v+Math.imul(m,g$)|0,v=v+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(e,b$)|0,v=v+Math.imul(e,h$)|0,v=v+Math.imul(P$,b$)|0,G=G+Math.imul(P$,h$)|0,A=A+Math.imul(q$,y$)|0,v=v+Math.imul(q$,R$)|0,v=v+Math.imul(B,y$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(l,u$)|0,v=v+Math.imul(l,x$)|0,v=v+Math.imul(a,u$)|0,G=G+Math.imul(a,x$)|0,A=A+Math.imul(C,I$)|0,v=v+Math.imul(C,u)|0,v=v+Math.imul(b,I$)|0,G=G+Math.imul(b,u)|0;var t6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(t6>>>26)|0,t6&=67108863,A=Math.imul(d,M$),v=Math.imul(d,S$),v=v+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul($$,E$)|0,v=v+Math.imul($$,g$)|0,v=v+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,v=v+Math.imul(m,h$)|0,v=v+Math.imul(r,b$)|0,G=G+Math.imul(r,h$)|0,A=A+Math.imul(e,y$)|0,v=v+Math.imul(e,R$)|0,v=v+Math.imul(P$,y$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(q$,u$)|0,v=v+Math.imul(q$,x$)|0,v=v+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(l,I$)|0,v=v+Math.imul(l,u)|0,v=v+Math.imul(a,I$)|0,G=G+Math.imul(a,u)|0,A=A+Math.imul(C,K$)|0,v=v+Math.imul(C,O$)|0,v=v+Math.imul(b,K$)|0,G=G+Math.imul(b,O$)|0;var U6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(U6>>>26)|0,U6&=67108863,A=Math.imul(t,M$),v=Math.imul(t,S$),v=v+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,v=v+Math.imul(d,g$)|0,v=v+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul($$,b$)|0,v=v+Math.imul($$,h$)|0,v=v+Math.imul(_$,b$)|0,G=G+Math.imul(_$,h$)|0,A=A+Math.imul(m,y$)|0,v=v+Math.imul(m,R$)|0,v=v+Math.imul(r,y$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(e,u$)|0,v=v+Math.imul(e,x$)|0,v=v+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(q$,I$)|0,v=v+Math.imul(q$,u)|0,v=v+Math.imul(B,I$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(l,K$)|0,v=v+Math.imul(l,O$)|0,v=v+Math.imul(a,K$)|0,G=G+Math.imul(a,O$)|0,A=A+Math.imul(C,G$)|0,v=v+Math.imul(C,V$)|0,v=v+Math.imul(b,G$)|0,G=G+Math.imul(b,V$)|0;var F6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(F6>>>26)|0,F6&=67108863,A=Math.imul(W$,M$),v=Math.imul(W$,S$),v=v+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,v=v+Math.imul(t,g$)|0,v=v+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,v=v+Math.imul(d,h$)|0,v=v+Math.imul(n,b$)|0,G=G+Math.imul(n,h$)|0,A=A+Math.imul($$,y$)|0,v=v+Math.imul($$,R$)|0,v=v+Math.imul(_$,y$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,u$)|0,v=v+Math.imul(m,x$)|0,v=v+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(e,I$)|0,v=v+Math.imul(e,u)|0,v=v+Math.imul(P$,I$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(q$,K$)|0,v=v+Math.imul(q$,O$)|0,v=v+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(l,G$)|0,v=v+Math.imul(l,V$)|0,v=v+Math.imul(a,G$)|0,G=G+Math.imul(a,V$)|0,A=A+Math.imul(C,D$)|0,v=v+Math.imul(C,p$)|0,v=v+Math.imul(b,D$)|0,G=G+Math.imul(b,p$)|0;var a6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(X$,M$),v=Math.imul(X$,S$),v=v+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(W$,E$)|0,v=v+Math.imul(W$,g$)|0,v=v+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,v=v+Math.imul(t,h$)|0,v=v+Math.imul(F,b$)|0,G=G+Math.imul(F,h$)|0,A=A+Math.imul(d,y$)|0,v=v+Math.imul(d,R$)|0,v=v+Math.imul(n,y$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul($$,u$)|0,v=v+Math.imul($$,x$)|0,v=v+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,I$)|0,v=v+Math.imul(m,u)|0,v=v+Math.imul(r,I$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(e,K$)|0,v=v+Math.imul(e,O$)|0,v=v+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(q$,G$)|0,v=v+Math.imul(q$,V$)|0,v=v+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(l,D$)|0,v=v+Math.imul(l,p$)|0,v=v+Math.imul(a,D$)|0,G=G+Math.imul(a,p$)|0,A=A+Math.imul(C,L$)|0,v=v+Math.imul(C,C$)|0,v=v+Math.imul(b,L$)|0,G=G+Math.imul(b,C$)|0;var Q6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(X$,E$),v=Math.imul(X$,g$),v=v+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(W$,b$)|0,v=v+Math.imul(W$,h$)|0,v=v+Math.imul(z$,b$)|0,G=G+Math.imul(z$,h$)|0,A=A+Math.imul(t,y$)|0,v=v+Math.imul(t,R$)|0,v=v+Math.imul(F,y$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,u$)|0,v=v+Math.imul(d,x$)|0,v=v+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul($$,I$)|0,v=v+Math.imul($$,u)|0,v=v+Math.imul(_$,I$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,v=v+Math.imul(m,O$)|0,v=v+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(e,G$)|0,v=v+Math.imul(e,V$)|0,v=v+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(q$,D$)|0,v=v+Math.imul(q$,p$)|0,v=v+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(l,L$)|0,v=v+Math.imul(l,C$)|0,v=v+Math.imul(a,L$)|0,G=G+Math.imul(a,C$)|0;var e6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(X$,b$),v=Math.imul(X$,h$),v=v+Math.imul(k$,b$)|0,G=Math.imul(k$,h$),A=A+Math.imul(W$,y$)|0,v=v+Math.imul(W$,R$)|0,v=v+Math.imul(z$,y$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,u$)|0,v=v+Math.imul(t,x$)|0,v=v+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,I$)|0,v=v+Math.imul(d,u)|0,v=v+Math.imul(n,I$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul($$,K$)|0,v=v+Math.imul($$,O$)|0,v=v+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,v=v+Math.imul(m,V$)|0,v=v+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(e,D$)|0,v=v+Math.imul(e,p$)|0,v=v+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(q$,L$)|0,v=v+Math.imul(q$,C$)|0,v=v+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var s6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,y$),v=Math.imul(X$,R$),v=v+Math.imul(k$,y$)|0,G=Math.imul(k$,R$),A=A+Math.imul(W$,u$)|0,v=v+Math.imul(W$,x$)|0,v=v+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,I$)|0,v=v+Math.imul(t,u)|0,v=v+Math.imul(F,I$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,v=v+Math.imul(d,O$)|0,v=v+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul($$,G$)|0,v=v+Math.imul($$,V$)|0,v=v+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,v=v+Math.imul(m,p$)|0,v=v+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(e,L$)|0,v=v+Math.imul(e,C$)|0,v=v+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var $q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,u$),v=Math.imul(X$,x$),v=v+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(W$,I$)|0,v=v+Math.imul(W$,u)|0,v=v+Math.imul(z$,I$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,v=v+Math.imul(t,O$)|0,v=v+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,v=v+Math.imul(d,V$)|0,v=v+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul($$,D$)|0,v=v+Math.imul($$,p$)|0,v=v+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,v=v+Math.imul(m,C$)|0,v=v+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var qq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,I$),v=Math.imul(X$,u),v=v+Math.imul(k$,I$)|0,G=Math.imul(k$,u),A=A+Math.imul(W$,K$)|0,v=v+Math.imul(W$,O$)|0,v=v+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,v=v+Math.imul(t,V$)|0,v=v+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,v=v+Math.imul(d,p$)|0,v=v+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul($$,L$)|0,v=v+Math.imul($$,C$)|0,v=v+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var _q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,K$),v=Math.imul(X$,O$),v=v+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(W$,G$)|0,v=v+Math.imul(W$,V$)|0,v=v+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,v=v+Math.imul(t,p$)|0,v=v+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,v=v+Math.imul(d,C$)|0,v=v+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var Kq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,G$),v=Math.imul(X$,V$),v=v+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(W$,D$)|0,v=v+Math.imul(W$,p$)|0,v=v+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,v=v+Math.imul(t,C$)|0,v=v+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var Pq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,D$),v=Math.imul(X$,p$),v=v+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(W$,L$)|0,v=v+Math.imul(W$,C$)|0,v=v+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var Oq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,L$),v=Math.imul(X$,C$),v=v+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var Yq=(M+A|0)+((v&8191)<<13)|0;if(M=(G+(v>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,V[0]=c6,V[1]=W6,V[2]=j6,V[3]=E6,V[4]=S6,V[5]=t6,V[6]=U6,V[7]=F6,V[8]=a6,V[9]=Q6,V[10]=e6,V[11]=s6,V[12]=$q,V[13]=qq,V[14]=_q,V[15]=Kq,V[16]=Pq,V[17]=Oq,V[18]=Yq,M!==0)V[19]=M,X.length++;return X};if(!Math.imul)E=h;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var W=0,Z=0;for(var V=0;V<X.length-1;V++){var M=Z;Z=0;var A=W&67108863,v=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=v;G++){var R=V-G,C=j.words[R]|0,b=J.words[G]|0,x=C*b,l=x&67108863;M=M+(x/67108864|0)|0,l=l+A|0,A=l&67108863,M=M+(l>>>26)|0,Z+=M>>>26,M&=67108863}X.words[V]=A,W=M,M=Z}if(W!==0)X.words[V]=W;else X.length--;return X.strip()}function I(j,J,X){var W=new L;return W.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,W=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(W<63)X=h(this,j,J);else if(W<1024)X=D(this,j,J);else X=I(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var W=0;W<j;W++)J[W]=this.revBin(W,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var W=0;for(var Z=0;Z<J;Z++)W|=(j&1)<<J-Z-1,j>>=1;return W},L.prototype.permute=function(j,J,X,W,Z,V){for(var M=0;M<V;M++)W[M]=J[j[M]],Z[M]=X[j[M]]},L.prototype.transform=function(j,J,X,W,Z,V){this.permute(V,j,J,X,W,Z);for(var M=1;M<Z;M<<=1){var A=M<<1,v=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var R=0;R<Z;R+=A){var C=v,b=G;for(var x=0;x<M;x++){var l=X[R+x],a=W[R+x],f$=X[R+x+M],q$=W[R+x+M],B=C*f$-b*q$;if(q$=C*q$+b*f$,f$=B,X[R+x]=l+f$,W[R+x]=a+q$,X[R+x+M]=l-f$,W[R+x+M]=a-q$,x!==A)B=v*C-G*b,b=v*b+G*C,C=B}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,W=X&1,Z=0;for(X=X/2|0;X;X=X>>>1)Z++;return 1<<Z+1+W},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var W=0;W<X/2;W++){var Z=j[W];j[W]=j[X-W-1],j[X-W-1]=Z,Z=J[W],J[W]=-J[X-W-1],J[X-W-1]=-Z}},L.prototype.normalize13b=function(j,J){var X=0;for(var W=0;W<J/2;W++){var Z=Math.round(j[2*W+1]/J)*8192+Math.round(j[2*W]/J)+X;if(j[W]=Z&67108863,Z<67108864)X=0;else X=Z/67108864|0}return j},L.prototype.convert13b=function(j,J,X,W){var Z=0;for(var V=0;V<J;V++)Z=Z+(j[V]|0),X[2*V]=Z&8191,Z=Z>>>13,X[2*V+1]=Z&8191,Z=Z>>>13;for(V=2*J;V<W;++V)X[V]=0;P(Z===0),P((Z&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var W=2*this.guessLen13b(j.length,J.length),Z=this.makeRBT(W),V=this.stub(W),M=Array(W),A=Array(W),v=Array(W),G=Array(W),R=Array(W),C=Array(W),b=X.words;b.length=W,this.convert13b(j.words,j.length,M,W),this.convert13b(J.words,J.length,G,W),this.transform(M,V,A,v,W,Z),this.transform(G,V,R,C,W,Z);for(var x=0;x<W;x++){var l=A[x]*R[x]-v[x]*C[x];v[x]=A[x]*C[x]+v[x]*R[x],A[x]=l}return this.conjugate(A,v,W),this.transform(A,v,b,V,W,Z),this.conjugate(b,V,W),this.normalize13b(b,W),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),I(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){P(typeof j==="number"),P(j<67108864);var J=0;for(var X=0;X<this.length;X++){var W=(this.words[X]|0)*j,Z=(W&67108863)+(J&67108863);J>>=26,J+=W/67108864|0,J+=Z>>>26,this.words[X]=Z&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var W=0;W<J.length;W++,X=X.sqr())if(J[W]!==0)break;if(++W<J.length)for(var Z=X.sqr();W<J.length;W++,Z=Z.sqr()){if(J[W]===0)continue;X=X.mul(Z)}return X},Y.prototype.iushln=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=67108863>>>26-J<<26-J,Z;if(J!==0){var V=0;for(Z=0;Z<this.length;Z++){var M=this.words[Z]&W,A=(this.words[Z]|0)-M<<J;this.words[Z]=A|V,V=M>>>26-J}if(V)this.words[Z]=V,this.length++}if(X!==0){for(Z=this.length-1;Z>=0;Z--)this.words[Z+X]=this.words[Z];for(Z=0;Z<X;Z++)this.words[Z]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return P(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){P(typeof j==="number"&&j>=0);var W;if(J)W=(J-J%26)/26;else W=0;var Z=j%26,V=Math.min((j-Z)/26,this.length),M=67108863^67108863>>>Z<<Z,A=X;if(W-=V,W=Math.max(0,W),A){for(var v=0;v<V;v++)A.words[v]=this.words[v];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(v=0;v<this.length;v++)this.words[v]=this.words[v+V]}else this.words[0]=0,this.length=1;var G=0;for(v=this.length-1;v>=0&&(G!==0||v>=W);v--){var R=this.words[v]|0;this.words[v]=G<<26-Z|R>>>Z,G=R&M}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return P(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return!1;var Z=this.words[X];return!!(Z&W)},Y.prototype.imaskn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var W=67108863^67108863>>>J<<J;this.words[this.length-1]&=W}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var W=j.length+X,Z;this._expand(W);var V,M=0;for(Z=0;Z<j.length;Z++){V=(this.words[Z+X]|0)+M;var A=(j.words[Z]|0)*J;V-=A&67108863,M=(V>>26)-(A/67108864|0),this.words[Z+X]=V&67108863}for(;Z<this.length-X;Z++)V=(this.words[Z+X]|0)+M,M=V>>26,this.words[Z+X]=V&67108863;if(M===0)return this.strip();P(M===-1),M=0;for(Z=0;Z<this.length;Z++)V=-(this.words[Z]|0)+M,M=V>>26,this.words[Z]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,W=this.clone(),Z=j,V=Z.words[Z.length-1]|0,M=this._countBits(V);if(X=26-M,X!==0)Z=Z.ushln(X),W.iushln(X),V=Z.words[Z.length-1]|0;var A=W.length-Z.length,v;if(J!=="mod"){v=new Y(null),v.length=A+1,v.words=Array(v.length);for(var G=0;G<v.length;G++)v.words[G]=0}var R=W.clone()._ishlnsubmul(Z,1,A);if(R.negative===0){if(W=R,v)v.words[A]=1}for(var C=A-1;C>=0;C--){var b=(W.words[Z.length+C]|0)*67108864+(W.words[Z.length+C-1]|0);b=Math.min(b/V|0,67108863),W._ishlnsubmul(Z,b,C);while(W.negative!==0)if(b--,W.negative=0,W._ishlnsubmul(Z,1,C),!W.isZero())W.negative^=1;if(v)v.words[C]=b}if(v)v.strip();if(W.strip(),J!=="div"&&X!==0)W.iushrn(X);return{div:v||null,mod:W}},Y.prototype.divmod=function(j,J,X){if(P(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var W,Z,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")W=V.div.neg();if(J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.iadd(j)}return{div:W,mod:Z}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")W=V.div.neg();return{div:W,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.isub(j)}return{div:V.div,mod:Z}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,W=j.ushrn(1),Z=j.andln(1),V=X.cmp(W);if(V<0||Z===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){P(j<=67108863);var J=67108864%j,X=0;for(var W=this.length-1;W>=0;W--)X=(J*X+(this.words[W]|0))%j;return X},Y.prototype.idivn=function(j){P(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var W=(this.words[X]|0)+J*67108864;this.words[X]=W/j|0,J=W%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=new Y(0),M=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var v=X.clone(),G=J.clone();while(!J.isZero()){for(var R=0,C=1;(J.words[0]&C)===0&&R<26;++R,C<<=1);if(R>0){J.iushrn(R);while(R-- >0){if(W.isOdd()||Z.isOdd())W.iadd(v),Z.isub(G);W.iushrn(1),Z.iushrn(1)}}for(var b=0,x=1;(X.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0){X.iushrn(b);while(b-- >0){if(V.isOdd()||M.isOdd())V.iadd(v),M.isub(G);V.iushrn(1),M.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(V),Z.isub(M);else X.isub(J),V.isub(W),M.isub(Z)}return{a:V,b:M,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var M=0,A=1;(J.words[0]&A)===0&&M<26;++M,A<<=1);if(M>0){J.iushrn(M);while(M-- >0){if(W.isOdd())W.iadd(V);W.iushrn(1)}}for(var v=0,G=1;(X.words[0]&G)===0&&v<26;++v,G<<=1);if(v>0){X.iushrn(v);while(v-- >0){if(Z.isOdd())Z.iadd(V);Z.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(Z);else X.isub(J),Z.isub(W)}var R;if(J.cmpn(1)===0)R=W;else R=Z;if(R.cmpn(0)<0)R.iadd(j);return R},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var W=0;J.isEven()&&X.isEven();W++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var Z=J.cmp(X);if(Z<0){var V=J;J=X,X=V}else if(Z===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(W)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){P(typeof j==="number");var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=W,this;var Z=W;for(var V=X;Z!==0&&V<this.length;V++){var M=this.words[V]|0;M+=Z,Z=M>>>26,M&=67108863,this.words[V]=M}if(Z!==0)this.words[V]=Z,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;P(j<=67108863,"Number is too big");var W=this.words[0]|0;X=W===j?0:W<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var W=this.words[X]|0,Z=j.words[X]|0;if(W===Z)continue;if(W<Z)J=-1;else if(W>Z)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new p(j)},Y.prototype.toRed=function(j){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return P(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return P(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var g={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var W=X<this.n?-1:J.ucmp(this.p);if(W===0)J.words[0]=0,J.length=1;else if(W>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function c(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(c,y),c.prototype.split=function(j,J){var X=4194303,W=Math.min(j.length,9);for(var Z=0;Z<W;Z++)J.words[Z]=j.words[Z];if(J.length=W,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(Z=10;Z<j.length;Z++){var M=j.words[Z]|0;j.words[Z-10]=(M&X)<<4|V>>>22,V=M}if(V>>>=22,j.words[Z-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},c.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var W=j.words[X]|0;J+=W*977,j.words[X]=J&67108863,J=W*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function o(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(o,y);function Q(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Q,y);function U(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(U,y),U.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var W=(j.words[X]|0)*19+J,Z=W&67108863;W>>>=26,j.words[X]=Z,J=W}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(g[j])return g[j];var J;if(j==="k256")J=new c;else if(j==="p224")J=new o;else if(j==="p192")J=new Q;else if(j==="p25519")J=new U;else throw Error("Unknown prime "+j);return g[j]=J,J};function p(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else P(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}p.prototype._verify1=function(j){P(j.negative===0,"red works only with positives"),P(j.red,"red works only with red numbers")},p.prototype._verify2=function(j,J){P((j.negative|J.negative)===0,"red works only with positives"),P(j.red&&j.red===J.red,"red works only with red numbers")},p.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},p.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},p.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},p.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},p.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},p.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},p.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},p.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},p.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},p.prototype.isqr=function(j){return this.imul(j,j.clone())},p.prototype.sqr=function(j){return this.mul(j,j)},p.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(P(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var W=this.m.subn(1),Z=0;while(!W.isZero()&&W.andln(1)===0)Z++,W.iushrn(1);P(!W.isZero());var V=new Y(1).toRed(this),M=V.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();v=new Y(2*v*v).toRed(this);while(this.pow(v,A).cmp(M)!==0)v.redIAdd(M);var G=this.pow(v,W),R=this.pow(j,W.addn(1).iushrn(1)),C=this.pow(j,W),b=Z;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();P(l<b);var a=this.pow(G,new Y(1).iushln(b-l-1));R=R.redMul(a),G=a.redSqr(),C=C.redMul(G),b=l}return R},p.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},p.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,W=Array(1<<X);W[0]=new Y(1).toRed(this),W[1]=j;for(var Z=2;Z<W.length;Z++)W[Z]=this.mul(W[Z-1],j);var V=W[0],M=0,A=0,v=J.bitLength()%26;if(v===0)v=26;for(Z=J.length-1;Z>=0;Z--){var G=J.words[Z];for(var R=v-1;R>=0;R--){var C=G>>R&1;if(V!==W[0])V=this.sqr(V);if(C===0&&M===0){A=0;continue}if(M<<=1,M|=C,A++,A!==X&&(Z!==0||R!==0))continue;V=this.mul(V,W[M]),A=0,M=0}v=26}return V},p.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},p.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new s(j)};function s(j){if(p.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(s,p),s.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},s.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},s.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),ui=T$(($,q)=>{var _=bi(),K=yi();q.exports=function(z){return new O(z)};var P={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};P.p224=P.secp224r1,P.p256=P.secp256r1=P.prime256v1,P.p192=P.secp192r1=P.prime192v1,P.p384=P.secp384r1,P.p521=P.secp521r1;function O(z){if(this.curveType=P[z],!this.curveType)this.curveType={name:z};this.curve=new _.ec(this.curveType.name),this.keys=void 0}O.prototype.generateKeys=function(z,H){return this.keys=this.curve.genKeyPair(),this.getPublicKey(z,H)},O.prototype.computeSecret=function(z,H,T){if(H=H||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,H);var f=this.curve.keyFromPublic(z).getPublic(),w=f.mul(this.keys.getPrivate()).getX();return Y(w,T,this.curveType.byteLength)},O.prototype.getPublicKey=function(z,H){var T=this.keys.getPublic(H==="compressed",!0);if(H==="hybrid")if(T[T.length-1]%2)T[0]=7;else T[0]=6;return Y(T,z)},O.prototype.getPrivateKey=function(z){return Y(this.keys.getPrivate(),z)},O.prototype.setPublicKey=function(z,H){if(H=H||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,H);return this.keys._importPublic(z),this},O.prototype.setPrivateKey=function(z,H){if(H=H||"utf8",!Buffer.isBuffer(z))z=new Buffer(z,H);var T=new K(z);return T=T.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(T),this};function Y(z,H,T){if(!Array.isArray(z))z=z.toArray();var f=new Buffer(z);if(T&&f.length<T){var w=new Buffer(T-f.length);w.fill(0),f=Buffer.concat([w,f])}if(!H)return f;else return f.toString(H)}}),xi=T$(($,q)=>{var _=(rq(),J6(lq)).createECDH;q.exports=_||ui()}),pi=T$(($,q)=>{(function(_,K){function P(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else K.BN=Y;Y.BN=Y,Y.wordSize=26;var z;try{if(typeof window<"u"&&typeof window.Buffer<"u")z=window.Buffer;else z=(wq(),J6(Tq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;P(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var W=0;if(j[0]==="-")W++,this.negative=1;if(W<j.length){if(J===16)this._parseHex(j,W,X);else if(this._parseBase(j,J,W),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else P(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(P(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z,V,M=0;if(X==="be"){for(W=j.length-1,Z=0;W>=0;W-=3)if(V=j[W]|j[W-1]<<8|j[W-2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}else if(X==="le"){for(W=0,Z=0;W<j.length;W+=3)if(V=j[W]|j[W+1]<<8|j[W+2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}return this.strip()};function H(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var W=H(j,X);if(X-1>=J)W|=H(j,X-1)<<4;return W}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z=0,V=0,M;if(X==="be")for(W=j.length-1;W>=J;W-=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8;else{var A=j.length-J;for(W=A%2===0?J+1:J;W<j.length;W+=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8}this.strip()};function f(j,J,X,W){var Z=0,V=Math.min(j.length,X);for(var M=J;M<V;M++){var A=j.charCodeAt(M)-48;if(Z*=W,A>=49)Z+=A-49+10;else if(A>=17)Z+=A-17+10;else Z+=A}return Z}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var W=0,Z=1;Z<=67108863;Z*=J)W++;W--,Z=Z/J|0;var V=j.length-X,M=V%W,A=Math.min(V,V-M)+X,v=0;for(var G=X;G<A;G+=W)if(v=f(j,G,G+W,J),this.imuln(Z),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v);if(M!==0){var R=1;v=f(j,G,j.length,J);for(G=0;G<M;G++)R*=J;if(this.imuln(R),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var W=0,Z=0;for(var V=0;V<this.length;V++){var M=this.words[V],A=((M<<W|Z)&16777215).toString(16);if(Z=M>>>24-W&16777215,W+=2,W>=26)W-=26,V--;if(Z!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(Z!==0)X=Z.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var v=k[j],G=S[j];X="";var R=this.clone();R.negative=0;while(!R.isZero()){var C=R.modn(G).toString(j);if(R=R.idivn(G),!R.isZero())X=w[v-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}P(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)P(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return P(typeof z<"u"),this.toArrayLike(z,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var W=this.byteLength(),Z=X||Math.max(1,W);P(W<=Z,"byte array longer than desired length"),P(Z>0,"Requested array length <= 0"),this.strip();var V=J==="le",M=new j(Z),A,v,G=this.clone();if(!V){for(v=0;v<Z-W;v++)M[v]=0;for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[Z-v-1]=A}else{for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[v]=A;for(;v<Z;v++)M[v]=0}return M},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var W=X/26|0,Z=X%26;J[X]=(j.words[W]&1<<Z)>>>Z}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return P((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return P((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var W=0;W<X.length;W++)this.words[W]=J.words[W]^X.words[W];if(this!==J)for(;W<J.length;W++)this.words[W]=J.words[W];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return P((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){P(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var W=0;W<J;W++)this.words[W]=~this.words[W]&67108863;if(X>0)this.words[W]=~this.words[W]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){P(typeof j==="number"&&j>=0);var X=j/26|0,W=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<W;else this.words[X]=this.words[X]&~(1<<W);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,W;if(this.length>j.length)X=this,W=j;else X=j,W=this;var Z=0;for(var V=0;V<W.length;V++)J=(X.words[V]|0)+(W.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;for(;Z!==0&&V<X.length;V++)J=(X.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;if(this.length=X.length,Z!==0)this.words[this.length]=Z,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,Z;if(X>0)W=this,Z=j;else W=j,Z=this;var V=0;for(var M=0;M<Z.length;M++)J=(W.words[M]|0)-(Z.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;for(;V!==0&&M<W.length;M++)J=(W.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;if(V===0&&M<W.length&&W!==this)for(;M<W.length;M++)this.words[M]=W.words[M];if(this.length=Math.max(this.length,M),W!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function h(j,J,X){X.negative=J.negative^j.negative;var W=j.length+J.length|0;X.length=W,W=W-1|0;var Z=j.words[0]|0,V=J.words[0]|0,M=Z*V,A=M&67108863,v=M/67108864|0;X.words[0]=A;for(var G=1;G<W;G++){var R=v>>>26,C=v&67108863,b=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=b;x++){var l=G-x|0;Z=j.words[l]|0,V=J.words[x]|0,M=Z*V+C,R+=M/67108864|0,C=M&67108863}X.words[G]=C|0,v=R|0}if(v!==0)X.words[G]=v|0;else X.length--;return X.strip()}var E=function(j,J,X){var W=j.words,Z=J.words,V=X.words,M=0,A,v,G,R=W[0]|0,C=R&8191,b=R>>>13,x=W[1]|0,l=x&8191,a=x>>>13,f$=W[2]|0,q$=f$&8191,B=f$>>>13,v$=W[3]|0,e=v$&8191,P$=v$>>>13,o$=W[4]|0,m=o$&8191,r=o$>>>13,J$=W[5]|0,$$=J$&8191,_$=J$>>>13,Y$=W[6]|0,d=Y$&8191,n=Y$>>>13,H$=W[7]|0,t=H$&8191,F=H$>>>13,A$=W[8]|0,W$=A$&8191,z$=A$>>>13,Z6=W[9]|0,X$=Z6&8191,k$=Z6>>>13,o6=Z[0]|0,M$=o6&8191,S$=o6>>>13,Sq=Z[1]|0,E$=Sq&8191,g$=Sq>>>13,Mq=Z[2]|0,b$=Mq&8191,h$=Mq>>>13,fq=Z[3]|0,y$=fq&8191,R$=fq>>>13,zq=Z[4]|0,u$=zq&8191,x$=zq>>>13,Wq=Z[5]|0,I$=Wq&8191,u=Wq>>>13,i=Z[6]|0,K$=i&8191,O$=i>>>13,B$=Z[7]|0,G$=B$&8191,V$=B$>>>13,p6=Z[8]|0,D$=p6&8191,p$=p6>>>13,Zq=Z[9]|0,L$=Zq&8191,C$=Zq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),v=Math.imul(C,S$),v=v+Math.imul(b,M$)|0,G=Math.imul(b,S$);var c6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(c6>>>26)|0,c6&=67108863,A=Math.imul(l,M$),v=Math.imul(l,S$),v=v+Math.imul(a,M$)|0,G=Math.imul(a,S$),A=A+Math.imul(C,E$)|0,v=v+Math.imul(C,g$)|0,v=v+Math.imul(b,E$)|0,G=G+Math.imul(b,g$)|0;var W6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(W6>>>26)|0,W6&=67108863,A=Math.imul(q$,M$),v=Math.imul(q$,S$),v=v+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(l,E$)|0,v=v+Math.imul(l,g$)|0,v=v+Math.imul(a,E$)|0,G=G+Math.imul(a,g$)|0,A=A+Math.imul(C,b$)|0,v=v+Math.imul(C,h$)|0,v=v+Math.imul(b,b$)|0,G=G+Math.imul(b,h$)|0;var j6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(j6>>>26)|0,j6&=67108863,A=Math.imul(e,M$),v=Math.imul(e,S$),v=v+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(q$,E$)|0,v=v+Math.imul(q$,g$)|0,v=v+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(l,b$)|0,v=v+Math.imul(l,h$)|0,v=v+Math.imul(a,b$)|0,G=G+Math.imul(a,h$)|0,A=A+Math.imul(C,y$)|0,v=v+Math.imul(C,R$)|0,v=v+Math.imul(b,y$)|0,G=G+Math.imul(b,R$)|0;var E6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(m,M$),v=Math.imul(m,S$),v=v+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(e,E$)|0,v=v+Math.imul(e,g$)|0,v=v+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(q$,b$)|0,v=v+Math.imul(q$,h$)|0,v=v+Math.imul(B,b$)|0,G=G+Math.imul(B,h$)|0,A=A+Math.imul(l,y$)|0,v=v+Math.imul(l,R$)|0,v=v+Math.imul(a,y$)|0,G=G+Math.imul(a,R$)|0,A=A+Math.imul(C,u$)|0,v=v+Math.imul(C,x$)|0,v=v+Math.imul(b,u$)|0,G=G+Math.imul(b,x$)|0;var S6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(S6>>>26)|0,S6&=67108863,A=Math.imul($$,M$),v=Math.imul($$,S$),v=v+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,v=v+Math.imul(m,g$)|0,v=v+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(e,b$)|0,v=v+Math.imul(e,h$)|0,v=v+Math.imul(P$,b$)|0,G=G+Math.imul(P$,h$)|0,A=A+Math.imul(q$,y$)|0,v=v+Math.imul(q$,R$)|0,v=v+Math.imul(B,y$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(l,u$)|0,v=v+Math.imul(l,x$)|0,v=v+Math.imul(a,u$)|0,G=G+Math.imul(a,x$)|0,A=A+Math.imul(C,I$)|0,v=v+Math.imul(C,u)|0,v=v+Math.imul(b,I$)|0,G=G+Math.imul(b,u)|0;var t6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(t6>>>26)|0,t6&=67108863,A=Math.imul(d,M$),v=Math.imul(d,S$),v=v+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul($$,E$)|0,v=v+Math.imul($$,g$)|0,v=v+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,v=v+Math.imul(m,h$)|0,v=v+Math.imul(r,b$)|0,G=G+Math.imul(r,h$)|0,A=A+Math.imul(e,y$)|0,v=v+Math.imul(e,R$)|0,v=v+Math.imul(P$,y$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(q$,u$)|0,v=v+Math.imul(q$,x$)|0,v=v+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(l,I$)|0,v=v+Math.imul(l,u)|0,v=v+Math.imul(a,I$)|0,G=G+Math.imul(a,u)|0,A=A+Math.imul(C,K$)|0,v=v+Math.imul(C,O$)|0,v=v+Math.imul(b,K$)|0,G=G+Math.imul(b,O$)|0;var U6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(U6>>>26)|0,U6&=67108863,A=Math.imul(t,M$),v=Math.imul(t,S$),v=v+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,v=v+Math.imul(d,g$)|0,v=v+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul($$,b$)|0,v=v+Math.imul($$,h$)|0,v=v+Math.imul(_$,b$)|0,G=G+Math.imul(_$,h$)|0,A=A+Math.imul(m,y$)|0,v=v+Math.imul(m,R$)|0,v=v+Math.imul(r,y$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(e,u$)|0,v=v+Math.imul(e,x$)|0,v=v+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(q$,I$)|0,v=v+Math.imul(q$,u)|0,v=v+Math.imul(B,I$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(l,K$)|0,v=v+Math.imul(l,O$)|0,v=v+Math.imul(a,K$)|0,G=G+Math.imul(a,O$)|0,A=A+Math.imul(C,G$)|0,v=v+Math.imul(C,V$)|0,v=v+Math.imul(b,G$)|0,G=G+Math.imul(b,V$)|0;var F6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(F6>>>26)|0,F6&=67108863,A=Math.imul(W$,M$),v=Math.imul(W$,S$),v=v+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,v=v+Math.imul(t,g$)|0,v=v+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,v=v+Math.imul(d,h$)|0,v=v+Math.imul(n,b$)|0,G=G+Math.imul(n,h$)|0,A=A+Math.imul($$,y$)|0,v=v+Math.imul($$,R$)|0,v=v+Math.imul(_$,y$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,u$)|0,v=v+Math.imul(m,x$)|0,v=v+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(e,I$)|0,v=v+Math.imul(e,u)|0,v=v+Math.imul(P$,I$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(q$,K$)|0,v=v+Math.imul(q$,O$)|0,v=v+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(l,G$)|0,v=v+Math.imul(l,V$)|0,v=v+Math.imul(a,G$)|0,G=G+Math.imul(a,V$)|0,A=A+Math.imul(C,D$)|0,v=v+Math.imul(C,p$)|0,v=v+Math.imul(b,D$)|0,G=G+Math.imul(b,p$)|0;var a6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(X$,M$),v=Math.imul(X$,S$),v=v+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(W$,E$)|0,v=v+Math.imul(W$,g$)|0,v=v+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,v=v+Math.imul(t,h$)|0,v=v+Math.imul(F,b$)|0,G=G+Math.imul(F,h$)|0,A=A+Math.imul(d,y$)|0,v=v+Math.imul(d,R$)|0,v=v+Math.imul(n,y$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul($$,u$)|0,v=v+Math.imul($$,x$)|0,v=v+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,I$)|0,v=v+Math.imul(m,u)|0,v=v+Math.imul(r,I$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(e,K$)|0,v=v+Math.imul(e,O$)|0,v=v+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(q$,G$)|0,v=v+Math.imul(q$,V$)|0,v=v+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(l,D$)|0,v=v+Math.imul(l,p$)|0,v=v+Math.imul(a,D$)|0,G=G+Math.imul(a,p$)|0,A=A+Math.imul(C,L$)|0,v=v+Math.imul(C,C$)|0,v=v+Math.imul(b,L$)|0,G=G+Math.imul(b,C$)|0;var Q6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(X$,E$),v=Math.imul(X$,g$),v=v+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(W$,b$)|0,v=v+Math.imul(W$,h$)|0,v=v+Math.imul(z$,b$)|0,G=G+Math.imul(z$,h$)|0,A=A+Math.imul(t,y$)|0,v=v+Math.imul(t,R$)|0,v=v+Math.imul(F,y$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,u$)|0,v=v+Math.imul(d,x$)|0,v=v+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul($$,I$)|0,v=v+Math.imul($$,u)|0,v=v+Math.imul(_$,I$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,v=v+Math.imul(m,O$)|0,v=v+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(e,G$)|0,v=v+Math.imul(e,V$)|0,v=v+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(q$,D$)|0,v=v+Math.imul(q$,p$)|0,v=v+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(l,L$)|0,v=v+Math.imul(l,C$)|0,v=v+Math.imul(a,L$)|0,G=G+Math.imul(a,C$)|0;var e6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(X$,b$),v=Math.imul(X$,h$),v=v+Math.imul(k$,b$)|0,G=Math.imul(k$,h$),A=A+Math.imul(W$,y$)|0,v=v+Math.imul(W$,R$)|0,v=v+Math.imul(z$,y$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,u$)|0,v=v+Math.imul(t,x$)|0,v=v+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,I$)|0,v=v+Math.imul(d,u)|0,v=v+Math.imul(n,I$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul($$,K$)|0,v=v+Math.imul($$,O$)|0,v=v+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,v=v+Math.imul(m,V$)|0,v=v+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(e,D$)|0,v=v+Math.imul(e,p$)|0,v=v+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(q$,L$)|0,v=v+Math.imul(q$,C$)|0,v=v+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var s6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,y$),v=Math.imul(X$,R$),v=v+Math.imul(k$,y$)|0,G=Math.imul(k$,R$),A=A+Math.imul(W$,u$)|0,v=v+Math.imul(W$,x$)|0,v=v+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,I$)|0,v=v+Math.imul(t,u)|0,v=v+Math.imul(F,I$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,v=v+Math.imul(d,O$)|0,v=v+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul($$,G$)|0,v=v+Math.imul($$,V$)|0,v=v+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,v=v+Math.imul(m,p$)|0,v=v+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(e,L$)|0,v=v+Math.imul(e,C$)|0,v=v+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var $q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,u$),v=Math.imul(X$,x$),v=v+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(W$,I$)|0,v=v+Math.imul(W$,u)|0,v=v+Math.imul(z$,I$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,v=v+Math.imul(t,O$)|0,v=v+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,v=v+Math.imul(d,V$)|0,v=v+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul($$,D$)|0,v=v+Math.imul($$,p$)|0,v=v+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,v=v+Math.imul(m,C$)|0,v=v+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var qq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,I$),v=Math.imul(X$,u),v=v+Math.imul(k$,I$)|0,G=Math.imul(k$,u),A=A+Math.imul(W$,K$)|0,v=v+Math.imul(W$,O$)|0,v=v+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,v=v+Math.imul(t,V$)|0,v=v+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,v=v+Math.imul(d,p$)|0,v=v+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul($$,L$)|0,v=v+Math.imul($$,C$)|0,v=v+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var _q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,K$),v=Math.imul(X$,O$),v=v+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(W$,G$)|0,v=v+Math.imul(W$,V$)|0,v=v+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,v=v+Math.imul(t,p$)|0,v=v+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,v=v+Math.imul(d,C$)|0,v=v+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var Kq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,G$),v=Math.imul(X$,V$),v=v+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(W$,D$)|0,v=v+Math.imul(W$,p$)|0,v=v+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,v=v+Math.imul(t,C$)|0,v=v+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var Pq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,D$),v=Math.imul(X$,p$),v=v+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(W$,L$)|0,v=v+Math.imul(W$,C$)|0,v=v+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var Oq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,L$),v=Math.imul(X$,C$),v=v+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var Yq=(M+A|0)+((v&8191)<<13)|0;if(M=(G+(v>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,V[0]=c6,V[1]=W6,V[2]=j6,V[3]=E6,V[4]=S6,V[5]=t6,V[6]=U6,V[7]=F6,V[8]=a6,V[9]=Q6,V[10]=e6,V[11]=s6,V[12]=$q,V[13]=qq,V[14]=_q,V[15]=Kq,V[16]=Pq,V[17]=Oq,V[18]=Yq,M!==0)V[19]=M,X.length++;return X};if(!Math.imul)E=h;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var W=0,Z=0;for(var V=0;V<X.length-1;V++){var M=Z;Z=0;var A=W&67108863,v=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=v;G++){var R=V-G,C=j.words[R]|0,b=J.words[G]|0,x=C*b,l=x&67108863;M=M+(x/67108864|0)|0,l=l+A|0,A=l&67108863,M=M+(l>>>26)|0,Z+=M>>>26,M&=67108863}X.words[V]=A,W=M,M=Z}if(W!==0)X.words[V]=W;else X.length--;return X.strip()}function I(j,J,X){var W=new L;return W.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,W=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(W<63)X=h(this,j,J);else if(W<1024)X=D(this,j,J);else X=I(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var W=0;W<j;W++)J[W]=this.revBin(W,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var W=0;for(var Z=0;Z<J;Z++)W|=(j&1)<<J-Z-1,j>>=1;return W},L.prototype.permute=function(j,J,X,W,Z,V){for(var M=0;M<V;M++)W[M]=J[j[M]],Z[M]=X[j[M]]},L.prototype.transform=function(j,J,X,W,Z,V){this.permute(V,j,J,X,W,Z);for(var M=1;M<Z;M<<=1){var A=M<<1,v=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var R=0;R<Z;R+=A){var C=v,b=G;for(var x=0;x<M;x++){var l=X[R+x],a=W[R+x],f$=X[R+x+M],q$=W[R+x+M],B=C*f$-b*q$;if(q$=C*q$+b*f$,f$=B,X[R+x]=l+f$,W[R+x]=a+q$,X[R+x+M]=l-f$,W[R+x+M]=a-q$,x!==A)B=v*C-G*b,b=v*b+G*C,C=B}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,W=X&1,Z=0;for(X=X/2|0;X;X=X>>>1)Z++;return 1<<Z+1+W},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var W=0;W<X/2;W++){var Z=j[W];j[W]=j[X-W-1],j[X-W-1]=Z,Z=J[W],J[W]=-J[X-W-1],J[X-W-1]=-Z}},L.prototype.normalize13b=function(j,J){var X=0;for(var W=0;W<J/2;W++){var Z=Math.round(j[2*W+1]/J)*8192+Math.round(j[2*W]/J)+X;if(j[W]=Z&67108863,Z<67108864)X=0;else X=Z/67108864|0}return j},L.prototype.convert13b=function(j,J,X,W){var Z=0;for(var V=0;V<J;V++)Z=Z+(j[V]|0),X[2*V]=Z&8191,Z=Z>>>13,X[2*V+1]=Z&8191,Z=Z>>>13;for(V=2*J;V<W;++V)X[V]=0;P(Z===0),P((Z&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var W=2*this.guessLen13b(j.length,J.length),Z=this.makeRBT(W),V=this.stub(W),M=Array(W),A=Array(W),v=Array(W),G=Array(W),R=Array(W),C=Array(W),b=X.words;b.length=W,this.convert13b(j.words,j.length,M,W),this.convert13b(J.words,J.length,G,W),this.transform(M,V,A,v,W,Z),this.transform(G,V,R,C,W,Z);for(var x=0;x<W;x++){var l=A[x]*R[x]-v[x]*C[x];v[x]=A[x]*C[x]+v[x]*R[x],A[x]=l}return this.conjugate(A,v,W),this.transform(A,v,b,V,W,Z),this.conjugate(b,V,W),this.normalize13b(b,W),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),I(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){P(typeof j==="number"),P(j<67108864);var J=0;for(var X=0;X<this.length;X++){var W=(this.words[X]|0)*j,Z=(W&67108863)+(J&67108863);J>>=26,J+=W/67108864|0,J+=Z>>>26,this.words[X]=Z&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var W=0;W<J.length;W++,X=X.sqr())if(J[W]!==0)break;if(++W<J.length)for(var Z=X.sqr();W<J.length;W++,Z=Z.sqr()){if(J[W]===0)continue;X=X.mul(Z)}return X},Y.prototype.iushln=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=67108863>>>26-J<<26-J,Z;if(J!==0){var V=0;for(Z=0;Z<this.length;Z++){var M=this.words[Z]&W,A=(this.words[Z]|0)-M<<J;this.words[Z]=A|V,V=M>>>26-J}if(V)this.words[Z]=V,this.length++}if(X!==0){for(Z=this.length-1;Z>=0;Z--)this.words[Z+X]=this.words[Z];for(Z=0;Z<X;Z++)this.words[Z]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return P(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){P(typeof j==="number"&&j>=0);var W;if(J)W=(J-J%26)/26;else W=0;var Z=j%26,V=Math.min((j-Z)/26,this.length),M=67108863^67108863>>>Z<<Z,A=X;if(W-=V,W=Math.max(0,W),A){for(var v=0;v<V;v++)A.words[v]=this.words[v];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(v=0;v<this.length;v++)this.words[v]=this.words[v+V]}else this.words[0]=0,this.length=1;var G=0;for(v=this.length-1;v>=0&&(G!==0||v>=W);v--){var R=this.words[v]|0;this.words[v]=G<<26-Z|R>>>Z,G=R&M}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return P(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return!1;var Z=this.words[X];return!!(Z&W)},Y.prototype.imaskn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var W=67108863^67108863>>>J<<J;this.words[this.length-1]&=W}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var W=j.length+X,Z;this._expand(W);var V,M=0;for(Z=0;Z<j.length;Z++){V=(this.words[Z+X]|0)+M;var A=(j.words[Z]|0)*J;V-=A&67108863,M=(V>>26)-(A/67108864|0),this.words[Z+X]=V&67108863}for(;Z<this.length-X;Z++)V=(this.words[Z+X]|0)+M,M=V>>26,this.words[Z+X]=V&67108863;if(M===0)return this.strip();P(M===-1),M=0;for(Z=0;Z<this.length;Z++)V=-(this.words[Z]|0)+M,M=V>>26,this.words[Z]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,W=this.clone(),Z=j,V=Z.words[Z.length-1]|0,M=this._countBits(V);if(X=26-M,X!==0)Z=Z.ushln(X),W.iushln(X),V=Z.words[Z.length-1]|0;var A=W.length-Z.length,v;if(J!=="mod"){v=new Y(null),v.length=A+1,v.words=Array(v.length);for(var G=0;G<v.length;G++)v.words[G]=0}var R=W.clone()._ishlnsubmul(Z,1,A);if(R.negative===0){if(W=R,v)v.words[A]=1}for(var C=A-1;C>=0;C--){var b=(W.words[Z.length+C]|0)*67108864+(W.words[Z.length+C-1]|0);b=Math.min(b/V|0,67108863),W._ishlnsubmul(Z,b,C);while(W.negative!==0)if(b--,W.negative=0,W._ishlnsubmul(Z,1,C),!W.isZero())W.negative^=1;if(v)v.words[C]=b}if(v)v.strip();if(W.strip(),J!=="div"&&X!==0)W.iushrn(X);return{div:v||null,mod:W}},Y.prototype.divmod=function(j,J,X){if(P(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var W,Z,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")W=V.div.neg();if(J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.iadd(j)}return{div:W,mod:Z}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")W=V.div.neg();return{div:W,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.isub(j)}return{div:V.div,mod:Z}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,W=j.ushrn(1),Z=j.andln(1),V=X.cmp(W);if(V<0||Z===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){P(j<=67108863);var J=67108864%j,X=0;for(var W=this.length-1;W>=0;W--)X=(J*X+(this.words[W]|0))%j;return X},Y.prototype.idivn=function(j){P(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var W=(this.words[X]|0)+J*67108864;this.words[X]=W/j|0,J=W%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=new Y(0),M=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var v=X.clone(),G=J.clone();while(!J.isZero()){for(var R=0,C=1;(J.words[0]&C)===0&&R<26;++R,C<<=1);if(R>0){J.iushrn(R);while(R-- >0){if(W.isOdd()||Z.isOdd())W.iadd(v),Z.isub(G);W.iushrn(1),Z.iushrn(1)}}for(var b=0,x=1;(X.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0){X.iushrn(b);while(b-- >0){if(V.isOdd()||M.isOdd())V.iadd(v),M.isub(G);V.iushrn(1),M.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(V),Z.isub(M);else X.isub(J),V.isub(W),M.isub(Z)}return{a:V,b:M,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var M=0,A=1;(J.words[0]&A)===0&&M<26;++M,A<<=1);if(M>0){J.iushrn(M);while(M-- >0){if(W.isOdd())W.iadd(V);W.iushrn(1)}}for(var v=0,G=1;(X.words[0]&G)===0&&v<26;++v,G<<=1);if(v>0){X.iushrn(v);while(v-- >0){if(Z.isOdd())Z.iadd(V);Z.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(Z);else X.isub(J),Z.isub(W)}var R;if(J.cmpn(1)===0)R=W;else R=Z;if(R.cmpn(0)<0)R.iadd(j);return R},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var W=0;J.isEven()&&X.isEven();W++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var Z=J.cmp(X);if(Z<0){var V=J;J=X,X=V}else if(Z===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(W)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){P(typeof j==="number");var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=W,this;var Z=W;for(var V=X;Z!==0&&V<this.length;V++){var M=this.words[V]|0;M+=Z,Z=M>>>26,M&=67108863,this.words[V]=M}if(Z!==0)this.words[V]=Z,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;P(j<=67108863,"Number is too big");var W=this.words[0]|0;X=W===j?0:W<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var W=this.words[X]|0,Z=j.words[X]|0;if(W===Z)continue;if(W<Z)J=-1;else if(W>Z)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new p(j)},Y.prototype.toRed=function(j){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return P(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return P(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var g={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var W=X<this.n?-1:J.ucmp(this.p);if(W===0)J.words[0]=0,J.length=1;else if(W>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function c(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(c,y),c.prototype.split=function(j,J){var X=4194303,W=Math.min(j.length,9);for(var Z=0;Z<W;Z++)J.words[Z]=j.words[Z];if(J.length=W,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(Z=10;Z<j.length;Z++){var M=j.words[Z]|0;j.words[Z-10]=(M&X)<<4|V>>>22,V=M}if(V>>>=22,j.words[Z-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},c.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var W=j.words[X]|0;J+=W*977,j.words[X]=J&67108863,J=W*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function o(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(o,y);function Q(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Q,y);function U(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(U,y),U.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var W=(j.words[X]|0)*19+J,Z=W&67108863;W>>>=26,j.words[X]=Z,J=W}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(g[j])return g[j];var J;if(j==="k256")J=new c;else if(j==="p224")J=new o;else if(j==="p192")J=new Q;else if(j==="p25519")J=new U;else throw Error("Unknown prime "+j);return g[j]=J,J};function p(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else P(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}p.prototype._verify1=function(j){P(j.negative===0,"red works only with positives"),P(j.red,"red works only with red numbers")},p.prototype._verify2=function(j,J){P((j.negative|J.negative)===0,"red works only with positives"),P(j.red&&j.red===J.red,"red works only with red numbers")},p.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},p.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},p.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},p.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},p.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},p.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},p.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},p.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},p.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},p.prototype.isqr=function(j){return this.imul(j,j.clone())},p.prototype.sqr=function(j){return this.mul(j,j)},p.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(P(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var W=this.m.subn(1),Z=0;while(!W.isZero()&&W.andln(1)===0)Z++,W.iushrn(1);P(!W.isZero());var V=new Y(1).toRed(this),M=V.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();v=new Y(2*v*v).toRed(this);while(this.pow(v,A).cmp(M)!==0)v.redIAdd(M);var G=this.pow(v,W),R=this.pow(j,W.addn(1).iushrn(1)),C=this.pow(j,W),b=Z;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();P(l<b);var a=this.pow(G,new Y(1).iushln(b-l-1));R=R.redMul(a),G=a.redSqr(),C=C.redMul(G),b=l}return R},p.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},p.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,W=Array(1<<X);W[0]=new Y(1).toRed(this),W[1]=j;for(var Z=2;Z<W.length;Z++)W[Z]=this.mul(W[Z-1],j);var V=W[0],M=0,A=0,v=J.bitLength()%26;if(v===0)v=26;for(Z=J.length-1;Z>=0;Z--){var G=J.words[Z];for(var R=v-1;R>=0;R--){var C=G>>R&1;if(V!==W[0])V=this.sqr(V);if(C===0&&M===0){A=0;continue}if(M<<=1,M|=C,A++,A!==X&&(Z!==0||R!==0))continue;V=this.mul(V,W[M]),A=0,M=0}v=26}return V},p.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},p.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new s(j)};function s(j){if(p.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(s,p),s.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},s.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},s.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),ci=T$(($)=>{var q=O1(),_=v8(),K=$;K.define=function(O,Y){return new P(O,Y)};function P(O,Y){this.name=O,this.body=Y,this.decoders={},this.encoders={}}P.prototype._createNamed=function(O){var Y;try{Y=(()=>{throw new Error("Cannot require module "+"vm");})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch(z){Y=function(H){this._initNamed(H)}}return _(Y,O),Y.prototype._initNamed=function(z){O.call(this,z)},new Y(this)},P.prototype._getDecoder=function(O){if(O=O||"der",!this.decoders.hasOwnProperty(O))this.decoders[O]=this._createNamed(q.decoders[O]);return this.decoders[O]},P.prototype.decode=function(O,Y,z){return this._getDecoder(Y).decode(O,z)},P.prototype._getEncoder=function(O){if(O=O||"der",!this.encoders.hasOwnProperty(O))this.encoders[O]=this._createNamed(q.encoders[O]);return this.encoders[O]},P.prototype.encode=function(O,Y,z){return this._getEncoder(Y).encode(O,z)}}),mi=T$(($)=>{var q=v8();function _(P){this._reporterState={obj:null,path:[],options:P||{},errors:[]}}$.Reporter=_,_.prototype.isError=function(P){return P instanceof K},_.prototype.save=function(){var P=this._reporterState;return{obj:P.obj,pathLen:P.path.length}},_.prototype.restore=function(P){var O=this._reporterState;O.obj=P.obj,O.path=O.path.slice(0,P.pathLen)},_.prototype.enterKey=function(P){return this._reporterState.path.push(P)},_.prototype.exitKey=function(P){var O=this._reporterState;O.path=O.path.slice(0,P-1)},_.prototype.leaveKey=function(P,O,Y){var z=this._reporterState;if(this.exitKey(P),z.obj!==null)z.obj[O]=Y},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){var P=this._reporterState,O=P.obj;return P.obj={},O},_.prototype.leaveObject=function(P){var O=this._reporterState,Y=O.obj;return O.obj=P,Y},_.prototype.error=function(P){var O,Y=this._reporterState,z=P instanceof K;if(z)O=P;else O=new K(Y.path.map(function(H){return"["+JSON.stringify(H)+"]"}).join(""),P.message||P,P.stack);if(!Y.options.partial)throw O;if(!z)Y.errors.push(O);return O},_.prototype.wrapResult=function(P){var O=this._reporterState;if(!O.options.partial)return P;return{result:this.isError(P)?null:P,errors:O.errors}};function K(P,O){this.path=P,this.rethrow(O)}q(K,Error),K.prototype.rethrow=function(P){if(this.message=P+" at: "+(this.path||"(shallow)"),Error.captureStackTrace)Error.captureStackTrace(this,K);if(!this.stack)try{throw Error(this.message)}catch(O){this.stack=O.stack}return this}}),c0=T$(($)=>{var q=v8(),_=$1().Reporter,K=(wq(),J6(Tq)).Buffer;function P(Y,z){if(_.call(this,z),!K.isBuffer(Y)){this.error("Input not Buffer");return}this.base=Y,this.offset=0,this.length=Y.length}q(P,_),$.DecoderBuffer=P,P.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},P.prototype.restore=function(Y){var z=new P(this.base);return z.offset=Y.offset,z.length=this.offset,this.offset=Y.offset,_.prototype.restore.call(this,Y.reporter),z},P.prototype.isEmpty=function(){return this.offset===this.length},P.prototype.readUInt8=function(Y){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,!0);else return this.error(Y||"DecoderBuffer overrun")},P.prototype.skip=function(Y,z){if(!(this.offset+Y<=this.length))return this.error(z||"DecoderBuffer overrun");var H=new P(this.base);return H._reporterState=this._reporterState,H.offset=this.offset,H.length=this.offset+Y,this.offset+=Y,H},P.prototype.raw=function(Y){return this.base.slice(Y?Y.offset:this.offset,this.length)};function O(Y,z){if(Array.isArray(Y))this.length=0,this.value=Y.map(function(H){if(!(H instanceof O))H=new O(H,z);return this.length+=H.length,H},this);else if(typeof Y==="number"){if(!(0<=Y&&Y<=255))return z.error("non-byte EncoderBuffer value");this.value=Y,this.length=1}else if(typeof Y==="string")this.value=Y,this.length=K.byteLength(Y);else if(K.isBuffer(Y))this.value=Y,this.length=Y.length;else return z.error("Unsupported type: "+typeof Y)}$.EncoderBuffer=O,O.prototype.join=function(Y,z){if(!Y)Y=new K(this.length);if(!z)z=0;if(this.length===0)return Y;if(Array.isArray(this.value))this.value.forEach(function(H){H.join(Y,z),z+=H.length});else{if(typeof this.value==="number")Y[z]=this.value;else if(typeof this.value==="string")Y.write(this.value,z);else if(K.isBuffer(this.value))this.value.copy(Y,z);z+=this.length}return Y}}),di=T$(($,q)=>{var _=$1().Reporter,K=$1().EncoderBuffer,P=$1().DecoderBuffer,O=KK(),Y=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],z=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Y),H=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function T(w,k){var S={};if(this._baseState=S,S.enc=w,S.parent=k||null,S.children=null,S.tag=null,S.args=null,S.reverseArgs=null,S.choice=null,S.optional=!1,S.any=!1,S.obj=!1,S.use=null,S.useDecoder=null,S.key=null,S.default=null,S.explicit=null,S.implicit=null,S.contains=null,!S.parent)S.children=[],this._wrap()}q.exports=T;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];T.prototype.clone=function(){var w=this._baseState,k={};f.forEach(function(N){k[N]=w[N]});var S=new this.constructor(k.parent);return S._baseState=k,S},T.prototype._wrap=function(){var w=this._baseState;z.forEach(function(k){this[k]=function(){var S=new this.constructor(this);return w.children.push(S),S[k].apply(S,arguments)}},this)},T.prototype._init=function(w){var k=this._baseState;O(k.parent===null),w.call(this),k.children=k.children.filter(function(S){return S._baseState.parent===this},this),O.equal(k.children.length,1,"Root node can have only one child")},T.prototype._useArgs=function(w){var k=this._baseState,S=w.filter(function(N){return N instanceof this.constructor},this);if(w=w.filter(function(N){return!(N instanceof this.constructor)},this),S.length!==0)O(k.children===null),k.children=S,S.forEach(function(N){N._baseState.parent=this},this);if(w.length!==0)O(k.args===null),k.args=w,k.reverseArgs=w.map(function(N){if(typeof N!=="object"||N.constructor!==Object)return N;var h={};return Object.keys(N).forEach(function(E){if(E==(E|0))E|=0;var D=N[E];h[D]=E}),h})},H.forEach(function(w){T.prototype[w]=function(){var k=this._baseState;throw Error(w+" not implemented for encoding: "+k.enc)}}),Y.forEach(function(w){T.prototype[w]=function(){var k=this._baseState,S=Array.prototype.slice.call(arguments);return O(k.tag===null),k.tag=w,this._useArgs(S),this}}),T.prototype.use=function(w){O(w);var k=this._baseState;return O(k.use===null),k.use=w,this},T.prototype.optional=function(){var w=this._baseState;return w.optional=!0,this},T.prototype.def=function(w){var k=this._baseState;return O(k.default===null),k.default=w,k.optional=!0,this},T.prototype.explicit=function(w){var k=this._baseState;return O(k.explicit===null&&k.implicit===null),k.explicit=w,this},T.prototype.implicit=function(w){var k=this._baseState;return O(k.explicit===null&&k.implicit===null),k.implicit=w,this},T.prototype.obj=function(){var w=this._baseState,k=Array.prototype.slice.call(arguments);if(w.obj=!0,k.length!==0)this._useArgs(k);return this},T.prototype.key=function(w){var k=this._baseState;return O(k.key===null),k.key=w,this},T.prototype.any=function(){var w=this._baseState;return w.any=!0,this},T.prototype.choice=function(w){var k=this._baseState;return O(k.choice===null),k.choice=w,this._useArgs(Object.keys(w).map(function(S){return w[S]})),this},T.prototype.contains=function(w){var k=this._baseState;return O(k.use===null),k.contains=w,this},T.prototype._decode=function(w,k){var S=this._baseState;if(S.parent===null)return w.wrapResult(S.children[0]._decode(w,k));var N=S.default,h=!0,E=null;if(S.key!==null)E=w.enterKey(S.key);if(S.optional){var D=null;if(S.explicit!==null)D=S.explicit;else if(S.implicit!==null)D=S.implicit;else if(S.tag!==null)D=S.tag;if(D===null&&!S.any){var I=w.save();try{if(S.choice===null)this._decodeGeneric(S.tag,w,k);else this._decodeChoice(w,k);h=!0}catch(Q){h=!1}w.restore(I)}else if(h=this._peekTag(w,D,S.any),w.isError(h))return h}var L;if(S.obj&&h)L=w.enterObject();if(h){if(S.explicit!==null){var g=this._decodeTag(w,S.explicit);if(w.isError(g))return g;w=g}var y=w.offset;if(S.use===null&&S.choice===null){if(S.any)var I=w.save();var c=this._decodeTag(w,S.implicit!==null?S.implicit:S.tag,S.any);if(w.isError(c))return c;if(S.any)N=w.raw(I);else w=c}if(k&&k.track&&S.tag!==null)k.track(w.path(),y,w.length,"tagged");if(k&&k.track&&S.tag!==null)k.track(w.path(),w.offset,w.length,"content");if(S.any)N=N;else if(S.choice===null)N=this._decodeGeneric(S.tag,w,k);else N=this._decodeChoice(w,k);if(w.isError(N))return N;if(!S.any&&S.choice===null&&S.children!==null)S.children.forEach(function(Q){Q._decode(w,k)});if(S.contains&&(S.tag==="octstr"||S.tag==="bitstr")){var o=new P(N);N=this._getUse(S.contains,w._reporterState.obj)._decode(o,k)}}if(S.obj&&h)N=w.leaveObject(L);if(S.key!==null&&(N!==null||h===!0))w.leaveKey(E,S.key,N);else if(E!==null)w.exitKey(E);return N},T.prototype._decodeGeneric=function(w,k,S){var N=this._baseState;if(w==="seq"||w==="set")return null;if(w==="seqof"||w==="setof")return this._decodeList(k,w,N.args[0],S);else if(/str$/.test(w))return this._decodeStr(k,w,S);else if(w==="objid"&&N.args)return this._decodeObjid(k,N.args[0],N.args[1],S);else if(w==="objid")return this._decodeObjid(k,null,null,S);else if(w==="gentime"||w==="utctime")return this._decodeTime(k,w,S);else if(w==="null_")return this._decodeNull(k,S);else if(w==="bool")return this._decodeBool(k,S);else if(w==="objDesc")return this._decodeStr(k,w,S);else if(w==="int"||w==="enum")return this._decodeInt(k,N.args&&N.args[0],S);if(N.use!==null)return this._getUse(N.use,k._reporterState.obj)._decode(k,S);else return k.error("unknown tag: "+w)},T.prototype._getUse=function(w,k){var S=this._baseState;if(S.useDecoder=this._use(w,k),O(S.useDecoder._baseState.parent===null),S.useDecoder=S.useDecoder._baseState.children[0],S.implicit!==S.useDecoder._baseState.implicit)S.useDecoder=S.useDecoder.clone(),S.useDecoder._baseState.implicit=S.implicit;return S.useDecoder},T.prototype._decodeChoice=function(w,k){var S=this._baseState,N=null,h=!1;if(Object.keys(S.choice).some(function(E){var D=w.save(),I=S.choice[E];try{var L=I._decode(w,k);if(w.isError(L))return!1;N={type:E,value:L},h=!0}catch(g){return w.restore(D),!1}return!0},this),!h)return w.error("Choice not matched");return N},T.prototype._createEncoderBuffer=function(w){return new K(w,this.reporter)},T.prototype._encode=function(w,k,S){var N=this._baseState;if(N.default!==null&&N.default===w)return;var h=this._encodeValue(w,k,S);if(h===void 0)return;if(this._skipDefault(h,k,S))return;return h},T.prototype._encodeValue=function(w,k,S){var N=this._baseState;if(N.parent===null)return N.children[0]._encode(w,k||new _);var I=null;if(this.reporter=k,N.optional&&w===void 0)if(N.default!==null)w=N.default;else return;var h=null,E=!1;if(N.any)I=this._createEncoderBuffer(w);else if(N.choice)I=this._encodeChoice(w,k);else if(N.contains)h=this._getUse(N.contains,S)._encode(w,k),E=!0;else if(N.children)h=N.children.map(function(y){if(y._baseState.tag==="null_")return y._encode(null,k,w);if(y._baseState.key===null)return k.error("Child should have a key");var c=k.enterKey(y._baseState.key);if(typeof w!=="object")return k.error("Child expected, but input is not object");var o=y._encode(w[y._baseState.key],k,w);return k.leaveKey(c),o},this).filter(function(y){return y}),h=this._createEncoderBuffer(h);else if(N.tag==="seqof"||N.tag==="setof"){if(!(N.args&&N.args.length===1))return k.error("Too many args for : "+N.tag);if(!Array.isArray(w))return k.error("seqof/setof, but data is not Array");var D=this.clone();D._baseState.implicit=null,h=this._createEncoderBuffer(w.map(function(y){var c=this._baseState;return this._getUse(c.args[0],w)._encode(y,k)},D))}else if(N.use!==null)I=this._getUse(N.use,S)._encode(w,k);else h=this._encodePrimitive(N.tag,w),E=!0;var I;if(!N.any&&N.choice===null){var L=N.implicit!==null?N.implicit:N.tag,g=N.implicit===null?"universal":"context";if(L===null){if(N.use===null)k.error("Tag could be omitted only for .use()")}else if(N.use===null)I=this._encodeComposite(L,E,g,h)}if(N.explicit!==null)I=this._encodeComposite(N.explicit,!1,"context",I);return I},T.prototype._encodeChoice=function(w,k){var S=this._baseState,N=S.choice[w.type];if(!N)O(!1,w.type+" not found in "+JSON.stringify(Object.keys(S.choice)));return N._encode(w.value,k)},T.prototype._encodePrimitive=function(w,k){var S=this._baseState;if(/str$/.test(w))return this._encodeStr(k,w);else if(w==="objid"&&S.args)return this._encodeObjid(k,S.reverseArgs[0],S.args[1]);else if(w==="objid")return this._encodeObjid(k,null,null);else if(w==="gentime"||w==="utctime")return this._encodeTime(k,w);else if(w==="null_")return this._encodeNull();else if(w==="int"||w==="enum")return this._encodeInt(k,S.args&&S.reverseArgs[0]);else if(w==="bool")return this._encodeBool(k);else if(w==="objDesc")return this._encodeStr(k,w);else throw Error("Unsupported tag: "+w)},T.prototype._isNumstr=function(w){return/^[0-9 ]*$/.test(w)},T.prototype._isPrintstr=function(w){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(w)}}),$1=T$(($)=>{var q=$;q.Reporter=mi().Reporter,q.DecoderBuffer=c0().DecoderBuffer,q.EncoderBuffer=c0().EncoderBuffer,q.Node=di()}),li=T$(($)=>{var q=KM();$.tagClass={0:"universal",1:"application",2:"context",3:"private"},$.tagClassByName=q._reverse($.tagClass),$.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},$.tagByName=q._reverse($.tag)}),KM=T$(($)=>{var q=$;q._reverse=function(_){var K={};return Object.keys(_).forEach(function(P){if((P|0)==P)P=P|0;var O=_[P];K[O]=P}),K},q.der=li()}),PM=T$(($,q)=>{var _=v8(),K=O1(),P=K.base,O=K.bignum,Y=K.constants.der;function z(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new H,this.tree._init(w.body)}q.exports=z,z.prototype.decode=function(w,k){if(!(w instanceof P.DecoderBuffer))w=new P.DecoderBuffer(w,k);return this.tree._decode(w,k)};function H(w){P.Node.call(this,"der",w)}_(H,P.Node),H.prototype._peekTag=function(w,k,S){if(w.isEmpty())return!1;var N=w.save(),h=T(w,'Failed to peek tag: "'+k+'"');if(w.isError(h))return h;return w.restore(N),h.tag===k||h.tagStr===k||h.tagStr+"of"===k||S},H.prototype._decodeTag=function(w,k,S){var N=T(w,'Failed to decode tag of "'+k+'"');if(w.isError(N))return N;var h=f(w,N.primitive,'Failed to get length of "'+k+'"');if(w.isError(h))return h;if(!S&&N.tag!==k&&N.tagStr!==k&&N.tagStr+"of"!==k)return w.error('Failed to match tag: "'+k+'"');if(N.primitive||h!==null)return w.skip(h,'Failed to match body of: "'+k+'"');var E=w.save(),D=this._skipUntilEnd(w,'Failed to skip indefinite length body: "'+this.tag+'"');if(w.isError(D))return D;return h=w.offset-E.offset,w.restore(E),w.skip(h,'Failed to match body of: "'+k+'"')},H.prototype._skipUntilEnd=function(w,k){while(!0){var S=T(w,k);if(w.isError(S))return S;var N=f(w,S.primitive,k);if(w.isError(N))return N;var h;if(S.primitive||N!==null)h=w.skip(N);else h=this._skipUntilEnd(w,k);if(w.isError(h))return h;if(S.tagStr==="end")break}},H.prototype._decodeList=function(w,k,S,N){var h=[];while(!w.isEmpty()){var E=this._peekTag(w,"end");if(w.isError(E))return E;var D=S.decode(w,"der",N);if(w.isError(D)&&E)break;h.push(D)}return h},H.prototype._decodeStr=function(w,k){if(k==="bitstr"){var S=w.readUInt8();if(w.isError(S))return S;return{unused:S,data:w.raw()}}else if(k==="bmpstr"){var N=w.raw();if(N.length%2===1)return w.error("Decoding of string type: bmpstr length mismatch");var h="";for(var E=0;E<N.length/2;E++)h+=String.fromCharCode(N.readUInt16BE(E*2));return h}else if(k==="numstr"){var D=w.raw().toString("ascii");if(!this._isNumstr(D))return w.error("Decoding of string type: numstr unsupported characters");return D}else if(k==="octstr")return w.raw();else if(k==="objDesc")return w.raw();else if(k==="printstr"){var I=w.raw().toString("ascii");if(!this._isPrintstr(I))return w.error("Decoding of string type: printstr unsupported characters");return I}else if(/str$/.test(k))return w.raw().toString();else return w.error("Decoding of string type: "+k+" unsupported")},H.prototype._decodeObjid=function(w,k,S){var N,h=[],E=0;while(!w.isEmpty()){var D=w.readUInt8();if(E<<=7,E|=D&127,(D&128)===0)h.push(E),E=0}if(D&128)h.push(E);var I=h[0]/40|0,L=h[0]%40;if(S)N=h;else N=[I,L].concat(h.slice(1));if(k){var g=k[N.join(" ")];if(g===void 0)g=k[N.join(".")];if(g!==void 0)N=g}return N},H.prototype._decodeTime=function(w,k){var S=w.raw().toString();if(k==="gentime")var N=S.slice(0,4)|0,h=S.slice(4,6)|0,E=S.slice(6,8)|0,D=S.slice(8,10)|0,I=S.slice(10,12)|0,L=S.slice(12,14)|0;else if(k==="utctime"){var N=S.slice(0,2)|0,h=S.slice(2,4)|0,E=S.slice(4,6)|0,D=S.slice(6,8)|0,I=S.slice(8,10)|0,L=S.slice(10,12)|0;if(N<70)N=2000+N;else N=1900+N}else return w.error("Decoding "+k+" time is not supported yet");return Date.UTC(N,h-1,E,D,I,L,0)},H.prototype._decodeNull=function(w){return null},H.prototype._decodeBool=function(w){var k=w.readUInt8();if(w.isError(k))return k;else return k!==0},H.prototype._decodeInt=function(w,k){var S=w.raw(),N=new O(S);if(k)N=k[N.toString(10)]||N;return N},H.prototype._use=function(w,k){if(typeof w==="function")w=w(k);return w._getDecoder("der").tree};function T(w,k){var S=w.readUInt8(k);if(w.isError(S))return S;var N=Y.tagClass[S>>6],h=(S&32)===0;if((S&31)===31){var E=S;S=0;while((E&128)===128){if(E=w.readUInt8(k),w.isError(E))return E;S<<=7,S|=E&127}}else S&=31;var D=Y.tag[S];return{cls:N,primitive:h,tag:S,tagStr:D}}function f(w,k,S){var N=w.readUInt8(S);if(w.isError(N))return N;if(!k&&N===128)return null;if((N&128)===0)return N;var h=N&127;if(h>4)return w.error("length octect is too long");N=0;for(var E=0;E<h;E++){N<<=8;var D=w.readUInt8(S);if(w.isError(D))return D;N|=D}return N}}),ri=T$(($,q)=>{var _=v8(),K=(wq(),J6(Tq)).Buffer,P=PM();function O(Y){P.call(this,Y),this.enc="pem"}_(O,P),q.exports=O,O.prototype.decode=function(Y,z){var H=Y.toString().split(/[\r\n]+/g),T=z.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,w=-1,k=-1;for(var S=0;S<H.length;S++){var N=H[S].match(f);if(N===null)continue;if(N[2]!==T)continue;if(w===-1){if(N[1]!=="BEGIN")break;w=S}else{if(N[1]!=="END")break;k=S;break}}if(w===-1||k===-1)throw Error("PEM section not found for: "+T);var h=H.slice(w+1,k).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var E=new K(h,"base64");return P.prototype.decode.call(this,E,z)}}),oi=T$(($)=>{var q=$;q.der=PM(),q.pem=ri()}),OM=T$(($,q)=>{var _=v8(),K=(wq(),J6(Tq)).Buffer,P=O1(),O=P.base,Y=P.constants.der;function z(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new H,this.tree._init(w.body)}q.exports=z,z.prototype.encode=function(w,k){return this.tree._encode(w,k).join()};function H(w){O.Node.call(this,"der",w)}_(H,O.Node),H.prototype._encodeComposite=function(w,k,S,N){var h=f(w,k,S,this.reporter);if(N.length<128){var I=new K(2);return I[0]=h,I[1]=N.length,this._createEncoderBuffer([I,N])}var E=1;for(var D=N.length;D>=256;D>>=8)E++;var I=new K(2+E);I[0]=h,I[1]=128|E;for(var D=1+E,L=N.length;L>0;D--,L>>=8)I[D]=L&255;return this._createEncoderBuffer([I,N])},H.prototype._encodeStr=function(w,k){if(k==="bitstr")return this._createEncoderBuffer([w.unused|0,w.data]);else if(k==="bmpstr"){var S=new K(w.length*2);for(var N=0;N<w.length;N++)S.writeUInt16BE(w.charCodeAt(N),N*2);return this._createEncoderBuffer(S)}else if(k==="numstr"){if(!this._isNumstr(w))return this.reporter.error("Encoding of string type: numstr supports only digits and space");return this._createEncoderBuffer(w)}else if(k==="printstr"){if(!this._isPrintstr(w))return this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark");return this._createEncoderBuffer(w)}else if(/str$/.test(k))return this._createEncoderBuffer(w);else if(k==="objDesc")return this._createEncoderBuffer(w);else return this.reporter.error("Encoding of string type: "+k+" unsupported")},H.prototype._encodeObjid=function(w,k,S){if(typeof w==="string"){if(!k)return this.reporter.error("string objid given, but no values map found");if(!k.hasOwnProperty(w))return this.reporter.error("objid not found in values map");w=k[w].split(/[\s\.]+/g);for(var N=0;N<w.length;N++)w[N]|=0}else if(Array.isArray(w)){w=w.slice();for(var N=0;N<w.length;N++)w[N]|=0}if(!Array.isArray(w))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(w));if(!S){if(w[1]>=40)return this.reporter.error("Second objid identifier OOB");w.splice(0,2,w[0]*40+w[1])}var h=0;for(var N=0;N<w.length;N++){var E=w[N];for(h++;E>=128;E>>=7)h++}var D=new K(h),I=D.length-1;for(var N=w.length-1;N>=0;N--){var E=w[N];D[I--]=E&127;while((E>>=7)>0)D[I--]=128|E&127}return this._createEncoderBuffer(D)};function T(w){if(w<10)return"0"+w;else return w}H.prototype._encodeTime=function(w,k){var S,N=new Date(w);if(k==="gentime")S=[T(N.getFullYear()),T(N.getUTCMonth()+1),T(N.getUTCDate()),T(N.getUTCHours()),T(N.getUTCMinutes()),T(N.getUTCSeconds()),"Z"].join("");else if(k==="utctime")S=[T(N.getFullYear()%100),T(N.getUTCMonth()+1),T(N.getUTCDate()),T(N.getUTCHours()),T(N.getUTCMinutes()),T(N.getUTCSeconds()),"Z"].join("");else this.reporter.error("Encoding "+k+" time is not supported yet");return this._encodeStr(S,"octstr")},H.prototype._encodeNull=function(){return this._createEncoderBuffer("")},H.prototype._encodeInt=function(w,k){if(typeof w==="string"){if(!k)return this.reporter.error("String int or enum given, but no values map");if(!k.hasOwnProperty(w))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(w));w=k[w]}if(typeof w!=="number"&&!K.isBuffer(w)){var S=w.toArray();if(!w.sign&&S[0]&128)S.unshift(0);w=new K(S)}if(K.isBuffer(w)){var N=w.length;if(w.length===0)N++;var E=new K(N);if(w.copy(E),w.length===0)E[0]=0;return this._createEncoderBuffer(E)}if(w<128)return this._createEncoderBuffer(w);if(w<256)return this._createEncoderBuffer([0,w]);var N=1;for(var h=w;h>=256;h>>=8)N++;var E=Array(N);for(var h=E.length-1;h>=0;h--)E[h]=w&255,w>>=8;if(E[0]&128)E.unshift(0);return this._createEncoderBuffer(new K(E))},H.prototype._encodeBool=function(w){return this._createEncoderBuffer(w?255:0)},H.prototype._use=function(w,k){if(typeof w==="function")w=w(k);return w._getEncoder("der").tree},H.prototype._skipDefault=function(w,k,S){var N=this._baseState,h;if(N.default===null)return!1;var E=w.join();if(N.defaultBuffer===void 0)N.defaultBuffer=this._encodeValue(N.default,k,S).join();if(E.length!==N.defaultBuffer.length)return!1;for(h=0;h<E.length;h++)if(E[h]!==N.defaultBuffer[h])return!1;return!0};function f(w,k,S,N){var h;if(w==="seqof")w="seq";else if(w==="setof")w="set";if(Y.tagByName.hasOwnProperty(w))h=Y.tagByName[w];else if(typeof w==="number"&&(w|0)===w)h=w;else return N.error("Unknown tag: "+w);if(h>=31)return N.error("Multi-octet tag encoding unsupported");if(!k)h|=32;return h|=Y.tagClassByName[S||"universal"]<<6,h}}),ni=T$(($,q)=>{var _=v8(),K=OM();function P(O){K.call(this,O),this.enc="pem"}_(P,K),q.exports=P,P.prototype.encode=function(O,Y){var z=K.prototype.encode.call(this,O),H=z.toString("base64"),T=["-----BEGIN "+Y.label+"-----"];for(var f=0;f<H.length;f+=64)T.push(H.slice(f,f+64));return T.push("-----END "+Y.label+"-----"),T.join(`
`)}}),ii=T$(($)=>{var q=$;q.der=OM(),q.pem=ni()}),O1=T$(($)=>{var q=$;q.bignum=pi(),q.define=ci().define,q.base=$1(),q.constants=KM(),q.decoders=oi(),q.encoders=ii()}),Bi=T$(($,q)=>{var _=O1(),K=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),P=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),O=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Y=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(O),this.key("subjectPublicKey").bitstr())}),z=_.define("RelativeDistinguishedName",function(){this.setof(P)}),H=_.define("RDNSequence",function(){this.seqof(z)}),T=_.define("Name",function(){this.choice({rdnSequence:this.use(H)})}),f=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(K),this.key("notAfter").use(K))}),w=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),k=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(O),this.key("issuer").use(T),this.key("validity").use(f),this.key("subject").use(T),this.key("subjectPublicKeyInfo").use(Y),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(w).optional())}),S=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(k),this.key("signatureAlgorithm").use(O),this.key("signatureValue").bitstr())});q.exports=S}),ti=T$(($)=>{var q=O1();$.certificate=Bi();var _=q.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});$.RSAPrivateKey=_;var K=q.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});$.RSAPublicKey=K;var P=q.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),O=q.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(P),this.key("subjectPublicKey").bitstr())});$.PublicKey=O;var Y=q.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(P),this.key("subjectPrivateKey").octstr())});$.PrivateKey=Y;var z=q.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});$.EncryptedPrivateKey=z;var H=q.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});$.DSAPrivateKey=H,$.DSAparam=q.define("DSAparam",function(){this.int()});var T=q.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),f=q.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(T),this.key("publicKey").optional().explicit(1).bitstr())});$.ECPrivateKey=f,$.signature=q.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),Ui=T$(($,q)=>{q.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),Fi=T$(($,q)=>{var _=dq().Buffer,K=zH().Transform,P=v8();function O(T){K.call(this),this._block=_.allocUnsafe(T),this._blockSize=T,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}P(O,K),O.prototype._transform=function(T,f,w){var k=null;try{this.update(T,f)}catch(S){k=S}w(k)},O.prototype._flush=function(T){var f=null;try{this.push(this.digest())}catch(w){f=w}T(f)};var Y=typeof Uint8Array<"u",z=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(_.prototype instanceof Uint8Array||_.TYPED_ARRAY_SUPPORT);function H(T,f){if(T instanceof _)return T;if(typeof T==="string")return _.from(T,f);if(z&&ArrayBuffer.isView(T)){if(T.byteLength===0)return _.alloc(0);var w=_.from(T.buffer,T.byteOffset,T.byteLength);if(w.byteLength===T.byteLength)return w}if(Y&&T instanceof Uint8Array)return _.from(T);if(_.isBuffer(T)&&T.constructor&&typeof T.constructor.isBuffer==="function"&&T.constructor.isBuffer(T))return _.from(T);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}O.prototype.update=function(T,f){if(this._finalized)throw Error("Digest already called");T=H(T,f);var w=this._block,k=0;while(this._blockOffset+T.length-k>=this._blockSize){for(var S=this._blockOffset;S<this._blockSize;)w[S++]=T[k++];this._update(),this._blockOffset=0}while(k<T.length)w[this._blockOffset++]=T[k++];for(var N=0,h=T.length*8;h>0;++N)if(this._length[N]+=h,h=this._length[N]/4294967296|0,h>0)this._length[N]-=4294967296*h;return this},O.prototype._update=function(){throw Error("_update is not implemented")},O.prototype.digest=function(T){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var f=this._digest();if(T!==void 0)f=f.toString(T);this._block.fill(0),this._blockOffset=0;for(var w=0;w<4;++w)this._length[w]=0;return f},O.prototype._digest=function(){throw Error("_digest is not implemented")},q.exports=O}),ai=T$(($,q)=>{var _=v8(),K=Fi(),P=dq().Buffer,O=Array(16);function Y(){K.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_(Y,K),Y.prototype._update=function(){var k=O;for(var S=0;S<16;++S)k[S]=this._block.readInt32LE(S*4);var N=this._a,h=this._b,E=this._c,D=this._d;N=H(N,h,E,D,k[0],3614090360,7),D=H(D,N,h,E,k[1],3905402710,12),E=H(E,D,N,h,k[2],606105819,17),h=H(h,E,D,N,k[3],3250441966,22),N=H(N,h,E,D,k[4],4118548399,7),D=H(D,N,h,E,k[5],1200080426,12),E=H(E,D,N,h,k[6],2821735955,17),h=H(h,E,D,N,k[7],4249261313,22),N=H(N,h,E,D,k[8],1770035416,7),D=H(D,N,h,E,k[9],2336552879,12),E=H(E,D,N,h,k[10],4294925233,17),h=H(h,E,D,N,k[11],2304563134,22),N=H(N,h,E,D,k[12],1804603682,7),D=H(D,N,h,E,k[13],4254626195,12),E=H(E,D,N,h,k[14],2792965006,17),h=H(h,E,D,N,k[15],1236535329,22),N=T(N,h,E,D,k[1],4129170786,5),D=T(D,N,h,E,k[6],3225465664,9),E=T(E,D,N,h,k[11],643717713,14),h=T(h,E,D,N,k[0],3921069994,20),N=T(N,h,E,D,k[5],3593408605,5),D=T(D,N,h,E,k[10],38016083,9),E=T(E,D,N,h,k[15],3634488961,14),h=T(h,E,D,N,k[4],3889429448,20),N=T(N,h,E,D,k[9],568446438,5),D=T(D,N,h,E,k[14],3275163606,9),E=T(E,D,N,h,k[3],4107603335,14),h=T(h,E,D,N,k[8],1163531501,20),N=T(N,h,E,D,k[13],2850285829,5),D=T(D,N,h,E,k[2],4243563512,9),E=T(E,D,N,h,k[7],1735328473,14),h=T(h,E,D,N,k[12],2368359562,20),N=f(N,h,E,D,k[5],4294588738,4),D=f(D,N,h,E,k[8],2272392833,11),E=f(E,D,N,h,k[11],1839030562,16),h=f(h,E,D,N,k[14],4259657740,23),N=f(N,h,E,D,k[1],2763975236,4),D=f(D,N,h,E,k[4],1272893353,11),E=f(E,D,N,h,k[7],4139469664,16),h=f(h,E,D,N,k[10],3200236656,23),N=f(N,h,E,D,k[13],681279174,4),D=f(D,N,h,E,k[0],3936430074,11),E=f(E,D,N,h,k[3],3572445317,16),h=f(h,E,D,N,k[6],76029189,23),N=f(N,h,E,D,k[9],3654602809,4),D=f(D,N,h,E,k[12],3873151461,11),E=f(E,D,N,h,k[15],530742520,16),h=f(h,E,D,N,k[2],3299628645,23),N=w(N,h,E,D,k[0],4096336452,6),D=w(D,N,h,E,k[7],1126891415,10),E=w(E,D,N,h,k[14],2878612391,15),h=w(h,E,D,N,k[5],4237533241,21),N=w(N,h,E,D,k[12],1700485571,6),D=w(D,N,h,E,k[3],2399980690,10),E=w(E,D,N,h,k[10],4293915773,15),h=w(h,E,D,N,k[1],2240044497,21),N=w(N,h,E,D,k[8],1873313359,6),D=w(D,N,h,E,k[15],4264355552,10),E=w(E,D,N,h,k[6],2734768916,15),h=w(h,E,D,N,k[13],1309151649,21),N=w(N,h,E,D,k[4],4149444226,6),D=w(D,N,h,E,k[11],3174756917,10),E=w(E,D,N,h,k[2],718787259,15),h=w(h,E,D,N,k[9],3951481745,21),this._a=this._a+N|0,this._b=this._b+h|0,this._c=this._c+E|0,this._d=this._d+D|0},Y.prototype._digest=function(){if(this._block[this._blockOffset++]=128,this._blockOffset>56)this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0;this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=P.allocUnsafe(16);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k};function z(k,S){return k<<S|k>>>32-S}function H(k,S,N,h,E,D,I){return z(k+(S&N|~S&h)+E+D|0,I)+S|0}function T(k,S,N,h,E,D,I){return z(k+(S&h|N&~h)+E+D|0,I)+S|0}function f(k,S,N,h,E,D,I){return z(k+(S^N^h)+E+D|0,I)+S|0}function w(k,S,N,h,E,D,I){return z(k+(N^(S|~h))+E+D|0,I)+S|0}q.exports=Y}),Qi=T$(($,q)=>{var _=dq().Buffer,K=ai();function P(O,Y,z,H){if(!_.isBuffer(O))O=_.from(O,"binary");if(Y){if(!_.isBuffer(Y))Y=_.from(Y,"binary");if(Y.length!==8)throw RangeError("salt should be Buffer with 8 byte length")}var T=z/8,f=_.alloc(T),w=_.alloc(H||0),k=_.alloc(0);while(T>0||H>0){var S=new K;if(S.update(k),S.update(O),Y)S.update(Y);k=S.digest();var N=0;if(T>0){var h=f.length-T;N=Math.min(T,k.length),k.copy(f,h,0,N),T-=N}if(N<k.length&&H>0){var E=w.length-H,D=Math.min(H,k.length-N);k.copy(w,E,N,N+D),H-=D}}return k.fill(0),{key:f,iv:w}}q.exports=P}),YM=T$(($)=>{var q=(rq(),J6(lq));$.createCipher=$.Cipher=q.createCipher,$.createCipheriv=$.Cipheriv=q.createCipheriv,$.createDecipher=$.Decipher=q.createDecipher,$.createDecipheriv=$.Decipheriv=q.createDecipheriv,$.listCiphers=$.getCiphers=q.getCiphers}),ei=T$(($,q)=>{var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,K=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,O=Qi(),Y=YM(),z=dq().Buffer;q.exports=function(H,T){var f=H.toString(),w=f.match(_),k;if(!w){var S=f.match(P);k=z.from(S[2].replace(/[\r\n]/g,""),"base64")}else{var N="aes"+w[1],h=z.from(w[2],"hex"),E=z.from(w[3].replace(/[\r\n]/g,""),"base64"),D=O(T,h.slice(0,8),parseInt(w[1],10)).key,I=[],L=Y.createDecipheriv(N,D,h);I.push(L.update(E)),I.push(L.final()),k=z.concat(I)}var g=f.match(K)[1];return{tag:g,data:k}}}),jM=T$(($,q)=>{var _=ti(),K=Ui(),P=ei(),O=YM(),Y=a0().pbkdf2Sync,z=dq().Buffer;function H(f,w){var k=f.algorithm.decrypt.kde.kdeparams.salt,S=parseInt(f.algorithm.decrypt.kde.kdeparams.iters.toString(),10),N=K[f.algorithm.decrypt.cipher.algo.join(".")],h=f.algorithm.decrypt.cipher.iv,E=f.subjectPrivateKey,D=parseInt(N.split("-")[1],10)/8,I=Y(w,k,S,D,"sha1"),L=O.createDecipheriv(N,I,h),g=[];return g.push(L.update(E)),g.push(L.final()),z.concat(g)}function T(f){var w;if(typeof f==="object"&&!z.isBuffer(f))w=f.passphrase,f=f.key;if(typeof f==="string")f=z.from(f);var k=P(f,w),S=k.tag,N=k.data,h,E;switch(S){case"CERTIFICATE":E=_.certificate.decode(N,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!E)E=_.PublicKey.decode(N,"der");switch(h=E.algorithm.algorithm.join("."),h){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=_.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":N=_.EncryptedPrivateKey.decode(N,"der"),N=H(N,w);case"PRIVATE KEY":switch(E=_.PrivateKey.decode(N,"der"),h=E.algorithm.algorithm.join("."),h){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:_.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=_.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw Error("unknown key id "+h)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(N,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(N,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(N,"der")};case"EC PRIVATE KEY":return N=_.ECPrivateKey.decode(N,"der"),{curve:N.parameters.value,privateKey:N.privateKey};default:throw Error("unknown key type "+S)}}T.signature=_.signature,q.exports=T}),vM=T$(($,q)=>{var _=X2(),K=dq().Buffer;q.exports=function(O,Y){var z=K.alloc(0),H=0,T;while(z.length<Y)T=P(H++),z=K.concat([z,_("sha1").update(O).update(T).digest()]);return z.slice(0,Y)};function P(O){var Y=K.allocUnsafe(4);return Y.writeUInt32BE(O,0),Y}}),zM=T$(($,q)=>{q.exports=function(_,K){var P=_.length,O=-1;while(++O<P)_[O]^=K[O];return _}}),kH=T$(($,q)=>{(function(_,K){function P(j,J){if(!j)throw Error(J||"Assertion failed")}function O(j,J){j.super_=J;var X=function(){};X.prototype=J.prototype,j.prototype=new X,j.prototype.constructor=j}function Y(j,J,X){if(Y.isBN(j))return j;if(this.negative=0,this.words=null,this.length=0,this.red=null,j!==null){if(J==="le"||J==="be")X=J,J=10;this._init(j||0,J||10,X||"be")}}if(typeof _==="object")_.exports=Y;else K.BN=Y;Y.BN=Y,Y.wordSize=26;var z;try{if(typeof window<"u"&&typeof window.Buffer<"u")z=window.Buffer;else z=(wq(),J6(Tq)).Buffer}catch(j){}Y.isBN=function(j){if(j instanceof Y)return!0;return j!==null&&typeof j==="object"&&j.constructor.wordSize===Y.wordSize&&Array.isArray(j.words)},Y.max=function(j,J){if(j.cmp(J)>0)return j;return J},Y.min=function(j,J){if(j.cmp(J)<0)return j;return J},Y.prototype._init=function(j,J,X){if(typeof j==="number")return this._initNumber(j,J,X);if(typeof j==="object")return this._initArray(j,J,X);if(J==="hex")J=16;P(J===(J|0)&&J>=2&&J<=36),j=j.toString().replace(/\s+/g,"");var W=0;if(j[0]==="-")W++,this.negative=1;if(W<j.length){if(J===16)this._parseHex(j,W,X);else if(this._parseBase(j,J,W),X==="le")this._initArray(this.toArray(),J,X)}},Y.prototype._initNumber=function(j,J,X){if(j<0)this.negative=1,j=-j;if(j<67108864)this.words=[j&67108863],this.length=1;else if(j<4503599627370496)this.words=[j&67108863,j/67108864&67108863],this.length=2;else P(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3;if(X!=="le")return;this._initArray(this.toArray(),J,X)},Y.prototype._initArray=function(j,J,X){if(P(typeof j.length==="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z,V,M=0;if(X==="be"){for(W=j.length-1,Z=0;W>=0;W-=3)if(V=j[W]|j[W-1]<<8|j[W-2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}else if(X==="le"){for(W=0,Z=0;W<j.length;W+=3)if(V=j[W]|j[W+1]<<8|j[W+2]<<16,this.words[Z]|=V<<M&67108863,this.words[Z+1]=V>>>26-M&67108863,M+=24,M>=26)M-=26,Z++}return this.strip()};function H(j,J){var X=j.charCodeAt(J);if(X>=65&&X<=70)return X-55;else if(X>=97&&X<=102)return X-87;else return X-48&15}function T(j,J,X){var W=H(j,X);if(X-1>=J)W|=H(j,X-1)<<4;return W}Y.prototype._parseHex=function(j,J,X){this.length=Math.ceil((j.length-J)/6),this.words=Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z=0,V=0,M;if(X==="be")for(W=j.length-1;W>=J;W-=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8;else{var A=j.length-J;for(W=A%2===0?J+1:J;W<j.length;W+=2)if(M=T(j,J,W)<<Z,this.words[V]|=M&67108863,Z>=18)Z-=18,V+=1,this.words[V]|=M>>>26;else Z+=8}this.strip()};function f(j,J,X,W){var Z=0,V=Math.min(j.length,X);for(var M=J;M<V;M++){var A=j.charCodeAt(M)-48;if(Z*=W,A>=49)Z+=A-49+10;else if(A>=17)Z+=A-17+10;else Z+=A}return Z}Y.prototype._parseBase=function(j,J,X){this.words=[0],this.length=1;for(var W=0,Z=1;Z<=67108863;Z*=J)W++;W--,Z=Z/J|0;var V=j.length-X,M=V%W,A=Math.min(V,V-M)+X,v=0;for(var G=X;G<A;G+=W)if(v=f(j,G,G+W,J),this.imuln(Z),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v);if(M!==0){var R=1;v=f(j,G,j.length,J);for(G=0;G<M;G++)R*=J;if(this.imuln(R),this.words[0]+v<67108864)this.words[0]+=v;else this._iaddn(v)}this.strip()},Y.prototype.copy=function(j){j.words=Array(this.length);for(var J=0;J<this.length;J++)j.words[J]=this.words[J];j.length=this.length,j.negative=this.negative,j.red=this.red},Y.prototype.clone=function(){var j=new Y(null);return this.copy(j),j},Y.prototype._expand=function(j){while(this.length<j)this.words[this.length++]=0;return this},Y.prototype.strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},Y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(j,J){j=j||10,J=J|0||1;var X;if(j===16||j==="hex"){X="";var W=0,Z=0;for(var V=0;V<this.length;V++){var M=this.words[V],A=((M<<W|Z)&16777215).toString(16);if(Z=M>>>24-W&16777215,W+=2,W>=26)W-=26,V--;if(Z!==0||V!==this.length-1)X=w[6-A.length]+A+X;else X=A+X}if(Z!==0)X=Z.toString(16)+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}if(j===(j|0)&&j>=2&&j<=36){var v=k[j],G=S[j];X="";var R=this.clone();R.negative=0;while(!R.isZero()){var C=R.modn(G).toString(j);if(R=R.idivn(G),!R.isZero())X=w[v-C.length]+C+X;else X=C+X}if(this.isZero())X="0"+X;while(X.length%J!==0)X="0"+X;if(this.negative!==0)X="-"+X;return X}P(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var j=this.words[0];if(this.length===2)j+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)j+=4503599627370496+this.words[1]*67108864;else if(this.length>2)P(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-j:j},Y.prototype.toJSON=function(){return this.toString(16)},Y.prototype.toBuffer=function(j,J){return P(typeof z<"u"),this.toArrayLike(z,j,J)},Y.prototype.toArray=function(j,J){return this.toArrayLike(Array,j,J)},Y.prototype.toArrayLike=function(j,J,X){var W=this.byteLength(),Z=X||Math.max(1,W);P(W<=Z,"byte array longer than desired length"),P(Z>0,"Requested array length <= 0"),this.strip();var V=J==="le",M=new j(Z),A,v,G=this.clone();if(!V){for(v=0;v<Z-W;v++)M[v]=0;for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[Z-v-1]=A}else{for(v=0;!G.isZero();v++)A=G.andln(255),G.iushrn(8),M[v]=A;for(;v<Z;v++)M[v]=0}return M},Math.clz32)Y.prototype._countBits=function(j){return 32-Math.clz32(j)};else Y.prototype._countBits=function(j){var J=j,X=0;if(J>=4096)X+=13,J>>>=13;if(J>=64)X+=7,J>>>=7;if(J>=8)X+=4,J>>>=4;if(J>=2)X+=2,J>>>=2;return X+J};Y.prototype._zeroBits=function(j){if(j===0)return 26;var J=j,X=0;if((J&8191)===0)X+=13,J>>>=13;if((J&127)===0)X+=7,J>>>=7;if((J&15)===0)X+=4,J>>>=4;if((J&3)===0)X+=2,J>>>=2;if((J&1)===0)X++;return X},Y.prototype.bitLength=function(){var j=this.words[this.length-1],J=this._countBits(j);return(this.length-1)*26+J};function N(j){var J=Array(j.bitLength());for(var X=0;X<J.length;X++){var W=X/26|0,Z=X%26;J[X]=(j.words[W]&1<<Z)>>>Z}return J}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var j=0;for(var J=0;J<this.length;J++){var X=this._zeroBits(this.words[J]);if(j+=X,X!==26)break}return j},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(j){if(this.negative!==0)return this.abs().inotn(j).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(j){if(this.testn(j-1))return this.notn(j).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(j){while(this.length<j.length)this.words[this.length++]=0;for(var J=0;J<j.length;J++)this.words[J]=this.words[J]|j.words[J];return this.strip()},Y.prototype.ior=function(j){return P((this.negative|j.negative)===0),this.iuor(j)},Y.prototype.or=function(j){if(this.length>j.length)return this.clone().ior(j);return j.clone().ior(this)},Y.prototype.uor=function(j){if(this.length>j.length)return this.clone().iuor(j);return j.clone().iuor(this)},Y.prototype.iuand=function(j){var J;if(this.length>j.length)J=j;else J=this;for(var X=0;X<J.length;X++)this.words[X]=this.words[X]&j.words[X];return this.length=J.length,this.strip()},Y.prototype.iand=function(j){return P((this.negative|j.negative)===0),this.iuand(j)},Y.prototype.and=function(j){if(this.length>j.length)return this.clone().iand(j);return j.clone().iand(this)},Y.prototype.uand=function(j){if(this.length>j.length)return this.clone().iuand(j);return j.clone().iuand(this)},Y.prototype.iuxor=function(j){var J,X;if(this.length>j.length)J=this,X=j;else J=j,X=this;for(var W=0;W<X.length;W++)this.words[W]=J.words[W]^X.words[W];if(this!==J)for(;W<J.length;W++)this.words[W]=J.words[W];return this.length=J.length,this.strip()},Y.prototype.ixor=function(j){return P((this.negative|j.negative)===0),this.iuxor(j)},Y.prototype.xor=function(j){if(this.length>j.length)return this.clone().ixor(j);return j.clone().ixor(this)},Y.prototype.uxor=function(j){if(this.length>j.length)return this.clone().iuxor(j);return j.clone().iuxor(this)},Y.prototype.inotn=function(j){P(typeof j==="number"&&j>=0);var J=Math.ceil(j/26)|0,X=j%26;if(this._expand(J),X>0)J--;for(var W=0;W<J;W++)this.words[W]=~this.words[W]&67108863;if(X>0)this.words[W]=~this.words[W]&67108863>>26-X;return this.strip()},Y.prototype.notn=function(j){return this.clone().inotn(j)},Y.prototype.setn=function(j,J){P(typeof j==="number"&&j>=0);var X=j/26|0,W=j%26;if(this._expand(X+1),J)this.words[X]=this.words[X]|1<<W;else this.words[X]=this.words[X]&~(1<<W);return this.strip()},Y.prototype.iadd=function(j){var J;if(this.negative!==0&&j.negative===0)return this.negative=0,J=this.isub(j),this.negative^=1,this._normSign();else if(this.negative===0&&j.negative!==0)return j.negative=0,J=this.isub(j),j.negative=1,J._normSign();var X,W;if(this.length>j.length)X=this,W=j;else X=j,W=this;var Z=0;for(var V=0;V<W.length;V++)J=(X.words[V]|0)+(W.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;for(;Z!==0&&V<X.length;V++)J=(X.words[V]|0)+Z,this.words[V]=J&67108863,Z=J>>>26;if(this.length=X.length,Z!==0)this.words[this.length]=Z,this.length++;else if(X!==this)for(;V<X.length;V++)this.words[V]=X.words[V];return this},Y.prototype.add=function(j){var J;if(j.negative!==0&&this.negative===0)return j.negative=0,J=this.sub(j),j.negative^=1,J;else if(j.negative===0&&this.negative!==0)return this.negative=0,J=j.sub(this),this.negative=1,J;if(this.length>j.length)return this.clone().iadd(j);return j.clone().iadd(this)},Y.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var J=this.iadd(j);return j.negative=1,J._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var X=this.cmp(j);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,Z;if(X>0)W=this,Z=j;else W=j,Z=this;var V=0;for(var M=0;M<Z.length;M++)J=(W.words[M]|0)-(Z.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;for(;V!==0&&M<W.length;M++)J=(W.words[M]|0)+V,V=J>>26,this.words[M]=J&67108863;if(V===0&&M<W.length&&W!==this)for(;M<W.length;M++)this.words[M]=W.words[M];if(this.length=Math.max(this.length,M),W!==this)this.negative=1;return this.strip()},Y.prototype.sub=function(j){return this.clone().isub(j)};function h(j,J,X){X.negative=J.negative^j.negative;var W=j.length+J.length|0;X.length=W,W=W-1|0;var Z=j.words[0]|0,V=J.words[0]|0,M=Z*V,A=M&67108863,v=M/67108864|0;X.words[0]=A;for(var G=1;G<W;G++){var R=v>>>26,C=v&67108863,b=Math.min(G,J.length-1);for(var x=Math.max(0,G-j.length+1);x<=b;x++){var l=G-x|0;Z=j.words[l]|0,V=J.words[x]|0,M=Z*V+C,R+=M/67108864|0,C=M&67108863}X.words[G]=C|0,v=R|0}if(v!==0)X.words[G]=v|0;else X.length--;return X.strip()}var E=function(j,J,X){var W=j.words,Z=J.words,V=X.words,M=0,A,v,G,R=W[0]|0,C=R&8191,b=R>>>13,x=W[1]|0,l=x&8191,a=x>>>13,f$=W[2]|0,q$=f$&8191,B=f$>>>13,v$=W[3]|0,e=v$&8191,P$=v$>>>13,o$=W[4]|0,m=o$&8191,r=o$>>>13,J$=W[5]|0,$$=J$&8191,_$=J$>>>13,Y$=W[6]|0,d=Y$&8191,n=Y$>>>13,H$=W[7]|0,t=H$&8191,F=H$>>>13,A$=W[8]|0,W$=A$&8191,z$=A$>>>13,Z6=W[9]|0,X$=Z6&8191,k$=Z6>>>13,o6=Z[0]|0,M$=o6&8191,S$=o6>>>13,Sq=Z[1]|0,E$=Sq&8191,g$=Sq>>>13,Mq=Z[2]|0,b$=Mq&8191,h$=Mq>>>13,fq=Z[3]|0,y$=fq&8191,R$=fq>>>13,zq=Z[4]|0,u$=zq&8191,x$=zq>>>13,Wq=Z[5]|0,I$=Wq&8191,u=Wq>>>13,i=Z[6]|0,K$=i&8191,O$=i>>>13,B$=Z[7]|0,G$=B$&8191,V$=B$>>>13,p6=Z[8]|0,D$=p6&8191,p$=p6>>>13,Zq=Z[9]|0,L$=Zq&8191,C$=Zq>>>13;X.negative=j.negative^J.negative,X.length=19,A=Math.imul(C,M$),v=Math.imul(C,S$),v=v+Math.imul(b,M$)|0,G=Math.imul(b,S$);var c6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(c6>>>26)|0,c6&=67108863,A=Math.imul(l,M$),v=Math.imul(l,S$),v=v+Math.imul(a,M$)|0,G=Math.imul(a,S$),A=A+Math.imul(C,E$)|0,v=v+Math.imul(C,g$)|0,v=v+Math.imul(b,E$)|0,G=G+Math.imul(b,g$)|0;var W6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(W6>>>26)|0,W6&=67108863,A=Math.imul(q$,M$),v=Math.imul(q$,S$),v=v+Math.imul(B,M$)|0,G=Math.imul(B,S$),A=A+Math.imul(l,E$)|0,v=v+Math.imul(l,g$)|0,v=v+Math.imul(a,E$)|0,G=G+Math.imul(a,g$)|0,A=A+Math.imul(C,b$)|0,v=v+Math.imul(C,h$)|0,v=v+Math.imul(b,b$)|0,G=G+Math.imul(b,h$)|0;var j6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(j6>>>26)|0,j6&=67108863,A=Math.imul(e,M$),v=Math.imul(e,S$),v=v+Math.imul(P$,M$)|0,G=Math.imul(P$,S$),A=A+Math.imul(q$,E$)|0,v=v+Math.imul(q$,g$)|0,v=v+Math.imul(B,E$)|0,G=G+Math.imul(B,g$)|0,A=A+Math.imul(l,b$)|0,v=v+Math.imul(l,h$)|0,v=v+Math.imul(a,b$)|0,G=G+Math.imul(a,h$)|0,A=A+Math.imul(C,y$)|0,v=v+Math.imul(C,R$)|0,v=v+Math.imul(b,y$)|0,G=G+Math.imul(b,R$)|0;var E6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(E6>>>26)|0,E6&=67108863,A=Math.imul(m,M$),v=Math.imul(m,S$),v=v+Math.imul(r,M$)|0,G=Math.imul(r,S$),A=A+Math.imul(e,E$)|0,v=v+Math.imul(e,g$)|0,v=v+Math.imul(P$,E$)|0,G=G+Math.imul(P$,g$)|0,A=A+Math.imul(q$,b$)|0,v=v+Math.imul(q$,h$)|0,v=v+Math.imul(B,b$)|0,G=G+Math.imul(B,h$)|0,A=A+Math.imul(l,y$)|0,v=v+Math.imul(l,R$)|0,v=v+Math.imul(a,y$)|0,G=G+Math.imul(a,R$)|0,A=A+Math.imul(C,u$)|0,v=v+Math.imul(C,x$)|0,v=v+Math.imul(b,u$)|0,G=G+Math.imul(b,x$)|0;var S6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(S6>>>26)|0,S6&=67108863,A=Math.imul($$,M$),v=Math.imul($$,S$),v=v+Math.imul(_$,M$)|0,G=Math.imul(_$,S$),A=A+Math.imul(m,E$)|0,v=v+Math.imul(m,g$)|0,v=v+Math.imul(r,E$)|0,G=G+Math.imul(r,g$)|0,A=A+Math.imul(e,b$)|0,v=v+Math.imul(e,h$)|0,v=v+Math.imul(P$,b$)|0,G=G+Math.imul(P$,h$)|0,A=A+Math.imul(q$,y$)|0,v=v+Math.imul(q$,R$)|0,v=v+Math.imul(B,y$)|0,G=G+Math.imul(B,R$)|0,A=A+Math.imul(l,u$)|0,v=v+Math.imul(l,x$)|0,v=v+Math.imul(a,u$)|0,G=G+Math.imul(a,x$)|0,A=A+Math.imul(C,I$)|0,v=v+Math.imul(C,u)|0,v=v+Math.imul(b,I$)|0,G=G+Math.imul(b,u)|0;var t6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(t6>>>26)|0,t6&=67108863,A=Math.imul(d,M$),v=Math.imul(d,S$),v=v+Math.imul(n,M$)|0,G=Math.imul(n,S$),A=A+Math.imul($$,E$)|0,v=v+Math.imul($$,g$)|0,v=v+Math.imul(_$,E$)|0,G=G+Math.imul(_$,g$)|0,A=A+Math.imul(m,b$)|0,v=v+Math.imul(m,h$)|0,v=v+Math.imul(r,b$)|0,G=G+Math.imul(r,h$)|0,A=A+Math.imul(e,y$)|0,v=v+Math.imul(e,R$)|0,v=v+Math.imul(P$,y$)|0,G=G+Math.imul(P$,R$)|0,A=A+Math.imul(q$,u$)|0,v=v+Math.imul(q$,x$)|0,v=v+Math.imul(B,u$)|0,G=G+Math.imul(B,x$)|0,A=A+Math.imul(l,I$)|0,v=v+Math.imul(l,u)|0,v=v+Math.imul(a,I$)|0,G=G+Math.imul(a,u)|0,A=A+Math.imul(C,K$)|0,v=v+Math.imul(C,O$)|0,v=v+Math.imul(b,K$)|0,G=G+Math.imul(b,O$)|0;var U6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(U6>>>26)|0,U6&=67108863,A=Math.imul(t,M$),v=Math.imul(t,S$),v=v+Math.imul(F,M$)|0,G=Math.imul(F,S$),A=A+Math.imul(d,E$)|0,v=v+Math.imul(d,g$)|0,v=v+Math.imul(n,E$)|0,G=G+Math.imul(n,g$)|0,A=A+Math.imul($$,b$)|0,v=v+Math.imul($$,h$)|0,v=v+Math.imul(_$,b$)|0,G=G+Math.imul(_$,h$)|0,A=A+Math.imul(m,y$)|0,v=v+Math.imul(m,R$)|0,v=v+Math.imul(r,y$)|0,G=G+Math.imul(r,R$)|0,A=A+Math.imul(e,u$)|0,v=v+Math.imul(e,x$)|0,v=v+Math.imul(P$,u$)|0,G=G+Math.imul(P$,x$)|0,A=A+Math.imul(q$,I$)|0,v=v+Math.imul(q$,u)|0,v=v+Math.imul(B,I$)|0,G=G+Math.imul(B,u)|0,A=A+Math.imul(l,K$)|0,v=v+Math.imul(l,O$)|0,v=v+Math.imul(a,K$)|0,G=G+Math.imul(a,O$)|0,A=A+Math.imul(C,G$)|0,v=v+Math.imul(C,V$)|0,v=v+Math.imul(b,G$)|0,G=G+Math.imul(b,V$)|0;var F6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(F6>>>26)|0,F6&=67108863,A=Math.imul(W$,M$),v=Math.imul(W$,S$),v=v+Math.imul(z$,M$)|0,G=Math.imul(z$,S$),A=A+Math.imul(t,E$)|0,v=v+Math.imul(t,g$)|0,v=v+Math.imul(F,E$)|0,G=G+Math.imul(F,g$)|0,A=A+Math.imul(d,b$)|0,v=v+Math.imul(d,h$)|0,v=v+Math.imul(n,b$)|0,G=G+Math.imul(n,h$)|0,A=A+Math.imul($$,y$)|0,v=v+Math.imul($$,R$)|0,v=v+Math.imul(_$,y$)|0,G=G+Math.imul(_$,R$)|0,A=A+Math.imul(m,u$)|0,v=v+Math.imul(m,x$)|0,v=v+Math.imul(r,u$)|0,G=G+Math.imul(r,x$)|0,A=A+Math.imul(e,I$)|0,v=v+Math.imul(e,u)|0,v=v+Math.imul(P$,I$)|0,G=G+Math.imul(P$,u)|0,A=A+Math.imul(q$,K$)|0,v=v+Math.imul(q$,O$)|0,v=v+Math.imul(B,K$)|0,G=G+Math.imul(B,O$)|0,A=A+Math.imul(l,G$)|0,v=v+Math.imul(l,V$)|0,v=v+Math.imul(a,G$)|0,G=G+Math.imul(a,V$)|0,A=A+Math.imul(C,D$)|0,v=v+Math.imul(C,p$)|0,v=v+Math.imul(b,D$)|0,G=G+Math.imul(b,p$)|0;var a6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(a6>>>26)|0,a6&=67108863,A=Math.imul(X$,M$),v=Math.imul(X$,S$),v=v+Math.imul(k$,M$)|0,G=Math.imul(k$,S$),A=A+Math.imul(W$,E$)|0,v=v+Math.imul(W$,g$)|0,v=v+Math.imul(z$,E$)|0,G=G+Math.imul(z$,g$)|0,A=A+Math.imul(t,b$)|0,v=v+Math.imul(t,h$)|0,v=v+Math.imul(F,b$)|0,G=G+Math.imul(F,h$)|0,A=A+Math.imul(d,y$)|0,v=v+Math.imul(d,R$)|0,v=v+Math.imul(n,y$)|0,G=G+Math.imul(n,R$)|0,A=A+Math.imul($$,u$)|0,v=v+Math.imul($$,x$)|0,v=v+Math.imul(_$,u$)|0,G=G+Math.imul(_$,x$)|0,A=A+Math.imul(m,I$)|0,v=v+Math.imul(m,u)|0,v=v+Math.imul(r,I$)|0,G=G+Math.imul(r,u)|0,A=A+Math.imul(e,K$)|0,v=v+Math.imul(e,O$)|0,v=v+Math.imul(P$,K$)|0,G=G+Math.imul(P$,O$)|0,A=A+Math.imul(q$,G$)|0,v=v+Math.imul(q$,V$)|0,v=v+Math.imul(B,G$)|0,G=G+Math.imul(B,V$)|0,A=A+Math.imul(l,D$)|0,v=v+Math.imul(l,p$)|0,v=v+Math.imul(a,D$)|0,G=G+Math.imul(a,p$)|0,A=A+Math.imul(C,L$)|0,v=v+Math.imul(C,C$)|0,v=v+Math.imul(b,L$)|0,G=G+Math.imul(b,C$)|0;var Q6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,A=Math.imul(X$,E$),v=Math.imul(X$,g$),v=v+Math.imul(k$,E$)|0,G=Math.imul(k$,g$),A=A+Math.imul(W$,b$)|0,v=v+Math.imul(W$,h$)|0,v=v+Math.imul(z$,b$)|0,G=G+Math.imul(z$,h$)|0,A=A+Math.imul(t,y$)|0,v=v+Math.imul(t,R$)|0,v=v+Math.imul(F,y$)|0,G=G+Math.imul(F,R$)|0,A=A+Math.imul(d,u$)|0,v=v+Math.imul(d,x$)|0,v=v+Math.imul(n,u$)|0,G=G+Math.imul(n,x$)|0,A=A+Math.imul($$,I$)|0,v=v+Math.imul($$,u)|0,v=v+Math.imul(_$,I$)|0,G=G+Math.imul(_$,u)|0,A=A+Math.imul(m,K$)|0,v=v+Math.imul(m,O$)|0,v=v+Math.imul(r,K$)|0,G=G+Math.imul(r,O$)|0,A=A+Math.imul(e,G$)|0,v=v+Math.imul(e,V$)|0,v=v+Math.imul(P$,G$)|0,G=G+Math.imul(P$,V$)|0,A=A+Math.imul(q$,D$)|0,v=v+Math.imul(q$,p$)|0,v=v+Math.imul(B,D$)|0,G=G+Math.imul(B,p$)|0,A=A+Math.imul(l,L$)|0,v=v+Math.imul(l,C$)|0,v=v+Math.imul(a,L$)|0,G=G+Math.imul(a,C$)|0;var e6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(e6>>>26)|0,e6&=67108863,A=Math.imul(X$,b$),v=Math.imul(X$,h$),v=v+Math.imul(k$,b$)|0,G=Math.imul(k$,h$),A=A+Math.imul(W$,y$)|0,v=v+Math.imul(W$,R$)|0,v=v+Math.imul(z$,y$)|0,G=G+Math.imul(z$,R$)|0,A=A+Math.imul(t,u$)|0,v=v+Math.imul(t,x$)|0,v=v+Math.imul(F,u$)|0,G=G+Math.imul(F,x$)|0,A=A+Math.imul(d,I$)|0,v=v+Math.imul(d,u)|0,v=v+Math.imul(n,I$)|0,G=G+Math.imul(n,u)|0,A=A+Math.imul($$,K$)|0,v=v+Math.imul($$,O$)|0,v=v+Math.imul(_$,K$)|0,G=G+Math.imul(_$,O$)|0,A=A+Math.imul(m,G$)|0,v=v+Math.imul(m,V$)|0,v=v+Math.imul(r,G$)|0,G=G+Math.imul(r,V$)|0,A=A+Math.imul(e,D$)|0,v=v+Math.imul(e,p$)|0,v=v+Math.imul(P$,D$)|0,G=G+Math.imul(P$,p$)|0,A=A+Math.imul(q$,L$)|0,v=v+Math.imul(q$,C$)|0,v=v+Math.imul(B,L$)|0,G=G+Math.imul(B,C$)|0;var s6=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(s6>>>26)|0,s6&=67108863,A=Math.imul(X$,y$),v=Math.imul(X$,R$),v=v+Math.imul(k$,y$)|0,G=Math.imul(k$,R$),A=A+Math.imul(W$,u$)|0,v=v+Math.imul(W$,x$)|0,v=v+Math.imul(z$,u$)|0,G=G+Math.imul(z$,x$)|0,A=A+Math.imul(t,I$)|0,v=v+Math.imul(t,u)|0,v=v+Math.imul(F,I$)|0,G=G+Math.imul(F,u)|0,A=A+Math.imul(d,K$)|0,v=v+Math.imul(d,O$)|0,v=v+Math.imul(n,K$)|0,G=G+Math.imul(n,O$)|0,A=A+Math.imul($$,G$)|0,v=v+Math.imul($$,V$)|0,v=v+Math.imul(_$,G$)|0,G=G+Math.imul(_$,V$)|0,A=A+Math.imul(m,D$)|0,v=v+Math.imul(m,p$)|0,v=v+Math.imul(r,D$)|0,G=G+Math.imul(r,p$)|0,A=A+Math.imul(e,L$)|0,v=v+Math.imul(e,C$)|0,v=v+Math.imul(P$,L$)|0,G=G+Math.imul(P$,C$)|0;var $q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+($q>>>26)|0,$q&=67108863,A=Math.imul(X$,u$),v=Math.imul(X$,x$),v=v+Math.imul(k$,u$)|0,G=Math.imul(k$,x$),A=A+Math.imul(W$,I$)|0,v=v+Math.imul(W$,u)|0,v=v+Math.imul(z$,I$)|0,G=G+Math.imul(z$,u)|0,A=A+Math.imul(t,K$)|0,v=v+Math.imul(t,O$)|0,v=v+Math.imul(F,K$)|0,G=G+Math.imul(F,O$)|0,A=A+Math.imul(d,G$)|0,v=v+Math.imul(d,V$)|0,v=v+Math.imul(n,G$)|0,G=G+Math.imul(n,V$)|0,A=A+Math.imul($$,D$)|0,v=v+Math.imul($$,p$)|0,v=v+Math.imul(_$,D$)|0,G=G+Math.imul(_$,p$)|0,A=A+Math.imul(m,L$)|0,v=v+Math.imul(m,C$)|0,v=v+Math.imul(r,L$)|0,G=G+Math.imul(r,C$)|0;var qq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(qq>>>26)|0,qq&=67108863,A=Math.imul(X$,I$),v=Math.imul(X$,u),v=v+Math.imul(k$,I$)|0,G=Math.imul(k$,u),A=A+Math.imul(W$,K$)|0,v=v+Math.imul(W$,O$)|0,v=v+Math.imul(z$,K$)|0,G=G+Math.imul(z$,O$)|0,A=A+Math.imul(t,G$)|0,v=v+Math.imul(t,V$)|0,v=v+Math.imul(F,G$)|0,G=G+Math.imul(F,V$)|0,A=A+Math.imul(d,D$)|0,v=v+Math.imul(d,p$)|0,v=v+Math.imul(n,D$)|0,G=G+Math.imul(n,p$)|0,A=A+Math.imul($$,L$)|0,v=v+Math.imul($$,C$)|0,v=v+Math.imul(_$,L$)|0,G=G+Math.imul(_$,C$)|0;var _q=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(_q>>>26)|0,_q&=67108863,A=Math.imul(X$,K$),v=Math.imul(X$,O$),v=v+Math.imul(k$,K$)|0,G=Math.imul(k$,O$),A=A+Math.imul(W$,G$)|0,v=v+Math.imul(W$,V$)|0,v=v+Math.imul(z$,G$)|0,G=G+Math.imul(z$,V$)|0,A=A+Math.imul(t,D$)|0,v=v+Math.imul(t,p$)|0,v=v+Math.imul(F,D$)|0,G=G+Math.imul(F,p$)|0,A=A+Math.imul(d,L$)|0,v=v+Math.imul(d,C$)|0,v=v+Math.imul(n,L$)|0,G=G+Math.imul(n,C$)|0;var Kq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,A=Math.imul(X$,G$),v=Math.imul(X$,V$),v=v+Math.imul(k$,G$)|0,G=Math.imul(k$,V$),A=A+Math.imul(W$,D$)|0,v=v+Math.imul(W$,p$)|0,v=v+Math.imul(z$,D$)|0,G=G+Math.imul(z$,p$)|0,A=A+Math.imul(t,L$)|0,v=v+Math.imul(t,C$)|0,v=v+Math.imul(F,L$)|0,G=G+Math.imul(F,C$)|0;var Pq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,A=Math.imul(X$,D$),v=Math.imul(X$,p$),v=v+Math.imul(k$,D$)|0,G=Math.imul(k$,p$),A=A+Math.imul(W$,L$)|0,v=v+Math.imul(W$,C$)|0,v=v+Math.imul(z$,L$)|0,G=G+Math.imul(z$,C$)|0;var Oq=(M+A|0)+((v&8191)<<13)|0;M=(G+(v>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,A=Math.imul(X$,L$),v=Math.imul(X$,C$),v=v+Math.imul(k$,L$)|0,G=Math.imul(k$,C$);var Yq=(M+A|0)+((v&8191)<<13)|0;if(M=(G+(v>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,V[0]=c6,V[1]=W6,V[2]=j6,V[3]=E6,V[4]=S6,V[5]=t6,V[6]=U6,V[7]=F6,V[8]=a6,V[9]=Q6,V[10]=e6,V[11]=s6,V[12]=$q,V[13]=qq,V[14]=_q,V[15]=Kq,V[16]=Pq,V[17]=Oq,V[18]=Yq,M!==0)V[19]=M,X.length++;return X};if(!Math.imul)E=h;function D(j,J,X){X.negative=J.negative^j.negative,X.length=j.length+J.length;var W=0,Z=0;for(var V=0;V<X.length-1;V++){var M=Z;Z=0;var A=W&67108863,v=Math.min(V,J.length-1);for(var G=Math.max(0,V-j.length+1);G<=v;G++){var R=V-G,C=j.words[R]|0,b=J.words[G]|0,x=C*b,l=x&67108863;M=M+(x/67108864|0)|0,l=l+A|0,A=l&67108863,M=M+(l>>>26)|0,Z+=M>>>26,M&=67108863}X.words[V]=A,W=M,M=Z}if(W!==0)X.words[V]=W;else X.length--;return X.strip()}function I(j,J,X){var W=new L;return W.mulp(j,J,X)}Y.prototype.mulTo=function(j,J){var X,W=this.length+j.length;if(this.length===10&&j.length===10)X=E(this,j,J);else if(W<63)X=h(this,j,J);else if(W<1024)X=D(this,j,J);else X=I(this,j,J);return X};function L(j,J){this.x=j,this.y=J}L.prototype.makeRBT=function(j){var J=Array(j),X=Y.prototype._countBits(j)-1;for(var W=0;W<j;W++)J[W]=this.revBin(W,X,j);return J},L.prototype.revBin=function(j,J,X){if(j===0||j===X-1)return j;var W=0;for(var Z=0;Z<J;Z++)W|=(j&1)<<J-Z-1,j>>=1;return W},L.prototype.permute=function(j,J,X,W,Z,V){for(var M=0;M<V;M++)W[M]=J[j[M]],Z[M]=X[j[M]]},L.prototype.transform=function(j,J,X,W,Z,V){this.permute(V,j,J,X,W,Z);for(var M=1;M<Z;M<<=1){var A=M<<1,v=Math.cos(2*Math.PI/A),G=Math.sin(2*Math.PI/A);for(var R=0;R<Z;R+=A){var C=v,b=G;for(var x=0;x<M;x++){var l=X[R+x],a=W[R+x],f$=X[R+x+M],q$=W[R+x+M],B=C*f$-b*q$;if(q$=C*q$+b*f$,f$=B,X[R+x]=l+f$,W[R+x]=a+q$,X[R+x+M]=l-f$,W[R+x+M]=a-q$,x!==A)B=v*C-G*b,b=v*b+G*C,C=B}}}},L.prototype.guessLen13b=function(j,J){var X=Math.max(J,j)|1,W=X&1,Z=0;for(X=X/2|0;X;X=X>>>1)Z++;return 1<<Z+1+W},L.prototype.conjugate=function(j,J,X){if(X<=1)return;for(var W=0;W<X/2;W++){var Z=j[W];j[W]=j[X-W-1],j[X-W-1]=Z,Z=J[W],J[W]=-J[X-W-1],J[X-W-1]=-Z}},L.prototype.normalize13b=function(j,J){var X=0;for(var W=0;W<J/2;W++){var Z=Math.round(j[2*W+1]/J)*8192+Math.round(j[2*W]/J)+X;if(j[W]=Z&67108863,Z<67108864)X=0;else X=Z/67108864|0}return j},L.prototype.convert13b=function(j,J,X,W){var Z=0;for(var V=0;V<J;V++)Z=Z+(j[V]|0),X[2*V]=Z&8191,Z=Z>>>13,X[2*V+1]=Z&8191,Z=Z>>>13;for(V=2*J;V<W;++V)X[V]=0;P(Z===0),P((Z&-8192)===0)},L.prototype.stub=function(j){var J=Array(j);for(var X=0;X<j;X++)J[X]=0;return J},L.prototype.mulp=function(j,J,X){var W=2*this.guessLen13b(j.length,J.length),Z=this.makeRBT(W),V=this.stub(W),M=Array(W),A=Array(W),v=Array(W),G=Array(W),R=Array(W),C=Array(W),b=X.words;b.length=W,this.convert13b(j.words,j.length,M,W),this.convert13b(J.words,J.length,G,W),this.transform(M,V,A,v,W,Z),this.transform(G,V,R,C,W,Z);for(var x=0;x<W;x++){var l=A[x]*R[x]-v[x]*C[x];v[x]=A[x]*C[x]+v[x]*R[x],A[x]=l}return this.conjugate(A,v,W),this.transform(A,v,b,V,W,Z),this.conjugate(b,V,W),this.normalize13b(b,W),X.negative=j.negative^J.negative,X.length=j.length+J.length,X.strip()},Y.prototype.mul=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),this.mulTo(j,J)},Y.prototype.mulf=function(j){var J=new Y(null);return J.words=Array(this.length+j.length),I(this,j,J)},Y.prototype.imul=function(j){return this.clone().mulTo(j,this)},Y.prototype.imuln=function(j){P(typeof j==="number"),P(j<67108864);var J=0;for(var X=0;X<this.length;X++){var W=(this.words[X]|0)*j,Z=(W&67108863)+(J&67108863);J>>=26,J+=W/67108864|0,J+=Z>>>26,this.words[X]=Z&67108863}if(J!==0)this.words[X]=J,this.length++;return this.length=j===0?1:this.length,this},Y.prototype.muln=function(j){return this.clone().imuln(j)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(j){var J=N(j);if(J.length===0)return new Y(1);var X=this;for(var W=0;W<J.length;W++,X=X.sqr())if(J[W]!==0)break;if(++W<J.length)for(var Z=X.sqr();W<J.length;W++,Z=Z.sqr()){if(J[W]===0)continue;X=X.mul(Z)}return X},Y.prototype.iushln=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=67108863>>>26-J<<26-J,Z;if(J!==0){var V=0;for(Z=0;Z<this.length;Z++){var M=this.words[Z]&W,A=(this.words[Z]|0)-M<<J;this.words[Z]=A|V,V=M>>>26-J}if(V)this.words[Z]=V,this.length++}if(X!==0){for(Z=this.length-1;Z>=0;Z--)this.words[Z+X]=this.words[Z];for(Z=0;Z<X;Z++)this.words[Z]=0;this.length+=X}return this.strip()},Y.prototype.ishln=function(j){return P(this.negative===0),this.iushln(j)},Y.prototype.iushrn=function(j,J,X){P(typeof j==="number"&&j>=0);var W;if(J)W=(J-J%26)/26;else W=0;var Z=j%26,V=Math.min((j-Z)/26,this.length),M=67108863^67108863>>>Z<<Z,A=X;if(W-=V,W=Math.max(0,W),A){for(var v=0;v<V;v++)A.words[v]=this.words[v];A.length=V}if(V===0);else if(this.length>V){this.length-=V;for(v=0;v<this.length;v++)this.words[v]=this.words[v+V]}else this.words[0]=0,this.length=1;var G=0;for(v=this.length-1;v>=0&&(G!==0||v>=W);v--){var R=this.words[v]|0;this.words[v]=G<<26-Z|R>>>Z,G=R&M}if(A&&G!==0)A.words[A.length++]=G;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},Y.prototype.ishrn=function(j,J,X){return P(this.negative===0),this.iushrn(j,J,X)},Y.prototype.shln=function(j){return this.clone().ishln(j)},Y.prototype.ushln=function(j){return this.clone().iushln(j)},Y.prototype.shrn=function(j){return this.clone().ishrn(j)},Y.prototype.ushrn=function(j){return this.clone().iushrn(j)},Y.prototype.testn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return!1;var Z=this.words[X];return!!(Z&W)},Y.prototype.imaskn=function(j){P(typeof j==="number"&&j>=0);var J=j%26,X=(j-J)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(J!==0)X++;if(this.length=Math.min(X,this.length),J!==0){var W=67108863^67108863>>>J<<J;this.words[this.length-1]&=W}return this.strip()},Y.prototype.maskn=function(j){return this.clone().imaskn(j)},Y.prototype.iaddn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.isubn(-j);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<j)return this.words[0]=j-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(j),this.negative=1,this}return this._iaddn(j)},Y.prototype._iaddn=function(j){this.words[0]+=j;for(var J=0;J<this.length&&this.words[J]>=67108864;J++)if(this.words[J]-=67108864,J===this.length-1)this.words[J+1]=1;else this.words[J+1]++;return this.length=Math.max(this.length,J+1),this},Y.prototype.isubn=function(j){if(P(typeof j==="number"),P(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var J=0;J<this.length&&this.words[J]<0;J++)this.words[J]+=67108864,this.words[J+1]-=1;return this.strip()},Y.prototype.addn=function(j){return this.clone().iaddn(j)},Y.prototype.subn=function(j){return this.clone().isubn(j)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(j,J,X){var W=j.length+X,Z;this._expand(W);var V,M=0;for(Z=0;Z<j.length;Z++){V=(this.words[Z+X]|0)+M;var A=(j.words[Z]|0)*J;V-=A&67108863,M=(V>>26)-(A/67108864|0),this.words[Z+X]=V&67108863}for(;Z<this.length-X;Z++)V=(this.words[Z+X]|0)+M,M=V>>26,this.words[Z+X]=V&67108863;if(M===0)return this.strip();P(M===-1),M=0;for(Z=0;Z<this.length;Z++)V=-(this.words[Z]|0)+M,M=V>>26,this.words[Z]=V&67108863;return this.negative=1,this.strip()},Y.prototype._wordDiv=function(j,J){var X=this.length-j.length,W=this.clone(),Z=j,V=Z.words[Z.length-1]|0,M=this._countBits(V);if(X=26-M,X!==0)Z=Z.ushln(X),W.iushln(X),V=Z.words[Z.length-1]|0;var A=W.length-Z.length,v;if(J!=="mod"){v=new Y(null),v.length=A+1,v.words=Array(v.length);for(var G=0;G<v.length;G++)v.words[G]=0}var R=W.clone()._ishlnsubmul(Z,1,A);if(R.negative===0){if(W=R,v)v.words[A]=1}for(var C=A-1;C>=0;C--){var b=(W.words[Z.length+C]|0)*67108864+(W.words[Z.length+C-1]|0);b=Math.min(b/V|0,67108863),W._ishlnsubmul(Z,b,C);while(W.negative!==0)if(b--,W.negative=0,W._ishlnsubmul(Z,1,C),!W.isZero())W.negative^=1;if(v)v.words[C]=b}if(v)v.strip();if(W.strip(),J!=="div"&&X!==0)W.iushrn(X);return{div:v||null,mod:W}},Y.prototype.divmod=function(j,J,X){if(P(!j.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var W,Z,V;if(this.negative!==0&&j.negative===0){if(V=this.neg().divmod(j,J),J!=="mod")W=V.div.neg();if(J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.iadd(j)}return{div:W,mod:Z}}if(this.negative===0&&j.negative!==0){if(V=this.divmod(j.neg(),J),J!=="mod")W=V.div.neg();return{div:W,mod:V.mod}}if((this.negative&j.negative)!==0){if(V=this.neg().divmod(j.neg(),J),J!=="div"){if(Z=V.mod.neg(),X&&Z.negative!==0)Z.isub(j)}return{div:V.div,mod:Z}}if(j.length>this.length||this.cmp(j)<0)return{div:new Y(0),mod:this};if(j.length===1){if(J==="div")return{div:this.divn(j.words[0]),mod:null};if(J==="mod")return{div:null,mod:new Y(this.modn(j.words[0]))};return{div:this.divn(j.words[0]),mod:new Y(this.modn(j.words[0]))}}return this._wordDiv(j,J)},Y.prototype.div=function(j){return this.divmod(j,"div",!1).div},Y.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},Y.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},Y.prototype.divRound=function(j){var J=this.divmod(j);if(J.mod.isZero())return J.div;var X=J.div.negative!==0?J.mod.isub(j):J.mod,W=j.ushrn(1),Z=j.andln(1),V=X.cmp(W);if(V<0||Z===1&&V===0)return J.div;return J.div.negative!==0?J.div.isubn(1):J.div.iaddn(1)},Y.prototype.modn=function(j){P(j<=67108863);var J=67108864%j,X=0;for(var W=this.length-1;W>=0;W--)X=(J*X+(this.words[W]|0))%j;return X},Y.prototype.idivn=function(j){P(j<=67108863);var J=0;for(var X=this.length-1;X>=0;X--){var W=(this.words[X]|0)+J*67108864;this.words[X]=W/j|0,J=W%j}return this.strip()},Y.prototype.divn=function(j){return this.clone().idivn(j)},Y.prototype.egcd=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=new Y(0),M=new Y(1),A=0;while(J.isEven()&&X.isEven())J.iushrn(1),X.iushrn(1),++A;var v=X.clone(),G=J.clone();while(!J.isZero()){for(var R=0,C=1;(J.words[0]&C)===0&&R<26;++R,C<<=1);if(R>0){J.iushrn(R);while(R-- >0){if(W.isOdd()||Z.isOdd())W.iadd(v),Z.isub(G);W.iushrn(1),Z.iushrn(1)}}for(var b=0,x=1;(X.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0){X.iushrn(b);while(b-- >0){if(V.isOdd()||M.isOdd())V.iadd(v),M.isub(G);V.iushrn(1),M.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(V),Z.isub(M);else X.isub(J),V.isub(W),M.isub(Z)}return{a:V,b:M,gcd:X.iushln(A)}},Y.prototype._invmp=function(j){P(j.negative===0),P(!j.isZero());var J=this,X=j.clone();if(J.negative!==0)J=J.umod(j);else J=J.clone();var W=new Y(1),Z=new Y(0),V=X.clone();while(J.cmpn(1)>0&&X.cmpn(1)>0){for(var M=0,A=1;(J.words[0]&A)===0&&M<26;++M,A<<=1);if(M>0){J.iushrn(M);while(M-- >0){if(W.isOdd())W.iadd(V);W.iushrn(1)}}for(var v=0,G=1;(X.words[0]&G)===0&&v<26;++v,G<<=1);if(v>0){X.iushrn(v);while(v-- >0){if(Z.isOdd())Z.iadd(V);Z.iushrn(1)}}if(J.cmp(X)>=0)J.isub(X),W.isub(Z);else X.isub(J),Z.isub(W)}var R;if(J.cmpn(1)===0)R=W;else R=Z;if(R.cmpn(0)<0)R.iadd(j);return R},Y.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var J=this.clone(),X=j.clone();J.negative=0,X.negative=0;for(var W=0;J.isEven()&&X.isEven();W++)J.iushrn(1),X.iushrn(1);do{while(J.isEven())J.iushrn(1);while(X.isEven())X.iushrn(1);var Z=J.cmp(X);if(Z<0){var V=J;J=X,X=V}else if(Z===0||X.cmpn(1)===0)break;J.isub(X)}while(!0);return X.iushln(W)},Y.prototype.invm=function(j){return this.egcd(j).a.umod(j)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(j){return this.words[0]&j},Y.prototype.bincn=function(j){P(typeof j==="number");var J=j%26,X=(j-J)/26,W=1<<J;if(this.length<=X)return this._expand(X+1),this.words[X]|=W,this;var Z=W;for(var V=X;Z!==0&&V<this.length;V++){var M=this.words[V]|0;M+=Z,Z=M>>>26,M&=67108863,this.words[V]=M}if(Z!==0)this.words[V]=Z,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(j){var J=j<0;if(this.negative!==0&&!J)return-1;if(this.negative===0&&J)return 1;this.strip();var X;if(this.length>1)X=1;else{if(J)j=-j;P(j<=67108863,"Number is too big");var W=this.words[0]|0;X=W===j?0:W<j?-1:1}if(this.negative!==0)return-X|0;return X},Y.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var J=this.ucmp(j);if(this.negative!==0)return-J|0;return J},Y.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;var J=0;for(var X=this.length-1;X>=0;X--){var W=this.words[X]|0,Z=j.words[X]|0;if(W===Z)continue;if(W<Z)J=-1;else if(W>Z)J=1;break}return J},Y.prototype.gtn=function(j){return this.cmpn(j)===1},Y.prototype.gt=function(j){return this.cmp(j)===1},Y.prototype.gten=function(j){return this.cmpn(j)>=0},Y.prototype.gte=function(j){return this.cmp(j)>=0},Y.prototype.ltn=function(j){return this.cmpn(j)===-1},Y.prototype.lt=function(j){return this.cmp(j)===-1},Y.prototype.lten=function(j){return this.cmpn(j)<=0},Y.prototype.lte=function(j){return this.cmp(j)<=0},Y.prototype.eqn=function(j){return this.cmpn(j)===0},Y.prototype.eq=function(j){return this.cmp(j)===0},Y.red=function(j){return new p(j)},Y.prototype.toRed=function(j){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},Y.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(j){return this.red=j,this},Y.prototype.forceRed=function(j){return P(!this.red,"Already a number in reduction context"),this._forceRed(j)},Y.prototype.redAdd=function(j){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},Y.prototype.redIAdd=function(j){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},Y.prototype.redSub=function(j){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},Y.prototype.redISub=function(j){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},Y.prototype.redShl=function(j){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},Y.prototype.redMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},Y.prototype.redIMul=function(j){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},Y.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(j){return P(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var g={k256:null,p224:null,p192:null,p25519:null};function y(j,J){this.name=j,this.p=new Y(J,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var j=new Y(null);return j.words=Array(Math.ceil(this.n/13)),j},y.prototype.ireduce=function(j){var J=j,X;do this.split(J,this.tmp),J=this.imulK(J),J=J.iadd(this.tmp),X=J.bitLength();while(X>this.n);var W=X<this.n?-1:J.ucmp(this.p);if(W===0)J.words[0]=0,J.length=1;else if(W>0)J.isub(this.p);else if(J.strip!==void 0)J.strip();else J._strip();return J},y.prototype.split=function(j,J){j.iushrn(this.n,0,J)},y.prototype.imulK=function(j){return j.imul(this.k)};function c(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(c,y),c.prototype.split=function(j,J){var X=4194303,W=Math.min(j.length,9);for(var Z=0;Z<W;Z++)J.words[Z]=j.words[Z];if(J.length=W,j.length<=9){j.words[0]=0,j.length=1;return}var V=j.words[9];J.words[J.length++]=V&X;for(Z=10;Z<j.length;Z++){var M=j.words[Z]|0;j.words[Z-10]=(M&X)<<4|V>>>22,V=M}if(V>>>=22,j.words[Z-10]=V,V===0&&j.length>10)j.length-=10;else j.length-=9},c.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;var J=0;for(var X=0;X<j.length;X++){var W=j.words[X]|0;J+=W*977,j.words[X]=J&67108863,J=W*64+(J/67108864|0)}if(j.words[j.length-1]===0){if(j.length--,j.words[j.length-1]===0)j.length--}return j};function o(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(o,y);function Q(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Q,y);function U(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(U,y),U.prototype.imulK=function(j){var J=0;for(var X=0;X<j.length;X++){var W=(j.words[X]|0)*19+J,Z=W&67108863;W>>>=26,j.words[X]=Z,J=W}if(J!==0)j.words[j.length++]=J;return j},Y._prime=function(j){if(g[j])return g[j];var J;if(j==="k256")J=new c;else if(j==="p224")J=new o;else if(j==="p192")J=new Q;else if(j==="p25519")J=new U;else throw Error("Unknown prime "+j);return g[j]=J,J};function p(j){if(typeof j==="string"){var J=Y._prime(j);this.m=J.p,this.prime=J}else P(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}p.prototype._verify1=function(j){P(j.negative===0,"red works only with positives"),P(j.red,"red works only with red numbers")},p.prototype._verify2=function(j,J){P((j.negative|J.negative)===0,"red works only with positives"),P(j.red&&j.red===J.red,"red works only with red numbers")},p.prototype.imod=function(j){if(this.prime)return this.prime.ireduce(j)._forceRed(this);return j.umod(this.m)._forceRed(this)},p.prototype.neg=function(j){if(j.isZero())return j.clone();return this.m.sub(j)._forceRed(this)},p.prototype.add=function(j,J){this._verify2(j,J);var X=j.add(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X._forceRed(this)},p.prototype.iadd=function(j,J){this._verify2(j,J);var X=j.iadd(J);if(X.cmp(this.m)>=0)X.isub(this.m);return X},p.prototype.sub=function(j,J){this._verify2(j,J);var X=j.sub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X._forceRed(this)},p.prototype.isub=function(j,J){this._verify2(j,J);var X=j.isub(J);if(X.cmpn(0)<0)X.iadd(this.m);return X},p.prototype.shl=function(j,J){return this._verify1(j),this.imod(j.ushln(J))},p.prototype.imul=function(j,J){return this._verify2(j,J),this.imod(j.imul(J))},p.prototype.mul=function(j,J){return this._verify2(j,J),this.imod(j.mul(J))},p.prototype.isqr=function(j){return this.imul(j,j.clone())},p.prototype.sqr=function(j){return this.mul(j,j)},p.prototype.sqrt=function(j){if(j.isZero())return j.clone();var J=this.m.andln(3);if(P(J%2===1),J===3){var X=this.m.add(new Y(1)).iushrn(2);return this.pow(j,X)}var W=this.m.subn(1),Z=0;while(!W.isZero()&&W.andln(1)===0)Z++,W.iushrn(1);P(!W.isZero());var V=new Y(1).toRed(this),M=V.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();v=new Y(2*v*v).toRed(this);while(this.pow(v,A).cmp(M)!==0)v.redIAdd(M);var G=this.pow(v,W),R=this.pow(j,W.addn(1).iushrn(1)),C=this.pow(j,W),b=Z;while(C.cmp(V)!==0){var x=C;for(var l=0;x.cmp(V)!==0;l++)x=x.redSqr();P(l<b);var a=this.pow(G,new Y(1).iushln(b-l-1));R=R.redMul(a),G=a.redSqr(),C=C.redMul(G),b=l}return R},p.prototype.invm=function(j){var J=j._invmp(this.m);if(J.negative!==0)return J.negative=0,this.imod(J).redNeg();else return this.imod(J)},p.prototype.pow=function(j,J){if(J.isZero())return new Y(1).toRed(this);if(J.cmpn(1)===0)return j.clone();var X=4,W=Array(1<<X);W[0]=new Y(1).toRed(this),W[1]=j;for(var Z=2;Z<W.length;Z++)W[Z]=this.mul(W[Z-1],j);var V=W[0],M=0,A=0,v=J.bitLength()%26;if(v===0)v=26;for(Z=J.length-1;Z>=0;Z--){var G=J.words[Z];for(var R=v-1;R>=0;R--){var C=G>>R&1;if(V!==W[0])V=this.sqr(V);if(C===0&&M===0){A=0;continue}if(M<<=1,M|=C,A++,A!==X&&(Z!==0||R!==0))continue;V=this.mul(V,W[M]),A=0,M=0}v=26}return V},p.prototype.convertTo=function(j){var J=j.umod(this.m);return J===j?J.clone():J},p.prototype.convertFrom=function(j){var J=j.clone();return J.red=null,J},Y.mont=function(j){return new s(j)};function s(j){if(p.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(s,p),s.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},s.prototype.convertFrom=function(j){var J=this.imod(j.mul(this.rinv));return J.red=null,J},s.prototype.imul=function(j,J){if(j.isZero()||J.isZero())return j.words[0]=0,j.length=1,j;var X=j.imul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.mul=function(j,J){if(j.isZero()||J.isZero())return new Y(0)._forceRed(this);var X=j.mul(J),W=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=X.isub(W).iushrn(this.shift),V=Z;if(Z.cmp(this.m)>=0)V=Z.isub(this.m);else if(Z.cmpn(0)<0)V=Z.iadd(this.m);return V._forceRed(this)},s.prototype.invm=function(j){var J=this.imod(j._invmp(this.m).mul(this.r2));return J._forceRed(this)}})(typeof q>"u"||q,$)}),WM=T$(($,q)=>{var _=kH(),K=dq().Buffer;function P(O,Y){return K.from(O.toRed(_.mont(Y.modulus)).redPow(new _(Y.publicExponent)).fromRed().toArray())}q.exports=P}),si=T$(($,q)=>{(function(_,K){function P(W,Z){if(!W)throw Error(Z||"Assertion failed")}function O(W,Z){W.super_=Z;var V=function(){};V.prototype=Z.prototype,W.prototype=new V,W.prototype.constructor=W}function Y(W,Z,V){if(Y.isBN(W))return W;if(this.negative=0,this.words=null,this.length=0,this.red=null,W!==null){if(Z==="le"||Z==="be")V=Z,Z=10;this._init(W||0,Z||10,V||"be")}}if(typeof _==="object")_.exports=Y;else K.BN=Y;Y.BN=Y,Y.wordSize=26;var z;try{if(typeof window<"u"&&typeof window.Buffer<"u")z=window.Buffer;else z=(wq(),J6(Tq)).Buffer}catch(W){}Y.isBN=function(W){if(W instanceof Y)return!0;return W!==null&&typeof W==="object"&&W.constructor.wordSize===Y.wordSize&&Array.isArray(W.words)},Y.max=function(W,Z){if(W.cmp(Z)>0)return W;return Z},Y.min=function(W,Z){if(W.cmp(Z)<0)return W;return Z},Y.prototype._init=function(W,Z,V){if(typeof W==="number")return this._initNumber(W,Z,V);if(typeof W==="object")return this._initArray(W,Z,V);if(Z==="hex")Z=16;P(Z===(Z|0)&&Z>=2&&Z<=36),W=W.toString().replace(/\s+/g,"");var M=0;if(W[0]==="-")M++,this.negative=1;if(M<W.length){if(Z===16)this._parseHex(W,M,V);else if(this._parseBase(W,Z,M),V==="le")this._initArray(this.toArray(),Z,V)}},Y.prototype._initNumber=function(W,Z,V){if(W<0)this.negative=1,W=-W;if(W<67108864)this.words=[W&67108863],this.length=1;else if(W<4503599627370496)this.words=[W&67108863,W/67108864&67108863],this.length=2;else P(W<9007199254740992),this.words=[W&67108863,W/67108864&67108863,1],this.length=3;if(V!=="le")return;this._initArray(this.toArray(),Z,V)},Y.prototype._initArray=function(W,Z,V){if(P(typeof W.length==="number"),W.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(W.length/3),this.words=Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A,v,G=0;if(V==="be"){for(M=W.length-1,A=0;M>=0;M-=3)if(v=W[M]|W[M-1]<<8|W[M-2]<<16,this.words[A]|=v<<G&67108863,this.words[A+1]=v>>>26-G&67108863,G+=24,G>=26)G-=26,A++}else if(V==="le"){for(M=0,A=0;M<W.length;M+=3)if(v=W[M]|W[M+1]<<8|W[M+2]<<16,this.words[A]|=v<<G&67108863,this.words[A+1]=v>>>26-G&67108863,G+=24,G>=26)G-=26,A++}return this._strip()};function H(W,Z){var V=W.charCodeAt(Z);if(V>=48&&V<=57)return V-48;else if(V>=65&&V<=70)return V-55;else if(V>=97&&V<=102)return V-87;else P(!1,"Invalid character in "+W)}function T(W,Z,V){var M=H(W,V);if(V-1>=Z)M|=H(W,V-1)<<4;return M}Y.prototype._parseHex=function(W,Z,V){this.length=Math.ceil((W.length-Z)/6),this.words=Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A=0,v=0,G;if(V==="be")for(M=W.length-1;M>=Z;M-=2)if(G=T(W,Z,M)<<A,this.words[v]|=G&67108863,A>=18)A-=18,v+=1,this.words[v]|=G>>>26;else A+=8;else{var R=W.length-Z;for(M=R%2===0?Z+1:Z;M<W.length;M+=2)if(G=T(W,Z,M)<<A,this.words[v]|=G&67108863,A>=18)A-=18,v+=1,this.words[v]|=G>>>26;else A+=8}this._strip()};function f(W,Z,V,M){var A=0,v=0,G=Math.min(W.length,V);for(var R=Z;R<G;R++){var C=W.charCodeAt(R)-48;if(A*=M,C>=49)v=C-49+10;else if(C>=17)v=C-17+10;else v=C;P(C>=0&&v<M,"Invalid character"),A+=v}return A}Y.prototype._parseBase=function(W,Z,V){this.words=[0],this.length=1;for(var M=0,A=1;A<=67108863;A*=Z)M++;M--,A=A/Z|0;var v=W.length-V,G=v%M,R=Math.min(v,v-G)+V,C=0;for(var b=V;b<R;b+=M)if(C=f(W,b,b+M,Z),this.imuln(A),this.words[0]+C<67108864)this.words[0]+=C;else this._iaddn(C);if(G!==0){var x=1;C=f(W,b,W.length,Z);for(b=0;b<G;b++)x*=Z;if(this.imuln(x),this.words[0]+C<67108864)this.words[0]+=C;else this._iaddn(C)}this._strip()},Y.prototype.copy=function(W){W.words=Array(this.length);for(var Z=0;Z<this.length;Z++)W.words[Z]=this.words[Z];W.length=this.length,W.negative=this.negative,W.red=this.red};function w(W,Z){W.words=Z.words,W.length=Z.length,W.negative=Z.negative,W.red=Z.red}if(Y.prototype._move=function(W){w(W,this)},Y.prototype.clone=function(){var W=new Y(null);return this.copy(W),W},Y.prototype._expand=function(W){while(this.length<W)this.words[this.length++]=0;return this},Y.prototype._strip=function(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},Y.prototype._normSign=function(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},typeof Symbol<"u"&&typeof Symbol.for==="function")try{Y.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch(W){Y.prototype.inspect=k}else Y.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(Y.prototype.toString=function(W,Z){W=W||10,Z=Z|0||1;var V;if(W===16||W==="hex"){V="";var M=0,A=0;for(var v=0;v<this.length;v++){var G=this.words[v],R=((G<<M|A)&16777215).toString(16);if(A=G>>>24-M&16777215,M+=2,M>=26)M-=26,v--;if(A!==0||v!==this.length-1)V=S[6-R.length]+R+V;else V=R+V}if(A!==0)V=A.toString(16)+V;while(V.length%Z!==0)V="0"+V;if(this.negative!==0)V="-"+V;return V}if(W===(W|0)&&W>=2&&W<=36){var C=N[W],b=h[W];V="";var x=this.clone();x.negative=0;while(!x.isZero()){var l=x.modrn(b).toString(W);if(x=x.idivn(b),!x.isZero())V=S[C-l.length]+l+V;else V=l+V}if(this.isZero())V="0"+V;while(V.length%Z!==0)V="0"+V;if(this.negative!==0)V="-"+V;return V}P(!1,"Base should be between 2 and 36")},Y.prototype.toNumber=function(){var W=this.words[0];if(this.length===2)W+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)W+=4503599627370496+this.words[1]*67108864;else if(this.length>2)P(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-W:W},Y.prototype.toJSON=function(){return this.toString(16,2)},z)Y.prototype.toBuffer=function(W,Z){return this.toArrayLike(z,W,Z)};Y.prototype.toArray=function(W,Z){return this.toArrayLike(Array,W,Z)};var E=function(W,Z){if(W.allocUnsafe)return W.allocUnsafe(Z);return new W(Z)};if(Y.prototype.toArrayLike=function(W,Z,V){this._strip();var M=this.byteLength(),A=V||Math.max(1,M);P(M<=A,"byte array longer than desired length"),P(A>0,"Requested array length <= 0");var v=E(W,A),G=Z==="le"?"LE":"BE";return this["_toArrayLike"+G](v,M),v},Y.prototype._toArrayLikeLE=function(W,Z){var V=0,M=0;for(var A=0,v=0;A<this.length;A++){var G=this.words[A]<<v|M;if(W[V++]=G&255,V<W.length)W[V++]=G>>8&255;if(V<W.length)W[V++]=G>>16&255;if(v===6){if(V<W.length)W[V++]=G>>24&255;M=0,v=0}else M=G>>>24,v+=2}if(V<W.length){W[V++]=M;while(V<W.length)W[V++]=0}},Y.prototype._toArrayLikeBE=function(W,Z){var V=W.length-1,M=0;for(var A=0,v=0;A<this.length;A++){var G=this.words[A]<<v|M;if(W[V--]=G&255,V>=0)W[V--]=G>>8&255;if(V>=0)W[V--]=G>>16&255;if(v===6){if(V>=0)W[V--]=G>>24&255;M=0,v=0}else M=G>>>24,v+=2}if(V>=0){W[V--]=M;while(V>=0)W[V--]=0}},Math.clz32)Y.prototype._countBits=function(W){return 32-Math.clz32(W)};else Y.prototype._countBits=function(W){var Z=W,V=0;if(Z>=4096)V+=13,Z>>>=13;if(Z>=64)V+=7,Z>>>=7;if(Z>=8)V+=4,Z>>>=4;if(Z>=2)V+=2,Z>>>=2;return V+Z};Y.prototype._zeroBits=function(W){if(W===0)return 26;var Z=W,V=0;if((Z&8191)===0)V+=13,Z>>>=13;if((Z&127)===0)V+=7,Z>>>=7;if((Z&15)===0)V+=4,Z>>>=4;if((Z&3)===0)V+=2,Z>>>=2;if((Z&1)===0)V++;return V},Y.prototype.bitLength=function(){var W=this.words[this.length-1],Z=this._countBits(W);return(this.length-1)*26+Z};function D(W){var Z=Array(W.bitLength());for(var V=0;V<Z.length;V++){var M=V/26|0,A=V%26;Z[V]=W.words[M]>>>A&1}return Z}Y.prototype.zeroBits=function(){if(this.isZero())return 0;var W=0;for(var Z=0;Z<this.length;Z++){var V=this._zeroBits(this.words[Z]);if(W+=V,V!==26)break}return W},Y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Y.prototype.toTwos=function(W){if(this.negative!==0)return this.abs().inotn(W).iaddn(1);return this.clone()},Y.prototype.fromTwos=function(W){if(this.testn(W-1))return this.notn(W).iaddn(1).ineg();return this.clone()},Y.prototype.isNeg=function(){return this.negative!==0},Y.prototype.neg=function(){return this.clone().ineg()},Y.prototype.ineg=function(){if(!this.isZero())this.negative^=1;return this},Y.prototype.iuor=function(W){while(this.length<W.length)this.words[this.length++]=0;for(var Z=0;Z<W.length;Z++)this.words[Z]=this.words[Z]|W.words[Z];return this._strip()},Y.prototype.ior=function(W){return P((this.negative|W.negative)===0),this.iuor(W)},Y.prototype.or=function(W){if(this.length>W.length)return this.clone().ior(W);return W.clone().ior(this)},Y.prototype.uor=function(W){if(this.length>W.length)return this.clone().iuor(W);return W.clone().iuor(this)},Y.prototype.iuand=function(W){var Z;if(this.length>W.length)Z=W;else Z=this;for(var V=0;V<Z.length;V++)this.words[V]=this.words[V]&W.words[V];return this.length=Z.length,this._strip()},Y.prototype.iand=function(W){return P((this.negative|W.negative)===0),this.iuand(W)},Y.prototype.and=function(W){if(this.length>W.length)return this.clone().iand(W);return W.clone().iand(this)},Y.prototype.uand=function(W){if(this.length>W.length)return this.clone().iuand(W);return W.clone().iuand(this)},Y.prototype.iuxor=function(W){var Z,V;if(this.length>W.length)Z=this,V=W;else Z=W,V=this;for(var M=0;M<V.length;M++)this.words[M]=Z.words[M]^V.words[M];if(this!==Z)for(;M<Z.length;M++)this.words[M]=Z.words[M];return this.length=Z.length,this._strip()},Y.prototype.ixor=function(W){return P((this.negative|W.negative)===0),this.iuxor(W)},Y.prototype.xor=function(W){if(this.length>W.length)return this.clone().ixor(W);return W.clone().ixor(this)},Y.prototype.uxor=function(W){if(this.length>W.length)return this.clone().iuxor(W);return W.clone().iuxor(this)},Y.prototype.inotn=function(W){P(typeof W==="number"&&W>=0);var Z=Math.ceil(W/26)|0,V=W%26;if(this._expand(Z),V>0)Z--;for(var M=0;M<Z;M++)this.words[M]=~this.words[M]&67108863;if(V>0)this.words[M]=~this.words[M]&67108863>>26-V;return this._strip()},Y.prototype.notn=function(W){return this.clone().inotn(W)},Y.prototype.setn=function(W,Z){P(typeof W==="number"&&W>=0);var V=W/26|0,M=W%26;if(this._expand(V+1),Z)this.words[V]=this.words[V]|1<<M;else this.words[V]=this.words[V]&~(1<<M);return this._strip()},Y.prototype.iadd=function(W){var Z;if(this.negative!==0&&W.negative===0)return this.negative=0,Z=this.isub(W),this.negative^=1,this._normSign();else if(this.negative===0&&W.negative!==0)return W.negative=0,Z=this.isub(W),W.negative=1,Z._normSign();var V,M;if(this.length>W.length)V=this,M=W;else V=W,M=this;var A=0;for(var v=0;v<M.length;v++)Z=(V.words[v]|0)+(M.words[v]|0)+A,this.words[v]=Z&67108863,A=Z>>>26;for(;A!==0&&v<V.length;v++)Z=(V.words[v]|0)+A,this.words[v]=Z&67108863,A=Z>>>26;if(this.length=V.length,A!==0)this.words[this.length]=A,this.length++;else if(V!==this)for(;v<V.length;v++)this.words[v]=V.words[v];return this},Y.prototype.add=function(W){var Z;if(W.negative!==0&&this.negative===0)return W.negative=0,Z=this.sub(W),W.negative^=1,Z;else if(W.negative===0&&this.negative!==0)return this.negative=0,Z=W.sub(this),this.negative=1,Z;if(this.length>W.length)return this.clone().iadd(W);return W.clone().iadd(this)},Y.prototype.isub=function(W){if(W.negative!==0){W.negative=0;var Z=this.iadd(W);return W.negative=1,Z._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(W),this.negative=1,this._normSign();var V=this.cmp(W);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,A;if(V>0)M=this,A=W;else M=W,A=this;var v=0;for(var G=0;G<A.length;G++)Z=(M.words[G]|0)-(A.words[G]|0)+v,v=Z>>26,this.words[G]=Z&67108863;for(;v!==0&&G<M.length;G++)Z=(M.words[G]|0)+v,v=Z>>26,this.words[G]=Z&67108863;if(v===0&&G<M.length&&M!==this)for(;G<M.length;G++)this.words[G]=M.words[G];if(this.length=Math.max(this.length,G),M!==this)this.negative=1;return this._strip()},Y.prototype.sub=function(W){return this.clone().isub(W)};function I(W,Z,V){V.negative=Z.negative^W.negative;var M=W.length+Z.length|0;V.length=M,M=M-1|0;var A=W.words[0]|0,v=Z.words[0]|0,G=A*v,R=G&67108863,C=G/67108864|0;V.words[0]=R;for(var b=1;b<M;b++){var x=C>>>26,l=C&67108863,a=Math.min(b,Z.length-1);for(var f$=Math.max(0,b-W.length+1);f$<=a;f$++){var q$=b-f$|0;A=W.words[q$]|0,v=Z.words[f$]|0,G=A*v+l,x+=G/67108864|0,l=G&67108863}V.words[b]=l|0,C=x|0}if(C!==0)V.words[b]=C|0;else V.length--;return V._strip()}var L=function(W,Z,V){var M=W.words,A=Z.words,v=V.words,G=0,R,C,b,x=M[0]|0,l=x&8191,a=x>>>13,f$=M[1]|0,q$=f$&8191,B=f$>>>13,v$=M[2]|0,e=v$&8191,P$=v$>>>13,o$=M[3]|0,m=o$&8191,r=o$>>>13,J$=M[4]|0,$$=J$&8191,_$=J$>>>13,Y$=M[5]|0,d=Y$&8191,n=Y$>>>13,H$=M[6]|0,t=H$&8191,F=H$>>>13,A$=M[7]|0,W$=A$&8191,z$=A$>>>13,Z6=M[8]|0,X$=Z6&8191,k$=Z6>>>13,o6=M[9]|0,M$=o6&8191,S$=o6>>>13,Sq=A[0]|0,E$=Sq&8191,g$=Sq>>>13,Mq=A[1]|0,b$=Mq&8191,h$=Mq>>>13,fq=A[2]|0,y$=fq&8191,R$=fq>>>13,zq=A[3]|0,u$=zq&8191,x$=zq>>>13,Wq=A[4]|0,I$=Wq&8191,u=Wq>>>13,i=A[5]|0,K$=i&8191,O$=i>>>13,B$=A[6]|0,G$=B$&8191,V$=B$>>>13,p6=A[7]|0,D$=p6&8191,p$=p6>>>13,Zq=A[8]|0,L$=Zq&8191,C$=Zq>>>13,c6=A[9]|0,W6=c6&8191,j6=c6>>>13;V.negative=W.negative^Z.negative,V.length=19,R=Math.imul(l,E$),C=Math.imul(l,g$),C=C+Math.imul(a,E$)|0,b=Math.imul(a,g$);var E6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(E6>>>26)|0,E6&=67108863,R=Math.imul(q$,E$),C=Math.imul(q$,g$),C=C+Math.imul(B,E$)|0,b=Math.imul(B,g$),R=R+Math.imul(l,b$)|0,C=C+Math.imul(l,h$)|0,C=C+Math.imul(a,b$)|0,b=b+Math.imul(a,h$)|0;var S6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(S6>>>26)|0,S6&=67108863,R=Math.imul(e,E$),C=Math.imul(e,g$),C=C+Math.imul(P$,E$)|0,b=Math.imul(P$,g$),R=R+Math.imul(q$,b$)|0,C=C+Math.imul(q$,h$)|0,C=C+Math.imul(B,b$)|0,b=b+Math.imul(B,h$)|0,R=R+Math.imul(l,y$)|0,C=C+Math.imul(l,R$)|0,C=C+Math.imul(a,y$)|0,b=b+Math.imul(a,R$)|0;var t6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(t6>>>26)|0,t6&=67108863,R=Math.imul(m,E$),C=Math.imul(m,g$),C=C+Math.imul(r,E$)|0,b=Math.imul(r,g$),R=R+Math.imul(e,b$)|0,C=C+Math.imul(e,h$)|0,C=C+Math.imul(P$,b$)|0,b=b+Math.imul(P$,h$)|0,R=R+Math.imul(q$,y$)|0,C=C+Math.imul(q$,R$)|0,C=C+Math.imul(B,y$)|0,b=b+Math.imul(B,R$)|0,R=R+Math.imul(l,u$)|0,C=C+Math.imul(l,x$)|0,C=C+Math.imul(a,u$)|0,b=b+Math.imul(a,x$)|0;var U6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(U6>>>26)|0,U6&=67108863,R=Math.imul($$,E$),C=Math.imul($$,g$),C=C+Math.imul(_$,E$)|0,b=Math.imul(_$,g$),R=R+Math.imul(m,b$)|0,C=C+Math.imul(m,h$)|0,C=C+Math.imul(r,b$)|0,b=b+Math.imul(r,h$)|0,R=R+Math.imul(e,y$)|0,C=C+Math.imul(e,R$)|0,C=C+Math.imul(P$,y$)|0,b=b+Math.imul(P$,R$)|0,R=R+Math.imul(q$,u$)|0,C=C+Math.imul(q$,x$)|0,C=C+Math.imul(B,u$)|0,b=b+Math.imul(B,x$)|0,R=R+Math.imul(l,I$)|0,C=C+Math.imul(l,u)|0,C=C+Math.imul(a,I$)|0,b=b+Math.imul(a,u)|0;var F6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(F6>>>26)|0,F6&=67108863,R=Math.imul(d,E$),C=Math.imul(d,g$),C=C+Math.imul(n,E$)|0,b=Math.imul(n,g$),R=R+Math.imul($$,b$)|0,C=C+Math.imul($$,h$)|0,C=C+Math.imul(_$,b$)|0,b=b+Math.imul(_$,h$)|0,R=R+Math.imul(m,y$)|0,C=C+Math.imul(m,R$)|0,C=C+Math.imul(r,y$)|0,b=b+Math.imul(r,R$)|0,R=R+Math.imul(e,u$)|0,C=C+Math.imul(e,x$)|0,C=C+Math.imul(P$,u$)|0,b=b+Math.imul(P$,x$)|0,R=R+Math.imul(q$,I$)|0,C=C+Math.imul(q$,u)|0,C=C+Math.imul(B,I$)|0,b=b+Math.imul(B,u)|0,R=R+Math.imul(l,K$)|0,C=C+Math.imul(l,O$)|0,C=C+Math.imul(a,K$)|0,b=b+Math.imul(a,O$)|0;var a6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(a6>>>26)|0,a6&=67108863,R=Math.imul(t,E$),C=Math.imul(t,g$),C=C+Math.imul(F,E$)|0,b=Math.imul(F,g$),R=R+Math.imul(d,b$)|0,C=C+Math.imul(d,h$)|0,C=C+Math.imul(n,b$)|0,b=b+Math.imul(n,h$)|0,R=R+Math.imul($$,y$)|0,C=C+Math.imul($$,R$)|0,C=C+Math.imul(_$,y$)|0,b=b+Math.imul(_$,R$)|0,R=R+Math.imul(m,u$)|0,C=C+Math.imul(m,x$)|0,C=C+Math.imul(r,u$)|0,b=b+Math.imul(r,x$)|0,R=R+Math.imul(e,I$)|0,C=C+Math.imul(e,u)|0,C=C+Math.imul(P$,I$)|0,b=b+Math.imul(P$,u)|0,R=R+Math.imul(q$,K$)|0,C=C+Math.imul(q$,O$)|0,C=C+Math.imul(B,K$)|0,b=b+Math.imul(B,O$)|0,R=R+Math.imul(l,G$)|0,C=C+Math.imul(l,V$)|0,C=C+Math.imul(a,G$)|0,b=b+Math.imul(a,V$)|0;var Q6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(Q6>>>26)|0,Q6&=67108863,R=Math.imul(W$,E$),C=Math.imul(W$,g$),C=C+Math.imul(z$,E$)|0,b=Math.imul(z$,g$),R=R+Math.imul(t,b$)|0,C=C+Math.imul(t,h$)|0,C=C+Math.imul(F,b$)|0,b=b+Math.imul(F,h$)|0,R=R+Math.imul(d,y$)|0,C=C+Math.imul(d,R$)|0,C=C+Math.imul(n,y$)|0,b=b+Math.imul(n,R$)|0,R=R+Math.imul($$,u$)|0,C=C+Math.imul($$,x$)|0,C=C+Math.imul(_$,u$)|0,b=b+Math.imul(_$,x$)|0,R=R+Math.imul(m,I$)|0,C=C+Math.imul(m,u)|0,C=C+Math.imul(r,I$)|0,b=b+Math.imul(r,u)|0,R=R+Math.imul(e,K$)|0,C=C+Math.imul(e,O$)|0,C=C+Math.imul(P$,K$)|0,b=b+Math.imul(P$,O$)|0,R=R+Math.imul(q$,G$)|0,C=C+Math.imul(q$,V$)|0,C=C+Math.imul(B,G$)|0,b=b+Math.imul(B,V$)|0,R=R+Math.imul(l,D$)|0,C=C+Math.imul(l,p$)|0,C=C+Math.imul(a,D$)|0,b=b+Math.imul(a,p$)|0;var e6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(e6>>>26)|0,e6&=67108863,R=Math.imul(X$,E$),C=Math.imul(X$,g$),C=C+Math.imul(k$,E$)|0,b=Math.imul(k$,g$),R=R+Math.imul(W$,b$)|0,C=C+Math.imul(W$,h$)|0,C=C+Math.imul(z$,b$)|0,b=b+Math.imul(z$,h$)|0,R=R+Math.imul(t,y$)|0,C=C+Math.imul(t,R$)|0,C=C+Math.imul(F,y$)|0,b=b+Math.imul(F,R$)|0,R=R+Math.imul(d,u$)|0,C=C+Math.imul(d,x$)|0,C=C+Math.imul(n,u$)|0,b=b+Math.imul(n,x$)|0,R=R+Math.imul($$,I$)|0,C=C+Math.imul($$,u)|0,C=C+Math.imul(_$,I$)|0,b=b+Math.imul(_$,u)|0,R=R+Math.imul(m,K$)|0,C=C+Math.imul(m,O$)|0,C=C+Math.imul(r,K$)|0,b=b+Math.imul(r,O$)|0,R=R+Math.imul(e,G$)|0,C=C+Math.imul(e,V$)|0,C=C+Math.imul(P$,G$)|0,b=b+Math.imul(P$,V$)|0,R=R+Math.imul(q$,D$)|0,C=C+Math.imul(q$,p$)|0,C=C+Math.imul(B,D$)|0,b=b+Math.imul(B,p$)|0,R=R+Math.imul(l,L$)|0,C=C+Math.imul(l,C$)|0,C=C+Math.imul(a,L$)|0,b=b+Math.imul(a,C$)|0;var s6=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(s6>>>26)|0,s6&=67108863,R=Math.imul(M$,E$),C=Math.imul(M$,g$),C=C+Math.imul(S$,E$)|0,b=Math.imul(S$,g$),R=R+Math.imul(X$,b$)|0,C=C+Math.imul(X$,h$)|0,C=C+Math.imul(k$,b$)|0,b=b+Math.imul(k$,h$)|0,R=R+Math.imul(W$,y$)|0,C=C+Math.imul(W$,R$)|0,C=C+Math.imul(z$,y$)|0,b=b+Math.imul(z$,R$)|0,R=R+Math.imul(t,u$)|0,C=C+Math.imul(t,x$)|0,C=C+Math.imul(F,u$)|0,b=b+Math.imul(F,x$)|0,R=R+Math.imul(d,I$)|0,C=C+Math.imul(d,u)|0,C=C+Math.imul(n,I$)|0,b=b+Math.imul(n,u)|0,R=R+Math.imul($$,K$)|0,C=C+Math.imul($$,O$)|0,C=C+Math.imul(_$,K$)|0,b=b+Math.imul(_$,O$)|0,R=R+Math.imul(m,G$)|0,C=C+Math.imul(m,V$)|0,C=C+Math.imul(r,G$)|0,b=b+Math.imul(r,V$)|0,R=R+Math.imul(e,D$)|0,C=C+Math.imul(e,p$)|0,C=C+Math.imul(P$,D$)|0,b=b+Math.imul(P$,p$)|0,R=R+Math.imul(q$,L$)|0,C=C+Math.imul(q$,C$)|0,C=C+Math.imul(B,L$)|0,b=b+Math.imul(B,C$)|0,R=R+Math.imul(l,W6)|0,C=C+Math.imul(l,j6)|0,C=C+Math.imul(a,W6)|0,b=b+Math.imul(a,j6)|0;var $q=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+($q>>>26)|0,$q&=67108863,R=Math.imul(M$,b$),C=Math.imul(M$,h$),C=C+Math.imul(S$,b$)|0,b=Math.imul(S$,h$),R=R+Math.imul(X$,y$)|0,C=C+Math.imul(X$,R$)|0,C=C+Math.imul(k$,y$)|0,b=b+Math.imul(k$,R$)|0,R=R+Math.imul(W$,u$)|0,C=C+Math.imul(W$,x$)|0,C=C+Math.imul(z$,u$)|0,b=b+Math.imul(z$,x$)|0,R=R+Math.imul(t,I$)|0,C=C+Math.imul(t,u)|0,C=C+Math.imul(F,I$)|0,b=b+Math.imul(F,u)|0,R=R+Math.imul(d,K$)|0,C=C+Math.imul(d,O$)|0,C=C+Math.imul(n,K$)|0,b=b+Math.imul(n,O$)|0,R=R+Math.imul($$,G$)|0,C=C+Math.imul($$,V$)|0,C=C+Math.imul(_$,G$)|0,b=b+Math.imul(_$,V$)|0,R=R+Math.imul(m,D$)|0,C=C+Math.imul(m,p$)|0,C=C+Math.imul(r,D$)|0,b=b+Math.imul(r,p$)|0,R=R+Math.imul(e,L$)|0,C=C+Math.imul(e,C$)|0,C=C+Math.imul(P$,L$)|0,b=b+Math.imul(P$,C$)|0,R=R+Math.imul(q$,W6)|0,C=C+Math.imul(q$,j6)|0,C=C+Math.imul(B,W6)|0,b=b+Math.imul(B,j6)|0;var qq=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(qq>>>26)|0,qq&=67108863,R=Math.imul(M$,y$),C=Math.imul(M$,R$),C=C+Math.imul(S$,y$)|0,b=Math.imul(S$,R$),R=R+Math.imul(X$,u$)|0,C=C+Math.imul(X$,x$)|0,C=C+Math.imul(k$,u$)|0,b=b+Math.imul(k$,x$)|0,R=R+Math.imul(W$,I$)|0,C=C+Math.imul(W$,u)|0,C=C+Math.imul(z$,I$)|0,b=b+Math.imul(z$,u)|0,R=R+Math.imul(t,K$)|0,C=C+Math.imul(t,O$)|0,C=C+Math.imul(F,K$)|0,b=b+Math.imul(F,O$)|0,R=R+Math.imul(d,G$)|0,C=C+Math.imul(d,V$)|0,C=C+Math.imul(n,G$)|0,b=b+Math.imul(n,V$)|0,R=R+Math.imul($$,D$)|0,C=C+Math.imul($$,p$)|0,C=C+Math.imul(_$,D$)|0,b=b+Math.imul(_$,p$)|0,R=R+Math.imul(m,L$)|0,C=C+Math.imul(m,C$)|0,C=C+Math.imul(r,L$)|0,b=b+Math.imul(r,C$)|0,R=R+Math.imul(e,W6)|0,C=C+Math.imul(e,j6)|0,C=C+Math.imul(P$,W6)|0,b=b+Math.imul(P$,j6)|0;var _q=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(_q>>>26)|0,_q&=67108863,R=Math.imul(M$,u$),C=Math.imul(M$,x$),C=C+Math.imul(S$,u$)|0,b=Math.imul(S$,x$),R=R+Math.imul(X$,I$)|0,C=C+Math.imul(X$,u)|0,C=C+Math.imul(k$,I$)|0,b=b+Math.imul(k$,u)|0,R=R+Math.imul(W$,K$)|0,C=C+Math.imul(W$,O$)|0,C=C+Math.imul(z$,K$)|0,b=b+Math.imul(z$,O$)|0,R=R+Math.imul(t,G$)|0,C=C+Math.imul(t,V$)|0,C=C+Math.imul(F,G$)|0,b=b+Math.imul(F,V$)|0,R=R+Math.imul(d,D$)|0,C=C+Math.imul(d,p$)|0,C=C+Math.imul(n,D$)|0,b=b+Math.imul(n,p$)|0,R=R+Math.imul($$,L$)|0,C=C+Math.imul($$,C$)|0,C=C+Math.imul(_$,L$)|0,b=b+Math.imul(_$,C$)|0,R=R+Math.imul(m,W6)|0,C=C+Math.imul(m,j6)|0,C=C+Math.imul(r,W6)|0,b=b+Math.imul(r,j6)|0;var Kq=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(Kq>>>26)|0,Kq&=67108863,R=Math.imul(M$,I$),C=Math.imul(M$,u),C=C+Math.imul(S$,I$)|0,b=Math.imul(S$,u),R=R+Math.imul(X$,K$)|0,C=C+Math.imul(X$,O$)|0,C=C+Math.imul(k$,K$)|0,b=b+Math.imul(k$,O$)|0,R=R+Math.imul(W$,G$)|0,C=C+Math.imul(W$,V$)|0,C=C+Math.imul(z$,G$)|0,b=b+Math.imul(z$,V$)|0,R=R+Math.imul(t,D$)|0,C=C+Math.imul(t,p$)|0,C=C+Math.imul(F,D$)|0,b=b+Math.imul(F,p$)|0,R=R+Math.imul(d,L$)|0,C=C+Math.imul(d,C$)|0,C=C+Math.imul(n,L$)|0,b=b+Math.imul(n,C$)|0,R=R+Math.imul($$,W6)|0,C=C+Math.imul($$,j6)|0,C=C+Math.imul(_$,W6)|0,b=b+Math.imul(_$,j6)|0;var Pq=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(Pq>>>26)|0,Pq&=67108863,R=Math.imul(M$,K$),C=Math.imul(M$,O$),C=C+Math.imul(S$,K$)|0,b=Math.imul(S$,O$),R=R+Math.imul(X$,G$)|0,C=C+Math.imul(X$,V$)|0,C=C+Math.imul(k$,G$)|0,b=b+Math.imul(k$,V$)|0,R=R+Math.imul(W$,D$)|0,C=C+Math.imul(W$,p$)|0,C=C+Math.imul(z$,D$)|0,b=b+Math.imul(z$,p$)|0,R=R+Math.imul(t,L$)|0,C=C+Math.imul(t,C$)|0,C=C+Math.imul(F,L$)|0,b=b+Math.imul(F,C$)|0,R=R+Math.imul(d,W6)|0,C=C+Math.imul(d,j6)|0,C=C+Math.imul(n,W6)|0,b=b+Math.imul(n,j6)|0;var Oq=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(Oq>>>26)|0,Oq&=67108863,R=Math.imul(M$,G$),C=Math.imul(M$,V$),C=C+Math.imul(S$,G$)|0,b=Math.imul(S$,V$),R=R+Math.imul(X$,D$)|0,C=C+Math.imul(X$,p$)|0,C=C+Math.imul(k$,D$)|0,b=b+Math.imul(k$,p$)|0,R=R+Math.imul(W$,L$)|0,C=C+Math.imul(W$,C$)|0,C=C+Math.imul(z$,L$)|0,b=b+Math.imul(z$,C$)|0,R=R+Math.imul(t,W6)|0,C=C+Math.imul(t,j6)|0,C=C+Math.imul(F,W6)|0,b=b+Math.imul(F,j6)|0;var Yq=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(Yq>>>26)|0,Yq&=67108863,R=Math.imul(M$,D$),C=Math.imul(M$,p$),C=C+Math.imul(S$,D$)|0,b=Math.imul(S$,p$),R=R+Math.imul(X$,L$)|0,C=C+Math.imul(X$,C$)|0,C=C+Math.imul(k$,L$)|0,b=b+Math.imul(k$,C$)|0,R=R+Math.imul(W$,W6)|0,C=C+Math.imul(W$,j6)|0,C=C+Math.imul(z$,W6)|0,b=b+Math.imul(z$,j6)|0;var r2=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(r2>>>26)|0,r2&=67108863,R=Math.imul(M$,L$),C=Math.imul(M$,C$),C=C+Math.imul(S$,L$)|0,b=Math.imul(S$,C$),R=R+Math.imul(X$,W6)|0,C=C+Math.imul(X$,j6)|0,C=C+Math.imul(k$,W6)|0,b=b+Math.imul(k$,j6)|0;var o2=(G+R|0)+((C&8191)<<13)|0;G=(b+(C>>>13)|0)+(o2>>>26)|0,o2&=67108863,R=Math.imul(M$,W6),C=Math.imul(M$,j6),C=C+Math.imul(S$,W6)|0,b=Math.imul(S$,j6);var n2=(G+R|0)+((C&8191)<<13)|0;if(G=(b+(C>>>13)|0)+(n2>>>26)|0,n2&=67108863,v[0]=E6,v[1]=S6,v[2]=t6,v[3]=U6,v[4]=F6,v[5]=a6,v[6]=Q6,v[7]=e6,v[8]=s6,v[9]=$q,v[10]=qq,v[11]=_q,v[12]=Kq,v[13]=Pq,v[14]=Oq,v[15]=Yq,v[16]=r2,v[17]=o2,v[18]=n2,G!==0)v[19]=G,V.length++;return V};if(!Math.imul)L=I;function g(W,Z,V){V.negative=Z.negative^W.negative,V.length=W.length+Z.length;var M=0,A=0;for(var v=0;v<V.length-1;v++){var G=A;A=0;var R=M&67108863,C=Math.min(v,Z.length-1);for(var b=Math.max(0,v-W.length+1);b<=C;b++){var x=v-b,l=W.words[x]|0,a=Z.words[b]|0,f$=l*a,q$=f$&67108863;G=G+(f$/67108864|0)|0,q$=q$+R|0,R=q$&67108863,G=G+(q$>>>26)|0,A+=G>>>26,G&=67108863}V.words[v]=R,M=G,G=A}if(M!==0)V.words[v]=M;else V.length--;return V._strip()}function y(W,Z,V){return g(W,Z,V)}Y.prototype.mulTo=function(W,Z){var V,M=this.length+W.length;if(this.length===10&&W.length===10)V=L(this,W,Z);else if(M<63)V=I(this,W,Z);else if(M<1024)V=g(this,W,Z);else V=y(this,W,Z);return V};function c(W,Z){this.x=W,this.y=Z}c.prototype.makeRBT=function(W){var Z=Array(W),V=Y.prototype._countBits(W)-1;for(var M=0;M<W;M++)Z[M]=this.revBin(M,V,W);return Z},c.prototype.revBin=function(W,Z,V){if(W===0||W===V-1)return W;var M=0;for(var A=0;A<Z;A++)M|=(W&1)<<Z-A-1,W>>=1;return M},c.prototype.permute=function(W,Z,V,M,A,v){for(var G=0;G<v;G++)M[G]=Z[W[G]],A[G]=V[W[G]]},c.prototype.transform=function(W,Z,V,M,A,v){this.permute(v,W,Z,V,M,A);for(var G=1;G<A;G<<=1){var R=G<<1,C=Math.cos(2*Math.PI/R),b=Math.sin(2*Math.PI/R);for(var x=0;x<A;x+=R){var l=C,a=b;for(var f$=0;f$<G;f$++){var q$=V[x+f$],B=M[x+f$],v$=V[x+f$+G],e=M[x+f$+G],P$=l*v$-a*e;if(e=l*e+a*v$,v$=P$,V[x+f$]=q$+v$,M[x+f$]=B+e,V[x+f$+G]=q$-v$,M[x+f$+G]=B-e,f$!==R)P$=C*l-b*a,a=C*a+b*l,l=P$}}}},c.prototype.guessLen13b=function(W,Z){var V=Math.max(Z,W)|1,M=V&1,A=0;for(V=V/2|0;V;V=V>>>1)A++;return 1<<A+1+M},c.prototype.conjugate=function(W,Z,V){if(V<=1)return;for(var M=0;M<V/2;M++){var A=W[M];W[M]=W[V-M-1],W[V-M-1]=A,A=Z[M],Z[M]=-Z[V-M-1],Z[V-M-1]=-A}},c.prototype.normalize13b=function(W,Z){var V=0;for(var M=0;M<Z/2;M++){var A=Math.round(W[2*M+1]/Z)*8192+Math.round(W[2*M]/Z)+V;if(W[M]=A&67108863,A<67108864)V=0;else V=A/67108864|0}return W},c.prototype.convert13b=function(W,Z,V,M){var A=0;for(var v=0;v<Z;v++)A=A+(W[v]|0),V[2*v]=A&8191,A=A>>>13,V[2*v+1]=A&8191,A=A>>>13;for(v=2*Z;v<M;++v)V[v]=0;P(A===0),P((A&-8192)===0)},c.prototype.stub=function(W){var Z=Array(W);for(var V=0;V<W;V++)Z[V]=0;return Z},c.prototype.mulp=function(W,Z,V){var M=2*this.guessLen13b(W.length,Z.length),A=this.makeRBT(M),v=this.stub(M),G=Array(M),R=Array(M),C=Array(M),b=Array(M),x=Array(M),l=Array(M),a=V.words;a.length=M,this.convert13b(W.words,W.length,G,M),this.convert13b(Z.words,Z.length,b,M),this.transform(G,v,R,C,M,A),this.transform(b,v,x,l,M,A);for(var f$=0;f$<M;f$++){var q$=R[f$]*x[f$]-C[f$]*l[f$];C[f$]=R[f$]*l[f$]+C[f$]*x[f$],R[f$]=q$}return this.conjugate(R,C,M),this.transform(R,C,a,v,M,A),this.conjugate(a,v,M),this.normalize13b(a,M),V.negative=W.negative^Z.negative,V.length=W.length+Z.length,V._strip()},Y.prototype.mul=function(W){var Z=new Y(null);return Z.words=Array(this.length+W.length),this.mulTo(W,Z)},Y.prototype.mulf=function(W){var Z=new Y(null);return Z.words=Array(this.length+W.length),y(this,W,Z)},Y.prototype.imul=function(W){return this.clone().mulTo(W,this)},Y.prototype.imuln=function(W){var Z=W<0;if(Z)W=-W;P(typeof W==="number"),P(W<67108864);var V=0;for(var M=0;M<this.length;M++){var A=(this.words[M]|0)*W,v=(A&67108863)+(V&67108863);V>>=26,V+=A/67108864|0,V+=v>>>26,this.words[M]=v&67108863}if(V!==0)this.words[M]=V,this.length++;return this.length=W===0?1:this.length,Z?this.ineg():this},Y.prototype.muln=function(W){return this.clone().imuln(W)},Y.prototype.sqr=function(){return this.mul(this)},Y.prototype.isqr=function(){return this.imul(this.clone())},Y.prototype.pow=function(W){var Z=D(W);if(Z.length===0)return new Y(1);var V=this;for(var M=0;M<Z.length;M++,V=V.sqr())if(Z[M]!==0)break;if(++M<Z.length)for(var A=V.sqr();M<Z.length;M++,A=A.sqr()){if(Z[M]===0)continue;V=V.mul(A)}return V},Y.prototype.iushln=function(W){P(typeof W==="number"&&W>=0);var Z=W%26,V=(W-Z)/26,M=67108863>>>26-Z<<26-Z,A;if(Z!==0){var v=0;for(A=0;A<this.length;A++){var G=this.words[A]&M,R=(this.words[A]|0)-G<<Z;this.words[A]=R|v,v=G>>>26-Z}if(v)this.words[A]=v,this.length++}if(V!==0){for(A=this.length-1;A>=0;A--)this.words[A+V]=this.words[A];for(A=0;A<V;A++)this.words[A]=0;this.length+=V}return this._strip()},Y.prototype.ishln=function(W){return P(this.negative===0),this.iushln(W)},Y.prototype.iushrn=function(W,Z,V){P(typeof W==="number"&&W>=0);var M;if(Z)M=(Z-Z%26)/26;else M=0;var A=W%26,v=Math.min((W-A)/26,this.length),G=67108863^67108863>>>A<<A,R=V;if(M-=v,M=Math.max(0,M),R){for(var C=0;C<v;C++)R.words[C]=this.words[C];R.length=v}if(v===0);else if(this.length>v){this.length-=v;for(C=0;C<this.length;C++)this.words[C]=this.words[C+v]}else this.words[0]=0,this.length=1;var b=0;for(C=this.length-1;C>=0&&(b!==0||C>=M);C--){var x=this.words[C]|0;this.words[C]=b<<26-A|x>>>A,b=x&G}if(R&&b!==0)R.words[R.length++]=b;if(this.length===0)this.words[0]=0,this.length=1;return this._strip()},Y.prototype.ishrn=function(W,Z,V){return P(this.negative===0),this.iushrn(W,Z,V)},Y.prototype.shln=function(W){return this.clone().ishln(W)},Y.prototype.ushln=function(W){return this.clone().iushln(W)},Y.prototype.shrn=function(W){return this.clone().ishrn(W)},Y.prototype.ushrn=function(W){return this.clone().iushrn(W)},Y.prototype.testn=function(W){P(typeof W==="number"&&W>=0);var Z=W%26,V=(W-Z)/26,M=1<<Z;if(this.length<=V)return!1;var A=this.words[V];return!!(A&M)},Y.prototype.imaskn=function(W){P(typeof W==="number"&&W>=0);var Z=W%26,V=(W-Z)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=V)return this;if(Z!==0)V++;if(this.length=Math.min(V,this.length),Z!==0){var M=67108863^67108863>>>Z<<Z;this.words[this.length-1]&=M}return this._strip()},Y.prototype.maskn=function(W){return this.clone().imaskn(W)},Y.prototype.iaddn=function(W){if(P(typeof W==="number"),P(W<67108864),W<0)return this.isubn(-W);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=W)return this.words[0]=W-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(W),this.negative=1,this}return this._iaddn(W)},Y.prototype._iaddn=function(W){this.words[0]+=W;for(var Z=0;Z<this.length&&this.words[Z]>=67108864;Z++)if(this.words[Z]-=67108864,Z===this.length-1)this.words[Z+1]=1;else this.words[Z+1]++;return this.length=Math.max(this.length,Z+1),this},Y.prototype.isubn=function(W){if(P(typeof W==="number"),P(W<67108864),W<0)return this.iaddn(-W);if(this.negative!==0)return this.negative=0,this.iaddn(W),this.negative=1,this;if(this.words[0]-=W,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Z=0;Z<this.length&&this.words[Z]<0;Z++)this.words[Z]+=67108864,this.words[Z+1]-=1;return this._strip()},Y.prototype.addn=function(W){return this.clone().iaddn(W)},Y.prototype.subn=function(W){return this.clone().isubn(W)},Y.prototype.iabs=function(){return this.negative=0,this},Y.prototype.abs=function(){return this.clone().iabs()},Y.prototype._ishlnsubmul=function(W,Z,V){var M=W.length+V,A;this._expand(M);var v,G=0;for(A=0;A<W.length;A++){v=(this.words[A+V]|0)+G;var R=(W.words[A]|0)*Z;v-=R&67108863,G=(v>>26)-(R/67108864|0),this.words[A+V]=v&67108863}for(;A<this.length-V;A++)v=(this.words[A+V]|0)+G,G=v>>26,this.words[A+V]=v&67108863;if(G===0)return this._strip();P(G===-1),G=0;for(A=0;A<this.length;A++)v=-(this.words[A]|0)+G,G=v>>26,this.words[A]=v&67108863;return this.negative=1,this._strip()},Y.prototype._wordDiv=function(W,Z){var V=this.length-W.length,M=this.clone(),A=W,v=A.words[A.length-1]|0,G=this._countBits(v);if(V=26-G,V!==0)A=A.ushln(V),M.iushln(V),v=A.words[A.length-1]|0;var R=M.length-A.length,C;if(Z!=="mod"){C=new Y(null),C.length=R+1,C.words=Array(C.length);for(var b=0;b<C.length;b++)C.words[b]=0}var x=M.clone()._ishlnsubmul(A,1,R);if(x.negative===0){if(M=x,C)C.words[R]=1}for(var l=R-1;l>=0;l--){var a=(M.words[A.length+l]|0)*67108864+(M.words[A.length+l-1]|0);a=Math.min(a/v|0,67108863),M._ishlnsubmul(A,a,l);while(M.negative!==0)if(a--,M.negative=0,M._ishlnsubmul(A,1,l),!M.isZero())M.negative^=1;if(C)C.words[l]=a}if(C)C._strip();if(M._strip(),Z!=="div"&&V!==0)M.iushrn(V);return{div:C||null,mod:M}},Y.prototype.divmod=function(W,Z,V){if(P(!W.isZero()),this.isZero())return{div:new Y(0),mod:new Y(0)};var M,A,v;if(this.negative!==0&&W.negative===0){if(v=this.neg().divmod(W,Z),Z!=="mod")M=v.div.neg();if(Z!=="div"){if(A=v.mod.neg(),V&&A.negative!==0)A.iadd(W)}return{div:M,mod:A}}if(this.negative===0&&W.negative!==0){if(v=this.divmod(W.neg(),Z),Z!=="mod")M=v.div.neg();return{div:M,mod:v.mod}}if((this.negative&W.negative)!==0){if(v=this.neg().divmod(W.neg(),Z),Z!=="div"){if(A=v.mod.neg(),V&&A.negative!==0)A.isub(W)}return{div:v.div,mod:A}}if(W.length>this.length||this.cmp(W)<0)return{div:new Y(0),mod:this};if(W.length===1){if(Z==="div")return{div:this.divn(W.words[0]),mod:null};if(Z==="mod")return{div:null,mod:new Y(this.modrn(W.words[0]))};return{div:this.divn(W.words[0]),mod:new Y(this.modrn(W.words[0]))}}return this._wordDiv(W,Z)},Y.prototype.div=function(W){return this.divmod(W,"div",!1).div},Y.prototype.mod=function(W){return this.divmod(W,"mod",!1).mod},Y.prototype.umod=function(W){return this.divmod(W,"mod",!0).mod},Y.prototype.divRound=function(W){var Z=this.divmod(W);if(Z.mod.isZero())return Z.div;var V=Z.div.negative!==0?Z.mod.isub(W):Z.mod,M=W.ushrn(1),A=W.andln(1),v=V.cmp(M);if(v<0||A===1&&v===0)return Z.div;return Z.div.negative!==0?Z.div.isubn(1):Z.div.iaddn(1)},Y.prototype.modrn=function(W){var Z=W<0;if(Z)W=-W;P(W<=67108863);var V=67108864%W,M=0;for(var A=this.length-1;A>=0;A--)M=(V*M+(this.words[A]|0))%W;return Z?-M:M},Y.prototype.modn=function(W){return this.modrn(W)},Y.prototype.idivn=function(W){var Z=W<0;if(Z)W=-W;P(W<=67108863);var V=0;for(var M=this.length-1;M>=0;M--){var A=(this.words[M]|0)+V*67108864;this.words[M]=A/W|0,V=A%W}return this._strip(),Z?this.ineg():this},Y.prototype.divn=function(W){return this.clone().idivn(W)},Y.prototype.egcd=function(W){P(W.negative===0),P(!W.isZero());var Z=this,V=W.clone();if(Z.negative!==0)Z=Z.umod(W);else Z=Z.clone();var M=new Y(1),A=new Y(0),v=new Y(0),G=new Y(1),R=0;while(Z.isEven()&&V.isEven())Z.iushrn(1),V.iushrn(1),++R;var C=V.clone(),b=Z.clone();while(!Z.isZero()){for(var x=0,l=1;(Z.words[0]&l)===0&&x<26;++x,l<<=1);if(x>0){Z.iushrn(x);while(x-- >0){if(M.isOdd()||A.isOdd())M.iadd(C),A.isub(b);M.iushrn(1),A.iushrn(1)}}for(var a=0,f$=1;(V.words[0]&f$)===0&&a<26;++a,f$<<=1);if(a>0){V.iushrn(a);while(a-- >0){if(v.isOdd()||G.isOdd())v.iadd(C),G.isub(b);v.iushrn(1),G.iushrn(1)}}if(Z.cmp(V)>=0)Z.isub(V),M.isub(v),A.isub(G);else V.isub(Z),v.isub(M),G.isub(A)}return{a:v,b:G,gcd:V.iushln(R)}},Y.prototype._invmp=function(W){P(W.negative===0),P(!W.isZero());var Z=this,V=W.clone();if(Z.negative!==0)Z=Z.umod(W);else Z=Z.clone();var M=new Y(1),A=new Y(0),v=V.clone();while(Z.cmpn(1)>0&&V.cmpn(1)>0){for(var G=0,R=1;(Z.words[0]&R)===0&&G<26;++G,R<<=1);if(G>0){Z.iushrn(G);while(G-- >0){if(M.isOdd())M.iadd(v);M.iushrn(1)}}for(var C=0,b=1;(V.words[0]&b)===0&&C<26;++C,b<<=1);if(C>0){V.iushrn(C);while(C-- >0){if(A.isOdd())A.iadd(v);A.iushrn(1)}}if(Z.cmp(V)>=0)Z.isub(V),M.isub(A);else V.isub(Z),A.isub(M)}var x;if(Z.cmpn(1)===0)x=M;else x=A;if(x.cmpn(0)<0)x.iadd(W);return x},Y.prototype.gcd=function(W){if(this.isZero())return W.abs();if(W.isZero())return this.abs();var Z=this.clone(),V=W.clone();Z.negative=0,V.negative=0;for(var M=0;Z.isEven()&&V.isEven();M++)Z.iushrn(1),V.iushrn(1);do{while(Z.isEven())Z.iushrn(1);while(V.isEven())V.iushrn(1);var A=Z.cmp(V);if(A<0){var v=Z;Z=V,V=v}else if(A===0||V.cmpn(1)===0)break;Z.isub(V)}while(!0);return V.iushln(M)},Y.prototype.invm=function(W){return this.egcd(W).a.umod(W)},Y.prototype.isEven=function(){return(this.words[0]&1)===0},Y.prototype.isOdd=function(){return(this.words[0]&1)===1},Y.prototype.andln=function(W){return this.words[0]&W},Y.prototype.bincn=function(W){P(typeof W==="number");var Z=W%26,V=(W-Z)/26,M=1<<Z;if(this.length<=V)return this._expand(V+1),this.words[V]|=M,this;var A=M;for(var v=V;A!==0&&v<this.length;v++){var G=this.words[v]|0;G+=A,A=G>>>26,G&=67108863,this.words[v]=G}if(A!==0)this.words[v]=A,this.length++;return this},Y.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Y.prototype.cmpn=function(W){var Z=W<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;this._strip();var V;if(this.length>1)V=1;else{if(Z)W=-W;P(W<=67108863,"Number is too big");var M=this.words[0]|0;V=M===W?0:M<W?-1:1}if(this.negative!==0)return-V|0;return V},Y.prototype.cmp=function(W){if(this.negative!==0&&W.negative===0)return-1;if(this.negative===0&&W.negative!==0)return 1;var Z=this.ucmp(W);if(this.negative!==0)return-Z|0;return Z},Y.prototype.ucmp=function(W){if(this.length>W.length)return 1;if(this.length<W.length)return-1;var Z=0;for(var V=this.length-1;V>=0;V--){var M=this.words[V]|0,A=W.words[V]|0;if(M===A)continue;if(M<A)Z=-1;else if(M>A)Z=1;break}return Z},Y.prototype.gtn=function(W){return this.cmpn(W)===1},Y.prototype.gt=function(W){return this.cmp(W)===1},Y.prototype.gten=function(W){return this.cmpn(W)>=0},Y.prototype.gte=function(W){return this.cmp(W)>=0},Y.prototype.ltn=function(W){return this.cmpn(W)===-1},Y.prototype.lt=function(W){return this.cmp(W)===-1},Y.prototype.lten=function(W){return this.cmpn(W)<=0},Y.prototype.lte=function(W){return this.cmp(W)<=0},Y.prototype.eqn=function(W){return this.cmpn(W)===0},Y.prototype.eq=function(W){return this.cmp(W)===0},Y.red=function(W){return new J(W)},Y.prototype.toRed=function(W){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),W.convertTo(this)._forceRed(W)},Y.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Y.prototype._forceRed=function(W){return this.red=W,this},Y.prototype.forceRed=function(W){return P(!this.red,"Already a number in reduction context"),this._forceRed(W)},Y.prototype.redAdd=function(W){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,W)},Y.prototype.redIAdd=function(W){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,W)},Y.prototype.redSub=function(W){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,W)},Y.prototype.redISub=function(W){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,W)},Y.prototype.redShl=function(W){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,W)},Y.prototype.redMul=function(W){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,W),this.red.mul(this,W)},Y.prototype.redIMul=function(W){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,W),this.red.imul(this,W)},Y.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Y.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Y.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Y.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Y.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Y.prototype.redPow=function(W){return P(this.red&&!W.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,W)};var o={k256:null,p224:null,p192:null,p25519:null};function Q(W,Z){this.name=W,this.p=new Y(Z,16),this.n=this.p.bitLength(),this.k=new Y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var W=new Y(null);return W.words=Array(Math.ceil(this.n/13)),W},Q.prototype.ireduce=function(W){var Z=W,V;do this.split(Z,this.tmp),Z=this.imulK(Z),Z=Z.iadd(this.tmp),V=Z.bitLength();while(V>this.n);var M=V<this.n?-1:Z.ucmp(this.p);if(M===0)Z.words[0]=0,Z.length=1;else if(M>0)Z.isub(this.p);else if(Z.strip!==void 0)Z.strip();else Z._strip();return Z},Q.prototype.split=function(W,Z){W.iushrn(this.n,0,Z)},Q.prototype.imulK=function(W){return W.imul(this.k)};function U(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(U,Q),U.prototype.split=function(W,Z){var V=4194303,M=Math.min(W.length,9);for(var A=0;A<M;A++)Z.words[A]=W.words[A];if(Z.length=M,W.length<=9){W.words[0]=0,W.length=1;return}var v=W.words[9];Z.words[Z.length++]=v&V;for(A=10;A<W.length;A++){var G=W.words[A]|0;W.words[A-10]=(G&V)<<4|v>>>22,v=G}if(v>>>=22,W.words[A-10]=v,v===0&&W.length>10)W.length-=10;else W.length-=9},U.prototype.imulK=function(W){W.words[W.length]=0,W.words[W.length+1]=0,W.length+=2;var Z=0;for(var V=0;V<W.length;V++){var M=W.words[V]|0;Z+=M*977,W.words[V]=Z&67108863,Z=M*64+(Z/67108864|0)}if(W.words[W.length-1]===0){if(W.length--,W.words[W.length-1]===0)W.length--}return W};function p(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(p,Q);function s(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(s,Q);function j(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(j,Q),j.prototype.imulK=function(W){var Z=0;for(var V=0;V<W.length;V++){var M=(W.words[V]|0)*19+Z,A=M&67108863;M>>>=26,W.words[V]=A,Z=M}if(Z!==0)W.words[W.length++]=Z;return W},Y._prime=function(W){if(o[W])return o[W];var Z;if(W==="k256")Z=new U;else if(W==="p224")Z=new p;else if(W==="p192")Z=new s;else if(W==="p25519")Z=new j;else throw Error("Unknown prime "+W);return o[W]=Z,Z};function J(W){if(typeof W==="string"){var Z=Y._prime(W);this.m=Z.p,this.prime=Z}else P(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}J.prototype._verify1=function(W){P(W.negative===0,"red works only with positives"),P(W.red,"red works only with red numbers")},J.prototype._verify2=function(W,Z){P((W.negative|Z.negative)===0,"red works only with positives"),P(W.red&&W.red===Z.red,"red works only with red numbers")},J.prototype.imod=function(W){if(this.prime)return this.prime.ireduce(W)._forceRed(this);return w(W,W.umod(this.m)._forceRed(this)),W},J.prototype.neg=function(W){if(W.isZero())return W.clone();return this.m.sub(W)._forceRed(this)},J.prototype.add=function(W,Z){this._verify2(W,Z);var V=W.add(Z);if(V.cmp(this.m)>=0)V.isub(this.m);return V._forceRed(this)},J.prototype.iadd=function(W,Z){this._verify2(W,Z);var V=W.iadd(Z);if(V.cmp(this.m)>=0)V.isub(this.m);return V},J.prototype.sub=function(W,Z){this._verify2(W,Z);var V=W.sub(Z);if(V.cmpn(0)<0)V.iadd(this.m);return V._forceRed(this)},J.prototype.isub=function(W,Z){this._verify2(W,Z);var V=W.isub(Z);if(V.cmpn(0)<0)V.iadd(this.m);return V},J.prototype.shl=function(W,Z){return this._verify1(W),this.imod(W.ushln(Z))},J.prototype.imul=function(W,Z){return this._verify2(W,Z),this.imod(W.imul(Z))},J.prototype.mul=function(W,Z){return this._verify2(W,Z),this.imod(W.mul(Z))},J.prototype.isqr=function(W){return this.imul(W,W.clone())},J.prototype.sqr=function(W){return this.mul(W,W)},J.prototype.sqrt=function(W){if(W.isZero())return W.clone();var Z=this.m.andln(3);if(P(Z%2===1),Z===3){var V=this.m.add(new Y(1)).iushrn(2);return this.pow(W,V)}var M=this.m.subn(1),A=0;while(!M.isZero()&&M.andln(1)===0)A++,M.iushrn(1);P(!M.isZero());var v=new Y(1).toRed(this),G=v.redNeg(),R=this.m.subn(1).iushrn(1),C=this.m.bitLength();C=new Y(2*C*C).toRed(this);while(this.pow(C,R).cmp(G)!==0)C.redIAdd(G);var b=this.pow(C,M),x=this.pow(W,M.addn(1).iushrn(1)),l=this.pow(W,M),a=A;while(l.cmp(v)!==0){var f$=l;for(var q$=0;f$.cmp(v)!==0;q$++)f$=f$.redSqr();P(q$<a);var B=this.pow(b,new Y(1).iushln(a-q$-1));x=x.redMul(B),b=B.redSqr(),l=l.redMul(b),a=q$}return x},J.prototype.invm=function(W){var Z=W._invmp(this.m);if(Z.negative!==0)return Z.negative=0,this.imod(Z).redNeg();else return this.imod(Z)},J.prototype.pow=function(W,Z){if(Z.isZero())return new Y(1).toRed(this);if(Z.cmpn(1)===0)return W.clone();var V=4,M=Array(1<<V);M[0]=new Y(1).toRed(this),M[1]=W;for(var A=2;A<M.length;A++)M[A]=this.mul(M[A-1],W);var v=M[0],G=0,R=0,C=Z.bitLength()%26;if(C===0)C=26;for(A=Z.length-1;A>=0;A--){var b=Z.words[A];for(var x=C-1;x>=0;x--){var l=b>>x&1;if(v!==M[0])v=this.sqr(v);if(l===0&&G===0){R=0;continue}if(G<<=1,G|=l,R++,R!==V&&(A!==0||x!==0))continue;v=this.mul(v,M[G]),R=0,G=0}C=26}return v},J.prototype.convertTo=function(W){var Z=W.umod(this.m);return Z===W?Z.clone():Z},J.prototype.convertFrom=function(W){var Z=W.clone();return Z.red=null,Z},Y.mont=function(W){return new X(W)};function X(W){if(J.call(this,W),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new Y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(X,J),X.prototype.convertTo=function(W){return this.imod(W.ushln(this.shift))},X.prototype.convertFrom=function(W){var Z=this.imod(W.mul(this.rinv));return Z.red=null,Z},X.prototype.imul=function(W,Z){if(W.isZero()||Z.isZero())return W.words[0]=0,W.length=1,W;var V=W.imul(Z),M=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=V.isub(M).iushrn(this.shift),v=A;if(A.cmp(this.m)>=0)v=A.isub(this.m);else if(A.cmpn(0)<0)v=A.iadd(this.m);return v._forceRed(this)},X.prototype.mul=function(W,Z){if(W.isZero()||Z.isZero())return new Y(0)._forceRed(this);var V=W.mul(Z),M=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=V.isub(M).iushrn(this.shift),v=A;if(A.cmp(this.m)>=0)v=A.isub(this.m);else if(A.cmpn(0)<0)v=A.iadd(this.m);return v._forceRed(this)},X.prototype.invm=function(W){var Z=this.imod(W._invmp(this.m).mul(this.r2));return Z._forceRed(this)}})(typeof q>"u"||q,$)}),JM=T$(($,q)=>{var _=si(),K=Z2(),P=dq().Buffer;function O(H){var T=H.modulus.byteLength(),f;do f=new _(K(T));while(f.cmp(H.modulus)>=0||!f.umod(H.prime1)||!f.umod(H.prime2));return f}function Y(H){var T=O(H),f=T.toRed(_.mont(H.modulus)).redPow(new _(H.publicExponent)).fromRed();return{blinder:f,unblinder:T.invm(H.modulus)}}function z(H,T){var f=Y(T),w=T.modulus.byteLength(),k=new _(H).mul(f.blinder).umod(T.modulus),S=k.toRed(_.mont(T.prime1)),N=k.toRed(_.mont(T.prime2)),h=T.coefficient,E=T.prime1,D=T.prime2,I=S.redPow(T.exponent1).fromRed(),L=N.redPow(T.exponent2).fromRed(),g=I.isub(L).imul(h).umod(E).imul(D);return L.iadd(g).imul(f.unblinder).umod(T.modulus).toArrayLike(P,"be",w)}z.getr=O,q.exports=z}),$B=T$(($,q)=>{var _=jM(),K=Z2(),P=X2(),O=vM(),Y=zM(),z=kH(),H=WM(),T=JM(),f=dq().Buffer;q.exports=function(N,h,E){var D;if(N.padding)D=N.padding;else if(E)D=1;else D=4;var I=_(N),L;if(D===4)L=w(I,h);else if(D===1)L=k(I,h,E);else if(D===3){if(L=new z(h),L.cmp(I.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");if(E)return T(L,I);else return H(L,I)};function w(N,h){var E=N.modulus.byteLength(),D=h.length,I=P("sha1").update(f.alloc(0)).digest(),L=I.length,g=2*L;if(D>E-g-2)throw Error("message too long");var y=f.alloc(E-D-g-2),c=E-L-1,o=K(L),Q=Y(f.concat([I,y,f.alloc(1,1),h],c),O(o,c)),U=Y(o,O(Q,L));return new z(f.concat([f.alloc(1),U,Q],E))}function k(N,h,E){var D=h.length,I=N.modulus.byteLength();if(D>I-11)throw Error("message too long");var L;if(E)L=f.alloc(I-D-3,255);else L=S(I-D-3);return new z(f.concat([f.from([0,E?1:2]),L,f.alloc(1),h],I))}function S(N){var h=f.allocUnsafe(N),E=0,D=K(N*2),I=0,L;while(E<N){if(I===D.length)D=K(N*2),I=0;if(L=D[I++],L)h[E++]=L}return h}}),qB=T$(($,q)=>{var _=jM(),K=vM(),P=zM(),O=kH(),Y=JM(),z=X2(),H=WM(),T=dq().Buffer;q.exports=function(S,N,h){var E;if(S.padding)E=S.padding;else if(h)E=1;else E=4;var D=_(S),I=D.modulus.byteLength();if(N.length>I||new O(N).cmp(D.modulus)>=0)throw Error("decryption error");var L;if(h)L=H(new O(N),D);else L=Y(N,D);var g=T.alloc(I-L.length);if(L=T.concat([g,L],I),E===4)return f(D,L);else if(E===1)return w(D,L,h);else if(E===3)return L;else throw Error("unknown padding")};function f(S,N){var h=S.modulus.byteLength(),E=z("sha1").update(T.alloc(0)).digest(),D=E.length;if(N[0]!==0)throw Error("decryption error");var I=N.slice(1,D+1),L=N.slice(D+1),g=P(I,K(L,D)),y=P(L,K(g,h-D-1));if(k(E,y.slice(0,D)))throw Error("decryption error");var c=D;while(y[c]===0)c++;if(y[c++]!==1)throw Error("decryption error");return y.slice(c)}function w(S,N,h){var E=N.slice(0,2),D=2,I=0;while(N[D++]!==0)if(D>=N.length){I++;break}var L=N.slice(2,D-1);if(E.toString("hex")!=="0002"&&!h||E.toString("hex")!=="0001"&&h)I++;if(L.length<8)I++;if(I)throw Error("decryption error");return N.slice(D)}function k(S,N){S=T.from(S),N=T.from(N);var h=0,E=S.length;if(S.length!==N.length)h++,E=Math.min(S.length,N.length);var D=-1;while(++D<E)h+=S[D]^N[D];return h}}),WH=T$(($)=>{$.publicEncrypt=$B(),$.privateDecrypt=qB(),$.privateEncrypt=function(q,_){return $.publicEncrypt(q,_,!0)},$.publicDecrypt=function(q,_){return $.privateDecrypt(q,_,!0)}}),_B=T$(($)=>{var q=(rq(),J6(lq));if(typeof q.publicEncrypt!=="function")q=WH();if($.publicEncrypt=q.publicEncrypt,$.privateDecrypt=q.privateDecrypt,typeof q.privateEncrypt!=="function")$.privateEncrypt=WH().privateEncrypt;else $.privateEncrypt=q.privateEncrypt;if(typeof q.publicDecrypt!=="function")$.publicDecrypt=WH().publicDecrypt;else $.publicDecrypt=q.publicDecrypt}),KB=T$(($)=>{var q=dq(),_=Z2(),K=q.Buffer,P=q.kMaxLength,O=globalThis.crypto||globalThis.msCrypto,Y=Math.pow(2,32)-1;function z(k,S){if(typeof k!=="number"||k!==k)throw TypeError("offset must be a number");if(k>Y||k<0)throw TypeError("offset must be a uint32");if(k>P||k>S)throw RangeError("offset out of range")}function H(k,S,N){if(typeof k!=="number"||k!==k)throw TypeError("size must be a number");if(k>Y||k<0)throw TypeError("size must be a uint32");if(k+S>N||k>P)throw RangeError("buffer too small")}O&&O.getRandomValues,$.randomFill=T,$.randomFillSync=w;function T(k,S,N,h){if(!K.isBuffer(k)&&!(k instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof S==="function")h=S,S=0,N=k.length;else if(typeof N==="function")h=N,N=k.length-S;else if(typeof h!=="function")throw TypeError('"cb" argument must be a function');return z(S,k.length),H(N,S,k.length),f(k,S,N,h)}function f(k,S,N,h){if(!1)var E,D;if(h){_(N,function(L,g){if(L)return h(L);g.copy(k,S),h(null,k)});return}var I=_(N);return I.copy(k,S),k}function w(k,S,N){if(typeof S>"u")S=0;if(!K.isBuffer(k)&&!(k instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(z(S,k.length),N===void 0)N=k.length-S;return H(N,S,k.length),f(k,S,N)}}),PB=T$(($,q)=>{var _=(rq(),J6(lq));if(typeof _.randomFill==="function"&&typeof _.randomFillSync==="function")$.randomFill=_.randomFill,$.randomFillSync=_.randomFillSync;else q.exports=KB()}),OB=T$(($)=>{$.randomBytes=$.rng=$.pseudoRandomBytes=$.prng=Z2(),$.createHash=$.Hash=X2(),$.createHmac=$.Hmac=m0();var q=Rn(),_=Object.keys(q),K=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);$.getHashes=function(){return K};var P=a0();$.pbkdf2=P.pbkdf2,$.pbkdf2Sync=P.pbkdf2Sync;var O=Ji();$.Cipher=O.Cipher,$.createCipher=O.createCipher,$.Cipheriv=O.Cipheriv,$.createCipheriv=O.createCipheriv,$.Decipher=O.Decipher,$.createDecipher=O.createDecipher,$.Decipheriv=O.Decipheriv,$.createDecipheriv=O.createDecipheriv,$.getCiphers=O.getCiphers,$.listCiphers=O.listCiphers;var Y=Hi();$.DiffieHellmanGroup=Y.DiffieHellmanGroup,$.createDiffieHellmanGroup=Y.createDiffieHellmanGroup,$.getDiffieHellman=Y.getDiffieHellman,$.createDiffieHellman=Y.createDiffieHellman,$.DiffieHellman=Y.DiffieHellman;var z=Ti();$.createSign=z.createSign,$.Sign=z.Sign,$.createVerify=z.createVerify,$.Verify=z.Verify,$.createECDH=xi();var H=_B();$.publicEncrypt=H.publicEncrypt,$.privateEncrypt=H.privateEncrypt,$.publicDecrypt=H.publicDecrypt,$.privateDecrypt=H.privateDecrypt;var T=PB();$.randomFill=T.randomFill,$.randomFillSync=T.randomFillSync,$.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},$.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),w6=hn(OB(),1),YB=w6.prng,jB=w6.pseudoRandomBytes,vB=w6.rng,zB=w6.randomBytes,WB=w6.Hash,JB=w6.createHash,HB=w6.Hmac,TB=w6.createHmac,wB=w6.getHashes,fB=w6.pbkdf2,ZB=w6.pbkdf2Sync,XB=w6.Cipher,AB=w6.createCipher,kB=w6.Cipheriv,GB=w6.createCipheriv,VB=w6.Decipher,SB=w6.createDecipher,MB=w6.Decipheriv,NB=w6.createDecipheriv,CB=w6.getCiphers,EB=w6.listCiphers,hB=w6.DiffieHellmanGroup,RB=w6.createDiffieHellmanGroup,IB=w6.getDiffieHellman,DB=w6.createDiffieHellman,LB=w6.DiffieHellman,gB=w6.createSign,bB=w6.Sign,yB=w6.createVerify,uB=w6.Verify,xB=w6.createECDH,pB=w6.publicEncrypt,cB=w6.privateEncrypt,mB=w6.publicDecrypt,dB=w6.privateDecrypt,lB=w6.randomFill,rB=w6.randomFillSync,oB=w6.createCredentials,nB=w6.constants,UB=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"];aB=crypto,QB=crypto});var HM=N$((B9$,eB)=>{eB.exports={name:"dotenv",version:"17.2.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var AM=N$((t9$,C_)=>{var GH=(()=>({})),G2=(xJ(),J6(uJ)),sB=(cJ(),J6(pJ)),$t=(rq(),J6(lq)),qt=HM(),VH=qt.version,TM=["\uD83D\uDD10 encrypt with Dotenvx: https://dotenvx.com","\uD83D\uDD10 prevent committing .env to code: https://dotenvx.com/precommit","\uD83D\uDD10 prevent building .env in docker: https://dotenvx.com/prebuild","\uD83D\uDCE1 add observability to secrets: https://dotenvx.com/ops","\uD83D\uDC65 sync secrets across teammates & machines: https://dotenvx.com/ops","\uD83D\uDDC2 backup and recover secrets: https://dotenvx.com/ops"," audit secrets and track compliance: https://dotenvx.com/ops","\uD83D\uDD04 add secrets lifecycle management: https://dotenvx.com/ops","\uD83D\uDD11 add access controls to secrets: https://dotenvx.com/ops","\uD83D\uDEE0  run anywhere with `dotenvx run -- yourcommand`","  specify custom .env file path with { path: '/custom/path/.env' }","  enable debug logging with { debug: true }","  override existing env vars with { override: true }","  suppress all logs with { quiet: true }","  write to custom object with { processEnv: myObject }","  load multiple .env files with { path: ['.env.local', '.env'] }"];function _t(){return TM[Math.floor(Math.random()*TM.length)]}function i4($){if(typeof $==="string")return!["false","0","no","off",""].includes($.toLowerCase());return Boolean($)}function Kt(){return process.stdout.isTTY}function Pt($){return Kt()?`\x1B[2m${$}\x1B[0m`:$}var Ot=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Yt($){let q={},_=$.toString();_=_.replace(/\r\n?/mg,`
`);let K;while((K=Ot.exec(_))!=null){let P=K[1],O=K[2]||"";O=O.trim();let Y=O[0];if(O=O.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),Y==='"')O=O.replace(/\\n/g,`
`),O=O.replace(/\\r/g,"\r");q[P]=O}return q}function jt($){$=$||{};let q=XM($);$.path=q;let _=vq.configDotenv($);if(!_.parsed){let Y=Error(`MISSING_DATA: Cannot parse ${q} for an unknown reason`);throw Y.code="MISSING_DATA",Y}let K=ZM($).split(","),P=K.length,O;for(let Y=0;Y<P;Y++)try{let z=K[Y].trim(),H=zt(_,z);O=vq.decrypt(H.ciphertext,H.key);break}catch(z){if(Y+1>=P)throw z}return vq.parse(O)}function vt($){console.error(`[dotenv@${VH}][WARN] ${$}`)}function Y1($){console.log(`[dotenv@${VH}][DEBUG] ${$}`)}function fM($){console.log(`[dotenv@${VH}] ${$}`)}function ZM($){if($&&$.DOTENV_KEY&&$.DOTENV_KEY.length>0)return $.DOTENV_KEY;if(process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0)return process.env.DOTENV_KEY;return""}function zt($,q){let _;try{_=new URL(q)}catch(z){if(z.code==="ERR_INVALID_URL"){let H=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw H.code="INVALID_DOTENV_KEY",H}throw z}let K=_.password;if(!K){let z=Error("INVALID_DOTENV_KEY: Missing key part");throw z.code="INVALID_DOTENV_KEY",z}let P=_.searchParams.get("environment");if(!P){let z=Error("INVALID_DOTENV_KEY: Missing environment part");throw z.code="INVALID_DOTENV_KEY",z}let O=`DOTENV_VAULT_${P.toUpperCase()}`,Y=$.parsed[O];if(!Y){let z=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${O} in your .env.vault file.`);throw z.code="NOT_FOUND_DOTENV_ENVIRONMENT",z}return{ciphertext:Y,key:K}}function XM($){let q=null;if($&&$.path&&$.path.length>0)if(Array.isArray($.path)){for(let _ of $.path)if(GH.existsSync(_))q=_.endsWith(".vault")?_:`${_}.vault`}else q=$.path.endsWith(".vault")?$.path:`${$.path}.vault`;else q=G2.resolve(process.cwd(),".env.vault");if(GH.existsSync(q))return q;return null}function wM($){return $[0]==="~"?G2.join(sB.homedir(),$.slice(1)):$}function Wt($){let q=i4(process.env.DOTENV_CONFIG_DEBUG||$&&$.debug),_=i4(process.env.DOTENV_CONFIG_QUIET||$&&$.quiet);if(q||!_)fM("Loading env from encrypted .env.vault");let K=vq._parseVault($),P=process.env;if($&&$.processEnv!=null)P=$.processEnv;return vq.populate(P,K,$),{parsed:K}}function Jt($){let q=G2.resolve(process.cwd(),".env"),_="utf8",K=process.env;if($&&$.processEnv!=null)K=$.processEnv;let P=i4(K.DOTENV_CONFIG_DEBUG||$&&$.debug),O=i4(K.DOTENV_CONFIG_QUIET||$&&$.quiet);if($&&$.encoding)_=$.encoding;else if(P)Y1("No encoding is specified. UTF-8 is used by default");let Y=[q];if($&&$.path)if(!Array.isArray($.path))Y=[wM($.path)];else{Y=[];for(let f of $.path)Y.push(wM(f))}let z,H={};for(let f of Y)try{let w=vq.parse(GH.readFileSync(f,{encoding:_}));vq.populate(H,w,$)}catch(w){if(P)Y1(`Failed to load ${f} ${w.message}`);z=w}let T=vq.populate(K,H,$);if(P=i4(K.DOTENV_CONFIG_DEBUG||P),O=i4(K.DOTENV_CONFIG_QUIET||O),P||!O){let f=Object.keys(T).length,w=[];for(let k of Y)try{let S=G2.relative(process.cwd(),k);w.push(S)}catch(S){if(P)Y1(`Failed to load ${k} ${S.message}`);z=S}fM(`injecting env (${f}) from ${w.join(",")} ${Pt(`-- tip: ${_t()}`)}`)}if(z)return{parsed:H,error:z};else return{parsed:H}}function Ht($){if(ZM($).length===0)return vq.configDotenv($);let q=XM($);if(!q)return vt(`You set DOTENV_KEY but you are missing a .env.vault file at ${q}. Did you forget to build it?`),vq.configDotenv($);return vq._configVault($)}function Tt($,q){let _=Buffer.from(q.slice(-64),"hex"),K=Buffer.from($,"base64"),P=K.subarray(0,12),O=K.subarray(-16);K=K.subarray(12,-16);try{let Y=$t.createDecipheriv("aes-256-gcm",_,P);return Y.setAuthTag(O),`${Y.update(K)}${Y.final()}`}catch(Y){let z=Y instanceof RangeError,H=Y.message==="Invalid key length",T=Y.message==="Unsupported state or unable to authenticate data";if(z||H){let f=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw f.code="INVALID_DOTENV_KEY",f}else if(T){let f=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw f.code="DECRYPTION_FAILED",f}else throw Y}}function wt($,q,_={}){let K=Boolean(_&&_.debug),P=Boolean(_&&_.override),O={};if(typeof q!=="object"){let Y=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw Y.code="OBJECT_REQUIRED",Y}for(let Y of Object.keys(q))if(Object.prototype.hasOwnProperty.call($,Y)){if(P===!0)$[Y]=q[Y],O[Y]=q[Y];if(K)if(P===!0)Y1(`"${Y}" is already defined and WAS overwritten`);else Y1(`"${Y}" is already defined and was NOT overwritten`)}else $[Y]=q[Y],O[Y]=q[Y];return O}var vq={configDotenv:Jt,_configVault:Wt,_parseVault:jt,config:Ht,decrypt:Tt,parse:Yt,populate:wt};t9$.configDotenv=vq.configDotenv;t9$._configVault=vq._configVault;t9$._parseVault=vq._parseVault;t9$.config=vq.config;t9$.decrypt=vq.decrypt;t9$.parse=vq.parse;t9$.populate=vq.populate;C_.exports=vq});var uM=N$((f5$,RH)=>{var z6=String,yM=function(){return{isColorSupported:!1,reset:z6,bold:z6,dim:z6,italic:z6,underline:z6,inverse:z6,hidden:z6,strikethrough:z6,black:z6,red:z6,green:z6,yellow:z6,blue:z6,magenta:z6,cyan:z6,white:z6,gray:z6,bgBlack:z6,bgRed:z6,bgGreen:z6,bgYellow:z6,bgBlue:z6,bgMagenta:z6,bgCyan:z6,bgWhite:z6,blackBright:z6,redBright:z6,greenBright:z6,yellowBright:z6,blueBright:z6,magentaBright:z6,cyanBright:z6,whiteBright:z6,bgBlackBright:z6,bgRedBright:z6,bgGreenBright:z6,bgYellowBright:z6,bgBlueBright:z6,bgMagentaBright:z6,bgCyanBright:z6,bgWhiteBright:z6}};RH.exports=yM();RH.exports.createColors=yM});var FM=N$((a2$,UM)=>{UM.exports=lt;function lt($={}){let{ERR_PATHS_MUST_BE_STRINGS:q=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:_=(K)=>`fast-redact  Invalid path (${K})`}=$;return function({paths:P}){P.forEach((O)=>{if(typeof O!=="string")throw Error(q());try{if(//.test(O))throw Error();let Y=(O[0]==="["?"":".")+O.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(Y))throw Error();if(/\/\*/.test(Y))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${Y}
            if ([o${Y}].length !== 1) throw Error()`)()}catch(Y){throw Error(_(O))}})}}});var g2=N$((Q2$,aM)=>{aM.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var eM=N$((e2$,QM)=>{var rt=g2();QM.exports=ot;function ot({paths:$}){let q=[];var _=0;let K=$.reduce(function(P,O,Y){var z=O.match(rt).map((f)=>f.replace(/'|"|`/g,""));let H=O[0]==="[";z=z.map((f)=>{if(f[0]==="[")return f.substr(1,f.length-2);else return f});let T=z.indexOf("*");if(T>-1){let f=z.slice(0,T),w=f.join("."),k=z.slice(T+1,z.length),S=k.length>0;_++,q.push({before:f,beforeStr:w,after:k,nested:S})}else P[O]={path:z,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(O),leadingBracket:H};return P},{});return{wildcards:q,wcLen:_,secret:K}}});var $N=N$((s2$,sM)=>{var nt=g2();sM.exports=it;function it({secret:$,serialize:q,wcLen:_,strict:K,isCensorFct:P,censorFctTakesPath:O},Y){let z=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${Ft(K,q)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${Bt($,P,O)}
    this.compileRestore()
    ${tt(_>0,P,O)}
    this.secret = originalSecret
    ${Ut(q)}
  `).bind(Y);if(z.state=Y,q===!1)z.restore=(H)=>Y.restore(H);return z}function Bt($,q,_){return Object.keys($).map((K)=>{let{escPath:P,leadingBracket:O,path:Y}=$[K],z=O?1:0,H=O?"":".",T=[];var f;while((f=nt.exec(K))!==null){let[,N]=f,{index:h,input:E}=f;if(h>z)T.push(E.substring(0,h-(N?0:1)))}var w=T.map((N)=>`o${H}${N}`).join(" && ");if(w.length===0)w+=`o${H}${K} != null`;else w+=` && o${H}${K} != null`;let k=`
      switch (true) {
        ${T.reverse().map((N)=>`
          case o${H}${N} === censor:
            secret[${P}].circle = ${JSON.stringify(N)}
            break
        `).join(`
`)}
      }
    `,S=_?`val, ${JSON.stringify(Y)}`:"val";return`
      if (${w}) {
        const val = o${H}${K}
        if (val === censor) {
          secret[${P}].precensored = true
        } else {
          secret[${P}].val = val
          o${H}${K} = ${q?`censor(${S})`:"censor"}
          ${k}
        }
      }
    `}).join(`
`)}function tt($,q,_){return $===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${q}, ${_})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${q}, ${_})
      }
    }
  `:""}function Ut($){return $===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function Ft($,q){return $===!0?"throw Error('fast-redact: primitives cannot be redacted')":q===!1?"return o":"return this.serialize(o)"}});var aH=N$(($O$,KN)=>{KN.exports={groupRedact:Qt,groupRestore:at,nestedRedact:st,nestedRestore:et};function at({keys:$,values:q,target:_}){if(_==null||typeof _==="string")return;let K=$.length;for(var P=0;P<K;P++){let O=$[P];_[O]=q[P]}}function Qt($,q,_,K,P){let O=qN($,q);if(O==null||typeof O==="string")return{keys:null,values:null,target:O,flat:!0};let Y=Object.keys(O),z=Y.length,H=q.length,T=P?[...q]:void 0,f=Array(z);for(var w=0;w<z;w++){let k=Y[w];if(f[w]=O[k],P)T[H]=k,O[k]=_(O[k],T);else if(K)O[k]=_(O[k]);else O[k]=_}return{keys:Y,values:f,target:O,flat:!0}}function et($){for(let q=0;q<$.length;q++){let{target:_,path:K,value:P}=$[q],O=_;for(let Y=K.length-1;Y>0;Y--)O=O[K[Y]];O[K[0]]=P}}function st($,q,_,K,P,O,Y){let z=qN(q,_);if(z==null)return;let H=Object.keys(z),T=H.length;for(var f=0;f<T;f++){let w=H[f];$U($,z,w,_,K,P,O,Y)}return $}function FH($,q){return $!==void 0&&$!==null?"hasOwn"in Object?Object.hasOwn($,q):Object.prototype.hasOwnProperty.call($,q):!1}function $U($,q,_,K,P,O,Y,z){let H=P.length,T=H-1,f=_;var w=-1,k,S,N,h=null,E=null,D,I,L=!1,g=0,y=0,c=qU();if(N=k=q[_],typeof k!=="object")return;while(k!=null&&++w<H){if(y+=1,_=P[w],h=N,_!=="*"&&!E&&!(typeof k==="object"&&(_ in k)))break;if(_==="*"){if(E==="*")L=!0;if(E=_,w!==T)continue}if(E){let Q=Object.keys(k);for(var o=0;o<Q.length;o++){let U=Q[o];if(I=k[U],D=_==="*",L)c=R_(c,U,y),g=w,N=_N(I,g-1,_,K,P,O,Y,z,f,k,S,N,D,U,w,T,c,$,q[f],y+1);else if(D||typeof I==="object"&&I!==null&&_ in I){if(D)N=I;else N=I[_];if(S=w!==T?N:Y?z?O(N,[...K,f,...P]):O(N):O,D){let p=f1(R_(c,U,y),N,q[f]);$.push(p),k[U]=S}else if(I[_]===S);else if(S===void 0&&O!==void 0||FH(I,_)&&S===N)c=R_(c,U,y);else{c=R_(c,U,y);let p=f1(R_(c,_,y+1),N,q[f]);$.push(p),I[_]=S}}}E=null}else{if(N=k[_],c=R_(c,_,y),S=w!==T?N:Y?z?O(N,[...K,f,...P]):O(N):O,FH(k,_)&&S===N||S===void 0&&O!==void 0);else{let Q=f1(c,N,q[f]);$.push(Q),k[_]=S}k=k[_]}if(typeof k!=="object")break}}function qN($,q){var _=-1,K=q.length,P=$;while(P!=null&&++_<K)P=P[q[_]];return P}function _N($,q,_,K,P,O,Y,z,H,T,f,w,k,S,N,h,E,D,I,L){if(q===0){if(k||typeof $==="object"&&$!==null&&_ in $){if(k)w=$;else w=$[_];if(f=N!==h?w:Y?z?O(w,[...K,H,...P]):O(w):O,k){let g=f1(E,w,I);D.push(g),T[S]=f}else if($[_]===f);else if(f===void 0&&O!==void 0||FH($,_)&&f===w);else{let g=f1(R_(E,_,L+1),w,I);D.push(g),$[_]=f}}}for(let g in $)if(typeof $[g]==="object")E=R_(E,g,L),_N($[g],q-1,_,K,P,O,Y,z,H,T,f,w,k,S,N,h,E,D,I,L+1)}function qU(){return{parent:null,key:null,children:[],depth:0}}function R_($,q,_){if($.depth===_)return R_($.parent,q,_);var K={parent:$,key:q,depth:_,children:[]};return $.children.push(K),K}function f1($,q,_){let K=$,P=[];do P.push(K.key),K=K.parent;while(K.parent!=null);return{path:P,value:q,target:_}}});var ON=N$((qO$,PN)=>{var{groupRestore:_U,nestedRestore:KU}=aH();PN.exports=PU;function PU(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:q,wcLen:_}=this,K=Object.keys(q),P=OU(q,K),O=_>0,Y=O?{secret:q,groupRestore:_U,nestedRestore:KU}:{secret:q};this.restore=Function("o",YU(P,K,O)).bind(Y),this.restore.state=Y}}function OU($,q){return q.map((_)=>{let{circle:K,escPath:P,leadingBracket:O}=$[_],z=K?`o.${K} = secret[${P}].val`:`o${O?"":"."}${_} = secret[${P}].val`,H=`secret[${P}].val = undefined`;return`
      if (secret[${P}].val !== undefined) {
        try { ${z} } catch (e) {}
        ${H}
      }
    `}).join("")}function YU($,q,_){return`
    const secret = this.secret
    ${_===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${q.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${$}
    return o
  `}});var jN=N$((_O$,YN)=>{YN.exports=jU;function jU($){let{secret:q,censor:_,compileRestore:K,serialize:P,groupRedact:O,nestedRedact:Y,wildcards:z,wcLen:H}=$,T=[{secret:q,censor:_,compileRestore:K}];if(P!==!1)T.push({serialize:P});if(H>0)T.push({groupRedact:O,nestedRedact:Y,wildcards:z,wcLen:H});return Object.assign(...T)}});var WN=N$((KO$,zN)=>{var vN=FM(),vU=eM(),zU=$N(),WU=ON(),{groupRedact:JU,nestedRedact:HU}=aH(),TU=jN(),wU=g2(),fU=vN(),QH=($)=>$;QH.restore=QH;var ZU="[REDACTED]";eH.rx=wU;eH.validator=vN;zN.exports=eH;function eH($={}){let q=Array.from(new Set($.paths||[])),_="serialize"in $?$.serialize===!1?$.serialize:typeof $.serialize==="function"?$.serialize:JSON.stringify:JSON.stringify,K=$.remove;if(K===!0&&_!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");let P=K===!0?void 0:("censor"in $)?$.censor:ZU,O=typeof P==="function",Y=O&&P.length>1;if(q.length===0)return _||QH;fU({paths:q,serialize:_,censor:P});let{wildcards:z,wcLen:H,secret:T}=vU({paths:q,censor:P}),f=WU(),w="strict"in $?$.strict:!0;return zU({secret:T,wcLen:H,serialize:_,strict:w,isCensorFct:O,censorFctTakesPath:Y},TU({secret:T,censor:P,compileRestore:f,serialize:_,groupRedact:JU,nestedRedact:HU,wildcards:z,wcLen:H}))}});function V1($){if(!$||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($))throw Error(`Invalid UUID format: ${$}`);return $}var YP;((O)=>{O.IMAGE="image";O.VIDEO="video";O.AUDIO="audio";O.DOCUMENT="document";O.LINK="link"})(YP||={});var sN;((O)=>{O.DOCUMENT="document";O.FRAGMENT="fragment";O.MESSAGE="message";O.DESCRIPTION="description";O.CUSTOM="custom"})(sN||={});var $C;((K)=>{K.OWNER="OWNER";K.ADMIN="ADMIN";K.NONE="NONE"})($C||={});var jP;((f)=>{f.SELF="SELF";f.DM="DM";f.GROUP="GROUP";f.VOICE_DM="VOICE_DM";f.VOICE_GROUP="VOICE_GROUP";f.FEED="FEED";f.THREAD="THREAD";f.WORLD="WORLD";f.FORUM="FORUM";f.API="API"})(jP||={});var qC;((_)=>{_.ACTIVE="active";_.INACTIVE="inactive"})(qC||={});var yF={TRANSCRIPTION:"transcription",VIDEO:"video",BROWSER:"browser",PDF:"pdf",REMOTE_FILES:"aws_s3",WEB_SEARCH:"web_search",EMAIL:"email",TEE:"tee",TASK:"task",WALLET:"wallet",LP_POOL:"lp_pool",TOKEN_DATA:"token_data",MESSAGE_SERVICE:"message_service",MESSAGE:"message",POST:"post",UNKNOWN:"unknown"};class i2{runtime;constructor($){if($)this.runtime=$}static serviceType;config;static async start($){throw Error("Not implemented")}static async stop($){throw Error("Not implemented")}}function uF($,q){return $.getService(q)}function xF($,q="UNKNOWN_ERROR"){if($ instanceof Error)return{code:q,message:$.message,cause:$};return{code:q,message:String($)}}var M6={SMALL:"TEXT_SMALL",MEDIUM:"TEXT_LARGE",LARGE:"TEXT_LARGE",TEXT_SMALL:"TEXT_SMALL",TEXT_LARGE:"TEXT_LARGE",TEXT_EMBEDDING:"TEXT_EMBEDDING",TEXT_TOKENIZER_ENCODE:"TEXT_TOKENIZER_ENCODE",TEXT_TOKENIZER_DECODE:"TEXT_TOKENIZER_DECODE",TEXT_REASONING_SMALL:"REASONING_SMALL",TEXT_REASONING_LARGE:"REASONING_LARGE",TEXT_COMPLETION:"TEXT_COMPLETION",IMAGE:"IMAGE",IMAGE_DESCRIPTION:"IMAGE_DESCRIPTION",TRANSCRIPTION:"TRANSCRIPTION",TEXT_TO_SPEECH:"TEXT_TO_SPEECH",AUDIO:"AUDIO",VIDEO:"VIDEO",OBJECT_SMALL:"OBJECT_SMALL",OBJECT_LARGE:"OBJECT_LARGE"},vP={DEFAULT_MAX_TOKENS:"DEFAULT_MAX_TOKENS",DEFAULT_TEMPERATURE:"DEFAULT_TEMPERATURE",DEFAULT_TOP_P:"DEFAULT_TOP_P",DEFAULT_TOP_K:"DEFAULT_TOP_K",DEFAULT_MIN_P:"DEFAULT_MIN_P",DEFAULT_SEED:"DEFAULT_SEED",DEFAULT_REPETITION_PENALTY:"DEFAULT_REPETITION_PENALTY",DEFAULT_FREQUENCY_PENALTY:"DEFAULT_FREQUENCY_PENALTY",DEFAULT_PRESENCE_PENALTY:"DEFAULT_PRESENCE_PENALTY",TEXT_SMALL_MAX_TOKENS:"TEXT_SMALL_MAX_TOKENS",TEXT_SMALL_TEMPERATURE:"TEXT_SMALL_TEMPERATURE",TEXT_SMALL_TOP_P:"TEXT_SMALL_TOP_P",TEXT_SMALL_TOP_K:"TEXT_SMALL_TOP_K",TEXT_SMALL_MIN_P:"TEXT_SMALL_MIN_P",TEXT_SMALL_SEED:"TEXT_SMALL_SEED",TEXT_SMALL_REPETITION_PENALTY:"TEXT_SMALL_REPETITION_PENALTY",TEXT_SMALL_FREQUENCY_PENALTY:"TEXT_SMALL_FREQUENCY_PENALTY",TEXT_SMALL_PRESENCE_PENALTY:"TEXT_SMALL_PRESENCE_PENALTY",TEXT_LARGE_MAX_TOKENS:"TEXT_LARGE_MAX_TOKENS",TEXT_LARGE_TEMPERATURE:"TEXT_LARGE_TEMPERATURE",TEXT_LARGE_TOP_P:"TEXT_LARGE_TOP_P",TEXT_LARGE_TOP_K:"TEXT_LARGE_TOP_K",TEXT_LARGE_MIN_P:"TEXT_LARGE_MIN_P",TEXT_LARGE_SEED:"TEXT_LARGE_SEED",TEXT_LARGE_REPETITION_PENALTY:"TEXT_LARGE_REPETITION_PENALTY",TEXT_LARGE_FREQUENCY_PENALTY:"TEXT_LARGE_FREQUENCY_PENALTY",TEXT_LARGE_PRESENCE_PENALTY:"TEXT_LARGE_PRESENCE_PENALTY",OBJECT_SMALL_MAX_TOKENS:"OBJECT_SMALL_MAX_TOKENS",OBJECT_SMALL_TEMPERATURE:"OBJECT_SMALL_TEMPERATURE",OBJECT_SMALL_TOP_P:"OBJECT_SMALL_TOP_P",OBJECT_SMALL_TOP_K:"OBJECT_SMALL_TOP_K",OBJECT_SMALL_MIN_P:"OBJECT_SMALL_MIN_P",OBJECT_SMALL_SEED:"OBJECT_SMALL_SEED",OBJECT_SMALL_REPETITION_PENALTY:"OBJECT_SMALL_REPETITION_PENALTY",OBJECT_SMALL_FREQUENCY_PENALTY:"OBJECT_SMALL_FREQUENCY_PENALTY",OBJECT_SMALL_PRESENCE_PENALTY:"OBJECT_SMALL_PRESENCE_PENALTY",OBJECT_LARGE_MAX_TOKENS:"OBJECT_LARGE_MAX_TOKENS",OBJECT_LARGE_TEMPERATURE:"OBJECT_LARGE_TEMPERATURE",OBJECT_LARGE_TOP_P:"OBJECT_LARGE_TOP_P",OBJECT_LARGE_TOP_K:"OBJECT_LARGE_TOP_K",OBJECT_LARGE_MIN_P:"OBJECT_LARGE_MIN_P",OBJECT_LARGE_SEED:"OBJECT_LARGE_SEED",OBJECT_LARGE_REPETITION_PENALTY:"OBJECT_LARGE_REPETITION_PENALTY",OBJECT_LARGE_FREQUENCY_PENALTY:"OBJECT_LARGE_FREQUENCY_PENALTY",OBJECT_LARGE_PRESENCE_PENALTY:"OBJECT_LARGE_PRESENCE_PENALTY",TEXT_REASONING_SMALL_MAX_TOKENS:"TEXT_REASONING_SMALL_MAX_TOKENS",TEXT_REASONING_SMALL_TEMPERATURE:"TEXT_REASONING_SMALL_TEMPERATURE",TEXT_REASONING_SMALL_TOP_P:"TEXT_REASONING_SMALL_TOP_P",TEXT_REASONING_SMALL_TOP_K:"TEXT_REASONING_SMALL_TOP_K",TEXT_REASONING_SMALL_MIN_P:"TEXT_REASONING_SMALL_MIN_P",TEXT_REASONING_SMALL_SEED:"TEXT_REASONING_SMALL_SEED",TEXT_REASONING_SMALL_REPETITION_PENALTY:"TEXT_REASONING_SMALL_REPETITION_PENALTY",TEXT_REASONING_SMALL_FREQUENCY_PENALTY:"TEXT_REASONING_SMALL_FREQUENCY_PENALTY",TEXT_REASONING_SMALL_PRESENCE_PENALTY:"TEXT_REASONING_SMALL_PRESENCE_PENALTY",TEXT_REASONING_LARGE_MAX_TOKENS:"TEXT_REASONING_LARGE_MAX_TOKENS",TEXT_REASONING_LARGE_TEMPERATURE:"TEXT_REASONING_LARGE_TEMPERATURE",TEXT_REASONING_LARGE_TOP_P:"TEXT_REASONING_LARGE_TOP_P",TEXT_REASONING_LARGE_TOP_K:"TEXT_REASONING_LARGE_TOP_K",TEXT_REASONING_LARGE_MIN_P:"TEXT_REASONING_LARGE_MIN_P",TEXT_REASONING_LARGE_SEED:"TEXT_REASONING_LARGE_SEED",TEXT_REASONING_LARGE_REPETITION_PENALTY:"TEXT_REASONING_LARGE_REPETITION_PENALTY",TEXT_REASONING_LARGE_FREQUENCY_PENALTY:"TEXT_REASONING_LARGE_FREQUENCY_PENALTY",TEXT_REASONING_LARGE_PRESENCE_PENALTY:"TEXT_REASONING_LARGE_PRESENCE_PENALTY",TEXT_COMPLETION_MAX_TOKENS:"TEXT_COMPLETION_MAX_TOKENS",TEXT_COMPLETION_TEMPERATURE:"TEXT_COMPLETION_TEMPERATURE",TEXT_COMPLETION_TOP_P:"TEXT_COMPLETION_TOP_P",TEXT_COMPLETION_TOP_K:"TEXT_COMPLETION_TOP_K",TEXT_COMPLETION_MIN_P:"TEXT_COMPLETION_MIN_P",TEXT_COMPLETION_SEED:"TEXT_COMPLETION_SEED",TEXT_COMPLETION_REPETITION_PENALTY:"TEXT_COMPLETION_REPETITION_PENALTY",TEXT_COMPLETION_FREQUENCY_PENALTY:"TEXT_COMPLETION_FREQUENCY_PENALTY",TEXT_COMPLETION_PRESENCE_PENALTY:"TEXT_COMPLETION_PRESENCE_PENALTY",MODEL_MAX_TOKEN:"MODEL_MAX_TOKEN",MODEL_TEMPERATURE:"MODEL_TEMPERATURE",MODEL_FREQ_PENALTY:"MODEL_FREQ_PENALTY",MODEL_PRESENCE_PENALTY:"MODEL_PRESENCE_PENALTY"};var mF={SMALL:384,MEDIUM:512,LARGE:768,XL:1024,XXL:1536,XXXL:3072};var B2;((j)=>{j.WORLD_JOINED="WORLD_JOINED";j.WORLD_CONNECTED="WORLD_CONNECTED";j.WORLD_LEFT="WORLD_LEFT";j.ENTITY_JOINED="ENTITY_JOINED";j.ENTITY_LEFT="ENTITY_LEFT";j.ENTITY_UPDATED="ENTITY_UPDATED";j.ROOM_JOINED="ROOM_JOINED";j.ROOM_LEFT="ROOM_LEFT";j.MESSAGE_RECEIVED="MESSAGE_RECEIVED";j.MESSAGE_SENT="MESSAGE_SENT";j.MESSAGE_DELETED="MESSAGE_DELETED";j.CHANNEL_CLEARED="CHANNEL_CLEARED";j.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED";j.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT";j.REACTION_RECEIVED="REACTION_RECEIVED";j.POST_GENERATED="POST_GENERATED";j.INTERACTION_RECEIVED="INTERACTION_RECEIVED";j.RUN_STARTED="RUN_STARTED";j.RUN_ENDED="RUN_ENDED";j.RUN_TIMEOUT="RUN_TIMEOUT";j.ACTION_STARTED="ACTION_STARTED";j.ACTION_COMPLETED="ACTION_COMPLETED";j.EVALUATOR_STARTED="EVALUATOR_STARTED";j.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED";j.MODEL_USED="MODEL_USED";j.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED";j.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED";j.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(B2||={});var _C;((K)=>{K.DISCORD="DISCORD";K.TELEGRAM="TELEGRAM";K.TWITTER="TWITTER"})(_C||={});var KC;((P)=>{P.OFF="OFF";P.LOCAL="LOCAL";P.DOCKER="DOCKER";P.PRODUCTION="PRODUCTION"})(KC||={});var PC;((q)=>q.TDX_DSTACK="tdx_dstack")(PC||={});var OC;((Y)=>{Y[Y.ROOM_JOINING=1]="ROOM_JOINING";Y[Y.SEND_MESSAGE=2]="SEND_MESSAGE";Y[Y.MESSAGE=3]="MESSAGE";Y[Y.ACK=4]="ACK";Y[Y.THINKING=5]="THINKING";Y[Y.CONTROL=6]="CONTROL"})(OC||={});var YC=Object.defineProperty,f6=($,q)=>{for(var _ in q)YC($,_,{get:q[_],enumerable:!0})};var S1=class{pageContent;metadata;id;constructor($){this.pageContent=$.pageContent!==void 0?$.pageContent.toString():"",this.metadata=$.metadata??{},this.id=$.id}};var CT=N8(XT(),1),TC=N8(NT(),1);function ET($,q){return q?.[$]||CT.default($)}function hT($,q,_){let K={};for(let P in $)if(Object.hasOwn($,P))K[q(P,_)]=$[P];return K}var wC={};f6(wC,{Serializable:()=>L_,get_lc_unique_name:()=>M1});function RT($){return Array.isArray($)?[...$]:{...$}}function fC($,q){let _=RT($);for(let[K,P]of Object.entries(q)){let[O,...Y]=K.split(".").reverse(),z=_;for(let H of Y.reverse()){if(z[H]===void 0)break;z[H]=RT(z[H]),z=z[H]}if(z[O]!==void 0)z[O]={lc:1,type:"secret",id:[P]}}return _}function M1($){let q=Object.getPrototypeOf($);if(typeof $.lc_name==="function"&&(typeof q.lc_name!=="function"||$.lc_name()!==q.lc_name()))return $.lc_name();else return $.name}var L_=class ${lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,M1(this.constructor)]}get lc_secrets(){return}get lc_attributes(){return}get lc_aliases(){return}get lc_serializable_keys(){return}constructor(q,..._){if(this.lc_serializable_keys!==void 0)this.lc_kwargs=Object.fromEntries(Object.entries(q||{}).filter(([K])=>this.lc_serializable_keys?.includes(K)));else this.lc_kwargs=q??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof $||typeof this.lc_kwargs!=="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let q={},_={},K=Object.keys(this.lc_kwargs).reduce((P,O)=>{return P[O]=O in this?this[O]:this.lc_kwargs[O],P},{});for(let P=Object.getPrototypeOf(this);P;P=Object.getPrototypeOf(P))Object.assign(q,Reflect.get(P,"lc_aliases",this)),Object.assign(_,Reflect.get(P,"lc_secrets",this)),Object.assign(K,Reflect.get(P,"lc_attributes",this));return Object.keys(_).forEach((P)=>{let O=this,Y=K,[z,...H]=P.split(".").reverse();for(let T of H.reverse()){if(!(T in O)||O[T]===void 0)return;if(!(T in Y)||Y[T]===void 0){if(typeof O[T]==="object"&&O[T]!=null)Y[T]={};else if(Array.isArray(O[T]))Y[T]=[]}O=O[T],Y=Y[T]}if(z in O&&O[z]!==void 0)Y[z]=Y[z]||O[z]}),{lc:1,type:"constructor",id:this.lc_id,kwargs:hT(Object.keys(_).length?fC(K,_):K,ET,q)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function U2($){return!!($&&typeof $==="object"&&("type"in $)&&$.type==="tool_call")}var IT=class extends Error{output;constructor($,q){super($);this.output=q}};var DT=Symbol.for("ls:tracing_async_local_storage"),g_=Symbol.for("lc:context_variables"),LT=($)=>{globalThis[DT]=$},b_=()=>{return globalThis[DT]};function rK($){return typeof $==="object"&&$!==null&&"type"in $&&typeof $.type==="string"&&"source_type"in $&&($.source_type==="url"||$.source_type==="base64"||$.source_type==="text"||$.source_type==="id")}function gT($){return rK($)&&$.source_type==="url"&&"url"in $&&typeof $.url==="string"}function bT($){return rK($)&&$.source_type==="base64"&&"data"in $&&typeof $.data==="string"}function yT($){return rK($)&&$.source_type==="id"&&"id"in $&&typeof $.id==="string"}function F2({dataUrl:$,asTypedArray:q=!1}){let _=$.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/),K;if(_){K=_[1].toLowerCase();let P=q?Uint8Array.from(atob(_[2]),(O)=>O.charCodeAt(0)):_[2];return{mime_type:K,data:P}}return}function e$($,q){return K6($)&&$.type===q}function K6($){return typeof $==="object"&&$!==null}function nq($){return Array.isArray($)}function U$($){return typeof $==="string"}function _8($){return typeof $==="number"}function N1($){return $ instanceof Uint8Array}function a2($){try{return JSON.parse($)}catch{return}}var P_=($)=>$();function ZC($){if($.type==="char_location"&&U$($.document_title)&&_8($.start_char_index)&&_8($.end_char_index)&&U$($.cited_text)){let{document_title:q,start_char_index:_,end_char_index:K,cited_text:P,...O}=$;return{...O,type:"citation",source:"char",title:q??void 0,startIndex:_,endIndex:K,citedText:P}}if($.type==="page_location"&&U$($.document_title)&&_8($.start_page_number)&&_8($.end_page_number)&&U$($.cited_text)){let{document_title:q,start_page_number:_,end_page_number:K,cited_text:P,...O}=$;return{...O,type:"citation",source:"page",title:q??void 0,startIndex:_,endIndex:K,citedText:P}}if($.type==="content_block_location"&&U$($.document_title)&&_8($.start_block_index)&&_8($.end_block_index)&&U$($.cited_text)){let{document_title:q,start_block_index:_,end_block_index:K,cited_text:P,...O}=$;return{...O,type:"citation",source:"block",title:q??void 0,startIndex:_,endIndex:K,citedText:P}}if($.type==="web_search_result_location"&&U$($.url)&&U$($.title)&&U$($.encrypted_index)&&U$($.cited_text)){let{url:q,title:_,encrypted_index:K,cited_text:P,...O}=$;return{...O,type:"citation",source:"url",url:q,title:_,startIndex:Number(K),endIndex:Number(K),citedText:P}}if($.type==="search_result_location"&&U$($.source)&&U$($.title)&&_8($.start_block_index)&&_8($.end_block_index)&&U$($.cited_text)){let{source:q,title:_,start_block_index:K,end_block_index:P,cited_text:O,...Y}=$;return{...Y,type:"citation",source:"search",url:q,title:_??void 0,startIndex:K,endIndex:P,citedText:O}}return}function xT($){if(e$($,"document")&&K6($.source)&&"type"in $.source){if($.source.type==="base64"&&U$($.source.media_type)&&U$($.source.data))return{type:"file",mimeType:$.source.media_type,data:$.source.data};else if($.source.type==="url"&&U$($.source.url))return{type:"file",url:$.source.url};else if($.source.type==="file"&&U$($.source.file_id))return{type:"file",fileId:$.source.file_id};else if($.source.type==="text"&&U$($.source.data))return{type:"file",mimeType:String($.source.media_type??"text/plain"),data:$.source.data}}else if(e$($,"image")&&K6($.source)&&"type"in $.source){if($.source.type==="base64"&&U$($.source.media_type)&&U$($.source.data))return{type:"image",mimeType:$.source.media_type,data:$.source.data};else if($.source.type==="url"&&U$($.source.url))return{type:"image",url:$.source.url};else if($.source.type==="file"&&U$($.source.file_id))return{type:"image",fileId:$.source.file_id}}return}function pT($){function*q(){for(let _ of $){let K=xT(_);if(K)yield K;else yield _}}return Array.from(q())}function uT($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let K of _){if(e$(K,"text")&&U$(K.text)){let{text:P,citations:O,...Y}=K;if(nq(O)&&O.length){let z=O.reduce((H,T)=>{let f=ZC(T);if(f)return[...H,f];return H},[]);yield{...Y,type:"text",text:P,annotations:z};continue}else{yield{...Y,type:"text",text:P};continue}}else if(e$(K,"thinking")&&U$(K.thinking)){let{thinking:P,signature:O,...Y}=K;yield{...Y,type:"reasoning",reasoning:P,signature:O};continue}else if(e$(K,"redacted_thinking")){yield{type:"non_standard",value:K};continue}else if(e$(K,"tool_use")&&U$(K.name)&&U$(K.id)){yield{type:"tool_call",id:K.id,name:K.name,args:K.input};continue}else if(e$(K,"input_json_delta")){if(XC($)&&$.tool_call_chunks?.length){let P=$.tool_call_chunks[0];yield{type:"tool_call_chunk",id:P.id,name:P.name,args:P.args,index:P.index};continue}}else if(e$(K,"server_tool_use")&&U$(K.name)&&U$(K.id)){let{name:P,id:O}=K;if(P==="web_search"){let Y=P_(()=>{if(typeof K.input==="string")return K.input;else if(K6(K.input)&&U$(K.input.query))return K.input.query;else if(U$(K.partial_json)){let z=a2(K.partial_json);if(z?.query)return z.query}return""});yield{id:O,type:"server_tool_call",name:"web_search",args:{query:Y}};continue}else if(K.name==="code_execution"){let Y=P_(()=>{if(typeof K.input==="string")return K.input;else if(K6(K.input)&&U$(K.input.code))return K.input.code;else if(U$(K.partial_json)){let z=a2(K.partial_json);if(z?.code)return z.code}return""});yield{id:O,type:"server_tool_call",name:"code_execution",args:{code:Y}};continue}}else if(e$(K,"web_search_tool_result")&&U$(K.tool_use_id)&&nq(K.content)){let{content:P,tool_use_id:O}=K,Y=P.reduce((z,H)=>{if(e$(H,"web_search_result"))return[...z,H.url];return z},[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:O,status:"success",output:{urls:Y}};continue}else if(e$(K,"code_execution_tool_result")&&U$(K.tool_use_id)&&K6(K.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:K.tool_use_id,status:"success",output:K.content};continue}else if(e$(K,"mcp_tool_use")){yield{id:K.id,type:"server_tool_call",name:"mcp_tool_use",args:K.input};continue}else if(e$(K,"mcp_tool_result")&&U$(K.tool_use_id)&&K6(K.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:K.tool_use_id,status:"success",output:K.content};continue}else if(e$(K,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:K.input};continue}else if(e$(K,"search_result")){yield{id:K.id,type:"non_standard",value:K};continue}else if(e$(K,"tool_result")){yield{id:K.id,type:"non_standard",value:K};continue}else{let P=xT(K);if(P){yield P;continue}}yield{type:"non_standard",value:K}}}return Array.from(q())}var cT={translateContent:uT,translateContentChunk:uT};function XC($){return typeof $?._getType==="function"&&typeof $.concat==="function"&&$._getType()==="ai"}function AC($){if(gT($))return{type:$.type,mimeType:$.mime_type,url:$.url,metadata:$.metadata};if(bT($))return{type:$.type,mimeType:$.mime_type??"application/octet-stream",data:$.data,metadata:$.metadata};if(yT($))return{type:$.type,mimeType:$.mime_type,fileId:$.id,metadata:$.metadata};return $}function mT($){return $.map(AC)}function dT($){if(e$($,"image_url")&&K6($.image_url))return!0;if(e$($,"input_audio")&&K6($.input_audio))return!0;if(e$($,"file")&&K6($.file))return!0;return!1}function lT($){if(e$($,"image_url")&&K6($.image_url)&&U$($.image_url.url)){let q=F2({dataUrl:$.image_url.url});if(q)return{type:"image",mimeType:q.mime_type,data:q.data};else return{type:"image",url:$.image_url.url}}else if(e$($,"input_audio")&&K6($.input_audio)&&U$($.input_audio.data)&&U$($.input_audio.format))return{type:"audio",data:$.input_audio.data,mimeType:`audio/${$.input_audio.format}`};else if(e$($,"file")&&K6($.file)&&U$($.file.data)){let q=F2({dataUrl:$.file.data});if(q)return{type:"file",data:q.data,mimeType:q.mime_type};else if(U$($.file.file_id))return{type:"file",fileId:$.file.file_id}}return $}function kC($){let q=[];if(typeof $.content==="string")q.push({type:"text",text:$.content});else q.push(...C1($.content));for(let _ of $.tool_calls??[])q.push({type:"tool_call",id:_.id,name:_.name,args:_.args});return q}function GC($){let q=[];if(typeof $.content==="string")q.push({type:"text",text:$.content});else q.push(...C1($.content));for(let _ of $.tool_calls??[])q.push({type:"tool_call",id:_.id,name:_.name,args:_.args});return q}function C1($){let q=[];for(let _ of $)if(dT(_))q.push(lT(_));else q.push(_);return q}function VC($){if($.type==="url_citation"){let{url:q,title:_,start_index:K,end_index:P}=$;return{type:"citation",url:q,title:_,startIndex:K,endIndex:P}}if($.type==="file_citation"){let{file_id:q,filename:_,index:K}=$;return{type:"citation",title:_,startIndex:K,endIndex:K,fileId:q}}return $}function rT($){function*q(){if(K6($.additional_kwargs?.reasoning)&&nq($.additional_kwargs.reasoning.summary))yield{type:"reasoning",reasoning:$.additional_kwargs.reasoning.summary.reduce((P,O)=>{if(K6(O)&&U$(O.text))return`${P}${O.text}`;return P},"")};let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let K of _)if(e$(K,"text")){let{text:P,annotations:O,...Y}=K;if(Array.isArray(O))yield{...Y,type:"text",text:String(P),annotations:O.map(VC)};else yield{...Y,type:"text",text:String(P)}}for(let K of $.tool_calls??[])yield{type:"tool_call",id:K.id,name:K.name,args:K.args};if(K6($.additional_kwargs)&&nq($.additional_kwargs.tool_outputs))for(let K of $.additional_kwargs.tool_outputs){if(e$(K,"web_search_call")){yield{id:K.id,type:"server_tool_call",name:"web_search",args:{query:K.query}};continue}else if(e$(K,"file_search_call")){yield{id:K.id,type:"server_tool_call",name:"file_search",args:{query:K.query}};continue}else if(e$(K,"computer_call")){yield{type:"non_standard",value:K};continue}else if(e$(K,"code_interpreter_call")){if(U$(K.code))yield{id:K.id,type:"server_tool_call",name:"code_interpreter",args:{code:K.code}};if(nq(K.outputs)){let P=P_(()=>{if(K.status==="in_progress")return;if(K.status==="completed")return 0;if(K.status==="incomplete")return 127;if(K.status==="interpreting")return;if(K.status==="failed")return 1;return});for(let O of K.outputs)if(e$(O,"logs")){yield{type:"server_tool_call_result",toolCallId:K.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:P??0,stderr:[0,void 0].includes(P)?void 0:String(O.logs),stdout:[0,void 0].includes(P)?String(O.logs):void 0}};continue}}continue}else if(e$(K,"mcp_call")){yield{id:K.id,type:"server_tool_call",name:"mcp_call",args:K.input};continue}else if(e$(K,"mcp_list_tools")){yield{id:K.id,type:"server_tool_call",name:"mcp_list_tools",args:K.input};continue}else if(e$(K,"mcp_approval_request")){yield{type:"non_standard",value:K};continue}else if(e$(K,"image_generation_call")){yield{type:"non_standard",value:K};continue}if(K6(K))yield{type:"non_standard",value:K}}}return Array.from(q())}function SC($){function*q(){yield*rT($);for(let _ of $.tool_call_chunks??[])yield{type:"tool_call_chunk",id:_.id,name:_.name,args:_.args}}return Array.from(q())}var oT={translateContent:($)=>{if(typeof $.content==="string")return kC($);return rT($)},translateContentChunk:($)=>{if(typeof $.content==="string")return GC($);return SC($)}};function nT($){return typeof $==="object"&&$!==null&&"type"in $&&"content"in $&&(typeof $.content==="string"||Array.isArray($.content))}function iT($,q="pretty"){if(q==="pretty")return MC($);return JSON.stringify($)}function MC($){let q=[],_=` ${$.type.charAt(0).toUpperCase()+$.type.slice(1)} Message `,K=Math.floor((80-_.length)/2),P="=".repeat(K),O=_.length%2===0?P:`${P}=`;if(q.push(`${P}${_}${O}`),$.type==="ai"){let Y=$;if(Y.tool_calls&&Y.tool_calls.length>0){q.push("Tool Calls:");for(let z of Y.tool_calls){q.push(`  ${z.name} (${z.id})`),q.push(` Call ID: ${z.id}`),q.push("  Args:");for(let[H,T]of Object.entries(z.args))q.push(`    ${H}: ${T}`)}}}if($.type==="tool"){let Y=$;if(Y.name)q.push(`Name: ${Y.name}`)}if(typeof $.content==="string"&&$.content.trim()){if(q.length>1)q.push("");q.push($.content)}return q.join(`
`)}var Q2=Symbol.for("langchain.message");function y_($,q){if(typeof $==="string"){if($==="")return q;if(typeof q==="string")return $+q;else if(Array.isArray(q)&&q.length===0)return $;else if(Array.isArray(q)&&q.some((_)=>rK(_)))return[{type:"text",source_type:"text",text:$},...q];else return[{type:"text",text:$},...q]}else if(Array.isArray(q))return zP($,q)??[...$,...q];else if(q==="")return $;else if(Array.isArray($)&&$.some((_)=>rK(_)))return[...$,{type:"file",source_type:"text",text:q}];else return[...$,{type:"text",text:q}]}function BT($,q){if($==="error"||q==="error")return"error";return"success"}function NC($,q){function _(K,P){if(typeof K!=="object"||K===null||K===void 0)return K;if(P>=q){if(Array.isArray(K))return"[Array]";return"[Object]"}if(Array.isArray(K))return K.map((Y)=>_(Y,P+1));let O={};for(let Y of Object.keys(K))O[Y]=_(K[Y],P+1);return O}return JSON.stringify(_($,0),null,2)}var O_=class extends L_{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[Q2]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor($){let q=typeof $==="string"||Array.isArray($)?{content:$}:$;if(!q.additional_kwargs)q.additional_kwargs={};if(!q.response_metadata)q.response_metadata={};super(q);if(this.name=q.name,q.content===void 0&&q.contentBlocks!==void 0)this.content=q.contentBlocks,this.response_metadata={output_version:"v1",...q.response_metadata};else if(q.content!==void 0)this.content=q.content??[],this.response_metadata=q.response_metadata;else this.content=[],this.response_metadata=q.response_metadata;this.additional_kwargs=q.additional_kwargs,this.id=q.id}get text(){if(typeof this.content==="string")return this.content;if(!Array.isArray(this.content))return"";return this.content.map(($)=>{if(typeof $==="string")return $;if($.type==="text")return $.text;return""}).join("")}get contentBlocks(){let $=typeof this.content==="string"?[{type:"text",text:this.content}]:this.content;return[mT,C1,pT].reduce((K,P)=>P(K),$)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance($){return typeof $==="object"&&$!==null&&Q2 in $&&$[Q2]===!0&&nT($)}_updateId($){this.id=$,this.lc_kwargs.id=$}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")]($){if($===null)return this;let q=NC(this._printableFields,Math.max(4,$));return`${this.constructor.lc_name()} ${q}`}toFormattedString($="pretty"){return iT(this,$)}};function iq($={},q={}){let _={...$};for(let[K,P]of Object.entries(q))if(_[K]==null)_[K]=P;else if(P==null)continue;else if(typeof _[K]!==typeof P||Array.isArray(_[K])!==Array.isArray(P))throw Error(`field[${K}] already exists in the message chunk, but with a different type.`);else if(typeof _[K]==="string")if(K==="type")continue;else if(["id","name","output_version","model_provider"].includes(K)){if(P)_[K]=P}else _[K]+=P;else if(typeof _[K]==="object"&&!Array.isArray(_[K]))_[K]=iq(_[K],P);else if(Array.isArray(_[K]))_[K]=zP(_[K],P);else if(_[K]===P)continue;else console.warn(`field[${K}] already exists in this message chunk and value has unsupported type.`);return _}function zP($,q){if($===void 0&&q===void 0)return;else if($===void 0||q===void 0)return $||q;else{let _=[...$];for(let K of q)if(typeof K==="object"&&K!==null&&"index"in K&&typeof K.index==="number"){let P=_.findIndex((O)=>{let Y=typeof O==="object",z="index"in O&&O.index===K.index,H="id"in O&&"id"in K&&O?.id===K?.id,T=!("id"in O)||!O?.id||!("id"in K)||!K?.id;return Y&&z&&(H||T)});if(P!==-1&&typeof _[P]==="object"&&_[P]!==null)_[P]=iq(_[P],K);else _.push(K)}else if(typeof K==="object"&&K!==null&&"text"in K&&K.text==="")continue;else _.push(K);return _}}function tT($,q){if(!$&&!q)throw Error("Cannot merge two undefined objects.");if(!$||!q)return $||q;else if(typeof $!==typeof q)throw Error(`Cannot merge objects of different types.
Left ${typeof $}
Right ${typeof q}`);else if(typeof $==="string"&&typeof q==="string")return $+q;else if(Array.isArray($)&&Array.isArray(q))return zP($,q);else if(typeof $==="object"&&typeof q==="object")return iq($,q);else if($===q)return $;else throw Error(`Can not merge objects of different types.
Left ${$}
Right ${q}`)}var u_=class $ extends O_{static isInstance(q){if(!super.isInstance(q))return!1;let _=Object.getPrototypeOf(q);while(_!==null){if(_===$.prototype)return!0;_=Object.getPrototypeOf(_)}return!1}};var CC={};f6(CC,{ToolMessage:()=>UT,ToolMessageChunk:()=>hC,defaultToolCallParser:()=>FT,isDirectToolOutput:()=>EC,isToolMessage:()=>RC,isToolMessageChunk:()=>IC});function EC($){return $!=null&&typeof $==="object"&&"lc_direct_tool_output"in $&&$.lc_direct_tool_output===!0}var UT=class extends O_{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor($,q,_){let K=typeof $==="string"||Array.isArray($)?{content:$,name:_,tool_call_id:q}:$;super(K);this.tool_call_id=K.tool_call_id,this.artifact=K.artifact,this.status=K.status,this.metadata=K.metadata}static isInstance($){return super.isInstance($)&&$.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},hC=class extends u_{type="tool";tool_call_id;status;artifact;constructor($){super($);this.tool_call_id=$.tool_call_id,this.artifact=$.artifact,this.status=$.status}static lc_name(){return"ToolMessageChunk"}concat($){return new this.constructor({content:y_(this.content,$.content),additional_kwargs:iq(this.additional_kwargs,$.additional_kwargs),response_metadata:iq(this.response_metadata,$.response_metadata),artifact:tT(this.artifact,$.artifact),tool_call_id:this.tool_call_id,id:this.id??$.id,status:BT(this.status,$.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function FT($){let q=[],_=[];for(let K of $)if(!K.function)continue;else{let P=K.function.name;try{let O=JSON.parse(K.function.arguments);q.push({name:P||"",args:O||{},id:K.id})}catch{_.push({name:P,args:K.function.arguments,id:K.id,error:"Malformed args."})}}return[q,_]}function RC($){return typeof $==="object"&&$!==null&&"getType"in $&&typeof $.getType==="function"&&$.getType()==="tool"}function IC($){return $._getType()==="tool"}function DC($){try{return JSON.parse($)}catch{}let q=$.trim();if(q.length===0)throw Error("Unexpected end of JSON input");let _=0;function K(){while(_<q.length&&/\s/.test(q[_]))_+=1}function P(){if(q[_]!=='"')throw Error(`Expected '"' at position ${_}, got '${q[_]}'`);_+=1;let f="",w=!1;while(_<q.length){let k=q[_];if(w){if(k==="n")f+=`
`;else if(k==="t")f+="\t";else if(k==="r")f+="\r";else if(k==="\\")f+="\\";else if(k==='"')f+='"';else if(k==="b")f+="\b";else if(k==="f")f+="\f";else if(k==="/")f+="/";else if(k==="u"){let S=q.substring(_+1,_+5);if(/^[0-9A-Fa-f]{0,4}$/.test(S)){if(S.length===4)f+=String.fromCharCode(Number.parseInt(S,16));else f+=`u${S}`;_+=S.length}else throw Error(`Invalid unicode escape sequence '\\u${S}' at position ${_}`)}else throw Error(`Invalid escape sequence '\\${k}' at position ${_}`);w=!1}else if(k==="\\")w=!0;else if(k==='"')return _+=1,f;else f+=k;_+=1}if(w)f+="\\";return f}function O(){let f=_,w="";if(q[_]==="-")w+="-",_+=1;if(_<q.length&&q[_]==="0"){if(w+="0",_+=1,q[_]>="0"&&q[_]<="9")throw Error(`Invalid number at position ${f}`)}if(_<q.length&&q[_]>="1"&&q[_]<="9")while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1;if(_<q.length&&q[_]==="."){w+=".",_+=1;while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1}if(_<q.length&&(q[_]==="e"||q[_]==="E")){if(w+=q[_],_+=1,_<q.length&&(q[_]==="+"||q[_]==="-"))w+=q[_],_+=1;while(_<q.length&&q[_]>="0"&&q[_]<="9")w+=q[_],_+=1}if(w==="-")return-0;let k=Number.parseFloat(w);if(Number.isNaN(k))throw _=f,Error(`Invalid number '${w}' at position ${f}`);return k}function Y(){if(K(),_>=q.length)throw Error(`Unexpected end of input at position ${_}`);let f=q[_];if(f==="{")return H();if(f==="[")return z();if(f==='"')return P();if("null".startsWith(q.substring(_,_+4)))return _+=Math.min(4,q.length-_),null;if("true".startsWith(q.substring(_,_+4)))return _+=Math.min(4,q.length-_),!0;if("false".startsWith(q.substring(_,_+5)))return _+=Math.min(5,q.length-_),!1;if(f==="-"||f>="0"&&f<="9")return O();throw Error(`Unexpected character '${f}' at position ${_}`)}function z(){if(q[_]!=="[")throw Error(`Expected '[' at position ${_}, got '${q[_]}'`);let f=[];if(_+=1,K(),_>=q.length)return f;if(q[_]==="]")return _+=1,f;while(_<q.length){if(K(),_>=q.length)return f;if(f.push(Y()),K(),_>=q.length)return f;if(q[_]==="]")return _+=1,f;else if(q[_]===","){_+=1;continue}throw Error(`Expected ',' or ']' at position ${_}, got '${q[_]}'`)}return f}function H(){if(q[_]!=="{")throw Error(`Expected '{' at position ${_}, got '${q[_]}'`);let f={};if(_+=1,K(),_>=q.length)return f;if(q[_]==="}")return _+=1,f;while(_<q.length){if(K(),_>=q.length)return f;let w=P();if(K(),_>=q.length)return f;if(q[_]!==":")throw Error(`Expected ':' at position ${_}, got '${q[_]}'`);if(_+=1,K(),_>=q.length)return f;if(f[w]=Y(),K(),_>=q.length)return f;if(q[_]==="}")return _+=1,f;else if(q[_]===","){_+=1;continue}throw Error(`Expected ',' or '}' at position ${_}, got '${q[_]}'`)}return f}let T=Y();if(K(),_<q.length)throw Error(`Unexpected character '${q[_]}' at position ${_}`);return T}function aT($){try{if(typeof $>"u")return null;return DC($)}catch{return null}}function e2($){switch($){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function LC($){if(K6($.document)&&K6($.document.source)){let q=K6($.document)&&U$($.document.format)?$.document.format:"",_=e2(q);if(K6($.document.source)){if(K6($.document.source.s3Location)&&U$($.document.source.s3Location.uri))return{type:"file",mimeType:_,fileId:$.document.source.s3Location.uri};if(N1($.document.source.bytes))return{type:"file",mimeType:_,data:$.document.source.bytes};if(U$($.document.source.text))return{type:"file",mimeType:_,data:Buffer.from($.document.source.text).toString("base64")};if(nq($.document.source.content)){let K=$.document.source.content.reduce((P,O)=>{if(K6(O)&&U$(O.text))return P+O.text;return P},"");return{type:"file",mimeType:_,data:K}}}}return{type:"non_standard",value:$}}function gC($){if(e$($,"image")&&K6($.image)){let q=K6($.image)&&U$($.image.format)?$.image.format:"",_=e2(q);if(K6($.image.source)){if(K6($.image.source.s3Location)&&U$($.image.source.s3Location.uri))return{type:"image",mimeType:_,fileId:$.image.source.s3Location.uri};if(N1($.image.source.bytes))return{type:"image",mimeType:_,data:$.image.source.bytes}}}return{type:"non_standard",value:$}}function bC($){if(e$($,"video")&&K6($.video)){let q=K6($.video)&&U$($.video.format)?$.video.format:"",_=e2(q);if(K6($.video.source)){if(K6($.video.source.s3Location)&&U$($.video.source.s3Location.uri))return{type:"video",mimeType:_,fileId:$.video.source.s3Location.uri};if(N1($.video.source.bytes))return{type:"video",mimeType:_,data:$.video.source.bytes}}}return{type:"non_standard",value:$}}function QT($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let K of _){if(e$(K,"cache_point")){yield{type:"non_standard",value:K};continue}else if(e$(K,"citations_content")&&K6(K.citationsContent)){let P=nq(K.citationsContent.content)?K.citationsContent.content.reduce((Y,z)=>{if(K6(z)&&U$(z.text))return Y+z.text;return Y},""):"",O=nq(K.citationsContent.citations)?K.citationsContent.citations.reduce((Y,z)=>{if(K6(z)){let H=nq(z.sourceContent)?z.sourceContent.reduce((f,w)=>{if(K6(w)&&U$(w.text))return f+w.text;return f},""):"",T=P_(()=>{if(K6(z.location)){let f=z.location.documentChar||z.location.documentPage||z.location.documentChunk;if(K6(f))return{source:_8(f.documentIndex)?f.documentIndex.toString():void 0,startIndex:_8(f.start)?f.start:void 0,endIndex:_8(f.end)?f.end:void 0}}return{}});Y.push({type:"citation",citedText:H,...T})}return Y},[]):[];yield{type:"text",text:P,annotations:O};continue}else if(e$(K,"document")&&K6(K.document)){yield LC(K);continue}else if(e$(K,"guard_content")){yield{type:"non_standard",value:K};continue}else if(e$(K,"image")&&K6(K.image)){yield gC(K);continue}else if(e$(K,"reasoning_content")&&U$(K.reasoningText)){yield{type:"reasoning",reasoning:K.reasoningText};continue}else if(e$(K,"text")&&U$(K.text)){yield{type:"text",text:K.text};continue}else if(e$(K,"tool_result")){yield{type:"non_standard",value:K};continue}else if(e$(K,"tool_call"))continue;else if(e$(K,"video")&&K6(K.video)){yield bC(K);continue}yield{type:"non_standard",value:K}}}return Array.from(q())}var eT={translateContent:QT,translateContentChunk:QT};function sT($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let K of _){if(e$(K,"text")&&U$(K.text)){yield{type:"text",text:K.text};continue}else if(e$(K,"inlineData")&&K6(K.inlineData)&&U$(K.inlineData.mimeType)&&U$(K.inlineData.data)){yield{type:"file",mimeType:K.inlineData.mimeType,data:K.inlineData.data};continue}else if(e$(K,"functionCall")&&K6(K.functionCall)&&U$(K.functionCall.name)&&K6(K.functionCall.args)){yield{type:"tool_call",id:$.id,name:K.functionCall.name,args:K.functionCall.args};continue}else if(e$(K,"functionResponse")){yield{type:"non_standard",value:K};continue}else if(e$(K,"fileData")&&K6(K.fileData)&&U$(K.fileData.mimeType)&&U$(K.fileData.fileUri)){yield{type:"file",mimeType:K.fileData.mimeType,fileId:K.fileData.fileUri};continue}else if(e$(K,"executableCode")){yield{type:"non_standard",value:K};continue}else if(e$(K,"codeExecutionResult")){yield{type:"non_standard",value:K};continue}yield{type:"non_standard",value:K}}}return Array.from(q())}var $w={translateContent:sT,translateContentChunk:sT};function qw($){function*q(){let _=typeof $.content==="string"?[{type:"text",text:$.content}]:$.content;for(let K of _){if(e$(K,"reasoning")&&U$(K.reasoning)){let P=P_(()=>{let O=_.indexOf(K);if(nq($.additional_kwargs?.signatures)&&O>=0)return $.additional_kwargs.signatures.at(O);return});if(U$(P))yield{type:"reasoning",reasoning:K.reasoning,signature:P};else yield{type:"reasoning",reasoning:K.reasoning};continue}else if(e$(K,"text")&&U$(K.text)){yield{type:"text",text:K.text};continue}else if(e$(K,"image_url")){if(U$(K.image_url))if(K.image_url.startsWith("data:")){let P=/^data:([^;]+);base64,(.+)$/,O=K.image_url.match(P);if(O)yield{type:"image",data:O[2],mimeType:O[1]};else yield{type:"image",url:K.image_url}}else yield{type:"image",url:K.image_url};continue}else if(e$(K,"media")&&U$(K.mimeType)&&U$(K.data)){yield{type:"file",mimeType:K.mimeType,data:K.data};continue}yield{type:"non_standard",value:K}}}return Array.from(q())}var _w={translateContent:qw,translateContentChunk:qw};globalThis.lc_block_translators_registry??=new Map([["anthropic",cT],["bedrock-converse",eT],["google-genai",$w],["google-vertexai",_w],["openai",oT]]);function Kw($){return globalThis.lc_block_translators_registry.get($)}function Pw($,q){return iq($??{},q??{})}function Ow($,q){let _={};if($?.audio!==void 0||q?.audio!==void 0)_.audio=($?.audio??0)+(q?.audio??0);if($?.image!==void 0||q?.image!==void 0)_.image=($?.image??0)+(q?.image??0);if($?.video!==void 0||q?.video!==void 0)_.video=($?.video??0)+(q?.video??0);if($?.document!==void 0||q?.document!==void 0)_.document=($?.document??0)+(q?.document??0);if($?.text!==void 0||q?.text!==void 0)_.text=($?.text??0)+(q?.text??0);return _}function yC($,q){let _={...Ow($,q)};if($?.cache_read!==void 0||q?.cache_read!==void 0)_.cache_read=($?.cache_read??0)+(q?.cache_read??0);if($?.cache_creation!==void 0||q?.cache_creation!==void 0)_.cache_creation=($?.cache_creation??0)+(q?.cache_creation??0);return _}function uC($,q){let _={...Ow($,q)};if($?.reasoning!==void 0||q?.reasoning!==void 0)_.reasoning=($?.reasoning??0)+(q?.reasoning??0);return _}function Yw($,q){return{input_tokens:($?.input_tokens??0)+(q?.input_tokens??0),output_tokens:($?.output_tokens??0)+(q?.output_tokens??0),total_tokens:($?.total_tokens??0)+(q?.total_tokens??0),input_token_details:yC($?.input_token_details,q?.input_token_details),output_token_details:uC($?.output_token_details,q?.output_token_details)}}var WP=class extends u_{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor($){let q;if(typeof $==="string"||Array.isArray($))q={content:$,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if($.tool_call_chunks===void 0||$.tool_call_chunks.length===0)q={...$,tool_calls:$.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:$.usage_metadata!==void 0?$.usage_metadata:void 0};else q={...$,...jw($.tool_call_chunks??[]),usage_metadata:$.usage_metadata!==void 0?$.usage_metadata:void 0};super(q);this.tool_call_chunks=q.tool_call_chunks??this.tool_call_chunks,this.tool_calls=q.tool_calls??this.tool_calls,this.invalid_tool_calls=q.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=q.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider==="string"){let q=Kw(this.response_metadata.model_provider);if(q)return q.translateContent(this)}let $=super.contentBlocks;if(this.tool_calls){if(typeof this.content!=="string"){let q=this.content.filter((_)=>_.type==="tool_call").map((_)=>_.id);for(let _ of this.tool_calls)if(_.id&&!q.includes(_.id))$.push({..._,type:"tool_call",id:_.id,name:_.name,args:_.args})}}return $}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat($){let q={content:y_(this.content,$.content),additional_kwargs:iq(this.additional_kwargs,$.additional_kwargs),response_metadata:Pw(this.response_metadata,$.response_metadata),tool_call_chunks:[],id:this.id??$.id};if(this.tool_call_chunks!==void 0||$.tool_call_chunks!==void 0){let K=zP(this.tool_call_chunks,$.tool_call_chunks);if(K!==void 0&&K.length>0)q.tool_call_chunks=K}if(this.usage_metadata!==void 0||$.usage_metadata!==void 0)q.usage_metadata=Yw(this.usage_metadata,$.usage_metadata);return new this.constructor(q)}static isInstance($){return super.isInstance($)&&$.type==="ai"}};function vw($,q="Human",_="AI"){let K=[];for(let P of $){let O;if(P._getType()==="human")O=q;else if(P._getType()==="ai")O=_;else if(P._getType()==="system")O="System";else if(P._getType()==="tool")O="Tool";else if(P._getType()==="generic")O=P.role;else throw Error(`Got unsupported message type: ${P._getType()}`);let Y=P.name?`${P.name}, `:"",z=typeof P.content==="string"?P.content:JSON.stringify(P.content,null,2);K.push(`${O}: ${Y}${z}`)}return K.join(`
`)}function jw($){let q=$.reduce((P,O)=>{let Y=P.findIndex(([z])=>{if("id"in O&&O.id&&"index"in O&&O.index!==void 0)return O.id===z.id&&O.index===z.index;if("id"in O&&O.id)return O.id===z.id;if("index"in O&&O.index!==void 0)return O.index===z.index;return!1});if(Y!==-1)P[Y].push(O);else P.push([O]);return P},[]),_=[],K=[];for(let P of q){let O=null,Y=P[0]?.name??"",z=P.map((f)=>f.args||"").join("").trim(),H=z.length?z:"{}",T=P[0]?.id;try{if(O=aT(H),!T||O===null||typeof O!=="object"||Array.isArray(O))throw Error("Malformed tool call chunk args.");_.push({name:Y,args:O,id:T,type:"tool_call"})}catch{K.push({name:Y,args:H,id:T,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:$,tool_calls:_,invalid_tool_calls:K}}var xC={};f6(xC,{getEnv:()=>Tw,getEnvironmentVariable:()=>C8,getRuntimeEnvironment:()=>$O,isBrowser:()=>zw,isDeno:()=>E1,isJsDom:()=>Jw,isNode:()=>Hw,isWebWorker:()=>Ww});var zw=()=>typeof window<"u"&&typeof window.document<"u",Ww=()=>typeof globalThis==="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Jw=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),E1=()=>typeof Deno<"u",Hw=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!E1(),Tw=()=>{let $;if(zw())$="browser";else if(Hw())$="node";else if(Ww())$="webworker";else if(Jw())$="jsdom";else if(E1())$="deno";else $="other";return $},s2;function $O(){if(s2===void 0)s2={library:"langchain-js",runtime:Tw()};return s2}function C8($){try{if(typeof process<"u")return process.env?.[$];else if(E1())return Deno?.env.get($);else return}catch{return}}var ww=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function pC($){return typeof $==="string"&&ww.test($)}var oK=pC;var Xq=[];for(JP=0;JP<256;++JP)Xq.push((JP+256).toString(16).slice(1));var JP;function fw($,q=0){return(Xq[$[q+0]]+Xq[$[q+1]]+Xq[$[q+2]]+Xq[$[q+3]]+"-"+Xq[$[q+4]]+Xq[$[q+5]]+"-"+Xq[$[q+6]]+Xq[$[q+7]]+"-"+Xq[$[q+8]]+Xq[$[q+9]]+"-"+Xq[$[q+10]]+Xq[$[q+11]]+Xq[$[q+12]]+Xq[$[q+13]]+Xq[$[q+14]]+Xq[$[q+15]]).toLowerCase()}var h1,cC=new Uint8Array(16);function qO(){if(!h1){if(h1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h1)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return h1(cC)}var mC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_O={randomUUID:mC};function dC($,q,_){if(_O.randomUUID&&!q&&!$)return _O.randomUUID();$=$||{};var K=$.random||($.rng||qO)();if(K[6]=K[6]&15|64,K[8]=K[8]&63|128,q){_=_||0;for(var P=0;P<16;++P)q[_+P]=K[P];return q}return fw(K)}var Bq=dC;var rC={};f6(rC,{BaseCallbackHandler:()=>YK,callbackHandlerPrefersStreaming:()=>nC,isBaseCallbackHandler:()=>KO});var oC=class{};function nC($){return"lc_prefer_streaming"in $&&$.lc_prefer_streaming}var YK=class extends oC{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){return}get lc_attributes(){return}get lc_aliases(){return}get lc_serializable_keys(){return}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,M1(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=C8("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor($){super();if(this.lc_kwargs=$||{},$)this.ignoreLLM=$.ignoreLLM??this.ignoreLLM,this.ignoreChain=$.ignoreChain??this.ignoreChain,this.ignoreAgent=$.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=$.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=$.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=$.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||($._awaitHandler??this.awaitHandlers)}copy(){return new this.constructor(this)}toJSON(){return L_.prototype.toJSON.call(this)}toJSONNotImplemented(){return L_.prototype.toJSONNotImplemented.call(this)}static fromMethods($){class q extends YK{name=Bq();constructor(){super();Object.assign(this,$)}}return new q}},KO=($)=>{let q=$;return q!==void 0&&typeof q.copy==="function"&&typeof q.name==="string"&&typeof q.awaitHandlers==="boolean"};var Zw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function iC($){return typeof $==="string"&&Zw.test($)}var Xw=iC;function BC($){if(!Xw($))throw TypeError("Invalid UUID");var q,_=new Uint8Array(16);return _[0]=(q=parseInt($.slice(0,8),16))>>>24,_[1]=q>>>16&255,_[2]=q>>>8&255,_[3]=q&255,_[4]=(q=parseInt($.slice(9,13),16))>>>8,_[5]=q&255,_[6]=(q=parseInt($.slice(14,18),16))>>>8,_[7]=q&255,_[8]=(q=parseInt($.slice(19,23),16))>>>8,_[9]=q&255,_[10]=(q=parseInt($.slice(24,36),16))/1099511627776&255,_[11]=q/4294967296&255,_[12]=q>>>24&255,_[13]=q>>>16&255,_[14]=q>>>8&255,_[15]=q&255,_}var Aw=BC;var Aq=[];for(HP=0;HP<256;++HP)Aq.push((HP+256).toString(16).slice(1));var HP;function nK($,q=0){return(Aq[$[q+0]]+Aq[$[q+1]]+Aq[$[q+2]]+Aq[$[q+3]]+"-"+Aq[$[q+4]]+Aq[$[q+5]]+"-"+Aq[$[q+6]]+Aq[$[q+7]]+"-"+Aq[$[q+8]]+Aq[$[q+9]]+"-"+Aq[$[q+10]]+Aq[$[q+11]]+Aq[$[q+12]]+Aq[$[q+13]]+Aq[$[q+14]]+Aq[$[q+15]]).toLowerCase()}var R1,tC=new Uint8Array(16);function TP(){if(!R1){if(R1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R1)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return R1(tC)}function UC($){$=unescape(encodeURIComponent($));var q=[];for(var _=0;_<$.length;++_)q.push($.charCodeAt(_));return q}var FC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",aC="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function PO($,q,_){function K(P,O,Y,z){var H;if(typeof P==="string")P=UC(P);if(typeof O==="string")O=Aw(O);if(((H=O)===null||H===void 0?void 0:H.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var T=new Uint8Array(16+P.length);if(T.set(O),T.set(P,O.length),T=_(T),T[6]=T[6]&15|q,T[8]=T[8]&63|128,Y){z=z||0;for(var f=0;f<16;++f)Y[z+f]=T[f];return Y}return nK(T)}try{K.name=$}catch(P){}return K.DNS=FC,K.URL=aC,K}var QC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OO={randomUUID:QC};function eC($,q,_){if(OO.randomUUID&&!q&&!$)return OO.randomUUID();$=$||{};var K=$.random||($.rng||TP)();if(K[6]=K[6]&15|64,K[8]=K[8]&63|128,q){_=_||0;for(var P=0;P<16;++P)q[_+P]=K[P];return q}return nK(K)}var jK=eC;function sC($,q,_,K){switch($){case 0:return q&_^~q&K;case 1:return q^_^K;case 2:return q&_^q&K^_&K;case 3:return q^_^K}}function YO($,q){return $<<q|$>>>32-q}function $E($){var q=[1518500249,1859775393,2400959708,3395469782],_=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof $==="string"){var K=unescape(encodeURIComponent($));$=[];for(var P=0;P<K.length;++P)$.push(K.charCodeAt(P))}else if(!Array.isArray($))$=Array.prototype.slice.call($);$.push(128);var O=$.length/4+2,Y=Math.ceil(O/16),z=Array(Y);for(var H=0;H<Y;++H){var T=new Uint32Array(16);for(var f=0;f<16;++f)T[f]=$[H*64+f*4]<<24|$[H*64+f*4+1]<<16|$[H*64+f*4+2]<<8|$[H*64+f*4+3];z[H]=T}z[Y-1][14]=($.length-1)*8/Math.pow(2,32),z[Y-1][14]=Math.floor(z[Y-1][14]),z[Y-1][15]=($.length-1)*8&4294967295;for(var w=0;w<Y;++w){var k=new Uint32Array(80);for(var S=0;S<16;++S)k[S]=z[w][S];for(var N=16;N<80;++N)k[N]=YO(k[N-3]^k[N-8]^k[N-14]^k[N-16],1);var h=_[0],E=_[1],D=_[2],I=_[3],L=_[4];for(var g=0;g<80;++g){var y=Math.floor(g/20),c=YO(h,5)+sC(y,E,D,I)+L+q[y]+k[g]>>>0;L=I,I=D,D=YO(E,30)>>>0,E=h,h=c}_[0]=_[0]+h>>>0,_[1]=_[1]+E>>>0,_[2]=_[2]+D>>>0,_[3]=_[3]+I>>>0,_[4]=_[4]+L>>>0}return[_[0]>>24&255,_[0]>>16&255,_[0]>>8&255,_[0]&255,_[1]>>24&255,_[1]>>16&255,_[1]>>8&255,_[1]&255,_[2]>>24&255,_[2]>>16&255,_[2]>>8&255,_[2]&255,_[3]>>24&255,_[3]>>16&255,_[3]>>8&255,_[3]&255,_[4]>>24&255,_[4]>>16&255,_[4]>>8&255,_[4]&255]}var kw=$E;var qE=PO("v5",80,kw),vK=qE;var Gw=null,Vw=null,E8=0;function _E($,q,_){$=$||{};var K=q&&_||0,P=q||new Uint8Array(16),O=$.random||($.rng||TP)(),Y=$.msecs!==void 0?$.msecs:Date.now(),z=$.seq!==void 0?$.seq:null,H=Vw,T=Gw;if(Y>E8&&$.msecs===void 0){if(E8=Y,z!==null)H=null,T=null}if(z!==null){if(z>2147483647)z=2147483647;H=z>>>19&4095,T=z&524287}if(H===null||T===null)H=O[6]&127,H=H<<8|O[7],T=O[8]&63,T=T<<8|O[9],T=T<<5|O[10]>>>3;if(Y+1e4>E8&&z===null){if(++T>524287){if(T=0,++H>4095)H=0,E8++}}else E8=Y;return Vw=H,Gw=T,P[K++]=E8/1099511627776&255,P[K++]=E8/4294967296&255,P[K++]=E8/16777216&255,P[K++]=E8/65536&255,P[K++]=E8/256&255,P[K++]=E8&255,P[K++]=H>>>4&15|112,P[K++]=H&255,P[K++]=T>>>13&63|128,P[K++]=T>>>5&255,P[K++]=T<<3&255|O[10]&7,P[K++]=O[11],P[K++]=O[12],P[K++]=O[13],P[K++]=O[14],P[K++]=O[15],q||nK(P)}var jO=_E;var Sw="gen_ai.operation.name",Mw="gen_ai.system",vO="gen_ai.request.model",Nw="gen_ai.response.model",zO="gen_ai.usage.input_tokens",WO="gen_ai.usage.output_tokens",JO="gen_ai.usage.total_tokens",Cw="gen_ai.request.max_tokens",Ew="gen_ai.request.temperature",hw="gen_ai.request.top_p",Rw="gen_ai.request.frequency_penalty",Iw="gen_ai.request.presence_penalty",Dw="gen_ai.response.finish_reasons",Lw="gen_ai.prompt",gw="gen_ai.completion",bw="gen_ai.request.extra_query",yw="gen_ai.request.extra_body",uw="gen_ai.serialized.name",xw="gen_ai.serialized.signature",pw="gen_ai.serialized.doc",cw="gen_ai.response.id",mw="gen_ai.response.service_tier",dw="gen_ai.response.system_fingerprint",lw="gen_ai.usage.input_token_details",rw="gen_ai.usage.output_token_details",ow="langsmith.trace.session_id",nw="langsmith.trace.session_name",iw="langsmith.span.kind",Bw="langsmith.trace.name",tw="langsmith.metadata",HO="langsmith.span.tags";var Uw="langsmith.request.streaming",Fw="langsmith.request.headers";var OE=(...$)=>fetch(...$),aw=Symbol.for("ls:fetch_implementation");var Qw=()=>{let $=globalThis[aw];if(!$)return!1;return typeof $==="function"&&"Headers"in $&&"Request"in $&&"Response"in $},ew=($)=>{return async(...q)=>{if($||n6("DEBUG")==="true"){let[K,P]=q;console.log(` ${P?.method||"GET"} ${K}`)}let _=await(globalThis[aw]??OE)(...q);if($||n6("DEBUG")==="true")console.log(` ${_.status} ${_.statusText} ${_.url}`);return _}};var wP=()=>{return n6("PROJECT")??K8("LANGCHAIN_SESSION")??"default"};var sw={};function iK($){if(!sw[$])console.warn($),sw[$]=!0}var YE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function O6($,q){if(!YE.test($)){let _=q!==void 0?`Invalid UUID for ${q}: ${$}`:`Invalid UUID: ${$}`;throw Error(_)}return $}function I1($){let q=typeof $==="string"?Date.parse($):$;return jO({msecs:q,seq:0})}var D1="0.3.82";var d8,jE=()=>typeof window<"u"&&typeof window.document<"u",vE=()=>typeof globalThis==="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",zE=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),$f=()=>typeof Deno<"u",WE=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!$f(),fO=()=>{if(d8)return d8;if(typeof Bun<"u")d8="bun";else if(jE())d8="browser";else if(WE())d8="node";else if(vE())d8="webworker";else if(zE())d8="jsdom";else if($f())d8="deno";else d8="other";return d8},TO;function L1(){if(TO===void 0){let $=fO(),q=HE();TO={library:"langsmith",runtime:$,sdk:"langsmith-js",sdk_version:D1,...q}}return TO}function ZO(){let $=JE(),q={},_=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[K,P]of Object.entries($))if(typeof P==="string"&&!_.includes(K)&&!K.toLowerCase().includes("key")&&!K.toLowerCase().includes("secret")&&!K.toLowerCase().includes("token"))if(K==="LANGCHAIN_REVISION_ID")q.revision_id=P;else q[K]=P;return q}function JE(){let $={};try{if(typeof process<"u"&&process.env){for(let[q,_]of Object.entries(process.env))if((q.startsWith("LANGCHAIN_")||q.startsWith("LANGSMITH_"))&&_!=null)if((q.toLowerCase().includes("key")||q.toLowerCase().includes("secret")||q.toLowerCase().includes("token"))&&typeof _==="string")$[q]=_.slice(0,2)+"*".repeat(_.length-4)+_.slice(-2);else $[q]=_}}catch(q){}return $}function K8($){try{return typeof process<"u"?process.env?.[$]:void 0}catch(q){return}}function n6($){return K8(`LANGSMITH_${$}`)||K8(`LANGCHAIN_${$}`)}var wO;function HE(){if(wO!==void 0)return wO;let $=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],q={};for(let _ of $){let K=K8(_);if(K!==void 0)q[_]=K}return wO=q,q}function g1(){return K8("OTEL_ENABLED")==="true"||n6("OTEL_ENABLED")==="true"}class _f{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan($,...q){if(!this.hasWarned&&g1())console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0;let _;if(q.length===1&&typeof q[0]==="function")_=q[0];else if(q.length===2&&typeof q[1]==="function")_=q[1];else if(q.length===3&&typeof q[2]==="function")_=q[2];if(typeof _==="function")return _();return}}class Kf{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new _f})}getTracer($,q){return this.mockTracer}getActiveSpan(){return}setSpan($,q){return $}getSpan($){return}setSpanContext($,q){return $}getTracerProvider(){return}setGlobalTracerProvider($){return!1}}class Pf{active(){return{}}with($,q){return q()}}var XO=Symbol.for("ls:otel_trace"),AO=Symbol.for("ls:otel_context"),qf=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),TE=new Kf,wE=new Pf;class Of{getTraceInstance(){return globalThis[XO]??TE}getContextInstance(){return globalThis[AO]??wE}initializeGlobalInstances($){if(globalThis[XO]===void 0)globalThis[XO]=$.trace;if(globalThis[AO]===void 0)globalThis[AO]=$.context}setDefaultOTLPTracerComponents($){globalThis[qf]=$}getDefaultOTLPTracerComponents(){return globalThis[qf]??void 0}}var kO=new Of;function b1(){return kO.getTraceInstance()}function Yf(){return kO.getContextInstance()}function jf(){return kO.getDefaultOTLPTracerComponents()}var fE={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function ZE($){return fE[$]||$}class GO{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch($,q){for(let _ of $)try{if(!_.run)continue;if(_.operation==="post"){let K=this.createSpanForRun(_,_.run,q.get(_.id));if(K&&!_.run.end_time)this.spans.set(_.id,K)}else this.updateSpanForRun(_,_.run)}catch(K){console.error(`Error processing operation ${_.id}:`,K)}}createSpanForRun($,q,_){let K=_&&b1().getSpan(_);if(!K)return;try{return this.finishSpanSetup(K,q,$)}catch(P){console.error(`Failed to create span for run ${$.id}:`,P);return}}finishSpanSetup($,q,_){if(this.setSpanAttributes($,q,_),q.error)$.setStatus({code:2}),$.recordException(Error(q.error));else $.setStatus({code:1});if(q.end_time)$.end(new Date(q.end_time));return $}updateSpanForRun($,q){try{let _=this.spans.get($.id);if(!_){console.debug(`No span found for run ${$.id} during update`);return}if(this.setSpanAttributes(_,q,$),q.error)_.setStatus({code:2}),_.recordException(Error(q.error));else _.setStatus({code:1});let K=q.end_time;if(K)_.end(new Date(K)),this.spans.delete($.id)}catch(_){console.error(`Failed to update span for run ${$.id}:`,_)}}extractModelName($){if($.extra?.metadata){let q=$.extra.metadata;if(q.ls_model_name)return q.ls_model_name;if(q.invocation_params){let _=q.invocation_params;if(_.model)return _.model;else if(_.model_name)return _.model_name}}return}setSpanAttributes($,q,_){if("run_type"in q&&q.run_type){$.setAttribute(iw,q.run_type);let Y=ZE(q.run_type||"chain");$.setAttribute(Sw,Y)}if("name"in q&&q.name)$.setAttribute(Bw,q.name);if("session_id"in q&&q.session_id)$.setAttribute(ow,q.session_id);if("session_name"in q&&q.session_name)$.setAttribute(nw,q.session_name);this.setGenAiSystem($,q);let K=this.extractModelName(q);if(K)$.setAttribute(vO,K);if("prompt_tokens"in q&&typeof q.prompt_tokens==="number")$.setAttribute(zO,q.prompt_tokens);if("completion_tokens"in q&&typeof q.completion_tokens==="number")$.setAttribute(WO,q.completion_tokens);if("total_tokens"in q&&typeof q.total_tokens==="number")$.setAttribute(JO,q.total_tokens);this.setInvocationParameters($,q);let P=q.extra?.metadata||{};for(let[Y,z]of Object.entries(P))if(z!==null&&z!==void 0)$.setAttribute(`${tw}.${Y}`,String(z));let O=q.tags;if(O&&Array.isArray(O))$.setAttribute(HO,O.join(", "));else if(O)$.setAttribute(HO,String(O));if("serialized"in q&&typeof q.serialized==="object"){let Y=q.serialized;if(Y.name)$.setAttribute(uw,String(Y.name));if(Y.signature)$.setAttribute(xw,String(Y.signature));if(Y.doc)$.setAttribute(pw,String(Y.doc))}this.setIOAttributes($,_)}setGenAiSystem($,q){let _="langchain",K=this.extractModelName(q);if(K){let P=K.toLowerCase();if(P.includes("anthropic")||P.startsWith("claude"))_="anthropic";else if(P.includes("bedrock"))_="aws.bedrock";else if(P.includes("azure")&&P.includes("openai"))_="az.ai.openai";else if(P.includes("azure")&&P.includes("inference"))_="az.ai.inference";else if(P.includes("cohere"))_="cohere";else if(P.includes("deepseek"))_="deepseek";else if(P.includes("gemini"))_="gemini";else if(P.includes("groq"))_="groq";else if(P.includes("watson")||P.includes("ibm"))_="ibm.watsonx.ai";else if(P.includes("mistral"))_="mistral_ai";else if(P.includes("gpt")||P.includes("openai"))_="openai";else if(P.includes("perplexity")||P.includes("sonar"))_="perplexity";else if(P.includes("vertex"))_="vertex_ai";else if(P.includes("xai")||P.includes("grok"))_="xai"}$.setAttribute(Mw,_)}setInvocationParameters($,q){if(!q.extra?.metadata?.invocation_params)return;let _=q.extra.metadata.invocation_params;if(_.max_tokens!==void 0)$.setAttribute(Cw,_.max_tokens);if(_.temperature!==void 0)$.setAttribute(Ew,_.temperature);if(_.top_p!==void 0)$.setAttribute(hw,_.top_p);if(_.frequency_penalty!==void 0)$.setAttribute(Rw,_.frequency_penalty);if(_.presence_penalty!==void 0)$.setAttribute(Iw,_.presence_penalty)}setIOAttributes($,q){if(q.run.inputs)try{let _=q.run.inputs;if(typeof _==="object"&&_!==null){if(_.model&&Array.isArray(_.messages))$.setAttribute(vO,_.model);if(_.stream!==void 0)$.setAttribute(Uw,_.stream);if(_.extra_headers)$.setAttribute(Fw,JSON.stringify(_.extra_headers));if(_.extra_query)$.setAttribute(bw,JSON.stringify(_.extra_query));if(_.extra_body)$.setAttribute(yw,JSON.stringify(_.extra_body))}$.setAttribute(Lw,JSON.stringify(_))}catch(_){console.debug(`Failed to process inputs for run ${q.id}`,_)}if(q.run.outputs)try{let _=q.run.outputs,K=this.getUnifiedRunTokens(_);if(K)$.setAttribute(zO,K[0]),$.setAttribute(WO,K[1]),$.setAttribute(JO,K[0]+K[1]);if(_&&typeof _==="object"){if(_.model)$.setAttribute(Nw,String(_.model));if(_.id)$.setAttribute(cw,_.id);if(_.choices&&Array.isArray(_.choices)){let P=_.choices.map((O)=>O.finish_reason).filter((O)=>O).map(String);if(P.length>0)$.setAttribute(Dw,P.join(", "))}if(_.service_tier)$.setAttribute(mw,_.service_tier);if(_.system_fingerprint)$.setAttribute(dw,_.system_fingerprint);if(_.usage_metadata&&typeof _.usage_metadata==="object"){let P=_.usage_metadata;if(P.input_token_details)$.setAttribute(lw,JSON.stringify(P.input_token_details));if(P.output_token_details)$.setAttribute(rw,JSON.stringify(P.output_token_details))}}$.setAttribute(gw,JSON.stringify(_))}catch(_){console.debug(`Failed to process outputs for run ${q.id}`,_)}}getUnifiedRunTokens($){if(!$)return null;let q=this.extractUnifiedRunTokens($.usage_metadata);if(q)return q;let _=Object.keys($);for(let O of _){let Y=$[O];if(!Y||typeof Y!=="object")continue;if(q=this.extractUnifiedRunTokens(Y.usage_metadata),q)return q;if(Y.lc===1&&Y.kwargs&&typeof Y.kwargs==="object"){if(q=this.extractUnifiedRunTokens(Y.kwargs.usage_metadata),q)return q}}let K=$.generations||[];if(!Array.isArray(K))return null;let P=Array.isArray(K[0])?K.flat():K;for(let O of P)if(typeof O==="object"&&O.message&&typeof O.message==="object"&&O.message.kwargs&&typeof O.message.kwargs==="object"){if(q=this.extractUnifiedRunTokens(O.message.kwargs.usage_metadata),q)return q}return null}extractUnifiedRunTokens($){if(!$||typeof $!=="object")return null;if(typeof $.input_tokens!=="number"||typeof $.output_tokens!=="number")return null;return[$.input_tokens,$.output_tokens]}}var XE=Object.prototype.toString,AE=($)=>XE.call($)==="[object Error]",kE=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function VO($){if(!($&&AE($)&&$.name==="TypeError"&&typeof $.message==="string"))return!1;let{message:_,stack:K}=$;if(_==="Load failed")return K===void 0||"__sentry_captured__"in $;if(_.startsWith("error sending request for url"))return!0;return kE.has(_)}function GE($){if(typeof $==="number"){if($<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN($))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if($!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}function y1($,q,{min:_=0,allowInfinity:K=!1}={}){if(q===void 0)return;if(typeof q!=="number"||Number.isNaN(q))throw TypeError(`Expected \`${$}\` to be a number${K?" or Infinity":""}.`);if(!K&&!Number.isFinite(q))throw TypeError(`Expected \`${$}\` to be a finite number.`);if(q<_)throw TypeError(`Expected \`${$}\` to be  ${_}.`)}class zf extends Error{constructor($){super();if($ instanceof Error)this.originalError=$,{message:$}=$;else this.originalError=Error($),this.originalError.stack=this.stack;this.name="AbortError",this.message=$}}function VE($,q){let _=Math.max(1,$+1),K=q.randomize?Math.random()+1:1,P=Math.round(K*q.minTimeout*q.factor**(_-1));return P=Math.min(P,q.maxTimeout),P}function vf($,q){if(!Number.isFinite(q))return q;return q-(performance.now()-$)}async function SE({error:$,attemptNumber:q,retriesConsumed:_,startTime:K,options:P}){let O=$ instanceof Error?$:TypeError(`Non-error was thrown: "${$}". You should only throw errors.`);if(O instanceof zf)throw O.originalError;let Y=Number.isFinite(P.retries)?Math.max(0,P.retries-_):P.retries,z=P.maxRetryTime??Number.POSITIVE_INFINITY,H=Object.freeze({error:O,attemptNumber:q,retriesLeft:Y,retriesConsumed:_});if(await P.onFailedAttempt(H),vf(K,z)<=0)throw O;let T=await P.shouldConsumeRetry(H),f=vf(K,z);if(f<=0||Y<=0)throw O;if(O instanceof TypeError&&!VO(O)){if(T)throw O;return P.signal?.throwIfAborted(),!1}if(!await P.shouldRetry(H))throw O;if(!T)return P.signal?.throwIfAborted(),!1;let w=VE(_,P),k=Math.min(w,f);if(k>0)await new Promise((S,N)=>{let h=()=>{clearTimeout(E),P.signal?.removeEventListener("abort",h),N(P.signal.reason)},E=setTimeout(()=>{P.signal?.removeEventListener("abort",h),S()},k);if(P.unref)E.unref?.();P.signal?.addEventListener("abort",h,{once:!0})});return P.signal?.throwIfAborted(),!0}async function SO($,q={}){if(q={...q},GE(q.retries),Object.hasOwn(q,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");if(q.retries??=10,q.factor??=2,q.minTimeout??=1000,q.maxTimeout??=Number.POSITIVE_INFINITY,q.maxRetryTime??=Number.POSITIVE_INFINITY,q.randomize??=!1,q.onFailedAttempt??=()=>{},q.shouldRetry??=()=>!0,q.shouldConsumeRetry??=()=>!0,y1("factor",q.factor,{min:0,allowInfinity:!1}),y1("minTimeout",q.minTimeout,{min:0,allowInfinity:!1}),y1("maxTimeout",q.maxTimeout,{min:0,allowInfinity:!0}),y1("maxRetryTime",q.maxRetryTime,{min:0,allowInfinity:!0}),!(q.factor>0))q.factor=1;q.signal?.throwIfAborted();let _=0,K=0,P=performance.now();while(Number.isFinite(q.retries)?K<=q.retries:!0){_++;try{q.signal?.throwIfAborted();let O=await $(_);return q.signal?.throwIfAborted(),O}catch(O){if(await SE({error:O,attemptNumber:_,retriesConsumed:K,startTime:P,options:q}))K++}}throw Error("Retry attempts exhausted without throwing an error.")}var m1=N8(c1(),1),yE=[408,425,429,500,502,503,504];class d1{constructor($){if(Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=$.maxConcurrency??1/0,this.maxRetries=$.maxRetries??6,this.maxQueueSizeBytes=$.maxQueueSizeBytes,"default"in m1.default)this.queue=new m1.default.default({concurrency:this.maxConcurrency});else this.queue=new m1.default({concurrency:this.maxConcurrency});this.onFailedResponseHook=$?.onFailedResponseHook}call($,...q){return this.callWithOptions({},$,...q)}callWithOptions($,q,..._){let K=$.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&K>0&&this.queueSizeBytes+K>this.maxQueueSizeBytes)return Promise.reject(Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${K} bytes.`));if(K>0)this.queueSizeBytes+=K;let P=this.onFailedResponseHook,O=this.queue.add(()=>SO(()=>q(..._).catch((Y)=>{if(Y instanceof Error)throw Y;else throw Error(Y)}),{async onFailedAttempt({error:Y}){if(Y.message.startsWith("Cancel")||Y.message.startsWith("TimeoutError")||Y.name==="TimeoutError"||Y.message.startsWith("AbortError"))throw Y;if(Y?.code==="ECONNABORTED")throw Y;let z=Y?.response;if(P){if(await P(z))return}let H=z?.status??Y?.status;if(H){if(!yE.includes(+H))throw Y}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});if(K>0)O=O.finally(()=>{this.queueSizeBytes-=K});if($.signal)return Promise.race([O,new Promise((Y,z)=>{$.signal?.addEventListener("abort",()=>{z(Error("AbortError"))})})]);return O}}function CO($){return typeof $?._getType==="function"}function EO($){let q={type:$._getType(),data:{content:$.content}};if($?.additional_kwargs&&Object.keys($.additional_kwargs).length>0)q.data.additional_kwargs={...$.additional_kwargs};return q}var hI=N8(wX(),1);function Y_($){if(!$||$.split("/").length>2||$.startsWith("/")||$.endsWith("/")||$.split(":").length>2)throw Error(`Invalid identifier format: ${$}`);let[q,_]=$.split(":"),K=_||"latest";if(q.includes("/")){let[P,O]=q.split("/",2);if(!P||!O)throw Error(`Invalid identifier format: ${$}`);return[P,O,K]}else{if(!q)throw Error(`Invalid identifier format: ${$}`);return["-",q,K]}}class fX extends Error{constructor($){super($);Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function $6($,q,_){let K;if($.ok){if(_)K=await $.text();return}if($.status===403)try{if((await $.json())?.error==="org_scoped_key_requires_workspace")K="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable."}catch(Y){let z=Error(`${$.status} ${$.statusText}`);throw z.status=$?.status,z}if(K===void 0)try{K=await $.text()}catch(Y){K=""}let P=`Failed to ${q}. Received status [${$.status}]: ${$.statusText}. Message: ${K}`;if($.status===409)throw new fX(P);let O=Error(P);throw O.status=$.status,O}var ZX="ERR_CONFLICTING_ENDPOINTS";class rO extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS.");Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:ZX}),this.name="ConflictingEndpointsError"}}function XX($){return typeof $==="object"&&$!==null&&$.code===ZX}var AX="[...]",RI={result:"[Circular]"},q9=[],tK=[],II=new TextEncoder;function DI(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function $9($){return II.encode($)}function kX($){if($&&typeof $==="object"&&$!==null){if($ instanceof Map)return Object.fromEntries($);else if($ instanceof Set)return Array.from($);else if($ instanceof Date)return $.toISOString();else if($ instanceof RegExp)return $.toString();else if($ instanceof Error)return{name:$.name,message:$.message}}else if(typeof $==="bigint")return $.toString();return $}function LI($){return function(q,_){if($){let K=$.call(this,q,_);if(K!==void 0)return K}return kX(_)}}function tq($,q,_,K,P){try{let O=JSON.stringify($,LI(_),K);return $9(O)}catch(O){if(!O.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${q?`
Context: ${q}`:""}`),$9("[Unserializable]");if(n6("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${q?`
Context: ${q}`:""}`),typeof P>"u")P=DI();nO($,"",0,[],void 0,0,P);let Y;try{if(tK.length===0)Y=JSON.stringify($,_,K);else Y=JSON.stringify($,gI(_),K)}catch(z){return $9("[unable to serialize, circular reference is too complex to analyze]")}finally{while(q9.length!==0){let z=q9.pop();if(z.length===4)Object.defineProperty(z[0],z[1],z[3]);else z[0][z[1]]=z[2]}}return $9(Y)}}function oO($,q,_,K){var P=Object.getOwnPropertyDescriptor(K,_);if(P.get!==void 0)if(P.configurable)Object.defineProperty(K,_,{value:$}),q9.push([K,_,q,P]);else tK.push([q,_,$]);else K[_]=$,q9.push([K,_,q])}function nO($,q,_,K,P,O,Y){O+=1;var z;if(typeof $==="object"&&$!==null){for(z=0;z<K.length;z++)if(K[z]===$){oO(RI,$,q,P);return}if(typeof Y.depthLimit<"u"&&O>Y.depthLimit){oO(AX,$,q,P);return}if(typeof Y.edgesLimit<"u"&&_+1>Y.edgesLimit){oO(AX,$,q,P);return}if(K.push($),Array.isArray($))for(z=0;z<$.length;z++)nO($[z],z,z,K,$,O,Y);else{$=kX($);var H=Object.keys($);for(z=0;z<H.length;z++){var T=H[z];nO($[T],T,z,K,$,O,Y)}}K.pop()}}function gI($){return $=typeof $<"u"?$:function(q,_){return _},function(q,_){if(tK.length>0)for(var K=0;K<tK.length;K++){var P=tK[K];if(P[1]===q&&P[0]===_){_=P[2],tK.splice(K,1);break}}return $.call(this,q,_)}}function GX($,q){let _=L1(),K=q??ZO(),P=$.extra??{},O=P.metadata;return $.extra={...P,runtime:{..._,...P?.runtime},metadata:{...K,...K.revision_id||"revision_id"in $&&$.revision_id?{revision_id:("revision_id"in $?$.revision_id:void 0)??K.revision_id}:{},...O}},$}var bI=($)=>{let q=$?.toString()??n6("TRACING_SAMPLING_RATE");if(q===void 0)return;let _=parseFloat(q);if(_<0||_>1)throw Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${_}`);return _},yI=($)=>{let _=$.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return _==="localhost"||_==="127.0.0.1"||_==="::1"};async function uI($){let q=[];for await(let _ of $)q.push(_);return q}function _9($){if($===void 0)return;return $.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}var xI=async($)=>{if($?.status===429){let q=parseInt($.headers.get("retry-after")??"10",10)*1000;if(q>0)return await new Promise((_)=>setTimeout(_,q)),!0}return!1};function VX($){if(typeof $==="number")return Number($.toFixed(4));return $}var pI=25165824,NX=1073741824,cI=1e4,mI=100,SX="https://api.smith.langchain.com";class CX{constructor($){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=$??NX}peek(){return this.items[0]}push($){let q,_=new Promise((P)=>{q=P}),K=tq($.item,`Serializing run with id: ${$.item.id}`).length;if(this.sizeBytes+K>this.maxSizeBytes&&this.items.length>0)return console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${$.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${K} bytes.`),q(),_;return this.items.push({action:$.action,payload:$.item,otelContext:$.otelContext,apiKey:$.apiKey,apiUrl:$.apiUrl,itemPromiseResolve:q,itemPromise:_,size:K}),this.sizeBytes+=K,_}pop({upToSizeBytes:$,upToSize:q}){if($<1)throw Error("Number of bytes to pop off may not be less than 1.");let _=[],K=0;while(K+(this.peek()?.size??0)<$&&this.items.length>0&&_.length<q){let P=this.items.shift();if(P)_.push(P),K+=P.size,this.sizeBytes-=P.size}if(_.length===0&&this.items.length>0){let P=this.items.shift();_.push(P),K+=P.size,this.sizeBytes-=P.size}return[_.map((P)=>({action:P.action,item:P.payload,otelContext:P.otelContext,apiKey:P.apiKey,apiUrl:P.apiUrl,size:P.size})),()=>_.forEach((P)=>P.itemPromiseResolve())]}}class x_{get _fetch(){return this.fetchImplementation||ew(this.debug)}constructor($={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:K8("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:K8("LANGSMITH_DEBUG")==="true"});let q=x_.getDefaultClientConfig();if(this.tracingSampleRate=bI($.tracingSamplingRate),this.apiUrl=_9($.apiUrl??q.apiUrl)??"",this.apiUrl.endsWith("/"))this.apiUrl=this.apiUrl.slice(0,-1);if(this.apiKey=_9($.apiKey??q.apiKey),this.webUrl=_9($.webUrl??q.webUrl),this.webUrl?.endsWith("/"))this.webUrl=this.webUrl.slice(0,-1);if(this.workspaceId=_9($.workspaceId??n6("WORKSPACE_ID")),this.timeout_ms=$.timeout_ms??90000,this.caller=new d1({...$.callerOptions??{},maxRetries:4,debug:$.debug??this.debug}),this.traceBatchConcurrency=$.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw Error("Trace batch concurrency must be positive.");this.debug=$.debug??this.debug,this.fetchImplementation=$.fetchImplementation;let _=$.maxIngestMemoryBytes??NX;if(this.batchIngestCaller=new d1({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:_,...$.callerOptions??{},onFailedResponseHook:xI,debug:$.debug??this.debug}),this.hideInputs=$.hideInputs??$.anonymizer??q.hideInputs,this.hideOutputs=$.hideOutputs??$.anonymizer??q.hideOutputs,this.autoBatchTracing=$.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new CX(_),this.blockOnRootRunFinalization=$.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=$.batchSizeBytesLimit,this.batchSizeLimit=$.batchSizeLimit,this.fetchOptions=$.fetchOptions||{},this.manualFlushMode=$.manualFlushMode??this.manualFlushMode,g1())this.langSmithToOTELTranslator=new GO;this.cachedLSEnvVarsForMetadata=ZO()}static getDefaultClientConfig(){let $=n6("API_KEY"),q=n6("ENDPOINT")??SX,_=n6("HIDE_INPUTS")==="true",K=n6("HIDE_OUTPUTS")==="true";return{apiUrl:q,apiKey:$,webUrl:void 0,hideInputs:_,hideOutputs:K}}getHostUrl(){if(this.webUrl)return this.webUrl;else if(yI(this.apiUrl))return this.webUrl="http://localhost:3000",this.webUrl;else if(this.apiUrl.endsWith("/api/v1"))return this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl;else if(this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api"))return this.webUrl=this.apiUrl.replace("/api",""),this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("dev"))return this.webUrl="https://dev.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("eu"))return this.webUrl="https://eu.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("beta"))return this.webUrl="https://beta.smith.langchain.com",this.webUrl;else return this.webUrl="https://smith.langchain.com",this.webUrl}get headers(){let $={"User-Agent":`langsmith-js/${D1}`};if(this.apiKey)$["x-api-key"]=`${this.apiKey}`;if(this.workspaceId)$["x-tenant-id"]=this.workspaceId;return $}_getPlatformEndpointPath($){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${$}`:`/platform/${$}`}async processInputs($){if(this.hideInputs===!1)return $;if(this.hideInputs===!0)return{};if(typeof this.hideInputs==="function")return this.hideInputs($);return $}async processOutputs($){if(this.hideOutputs===!1)return $;if(this.hideOutputs===!0)return{};if(typeof this.hideOutputs==="function")return this.hideOutputs($);return $}async prepareRunCreateOrUpdateInputs($){let q={...$};if(q.inputs!==void 0)q.inputs=await this.processInputs(q.inputs);if(q.outputs!==void 0)q.outputs=await this.processOutputs(q.outputs);return q}async _getResponse($,q){let _=q?.toString()??"",K=`${this.apiUrl}${$}?${_}`;return await this.caller.call(async()=>{let O=await this._fetch(K,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(O,`fetch ${$}`),O})}async _get($,q){return(await this._getResponse($,q)).json()}async*_getPaginated($,q=new URLSearchParams,_){let K=Number(q.get("offset"))||0,P=Number(q.get("limit"))||100;while(!0){q.set("offset",String(K)),q.set("limit",String(P));let O=`${this.apiUrl}${$}?${q}`,Y=await this.caller.call(async()=>{let H=await this._fetch(O,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(H,`fetch ${$}`),H}),z=_?_(await Y.json()):await Y.json();if(z.length===0)break;if(yield z,z.length<P)break;K+=z.length}}async*_getCursorPaginatedList($,q=null,_="POST",K="runs"){let P=q?{...q}:{};while(!0){let O=JSON.stringify(P),z=await(await this.caller.call(async()=>{let T=await this._fetch(`${this.apiUrl}${$}`,{method:_,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(T,`fetch ${$}`),T})).json();if(!z)break;if(!z[K])break;yield z[K];let H=z.cursors;if(!H)break;if(!H.next)break;P.cursor=H.next}}_shouldSample(){if(this.tracingSampleRate===void 0)return!0;return Math.random()<this.tracingSampleRate}_filterForSampling($,q=!1){if(this.tracingSampleRate===void 0)return $;if(q){let _=[];for(let K of $)if(!this.filteredPostUuids.has(K.trace_id))_.push(K);else if(K.id===K.trace_id)this.filteredPostUuids.delete(K.trace_id);return _}else{let _=[];for(let K of $){let P=K.trace_id??K.id;if(this.filteredPostUuids.has(P))continue;if(K.id===P)if(this._shouldSample())_.push(K);else this.filteredPostUuids.add(P);else _.push(K)}return _}}async _getBatchSizeLimitBytes(){let $=await this._ensureServerInfo();return this.batchSizeBytesLimit??$.batch_ingest_config?.size_limit_bytes??pI}async _getBatchSizeLimit(){let $=await this._ensureServerInfo();return this.batchSizeLimit??$.batch_ingest_config?.size_limit??mI}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:$,batchSizeLimit:q}){let _=[];while(this.autoBatchQueue.items.length>0){let[K,P]=this.autoBatchQueue.pop({upToSizeBytes:$,upToSize:q});if(!K.length){P();break}let O=K.reduce((H,T)=>{let f=T.apiUrl??this.apiUrl,w=T.apiKey??this.apiKey,S=T.apiKey===this.apiKey&&T.apiUrl===this.apiUrl?"default":`${f}|${w}`;if(!H[S])H[S]=[];return H[S].push(T),H},{}),Y=[];for(let[H,T]of Object.entries(O)){let f=this._processBatch(T,{apiUrl:H==="default"?void 0:H.split("|")[0],apiKey:H==="default"?void 0:H.split("|")[1]});Y.push(f)}let z=Promise.all(Y).finally(P);_.push(z)}return Promise.all(_)}async _processBatch($,q){if(!$.length)return;let _=$.reduce((K,P)=>K+(P.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator($);else{let K={runCreates:$.filter((O)=>O.action==="create").map((O)=>O.item),runUpdates:$.filter((O)=>O.action==="update").map((O)=>O.item)},P=await this._ensureServerInfo();if(P?.batch_ingest_config?.use_multipart_endpoint){let O=P?.instance_flags?.gzip_body_enabled;await this.multipartIngestRuns(K,{...q,useGzip:O,sizeBytes:_})}else await this.batchIngestRuns(K,{...q,sizeBytes:_})}}catch(K){console.error("Error exporting batch:",K)}}_sendBatchToOTELTranslator($){if(this.langSmithToOTELTranslator!==void 0){let q=new Map,_=[];for(let K of $)if(K.item.id&&K.otelContext)if(q.set(K.item.id,K.otelContext),K.action==="create")_.push({operation:"post",id:K.item.id,trace_id:K.item.trace_id??K.item.id,run:K.item});else _.push({operation:"patch",id:K.item.id,trace_id:K.item.trace_id??K.item.id,run:K.item});this.langSmithToOTELTranslator.exportBatch(_,q)}}async processRunOperation($){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,$.item=GX($.item,this.cachedLSEnvVarsForMetadata);let q=this.autoBatchQueue.push($);if(this.manualFlushMode)return q;let _=await this._getBatchSizeLimitBytes(),K=await this._getBatchSizeLimit();if(this.autoBatchQueue.sizeBytes>_||this.autoBatchQueue.items.length>K)this.drainAutoBatchQueue({batchSizeLimitBytes:_,batchSizeLimit:K});if(this.autoBatchQueue.items.length>0)this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:_,batchSizeLimit:K})},this.autoBatchAggregationDelayMs);return q}async _getServerInfo(){let q=await(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(cI),...this.fetchOptions});return await $6(_,"get server info"),_})).json();if(this.debug)console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(q,null,2)+`
`);return q}async _ensureServerInfo(){if(this._getServerInfoPromise===void 0)this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch($){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${$.status??"Unspecified status code"} ${$.message}`)}return this._serverInfo??{}})();return this._getServerInfoPromise.then(($)=>{if(this._serverInfo===void 0)this._getServerInfoPromise=void 0;return $})}async _getSettings(){if(!this.settings)this.settings=this._get("/settings");return await this.settings}async flush(){let $=await this._getBatchSizeLimitBytes(),q=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:$,batchSizeLimit:q})}_cloneCurrentOTELContext(){let $=b1(),q=Yf();if(this.langSmithToOTELTranslator!==void 0){let _=$.getActiveSpan();if(_)return $.setSpan(q.active(),_)}return}async createRun($,q){if(!this._filterForSampling([$]).length)return;let _={...this.headers,"Content-Type":"application/json"},K=$.project_name;delete $.project_name;let P=await this.prepareRunCreateOrUpdateInputs({session_name:K,...$,start_time:$.start_time??Date.now()});if(this.autoBatchTracing&&P.trace_id!==void 0&&P.dotted_order!==void 0){let z=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:P,otelContext:z,apiKey:q?.apiKey,apiUrl:q?.apiUrl}).catch(console.error);return}let O=GX(P,this.cachedLSEnvVarsForMetadata);if(q?.apiKey!==void 0)_["x-api-key"]=q.apiKey;if(q?.workspaceId!==void 0)_["x-tenant-id"]=q.workspaceId;let Y=tq(O,`Creating run with id: ${O.id}`);await this.caller.call(async()=>{let z=await this._fetch(`${q?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:_,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await $6(z,"create run",!0),z})}async batchIngestRuns({runCreates:$,runUpdates:q},_){if($===void 0&&q===void 0)return;let K=await Promise.all($?.map((z)=>this.prepareRunCreateOrUpdateInputs(z))??[]),P=await Promise.all(q?.map((z)=>this.prepareRunCreateOrUpdateInputs(z))??[]);if(K.length>0&&P.length>0){let z=K.reduce((T,f)=>{if(!f.id)return T;return T[f.id]=f,T},{}),H=[];for(let T of P)if(T.id!==void 0&&z[T.id])z[T.id]={...z[T.id],...T};else H.push(T);K=Object.values(z),P=H}let O={post:K,patch:P};if(!O.post.length&&!O.patch.length)return;let Y={post:[],patch:[]};for(let z of["post","patch"]){let H=z,T=O[H].reverse(),f=T.pop();while(f!==void 0)Y[H].push(f),f=T.pop()}if(Y.post.length>0||Y.patch.length>0){let z=Y.post.map((H)=>H.id).concat(Y.patch.map((H)=>H.id)).join(",");await this._postBatchIngestRuns(tq(Y,`Ingesting runs with ids: ${z}`),_)}}async _postBatchIngestRuns($,q){let _={...this.headers,"Content-Type":"application/json",Accept:"application/json"};if(q?.apiKey!==void 0)_["x-api-key"]=q.apiKey;await this.batchIngestCaller.callWithOptions({sizeBytes:q?.sizeBytes},async()=>{let K=await this._fetch(`${q?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:_,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:$});return await $6(K,"batch create run",!0),K})}async multipartIngestRuns({runCreates:$,runUpdates:q},_){if($===void 0&&q===void 0)return;let K={},P=[];for(let f of $??[]){let w=await this.prepareRunCreateOrUpdateInputs(f);if(w.id!==void 0&&w.attachments!==void 0)K[w.id]=w.attachments;delete w.attachments,P.push(w)}let O=[];for(let f of q??[])O.push(await this.prepareRunCreateOrUpdateInputs(f));if(P.find((f)=>{return f.trace_id===void 0||f.dotted_order===void 0})!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(O.find((f)=>{return f.trace_id===void 0||f.dotted_order===void 0})!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(P.length>0&&O.length>0){let f=P.reduce((k,S)=>{if(!S.id)return k;return k[S.id]=S,k},{}),w=[];for(let k of O)if(k.id!==void 0&&f[k.id])f[k.id]={...f[k.id],...k};else w.push(k);P=Object.values(f),O=w}if(P.length===0&&O.length===0)return;let H=[],T=[];for(let[f,w]of[["post",P],["patch",O]])for(let k of w){let{inputs:S,outputs:N,events:h,extra:E,error:D,serialized:I,attachments:L,...g}=k,y={inputs:S,outputs:N,events:h,extra:E,error:D,serialized:I},c=tq(g,`Serializing for multipart ingestion of run with id: ${g.id}`);T.push({name:`${f}.${g.id}`,payload:new Blob([c],{type:`application/json; length=${c.length}`})});for(let[o,Q]of Object.entries(y)){if(Q===void 0)continue;let U=tq(Q,`Serializing ${o} for multipart ingestion of run with id: ${g.id}`);T.push({name:`${f}.${g.id}.${o}`,payload:new Blob([U],{type:`application/json; length=${U.length}`})})}if(g.id!==void 0){let o=K[g.id];if(o){delete K[g.id];for(let[Q,U]of Object.entries(o)){let p,s;if(Array.isArray(U))[p,s]=U;else p=U.mimeType,s=U.data;if(Q.includes(".")){console.warn(`Skipping attachment '${Q}' for run ${g.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}T.push({name:`attachment.${g.id}.${Q}`,payload:new Blob([s],{type:`${p}; length=${s.byteLength}`})})}}}H.push(`trace=${g.trace_id},id=${g.id}`)}await this._sendMultipartRequest(T,H.join("; "),_)}async _createNodeFetchBody($,q){let _=[];for(let O of $)_.push(new Blob([`--${q}\r
`])),_.push(new Blob([`Content-Disposition: form-data; name="${O.name}"\r
`,`Content-Type: ${O.payload.type}\r
\r
`])),_.push(O.payload),_.push(new Blob([`\r
`]));return _.push(new Blob([`--${q}--\r
`])),await new Blob(_).arrayBuffer()}async _createMultipartStream($,q){let _=new TextEncoder;return new ReadableStream({async start(P){let O=async(Y)=>{if(typeof Y==="string")P.enqueue(_.encode(Y));else P.enqueue(Y)};for(let Y of $){await O(`--${q}\r
`),await O(`Content-Disposition: form-data; name="${Y.name}"\r
`),await O(`Content-Type: ${Y.payload.type}\r
\r
`);let H=Y.payload.stream().getReader();try{let T;while(!(T=await H.read()).done)P.enqueue(T.value)}finally{H.releaseLock()}await O(`\r
`)}await O(`--${q}--\r
`),P.close()}})}async _sendMultipartRequest($,q,_){let K="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),P=Qw(),O=()=>this._createNodeFetchBody($,K),Y=()=>this._createMultipartStream($,K),z=async(H)=>{return this.batchIngestCaller.callWithOptions({sizeBytes:_?.sizeBytes},async()=>{let T=await H(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${K}`};if(_?.apiKey!==void 0)f["x-api-key"]=_.apiKey;let w=T;if(_?.useGzip&&typeof T==="object"&&"pipeThrough"in T)w=T.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip";let k=await this._fetch(`${_?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:w,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(k,"Failed to send multipart request",!0),k})};try{let H,T=!1;if(!P&&!this.multipartStreamingDisabled&&fO()!=="bun")T=!0,H=await z(Y);else H=await z(O);if((!this.multipartStreamingDisabled||T)&&H.status===422&&(_?.apiUrl??this.apiUrl)!==SX)console.warn(`Streaming multipart upload to ${_?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${q}".`),this.multipartStreamingDisabled=!0,H=await z(O)}catch(H){console.warn(`${H.message.trim()}

Context: ${q}`)}}async updateRun($,q,_){if(O6($),q.inputs)q.inputs=await this.processInputs(q.inputs);if(q.outputs)q.outputs=await this.processOutputs(q.outputs);let K={...q,id:$};if(!this._filterForSampling([K],!0).length)return;if(this.autoBatchTracing&&K.trace_id!==void 0&&K.dotted_order!==void 0){let Y=this._cloneCurrentOTELContext();if(q.end_time!==void 0&&K.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:K,otelContext:Y,apiKey:_?.apiKey,apiUrl:_?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:K,otelContext:Y,apiKey:_?.apiKey,apiUrl:_?.apiUrl}).catch(console.error);return}let P={...this.headers,"Content-Type":"application/json"};if(_?.apiKey!==void 0)P["x-api-key"]=_.apiKey;if(_?.workspaceId!==void 0)P["x-tenant-id"]=_.workspaceId;let O=tq(q,`Serializing payload to update run with id: ${$}`);await this.caller.call(async()=>{let Y=await this._fetch(`${_?.apiUrl??this.apiUrl}/runs/${$}`,{method:"PATCH",headers:P,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(Y,"update run",!0),Y})}async readRun($,{loadChildRuns:q}={loadChildRuns:!1}){O6($);let _=await this._get(`/runs/${$}`);if(q)_=await this._loadChildRuns(_);return _}async getRunUrl({runId:$,run:q,projectOpts:_}){if(q!==void 0){let K;if(q.session_id)K=q.session_id;else if(_?.projectName)K=(await this.readProject({projectName:_?.projectName})).id;else if(_?.projectId)K=_?.projectId;else K=(await this.readProject({projectName:n6("PROJECT")||"default"})).id;let P=await this._getTenantId();return`${this.getHostUrl()}/o/${P}/projects/p/${K}/r/${q.id}?poll=true`}else if($!==void 0){let K=await this.readRun($);if(!K.app_path)throw Error(`Run ${$} has no app_path`);return`${this.getHostUrl()}${K.app_path}`}else throw Error("Must provide either runId or run")}async _loadChildRuns($){let q=await uI(this.listRuns({isRoot:!1,projectId:$.session_id,traceId:$.trace_id})),_={},K={};q.sort((P,O)=>(P?.dotted_order??"").localeCompare(O?.dotted_order??""));for(let P of q){if(P.parent_run_id===null||P.parent_run_id===void 0)throw Error(`Child run ${P.id} has no parent`);if(P.dotted_order?.startsWith($.dotted_order??"")&&P.id!==$.id){if(!(P.parent_run_id in _))_[P.parent_run_id]=[];_[P.parent_run_id].push(P),K[P.id]=P}}$.child_runs=_[$.id]||[];for(let P in _)if(P!==$.id)K[P].child_runs=_[P];return $}async*listRuns($){let{projectId:q,projectName:_,parentRunId:K,traceId:P,referenceExampleId:O,startTime:Y,executionOrder:z,isRoot:H,runType:T,error:f,id:w,query:k,filter:S,traceFilter:N,treeFilter:h,limit:E,select:D,order:I}=$,L=[];if(q)L=Array.isArray(q)?q:[q];if(_){let o=Array.isArray(_)?_:[_],Q=await Promise.all(o.map((U)=>this.readProject({projectName:U}).then((p)=>p.id)));L.push(...Q)}let g=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],y={session:L.length?L:null,run_type:T,reference_example:O,query:k,filter:S,trace_filter:N,tree_filter:h,execution_order:z,parent_run:K,start_time:Y?Y.toISOString():null,error:f,id:w,limit:E,trace:P,select:D?D:g,is_root:H,order:I};if(y.select.includes("child_run_ids"))iK("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let c=0;for await(let o of this._getCursorPaginatedList("/runs/query",y))if(E){if(c>=E)break;if(o.length+c>E){yield*o.slice(0,E-c);break}c+=o.length,yield*o}else yield*o}async*listGroupRuns($){let{projectId:q,projectName:_,groupBy:K,filter:P,startTime:O,endTime:Y,limit:z,offset:H}=$,f={session_id:q||(await this.readProject({projectName:_})).id,group_by:K,filter:P,start_time:O?O.toISOString():null,end_time:Y?Y.toISOString():null,limit:Number(z)||100},w=Number(H)||0,k="/runs/group",S=`${this.apiUrl}${k}`;while(!0){let N={...f,offset:w},h=Object.fromEntries(Object.entries(N).filter(([y,c])=>c!==void 0)),E=JSON.stringify(h),I=await(await this.caller.call(async()=>{let y=await this._fetch(S,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:E});return await $6(y,`Failed to fetch ${k}`),y})).json(),{groups:L,total:g}=I;if(L.length===0)break;for(let y of L)yield y;if(w+=L.length,w>=g)break}}async getRunStats({id:$,trace:q,parentRun:_,runType:K,projectNames:P,projectIds:O,referenceExampleIds:Y,startTime:z,endTime:H,error:T,query:f,filter:w,traceFilter:k,treeFilter:S,isRoot:N,dataSourceType:h}){let E=O||[];if(P)E=[...O||[],...await Promise.all(P.map((c)=>this.readProject({projectName:c}).then((o)=>o.id)))];let I=Object.fromEntries(Object.entries({id:$,trace:q,parent_run:_,run_type:K,session:E,reference_example:Y,start_time:z,end_time:H,error:T,query:f,filter:w,trace_filter:k,tree_filter:S,is_root:N,data_source_type:h}).filter(([c,o])=>o!==void 0)),L=JSON.stringify(I);return await(await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:L});return await $6(c,"get run stats"),c})).json()}async shareRun($,{shareId:q}={}){let _={run_id:$,share_token:q||jK()};O6($);let K=JSON.stringify(_),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:K});return await $6(Y,"share run"),Y})).json();if(O===null||!("share_token"in O))throw Error("Invalid response from server");return`${this.getHostUrl()}/public/${O.share_token}/r`}async unshareRun($){O6($),await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(q,"unshare run",!0),q})}async readRunSharedLink($){O6($);let _=await(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/runs/${$}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(K,"read run shared link"),K})).json();if(_===null||!("share_token"in _))return;return`${this.getHostUrl()}/public/${_.share_token}/r`}async listSharedRuns($,{runIds:q}={}){let _=new URLSearchParams({share_token:$});if(q!==void 0)for(let O of q)_.append("id",O);return O6($),await(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}/public/${$}/runs${_}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(O,"list shared runs"),O})).json()}async readDatasetSharedSchema($,q){if(!$&&!q)throw Error("Either datasetId or datasetName must be given");if(!$)$=(await this.readDataset({datasetName:q})).id;O6($);let K=await(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(P,"read dataset shared schema"),P})).json();return K.url=`${this.getHostUrl()}/public/${K.share_token}/d`,K}async shareDataset($,q){if(!$&&!q)throw Error("Either datasetId or datasetName must be given");if(!$)$=(await this.readDataset({datasetName:q})).id;let _={dataset_id:$};O6($);let K=JSON.stringify(_),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:K});return await $6(Y,"share dataset"),Y})).json();return O.url=`${this.getHostUrl()}/public/${O.share_token}/d`,O}async unshareDataset($){O6($),await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/datasets/${$}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(q,"unshare dataset",!0),q})}async readSharedDataset($){return O6($),await(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/public/${$}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(K,"read shared dataset"),K})).json()}async listSharedExamples($,q){let _={};if(q?.exampleIds)_.id=q.exampleIds;let K=new URLSearchParams;Object.entries(_).forEach(([Y,z])=>{if(Array.isArray(z))z.forEach((H)=>K.append(Y,H));else K.append(Y,z)});let P=await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/public/${$}/examples?${K.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(Y,"list shared examples"),Y}),O=await P.json();if(!P.ok){if("detail"in O)throw Error(`Failed to list shared examples.
Status: ${P.status}
Message: ${Array.isArray(O.detail)?O.detail.join(`
`):"Unspecified error"}`);throw Error(`Failed to list shared examples: ${P.status} ${P.statusText}`)}return O.map((Y)=>({...Y,_hostUrl:this.getHostUrl()}))}async createProject({projectName:$,description:q=null,metadata:_=null,upsert:K=!1,projectExtra:P=null,referenceDatasetId:O=null}){let Y=K?"?upsert=true":"",z=`${this.apiUrl}/sessions${Y}`,H=P||{};if(_)H.metadata=_;let T={name:$,extra:H,description:q};if(O!==null)T.reference_dataset_id=O;let f=JSON.stringify(T);return await(await this.caller.call(async()=>{let S=await this._fetch(z,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await $6(S,"create project"),S})).json()}async updateProject($,{name:q=null,description:_=null,metadata:K=null,projectExtra:P=null,endTime:O=null}){let Y=`${this.apiUrl}/sessions/${$}`,z=P;if(K)z={...z||{},metadata:K};let H=JSON.stringify({name:q,extra:z,description:_,end_time:O?new Date(O).toISOString():null});return await(await this.caller.call(async()=>{let w=await this._fetch(Y,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:H});return await $6(w,"update project"),w})).json()}async hasProject({projectId:$,projectName:q}){let _="/sessions",K=new URLSearchParams;if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($!==void 0)O6($),_+=`/${$}`;else if(q!==void 0)K.append("name",q);else throw Error("Must provide projectName or projectId");let P=await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}${_}?${K}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(O,"has project"),O});try{let O=await P.json();if(!P.ok)return!1;if(Array.isArray(O))return O.length>0;return!0}catch(O){return!1}}async readProject({projectId:$,projectName:q,includeStats:_}){let K="/sessions",P=new URLSearchParams;if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($!==void 0)O6($),K+=`/${$}`;else if(q!==void 0)P.append("name",q);else throw Error("Must provide projectName or projectId");if(_!==void 0)P.append("include_stats",_.toString());let O=await this._get(K,P),Y;if(Array.isArray(O)){if(O.length===0)throw Error(`Project[id=${$}, name=${q}] not found`);Y=O[0]}else Y=O;return Y}async getProjectUrl({projectId:$,projectName:q}){if($===void 0&&q===void 0)throw Error("Must provide either projectName or projectId");let _=await this.readProject({projectId:$,projectName:q}),K=await this._getTenantId();return`${this.getHostUrl()}/o/${K}/projects/p/${_.id}`}async getDatasetUrl({datasetId:$,datasetName:q}){if($===void 0&&q===void 0)throw Error("Must provide either datasetName or datasetId");let _=await this.readDataset({datasetId:$,datasetName:q}),K=await this._getTenantId();return`${this.getHostUrl()}/o/${K}/datasets/${_.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let $=new URLSearchParams({limit:"1"});for await(let q of this._getPaginated("/sessions",$))return this._tenantId=q[0].tenant_id,q[0].tenant_id;throw Error("No projects found to resolve tenant.")}async*listProjects({projectIds:$,name:q,nameContains:_,referenceDatasetId:K,referenceDatasetName:P,includeStats:O,datasetVersion:Y,referenceFree:z,metadata:H}={}){let T=new URLSearchParams;if($!==void 0)for(let f of $)T.append("id",f);if(q!==void 0)T.append("name",q);if(_!==void 0)T.append("name_contains",_);if(K!==void 0)T.append("reference_dataset",K);else if(P!==void 0){let f=await this.readDataset({datasetName:P});T.append("reference_dataset",f.id)}if(O!==void 0)T.append("include_stats",O.toString());if(Y!==void 0)T.append("dataset_version",Y);if(z!==void 0)T.append("reference_free",z.toString());if(H!==void 0)T.append("metadata",JSON.stringify(H));for await(let f of this._getPaginated("/sessions",T))yield*f}async deleteProject({projectId:$,projectName:q}){let _;if($===void 0&&q===void 0)throw Error("Must provide projectName or projectId");else if($!==void 0&&q!==void 0)throw Error("Must provide either projectName or projectId, not both");else if($===void 0)_=(await this.readProject({projectName:q})).id;else _=$;O6(_),await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/sessions/${_}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(K,`delete session ${_} (${q})`,!0),K})}async uploadCsv({csvFile:$,fileName:q,inputKeys:_,outputKeys:K,description:P,dataType:O,name:Y}){let z=`${this.apiUrl}/datasets/upload`,H=new FormData;if(H.append("file",$,q),_.forEach((w)=>{H.append("input_keys",w)}),K.forEach((w)=>{H.append("output_keys",w)}),P)H.append("description",P);if(O)H.append("data_type",O);if(Y)H.append("name",Y);return await(await this.caller.call(async()=>{let w=await this._fetch(z,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:H});return await $6(w,"upload CSV"),w})).json()}async createDataset($,{description:q,dataType:_,inputsSchema:K,outputsSchema:P,metadata:O}={}){let Y={name:$,description:q,extra:O?{metadata:O}:void 0};if(_)Y.data_type=_;if(K)Y.inputs_schema_definition=K;if(P)Y.outputs_schema_definition=P;let z=JSON.stringify(Y);return await(await this.caller.call(async()=>{let f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:z});return await $6(f,"create dataset"),f})).json()}async readDataset({datasetId:$,datasetName:q}){let _="/datasets",K=new URLSearchParams({limit:"1"});if($&&q)throw Error("Must provide either datasetName or datasetId, not both");else if($)O6($),_+=`/${$}`;else if(q)K.append("name",q);else throw Error("Must provide datasetName or datasetId");let P=await this._get(_,K),O;if(Array.isArray(P)){if(P.length===0)throw Error(`Dataset[id=${$}, name=${q}] not found`);O=P[0]}else O=P;return O}async hasDataset({datasetId:$,datasetName:q}){try{return await this.readDataset({datasetId:$,datasetName:q}),!0}catch(_){if(_ instanceof Error&&_.message.toLocaleLowerCase().includes("not found"))return!1;throw _}}async diffDatasetVersions({datasetId:$,datasetName:q,fromVersion:_,toVersion:K}){let P=$;if(P===void 0&&q===void 0)throw Error("Must provide either datasetName or datasetId");else if(P!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(P===void 0)P=(await this.readDataset({datasetName:q})).id;let O=new URLSearchParams({from_version:typeof _==="string"?_:_.toISOString(),to_version:typeof K==="string"?K:K.toISOString()});return await this._get(`/datasets/${P}/versions/diff`,O)}async readDatasetOpenaiFinetuning({datasetId:$,datasetName:q}){if($!==void 0);else if(q!==void 0)$=(await this.readDataset({datasetName:q})).id;else throw Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`/datasets/${$}/openai_ft`)).text()).trim().split(`
`).map((Y)=>JSON.parse(Y))}async*listDatasets({limit:$=100,offset:q=0,datasetIds:_,datasetName:K,datasetNameContains:P,metadata:O}={}){let z=new URLSearchParams({limit:$.toString(),offset:q.toString()});if(_!==void 0)for(let H of _)z.append("id",H);if(K!==void 0)z.append("name",K);if(P!==void 0)z.append("name_contains",P);if(O!==void 0)z.append("metadata",JSON.stringify(O));for await(let H of this._getPaginated("/datasets",z))yield*H}async updateDataset($){let{datasetId:q,datasetName:_,...K}=$;if(!q&&!_)throw Error("Must provide either datasetName or datasetId");let P=q??(await this.readDataset({datasetName:_})).id;O6(P);let O=JSON.stringify(K);return await(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/datasets/${P}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(z,"update dataset"),z})).json()}async updateDatasetTag($){let{datasetId:q,datasetName:_,asOf:K,tag:P}=$;if(!q&&!_)throw Error("Must provide either datasetName or datasetId");let O=q??(await this.readDataset({datasetName:_})).id;O6(O);let Y=JSON.stringify({as_of:typeof K==="string"?K:K.toISOString(),tag:P});await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/datasets/${O}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await $6(z,"update dataset tags",!0),z})}async deleteDataset({datasetId:$,datasetName:q}){let _="/datasets",K=$;if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(q!==void 0)K=(await this.readDataset({datasetName:q})).id;if(K!==void 0)O6(K),_+=`/${K}`;else throw Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{let P=await this._fetch(this.apiUrl+_,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(P,`delete ${_}`,!0),P})}async indexDataset({datasetId:$,datasetName:q,tag:_}){let K=$;if(!K&&!q)throw Error("Must provide either datasetName or datasetId");else if(K&&q)throw Error("Must provide either datasetName or datasetId, not both");else if(!K)K=(await this.readDataset({datasetName:q})).id;O6(K);let O=JSON.stringify({tag:_});await(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/datasets/${K}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(z,"index dataset"),z})).json()}async similarExamples($,q,_,{filter:K}={}){let P={limit:_,inputs:$};if(K!==void 0)P.filter=K;O6(q);let O=JSON.stringify(P);return(await(await this.caller.call(async()=>{let H=await this._fetch(`${this.apiUrl}/datasets/${q}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:O});return await $6(H,"fetch similar examples"),H})).json()).examples}async createExample($,q,_){if(MX($)){if(q!==void 0||_!==void 0)throw Error("Cannot provide outputs or options when using ExampleCreate object")}let K=q?_?.datasetId:$.dataset_id,P=q?_?.datasetName:$.dataset_name;if(K===void 0&&P===void 0)throw Error("Must provide either datasetName or datasetId");else if(K!==void 0&&P!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(K===void 0)K=(await this.readDataset({datasetName:P})).id;let O=(q?_?.createdAt:$.created_at)||new Date,Y;if(!MX($))Y={inputs:$,outputs:q,created_at:O?.toISOString(),id:_?.exampleId,metadata:_?.metadata,split:_?.split,source_run_id:_?.sourceRunId,use_source_run_io:_?.useSourceRunIO,use_source_run_attachments:_?.useSourceRunAttachments,attachments:_?.attachments};else Y=$;let z=await this._uploadExamplesMultipart(K,[Y]);return await this.readExample(z.example_ids?.[0]??jK())}async createExamples($){if(Array.isArray($)){if($.length===0)return[];let D=$,I=D[0].dataset_id,L=D[0].dataset_name;if(I===void 0&&L===void 0)throw Error("Must provide either datasetName or datasetId");else if(I!==void 0&&L!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(I===void 0)I=(await this.readDataset({datasetName:L})).id;let g=await this._uploadExamplesMultipart(I,D);return await Promise.all(g.example_ids.map((c)=>this.readExample(c)))}let{inputs:q,outputs:_,metadata:K,splits:P,sourceRunIds:O,useSourceRunIOs:Y,useSourceRunAttachments:z,attachments:H,exampleIds:T,datasetId:f,datasetName:w}=$;if(q===void 0)throw Error("Must provide inputs when using legacy parameters");let k=f,S=w;if(k===void 0&&S===void 0)throw Error("Must provide either datasetName or datasetId");else if(k!==void 0&&S!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if(k===void 0)k=(await this.readDataset({datasetName:S})).id;let N=q.map((D,I)=>{return{dataset_id:k,inputs:D,outputs:_?.[I],metadata:K?.[I],split:P?.[I],id:T?.[I],attachments:H?.[I],source_run_id:O?.[I],use_source_run_io:Y?.[I],use_source_run_attachments:z?.[I]}}),h=await this._uploadExamplesMultipart(k,N);return await Promise.all(h.example_ids.map((D)=>this.readExample(D)))}async createLLMExample($,q,_){return this.createExample({input:$},{output:q},_)}async createChatExample($,q,_){let K=$.map((O)=>{if(CO(O))return EO(O);return O}),P=CO(q)?EO(q):q;return this.createExample({input:K},{output:P},_)}async readExample($){O6($);let q=`/examples/${$}`,_=await this._get(q),{attachment_urls:K,...P}=_,O=P;if(K)O.attachments=Object.entries(K).reduce((Y,[z,H])=>{return Y[z.slice(11)]={presigned_url:H.presigned_url,mime_type:H.mime_type},Y},{});return O}async*listExamples({datasetId:$,datasetName:q,exampleIds:_,asOf:K,splits:P,inlineS3Urls:O,metadata:Y,limit:z,offset:H,filter:T,includeAttachments:f}={}){let w;if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($!==void 0)w=$;else if(q!==void 0)w=(await this.readDataset({datasetName:q})).id;else throw Error("Must provide a datasetName or datasetId");let k=new URLSearchParams({dataset:w}),S=K?typeof K==="string"?K:K?.toISOString():void 0;if(S)k.append("as_of",S);let N=O??!0;if(k.append("inline_s3_urls",N.toString()),_!==void 0)for(let E of _)k.append("id",E);if(P!==void 0)for(let E of P)k.append("splits",E);if(Y!==void 0){let E=JSON.stringify(Y);k.append("metadata",E)}if(z!==void 0)k.append("limit",z.toString());if(H!==void 0)k.append("offset",H.toString());if(T!==void 0)k.append("filter",T);if(f===!0)["attachment_urls","outputs","metadata"].forEach((E)=>k.append("select",E));let h=0;for await(let E of this._getPaginated("/examples",k)){for(let D of E){let{attachment_urls:I,...L}=D,g=L;if(I)g.attachments=Object.entries(I).reduce((y,[c,o])=>{return y[c.slice(11)]={presigned_url:o.presigned_url,mime_type:o.mime_type||void 0},y},{});yield g,h++}if(z!==void 0&&h>=z)break}}async deleteExample($){O6($);let q=`/examples/${$}`;await this.caller.call(async()=>{let _=await this._fetch(this.apiUrl+q,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(_,`delete ${q}`,!0),_})}async updateExample($,q){let _;if(q)_=$;else _=$.id;O6(_);let K;if(q)K={id:_,...q};else K=$;let P;if(K.dataset_id!==void 0)P=K.dataset_id;else P=(await this.readExample(_)).dataset_id;return this._updateExamplesMultipart(P,[K])}async updateExamples($){let q;if($[0].dataset_id===void 0)q=(await this.readExample($[0].id)).dataset_id;else q=$[0].dataset_id;return this._updateExamplesMultipart(q,$)}async readDatasetVersion({datasetId:$,datasetName:q,asOf:_,tag:K}){let P;if(!$)P=(await this.readDataset({datasetName:q})).id;else P=$;if(O6(P),_&&K||!_&&!K)throw Error("Exactly one of asOf and tag must be specified.");let O=new URLSearchParams;if(_!==void 0)O.append("as_of",typeof _==="string"?_:_.toISOString());if(K!==void 0)O.append("tag",K);return await(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/datasets/${P}/version?${O.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(z,"read dataset version"),z})).json()}async listDatasetSplits({datasetId:$,datasetName:q,asOf:_}){let K;if($===void 0&&q===void 0)throw Error("Must provide dataset name or ID");else if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($===void 0)K=(await this.readDataset({datasetName:q})).id;else K=$;O6(K);let P=new URLSearchParams,O=_?typeof _==="string"?_:_?.toISOString():void 0;if(O)P.append("as_of",O);return await this._get(`/datasets/${K}/splits`,P)}async updateDatasetSplits({datasetId:$,datasetName:q,splitName:_,exampleIds:K,remove:P=!1}){let O;if($===void 0&&q===void 0)throw Error("Must provide dataset name or ID");else if($!==void 0&&q!==void 0)throw Error("Must provide either datasetName or datasetId, not both");else if($===void 0)O=(await this.readDataset({datasetName:q})).id;else O=$;O6(O);let Y={split_name:_,examples:K.map((H)=>{return O6(H),H}),remove:P},z=JSON.stringify(Y);await this.caller.call(async()=>{let H=await this._fetch(`${this.apiUrl}/datasets/${O}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:z});return await $6(H,"update dataset splits",!0),H})}async evaluateRun($,q,{sourceInfo:_,loadChildRuns:K,referenceExample:P}={loadChildRuns:!1}){iK("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let O;if(typeof $==="string")O=await this.readRun($,{loadChildRuns:K});else if(typeof $==="object"&&"id"in $)O=$;else throw Error(`Invalid run type: ${typeof $}`);if(O.reference_example_id!==null&&O.reference_example_id!==void 0)P=await this.readExample(O.reference_example_id);let Y=await q.evaluateRun(O,P),[z,H]=await this._logEvaluationFeedback(Y,O,_);return H[0]}async createFeedback($,q,{score:_,value:K,correction:P,comment:O,sourceInfo:Y,feedbackSourceType:z="api",sourceRunId:H,feedbackId:T,feedbackConfig:f,projectId:w,comparativeExperimentId:k}){if(!$&&!w)throw Error("One of runId or projectId must be provided");if($&&w)throw Error("Only one of runId or projectId can be provided");let S={type:z??"api",metadata:Y??{}};if(H!==void 0&&S?.metadata!==void 0&&!S.metadata.__run)S.metadata.__run={run_id:H};if(S?.metadata!==void 0&&S.metadata.__run?.run_id!==void 0)O6(S.metadata.__run.run_id);let N={id:T??jK(),run_id:$,key:q,score:VX(_),value:K,correction:P,comment:O,feedback_source:S,comparative_experiment_id:k,feedbackConfig:f,session_id:w},h=JSON.stringify(N),E=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{let D=await this._fetch(E,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:h});return await $6(D,"create feedback",!0),D}),N}async updateFeedback($,{score:q,value:_,correction:K,comment:P}){let O={};if(q!==void 0&&q!==null)O.score=VX(q);if(_!==void 0&&_!==null)O.value=_;if(K!==void 0&&K!==null)O.correction=K;if(P!==void 0&&P!==null)O.comment=P;O6($);let Y=JSON.stringify(O);await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/feedback/${$}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await $6(z,"update feedback",!0),z})}async readFeedback($){O6($);let q=`/feedback/${$}`;return await this._get(q)}async deleteFeedback($){O6($);let q=`/feedback/${$}`;await this.caller.call(async()=>{let _=await this._fetch(this.apiUrl+q,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(_,`delete ${q}`,!0),_})}async*listFeedback({runIds:$,feedbackKeys:q,feedbackSourceTypes:_}={}){let K=new URLSearchParams;if($)for(let P of $)O6(P),K.append("run",P);if(q)for(let P of q)K.append("key",P);if(_)for(let P of _)K.append("source",P);for await(let P of this._getPaginated("/feedback",K))yield*P}async createPresignedFeedbackToken($,q,{expiration:_,feedbackConfig:K}={}){let P={run_id:$,feedback_key:q,feedback_config:K};if(_){if(typeof _==="string")P.expires_at=_;else if(_?.hours||_?.minutes||_?.days)P.expires_in=_}else P.expires_in={hours:3};let O=JSON.stringify(P);return await(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(z,"create presigned feedback token"),z})).json()}async createComparativeExperiment({name:$,experimentIds:q,referenceDatasetId:_,createdAt:K,description:P,metadata:O,id:Y}){if(q.length===0)throw Error("At least one experiment is required");if(!_)_=(await this.readProject({projectId:q[0]})).reference_dataset_id;if(!_==null)throw Error("A reference dataset is required");let z={id:Y,name:$,experiment_ids:q,reference_dataset_id:_,description:P,created_at:(K??new Date)?.toISOString(),extra:{}};if(O)z.extra.metadata=O;let H=JSON.stringify(z);return(await this.caller.call(async()=>{let f=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:H});return await $6(f,"create comparative experiment"),f})).json()}async*listPresignedFeedbackTokens($){O6($);let q=new URLSearchParams({run_id:$});for await(let _ of this._getPaginated("/feedback/tokens",q))yield*_}_selectEvalResults($){let q;if("results"in $)q=$.results;else if(Array.isArray($))q=$;else q=[$];return q}async _logEvaluationFeedback($,q,_){let K=this._selectEvalResults($),P=[];for(let O of K){let Y=_||{};if(O.evaluatorInfo)Y={...O.evaluatorInfo,...Y};let z=null;if(O.targetRunId)z=O.targetRunId;else if(q)z=q.id;P.push(await this.createFeedback(z,O.key,{score:O.score,value:O.value,comment:O.comment,correction:O.correction,sourceInfo:Y,sourceRunId:O.sourceRunId,feedbackConfig:O.feedbackConfig,feedbackSourceType:"model"}))}return[K,P]}async logEvaluationFeedback($,q,_){let[K]=await this._logEvaluationFeedback($,q,_);return K}async*listAnnotationQueues($={}){let{queueIds:q,name:_,nameContains:K,limit:P}=$,O=new URLSearchParams;if(q)q.forEach((z,H)=>{O6(z,`queueIds[${H}]`),O.append("ids",z)});if(_)O.append("name",_);if(K)O.append("name_contains",K);O.append("limit",(P!==void 0?Math.min(P,100):100).toString());let Y=0;for await(let z of this._getPaginated("/annotation-queues",O))if(yield*z,Y++,P!==void 0&&Y>=P)break}async createAnnotationQueue($){let{name:q,description:_,queueId:K,rubricInstructions:P}=$,O={name:q,description:_,id:K||jK(),rubric_instructions:P},Y=JSON.stringify(Object.fromEntries(Object.entries(O).filter(([H,T])=>T!==void 0)));return(await this.caller.call(async()=>{let H=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:Y});return await $6(H,"create annotation queue"),H})).json()}async readAnnotationQueue($){return(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(_,"read annotation queue"),_})).json()}async updateAnnotationQueue($,q){let{name:_,description:K,rubricInstructions:P}=q,O=JSON.stringify({name:_,description:K,rubric_instructions:P});await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(Y,"update annotation queue",!0),Y})}async deleteAnnotationQueue($){await this.caller.call(async()=>{let q=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(q,"delete annotation queue",!0),q})}async addRunsToAnnotationQueue($,q){let _=JSON.stringify(q.map((K,P)=>O6(K,`runIds[${P}]`).toString()));await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await $6(K,"add runs to annotation queue",!0),K})}async getRunFromAnnotationQueue($,q){let _=`/annotation-queues/${O6($,"queueId")}/run`;return(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}${_}/${q}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(P,"get run from annotation queue"),P})).json()}async deleteRunFromAnnotationQueue($,q){await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}/runs/${O6(q,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(_,"delete run from annotation queue",!0),_})}async getSizeFromAnnotationQueue($){return(await this.caller.call(async()=>{let _=await this._fetch(`${this.apiUrl}/annotation-queues/${O6($,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(_,"get size from annotation queue"),_})).json()}async _currentTenantIsOwner($){let q=await this._getSettings();return $=="-"||q.tenant_handle===$}async _ownerConflictError($,q){let _=await this._getSettings();return Error(`Cannot ${$} for another tenant.

      Current tenant: ${_.tenant_handle}

      Requested tenant: ${q}`)}async _getLatestCommitHash($){let _=await(await this.caller.call(async()=>{let K=await this._fetch(`${this.apiUrl}/commits/${$}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(K,"get latest commit hash"),K})).json();if(_.commits.length===0)return;return _.commits[0].commit_hash}async _likeOrUnlikePrompt($,q){let[_,K,P]=Y_($),O=JSON.stringify({like:q});return(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/likes/${_}/${K}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(z,`${q?"like":"unlike"} prompt`),z})).json()}async _getPromptUrl($){let[q,_,K]=Y_($);if(!await this._currentTenantIsOwner(q))if(K!=="latest")return`${this.getHostUrl()}/hub/${q}/${_}/${K.substring(0,8)}`;else return`${this.getHostUrl()}/hub/${q}/${_}`;else{let P=await this._getSettings();if(K!=="latest")return`${this.getHostUrl()}/prompts/${_}/${K.substring(0,8)}?organizationId=${P.id}`;else return`${this.getHostUrl()}/prompts/${_}?organizationId=${P.id}`}}async promptExists($){return!!await this.getPrompt($)}async likePrompt($){return this._likeOrUnlikePrompt($,!0)}async unlikePrompt($){return this._likeOrUnlikePrompt($,!1)}async*listCommits($){for await(let q of this._getPaginated(`/commits/${$}/`,new URLSearchParams,(_)=>_.commits))yield*q}async*listPrompts($){let q=new URLSearchParams;if(q.append("sort_field",$?.sortField??"updated_at"),q.append("sort_direction","desc"),q.append("is_archived",(!!$?.isArchived).toString()),$?.isPublic!==void 0)q.append("is_public",$.isPublic.toString());if($?.query)q.append("query",$.query);for await(let _ of this._getPaginated("/repos",q,(K)=>K.repos))yield*_}async getPrompt($){let[q,_,K]=Y_($),O=await(await this.caller.call(async()=>{let Y=await this._fetch(`${this.apiUrl}/repos/${q}/${_}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(Y?.status===404)return null;return await $6(Y,"get prompt"),Y}))?.json();if(O?.repo)return O.repo;else return null}async createPrompt($,q){let _=await this._getSettings();if(q?.isPublic&&!_.tenant_handle)throw Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[K,P,O]=Y_($);if(!await this._currentTenantIsOwner(K))throw await this._ownerConflictError("create a prompt",K);let Y={repo_handle:P,...q?.description&&{description:q.description},...q?.readme&&{readme:q.readme},...q?.tags&&{tags:q.tags},is_public:!!q?.isPublic},z=JSON.stringify(Y),H=await this.caller.call(async()=>{let f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:z});return await $6(f,"create prompt"),f}),{repo:T}=await H.json();return T}async createCommit($,q,_){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[K,P,O]=Y_($),Y=_?.parentCommitHash==="latest"||!_?.parentCommitHash?await this._getLatestCommitHash(`${K}/${P}`):_?.parentCommitHash,z={manifest:JSON.parse(JSON.stringify(q)),parent_commit:Y},H=JSON.stringify(z),f=await(await this.caller.call(async()=>{let w=await this._fetch(`${this.apiUrl}/commits/${K}/${P}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:H});return await $6(w,"create commit"),w})).json();return this._getPromptUrl(`${K}/${P}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart($,q=[]){return this._updateExamplesMultipart($,q)}async _updateExamplesMultipart($,q=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let _=new FormData;for(let O of q){let Y=O.id,z={...O.metadata&&{metadata:O.metadata},...O.split&&{split:O.split}},H=tq(z,`Serializing body for example with id: ${Y}`),T=new Blob([H],{type:"application/json"});if(_.append(Y,T),O.inputs){let f=tq(O.inputs,`Serializing inputs for example with id: ${Y}`),w=new Blob([f],{type:"application/json"});_.append(`${Y}.inputs`,w)}if(O.outputs){let f=tq(O.outputs,`Serializing outputs whle updating example with id: ${Y}`),w=new Blob([f],{type:"application/json"});_.append(`${Y}.outputs`,w)}if(O.attachments)for(let[f,w]of Object.entries(O.attachments)){let k,S;if(Array.isArray(w))[k,S]=w;else k=w.mimeType,S=w.data;let N=new Blob([S],{type:`${k}; length=${S.byteLength}`});_.append(`${Y}.attachment.${f}`,N)}if(O.attachments_operations){let f=tq(O.attachments_operations,`Serializing attachments while updating example with id: ${Y}`),w=new Blob([f],{type:"application/json"});_.append(`${Y}.attachments_operations`,w)}}let K=$??q[0]?.dataset_id;return(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${K}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await $6(O,"update examples"),O})).json()}async uploadExamplesMultipart($,q=[]){return this._uploadExamplesMultipart($,q)}async _uploadExamplesMultipart($,q=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let _=new FormData;for(let P of q){let O=(P.id??jK()).toString(),Y={created_at:P.created_at,...P.metadata&&{metadata:P.metadata},...P.split&&{split:P.split},...P.source_run_id&&{source_run_id:P.source_run_id},...P.use_source_run_io&&{use_source_run_io:P.use_source_run_io},...P.use_source_run_attachments&&{use_source_run_attachments:P.use_source_run_attachments}},z=tq(Y,`Serializing body for uploaded example with id: ${O}`),H=new Blob([z],{type:"application/json"});if(_.append(O,H),P.inputs){let T=tq(P.inputs,`Serializing inputs for uploaded example with id: ${O}`),f=new Blob([T],{type:"application/json"});_.append(`${O}.inputs`,f)}if(P.outputs){let T=tq(P.outputs,`Serializing outputs for uploaded example with id: ${O}`),f=new Blob([T],{type:"application/json"});_.append(`${O}.outputs`,f)}if(P.attachments)for(let[T,f]of Object.entries(P.attachments)){let w,k;if(Array.isArray(f))[w,k]=f;else w=f.mimeType,k=f.data;let S=new Blob([k],{type:`${w}; length=${k.byteLength}`});_.append(`${O}.attachment.${T}`,S)}}return(await this.caller.call(async()=>{let P=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${$}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await $6(P,"upload examples"),P})).json()}async updatePrompt($,q){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[_,K]=Y_($);if(!await this._currentTenantIsOwner(_))throw await this._ownerConflictError("update a prompt",_);let P={};if(q?.description!==void 0)P.description=q.description;if(q?.readme!==void 0)P.readme=q.readme;if(q?.tags!==void 0)P.tags=q.tags;if(q?.isPublic!==void 0)P.is_public=q.isPublic;if(q?.isArchived!==void 0)P.is_archived=q.isArchived;if(Object.keys(P).length===0)throw Error("No valid update options provided");let O=JSON.stringify(P);return(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/repos/${_}/${K}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:O});return await $6(z,"update prompt"),z})).json()}async deletePrompt($){if(!await this.promptExists($))throw Error("Prompt does not exist, you must create it first.");let[q,_,K]=Y_($);if(!await this._currentTenantIsOwner(q))throw await this._ownerConflictError("delete a prompt",q);return(await this.caller.call(async()=>{let O=await this._fetch(`${this.apiUrl}/repos/${q}/${_}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(O,"delete prompt"),O})).json()}async pullPromptCommit($,q){let[_,K,P]=Y_($),Y=await(await this.caller.call(async()=>{let z=await this._fetch(`${this.apiUrl}/commits/${_}/${K}/${P}${q?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $6(z,"pull prompt commit"),z})).json();return{owner:_,repo:K,commit_hash:Y.commit_hash,manifest:Y.manifest,examples:Y.examples}}async _pullPrompt($,q){let _=await this.pullPromptCommit($,{includeModel:q?.includeModel});return JSON.stringify(_.manifest)}async pushPrompt($,q){if(await this.promptExists($)){if(q&&Object.keys(q).some((K)=>K!=="object"))await this.updatePrompt($,{description:q?.description,readme:q?.readme,tags:q?.tags,isPublic:q?.isPublic})}else await this.createPrompt($,{description:q?.description,readme:q?.readme,tags:q?.tags,isPublic:q?.isPublic});if(!q?.object)return await this._getPromptUrl($);return await this.createCommit($,q?.object,{parentCommitHash:q?.parentCommitHash})}async clonePublicDataset($,q={}){let{sourceApiUrl:_=this.apiUrl,datasetName:K}=q,[P,O]=this.parseTokenOrUrl($,_),Y=new x_({apiUrl:P,apiKey:"placeholder"}),z=await Y.readSharedDataset(O),H=K||z.name;try{if(await this.hasDataset({datasetId:H})){console.log(`Dataset ${H} already exists in your tenant. Skipping.`);return}}catch(w){}let T=await Y.listSharedExamples(O),f=await this.createDataset(H,{description:z.description,dataType:z.data_type||"kv",inputsSchema:z.inputs_schema_definition??void 0,outputsSchema:z.outputs_schema_definition??void 0});try{await this.createExamples({inputs:T.map((w)=>w.inputs),outputs:T.flatMap((w)=>w.outputs?[w.outputs]:[]),datasetId:f.id})}catch(w){throw console.error(`An error occurred while creating dataset ${H}. You should delete it manually.`),w}}parseTokenOrUrl($,q,_=2,K="dataset"){try{return O6($),[q,$]}catch(P){}try{let O=new URL($).pathname.split("/").filter((Y)=>Y!=="");if(O.length>=_){let Y=O[O.length-_];return[q,Y]}else throw Error(`Invalid public ${K} URL: ${$}`)}catch(P){throw Error(`Invalid public ${K} URL or token: ${$}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();if(await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:$})=>$),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0)await jf()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function MX($){return"dataset_id"in $||"dataset_name"in $}var EX=($)=>{if($!==void 0)return $;return!!["TRACING_V2","TRACING"].find((_)=>n6(_)==="true")};var r8=Symbol.for("lc:context_variables"),K9=Symbol.for("langsmith:replica_trace_roots");function iO($,q){if(r8 in $)return $[r8][q];return}function hX($,q,_){let K=r8 in $?$[r8]:{};K[q]=_,$[r8]=K}var NP=36,CP="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function RX($){let _=Object.keys($).sort().map((K)=>`${K}:${$[K]??""}`).join("|");return vK(_,CP)}function dI($){return $.replace(/[-:.]/g,"")}function DX($,q=1){let _=q.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date($).toISOString().slice(0,-1)}${_}Z`}function BO($,q,_=1){let K=DX($,_);return{dottedOrder:dI(K)+q,microsecondPrecisionDatestring:K}}class P9{constructor($,q,_,K){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=$,this.tags=q,this.project_name=_,this.replicas=K}static fromHeader($){let q=$.split(","),_={},K=[],P,O;for(let Y of q){let[z,H]=Y.split("="),T=decodeURIComponent(H);if(z==="langsmith-metadata")_=JSON.parse(T);else if(z==="langsmith-tags")K=T.split(",");else if(z==="langsmith-project")P=T;else if(z==="langsmith-replicas")O=JSON.parse(T)}return new P9(_,K,P,O)}toHeader(){let $=[];if(this.metadata&&Object.keys(this.metadata).length>0)$.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`);if(this.tags&&this.tags.length>0)$.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`);if(this.project_name)$.push(`langsmith-project=${encodeURIComponent(this.project_name)}`);return $.join(",")}}class jq{constructor($){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),LX($)){Object.assign(this,{...$});return}let q=jq.getDefaultConfig(),{metadata:_,...K}=$,P=K.client??jq.getSharedClient(),O={..._,...K?.extra?.metadata};if(K.extra={...K.extra,metadata:O},"id"in K&&K.id==null)delete K.id;if(Object.assign(this,{...q,...K,client:P}),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order)this._serialized_start_time=DX(this.start_time,this.execution_order);if(!this.id)this.id=I1(this._serialized_start_time??this.start_time);if(!this.trace_id)if(this.parent_run)this.trace_id=this.parent_run.trace_id??this.id;else this.trace_id=this.id;if(this.replicas=nI(this.replicas),!this.dotted_order){let{dottedOrder:Y}=BO(this.start_time,this.id,this.execution_order);if(this.parent_run)this.dotted_order=this.parent_run.dotted_order+"."+Y;else this.dotted_order=Y}}set metadata($){this.extra={...this.extra,metadata:{...this.extra?.metadata,...$}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){let $=Date.now();return{run_type:"chain",project_name:wP(),child_runs:[],api_url:K8("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:K8("LANGCHAIN_API_KEY"),caller_options:{},start_time:$,serialized:{},inputs:{},extra:{}}}static getSharedClient(){if(!jq.sharedClient)jq.sharedClient=new x_;return jq.sharedClient}createChild($){let q=this.child_execution_order+1,_=this.replicas?.map((T)=>{let{reroot:f,...w}=T;return w}),K=$.replicas??_,P=new jq({...$,parent_run:this,project_name:this.project_name,replicas:K,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:q,child_execution_order:q});if(r8 in this)P[r8]=this[r8];let O=Symbol.for("lc:child_config"),Y=$.extra?.[O]??this.extra[O];if(rI(Y)){let T={...Y},f=lI(T.callbacks)?T.callbacks.copy?.():void 0;if(f)Object.assign(f,{_parentRunId:P.id}),f.handlers?.find(gX)?.updateFromRunTree?.(P),T.callbacks=f;P.extra[O]=T}let z=new Set,H=this;while(H!=null&&!z.has(H.id))z.add(H.id),H.child_execution_order=Math.max(H.child_execution_order,q),H=H.parent_run;return this.child_runs.push(P),P}async end($,q,_=Date.now(),K){if(this.outputs=this.outputs??$,this.error=this.error??q,this.end_time=this.end_time??_,K&&Object.keys(K).length>0)this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...K}}:{metadata:K}}_convertToCreate($,q,_=!0){let K=$.extra??{};if(K?.runtime?.library===void 0){if(!K.runtime)K.runtime={};if(q){for(let[Y,z]of Object.entries(q))if(!K.runtime[Y])K.runtime[Y]=z}}let P,O;if(!_)P=$.child_runs.map((Y)=>this._convertToCreate(Y,q,_)),O=void 0;else O=$.parent_run?.id??$.parent_run_id,P=[];return{id:$.id,name:$.name,start_time:$._serialized_start_time??$.start_time,end_time:$.end_time,run_type:$.run_type,reference_example_id:$.reference_example_id,extra:K,serialized:$.serialized,error:$.error,inputs:$.inputs,outputs:$.outputs,session_name:$.project_name,child_runs:P,parent_run_id:O,trace_id:$.trace_id,dotted_order:$.dotted_order,tags:$.tags,attachments:$.attachments,events:$.events}}_sliceParentId($,q){if(q.dotted_order){let _=q.dotted_order.split("."),K=null;for(let P=0;P<_.length;P++)if(_[P].slice(-NP)===$){K=P;break}if(K!==null){let P=_.slice(K+1);if(q.dotted_order=P.join("."),P.length>0)q.trace_id=P[0].slice(-NP);else q.trace_id=q.id}}if(q.parent_run_id===$)q.parent_run_id=void 0}_setReplicaTraceRoot($,q){let _=iO(this,K9)??{};_[$]=q,hX(this,K9,_);for(let K of this.child_runs)K._setReplicaTraceRoot($,q)}_remapForProject($){let{projectName:q,runtimeEnv:_,excludeChildRuns:K=!0,reroot:P=!1,distributedParentId:O,apiUrl:Y,apiKey:z,workspaceId:H}=$,T=this._convertToCreate(this,_,K);if(q===this.project_name)return{...T,session_name:q};if(P){if(O)this._sliceParentId(O,T);else if(T.parent_run_id=void 0,T.dotted_order){let D=T.dotted_order.split(".");if(D.length>0)T.dotted_order=D[D.length-1],T.trace_id=T.id}let E=RX({projectName:q,apiUrl:Y,apiKey:z,workspaceId:H});this._setReplicaTraceRoot(E,T.id)}let f;if(!P){let E=iO(this,K9)??{},D=RX({projectName:q,apiUrl:Y,apiKey:z,workspaceId:H});if(f=E[D],f){if(T.trace_id=f,T.dotted_order){let I=T.dotted_order.split("."),L=null;for(let g=0;g<I.length;g++)if(I[g].slice(-NP)===f){L=g;break}if(L!==null){let g=I.slice(L);T.dotted_order=g.join(".")}}}}let w=T.id,k=vK(`${w}:${q}`,CP),S;if(T.trace_id)S=vK(`${T.trace_id}:${q}`,CP);else S=k;let N;if(T.parent_run_id)N=vK(`${T.parent_run_id}:${q}`,CP);let h;if(T.dotted_order)h=T.dotted_order.split(".").map((I)=>{let L=I.slice(-NP),g=vK(`${L}:${q}`,CP);return I.slice(0,-NP)+g}).join(".");return{...T,id:k,trace_id:S,parent_run_id:N,dotted_order:h,session_name:q}}async postRun($=!0){try{let q=L1();if(this.replicas&&this.replicas.length>0)for(let{projectName:_,apiKey:K,apiUrl:P,workspaceId:O,reroot:Y}of this.replicas){let z=this._remapForProject({projectName:_??this.project_name,runtimeEnv:q,excludeChildRuns:!0,reroot:Y,distributedParentId:this.distributedParentId,apiUrl:P,apiKey:K,workspaceId:O});await this.client.createRun(z,{apiKey:K,apiUrl:P,workspaceId:O})}else{let _=this._convertToCreate(this,q,$);await this.client.createRun(_)}if(!$){iK("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let _ of this.child_runs)await _.postRun(!1)}}catch(q){console.error(`Error in postRun for run ${this.id}:`,q)}}async patchRun($){if(this.replicas&&this.replicas.length>0)for(let{projectName:q,apiKey:_,apiUrl:K,workspaceId:P,updates:O,reroot:Y}of this.replicas){let z=this._remapForProject({projectName:q??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:Y,distributedParentId:this.distributedParentId,apiUrl:K,apiKey:_,workspaceId:P}),H={id:z.id,name:z.name,run_type:z.run_type,start_time:z.start_time,outputs:z.outputs,error:z.error,parent_run_id:z.parent_run_id,session_name:z.session_name,reference_example_id:z.reference_example_id,end_time:z.end_time,dotted_order:z.dotted_order,trace_id:z.trace_id,events:z.events,tags:z.tags,extra:z.extra,attachments:this.attachments,...O};if(!$?.excludeInputs)H.inputs=z.inputs;await this.client.updateRun(z.id,H,{apiKey:_,apiUrl:K,workspaceId:P})}else try{let q={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};if(!$?.excludeInputs)q.inputs=this.inputs;await this.client.updateRun(this.id,q)}catch(q){console.error(`Error in patchRun for run ${this.id}`,q)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent($){if(!this.events)this.events=[];if(typeof $==="string")this.events.push({name:"event",time:new Date().toISOString(),message:$});else this.events.push({...$,time:$.time??new Date().toISOString()})}static fromRunnableConfig($,q){let _=$?.callbacks,K,P,O,Y=EX();if(_){let H=_?.getParentRunId?.()??"",T=_?.handlers?.find((f)=>f?.name=="langchain_tracer");K=T?.getRun?.(H),P=T?.projectName,O=T?.client,Y=Y||!!T}if(!K)return new jq({...q,client:O,tracingEnabled:Y,project_name:P});return new jq({name:K.name,id:K.id,trace_id:K.trace_id,dotted_order:K.dotted_order,client:O,tracingEnabled:Y,project_name:P,tags:[...new Set((K?.tags??[]).concat($?.tags??[]))],extra:{metadata:{...K?.extra?.metadata,...$?.metadata}}}).createChild(q)}static fromDottedOrder($){return this.fromHeaders({"langsmith-trace":$})}static fromHeaders($,q){let _="get"in $&&typeof $.get==="function"?{"langsmith-trace":$.get("langsmith-trace"),baggage:$.get("baggage")}:$,K=_["langsmith-trace"];if(!K||typeof K!=="string")return;let P=K.trim(),O=P.split(".").map((T)=>{let[f,w]=T.split("Z");return{strTime:f,time:Date.parse(f+"Z"),uuid:w}}),Y=O[0].uuid,z={...q,name:q?.name??"parent",run_type:q?.run_type??"chain",start_time:q?.start_time??Date.now(),id:O.at(-1)?.uuid,trace_id:Y,dotted_order:P};if(_.baggage&&typeof _.baggage==="string"){let T=P9.fromHeader(_.baggage);z.metadata=T.metadata,z.tags=T.tags,z.project_name=T.project_name,z.replicas=T.replicas}let H=new jq(z);return H.distributedParentId=H.id,H}toHeaders($){let q={"langsmith-trace":this.dotted_order,baggage:new P9(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if($)for(let[_,K]of Object.entries(q))$.set(_,K);return q}}Object.defineProperty(jq,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function LX($){return $!=null&&typeof $.createChild==="function"&&typeof $.postRun==="function"}function gX($){return typeof $==="object"&&$!=null&&typeof $.name==="string"&&$.name==="langchain_tracer"}function IX($){return Array.isArray($)&&$.some((q)=>gX(q))}function lI($){return typeof $==="object"&&$!=null&&Array.isArray($.handlers)}function rI($){return $!=null&&typeof $.callbacks==="object"&&(IX($.callbacks?.handlers)||IX($.callbacks))}function oI(){let $=K8("LANGSMITH_RUNS_ENDPOINTS");if(!$)return[];try{let q=JSON.parse($);if(Array.isArray(q)){let _=[];for(let K of q){if(typeof K!=="object"||K===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof K}`);continue}if(typeof K.api_url!=="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof K.api_url}`);continue}if(typeof K.api_key!=="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof K.api_key}`);continue}_.push({apiUrl:K.api_url.replace(/\/$/,""),apiKey:K.api_key})}return _}else if(typeof q==="object"&&q!==null){iI(q);let _=[];for(let[K,P]of Object.entries(q)){let O=K.replace(/\/$/,"");if(typeof P==="string")_.push({apiUrl:O,apiKey:P});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${K}: expected string, got ${typeof P}`);continue}}return _}else return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of "+`objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof q}`),[]}catch(q){if(XX(q))throw q;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of "+"objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function nI($){if($)return $.map((q)=>{if(Array.isArray(q))return{projectName:q[0],updates:q[1]};return q});return oI()}function iI($){if(Object.keys($).length>0&&n6("ENDPOINT"))throw new rO}var BI={};f6(BI,{BaseTracer:()=>R8,isBaseTracer:()=>WK});var tI=($)=>{if(!$)return;return $.events=$.events??[],$.child_runs=$.child_runs??[],$};function UO($,q){if(!$)return;return new jq({...$,start_time:$._serialized_start_time??$.start_time,parent_run:UO(q),child_runs:$.child_runs.map((_)=>UO(_)).filter((_)=>_!==void 0),extra:{...$.extra,runtime:$O()},tracingEnabled:!1})}function tO($,q){return $&&!Array.isArray($)&&typeof $==="object"?$:{[q]:$}}function WK($){return typeof $._addRunToRunMap==="function"}var R8=class extends YK{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor($){super(...arguments)}copy(){return this}getRunById($){if($===void 0)return;return this.usesRunTreeMap?tI(this.runTreeMap.get($)):this.runMap.get($)}stringifyError($){if($ instanceof Error)return $.message+($?.stack?`

${$.stack}`:"");if(typeof $==="string")return $;return`${$}`}_addChildRun($,q){$.child_runs.push(q)}_addRunToRunMap($){let{dottedOrder:q,microsecondPrecisionDatestring:_}=BO(new Date($.start_time).getTime(),$.id,$.execution_order),K={...$},P=this.getRunById(K.parent_run_id);if(K.parent_run_id!==void 0){if(P){if(this._addChildRun(P,K),P.child_execution_order=Math.max(P.child_execution_order,K.child_execution_order),K.trace_id=P.trace_id,P.dotted_order!==void 0)K.dotted_order=[P.dotted_order,q].join("."),K._serialized_start_time=_}}else K.trace_id=K.id,K.dotted_order=q,K._serialized_start_time=_;if(this.usesRunTreeMap){let O=UO(K,P);if(O!==void 0)this.runTreeMap.set(K.id,O)}else this.runMap.set(K.id,K);return K}async _endTrace($){let q=$.parent_run_id!==void 0&&this.getRunById($.parent_run_id);if(q)q.child_execution_order=Math.max(q.child_execution_order,$.child_execution_order);else await this.persistRun($);if(await this.onRunUpdate?.($),this.usesRunTreeMap)this.runTreeMap.delete($.id);else this.runMap.delete($.id)}_getExecutionOrder($){let q=$!==void 0&&this.getRunById($);if(!q)return 1;return q.child_execution_order+1}_createRunForLLMStart($,q,_,K,P,O,Y,z){let H=this._getExecutionOrder(K),T=Date.now(),f=Y?{...P,metadata:Y}:P,w={id:_,name:z??$.id[$.id.length-1],parent_run_id:K,start_time:T,serialized:$,events:[{name:"start",time:new Date(T).toISOString()}],inputs:{prompts:q},execution_order:H,child_runs:[],child_execution_order:H,run_type:"llm",extra:f??{},tags:O||[]};return this._addRunToRunMap(w)}async handleLLMStart($,q,_,K,P,O,Y,z){let H=this.getRunById(_)??this._createRunForLLMStart($,q,_,K,P,O,Y,z);return await this.onRunCreate?.(H),await this.onLLMStart?.(H),H}_createRunForChatModelStart($,q,_,K,P,O,Y,z){let H=this._getExecutionOrder(K),T=Date.now(),f=Y?{...P,metadata:Y}:P,w={id:_,name:z??$.id[$.id.length-1],parent_run_id:K,start_time:T,serialized:$,events:[{name:"start",time:new Date(T).toISOString()}],inputs:{messages:q},execution_order:H,child_runs:[],child_execution_order:H,run_type:"llm",extra:f??{},tags:O||[]};return this._addRunToRunMap(w)}async handleChatModelStart($,q,_,K,P,O,Y,z){let H=this.getRunById(_)??this._createRunForChatModelStart($,q,_,K,P,O,Y,z);return await this.onRunCreate?.(H),await this.onLLMStart?.(H),H}async handleLLMEnd($,q,_,K,P){let O=this.getRunById(q);if(!O||O?.run_type!=="llm")throw Error("No LLM run to end.");return O.end_time=Date.now(),O.outputs=$,O.events.push({name:"end",time:new Date(O.end_time).toISOString()}),O.extra={...O.extra,...P},await this.onLLMEnd?.(O),await this._endTrace(O),O}async handleLLMError($,q,_,K,P){let O=this.getRunById(q);if(!O||O?.run_type!=="llm")throw Error("No LLM run to end.");return O.end_time=Date.now(),O.error=this.stringifyError($),O.events.push({name:"error",time:new Date(O.end_time).toISOString()}),O.extra={...O.extra,...P},await this.onLLMError?.(O),await this._endTrace(O),O}_createRunForChainStart($,q,_,K,P,O,Y,z){let H=this._getExecutionOrder(K),T=Date.now(),f={id:_,name:z??$.id[$.id.length-1],parent_run_id:K,start_time:T,serialized:$,events:[{name:"start",time:new Date(T).toISOString()}],inputs:q,execution_order:H,child_execution_order:H,run_type:Y??"chain",child_runs:[],extra:O?{metadata:O}:{},tags:P||[]};return this._addRunToRunMap(f)}async handleChainStart($,q,_,K,P,O,Y,z){let H=this.getRunById(_)??this._createRunForChainStart($,q,_,K,P,O,Y,z);return await this.onRunCreate?.(H),await this.onChainStart?.(H),H}async handleChainEnd($,q,_,K,P){let O=this.getRunById(q);if(!O)throw Error("No chain run to end.");if(O.end_time=Date.now(),O.outputs=tO($,"output"),O.events.push({name:"end",time:new Date(O.end_time).toISOString()}),P?.inputs!==void 0)O.inputs=tO(P.inputs,"input");return await this.onChainEnd?.(O),await this._endTrace(O),O}async handleChainError($,q,_,K,P){let O=this.getRunById(q);if(!O)throw Error("No chain run to end.");if(O.end_time=Date.now(),O.error=this.stringifyError($),O.events.push({name:"error",time:new Date(O.end_time).toISOString()}),P?.inputs!==void 0)O.inputs=tO(P.inputs,"input");return await this.onChainError?.(O),await this._endTrace(O),O}_createRunForToolStart($,q,_,K,P,O,Y){let z=this._getExecutionOrder(K),H=Date.now(),T={id:_,name:Y??$.id[$.id.length-1],parent_run_id:K,start_time:H,serialized:$,events:[{name:"start",time:new Date(H).toISOString()}],inputs:{input:q},execution_order:z,child_execution_order:z,run_type:"tool",child_runs:[],extra:O?{metadata:O}:{},tags:P||[]};return this._addRunToRunMap(T)}async handleToolStart($,q,_,K,P,O,Y){let z=this.getRunById(_)??this._createRunForToolStart($,q,_,K,P,O,Y);return await this.onRunCreate?.(z),await this.onToolStart?.(z),z}async handleToolEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="tool")throw Error("No tool run to end");return _.end_time=Date.now(),_.outputs={output:$},_.events.push({name:"end",time:new Date(_.end_time).toISOString()}),await this.onToolEnd?.(_),await this._endTrace(_),_}async handleToolError($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="tool")throw Error("No tool run to end");return _.end_time=Date.now(),_.error=this.stringifyError($),_.events.push({name:"error",time:new Date(_.end_time).toISOString()}),await this.onToolError?.(_),await this._endTrace(_),_}async handleAgentAction($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;let K=_;K.actions=K.actions||[],K.actions.push($),K.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:$}}),await this.onAgentAction?.(_)}async handleAgentEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;_.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:$}}),await this.onAgentEnd?.(_)}_createRunForRetrieverStart($,q,_,K,P,O,Y){let z=this._getExecutionOrder(K),H=Date.now(),T={id:_,name:Y??$.id[$.id.length-1],parent_run_id:K,start_time:H,serialized:$,events:[{name:"start",time:new Date(H).toISOString()}],inputs:{query:q},execution_order:z,child_execution_order:z,run_type:"retriever",child_runs:[],extra:O?{metadata:O}:{},tags:P||[]};return this._addRunToRunMap(T)}async handleRetrieverStart($,q,_,K,P,O,Y){let z=this.getRunById(_)??this._createRunForRetrieverStart($,q,_,K,P,O,Y);return await this.onRunCreate?.(z),await this.onRetrieverStart?.(z),z}async handleRetrieverEnd($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="retriever")throw Error("No retriever run to end");return _.end_time=Date.now(),_.outputs={documents:$},_.events.push({name:"end",time:new Date(_.end_time).toISOString()}),await this.onRetrieverEnd?.(_),await this._endTrace(_),_}async handleRetrieverError($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="retriever")throw Error("No retriever run to end");return _.end_time=Date.now(),_.error=this.stringifyError($),_.events.push({name:"error",time:new Date(_.end_time).toISOString()}),await this.onRetrieverError?.(_),await this._endTrace(_),_}async handleText($,q){let _=this.getRunById(q);if(!_||_?.run_type!=="chain")return;_.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:$}}),await this.onText?.(_)}async handleLLMNewToken($,q,_,K,P,O){let Y=this.getRunById(_);if(!Y||Y?.run_type!=="llm")throw Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return Y.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:$,idx:q,chunk:O?.chunk}}),await this.onLLMNewToken?.(Y,$,{chunk:O?.chunk}),Y}};var FO=N8(xX(),1),FI={};f6(FI,{ConsoleCallbackHandler:()=>O9});function bq($,q){return`${$.open}${q}${$.close}`}function H8($,q){try{return JSON.stringify($,null,2)}catch{return q}}function pX($){if(typeof $==="string")return $.trim();if($===null||$===void 0)return $;return H8($,$.toString())}function p_($){if(!$.end_time)return"";let q=$.end_time-$.start_time;if(q<1000)return`${q}ms`;return`${(q/1000).toFixed(2)}s`}var{color:Uq}=FO.default,O9=class extends R8{name="console_callback_handler";persistRun($){return Promise.resolve()}getParents($){let q=[],_=$;while(_.parent_run_id){let K=this.runMap.get(_.parent_run_id);if(K)q.push(K),_=K;else break}return q}getBreadcrumbs($){let _=[...this.getParents($).reverse(),$].map((K,P,O)=>{let Y=`${K.execution_order}:${K.run_type}:${K.name}`;return P===O.length-1?bq(FO.default.bold,Y):Y}).join(" > ");return bq(Uq.grey,_)}onChainStart($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.green,"[chain/start]")} [${q}] Entering Chain run with input: ${H8($.inputs,"[inputs]")}`)}onChainEnd($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.cyan,"[chain/end]")} [${q}] [${p_($)}] Exiting Chain run with output: ${H8($.outputs,"[outputs]")}`)}onChainError($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.red,"[chain/error]")} [${q}] [${p_($)}] Chain run errored with error: ${H8($.error,"[error]")}`)}onLLMStart($){let q=this.getBreadcrumbs($),_="prompts"in $.inputs?{prompts:$.inputs.prompts.map((K)=>K.trim())}:$.inputs;console.log(`${bq(Uq.green,"[llm/start]")} [${q}] Entering LLM run with input: ${H8(_,"[inputs]")}`)}onLLMEnd($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.cyan,"[llm/end]")} [${q}] [${p_($)}] Exiting LLM run with output: ${H8($.outputs,"[response]")}`)}onLLMError($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.red,"[llm/error]")} [${q}] [${p_($)}] LLM run errored with error: ${H8($.error,"[error]")}`)}onToolStart($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.green,"[tool/start]")} [${q}] Entering Tool run with input: "${pX($.inputs.input)}"`)}onToolEnd($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.cyan,"[tool/end]")} [${q}] [${p_($)}] Exiting Tool run with output: "${pX($.outputs?.output)}"`)}onToolError($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.red,"[tool/error]")} [${q}] [${p_($)}] Tool run errored with error: ${H8($.error,"[error]")}`)}onRetrieverStart($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.green,"[retriever/start]")} [${q}] Entering Retriever run with input: ${H8($.inputs,"[inputs]")}`)}onRetrieverEnd($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.cyan,"[retriever/end]")} [${q}] [${p_($)}] Exiting Retriever run with output: ${H8($.outputs,"[outputs]")}`)}onRetrieverError($){let q=this.getBreadcrumbs($);console.log(`${bq(Uq.red,"[retriever/error]")} [${q}] [${p_($)}] Retriever run errored with error: ${H8($.error,"[error]")}`)}onAgentAction($){let q=$,_=this.getBreadcrumbs($);console.log(`${bq(Uq.blue,"[agent/action]")} [${_}] Agent selected action: ${H8(q.actions[q.actions.length-1],"[action]")}`)}};var aO,Y9=()=>{if(aO===void 0){let $=C8("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};aO=new x_($)}return aO};class cX{getStore(){return}run($,q){return q()}}var QO=Symbol.for("ls:tracing_async_local_storage"),aI=new cX;class mX{getInstance(){return globalThis[QO]??aI}initializeGlobalInstance($){if(globalThis[QO]===void 0)globalThis[QO]=$}}var QI=new mX;function dX($=!1){let q=QI.getInstance().getStore();if(!$&&q===void 0)throw Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return q}function j9($){return typeof $==="function"&&"langsmith:traceable"in $}var eI={};f6(eI,{LangChainTracer:()=>EP});var EP=class $ extends R8{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(q={}){super(q);let{exampleId:_,projectName:K,client:P,replicas:O}=q;this.projectName=K??wP(),this.replicas=O,this.exampleId=_,this.client=P??Y9();let Y=$.getTraceableRunTree();if(Y)this.updateFromRunTree(Y)}async persistRun(q){}async onRunCreate(q){await this.getRunTreeWithTracingConfig(q.id)?.postRun()}async onRunUpdate(q){await this.getRunTreeWithTracingConfig(q.id)?.patchRun()}getRun(q){return this.runTreeMap.get(q)}updateFromRunTree(q){this.runTreeMap.set(q.id,q);let _=q,K=new Set;while(_.parent_run){if(K.has(_.id))break;if(K.add(_.id),!_.parent_run)break;_=_.parent_run}K.clear();let P=[_];while(P.length>0){let O=P.shift();if(!O||K.has(O.id))continue;if(K.add(O.id),this.runTreeMap.set(O.id,O),O.child_runs)P.push(...O.child_runs)}this.client=q.client??this.client,this.replicas=q.replicas??this.replicas,this.projectName=q.project_name??this.projectName,this.exampleId=q.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(q){let _=this.runTreeMap.get(q);if(!_)return;return new jq({..._,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return dX(!0)}catch{return}}};var v9=N8(c1(),1),JK;function sI(){return new("default"in v9.default?v9.default.default:v9.default)({autoStart:!0,concurrency:1})}function $D(){if(typeof JK>"u")JK=sI();return JK}async function m6($,q){if(q===!0){let _=b_();if(_!==void 0)await _.run(void 0,async()=>$());else await $()}else JK=$D(),JK.add(async()=>{let _=b_();if(_!==void 0)await _.run(void 0,async()=>$());else await $()})}async function lX(){let $=Y9();await Promise.allSettled([typeof JK<"u"?JK.onIdle():Promise.resolve(),$.awaitPendingTraceBatches()])}var qD={};f6(qD,{awaitAllCallbacks:()=>lX,consumeCallback:()=>m6});var rX=($)=>{if($!==void 0)return $;return!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((_)=>C8(_)==="true")};function eO($){let q=b_();if(q===void 0)return;return q.getStore()?.[g_]?.[$]}var _D=Symbol("lc:configure_hooks"),oX=()=>eO(_D)||[];var KD={};f6(KD,{BaseCallbackManager:()=>nX,BaseRunManager:()=>hP,CallbackManager:()=>j_,CallbackManagerForChainRun:()=>BX,CallbackManagerForLLMRun:()=>sO,CallbackManagerForRetrieverRun:()=>iX,CallbackManagerForToolRun:()=>tX,ensureHandler:()=>UK,parseCallbackConfigArg:()=>PD});function PD($){if(!$)return{};else if(Array.isArray($)||"name"in $)return{callbacks:$};else return $}var nX=class{setHandler($){return this.setHandlers([$])}},hP=class{constructor($,q,_,K,P,O,Y,z){this.runId=$,this.handlers=q,this.inheritableHandlers=_,this.tags=K,this.inheritableTags=P,this.metadata=O,this.inheritableMetadata=Y,this._parentRunId=z}get parentRunId(){return this._parentRunId}async handleText($){await Promise.all(this.handlers.map((q)=>m6(async()=>{try{await q.handleText?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleText: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleCustomEvent($,q,_,K,P){await Promise.all(this.handlers.map((O)=>m6(async()=>{try{await O.handleCustomEvent?.($,q,this.runId,this.tags,this.metadata)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleCustomEvent: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}},iX=class extends hP{getChild($){let q=new j_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleRetrieverEnd($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreRetriever)try{await q.handleRetrieverEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleRetriever`),q.raiseError)throw _}},q.awaitHandlers)))}async handleRetrieverError($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreRetriever)try{await q.handleRetrieverError?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleRetrieverError: ${_}`),q.raiseError)throw $}},q.awaitHandlers)))}},sO=class extends hP{async handleLLMNewToken($,q,_,K,P,O){await Promise.all(this.handlers.map((Y)=>m6(async()=>{if(!Y.ignoreLLM)try{await Y.handleLLMNewToken?.($,q??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,O)}catch(z){if((Y.raiseError?console.error:console.warn)(`Error in handler ${Y.constructor.name}, handleLLMNewToken: ${z}`),Y.raiseError)throw z}},Y.awaitHandlers)))}async handleLLMError($,q,_,K,P){await Promise.all(this.handlers.map((O)=>m6(async()=>{if(!O.ignoreLLM)try{await O.handleLLMError?.($,this.runId,this._parentRunId,this.tags,P)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleLLMError: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleLLMEnd($,q,_,K,P){await Promise.all(this.handlers.map((O)=>m6(async()=>{if(!O.ignoreLLM)try{await O.handleLLMEnd?.($,this.runId,this._parentRunId,this.tags,P)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleLLMEnd: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}},BX=class extends hP{getChild($){let q=new j_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleChainError($,q,_,K,P){await Promise.all(this.handlers.map((O)=>m6(async()=>{if(!O.ignoreChain)try{await O.handleChainError?.($,this.runId,this._parentRunId,this.tags,P)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleChainError: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleChainEnd($,q,_,K,P){await Promise.all(this.handlers.map((O)=>m6(async()=>{if(!O.ignoreChain)try{await O.handleChainEnd?.($,this.runId,this._parentRunId,this.tags,P)}catch(Y){if((O.raiseError?console.error:console.warn)(`Error in handler ${O.constructor.name}, handleChainEnd: ${Y}`),O.raiseError)throw Y}},O.awaitHandlers)))}async handleAgentAction($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreAgent)try{await q.handleAgentAction?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleAgentAction: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleAgentEnd($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreAgent)try{await q.handleAgentEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleAgentEnd: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}},tX=class extends hP{getChild($){let q=new j_(this.runId);if(q.setHandlers(this.inheritableHandlers),q.addTags(this.inheritableTags),q.addMetadata(this.inheritableMetadata),$)q.addTags([$],!1);return q}async handleToolError($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreAgent)try{await q.handleToolError?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleToolError: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}async handleToolEnd($){await Promise.all(this.handlers.map((q)=>m6(async()=>{if(!q.ignoreAgent)try{await q.handleToolEnd?.($,this.runId,this._parentRunId,this.tags)}catch(_){if((q.raiseError?console.error:console.warn)(`Error in handler ${q.constructor.name}, handleToolEnd: ${_}`),q.raiseError)throw _}},q.awaitHandlers)))}},j_=class $ extends nX{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(q,_){super();this.handlers=_?.handlers??this.handlers,this.inheritableHandlers=_?.inheritableHandlers??this.inheritableHandlers,this.tags=_?.tags??this.tags,this.inheritableTags=_?.inheritableTags??this.inheritableTags,this.metadata=_?.metadata??this.metadata,this.inheritableMetadata=_?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=q}getParentRunId(){return this._parentRunId}async handleLLMStart(q,_,K=void 0,P=void 0,O=void 0,Y=void 0,z=void 0,H=void 0){return Promise.all(_.map(async(T,f)=>{let w=f===0&&K?K:Bq();return await Promise.all(this.handlers.map((k)=>{if(k.ignoreLLM)return;if(WK(k))k._createRunForLLMStart(q,[T],w,this._parentRunId,O,this.tags,this.metadata,H);return m6(async()=>{try{await k.handleLLMStart?.(q,[T],w,this._parentRunId,O,this.tags,this.metadata,H)}catch(S){if((k.raiseError?console.error:console.warn)(`Error in handler ${k.constructor.name}, handleLLMStart: ${S}`),k.raiseError)throw S}},k.awaitHandlers)})),new sO(w,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(q,_,K=void 0,P=void 0,O=void 0,Y=void 0,z=void 0,H=void 0){return Promise.all(_.map(async(T,f)=>{let w=f===0&&K?K:Bq();return await Promise.all(this.handlers.map((k)=>{if(k.ignoreLLM)return;if(WK(k))k._createRunForChatModelStart(q,[T],w,this._parentRunId,O,this.tags,this.metadata,H);return m6(async()=>{try{if(k.handleChatModelStart)await k.handleChatModelStart?.(q,[T],w,this._parentRunId,O,this.tags,this.metadata,H);else if(k.handleLLMStart){let S=vw(T);await k.handleLLMStart?.(q,[S],w,this._parentRunId,O,this.tags,this.metadata,H)}}catch(S){if((k.raiseError?console.error:console.warn)(`Error in handler ${k.constructor.name}, handleLLMStart: ${S}`),k.raiseError)throw S}},k.awaitHandlers)})),new sO(w,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(q,_,K=Bq(),P=void 0,O=void 0,Y=void 0,z=void 0){return await Promise.all(this.handlers.map((H)=>{if(H.ignoreChain)return;if(WK(H))H._createRunForChainStart(q,_,K,this._parentRunId,this.tags,this.metadata,P,z);return m6(async()=>{try{await H.handleChainStart?.(q,_,K,this._parentRunId,this.tags,this.metadata,P,z)}catch(T){if((H.raiseError?console.error:console.warn)(`Error in handler ${H.constructor.name}, handleChainStart: ${T}`),H.raiseError)throw T}},H.awaitHandlers)})),new BX(K,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(q,_,K=Bq(),P=void 0,O=void 0,Y=void 0,z=void 0){return await Promise.all(this.handlers.map((H)=>{if(H.ignoreAgent)return;if(WK(H))H._createRunForToolStart(q,_,K,this._parentRunId,this.tags,this.metadata,z);return m6(async()=>{try{await H.handleToolStart?.(q,_,K,this._parentRunId,this.tags,this.metadata,z)}catch(T){if((H.raiseError?console.error:console.warn)(`Error in handler ${H.constructor.name}, handleToolStart: ${T}`),H.raiseError)throw T}},H.awaitHandlers)})),new tX(K,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(q,_,K=Bq(),P=void 0,O=void 0,Y=void 0,z=void 0){return await Promise.all(this.handlers.map((H)=>{if(H.ignoreRetriever)return;if(WK(H))H._createRunForRetrieverStart(q,_,K,this._parentRunId,this.tags,this.metadata,z);return m6(async()=>{try{await H.handleRetrieverStart?.(q,_,K,this._parentRunId,this.tags,this.metadata,z)}catch(T){if((H.raiseError?console.error:console.warn)(`Error in handler ${H.constructor.name}, handleRetrieverStart: ${T}`),H.raiseError)throw T}},H.awaitHandlers)})),new iX(K,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(q,_,K,P,O){await Promise.all(this.handlers.map((Y)=>m6(async()=>{if(!Y.ignoreCustomEvent)try{await Y.handleCustomEvent?.(q,_,K,this.tags,this.metadata)}catch(z){if((Y.raiseError?console.error:console.warn)(`Error in handler ${Y.constructor.name}, handleCustomEvent: ${z}`),Y.raiseError)throw z}},Y.awaitHandlers)))}addHandler(q,_=!0){if(this.handlers.push(q),_)this.inheritableHandlers.push(q)}removeHandler(q){this.handlers=this.handlers.filter((_)=>_!==q),this.inheritableHandlers=this.inheritableHandlers.filter((_)=>_!==q)}setHandlers(q,_=!0){this.handlers=[],this.inheritableHandlers=[];for(let K of q)this.addHandler(K,_)}addTags(q,_=!0){if(this.removeTags(q),this.tags.push(...q),_)this.inheritableTags.push(...q)}removeTags(q){this.tags=this.tags.filter((_)=>!q.includes(_)),this.inheritableTags=this.inheritableTags.filter((_)=>!q.includes(_))}addMetadata(q,_=!0){if(this.metadata={...this.metadata,...q},_)this.inheritableMetadata={...this.inheritableMetadata,...q}}removeMetadata(q){for(let _ of Object.keys(q))delete this.metadata[_],delete this.inheritableMetadata[_]}copy(q=[],_=!0){let K=new $(this._parentRunId);for(let P of this.handlers){let O=this.inheritableHandlers.includes(P);K.addHandler(P,O)}for(let P of this.tags){let O=this.inheritableTags.includes(P);K.addTags([P],O)}for(let P of Object.keys(this.metadata)){let O=Object.keys(this.inheritableMetadata).includes(P);K.addMetadata({[P]:this.metadata[P]},O)}for(let P of q){if(K.handlers.filter((O)=>O.name==="console_callback_handler").some((O)=>O.name===P.name))continue;K.addHandler(P,_)}return K}static fromHandlers(q){class _ extends YK{name=Bq();constructor(){super();Object.assign(this,q)}}let K=new this;return K.addHandler(new _),K}static configure(q,_,K,P,O,Y,z){return this._configureSync(q,_,K,P,O,Y,z)}static _configureSync(q,_,K,P,O,Y,z){let H;if(q||_){if(Array.isArray(q)||!q)H=new $,H.setHandlers(q?.map(UK)??[],!0);else H=q;H=H.copy(Array.isArray(_)?_.map(UK):_?.handlers,!1)}let T=C8("LANGCHAIN_VERBOSE")==="true"||z?.verbose,f=EP.getTraceableRunTree()?.tracingEnabled||rX(),w=f||(C8("LANGCHAIN_TRACING")??!1);if(T||w){if(!H)H=new $;if(T&&!H.handlers.some((k)=>k.name===O9.prototype.name)){let k=new O9;H.addHandler(k,!0)}if(w&&!H.handlers.some((k)=>k.name==="langchain_tracer")){if(f){let k=new EP;H.addHandler(k,!0)}}if(f){let k=EP.getTraceableRunTree();if(k&&H._parentRunId===void 0)H._parentRunId=k.id,H.handlers.find((N)=>N.name==="langchain_tracer")?.updateFromRunTree(k)}}for(let{contextVar:k,inheritable:S=!0,handlerClass:N,envVar:h}of oX()){let E=h&&C8(h)==="true"&&N,D,I=k!==void 0?eO(k):void 0;if(I&&KO(I))D=I;else if(E)D=new N({});if(D!==void 0){if(!H)H=new $;if(!H.handlers.some((L)=>L.name===D.name))H.addHandler(D,S)}}if(K||P){if(H)H.addTags(K??[]),H.addTags(P??[],!1)}if(O||Y){if(H)H.addMetadata(O??{}),H.addMetadata(Y??{},!1)}return H}};function UK($){if("name"in $)return $;return YK.fromMethods($)}var $Y=class{getStore(){return}run($,q){return q()}enterWith($){return}},OD=new $Y,UX=Symbol.for("lc:child_config"),YD=class{getInstance(){return b_()??OD}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[UX]}runWithConfig($,q,_){let K=j_._configureSync($?.callbacks,void 0,$?.tags,void 0,$?.metadata),P=this.getInstance(),O=P.getStore(),Y=K?.getParentRunId(),z=K?.handlers?.find((T)=>T?.name==="langchain_tracer"),H;if(z&&Y)H=z.getRunTreeWithTracingConfig(Y);else if(!_)H=new jq({name:"<runnable_lambda>",tracingEnabled:!1});if(H)H.extra={...H.extra,[UX]:$};if(O!==void 0&&O[g_]!==void 0){if(H===void 0)H={};H[g_]=O[g_]}return P.run(H,q)}initializeGlobalInstance($){if(b_()===void 0)LT($)}},Fq=new YD;var jD={};f6(jD,{AsyncLocalStorageProviderSingleton:()=>Fq,MockAsyncLocalStorage:()=>$Y,_CONTEXT_VARIABLES_KEY:()=>g_});var z9=25;async function T8($){return j_._configureSync($?.callbacks,void 0,$?.tags,void 0,$?.metadata)}function qY(...$){let q={};for(let _ of $.filter((K)=>!!K))for(let K of Object.keys(_))if(K==="metadata")q[K]={...q[K],..._[K]};else if(K==="tags"){let P=q[K]??[];q[K]=[...new Set(P.concat(_[K]??[]))]}else if(K==="configurable")q[K]={...q[K],..._[K]};else if(K==="timeout"){if(q.timeout===void 0)q.timeout=_.timeout;else if(_.timeout!==void 0)q.timeout=Math.min(q.timeout,_.timeout)}else if(K==="signal"){if(q.signal===void 0)q.signal=_.signal;else if(_.signal!==void 0)if("any"in AbortSignal)q.signal=AbortSignal.any([q.signal,_.signal]);else q.signal=_.signal}else if(K==="callbacks"){let P=q.callbacks,O=_.callbacks;if(Array.isArray(O))if(!P)q.callbacks=O;else if(Array.isArray(P))q.callbacks=P.concat(O);else{let Y=P.copy();for(let z of O)Y.addHandler(UK(z),!0);q.callbacks=Y}else if(O)if(!P)q.callbacks=O;else if(Array.isArray(P)){let Y=O.copy();for(let z of P)Y.addHandler(UK(z),!0);q.callbacks=Y}else q.callbacks=new j_(O._parentRunId,{handlers:P.handlers.concat(O.handlers),inheritableHandlers:P.inheritableHandlers.concat(O.inheritableHandlers),tags:Array.from(new Set(P.tags.concat(O.tags))),inheritableTags:Array.from(new Set(P.inheritableTags.concat(O.inheritableTags))),metadata:{...P.metadata,...O.metadata}})}else{let P=K;q[P]=_[P]??q[P]}return q}var vD=new Set(["string","number","boolean"]);function N6($){let q=Fq.getRunnableConfig(),_={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(q){let{runId:K,runName:P,...O}=q;_=Object.entries(O).reduce((Y,[z,H])=>{if(H!==void 0)Y[z]=H;return Y},_)}if($)_=Object.entries($).reduce((K,[P,O])=>{if(O!==void 0)K[P]=O;return K},_);if(_?.configurable){for(let K of Object.keys(_.configurable))if(vD.has(typeof _.configurable[K])&&!_.metadata?.[K]){if(!_.metadata)_.metadata={};_.metadata[K]=_.configurable[K]}}if(_.timeout!==void 0){if(_.timeout<=0)throw Error("Timeout must be a positive number");let K=AbortSignal.timeout(_.timeout);if(_.signal!==void 0){if("any"in AbortSignal)_.signal=AbortSignal.any([_.signal,K])}else _.signal=K;delete _.timeout}return _}function hq($={},{callbacks:q,maxConcurrency:_,recursionLimit:K,runName:P,configurable:O,runId:Y}={}){let z=N6($);if(q!==void 0)delete z.runName,z.callbacks=q;if(K!==void 0)z.recursionLimit=K;if(_!==void 0)z.maxConcurrency=_;if(P!==void 0)z.runName=P;if(O!==void 0)z.configurable={...z.configurable,...O};if(Y!==void 0)delete z.runId;return z}function v_($){if(!$)return;return{configurable:$.configurable,recursionLimit:$.recursionLimit,callbacks:$.callbacks,tags:$.tags,metadata:$.metadata,maxConcurrency:$.maxConcurrency,timeout:$.timeout,signal:$.signal,store:$.store}}async function o8($,q){if(q===void 0)return $;let _;return Promise.race([$.catch((K)=>{if(!q?.aborted)throw K;else return}),new Promise((K,P)=>{if(_=()=>{P(FK(q))},q.addEventListener("abort",_),q.aborted)P(FK(q))})]).finally(()=>q.removeEventListener("abort",_))}function FK($){if($?.reason instanceof Error)return $.reason;if(typeof $?.reason==="string")return Error($.reason);return Error("Aborted")}var zD={};f6(zD,{AsyncGeneratorWithSetup:()=>c_,IterableReadableStream:()=>yq,atee:()=>W9,concat:()=>J9,pipeGeneratorWithSetup:()=>_Y});var yq=class $ extends ReadableStream{reader;ensureReader(){if(!this.reader)this.reader=this.getReader()}async next(){this.ensureReader();try{let q=await this.reader.read();if(q.done)return this.reader.releaseLock(),{done:!0,value:void 0};else return{done:!1,value:q.value}}catch(q){throw this.reader.releaseLock(),q}}async return(){if(this.ensureReader(),this.locked){let q=this.reader.cancel();this.reader.releaseLock(),await q}return{done:!0,value:void 0}}async throw(q){if(this.ensureReader(),this.locked){let _=this.reader.cancel();this.reader.releaseLock(),await _}throw q}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(q){let _=q.getReader();return new $({start(K){return P();function P(){return _.read().then(({done:O,value:Y})=>{if(O){K.close();return}return K.enqueue(Y),P()})}},cancel(){_.releaseLock()}})}static fromAsyncGenerator(q){return new $({async pull(_){let{value:K,done:P}=await q.next();if(P)_.close();_.enqueue(K)},async cancel(_){await q.return(_)}})}};function W9($,q=2){let _=Array.from({length:q},()=>[]);return _.map(async function*(P){while(!0)if(P.length===0){let O=await $.next();for(let Y of _)Y.push(O)}else if(P[0].done)return;else yield P.shift().value})}function J9($,q){if(Array.isArray($)&&Array.isArray(q))return $.concat(q);else if(typeof $==="string"&&typeof q==="string")return $+q;else if(typeof $==="number"&&typeof q==="number")return $+q;else if("concat"in $&&typeof $.concat==="function")return $.concat(q);else if(typeof $==="object"&&typeof q==="object"){let _={...$};for(let[K,P]of Object.entries(q))if(K in _&&!Array.isArray(_[K]))_[K]=J9(_[K],P);else _[K]=P;return _}else throw Error(`Cannot concat ${typeof $} and ${typeof q}`)}var c_=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor($){this.generator=$.generator,this.config=$.config,this.signal=$.signal??this.config?.signal,this.setup=new Promise((q,_)=>{Fq.runWithConfig(v_($.config),async()=>{if(this.firstResult=$.generator.next(),$.startSetup)this.firstResult.then($.startSetup).then(q,_);else this.firstResult.then((K)=>q(void 0),_)},!0)})}async next(...$){if(this.signal?.throwIfAborted(),!this.firstResultUsed)return this.firstResultUsed=!0,this.firstResult;return Fq.runWithConfig(v_(this.config),this.signal?async()=>{return o8(this.generator.next(...$),this.signal)}:async()=>{return this.generator.next(...$)},!0)}async return($){return this.generator.return($)}async throw($){return this.generator.throw($)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function _Y($,q,_,K,...P){let O=new c_({generator:q,startSetup:_,signal:K}),Y=await O.setup;return{output:$(O,Y,...P),setup:Y}}/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/var WD=Object.prototype.hasOwnProperty;function aX($,q){return WD.call($,q)}function QX($){if(Array.isArray($)){let _=Array($.length);for(let K=0;K<_.length;K++)_[K]=""+K;return _}if(Object.keys)return Object.keys($);let q=[];for(let _ in $)if(aX($,_))q.push(_);return q}function I8($){switch(typeof $){case"object":return JSON.parse(JSON.stringify($));case"undefined":return null;default:return $}}function T9($){let q=0,_=$.length,K;while(q<_){if(K=$.charCodeAt(q),K>=48&&K<=57){q++;continue}return!1}return!0}function KY($){if($.indexOf("/")===-1&&$.indexOf("~")===-1)return $;return $.replace(/~/g,"~0").replace(/\//g,"~1")}function w9($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}function H9($){if($===void 0)return!0;if($){if(Array.isArray($)){for(let _=0,K=$.length;_<K;_++)if(H9($[_]))return!0}else if(typeof $==="object"){let _=QX($),K=_.length;for(var q=0;q<K;q++)if(H9($[_[q]]))return!0}}return!1}function FX($,q){let _=[$];for(let K in q){let P=typeof q[K]==="object"?JSON.stringify(q[K],null,2):q[K];if(typeof P<"u")_.push(`${K}: ${P}`)}return _.join(`
`)}var f9=class extends Error{constructor($,q,_,K,P){super(FX($,{name:q,index:_,operation:K,tree:P}));this.name=q,this.index=_,this.operation=K,this.tree=P,Object.setPrototypeOf(this,new.target.prototype),this.message=FX($,{name:q,index:_,operation:K,tree:P})}};var PY={};f6(PY,{JsonPatchError:()=>d6,_areEquals:()=>QK,applyOperation:()=>m_,applyPatch:()=>HK,applyReducer:()=>eX,deepClone:()=>JD,getValueByPointer:()=>RP,validate:()=>OY,validator:()=>IP});var d6=f9,JD=I8,aK={add:function($,q,_){return $[q]=this.value,{newDocument:_}},remove:function($,q,_){var K=$[q];return delete $[q],{newDocument:_,removed:K}},replace:function($,q,_){var K=$[q];return $[q]=this.value,{newDocument:_,removed:K}},move:function($,q,_){let K=RP(_,this.path);if(K)K=I8(K);let P=m_(_,{op:"remove",path:this.from}).removed;return m_(_,{op:"add",path:this.path,value:P}),{newDocument:_,removed:K}},copy:function($,q,_){let K=RP(_,this.from);return m_(_,{op:"add",path:this.path,value:I8(K)}),{newDocument:_}},test:function($,q,_){return{newDocument:_,test:QK($[q],this.value)}},_get:function($,q,_){return this.value=$[q],{newDocument:_}}},HD={add:function($,q,_){if(T9(q))$.splice(q,0,this.value);else $[q]=this.value;return{newDocument:_,index:q}},remove:function($,q,_){var K=$.splice(q,1);return{newDocument:_,removed:K[0]}},replace:function($,q,_){var K=$[q];return $[q]=this.value,{newDocument:_,removed:K}},move:aK.move,copy:aK.copy,test:aK.test,_get:aK._get};function RP($,q){if(q=="")return $;var _={op:"_get",path:q};return m_($,_),_.value}function m_($,q,_=!1,K=!0,P=!0,O=0){if(_)if(typeof _=="function")_(q,0,$,q.path);else IP(q,0);if(q.path===""){let Y={newDocument:$};if(q.op==="add")return Y.newDocument=q.value,Y;else if(q.op==="replace")return Y.newDocument=q.value,Y.removed=$,Y;else if(q.op==="move"||q.op==="copy"){if(Y.newDocument=RP($,q.from),q.op==="move")Y.removed=$;return Y}else if(q.op==="test"){if(Y.test=QK($,q.value),Y.test===!1)throw new d6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return Y.newDocument=$,Y}else if(q.op==="remove")return Y.removed=$,Y.newDocument=null,Y;else if(q.op==="_get")return q.value=$,Y;else if(_)throw new d6("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",O,q,$);else return Y}else{if(!K)$=I8($);let z=(q.path||"").split("/"),H=$,T=1,f=z.length,w=void 0,k,S;if(typeof _=="function")S=_;else S=IP;while(!0){if(k=z[T],k&&k.indexOf("~")!=-1)k=w9(k);if(P&&(k=="__proto__"||k=="prototype"&&T>0&&z[T-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(_){if(w===void 0){if(H[k]===void 0)w=z.slice(0,T).join("/");else if(T==f-1)w=q.path;if(w!==void 0)S(q,0,$,w)}}if(T++,Array.isArray(H)){if(k==="-")k=H.length;else if(_&&!T9(k))throw new d6("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",O,q,$);else if(T9(k))k=~~k;if(T>=f){if(_&&q.op==="add"&&k>H.length)throw new d6("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",O,q,$);let N=HD[q.op].call(q,H,k,$);if(N.test===!1)throw new d6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return N}}else if(T>=f){let N=aK[q.op].call(q,H,k,$);if(N.test===!1)throw new d6("Test operation failed","TEST_OPERATION_FAILED",O,q,$);return N}if(H=H[k],_&&T<f&&(!H||typeof H!=="object"))throw new d6("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",O,q,$)}}}function HK($,q,_,K=!0,P=!0){if(_){if(!Array.isArray(q))throw new d6("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY")}if(!K)$=I8($);let O=Array(q.length);for(let Y=0,z=q.length;Y<z;Y++)O[Y]=m_($,q[Y],_,!0,P,Y),$=O[Y].newDocument;return O.newDocument=$,O}function eX($,q,_){let K=m_($,q);if(K.test===!1)throw new d6("Test operation failed","TEST_OPERATION_FAILED",_,q,$);return K.newDocument}function IP($,q,_,K){if(typeof $!=="object"||$===null||Array.isArray($))throw new d6("Operation is not an object","OPERATION_NOT_AN_OBJECT",q,$,_);else if(!aK[$.op])throw new d6("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",q,$,_);else if(typeof $.path!=="string")throw new d6("Operation `path` property is not a string","OPERATION_PATH_INVALID",q,$,_);else if($.path.indexOf("/")!==0&&$.path.length>0)throw new d6('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",q,$,_);else if(($.op==="move"||$.op==="copy")&&typeof $.from!=="string")throw new d6("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",q,$,_);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&$.value===void 0)throw new d6("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",q,$,_);else if(($.op==="add"||$.op==="replace"||$.op==="test")&&H9($.value))throw new d6("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",q,$,_);else if(_){if($.op=="add"){var P=$.path.split("/").length,O=K.split("/").length;if(P!==O+1&&P!==O)throw new d6("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",q,$,_)}else if($.op==="replace"||$.op==="remove"||$.op==="_get"){if($.path!==K)throw new d6("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",q,$,_)}else if($.op==="move"||$.op==="copy"){var Y={op:"_get",path:$.from,value:void 0},z=OY([Y],_);if(z&&z.name==="OPERATION_PATH_UNRESOLVABLE")throw new d6("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",q,$,_)}}}function OY($,q,_){try{if(!Array.isArray($))throw new d6("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(q)HK(I8(q),I8($),_||!0);else{_=_||IP;for(var K=0;K<$.length;K++)_($[K],K,q,void 0)}}catch(P){if(P instanceof d6)return P;else throw P}}function QK($,q){if($===q)return!0;if($&&q&&typeof $=="object"&&typeof q=="object"){var _=Array.isArray($),K=Array.isArray(q),P,O,Y;if(_&&K){if(O=$.length,O!=q.length)return!1;for(P=O;P--!==0;)if(!QK($[P],q[P]))return!1;return!0}if(_!=K)return!1;var z=Object.keys($);if(O=z.length,O!==Object.keys(q).length)return!1;for(P=O;P--!==0;)if(!q.hasOwnProperty(z[P]))return!1;for(P=O;P--!==0;)if(Y=z[P],!QK($[Y],q[Y]))return!1;return!0}return $!==$&&q!==q}var Tq$={...PY,JsonPatchError:f9,deepClone:I8,escapePathComponent:KY,unescapePathComponent:w9};var TD={};f6(TD,{LogStreamCallbackHandler:()=>X9,RunLog:()=>Z9,RunLogPatch:()=>n8,isLogStreamHandler:()=>YY});var n8=class{ops;constructor($){this.ops=$.ops??[]}concat($){let q=this.ops.concat($.ops),_=HK({},q);return new Z9({ops:q,state:_[_.length-1].newDocument})}},Z9=class $ extends n8{state;constructor(q){super(q);this.state=q.state}concat(q){let _=this.ops.concat(q.ops),K=HK(this.state,q.ops);return new $({ops:_,state:K[K.length-1].newDocument})}static fromRunLogPatch(q){let _=HK({},q.ops);return new $({ops:q.ops,state:_[_.length-1].newDocument})}},YY=($)=>$.name==="log_stream_tracer";async function sX($,q){if(q==="original")throw Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:_}=$;if(["retriever","llm","prompt"].includes($.run_type))return _;if(Object.keys(_).length===1&&_?.input==="")return;return _.input}async function $A($,q){let{outputs:_}=$;if(q==="original")return _;if(["retriever","llm","prompt"].includes($.run_type))return _;if(_!==void 0&&Object.keys(_).length===1&&_?.output!==void 0)return _.output;return _}function wD($){return $!==void 0&&$.message!==void 0}var X9=class extends R8{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor($){super({_awaitHandler:!0,...$});this.autoClose=$?.autoClose??!0,this.includeNames=$?.includeNames,this.includeTypes=$?.includeTypes,this.includeTags=$?.includeTags,this.excludeNames=$?.excludeNames,this.excludeTypes=$?.excludeTypes,this.excludeTags=$?.excludeTags,this._schemaFormat=$?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=yq.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun($){}_includeRun($){if($.id===this.rootId)return!1;let q=$.tags??[],_=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes($.run_type);if(this.includeTags!==void 0)_=_||q.find((K)=>this.includeTags?.includes(K))!==void 0;if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes($.run_type);if(this.excludeTags!==void 0)_=_&&q.every((K)=>!this.excludeTags?.includes(K));return _}async*tapOutputIterable($,q){for await(let _ of q){if($!==this.rootId){let K=this.keyMapByRunId[$];if(K)await this.writer.write(new n8({ops:[{op:"add",path:`/logs/${K}/streamed_output/-`,value:_}]}))}yield _}}async onRunCreate($){if(this.rootId===void 0)this.rootId=$.id,await this.writer.write(new n8({ops:[{op:"replace",path:"",value:{id:$.id,name:$.name,type:$.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}));if(!this._includeRun($))return;if(this.counterMapByRunName[$.name]===void 0)this.counterMapByRunName[$.name]=0;this.counterMapByRunName[$.name]+=1;let q=this.counterMapByRunName[$.name];this.keyMapByRunId[$.id]=q===1?$.name:`${$.name}:${q}`;let _={id:$.id,name:$.name,type:$.run_type,tags:$.tags??[],metadata:$.extra?.metadata??{},start_time:new Date($.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};if(this._schemaFormat==="streaming_events")_.inputs=await sX($,this._schemaFormat);await this.writer.write(new n8({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[$.id]}`,value:_}]}))}async onRunUpdate($){try{let q=this.keyMapByRunId[$.id];if(q===void 0)return;let _=[];if(this._schemaFormat==="streaming_events")_.push({op:"replace",path:`/logs/${q}/inputs`,value:await sX($,this._schemaFormat)});if(_.push({op:"add",path:`/logs/${q}/final_output`,value:await $A($,this._schemaFormat)}),$.end_time!==void 0)_.push({op:"add",path:`/logs/${q}/end_time`,value:new Date($.end_time).toISOString()});let K=new n8({ops:_});await this.writer.write(K)}finally{if($.id===this.rootId){let q=new n8({ops:[{op:"replace",path:"/final_output",value:await $A($,this._schemaFormat)}]});if(await this.writer.write(q),this.autoClose)await this.writer.close()}}}async onLLMNewToken($,q,_){let K=this.keyMapByRunId[$.id];if(K===void 0)return;let P=$.inputs.messages!==void 0,O;if(P)if(wD(_?.chunk))O=_?.chunk;else O=new WP({id:`run-${$.id}`,content:q});else O=q;let Y=new n8({ops:[{op:"add",path:`/logs/${K}/streamed_output_str/-`,value:q},{op:"add",path:`/logs/${K}/streamed_output/-`,value:O}]});await this.writer.write(Y)}};var fD={};f6(fD,{ChatGenerationChunk:()=>XD,GenerationChunk:()=>DP,RUN_KEY:()=>ZD});var ZD="__run",DP=class ${text;generationInfo;constructor(q){this.text=q.text,this.generationInfo=q.generationInfo}concat(q){return new $({text:this.text+q.text,generationInfo:{...this.generationInfo,...q.generationInfo}})}},XD=class $ extends DP{message;constructor(q){super(q);this.message=q.message}concat(q){return new $({text:this.text+q.text,generationInfo:{...this.generationInfo,...q.generationInfo},message:this.message.concat(q.message)})}};function A9({name:$,serialized:q}){if($!==void 0)return $;if(q?.name!==void 0)return q.name;else if(q?.id!==void 0&&Array.isArray(q?.id))return q.id[q.id.length-1];return"Unnamed"}var qA=($)=>$.name==="event_stream_tracer",_A=class extends R8{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;name="event_stream_tracer";lc_prefer_streaming=!0;constructor($){super({_awaitHandler:!0,...$});this.autoClose=$?.autoClose??!0,this.includeNames=$?.includeNames,this.includeTypes=$?.includeTypes,this.includeTags=$?.includeTags,this.excludeNames=$?.excludeNames,this.excludeTypes=$?.excludeTypes,this.excludeTags=$?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=yq.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun($){}_includeRun($){let q=$.tags??[],_=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes($.runType);if(this.includeTags!==void 0)_=_||q.find((K)=>this.includeTags?.includes(K))!==void 0;if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes($.runType);if(this.excludeTags!==void 0)_=_&&q.every((K)=>!this.excludeTags?.includes(K));return _}async*tapOutputIterable($,q){let _=await q.next();if(_.done)return;let K=this.runInfoMap.get($);if(K===void 0){yield _.value;return}function P(Y,z){if(Y==="llm"&&typeof z==="string")return new DP({text:z});return z}let O=this.tappedPromises.get($);if(O===void 0){let Y;O=new Promise((z)=>{Y=z}),this.tappedPromises.set($,O);try{let z={event:`on_${K.runType}_stream`,run_id:$,name:K.name,tags:K.tags,metadata:K.metadata,data:{}};await this.send({...z,data:{chunk:P(K.runType,_.value)}},K),yield _.value;for await(let H of q){if(K.runType!=="tool"&&K.runType!=="retriever")await this.send({...z,data:{chunk:P(K.runType,H)}},K);yield H}}finally{Y?.()}}else{yield _.value;for await(let Y of q)yield Y}}async send($,q){if(this._includeRun(q))await this.writer.write($)}async sendEndEvent($,q){let _=this.tappedPromises.get($.run_id);if(_!==void 0)_.then(()=>{this.send($,q)});else await this.send($,q)}async onLLMStart($){let q=A9($),_=$.inputs.messages!==void 0?"chat_model":"llm",K={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:_,inputs:$.inputs};this.runInfoMap.set($.id,K);let P=`on_${_}_start`;await this.send({event:P,data:{input:$.inputs},name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},K)}async onLLMNewToken($,q,_){let K=this.runInfoMap.get($.id),P,O;if(K===void 0)throw Error(`onLLMNewToken: Run ID ${$.id} not found in run map.`);if(this.runInfoMap.size===1)return;if(K.runType==="chat_model")if(O="on_chat_model_stream",_?.chunk===void 0)P=new WP({content:q,id:`run-${$.id}`});else P=_.chunk.message;else if(K.runType==="llm")if(O="on_llm_stream",_?.chunk===void 0)P=new DP({text:q});else P=_.chunk;else throw Error(`Unexpected run type ${K.runType}`);await this.send({event:O,data:{chunk:P},run_id:$.id,name:K.name,tags:K.tags,metadata:K.metadata},K)}async onLLMEnd($){let q=this.runInfoMap.get($.id);this.runInfoMap.delete($.id);let _;if(q===void 0)throw Error(`onLLMEnd: Run ID ${$.id} not found in run map.`);let K=$.outputs?.generations,P;if(q.runType==="chat_model"){for(let O of K??[]){if(P!==void 0)break;P=O[0]?.message}_="on_chat_model_end"}else if(q.runType==="llm")P={generations:K?.map((O)=>{return O.map((Y)=>{return{text:Y.text,generationInfo:Y.generationInfo}})}),llmOutput:$.outputs?.llmOutput??{}},_="on_llm_end";else throw Error(`onLLMEnd: Unexpected run type: ${q.runType}`);await this.sendEndEvent({event:_,data:{output:P,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async onChainStart($){let q=A9($),_=$.run_type??"chain",K={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:$.run_type},P={};if($.inputs.input===""&&Object.keys($.inputs).length===1)P={},K.inputs={};else if($.inputs.input!==void 0)P.input=$.inputs.input,K.inputs=$.inputs.input;else P.input=$.inputs,K.inputs=$.inputs;this.runInfoMap.set($.id,K),await this.send({event:`on_${_}_start`,data:P,name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},K)}async onChainEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onChainEnd: Run ID ${$.id} not found in run map.`);let _=`on_${$.run_type}_end`,K=$.inputs??q.inputs??{},O={output:$.outputs?.output??$.outputs,input:K};if(K.input&&Object.keys(K).length===1)O.input=K.input,q.inputs=K.input;await this.sendEndEvent({event:_,data:O,run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata??{}},q)}async onToolStart($){let q=A9($),_={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:"tool",inputs:$.inputs??{}};this.runInfoMap.set($.id,_),await this.send({event:"on_tool_start",data:{input:$.inputs??{}},name:q,run_id:$.id,tags:$.tags??[],metadata:$.extra?.metadata??{}},_)}async onToolEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onToolEnd: Run ID ${$.id} not found in run map.`);if(q.inputs===void 0)throw Error(`onToolEnd: Run ID ${$.id} is a tool call, and is expected to have traced inputs.`);let _=$.outputs?.output===void 0?$.outputs:$.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:_,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async onRetrieverStart($){let q=A9($),_="retriever",K={tags:$.tags??[],metadata:$.extra?.metadata??{},name:q,runType:"retriever",inputs:{query:$.inputs.query}};this.runInfoMap.set($.id,K),await this.send({event:"on_retriever_start",data:{input:{query:$.inputs.query}},name:q,tags:$.tags??[],run_id:$.id,metadata:$.extra?.metadata??{}},K)}async onRetrieverEnd($){let q=this.runInfoMap.get($.id);if(this.runInfoMap.delete($.id),q===void 0)throw Error(`onRetrieverEnd: Run ID ${$.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:$.outputs?.documents??$.outputs,input:q.inputs},run_id:$.id,name:q.name,tags:q.tags,metadata:q.metadata},q)}async handleCustomEvent($,q,_){let K=this.runInfoMap.get(_);if(K===void 0)throw Error(`handleCustomEvent: Run ID ${_} not found in run map.`);await this.send({event:"on_custom_event",run_id:_,name:$,tags:K.tags,metadata:K.metadata,data:q},K)}async finish(){let $=[...this.tappedPromises.values()];Promise.all($).finally(()=>{this.writer.close()})}};var AD=Object.prototype.toString,kD=($)=>AD.call($)==="[object Error]",GD=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function KA($){if(!($&&kD($)&&$.name==="TypeError"&&typeof $.message==="string"))return!1;let{message:_,stack:K}=$;if(_==="Load failed")return K===void 0||"__sentry_captured__"in $;if(_.startsWith("error sending request for url"))return!0;return GD.has(_)}function VD($){if(typeof $==="number"){if($<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN($))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if($!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}function k9($,q,{min:_=0,allowInfinity:K=!1}={}){if(q===void 0)return;if(typeof q!=="number"||Number.isNaN(q))throw TypeError(`Expected \`${$}\` to be a number${K?" or Infinity":""}.`);if(!K&&!Number.isFinite(q))throw TypeError(`Expected \`${$}\` to be a finite number.`);if(q<_)throw TypeError(`Expected \`${$}\` to be  ${_}.`)}var SD=class extends Error{constructor($){super();if($ instanceof Error)this.originalError=$,{message:$}=$;else this.originalError=Error($),this.originalError.stack=this.stack;this.name="AbortError",this.message=$}};function MD($,q){let _=Math.max(1,$+1),K=q.randomize?Math.random()+1:1,P=Math.round(K*q.minTimeout*q.factor**(_-1));return P=Math.min(P,q.maxTimeout),P}function PA($,q){if(!Number.isFinite(q))return q;return q-(performance.now()-$)}async function ND({error:$,attemptNumber:q,retriesConsumed:_,startTime:K,options:P}){let O=$ instanceof Error?$:TypeError(`Non-error was thrown: "${$}". You should only throw errors.`);if(O instanceof SD)throw O.originalError;let Y=Number.isFinite(P.retries)?Math.max(0,P.retries-_):P.retries,z=P.maxRetryTime??Number.POSITIVE_INFINITY,H=Object.freeze({error:O,attemptNumber:q,retriesLeft:Y,retriesConsumed:_});if(await P.onFailedAttempt(H),PA(K,z)<=0)throw O;let T=await P.shouldConsumeRetry(H),f=PA(K,z);if(f<=0||Y<=0)throw O;if(O instanceof TypeError&&!KA(O)){if(T)throw O;return P.signal?.throwIfAborted(),!1}if(!await P.shouldRetry(H))throw O;if(!T)return P.signal?.throwIfAborted(),!1;let w=MD(_,P),k=Math.min(w,f);if(k>0)await new Promise((S,N)=>{let h=()=>{clearTimeout(E),P.signal?.removeEventListener("abort",h),N(P.signal.reason)},E=setTimeout(()=>{P.signal?.removeEventListener("abort",h),S()},k);if(P.unref)E.unref?.();P.signal?.addEventListener("abort",h,{once:!0})});return P.signal?.throwIfAborted(),!0}async function LP($,q={}){if(q={...q},VD(q.retries),Object.hasOwn(q,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");if(q.retries??=10,q.factor??=2,q.minTimeout??=1000,q.maxTimeout??=Number.POSITIVE_INFINITY,q.maxRetryTime??=Number.POSITIVE_INFINITY,q.randomize??=!1,q.onFailedAttempt??=()=>{},q.shouldRetry??=()=>!0,q.shouldConsumeRetry??=()=>!0,k9("factor",q.factor,{min:0,allowInfinity:!1}),k9("minTimeout",q.minTimeout,{min:0,allowInfinity:!1}),k9("maxTimeout",q.maxTimeout,{min:0,allowInfinity:!0}),k9("maxRetryTime",q.maxRetryTime,{min:0,allowInfinity:!0}),!(q.factor>0))q.factor=1;q.signal?.throwIfAborted();let _=0,K=0,P=performance.now();while(Number.isFinite(q.retries)?K<=q.retries:!0){_++;try{q.signal?.throwIfAborted();let O=await $(_);return q.signal?.throwIfAborted(),O}catch(O){if(await ND({error:O,attemptNumber:_,retriesConsumed:K,startTime:P,options:q}))K++}}throw Error("Retry attempts exhausted without throwing an error.")}var G9=N8(c1(),1),CD={};f6(CD,{AsyncCaller:()=>gP});var ED=[400,401,402,403,404,405,406,407,409],hD=($)=>{if($.message.startsWith("Cancel")||$.message.startsWith("AbortError")||$.name==="AbortError")throw $;if($?.code==="ECONNABORTED")throw $;let q=$?.response?.status??$?.status;if(q&&ED.includes(+q))throw $;if($?.error?.code==="insufficient_quota"){let _=Error($?.message);throw _.name="InsufficientQuotaError",_}},gP=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor($){this.maxConcurrency=$.maxConcurrency??1/0,this.maxRetries=$.maxRetries??6,this.onFailedAttempt=$.onFailedAttempt??hD;let q="default"in G9.default?G9.default.default:G9.default;this.queue=new q({concurrency:this.maxConcurrency})}async call($,...q){return this.queue.add(()=>LP(()=>$(...q).catch((_)=>{if(_ instanceof Error)throw _;else throw Error(_)}),{onFailedAttempt:({error:_})=>this.onFailedAttempt?.(_),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions($,q,..._){if($.signal){let K;return Promise.race([this.call(q,..._),new Promise((P,O)=>{K=()=>{O(FK($.signal))},$.signal?.addEventListener("abort",K)})]).finally(()=>{if($.signal&&K)$.signal.removeEventListener("abort",K)})}return this.call(q,..._)}fetch(...$){return this.call(()=>fetch(...$).then((q)=>q.ok?q:Promise.reject(q)))}};var jY=class extends R8{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:$,onStart:q,onEnd:_,onError:K}){super({_awaitHandler:!0});this.config=$,this.argOnStart=q,this.argOnEnd=_,this.argOnError=K}persistRun($){return Promise.resolve()}async onRunCreate($){if(this.rootId)return;if(this.rootId=$.id,this.argOnStart)await this.argOnStart($,this.config)}async onRunUpdate($){if($.id!==this.rootId)return;if(!$.error){if(this.argOnEnd)await this.argOnEnd($,this.config)}else if(this.argOnError)await this.argOnError($,this.config)}};function bP($){return $?$.lc_runnable:!1}var OA=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor($){this.includeNames=$.includeNames,this.includeTypes=$.includeTypes,this.includeTags=$.includeTags,this.excludeNames=$.excludeNames,this.excludeTypes=$.excludeTypes,this.excludeTags=$.excludeTags}includeEvent($,q){let _=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,K=$.tags??[];if(this.includeNames!==void 0)_=_||this.includeNames.includes($.name);if(this.includeTypes!==void 0)_=_||this.includeTypes.includes(q);if(this.includeTags!==void 0)_=_||K.some((P)=>this.includeTags?.includes(P));if(this.excludeNames!==void 0)_=_&&!this.excludeNames.includes($.name);if(this.excludeTypes!==void 0)_=_&&!this.excludeTypes.includes(q);if(this.excludeTags!==void 0)_=_&&K.every((P)=>!this.excludeTags?.includes(P));return _}},YA=($)=>{return btoa($).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};var J_={};oq(J_,{version:()=>Z3,util:()=>l$,treeifyError:()=>kY,toJSONSchema:()=>J4,toDotPath:()=>HA,safeParseAsync:()=>SY,safeParse:()=>VY,safeEncodeAsync:()=>YL,safeEncode:()=>PL,safeDecodeAsync:()=>jL,safeDecode:()=>OL,registry:()=>B9,regexes:()=>f8,prettifyError:()=>GY,parseAsync:()=>K4,parse:()=>nP,meta:()=>qz,locales:()=>q7,isValidJWT:()=>DA,isValidBase64URL:()=>IA,isValidBase64:()=>c3,globalRegistry:()=>y6,globalConfig:()=>yP,formatError:()=>oP,flattenError:()=>rP,encodeAsync:()=>_L,encode:()=>$L,describe:()=>$z,decodeAsync:()=>KL,decode:()=>qL,config:()=>i6,clone:()=>l6,_xid:()=>K5,_void:()=>dv,_uuidv7:()=>Q9,_uuidv6:()=>a9,_uuidv4:()=>F9,_uuid:()=>U9,_url:()=>P7,_uppercase:()=>z7,_unknown:()=>T5,_union:()=>ug,_undefined:()=>pv,_ulid:()=>_5,_uint64:()=>uv,_uint32:()=>Iv,_tuple:()=>cg,_trim:()=>f7,_transform:()=>ig,_toUpperCase:()=>X7,_toLowerCase:()=>Z7,_templateLiteral:()=>$b,_symbol:()=>xv,_superRefine:()=>sv,_success:()=>ag,_stringbool:()=>_z,_stringFormat:()=>W4,_string:()=>fv,_startsWith:()=>J7,_slugify:()=>A7,_size:()=>Y7,_set:()=>lg,_safeParseAsync:()=>O4,_safeParse:()=>P4,_safeEncodeAsync:()=>I9,_safeEncode:()=>h9,_safeDecodeAsync:()=>D9,_safeDecode:()=>R9,_regex:()=>j7,_refine:()=>ev,_record:()=>mg,_readonly:()=>sg,_property:()=>Uv,_promise:()=>_b,_positive:()=>nv,_pipe:()=>eg,_parseAsync:()=>_4,_parse:()=>q4,_overwrite:()=>B8,_optional:()=>Bg,_number:()=>Mv,_nullable:()=>tg,_null:()=>cv,_normalize:()=>w7,_nonpositive:()=>Bv,_nonoptional:()=>Fg,_nonnegative:()=>tv,_never:()=>O7,_negative:()=>iv,_nativeEnum:()=>og,_nanoid:()=>s9,_nan:()=>ov,_multipleOf:()=>XK,_minSize:()=>AK,_minLength:()=>i_,_min:()=>Qq,_mime:()=>T7,_maxSize:()=>j4,_maxLength:()=>v4,_max:()=>Z8,_map:()=>dg,_mac:()=>Xv,_lte:()=>Z8,_lt:()=>z_,_lowercase:()=>v7,_literal:()=>ng,_length:()=>z4,_lazy:()=>qb,_ksuid:()=>P5,_jwt:()=>H5,_isoTime:()=>Vv,_isoDuration:()=>Sv,_isoDateTime:()=>kv,_isoDate:()=>Gv,_ipv6:()=>Y5,_ipv4:()=>O5,_intersection:()=>pg,_int64:()=>yv,_int32:()=>Rv,_int:()=>Cv,_includes:()=>W7,_guid:()=>K7,_gte:()=>Qq,_gt:()=>W_,_float64:()=>hv,_float32:()=>Ev,_file:()=>av,_enum:()=>rg,_endsWith:()=>H7,_encodeAsync:()=>C9,_encode:()=>M9,_emoji:()=>e9,_email:()=>t9,_e164:()=>J5,_discriminatedUnion:()=>xg,_default:()=>Ug,_decodeAsync:()=>E9,_decode:()=>N9,_date:()=>lv,_custom:()=>Qv,_cuid2:()=>q5,_cuid:()=>$5,_coercedString:()=>Zv,_coercedNumber:()=>Nv,_coercedDate:()=>rv,_coercedBoolean:()=>Lv,_coercedBigint:()=>bv,_cidrv6:()=>v5,_cidrv4:()=>j5,_check:()=>cA,_catch:()=>Qg,_boolean:()=>Dv,_bigint:()=>gv,_base64url:()=>W5,_base64:()=>z5,_array:()=>Fv,_any:()=>mv,TimePrecision:()=>Av,NEVER:()=>vY,JSONSchemaGenerator:()=>w5,JSONSchema:()=>mA,Doc:()=>y9,$output:()=>Tv,$input:()=>wv,$constructor:()=>j$,$brand:()=>zY,$ZodXID:()=>h3,$ZodVoid:()=>a3,$ZodUnknown:()=>r9,$ZodUnion:()=>o9,$ZodUndefined:()=>t3,$ZodUUID:()=>k3,$ZodURL:()=>V3,$ZodULID:()=>E3,$ZodType:()=>P6,$ZodTuple:()=>n9,$ZodTransform:()=>vj,$ZodTemplateLiteral:()=>Aj,$ZodSymbol:()=>B3,$ZodSuccess:()=>Tj,$ZodStringFormat:()=>C6,$ZodString:()=>ZK,$ZodSet:()=>Pj,$ZodRegistry:()=>_7,$ZodRecord:()=>_j,$ZodRealError:()=>aq,$ZodReadonly:()=>Xj,$ZodPromise:()=>Gj,$ZodPrefault:()=>Jj,$ZodPipe:()=>Zj,$ZodOptional:()=>i9,$ZodObjectJIT:()=>s3,$ZodObject:()=>bA,$ZodNumberFormat:()=>n3,$ZodNumber:()=>d9,$ZodNullable:()=>zj,$ZodNull:()=>U3,$ZodNonOptional:()=>Hj,$ZodNever:()=>UP,$ZodNanoID:()=>M3,$ZodNaN:()=>fj,$ZodMap:()=>Kj,$ZodMAC:()=>u3,$ZodLiteral:()=>Yj,$ZodLazy:()=>Vj,$ZodKSUID:()=>R3,$ZodJWT:()=>r3,$ZodIntersection:()=>qj,$ZodISOTime:()=>L3,$ZodISODuration:()=>g3,$ZodISODateTime:()=>I3,$ZodISODate:()=>D3,$ZodIPv6:()=>y3,$ZodIPv4:()=>b3,$ZodGUID:()=>A3,$ZodFunction:()=>kj,$ZodFile:()=>jj,$ZodError:()=>lP,$ZodEnum:()=>Oj,$ZodEncodeError:()=>TK,$ZodEmoji:()=>S3,$ZodEmail:()=>G3,$ZodE164:()=>l3,$ZodDiscriminatedUnion:()=>$j,$ZodDefault:()=>Wj,$ZodDate:()=>Q3,$ZodCustomStringFormat:()=>o3,$ZodCustom:()=>Sj,$ZodCodec:()=>FP,$ZodCheckUpperCase:()=>z3,$ZodCheckStringFormat:()=>Y4,$ZodCheckStartsWith:()=>J3,$ZodCheckSizeEquals:()=>K3,$ZodCheckRegex:()=>j3,$ZodCheckProperty:()=>T3,$ZodCheckOverwrite:()=>f3,$ZodCheckNumberFormat:()=>sY,$ZodCheckMultipleOf:()=>eY,$ZodCheckMinSize:()=>_3,$ZodCheckMinLength:()=>O3,$ZodCheckMimeType:()=>w3,$ZodCheckMaxSize:()=>q3,$ZodCheckMaxLength:()=>P3,$ZodCheckLowerCase:()=>v3,$ZodCheckLessThan:()=>g9,$ZodCheckLengthEquals:()=>Y3,$ZodCheckIncludes:()=>W3,$ZodCheckGreaterThan:()=>b9,$ZodCheckEndsWith:()=>H3,$ZodCheckBigIntFormat:()=>$3,$ZodCheck:()=>h6,$ZodCatch:()=>wj,$ZodCUID2:()=>C3,$ZodCUID:()=>N3,$ZodCIDRv6:()=>p3,$ZodCIDRv4:()=>x3,$ZodBoolean:()=>tP,$ZodBigIntFormat:()=>i3,$ZodBigInt:()=>l9,$ZodBase64URL:()=>d3,$ZodBase64:()=>m3,$ZodAsyncError:()=>i8,$ZodArray:()=>e3,$ZodAny:()=>F3});var vY=Object.freeze({status:"aborted"});function j$($,q,_){function K(z,H){if(!z._zod)Object.defineProperty(z,"_zod",{value:{def:H,constr:Y,traits:new Set},enumerable:!1});if(z._zod.traits.has($))return;z._zod.traits.add($),q(z,H);let T=Y.prototype,f=Object.keys(T);for(let w=0;w<f.length;w++){let k=f[w];if(!(k in z))z[k]=T[k].bind(z)}}let P=_?.Parent??Object;class O extends P{}Object.defineProperty(O,"name",{value:$});function Y(z){var H;let T=_?.Parent?new O:this;K(T,z),(H=T._zod).deferred??(H.deferred=[]);for(let f of T._zod.deferred)f();return T}return Object.defineProperty(Y,"init",{value:K}),Object.defineProperty(Y,Symbol.hasInstance,{value:(z)=>{if(_?.Parent&&z instanceof _.Parent)return!0;return z?._zod?.traits?.has($)}}),Object.defineProperty(Y,"name",{value:$}),Y}var zY=Symbol("zod_brand");class i8 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class TK extends Error{constructor($){super(`Encountered unidirectional transform during encode: ${$}`);this.name="ZodEncodeError"}}var yP={};function i6($){if($)Object.assign(yP,$);return yP}var l$={};oq(l$,{unwrapMessage:()=>uP,uint8ArrayToHex:()=>eD,uint8ArrayToBase64url:()=>aD,uint8ArrayToBase64:()=>zA,stringifyPrimitive:()=>d$,slugify:()=>HY,shallowClone:()=>wY,safeExtend:()=>nD,required:()=>tD,randomString:()=>pD,propertyKeyTypes:()=>cP,promiseAllObject:()=>xD,primitiveTypes:()=>fY,prefixIssues:()=>P8,pick:()=>lD,partial:()=>BD,optionalKeys:()=>ZY,omit:()=>rD,objectClone:()=>bD,numKeys:()=>cD,nullish:()=>d_,normalizeParams:()=>r$,mergeDefs:()=>r_,merge:()=>iD,jsonStringifyReplacer:()=>eK,joinValues:()=>w$,issue:()=>$4,isPlainObject:()=>o_,isObject:()=>wK,hexToUint8Array:()=>QD,getSizableOrigin:()=>mP,getParsedType:()=>mD,getLengthableOrigin:()=>dP,getEnumValues:()=>xP,getElementAtPath:()=>uD,floatSafeRemainder:()=>JY,finalizeIssue:()=>O8,extend:()=>oD,escapeRegex:()=>w8,esc:()=>V9,defineLazy:()=>X6,createTransparentProxy:()=>dD,cloneDef:()=>yD,clone:()=>l6,cleanRegex:()=>pP,cleanEnum:()=>UD,captureStackTrace:()=>S9,cached:()=>sK,base64urlToUint8Array:()=>FD,base64ToUint8Array:()=>vA,assignProp:()=>l_,assertNotEqual:()=>ID,assertNever:()=>LD,assertIs:()=>DD,assertEqual:()=>RD,assert:()=>gD,allowsEval:()=>TY,aborted:()=>n_,NUMBER_FORMAT_RANGES:()=>XY,Class:()=>WA,BIGINT_FORMAT_RANGES:()=>AY});function RD($){return $}function ID($){return $}function DD($){}function LD($){throw Error()}function gD($){}function xP($){let q=Object.values($).filter((K)=>typeof K==="number");return Object.entries($).filter(([K,P])=>q.indexOf(+K)===-1).map(([K,P])=>P)}function w$($,q="|"){return $.map((_)=>d$(_)).join(q)}function eK($,q){if(typeof q==="bigint")return q.toString();return q}function sK($){return{get value(){{let _=$();return Object.defineProperty(this,"value",{value:_}),_}throw Error("cached value already set")}}}function d_($){return $===null||$===void 0}function pP($){let q=$.startsWith("^")?1:0,_=$.endsWith("$")?$.length-1:$.length;return $.slice(q,_)}function JY($,q){let _=($.toString().split(".")[1]||"").length,K=q.toString(),P=(K.split(".")[1]||"").length;if(P===0&&/\d?e-\d?/.test(K)){let H=K.match(/\d?e-(\d?)/);if(H?.[1])P=Number.parseInt(H[1])}let O=_>P?_:P,Y=Number.parseInt($.toFixed(O).replace(".","")),z=Number.parseInt(q.toFixed(O).replace(".",""));return Y%z/10**O}var jA=Symbol("evaluating");function X6($,q,_){let K=void 0;Object.defineProperty($,q,{get(){if(K===jA)return;if(K===void 0)K=jA,K=_();return K},set(P){Object.defineProperty($,q,{value:P})},configurable:!0})}function bD($){return Object.create(Object.getPrototypeOf($),Object.getOwnPropertyDescriptors($))}function l_($,q,_){Object.defineProperty($,q,{value:_,writable:!0,enumerable:!0,configurable:!0})}function r_(...$){let q={};for(let _ of $){let K=Object.getOwnPropertyDescriptors(_);Object.assign(q,K)}return Object.defineProperties({},q)}function yD($){return r_($._zod.def)}function uD($,q){if(!q)return $;return q.reduce((_,K)=>_?.[K],$)}function xD($){let q=Object.keys($),_=q.map((K)=>$[K]);return Promise.all(_).then((K)=>{let P={};for(let O=0;O<q.length;O++)P[q[O]]=K[O];return P})}function pD($=10){let _="";for(let K=0;K<$;K++)_+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return _}function V9($){return JSON.stringify($)}function HY($){return $.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var S9="captureStackTrace"in Error?Error.captureStackTrace:(...$)=>{};function wK($){return typeof $==="object"&&$!==null&&!Array.isArray($)}var TY=sK(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch($){return!1}});function o_($){if(wK($)===!1)return!1;let q=$.constructor;if(q===void 0)return!0;if(typeof q!=="function")return!0;let _=q.prototype;if(wK(_)===!1)return!1;if(Object.prototype.hasOwnProperty.call(_,"isPrototypeOf")===!1)return!1;return!0}function wY($){if(o_($))return{...$};if(Array.isArray($))return[...$];return $}function cD($){let q=0;for(let _ in $)if(Object.prototype.hasOwnProperty.call($,_))q++;return q}var mD=($)=>{let q=typeof $;switch(q){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN($)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray($))return"array";if($===null)return"null";if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return"promise";if(typeof Map<"u"&&$ instanceof Map)return"map";if(typeof Set<"u"&&$ instanceof Set)return"set";if(typeof Date<"u"&&$ instanceof Date)return"date";if(typeof File<"u"&&$ instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${q}`)}},cP=new Set(["string","number","symbol"]),fY=new Set(["string","number","bigint","boolean","symbol","undefined"]);function w8($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l6($,q,_){let K=new $._zod.constr(q??$._zod.def);if(!q||_?.parent)K._zod.parent=$;return K}function r$($){let q=$;if(!q)return{};if(typeof q==="string")return{error:()=>q};if(q?.message!==void 0){if(q?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");q.error=q.message}if(delete q.message,typeof q.error==="string")return{...q,error:()=>q.error};return q}function dD($){let q;return new Proxy({},{get(_,K,P){return q??(q=$()),Reflect.get(q,K,P)},set(_,K,P,O){return q??(q=$()),Reflect.set(q,K,P,O)},has(_,K){return q??(q=$()),Reflect.has(q,K)},deleteProperty(_,K){return q??(q=$()),Reflect.deleteProperty(q,K)},ownKeys(_){return q??(q=$()),Reflect.ownKeys(q)},getOwnPropertyDescriptor(_,K){return q??(q=$()),Reflect.getOwnPropertyDescriptor(q,K)},defineProperty(_,K,P){return q??(q=$()),Reflect.defineProperty(q,K,P)}})}function d$($){if(typeof $==="bigint")return $.toString()+"n";if(typeof $==="string")return`"${$}"`;return`${$}`}function ZY($){return Object.keys($).filter((q)=>{return $[q]._zod.optin==="optional"&&$[q]._zod.optout==="optional"})}var XY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},AY={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function lD($,q){let _=$._zod.def,K=r_($._zod.def,{get shape(){let P={};for(let O in q){if(!(O in _.shape))throw Error(`Unrecognized key: "${O}"`);if(!q[O])continue;P[O]=_.shape[O]}return l_(this,"shape",P),P},checks:[]});return l6($,K)}function rD($,q){let _=$._zod.def,K=r_($._zod.def,{get shape(){let P={...$._zod.def.shape};for(let O in q){if(!(O in _.shape))throw Error(`Unrecognized key: "${O}"`);if(!q[O])continue;delete P[O]}return l_(this,"shape",P),P},checks:[]});return l6($,K)}function oD($,q){if(!o_(q))throw Error("Invalid input to extend: expected a plain object");let _=$._zod.def.checks;if(_&&_.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let P=r_($._zod.def,{get shape(){let O={...$._zod.def.shape,...q};return l_(this,"shape",O),O},checks:[]});return l6($,P)}function nD($,q){if(!o_(q))throw Error("Invalid input to safeExtend: expected a plain object");let _={...$._zod.def,get shape(){let K={...$._zod.def.shape,...q};return l_(this,"shape",K),K},checks:$._zod.def.checks};return l6($,_)}function iD($,q){let _=r_($._zod.def,{get shape(){let K={...$._zod.def.shape,...q._zod.def.shape};return l_(this,"shape",K),K},get catchall(){return q._zod.def.catchall},checks:[]});return l6($,_)}function BD($,q,_){let K=r_(q._zod.def,{get shape(){let P=q._zod.def.shape,O={...P};if(_)for(let Y in _){if(!(Y in P))throw Error(`Unrecognized key: "${Y}"`);if(!_[Y])continue;O[Y]=$?new $({type:"optional",innerType:P[Y]}):P[Y]}else for(let Y in P)O[Y]=$?new $({type:"optional",innerType:P[Y]}):P[Y];return l_(this,"shape",O),O},checks:[]});return l6(q,K)}function tD($,q,_){let K=r_(q._zod.def,{get shape(){let P=q._zod.def.shape,O={...P};if(_)for(let Y in _){if(!(Y in O))throw Error(`Unrecognized key: "${Y}"`);if(!_[Y])continue;O[Y]=new $({type:"nonoptional",innerType:P[Y]})}else for(let Y in P)O[Y]=new $({type:"nonoptional",innerType:P[Y]});return l_(this,"shape",O),O},checks:[]});return l6(q,K)}function n_($,q=0){if($.aborted===!0)return!0;for(let _=q;_<$.issues.length;_++)if($.issues[_]?.continue!==!0)return!0;return!1}function P8($,q){return q.map((_)=>{var K;return(K=_).path??(K.path=[]),_.path.unshift($),_})}function uP($){return typeof $==="string"?$:$?.message}function O8($,q,_){let K={...$,path:$.path??[]};if(!$.message){let P=uP($.inst?._zod.def?.error?.($))??uP(q?.error?.($))??uP(_.customError?.($))??uP(_.localeError?.($))??"Invalid input";K.message=P}if(delete K.inst,delete K.continue,!q?.reportInput)delete K.input;return K}function mP($){if($ instanceof Set)return"set";if($ instanceof Map)return"map";if($ instanceof File)return"file";return"unknown"}function dP($){if(Array.isArray($))return"array";if(typeof $==="string")return"string";return"unknown"}function $4(...$){let[q,_,K]=$;if(typeof q==="string")return{message:q,code:"custom",input:_,inst:K};return{...q}}function UD($){return Object.entries($).filter(([q,_])=>{return Number.isNaN(Number.parseInt(q,10))}).map((q)=>q[1])}function vA($){let q=atob($),_=new Uint8Array(q.length);for(let K=0;K<q.length;K++)_[K]=q.charCodeAt(K);return _}function zA($){let q="";for(let _=0;_<$.length;_++)q+=String.fromCharCode($[_]);return btoa(q)}function FD($){let q=$.replace(/-/g,"+").replace(/_/g,"/"),_="=".repeat((4-q.length%4)%4);return vA(q+_)}function aD($){return zA($).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function QD($){let q=$.replace(/^0x/,"");if(q.length%2!==0)throw Error("Invalid hex string length");let _=new Uint8Array(q.length/2);for(let K=0;K<q.length;K+=2)_[K/2]=Number.parseInt(q.slice(K,K+2),16);return _}function eD($){return Array.from($).map((q)=>q.toString(16).padStart(2,"0")).join("")}class WA{constructor(...$){}}var JA=($,q)=>{$.name="$ZodError",Object.defineProperty($,"_zod",{value:$._zod,enumerable:!1}),Object.defineProperty($,"issues",{value:q,enumerable:!1}),$.message=JSON.stringify(q,eK,2),Object.defineProperty($,"toString",{value:()=>$.message,enumerable:!1})},lP=j$("$ZodError",JA),aq=j$("$ZodError",JA,{Parent:Error});function rP($,q=(_)=>_.message){let _={},K=[];for(let P of $.issues)if(P.path.length>0)_[P.path[0]]=_[P.path[0]]||[],_[P.path[0]].push(q(P));else K.push(q(P));return{formErrors:K,fieldErrors:_}}function oP($,q=(_)=>_.message){let _={_errors:[]},K=(P)=>{for(let O of P.issues)if(O.code==="invalid_union"&&O.errors.length)O.errors.map((Y)=>K({issues:Y}));else if(O.code==="invalid_key")K({issues:O.issues});else if(O.code==="invalid_element")K({issues:O.issues});else if(O.path.length===0)_._errors.push(q(O));else{let Y=_,z=0;while(z<O.path.length){let H=O.path[z];if(z!==O.path.length-1)Y[H]=Y[H]||{_errors:[]};else Y[H]=Y[H]||{_errors:[]},Y[H]._errors.push(q(O));Y=Y[H],z++}}};return K($),_}function kY($,q=(_)=>_.message){let _={errors:[]},K=(P,O=[])=>{var Y,z;for(let H of P.issues)if(H.code==="invalid_union"&&H.errors.length)H.errors.map((T)=>K({issues:T},H.path));else if(H.code==="invalid_key")K({issues:H.issues},H.path);else if(H.code==="invalid_element")K({issues:H.issues},H.path);else{let T=[...O,...H.path];if(T.length===0){_.errors.push(q(H));continue}let f=_,w=0;while(w<T.length){let k=T[w],S=w===T.length-1;if(typeof k==="string")f.properties??(f.properties={}),(Y=f.properties)[k]??(Y[k]={errors:[]}),f=f.properties[k];else f.items??(f.items=[]),(z=f.items)[k]??(z[k]={errors:[]}),f=f.items[k];if(S)f.errors.push(q(H));w++}}};return K($),_}function HA($){let q=[],_=$.map((K)=>typeof K==="object"?K.key:K);for(let K of _)if(typeof K==="number")q.push(`[${K}]`);else if(typeof K==="symbol")q.push(`[${JSON.stringify(String(K))}]`);else if(/[^\w$]/.test(K))q.push(`[${JSON.stringify(K)}]`);else{if(q.length)q.push(".");q.push(K)}return q.join("")}function GY($){let q=[],_=[...$.issues].sort((K,P)=>(K.path??[]).length-(P.path??[]).length);for(let K of _)if(q.push(` ${K.message}`),K.path?.length)q.push(`   at ${HA(K.path)}`);return q.join(`
`)}var q4=($)=>(q,_,K,P)=>{let O=K?Object.assign(K,{async:!1}):{async:!1},Y=q._zod.run({value:_,issues:[]},O);if(Y instanceof Promise)throw new i8;if(Y.issues.length){let z=new(P?.Err??$)(Y.issues.map((H)=>O8(H,O,i6())));throw S9(z,P?.callee),z}return Y.value},nP=q4(aq),_4=($)=>async(q,_,K,P)=>{let O=K?Object.assign(K,{async:!0}):{async:!0},Y=q._zod.run({value:_,issues:[]},O);if(Y instanceof Promise)Y=await Y;if(Y.issues.length){let z=new(P?.Err??$)(Y.issues.map((H)=>O8(H,O,i6())));throw S9(z,P?.callee),z}return Y.value},K4=_4(aq),P4=($)=>(q,_,K)=>{let P=K?{...K,async:!1}:{async:!1},O=q._zod.run({value:_,issues:[]},P);if(O instanceof Promise)throw new i8;return O.issues.length?{success:!1,error:new($??lP)(O.issues.map((Y)=>O8(Y,P,i6())))}:{success:!0,data:O.value}},VY=P4(aq),O4=($)=>async(q,_,K)=>{let P=K?Object.assign(K,{async:!0}):{async:!0},O=q._zod.run({value:_,issues:[]},P);if(O instanceof Promise)O=await O;return O.issues.length?{success:!1,error:new $(O.issues.map((Y)=>O8(Y,P,i6())))}:{success:!0,data:O.value}},SY=O4(aq),M9=($)=>(q,_,K)=>{let P=K?Object.assign(K,{direction:"backward"}):{direction:"backward"};return q4($)(q,_,P)},$L=M9(aq),N9=($)=>(q,_,K)=>{return q4($)(q,_,K)},qL=N9(aq),C9=($)=>async(q,_,K)=>{let P=K?Object.assign(K,{direction:"backward"}):{direction:"backward"};return _4($)(q,_,P)},_L=C9(aq),E9=($)=>async(q,_,K)=>{return _4($)(q,_,K)},KL=E9(aq),h9=($)=>(q,_,K)=>{let P=K?Object.assign(K,{direction:"backward"}):{direction:"backward"};return P4($)(q,_,P)},PL=h9(aq),R9=($)=>(q,_,K)=>{return P4($)(q,_,K)},OL=R9(aq),I9=($)=>async(q,_,K)=>{let P=K?Object.assign(K,{direction:"backward"}):{direction:"backward"};return O4($)(q,_,P)},YL=I9(aq),D9=($)=>async(q,_,K)=>{return O4($)(q,_,K)},jL=D9(aq);var f8={};oq(f8,{xid:()=>EY,uuid7:()=>JL,uuid6:()=>WL,uuid4:()=>zL,uuid:()=>fK,uppercase:()=>QY,unicodeEmail:()=>TA,undefined:()=>FY,ulid:()=>CY,time:()=>lY,string:()=>oY,sha512_hex:()=>gL,sha512_base64url:()=>yL,sha512_base64:()=>bL,sha384_hex:()=>IL,sha384_base64url:()=>LL,sha384_base64:()=>DL,sha256_hex:()=>EL,sha256_base64url:()=>RL,sha256_base64:()=>hL,sha1_hex:()=>ML,sha1_base64url:()=>CL,sha1_base64:()=>NL,rfc5322Email:()=>TL,number:()=>BY,null:()=>UY,nanoid:()=>RY,md5_hex:()=>GL,md5_base64url:()=>SL,md5_base64:()=>VL,mac:()=>uY,lowercase:()=>aY,ksuid:()=>hY,ipv6:()=>yY,ipv4:()=>bY,integer:()=>iY,idnEmail:()=>wL,html5Email:()=>HL,hostname:()=>XL,hex:()=>kL,guid:()=>DY,extendedDuration:()=>vL,emoji:()=>gY,email:()=>LY,e164:()=>mY,duration:()=>IY,domain:()=>AL,datetime:()=>rY,date:()=>dY,cuid2:()=>NY,cuid:()=>MY,cidrv6:()=>pY,cidrv4:()=>xY,browserEmail:()=>fL,boolean:()=>tY,bigint:()=>nY,base64url:()=>L9,base64:()=>cY});var MY=/^[cC][^\s-]{8,}$/,NY=/^[0-9a-z]+$/,CY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,EY=/^[0-9a-vA-V]{20}$/,hY=/^[A-Za-z0-9]{27}$/,RY=/^[a-zA-Z0-9_-]{21}$/,IY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,vL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fK=($)=>{if(!$)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${$}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)},zL=fK(4),WL=fK(6),JL=fK(7),LY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,HL=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,TL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,TA=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,wL=TA,fL=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ZL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gY(){return new RegExp(ZL,"u")}var bY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,uY=($)=>{let q=w8($??":");return new RegExp(`^(?:[0-9A-F]{2}${q}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${q}){5}[0-9a-f]{2}$`)},xY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,L9=/^[A-Za-z0-9_-]*$/,XL=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,AL=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,mY=/^\+(?:[0-9]){6,14}[0-9]$/,wA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dY=new RegExp(`^${wA}$`);function fA($){return typeof $.precision==="number"?$.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":$.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${$.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function lY($){return new RegExp(`^${fA($)}$`)}function rY($){let q=fA({precision:$.precision}),_=["Z"];if($.local)_.push("");if($.offset)_.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let K=`${q}(?:${_.join("|")})`;return new RegExp(`^${wA}T(?:${K})$`)}var oY=($)=>{let q=$?`[\\s\\S]{${$?.minimum??0},${$?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${q}$`)},nY=/^-?\d+n?$/,iY=/^-?\d+$/,BY=/^-?\d+(?:\.\d+)?/,tY=/^(?:true|false)$/i,UY=/^null$/i;var FY=/^undefined$/i;var aY=/^[^A-Z]*$/,QY=/^[^a-z]*$/,kL=/^[0-9a-fA-F]*$/;function iP($,q){return new RegExp(`^[A-Za-z0-9+/]{${$}}${q}$`)}function BP($){return new RegExp(`^[A-Za-z0-9_-]{${$}}$`)}var GL=/^[0-9a-fA-F]{32}$/,VL=iP(22,"=="),SL=BP(22),ML=/^[0-9a-fA-F]{40}$/,NL=iP(27,"="),CL=BP(27),EL=/^[0-9a-fA-F]{64}$/,hL=iP(43,"="),RL=BP(43),IL=/^[0-9a-fA-F]{96}$/,DL=iP(64,""),LL=BP(64),gL=/^[0-9a-fA-F]{128}$/,bL=iP(86,"=="),yL=BP(86);var h6=j$("$ZodCheck",($,q)=>{var _;$._zod??($._zod={}),$._zod.def=q,(_=$._zod).onattach??(_.onattach=[])}),XA={number:"number",bigint:"bigint",object:"date"},g9=j$("$ZodCheckLessThan",($,q)=>{h6.init($,q);let _=XA[typeof q.value];$._zod.onattach.push((K)=>{let P=K._zod.bag,O=(q.inclusive?P.maximum:P.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(q.value<O)if(q.inclusive)P.maximum=q.value;else P.exclusiveMaximum=q.value}),$._zod.check=(K)=>{if(q.inclusive?K.value<=q.value:K.value<q.value)return;K.issues.push({origin:_,code:"too_big",maximum:q.value,input:K.value,inclusive:q.inclusive,inst:$,continue:!q.abort})}}),b9=j$("$ZodCheckGreaterThan",($,q)=>{h6.init($,q);let _=XA[typeof q.value];$._zod.onattach.push((K)=>{let P=K._zod.bag,O=(q.inclusive?P.minimum:P.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(q.value>O)if(q.inclusive)P.minimum=q.value;else P.exclusiveMinimum=q.value}),$._zod.check=(K)=>{if(q.inclusive?K.value>=q.value:K.value>q.value)return;K.issues.push({origin:_,code:"too_small",minimum:q.value,input:K.value,inclusive:q.inclusive,inst:$,continue:!q.abort})}}),eY=j$("$ZodCheckMultipleOf",($,q)=>{h6.init($,q),$._zod.onattach.push((_)=>{var K;(K=_._zod.bag).multipleOf??(K.multipleOf=q.value)}),$._zod.check=(_)=>{if(typeof _.value!==typeof q.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof _.value==="bigint"?_.value%q.value===BigInt(0):JY(_.value,q.value)===0)return;_.issues.push({origin:typeof _.value,code:"not_multiple_of",divisor:q.value,input:_.value,inst:$,continue:!q.abort})}}),sY=j$("$ZodCheckNumberFormat",($,q)=>{h6.init($,q),q.format=q.format||"float64";let _=q.format?.includes("int"),K=_?"int":"number",[P,O]=XY[q.format];$._zod.onattach.push((Y)=>{let z=Y._zod.bag;if(z.format=q.format,z.minimum=P,z.maximum=O,_)z.pattern=iY}),$._zod.check=(Y)=>{let z=Y.value;if(_){if(!Number.isInteger(z)){Y.issues.push({expected:K,format:q.format,code:"invalid_type",continue:!1,input:z,inst:$});return}if(!Number.isSafeInteger(z)){if(z>0)Y.issues.push({input:z,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:K,continue:!q.abort});else Y.issues.push({input:z,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:$,origin:K,continue:!q.abort});return}}if(z<P)Y.issues.push({origin:"number",input:z,code:"too_small",minimum:P,inclusive:!0,inst:$,continue:!q.abort});if(z>O)Y.issues.push({origin:"number",input:z,code:"too_big",maximum:O,inst:$})}}),$3=j$("$ZodCheckBigIntFormat",($,q)=>{h6.init($,q);let[_,K]=AY[q.format];$._zod.onattach.push((P)=>{let O=P._zod.bag;O.format=q.format,O.minimum=_,O.maximum=K}),$._zod.check=(P)=>{let O=P.value;if(O<_)P.issues.push({origin:"bigint",input:O,code:"too_small",minimum:_,inclusive:!0,inst:$,continue:!q.abort});if(O>K)P.issues.push({origin:"bigint",input:O,code:"too_big",maximum:K,inst:$})}}),q3=j$("$ZodCheckMaxSize",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.size!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag.maximum??Number.POSITIVE_INFINITY;if(q.maximum<P)K._zod.bag.maximum=q.maximum}),$._zod.check=(K)=>{let P=K.value;if(P.size<=q.maximum)return;K.issues.push({origin:mP(P),code:"too_big",maximum:q.maximum,inclusive:!0,input:P,inst:$,continue:!q.abort})}}),_3=j$("$ZodCheckMinSize",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.size!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(q.minimum>P)K._zod.bag.minimum=q.minimum}),$._zod.check=(K)=>{let P=K.value;if(P.size>=q.minimum)return;K.issues.push({origin:mP(P),code:"too_small",minimum:q.minimum,inclusive:!0,input:P,inst:$,continue:!q.abort})}}),K3=j$("$ZodCheckSizeEquals",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.size!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag;P.minimum=q.size,P.maximum=q.size,P.size=q.size}),$._zod.check=(K)=>{let P=K.value,O=P.size;if(O===q.size)return;let Y=O>q.size;K.issues.push({origin:mP(P),...Y?{code:"too_big",maximum:q.size}:{code:"too_small",minimum:q.size},inclusive:!0,exact:!0,input:K.value,inst:$,continue:!q.abort})}}),P3=j$("$ZodCheckMaxLength",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.length!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag.maximum??Number.POSITIVE_INFINITY;if(q.maximum<P)K._zod.bag.maximum=q.maximum}),$._zod.check=(K)=>{let P=K.value;if(P.length<=q.maximum)return;let Y=dP(P);K.issues.push({origin:Y,code:"too_big",maximum:q.maximum,inclusive:!0,input:P,inst:$,continue:!q.abort})}}),O3=j$("$ZodCheckMinLength",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.length!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(q.minimum>P)K._zod.bag.minimum=q.minimum}),$._zod.check=(K)=>{let P=K.value;if(P.length>=q.minimum)return;let Y=dP(P);K.issues.push({origin:Y,code:"too_small",minimum:q.minimum,inclusive:!0,input:P,inst:$,continue:!q.abort})}}),Y3=j$("$ZodCheckLengthEquals",($,q)=>{var _;h6.init($,q),(_=$._zod.def).when??(_.when=(K)=>{let P=K.value;return!d_(P)&&P.length!==void 0}),$._zod.onattach.push((K)=>{let P=K._zod.bag;P.minimum=q.length,P.maximum=q.length,P.length=q.length}),$._zod.check=(K)=>{let P=K.value,O=P.length;if(O===q.length)return;let Y=dP(P),z=O>q.length;K.issues.push({origin:Y,...z?{code:"too_big",maximum:q.length}:{code:"too_small",minimum:q.length},inclusive:!0,exact:!0,input:K.value,inst:$,continue:!q.abort})}}),Y4=j$("$ZodCheckStringFormat",($,q)=>{var _,K;if(h6.init($,q),$._zod.onattach.push((P)=>{let O=P._zod.bag;if(O.format=q.format,q.pattern)O.patterns??(O.patterns=new Set),O.patterns.add(q.pattern)}),q.pattern)(_=$._zod).check??(_.check=(P)=>{if(q.pattern.lastIndex=0,q.pattern.test(P.value))return;P.issues.push({origin:"string",code:"invalid_format",format:q.format,input:P.value,...q.pattern?{pattern:q.pattern.toString()}:{},inst:$,continue:!q.abort})});else(K=$._zod).check??(K.check=()=>{})}),j3=j$("$ZodCheckRegex",($,q)=>{Y4.init($,q),$._zod.check=(_)=>{if(q.pattern.lastIndex=0,q.pattern.test(_.value))return;_.issues.push({origin:"string",code:"invalid_format",format:"regex",input:_.value,pattern:q.pattern.toString(),inst:$,continue:!q.abort})}}),v3=j$("$ZodCheckLowerCase",($,q)=>{q.pattern??(q.pattern=aY),Y4.init($,q)}),z3=j$("$ZodCheckUpperCase",($,q)=>{q.pattern??(q.pattern=QY),Y4.init($,q)}),W3=j$("$ZodCheckIncludes",($,q)=>{h6.init($,q);let _=w8(q.includes),K=new RegExp(typeof q.position==="number"?`^.{${q.position}}${_}`:_);q.pattern=K,$._zod.onattach.push((P)=>{let O=P._zod.bag;O.patterns??(O.patterns=new Set),O.patterns.add(K)}),$._zod.check=(P)=>{if(P.value.includes(q.includes,q.position))return;P.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:q.includes,input:P.value,inst:$,continue:!q.abort})}}),J3=j$("$ZodCheckStartsWith",($,q)=>{h6.init($,q);let _=new RegExp(`^${w8(q.prefix)}.*`);q.pattern??(q.pattern=_),$._zod.onattach.push((K)=>{let P=K._zod.bag;P.patterns??(P.patterns=new Set),P.patterns.add(_)}),$._zod.check=(K)=>{if(K.value.startsWith(q.prefix))return;K.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:q.prefix,input:K.value,inst:$,continue:!q.abort})}}),H3=j$("$ZodCheckEndsWith",($,q)=>{h6.init($,q);let _=new RegExp(`.*${w8(q.suffix)}$`);q.pattern??(q.pattern=_),$._zod.onattach.push((K)=>{let P=K._zod.bag;P.patterns??(P.patterns=new Set),P.patterns.add(_)}),$._zod.check=(K)=>{if(K.value.endsWith(q.suffix))return;K.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:q.suffix,input:K.value,inst:$,continue:!q.abort})}});function ZA($,q,_){if($.issues.length)q.issues.push(...P8(_,$.issues))}var T3=j$("$ZodCheckProperty",($,q)=>{h6.init($,q),$._zod.check=(_)=>{let K=q.schema._zod.run({value:_.value[q.property],issues:[]},{});if(K instanceof Promise)return K.then((P)=>ZA(P,_,q.property));ZA(K,_,q.property);return}}),w3=j$("$ZodCheckMimeType",($,q)=>{h6.init($,q);let _=new Set(q.mime);$._zod.onattach.push((K)=>{K._zod.bag.mime=q.mime}),$._zod.check=(K)=>{if(_.has(K.value.type))return;K.issues.push({code:"invalid_value",values:q.mime,input:K.value.type,inst:$,continue:!q.abort})}}),f3=j$("$ZodCheckOverwrite",($,q)=>{h6.init($,q),$._zod.check=(_)=>{_.value=q.tx(_.value)}});class y9{constructor($=[]){if(this.content=[],this.indent=0,this)this.args=$}indented($){this.indent+=1,$(this),this.indent-=1}write($){if(typeof $==="function"){$(this,{execution:"sync"}),$(this,{execution:"async"});return}let _=$.split(`
`).filter((O)=>O),K=Math.min(..._.map((O)=>O.length-O.trimStart().length)),P=_.map((O)=>O.slice(K)).map((O)=>" ".repeat(this.indent*2)+O);for(let O of P)this.content.push(O)}compile(){let $=Function,q=this?.args,K=[...(this?.content??[""]).map((P)=>`  ${P}`)];return new $(...q,K.join(`
`))}}var Z3={major:4,minor:1,patch:13};var P6=j$("$ZodType",($,q)=>{var _;$??($={}),$._zod.def=q,$._zod.bag=$._zod.bag||{},$._zod.version=Z3;let K=[...$._zod.def.checks??[]];if($._zod.traits.has("$ZodCheck"))K.unshift($);for(let P of K)for(let O of P._zod.onattach)O($);if(K.length===0)(_=$._zod).deferred??(_.deferred=[]),$._zod.deferred?.push(()=>{$._zod.run=$._zod.parse});else{let P=(Y,z,H)=>{let T=n_(Y),f;for(let w of z){if(w._zod.def.when){if(!w._zod.def.when(Y))continue}else if(T)continue;let k=Y.issues.length,S=w._zod.check(Y);if(S instanceof Promise&&H?.async===!1)throw new i8;if(f||S instanceof Promise)f=(f??Promise.resolve()).then(async()=>{if(await S,Y.issues.length===k)return;if(!T)T=n_(Y,k)});else{if(Y.issues.length===k)continue;if(!T)T=n_(Y,k)}}if(f)return f.then(()=>{return Y});return Y},O=(Y,z,H)=>{if(n_(Y))return Y.aborted=!0,Y;let T=P(z,K,H);if(T instanceof Promise){if(H.async===!1)throw new i8;return T.then((f)=>$._zod.parse(f,H))}return $._zod.parse(T,H)};$._zod.run=(Y,z)=>{if(z.skipChecks)return $._zod.parse(Y,z);if(z.direction==="backward"){let T=$._zod.parse({value:Y.value,issues:[]},{...z,skipChecks:!0});if(T instanceof Promise)return T.then((f)=>{return O(f,Y,z)});return O(T,Y,z)}let H=$._zod.parse(Y,z);if(H instanceof Promise){if(z.async===!1)throw new i8;return H.then((T)=>P(T,K,z))}return P(H,K,z)}}$["~standard"]={validate:(P)=>{try{let O=VY($,P);return O.success?{value:O.data}:{issues:O.error?.issues}}catch(O){return SY($,P).then((Y)=>Y.success?{value:Y.data}:{issues:Y.error?.issues})}},vendor:"zod",version:1}}),ZK=j$("$ZodString",($,q)=>{P6.init($,q),$._zod.pattern=[...$?._zod.bag?.patterns??[]].pop()??oY($._zod.bag),$._zod.parse=(_,K)=>{if(q.coerce)try{_.value=String(_.value)}catch(P){}if(typeof _.value==="string")return _;return _.issues.push({expected:"string",code:"invalid_type",input:_.value,inst:$}),_}}),C6=j$("$ZodStringFormat",($,q)=>{Y4.init($,q),ZK.init($,q)}),A3=j$("$ZodGUID",($,q)=>{q.pattern??(q.pattern=DY),C6.init($,q)}),k3=j$("$ZodUUID",($,q)=>{if(q.version){let K={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[q.version];if(K===void 0)throw Error(`Invalid UUID version: "${q.version}"`);q.pattern??(q.pattern=fK(K))}else q.pattern??(q.pattern=fK());C6.init($,q)}),G3=j$("$ZodEmail",($,q)=>{q.pattern??(q.pattern=LY),C6.init($,q)}),V3=j$("$ZodURL",($,q)=>{C6.init($,q),$._zod.check=(_)=>{try{let K=_.value.trim(),P=new URL(K);if(q.hostname){if(q.hostname.lastIndex=0,!q.hostname.test(P.hostname))_.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:q.hostname.source,input:_.value,inst:$,continue:!q.abort})}if(q.protocol){if(q.protocol.lastIndex=0,!q.protocol.test(P.protocol.endsWith(":")?P.protocol.slice(0,-1):P.protocol))_.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:q.protocol.source,input:_.value,inst:$,continue:!q.abort})}if(q.normalize)_.value=P.href;else _.value=K;return}catch(K){_.issues.push({code:"invalid_format",format:"url",input:_.value,inst:$,continue:!q.abort})}}}),S3=j$("$ZodEmoji",($,q)=>{q.pattern??(q.pattern=gY()),C6.init($,q)}),M3=j$("$ZodNanoID",($,q)=>{q.pattern??(q.pattern=RY),C6.init($,q)}),N3=j$("$ZodCUID",($,q)=>{q.pattern??(q.pattern=MY),C6.init($,q)}),C3=j$("$ZodCUID2",($,q)=>{q.pattern??(q.pattern=NY),C6.init($,q)}),E3=j$("$ZodULID",($,q)=>{q.pattern??(q.pattern=CY),C6.init($,q)}),h3=j$("$ZodXID",($,q)=>{q.pattern??(q.pattern=EY),C6.init($,q)}),R3=j$("$ZodKSUID",($,q)=>{q.pattern??(q.pattern=hY),C6.init($,q)}),I3=j$("$ZodISODateTime",($,q)=>{q.pattern??(q.pattern=rY(q)),C6.init($,q)}),D3=j$("$ZodISODate",($,q)=>{q.pattern??(q.pattern=dY),C6.init($,q)}),L3=j$("$ZodISOTime",($,q)=>{q.pattern??(q.pattern=lY(q)),C6.init($,q)}),g3=j$("$ZodISODuration",($,q)=>{q.pattern??(q.pattern=IY),C6.init($,q)}),b3=j$("$ZodIPv4",($,q)=>{q.pattern??(q.pattern=bY),C6.init($,q),$._zod.bag.format="ipv4"}),y3=j$("$ZodIPv6",($,q)=>{q.pattern??(q.pattern=yY),C6.init($,q),$._zod.bag.format="ipv6",$._zod.check=(_)=>{try{new URL(`http://[${_.value}]`)}catch{_.issues.push({code:"invalid_format",format:"ipv6",input:_.value,inst:$,continue:!q.abort})}}}),u3=j$("$ZodMAC",($,q)=>{q.pattern??(q.pattern=uY(q.delimiter)),C6.init($,q),$._zod.bag.format="mac"}),x3=j$("$ZodCIDRv4",($,q)=>{q.pattern??(q.pattern=xY),C6.init($,q)}),p3=j$("$ZodCIDRv6",($,q)=>{q.pattern??(q.pattern=pY),C6.init($,q),$._zod.check=(_)=>{let K=_.value.split("/");try{if(K.length!==2)throw Error();let[P,O]=K;if(!O)throw Error();let Y=Number(O);if(`${Y}`!==O)throw Error();if(Y<0||Y>128)throw Error();new URL(`http://[${P}]`)}catch{_.issues.push({code:"invalid_format",format:"cidrv6",input:_.value,inst:$,continue:!q.abort})}}});function c3($){if($==="")return!0;if($.length%4!==0)return!1;try{return atob($),!0}catch{return!1}}var m3=j$("$ZodBase64",($,q)=>{q.pattern??(q.pattern=cY),C6.init($,q),$._zod.bag.contentEncoding="base64",$._zod.check=(_)=>{if(c3(_.value))return;_.issues.push({code:"invalid_format",format:"base64",input:_.value,inst:$,continue:!q.abort})}});function IA($){if(!L9.test($))return!1;let q=$.replace(/[-_]/g,(K)=>K==="-"?"+":"/"),_=q.padEnd(Math.ceil(q.length/4)*4,"=");return c3(_)}var d3=j$("$ZodBase64URL",($,q)=>{q.pattern??(q.pattern=L9),C6.init($,q),$._zod.bag.contentEncoding="base64url",$._zod.check=(_)=>{if(IA(_.value))return;_.issues.push({code:"invalid_format",format:"base64url",input:_.value,inst:$,continue:!q.abort})}}),l3=j$("$ZodE164",($,q)=>{q.pattern??(q.pattern=mY),C6.init($,q)});function DA($,q=null){try{let _=$.split(".");if(_.length!==3)return!1;let[K]=_;if(!K)return!1;let P=JSON.parse(atob(K));if("typ"in P&&P?.typ!=="JWT")return!1;if(!P.alg)return!1;if(q&&(!("alg"in P)||P.alg!==q))return!1;return!0}catch{return!1}}var r3=j$("$ZodJWT",($,q)=>{C6.init($,q),$._zod.check=(_)=>{if(DA(_.value,q.alg))return;_.issues.push({code:"invalid_format",format:"jwt",input:_.value,inst:$,continue:!q.abort})}}),o3=j$("$ZodCustomStringFormat",($,q)=>{C6.init($,q),$._zod.check=(_)=>{if(q.fn(_.value))return;_.issues.push({code:"invalid_format",format:q.format,input:_.value,inst:$,continue:!q.abort})}}),d9=j$("$ZodNumber",($,q)=>{P6.init($,q),$._zod.pattern=$._zod.bag.pattern??BY,$._zod.parse=(_,K)=>{if(q.coerce)try{_.value=Number(_.value)}catch(Y){}let P=_.value;if(typeof P==="number"&&!Number.isNaN(P)&&Number.isFinite(P))return _;let O=typeof P==="number"?Number.isNaN(P)?"NaN":!Number.isFinite(P)?"Infinity":void 0:void 0;return _.issues.push({expected:"number",code:"invalid_type",input:P,inst:$,...O?{received:O}:{}}),_}}),n3=j$("$ZodNumberFormat",($,q)=>{sY.init($,q),d9.init($,q)}),tP=j$("$ZodBoolean",($,q)=>{P6.init($,q),$._zod.pattern=tY,$._zod.parse=(_,K)=>{if(q.coerce)try{_.value=Boolean(_.value)}catch(O){}let P=_.value;if(typeof P==="boolean")return _;return _.issues.push({expected:"boolean",code:"invalid_type",input:P,inst:$}),_}}),l9=j$("$ZodBigInt",($,q)=>{P6.init($,q),$._zod.pattern=nY,$._zod.parse=(_,K)=>{if(q.coerce)try{_.value=BigInt(_.value)}catch(P){}if(typeof _.value==="bigint")return _;return _.issues.push({expected:"bigint",code:"invalid_type",input:_.value,inst:$}),_}}),i3=j$("$ZodBigIntFormat",($,q)=>{$3.init($,q),l9.init($,q)}),B3=j$("$ZodSymbol",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(typeof P==="symbol")return _;return _.issues.push({expected:"symbol",code:"invalid_type",input:P,inst:$}),_}}),t3=j$("$ZodUndefined",($,q)=>{P6.init($,q),$._zod.pattern=FY,$._zod.values=new Set([void 0]),$._zod.optin="optional",$._zod.optout="optional",$._zod.parse=(_,K)=>{let P=_.value;if(typeof P>"u")return _;return _.issues.push({expected:"undefined",code:"invalid_type",input:P,inst:$}),_}}),U3=j$("$ZodNull",($,q)=>{P6.init($,q),$._zod.pattern=UY,$._zod.values=new Set([null]),$._zod.parse=(_,K)=>{let P=_.value;if(P===null)return _;return _.issues.push({expected:"null",code:"invalid_type",input:P,inst:$}),_}}),F3=j$("$ZodAny",($,q)=>{P6.init($,q),$._zod.parse=(_)=>_}),r9=j$("$ZodUnknown",($,q)=>{P6.init($,q),$._zod.parse=(_)=>_}),UP=j$("$ZodNever",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{return _.issues.push({expected:"never",code:"invalid_type",input:_.value,inst:$}),_}}),a3=j$("$ZodVoid",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(typeof P>"u")return _;return _.issues.push({expected:"void",code:"invalid_type",input:P,inst:$}),_}}),Q3=j$("$ZodDate",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{if(q.coerce)try{_.value=new Date(_.value)}catch(z){}let P=_.value,O=P instanceof Date;if(O&&!Number.isNaN(P.getTime()))return _;return _.issues.push({expected:"date",code:"invalid_type",input:P,...O?{received:"Invalid Date"}:{},inst:$}),_}});function kA($,q,_){if($.issues.length)q.issues.push(...P8(_,$.issues));q.value[_]=$.value}var e3=j$("$ZodArray",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(!Array.isArray(P))return _.issues.push({expected:"array",code:"invalid_type",input:P,inst:$}),_;_.value=Array(P.length);let O=[];for(let Y=0;Y<P.length;Y++){let z=P[Y],H=q.element._zod.run({value:z,issues:[]},K);if(H instanceof Promise)O.push(H.then((T)=>kA(T,_,Y)));else kA(H,_,Y)}if(O.length)return Promise.all(O).then(()=>_);return _}});function m9($,q,_,K){if($.issues.length)q.issues.push(...P8(_,$.issues));if($.value===void 0){if(_ in K)q.value[_]=void 0}else q.value[_]=$.value}function LA($){let q=Object.keys($.shape);for(let K of q)if(!$.shape?.[K]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${K}": expected a Zod schema`);let _=ZY($.shape);return{...$,keys:q,keySet:new Set(q),numKeys:q.length,optionalKeys:new Set(_)}}function gA($,q,_,K,P,O){let Y=[],z=P.keySet,H=P.catchall._zod,T=H.def.type;for(let f in q){if(z.has(f))continue;if(T==="never"){Y.push(f);continue}let w=H.run({value:q[f],issues:[]},K);if(w instanceof Promise)$.push(w.then((k)=>m9(k,_,f,q)));else m9(w,_,f,q)}if(Y.length)_.issues.push({code:"unrecognized_keys",keys:Y,input:q,inst:O});if(!$.length)return _;return Promise.all($).then(()=>{return _})}var bA=j$("$ZodObject",($,q)=>{if(P6.init($,q),!Object.getOwnPropertyDescriptor(q,"shape")?.get){let z=q.shape;Object.defineProperty(q,"shape",{get:()=>{let H={...z};return Object.defineProperty(q,"shape",{value:H}),H}})}let K=sK(()=>LA(q));X6($._zod,"propValues",()=>{let z=q.shape,H={};for(let T in z){let f=z[T]._zod;if(f.values){H[T]??(H[T]=new Set);for(let w of f.values)H[T].add(w)}}return H});let P=wK,O=q.catchall,Y;$._zod.parse=(z,H)=>{Y??(Y=K.value);let T=z.value;if(!P(T))return z.issues.push({expected:"object",code:"invalid_type",input:T,inst:$}),z;z.value={};let f=[],w=Y.shape;for(let k of Y.keys){let N=w[k]._zod.run({value:T[k],issues:[]},H);if(N instanceof Promise)f.push(N.then((h)=>m9(h,z,k,T)));else m9(N,z,k,T)}if(!O)return f.length?Promise.all(f).then(()=>z):z;return gA(f,T,z,H,K.value,$)}}),s3=j$("$ZodObjectJIT",($,q)=>{bA.init($,q);let _=$._zod.parse,K=sK(()=>LA(q)),P=(k)=>{let S=new y9(["shape","payload","ctx"]),N=K.value,h=(L)=>{let g=V9(L);return`shape[${g}]._zod.run({ value: input[${g}], issues: [] }, ctx)`};S.write("const input = payload.value;");let E=Object.create(null),D=0;for(let L of N.keys)E[L]=`key_${D++}`;S.write("const newResult = {};");for(let L of N.keys){let g=E[L],y=V9(L);S.write(`const ${g} = ${h(L)};`),S.write(`
        if (${g}.issues.length) {
          payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${y}, ...iss.path] : [${y}]
          })));
        }
        
        
        if (${g}.value === undefined) {
          if (${y} in input) {
            newResult[${y}] = undefined;
          }
        } else {
          newResult[${y}] = ${g}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");let I=S.compile();return(L,g)=>I(k,L,g)},O,Y=wK,z=!yP.jitless,T=z&&TY.value,f=q.catchall,w;$._zod.parse=(k,S)=>{w??(w=K.value);let N=k.value;if(!Y(N))return k.issues.push({expected:"object",code:"invalid_type",input:N,inst:$}),k;if(z&&T&&S?.async===!1&&S.jitless!==!0){if(!O)O=P(q.shape);if(k=O(k,S),!f)return k;return gA([],N,k,S,w,$)}return _(k,S)}});function GA($,q,_,K){for(let O of $)if(O.issues.length===0)return q.value=O.value,q;let P=$.filter((O)=>!n_(O));if(P.length===1)return q.value=P[0].value,P[0];return q.issues.push({code:"invalid_union",input:q.value,inst:_,errors:$.map((O)=>O.issues.map((Y)=>O8(Y,K,i6())))}),q}var o9=j$("$ZodUnion",($,q)=>{P6.init($,q),X6($._zod,"optin",()=>q.options.some((P)=>P._zod.optin==="optional")?"optional":void 0),X6($._zod,"optout",()=>q.options.some((P)=>P._zod.optout==="optional")?"optional":void 0),X6($._zod,"values",()=>{if(q.options.every((P)=>P._zod.values))return new Set(q.options.flatMap((P)=>Array.from(P._zod.values)));return}),X6($._zod,"pattern",()=>{if(q.options.every((P)=>P._zod.pattern)){let P=q.options.map((O)=>O._zod.pattern);return new RegExp(`^(${P.map((O)=>pP(O.source)).join("|")})$`)}return});let _=q.options.length===1,K=q.options[0]._zod.run;$._zod.parse=(P,O)=>{if(_)return K(P,O);let Y=!1,z=[];for(let H of q.options){let T=H._zod.run({value:P.value,issues:[]},O);if(T instanceof Promise)z.push(T),Y=!0;else{if(T.issues.length===0)return T;z.push(T)}}if(!Y)return GA(z,P,$,O);return Promise.all(z).then((H)=>{return GA(H,P,$,O)})}}),$j=j$("$ZodDiscriminatedUnion",($,q)=>{o9.init($,q);let _=$._zod.parse;X6($._zod,"propValues",()=>{let P={};for(let O of q.options){let Y=O._zod.propValues;if(!Y||Object.keys(Y).length===0)throw Error(`Invalid discriminated union option at index "${q.options.indexOf(O)}"`);for(let[z,H]of Object.entries(Y)){if(!P[z])P[z]=new Set;for(let T of H)P[z].add(T)}}return P});let K=sK(()=>{let P=q.options,O=new Map;for(let Y of P){let z=Y._zod.propValues?.[q.discriminator];if(!z||z.size===0)throw Error(`Invalid discriminated union option at index "${q.options.indexOf(Y)}"`);for(let H of z){if(O.has(H))throw Error(`Duplicate discriminator value "${String(H)}"`);O.set(H,Y)}}return O});$._zod.parse=(P,O)=>{let Y=P.value;if(!wK(Y))return P.issues.push({code:"invalid_type",expected:"object",input:Y,inst:$}),P;let z=K.value.get(Y?.[q.discriminator]);if(z)return z._zod.run(P,O);if(q.unionFallback)return _(P,O);return P.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:q.discriminator,input:Y,path:[q.discriminator],inst:$}),P}}),qj=j$("$ZodIntersection",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value,O=q.left._zod.run({value:P,issues:[]},K),Y=q.right._zod.run({value:P,issues:[]},K);if(O instanceof Promise||Y instanceof Promise)return Promise.all([O,Y]).then(([H,T])=>{return VA(_,H,T)});return VA(_,O,Y)}});function X3($,q){if($===q)return{valid:!0,data:$};if($ instanceof Date&&q instanceof Date&&+$===+q)return{valid:!0,data:$};if(o_($)&&o_(q)){let _=Object.keys(q),K=Object.keys($).filter((O)=>_.indexOf(O)!==-1),P={...$,...q};for(let O of K){let Y=X3($[O],q[O]);if(!Y.valid)return{valid:!1,mergeErrorPath:[O,...Y.mergeErrorPath]};P[O]=Y.data}return{valid:!0,data:P}}if(Array.isArray($)&&Array.isArray(q)){if($.length!==q.length)return{valid:!1,mergeErrorPath:[]};let _=[];for(let K=0;K<$.length;K++){let P=$[K],O=q[K],Y=X3(P,O);if(!Y.valid)return{valid:!1,mergeErrorPath:[K,...Y.mergeErrorPath]};_.push(Y.data)}return{valid:!0,data:_}}return{valid:!1,mergeErrorPath:[]}}function VA($,q,_){if(q.issues.length)$.issues.push(...q.issues);if(_.issues.length)$.issues.push(..._.issues);if(n_($))return $;let K=X3(q.value,_.value);if(!K.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(K.mergeErrorPath)}`);return $.value=K.data,$}var n9=j$("$ZodTuple",($,q)=>{P6.init($,q);let _=q.items;$._zod.parse=(K,P)=>{let O=K.value;if(!Array.isArray(O))return K.issues.push({input:O,inst:$,expected:"tuple",code:"invalid_type"}),K;K.value=[];let Y=[],z=[..._].reverse().findIndex((f)=>f._zod.optin!=="optional"),H=z===-1?0:_.length-z;if(!q.rest){let f=O.length>_.length,w=O.length<H-1;if(f||w)return K.issues.push({...f?{code:"too_big",maximum:_.length}:{code:"too_small",minimum:_.length},input:O,inst:$,origin:"array"}),K}let T=-1;for(let f of _){if(T++,T>=O.length){if(T>=H)continue}let w=f._zod.run({value:O[T],issues:[]},P);if(w instanceof Promise)Y.push(w.then((k)=>u9(k,K,T)));else u9(w,K,T)}if(q.rest){let f=O.slice(_.length);for(let w of f){T++;let k=q.rest._zod.run({value:w,issues:[]},P);if(k instanceof Promise)Y.push(k.then((S)=>u9(S,K,T)));else u9(k,K,T)}}if(Y.length)return Promise.all(Y).then(()=>K);return K}});function u9($,q,_){if($.issues.length)q.issues.push(...P8(_,$.issues));q.value[_]=$.value}var _j=j$("$ZodRecord",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(!o_(P))return _.issues.push({expected:"record",code:"invalid_type",input:P,inst:$}),_;let O=[],Y=q.keyType._zod.values;if(Y){_.value={};let z=new Set;for(let T of Y)if(typeof T==="string"||typeof T==="number"||typeof T==="symbol"){z.add(typeof T==="number"?T.toString():T);let f=q.valueType._zod.run({value:P[T],issues:[]},K);if(f instanceof Promise)O.push(f.then((w)=>{if(w.issues.length)_.issues.push(...P8(T,w.issues));_.value[T]=w.value}));else{if(f.issues.length)_.issues.push(...P8(T,f.issues));_.value[T]=f.value}}let H;for(let T in P)if(!z.has(T))H=H??[],H.push(T);if(H&&H.length>0)_.issues.push({code:"unrecognized_keys",input:P,inst:$,keys:H})}else{_.value={};for(let z of Reflect.ownKeys(P)){if(z==="__proto__")continue;let H=q.keyType._zod.run({value:z,issues:[]},K);if(H instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(H.issues.length){_.issues.push({code:"invalid_key",origin:"record",issues:H.issues.map((f)=>O8(f,K,i6())),input:z,path:[z],inst:$}),_.value[H.value]=H.value;continue}let T=q.valueType._zod.run({value:P[z],issues:[]},K);if(T instanceof Promise)O.push(T.then((f)=>{if(f.issues.length)_.issues.push(...P8(z,f.issues));_.value[H.value]=f.value}));else{if(T.issues.length)_.issues.push(...P8(z,T.issues));_.value[H.value]=T.value}}}if(O.length)return Promise.all(O).then(()=>_);return _}}),Kj=j$("$ZodMap",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(!(P instanceof Map))return _.issues.push({expected:"map",code:"invalid_type",input:P,inst:$}),_;let O=[];_.value=new Map;for(let[Y,z]of P){let H=q.keyType._zod.run({value:Y,issues:[]},K),T=q.valueType._zod.run({value:z,issues:[]},K);if(H instanceof Promise||T instanceof Promise)O.push(Promise.all([H,T]).then(([f,w])=>{SA(f,w,_,Y,P,$,K)}));else SA(H,T,_,Y,P,$,K)}if(O.length)return Promise.all(O).then(()=>_);return _}});function SA($,q,_,K,P,O,Y){if($.issues.length)if(cP.has(typeof K))_.issues.push(...P8(K,$.issues));else _.issues.push({code:"invalid_key",origin:"map",input:P,inst:O,issues:$.issues.map((z)=>O8(z,Y,i6()))});if(q.issues.length)if(cP.has(typeof K))_.issues.push(...P8(K,q.issues));else _.issues.push({origin:"map",code:"invalid_element",input:P,inst:O,key:K,issues:q.issues.map((z)=>O8(z,Y,i6()))});_.value.set($.value,q.value)}var Pj=j$("$ZodSet",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(!(P instanceof Set))return _.issues.push({input:P,inst:$,expected:"set",code:"invalid_type"}),_;let O=[];_.value=new Set;for(let Y of P){let z=q.valueType._zod.run({value:Y,issues:[]},K);if(z instanceof Promise)O.push(z.then((H)=>MA(H,_)));else MA(z,_)}if(O.length)return Promise.all(O).then(()=>_);return _}});function MA($,q){if($.issues.length)q.issues.push(...$.issues);q.value.add($.value)}var Oj=j$("$ZodEnum",($,q)=>{P6.init($,q);let _=xP(q.entries),K=new Set(_);$._zod.values=K,$._zod.pattern=new RegExp(`^(${_.filter((P)=>cP.has(typeof P)).map((P)=>typeof P==="string"?w8(P):P.toString()).join("|")})$`),$._zod.parse=(P,O)=>{let Y=P.value;if(K.has(Y))return P;return P.issues.push({code:"invalid_value",values:_,input:Y,inst:$}),P}}),Yj=j$("$ZodLiteral",($,q)=>{if(P6.init($,q),q.values.length===0)throw Error("Cannot create literal schema with no valid values");let _=new Set(q.values);$._zod.values=_,$._zod.pattern=new RegExp(`^(${q.values.map((K)=>typeof K==="string"?w8(K):K?w8(K.toString()):String(K)).join("|")})$`),$._zod.parse=(K,P)=>{let O=K.value;if(_.has(O))return K;return K.issues.push({code:"invalid_value",values:q.values,input:O,inst:$}),K}}),jj=j$("$ZodFile",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{let P=_.value;if(P instanceof File)return _;return _.issues.push({expected:"file",code:"invalid_type",input:P,inst:$}),_}}),vj=j$("$ZodTransform",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{if(K.direction==="backward")throw new TK($.constructor.name);let P=q.transform(_.value,_);if(K.async)return(P instanceof Promise?P:Promise.resolve(P)).then((Y)=>{return _.value=Y,_});if(P instanceof Promise)throw new i8;return _.value=P,_}});function NA($,q){if($.issues.length&&q===void 0)return{issues:[],value:void 0};return $}var i9=j$("$ZodOptional",($,q)=>{P6.init($,q),$._zod.optin="optional",$._zod.optout="optional",X6($._zod,"values",()=>{return q.innerType._zod.values?new Set([...q.innerType._zod.values,void 0]):void 0}),X6($._zod,"pattern",()=>{let _=q.innerType._zod.pattern;return _?new RegExp(`^(${pP(_.source)})?$`):void 0}),$._zod.parse=(_,K)=>{if(q.innerType._zod.optin==="optional"){let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>NA(O,_.value));return NA(P,_.value)}if(_.value===void 0)return _;return q.innerType._zod.run(_,K)}}),zj=j$("$ZodNullable",($,q)=>{P6.init($,q),X6($._zod,"optin",()=>q.innerType._zod.optin),X6($._zod,"optout",()=>q.innerType._zod.optout),X6($._zod,"pattern",()=>{let _=q.innerType._zod.pattern;return _?new RegExp(`^(${pP(_.source)}|null)$`):void 0}),X6($._zod,"values",()=>{return q.innerType._zod.values?new Set([...q.innerType._zod.values,null]):void 0}),$._zod.parse=(_,K)=>{if(_.value===null)return _;return q.innerType._zod.run(_,K)}}),Wj=j$("$ZodDefault",($,q)=>{P6.init($,q),$._zod.optin="optional",X6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,K)=>{if(K.direction==="backward")return q.innerType._zod.run(_,K);if(_.value===void 0)return _.value=q.defaultValue,_;let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>CA(O,q));return CA(P,q)}});function CA($,q){if($.value===void 0)$.value=q.defaultValue;return $}var Jj=j$("$ZodPrefault",($,q)=>{P6.init($,q),$._zod.optin="optional",X6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,K)=>{if(K.direction==="backward")return q.innerType._zod.run(_,K);if(_.value===void 0)_.value=q.defaultValue;return q.innerType._zod.run(_,K)}}),Hj=j$("$ZodNonOptional",($,q)=>{P6.init($,q),X6($._zod,"values",()=>{let _=q.innerType._zod.values;return _?new Set([..._].filter((K)=>K!==void 0)):void 0}),$._zod.parse=(_,K)=>{let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>EA(O,$));return EA(P,$)}});function EA($,q){if(!$.issues.length&&$.value===void 0)$.issues.push({code:"invalid_type",expected:"nonoptional",input:$.value,inst:q});return $}var Tj=j$("$ZodSuccess",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{if(K.direction==="backward")throw new TK("ZodSuccess");let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>{return _.value=O.issues.length===0,_});return _.value=P.issues.length===0,_}}),wj=j$("$ZodCatch",($,q)=>{P6.init($,q),X6($._zod,"optin",()=>q.innerType._zod.optin),X6($._zod,"optout",()=>q.innerType._zod.optout),X6($._zod,"values",()=>q.innerType._zod.values),$._zod.parse=(_,K)=>{if(K.direction==="backward")return q.innerType._zod.run(_,K);let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>{if(_.value=O.value,O.issues.length)_.value=q.catchValue({..._,error:{issues:O.issues.map((Y)=>O8(Y,K,i6()))},input:_.value}),_.issues=[];return _});if(_.value=P.value,P.issues.length)_.value=q.catchValue({..._,error:{issues:P.issues.map((O)=>O8(O,K,i6()))},input:_.value}),_.issues=[];return _}}),fj=j$("$ZodNaN",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{if(typeof _.value!=="number"||!Number.isNaN(_.value))return _.issues.push({input:_.value,inst:$,expected:"nan",code:"invalid_type"}),_;return _}}),Zj=j$("$ZodPipe",($,q)=>{P6.init($,q),X6($._zod,"values",()=>q.in._zod.values),X6($._zod,"optin",()=>q.in._zod.optin),X6($._zod,"optout",()=>q.out._zod.optout),X6($._zod,"propValues",()=>q.in._zod.propValues),$._zod.parse=(_,K)=>{if(K.direction==="backward"){let O=q.out._zod.run(_,K);if(O instanceof Promise)return O.then((Y)=>x9(Y,q.in,K));return x9(O,q.in,K)}let P=q.in._zod.run(_,K);if(P instanceof Promise)return P.then((O)=>x9(O,q.out,K));return x9(P,q.out,K)}});function x9($,q,_){if($.issues.length)return $.aborted=!0,$;return q._zod.run({value:$.value,issues:$.issues},_)}var FP=j$("$ZodCodec",($,q)=>{P6.init($,q),X6($._zod,"values",()=>q.in._zod.values),X6($._zod,"optin",()=>q.in._zod.optin),X6($._zod,"optout",()=>q.out._zod.optout),X6($._zod,"propValues",()=>q.in._zod.propValues),$._zod.parse=(_,K)=>{if((K.direction||"forward")==="forward"){let O=q.in._zod.run(_,K);if(O instanceof Promise)return O.then((Y)=>p9(Y,q,K));return p9(O,q,K)}else{let O=q.out._zod.run(_,K);if(O instanceof Promise)return O.then((Y)=>p9(Y,q,K));return p9(O,q,K)}}});function p9($,q,_){if($.issues.length)return $.aborted=!0,$;if((_.direction||"forward")==="forward"){let P=q.transform($.value,$);if(P instanceof Promise)return P.then((O)=>c9($,O,q.out,_));return c9($,P,q.out,_)}else{let P=q.reverseTransform($.value,$);if(P instanceof Promise)return P.then((O)=>c9($,O,q.in,_));return c9($,P,q.in,_)}}function c9($,q,_,K){if($.issues.length)return $.aborted=!0,$;return _._zod.run({value:q,issues:$.issues},K)}var Xj=j$("$ZodReadonly",($,q)=>{P6.init($,q),X6($._zod,"propValues",()=>q.innerType._zod.propValues),X6($._zod,"values",()=>q.innerType._zod.values),X6($._zod,"optin",()=>q.innerType?._zod?.optin),X6($._zod,"optout",()=>q.innerType?._zod?.optout),$._zod.parse=(_,K)=>{if(K.direction==="backward")return q.innerType._zod.run(_,K);let P=q.innerType._zod.run(_,K);if(P instanceof Promise)return P.then(hA);return hA(P)}});function hA($){return $.value=Object.freeze($.value),$}var Aj=j$("$ZodTemplateLiteral",($,q)=>{P6.init($,q);let _=[];for(let K of q.parts)if(typeof K==="object"&&K!==null){if(!K._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...K._zod.traits].shift()}`);let P=K._zod.pattern instanceof RegExp?K._zod.pattern.source:K._zod.pattern;if(!P)throw Error(`Invalid template literal part: ${K._zod.traits}`);let O=P.startsWith("^")?1:0,Y=P.endsWith("$")?P.length-1:P.length;_.push(P.slice(O,Y))}else if(K===null||fY.has(typeof K))_.push(w8(`${K}`));else throw Error(`Invalid template literal part: ${K}`);$._zod.pattern=new RegExp(`^${_.join("")}$`),$._zod.parse=(K,P)=>{if(typeof K.value!=="string")return K.issues.push({input:K.value,inst:$,expected:"template_literal",code:"invalid_type"}),K;if($._zod.pattern.lastIndex=0,!$._zod.pattern.test(K.value))return K.issues.push({input:K.value,inst:$,code:"invalid_format",format:q.format??"template_literal",pattern:$._zod.pattern.source}),K;return K}}),kj=j$("$ZodFunction",($,q)=>{return P6.init($,q),$._def=q,$._zod.def=q,$.implement=(_)=>{if(typeof _!=="function")throw Error("implement() must be called with a function");return function(...K){let P=$._def.input?nP($._def.input,K):K,O=Reflect.apply(_,this,P);if($._def.output)return nP($._def.output,O);return O}},$.implementAsync=(_)=>{if(typeof _!=="function")throw Error("implementAsync() must be called with a function");return async function(...K){let P=$._def.input?await K4($._def.input,K):K,O=await Reflect.apply(_,this,P);if($._def.output)return await K4($._def.output,O);return O}},$._zod.parse=(_,K)=>{if(typeof _.value!=="function")return _.issues.push({code:"invalid_type",expected:"function",input:_.value,inst:$}),_;if($._def.output&&$._def.output._zod.def.type==="promise")_.value=$.implementAsync(_.value);else _.value=$.implement(_.value);return _},$.input=(..._)=>{let K=$.constructor;if(Array.isArray(_[0]))return new K({type:"function",input:new n9({type:"tuple",items:_[0],rest:_[1]}),output:$._def.output});return new K({type:"function",input:_[0],output:$._def.output})},$.output=(_)=>{return new $.constructor({type:"function",input:$._def.input,output:_})},$}),Gj=j$("$ZodPromise",($,q)=>{P6.init($,q),$._zod.parse=(_,K)=>{return Promise.resolve(_.value).then((P)=>q.innerType._zod.run({value:P,issues:[]},K))}}),Vj=j$("$ZodLazy",($,q)=>{P6.init($,q),X6($._zod,"innerType",()=>q.getter()),X6($._zod,"pattern",()=>$._zod.innerType?._zod?.pattern),X6($._zod,"propValues",()=>$._zod.innerType?._zod?.propValues),X6($._zod,"optin",()=>$._zod.innerType?._zod?.optin??void 0),X6($._zod,"optout",()=>$._zod.innerType?._zod?.optout??void 0),$._zod.parse=(_,K)=>{return $._zod.innerType._zod.run(_,K)}}),Sj=j$("$ZodCustom",($,q)=>{h6.init($,q),P6.init($,q),$._zod.parse=(_,K)=>{return _},$._zod.check=(_)=>{let K=_.value,P=q.fn(K);if(P instanceof Promise)return P.then((O)=>RA(O,_,K,$));RA(P,_,K,$);return}});function RA($,q,_,K){if(!$){let P={code:"custom",input:_,inst:K,path:[...K._zod.def.path??[]],continue:!K._zod.def.abort};if(K._zod.def.params)P.params=K._zod.def.params;q.issues.push($4(P))}}var q7={};oq(q7,{zhTW:()=>Jv,zhCN:()=>Wv,yo:()=>Hv,vi:()=>zv,ur:()=>vv,uk:()=>$7,ua:()=>jv,tr:()=>Yv,th:()=>Ov,ta:()=>Pv,sv:()=>Kv,sl:()=>_v,ru:()=>qv,pt:()=>$v,ps:()=>ej,pl:()=>sj,ota:()=>Qj,no:()=>aj,nl:()=>Fj,ms:()=>Uj,mk:()=>tj,lt:()=>Bj,ko:()=>ij,km:()=>QP,kh:()=>nj,ka:()=>oj,ja:()=>rj,it:()=>lj,is:()=>dj,id:()=>mj,hu:()=>cj,he:()=>pj,frCA:()=>xj,fr:()=>uj,fi:()=>yj,fa:()=>bj,es:()=>gj,eo:()=>Lj,en:()=>aP,de:()=>Dj,da:()=>Ij,cs:()=>Rj,ca:()=>hj,bg:()=>Ej,be:()=>Cj,az:()=>Nj,ar:()=>Mj});var xL=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return`  :   ${P.expected}    ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`  :   ${d$(P.values[0])}`;return`  :     : ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`   :    ${P.origin??""} ${O} ${P.maximum.toString()} ${Y.unit??""}`;return`  :    ${P.origin??""} ${O} ${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`  :   ${P.origin}   ${O} ${P.minimum.toString()} ${Y.unit}`;return`  :   ${P.origin}   ${O} ${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`  :     "${P.prefix}"`;if(O.format==="ends_with")return`  :     "${O.suffix}"`;if(O.format==="includes")return`  :    "${O.includes}"`;if(O.format==="regex")return`  :     ${O.pattern}`;return`${K[O.format]??P.format}  `}case"not_multiple_of":return`  :      ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?"":""} ${P.keys.length>1?"":""}: ${w$(P.keys," ")}`;case"invalid_key":return`    ${P.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${P.origin}`;default:return"  "}}};function Mj(){return{localeError:xL()}}var pL=()=>{let $={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return`Yanl dyr: gzlniln ${P.expected}, daxil olan ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Yanl dyr: gzlniln ${d$(P.values[0])}`;return`Yanl seim: aadaklardan biri olmaldr: ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`ox byk: gzlniln ${P.origin??"dyr"} ${O}${P.maximum.toString()} ${Y.unit??"element"}`;return`ox byk: gzlniln ${P.origin??"dyr"} ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`ox kiik: gzlniln ${P.origin} ${O}${P.minimum.toString()} ${Y.unit}`;return`ox kiik: gzlniln ${P.origin} ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Yanl mtn: "${O.prefix}" il balamaldr`;if(O.format==="ends_with")return`Yanl mtn: "${O.suffix}" il bitmlidir`;if(O.format==="includes")return`Yanl mtn: "${O.includes}" daxil olmaldr`;if(O.format==="regex")return`Yanl mtn: ${O.pattern} ablonuna uyun olmaldr`;return`Yanl ${K[O.format]??P.format}`}case"not_multiple_of":return`Yanl dd: ${P.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${P.keys.length>1?"lar":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`${P.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${P.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function Nj(){return{localeError:pL()}}function yA($,q,_,K){let P=Math.abs($),O=P%10,Y=P%100;if(Y>=11&&Y<=19)return K;if(O===1)return q;if(O>=2&&O<=4)return _;return K}var cL=()=>{let $={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :  ${P.expected},  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])}`;return` :    ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y){let z=Number(P.maximum),H=yA(z,Y.unit.one,Y.unit.few,Y.unit.many);return` : ,  ${P.origin??""}  ${Y.verb} ${O}${P.maximum.toString()} ${H}`}return` : ,  ${P.origin??""}   ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y){let z=Number(P.minimum),H=yA(z,Y.unit.one,Y.unit.few,Y.unit.many);return` : ,  ${P.origin}  ${Y.verb} ${O}${P.minimum.toString()} ${H}`}return` : ,  ${P.origin}   ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` :    ${P.divisor}`;case"unrecognized_keys":return` ${P.keys.length>1?"":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${P.origin}`;default:return" "}}};function Cj(){return{localeError:cL()}}var mL=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"";case"object":{if(Array.isArray($))return"";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return q},dL=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(K)=>{switch(K.code){case"invalid_type":return` :  ${K.expected},  ${mL(K.input)}`;case"invalid_value":if(K.values.length===1)return` :  ${d$(K.values[0])}`;return` :    ${w$(K.values,"|")}`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return` :   ${K.origin??""}   ${P}${K.maximum.toString()} ${O.unit??""}`;return` :   ${K.origin??""}   ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return` :   ${K.origin}   ${P}${K.minimum.toString()} ${O.unit}`;return` :   ${K.origin}   ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return` :     "${P.prefix}"`;if(P.format==="ends_with")return` :     "${P.suffix}"`;if(P.format==="includes")return` :    "${P.includes}"`;if(P.format==="regex")return` :     ${P.pattern}`;let O="";if(P.format==="emoji")O="";if(P.format==="datetime")O="";if(P.format==="date")O="";if(P.format==="time")O="";if(P.format==="duration")O="";return`${O} ${_[P.format]??K.format}`}case"not_multiple_of":return` :      ${K.divisor}`;case"unrecognized_keys":return`${K.keys.length>1?"":""} ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`   ${K.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${K.origin}`;default:return" "}}};function Ej(){return{localeError:dL()}}var lL=()=>{let $={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return(P)=>{switch(P.code){case"invalid_type":return`Tipus invlid: s'esperava ${P.expected}, s'ha rebut ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Valor invlid: s'esperava ${d$(P.values[0])}`;return`Opci invlida: s'esperava una de ${w$(P.values," o ")}`;case"too_big":{let O=P.inclusive?"com a mxim":"menys de",Y=q(P.origin);if(Y)return`Massa gran: s'esperava que ${P.origin??"el valor"} contingus ${O} ${P.maximum.toString()} ${Y.unit??"elements"}`;return`Massa gran: s'esperava que ${P.origin??"el valor"} fos ${O} ${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?"com a mnim":"ms de",Y=q(P.origin);if(Y)return`Massa petit: s'esperava que ${P.origin} contingus ${O} ${P.minimum.toString()} ${Y.unit}`;return`Massa petit: s'esperava que ${P.origin} fos ${O} ${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Format invlid: ha de comenar amb "${O.prefix}"`;if(O.format==="ends_with")return`Format invlid: ha d'acabar amb "${O.suffix}"`;if(O.format==="includes")return`Format invlid: ha d'incloure "${O.includes}"`;if(O.format==="regex")return`Format invlid: ha de coincidir amb el patr ${O.pattern}`;return`Format invlid per a ${K[O.format]??P.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${P.divisor}`;case"unrecognized_keys":return`Clau${P.keys.length>1?"s":""} no reconeguda${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`Clau invlida a ${P.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${P.origin}`;default:return"Entrada invlida"}}};function hj(){return{localeError:lL()}}var rL=()=>{let $={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(P))return"pole";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return(P)=>{switch(P.code){case"invalid_type":return`Neplatn vstup: oekvno ${P.expected}, obdreno ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Neplatn vstup: oekvno ${d$(P.values[0])}`;return`Neplatn monost: oekvna jedna z hodnot ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Hodnota je pli velk: ${P.origin??"hodnota"} mus mt ${O}${P.maximum.toString()} ${Y.unit??"prvk"}`;return`Hodnota je pli velk: ${P.origin??"hodnota"} mus bt ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Hodnota je pli mal: ${P.origin??"hodnota"} mus mt ${O}${P.minimum.toString()} ${Y.unit??"prvk"}`;return`Hodnota je pli mal: ${P.origin??"hodnota"} mus bt ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Neplatn etzec: mus zanat na "${O.prefix}"`;if(O.format==="ends_with")return`Neplatn etzec: mus konit na "${O.suffix}"`;if(O.format==="includes")return`Neplatn etzec: mus obsahovat "${O.includes}"`;if(O.format==="regex")return`Neplatn etzec: mus odpovdat vzoru ${O.pattern}`;return`Neplatn formt ${K[O.format]??P.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${P.divisor}`;case"unrecognized_keys":return`Neznm kle: ${w$(P.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${P.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${P.origin}`;default:return"Neplatn vstup"}}};function Rj(){return{localeError:rL()}}var oL=()=>{let $={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},q={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function _(Y){return $[Y]??null}function K(Y){return q[Y]??Y}let P=(Y)=>{let z=typeof Y;switch(z){case"number":return Number.isNaN(Y)?"NaN":"tal";case"object":{if(Array.isArray(Y))return"liste";if(Y===null)return"null";if(Object.getPrototypeOf(Y)!==Object.prototype&&Y.constructor)return Y.constructor.name;return"objekt"}}return z},O={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(Y)=>{switch(Y.code){case"invalid_type":return`Ugyldigt input: forventede ${K(Y.expected)}, fik ${K(P(Y.input))}`;case"invalid_value":if(Y.values.length===1)return`Ugyldig vrdi: forventede ${d$(Y.values[0])}`;return`Ugyldigt valg: forventede en af flgende ${w$(Y.values,"|")}`;case"too_big":{let z=Y.inclusive?"<=":"<",H=_(Y.origin),T=K(Y.origin);if(H)return`For stor: forventede ${T??"value"} ${H.verb} ${z} ${Y.maximum.toString()} ${H.unit??"elementer"}`;return`For stor: forventede ${T??"value"} havde ${z} ${Y.maximum.toString()}`}case"too_small":{let z=Y.inclusive?">=":">",H=_(Y.origin),T=K(Y.origin);if(H)return`For lille: forventede ${T} ${H.verb} ${z} ${Y.minimum.toString()} ${H.unit}`;return`For lille: forventede ${T} havde ${z} ${Y.minimum.toString()}`}case"invalid_format":{let z=Y;if(z.format==="starts_with")return`Ugyldig streng: skal starte med "${z.prefix}"`;if(z.format==="ends_with")return`Ugyldig streng: skal ende med "${z.suffix}"`;if(z.format==="includes")return`Ugyldig streng: skal indeholde "${z.includes}"`;if(z.format==="regex")return`Ugyldig streng: skal matche mnsteret ${z.pattern}`;return`Ugyldig ${O[z.format]??Y.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${Y.divisor}`;case"unrecognized_keys":return`${Y.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${w$(Y.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${Y.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${Y.origin}`;default:return"Ugyldigt input"}}};function Ij(){return{localeError:oL()}}var nL=()=>{let $={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"Zahl";case"object":{if(Array.isArray(P))return"Array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return(P)=>{switch(P.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${P.expected}, erhalten ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Ungltige Eingabe: erwartet ${d$(P.values[0])}`;return`Ungltige Option: erwartet eine von ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Zu gro: erwartet, dass ${P.origin??"Wert"} ${O}${P.maximum.toString()} ${Y.unit??"Elemente"} hat`;return`Zu gro: erwartet, dass ${P.origin??"Wert"} ${O}${P.maximum.toString()} ist`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Zu klein: erwartet, dass ${P.origin} ${O}${P.minimum.toString()} ${Y.unit} hat`;return`Zu klein: erwartet, dass ${P.origin} ${O}${P.minimum.toString()} ist`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Ungltiger String: muss mit "${O.prefix}" beginnen`;if(O.format==="ends_with")return`Ungltiger String: muss mit "${O.suffix}" enden`;if(O.format==="includes")return`Ungltiger String: muss "${O.includes}" enthalten`;if(O.format==="regex")return`Ungltiger String: muss dem Muster ${O.pattern} entsprechen`;return`Ungltig: ${K[O.format]??P.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${P.divisor} sein`;case"unrecognized_keys":return`${P.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${w$(P.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${P.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${P.origin}`;default:return"Ungltige Eingabe"}}};function Dj(){return{localeError:nL()}}var iL=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return q},BL=()=>{let $={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function q(K){return $[K]??null}let _={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(K)=>{switch(K.code){case"invalid_type":return`Invalid input: expected ${K.expected}, received ${iL(K.input)}`;case"invalid_value":if(K.values.length===1)return`Invalid input: expected ${d$(K.values[0])}`;return`Invalid option: expected one of ${w$(K.values,"|")}`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return`Too big: expected ${K.origin??"value"} to have ${P}${K.maximum.toString()} ${O.unit??"elements"}`;return`Too big: expected ${K.origin??"value"} to be ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return`Too small: expected ${K.origin} to have ${P}${K.minimum.toString()} ${O.unit}`;return`Too small: expected ${K.origin} to be ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return`Invalid string: must start with "${P.prefix}"`;if(P.format==="ends_with")return`Invalid string: must end with "${P.suffix}"`;if(P.format==="includes")return`Invalid string: must include "${P.includes}"`;if(P.format==="regex")return`Invalid string: must match pattern ${P.pattern}`;return`Invalid ${_[P.format]??K.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${K.divisor}`;case"unrecognized_keys":return`Unrecognized key${K.keys.length>1?"s":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Invalid key in ${K.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${K.origin}`;default:return"Invalid input"}}};function aP(){return{localeError:BL()}}var tL=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"nombro";case"object":{if(Array.isArray($))return"tabelo";if($===null)return"senvalora";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return q},UL=()=>{let $={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function q(K){return $[K]??null}let _={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return(K)=>{switch(K.code){case"invalid_type":return`Nevalida enigo: atendiis ${K.expected}, riceviis ${tL(K.input)}`;case"invalid_value":if(K.values.length===1)return`Nevalida enigo: atendiis ${d$(K.values[0])}`;return`Nevalida opcio: atendiis unu el ${w$(K.values,"|")}`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return`Tro granda: atendiis ke ${K.origin??"valoro"} havu ${P}${K.maximum.toString()} ${O.unit??"elementojn"}`;return`Tro granda: atendiis ke ${K.origin??"valoro"} havu ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return`Tro malgranda: atendiis ke ${K.origin} havu ${P}${K.minimum.toString()} ${O.unit}`;return`Tro malgranda: atendiis ke ${K.origin} estu ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return`Nevalida karaktraro: devas komencii per "${P.prefix}"`;if(P.format==="ends_with")return`Nevalida karaktraro: devas finii per "${P.suffix}"`;if(P.format==="includes")return`Nevalida karaktraro: devas inkluzivi "${P.includes}"`;if(P.format==="regex")return`Nevalida karaktraro: devas kongrui kun la modelo ${P.pattern}`;return`Nevalida ${_[P.format]??K.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${K.divisor}`;case"unrecognized_keys":return`Nekonata${K.keys.length>1?"j":""} losilo${K.keys.length>1?"j":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${K.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${K.origin}`;default:return"Nevalida enigo"}}};function Lj(){return{localeError:UL()}}var FL=()=>{let $={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},q={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function _(Y){return $[Y]??null}function K(Y){return q[Y]??Y}let P=(Y)=>{let z=typeof Y;switch(z){case"number":return Number.isNaN(Y)?"NaN":"number";case"object":{if(Array.isArray(Y))return"array";if(Y===null)return"null";if(Object.getPrototypeOf(Y)!==Object.prototype)return Y.constructor.name;return"object"}}return z},O={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return(Y)=>{switch(Y.code){case"invalid_type":return`Entrada invlida: se esperaba ${K(Y.expected)}, recibido ${K(P(Y.input))}`;case"invalid_value":if(Y.values.length===1)return`Entrada invlida: se esperaba ${d$(Y.values[0])}`;return`Opcin invlida: se esperaba una de ${w$(Y.values,"|")}`;case"too_big":{let z=Y.inclusive?"<=":"<",H=_(Y.origin),T=K(Y.origin);if(H)return`Demasiado grande: se esperaba que ${T??"valor"} tuviera ${z}${Y.maximum.toString()} ${H.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${T??"valor"} fuera ${z}${Y.maximum.toString()}`}case"too_small":{let z=Y.inclusive?">=":">",H=_(Y.origin),T=K(Y.origin);if(H)return`Demasiado pequeo: se esperaba que ${T} tuviera ${z}${Y.minimum.toString()} ${H.unit}`;return`Demasiado pequeo: se esperaba que ${T} fuera ${z}${Y.minimum.toString()}`}case"invalid_format":{let z=Y;if(z.format==="starts_with")return`Cadena invlida: debe comenzar con "${z.prefix}"`;if(z.format==="ends_with")return`Cadena invlida: debe terminar en "${z.suffix}"`;if(z.format==="includes")return`Cadena invlida: debe incluir "${z.includes}"`;if(z.format==="regex")return`Cadena invlida: debe coincidir con el patrn ${z.pattern}`;return`Invlido ${O[z.format]??Y.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${Y.divisor}`;case"unrecognized_keys":return`Llave${Y.keys.length>1?"s":""} desconocida${Y.keys.length>1?"s":""}: ${w$(Y.keys,", ")}`;case"invalid_key":return`Llave invlida en ${K(Y.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${K(Y.origin)}`;default:return"Entrada invlida"}}};function gj(){return{localeError:FL()}}var aL=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :  ${P.expected}  ${_(P.input)}  `;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])} `;return` :    ${w$(P.values,"|")} `;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` : ${P.origin??""}  ${O}${P.maximum.toString()} ${Y.unit??""} `;return` : ${P.origin??""}  ${O}${P.maximum.toString()} `}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` : ${P.origin}  ${O}${P.minimum.toString()} ${Y.unit} `;return` : ${P.origin}  ${O}${P.minimum.toString()} `}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :   "${O.prefix}"  `;if(O.format==="ends_with")return` :   "${O.suffix}"  `;if(O.format==="includes")return` :   "${O.includes}" `;if(O.format==="regex")return` :    ${O.pattern}   `;return`${K[O.format]??P.format} `}case"not_multiple_of":return` :   ${P.divisor} `;case"unrecognized_keys":return`${P.keys.length>1?"":""} : ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${P.origin}`;default:return" "}}};function bj(){return{localeError:aL()}}var QL=()=>{let $={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return(P)=>{switch(P.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${P.expected}, oli ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Virheellinen syte: tytyy olla ${d$(P.values[0])}`;return`Virheellinen valinta: tytyy olla yksi seuraavista: ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Liian suuri: ${Y.subject} tytyy olla ${O}${P.maximum.toString()} ${Y.unit}`.trim();return`Liian suuri: arvon tytyy olla ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Liian pieni: ${Y.subject} tytyy olla ${O}${P.minimum.toString()} ${Y.unit}`.trim();return`Liian pieni: arvon tytyy olla ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Virheellinen syte: tytyy alkaa "${O.prefix}"`;if(O.format==="ends_with")return`Virheellinen syte: tytyy loppua "${O.suffix}"`;if(O.format==="includes")return`Virheellinen syte: tytyy sislt "${O.includes}"`;if(O.format==="regex")return`Virheellinen syte: tytyy vastata snnllist lauseketta ${O.pattern}`;return`Virheellinen ${K[O.format]??P.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${P.divisor} monikerta`;case"unrecognized_keys":return`${P.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${w$(P.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function yj(){return{localeError:QL()}}var eL=()=>{let $={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"nombre";case"object":{if(Array.isArray(P))return"tableau";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return(P)=>{switch(P.code){case"invalid_type":return`Entre invalide : ${P.expected} attendu, ${_(P.input)} reu`;case"invalid_value":if(P.values.length===1)return`Entre invalide : ${d$(P.values[0])} attendu`;return`Option invalide : une valeur parmi ${w$(P.values,"|")} attendue`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Trop grand : ${P.origin??"valeur"} doit ${Y.verb} ${O}${P.maximum.toString()} ${Y.unit??"lment(s)"}`;return`Trop grand : ${P.origin??"valeur"} doit tre ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Trop petit : ${P.origin} doit ${Y.verb} ${O}${P.minimum.toString()} ${Y.unit}`;return`Trop petit : ${P.origin} doit tre ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Chane invalide : doit commencer par "${O.prefix}"`;if(O.format==="ends_with")return`Chane invalide : doit se terminer par "${O.suffix}"`;if(O.format==="includes")return`Chane invalide : doit inclure "${O.includes}"`;if(O.format==="regex")return`Chane invalide : doit correspondre au modle ${O.pattern}`;return`${K[O.format]??P.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${P.divisor}`;case"unrecognized_keys":return`Cl${P.keys.length>1?"s":""} non reconnue${P.keys.length>1?"s":""} : ${w$(P.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${P.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${P.origin}`;default:return"Entre invalide"}}};function uj(){return{localeError:eL()}}var sL=()=>{let $={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return(P)=>{switch(P.code){case"invalid_type":return`Entre invalide : attendu ${P.expected}, reu ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Entre invalide : attendu ${d$(P.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"":"<",Y=q(P.origin);if(Y)return`Trop grand : attendu que ${P.origin??"la valeur"} ait ${O}${P.maximum.toString()} ${Y.unit}`;return`Trop grand : attendu que ${P.origin??"la valeur"} soit ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?"":">",Y=q(P.origin);if(Y)return`Trop petit : attendu que ${P.origin} ait ${O}${P.minimum.toString()} ${Y.unit}`;return`Trop petit : attendu que ${P.origin} soit ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Chane invalide : doit commencer par "${O.prefix}"`;if(O.format==="ends_with")return`Chane invalide : doit se terminer par "${O.suffix}"`;if(O.format==="includes")return`Chane invalide : doit inclure "${O.includes}"`;if(O.format==="regex")return`Chane invalide : doit correspondre au motif ${O.pattern}`;return`${K[O.format]??P.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${P.divisor}`;case"unrecognized_keys":return`Cl${P.keys.length>1?"s":""} non reconnue${P.keys.length>1?"s":""} : ${w$(P.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${P.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${P.origin}`;default:return"Entre invalide"}}};function xj(){return{localeError:sL()}}var $g=()=>{let $={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},q={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},_=(T)=>T?$[T]:void 0,K=(T)=>{let f=_(T);if(f)return f.label;return T??$.unknown.label},P=(T)=>`${K(T)}`,O=(T)=>{return(_(T)?.gender??"m")==="f"?" ":" "},Y=(T)=>{if(!T)return null;return q[T]??null},z=(T)=>{let f=typeof T;switch(f){case"number":return Number.isNaN(T)?"NaN":"number";case"object":{if(Array.isArray(T))return"array";if(T===null)return"null";if(Object.getPrototypeOf(T)!==Object.prototype&&T.constructor)return T.constructor.name;return"object"}default:return f}},H={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}};return(T)=>{switch(T.code){case"invalid_type":{let f=T.expected,w=K(f),k=z(T.input),S=$[k]?.label??k;return`  :   ${w},  ${S}`}case"invalid_value":{if(T.values.length===1)return`  :    ${d$(T.values[0])}`;let f=T.values.map((S)=>d$(S));if(T.values.length===2)return`  :    ${f[0]}  ${f[1]}`;let w=f[f.length-1];return`  :    ${f.slice(0,-1).join(", ")}  ${w}`}case"too_big":{let f=Y(T.origin),w=P(T.origin??"value");if(T.origin==="string")return`${f?.longLabel??""} : ${w}   ${T.maximum.toString()} ${f?.unit??""} ${T.inclusive?" ":" "}`.trim();if(T.origin==="number"){let N=T.inclusive?`   -${T.maximum}`:` -${T.maximum}`;return` : ${w}   ${N}`}if(T.origin==="array"||T.origin==="set"){let N=T.origin==="set"?"":"",h=T.inclusive?`${T.maximum} ${f?.unit??""}  `:` -${T.maximum} ${f?.unit??""}`;return` : ${w} ${N}  ${h}`.trim()}let k=T.inclusive?"<=":"<",S=O(T.origin??"value");if(f?.unit)return`${f.longLabel} : ${w} ${S} ${k}${T.maximum.toString()} ${f.unit}`;return`${f?.longLabel??""} : ${w} ${S} ${k}${T.maximum.toString()}`}case"too_small":{let f=Y(T.origin),w=P(T.origin??"value");if(T.origin==="string")return`${f?.shortLabel??""} : ${w}   ${T.minimum.toString()} ${f?.unit??""} ${T.inclusive?" ":""}`.trim();if(T.origin==="number"){let N=T.inclusive?`   -${T.minimum}`:` -${T.minimum}`;return` : ${w}   ${N}`}if(T.origin==="array"||T.origin==="set"){let N=T.origin==="set"?"":"";if(T.minimum===1&&T.inclusive){let E=T.origin==="set"?"  ":"  ";return` : ${w} ${N}  ${E}`}let h=T.inclusive?`${T.minimum} ${f?.unit??""}  `:` -${T.minimum} ${f?.unit??""}`;return` : ${w} ${N}  ${h}`.trim()}let k=T.inclusive?">=":">",S=O(T.origin??"value");if(f?.unit)return`${f.shortLabel} : ${w} ${S} ${k}${T.minimum.toString()} ${f.unit}`;return`${f?.shortLabel??""} : ${w} ${S} ${k}${T.minimum.toString()}`}case"invalid_format":{let f=T;if(f.format==="starts_with")return`    "${f.prefix}"`;if(f.format==="ends_with")return`    "${f.suffix}"`;if(f.format==="includes")return`   "${f.includes}"`;if(f.format==="regex")return`    ${f.pattern}`;let w=H[f.format],k=w?.label??f.format,N=(w?.gender??"m")==="f"?"":"";return`${k}  ${N}`}case"not_multiple_of":return`  :     ${T.divisor}`;case"unrecognized_keys":return`${T.keys.length>1?"":""}  ${T.keys.length>1?"":""}: ${w$(T.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${P(T.origin??"array")}`;default:return"  "}}};function pj(){return{localeError:$g()}}var qg=()=>{let $={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"szm";case"object":{if(Array.isArray(P))return"tmb";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return(P)=>{switch(P.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${P.expected}, a kapott rtk ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`rvnytelen bemenet: a vrt rtk ${d$(P.values[0])}`;return`rvnytelen opci: valamelyik rtk vrt ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Tl nagy: ${P.origin??"rtk"} mrete tl nagy ${O}${P.maximum.toString()} ${Y.unit??"elem"}`;return`Tl nagy: a bemeneti rtk ${P.origin??"rtk"} tl nagy: ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Tl kicsi: a bemeneti rtk ${P.origin} mrete tl kicsi ${O}${P.minimum.toString()} ${Y.unit}`;return`Tl kicsi: a bemeneti rtk ${P.origin} tl kicsi ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`rvnytelen string: "${O.prefix}" rtkkel kell kezddnie`;if(O.format==="ends_with")return`rvnytelen string: "${O.suffix}" rtkkel kell vgzdnie`;if(O.format==="includes")return`rvnytelen string: "${O.includes}" rtket kell tartalmaznia`;if(O.format==="regex")return`rvnytelen string: ${O.pattern} mintnak kell megfelelnie`;return`rvnytelen ${K[O.format]??P.format}`}case"not_multiple_of":return`rvnytelen szm: ${P.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${P.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${P.origin}`;default:return"rvnytelen bemenet"}}};function cj(){return{localeError:qg()}}var _g=()=>{let $={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return`Input tidak valid: diharapkan ${P.expected}, diterima ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Input tidak valid: diharapkan ${d$(P.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Terlalu besar: diharapkan ${P.origin??"value"} memiliki ${O}${P.maximum.toString()} ${Y.unit??"elemen"}`;return`Terlalu besar: diharapkan ${P.origin??"value"} menjadi ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Terlalu kecil: diharapkan ${P.origin} memiliki ${O}${P.minimum.toString()} ${Y.unit}`;return`Terlalu kecil: diharapkan ${P.origin} menjadi ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`String tidak valid: harus dimulai dengan "${O.prefix}"`;if(O.format==="ends_with")return`String tidak valid: harus berakhir dengan "${O.suffix}"`;if(O.format==="includes")return`String tidak valid: harus menyertakan "${O.includes}"`;if(O.format==="regex")return`String tidak valid: harus sesuai pola ${O.pattern}`;return`${K[O.format]??P.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${P.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${P.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${P.origin}`;default:return"Input tidak valid"}}};function mj(){return{localeError:_g()}}var Kg=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"nmer";case"object":{if(Array.isArray($))return"fylki";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return q},Pg=()=>{let $={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function q(K){return $[K]??null}let _={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return(K)=>{switch(K.code){case"invalid_type":return`Rangt gildi:  slst inn ${Kg(K.input)} ar sem  a vera ${K.expected}`;case"invalid_value":if(K.values.length===1)return`Rangt gildi: gert r fyrir ${d$(K.values[0])}`;return`gilt val: m vera eitt af eftirfarandi ${w$(K.values,"|")}`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return`Of strt: gert er r fyrir a ${K.origin??"gildi"} hafi ${P}${K.maximum.toString()} ${O.unit??"hluti"}`;return`Of strt: gert er r fyrir a ${K.origin??"gildi"} s ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return`Of lti: gert er r fyrir a ${K.origin} hafi ${P}${K.minimum.toString()} ${O.unit}`;return`Of lti: gert er r fyrir a ${K.origin} s ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return`gildur strengur: verur a byrja  "${P.prefix}"`;if(P.format==="ends_with")return`gildur strengur: verur a enda  "${P.suffix}"`;if(P.format==="includes")return`gildur strengur: verur a innihalda "${P.includes}"`;if(P.format==="regex")return`gildur strengur: verur a fylgja mynstri ${P.pattern}`;return`Rangt ${_[P.format]??K.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${K.divisor}`;case"unrecognized_keys":return`ekkt ${K.keys.length>1?"ir lyklar":"ur lykill"}: ${w$(K.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${K.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${K.origin}`;default:return"Rangt gildi"}}};function dj(){return{localeError:Pg()}}var Og=()=>{let $={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"numero";case"object":{if(Array.isArray(P))return"vettore";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return`Input non valido: atteso ${P.expected}, ricevuto ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Input non valido: atteso ${d$(P.values[0])}`;return`Opzione non valida: atteso uno tra ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Troppo grande: ${P.origin??"valore"} deve avere ${O}${P.maximum.toString()} ${Y.unit??"elementi"}`;return`Troppo grande: ${P.origin??"valore"} deve essere ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Troppo piccolo: ${P.origin} deve avere ${O}${P.minimum.toString()} ${Y.unit}`;return`Troppo piccolo: ${P.origin} deve essere ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Stringa non valida: deve iniziare con "${O.prefix}"`;if(O.format==="ends_with")return`Stringa non valida: deve terminare con "${O.suffix}"`;if(O.format==="includes")return`Stringa non valida: deve includere "${O.includes}"`;if(O.format==="regex")return`Stringa non valida: deve corrispondere al pattern ${O.pattern}`;return`Invalid ${K[O.format]??P.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${P.divisor}`;case"unrecognized_keys":return`Chiav${P.keys.length>1?"i":"e"} non riconosciut${P.keys.length>1?"e":"a"}: ${w$(P.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${P.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${P.origin}`;default:return"Input non valido"}}};function lj(){return{localeError:Og()}}var Yg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return`: ${P.expected}${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`: ${d$(P.values[0])}`;return`: ${w$(P.values,"")}`;case"too_big":{let O=P.inclusive?"":"",Y=q(P.origin);if(Y)return`: ${P.origin??""}${P.maximum.toString()}${Y.unit??""}${O}`;return`: ${P.origin??""}${P.maximum.toString()}${O}`}case"too_small":{let O=P.inclusive?"":"",Y=q(P.origin);if(Y)return`: ${P.origin}${P.minimum.toString()}${Y.unit}${O}`;return`: ${P.origin}${P.minimum.toString()}${O}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`: "${O.prefix}"`;if(O.format==="ends_with")return`: "${O.suffix}"`;if(O.format==="includes")return`: "${O.includes}"`;if(O.format==="regex")return`: ${O.pattern}`;return`${K[O.format]??P.format}`}case"not_multiple_of":return`: ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?"":""}: ${w$(P.keys,"")}`;case"invalid_key":return`${P.origin}`;case"invalid_union":return"";case"invalid_element":return`${P.origin}`;default:return""}}};function rj(){return{localeError:Yg()}}var jg=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"";case"object":{if(Array.isArray($))return"";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[q]??q},vg=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(K){return $[K]??null}let _={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(K)=>{switch(K.code){case"invalid_type":return` :  ${K.expected},  ${jg(K.input)}`;case"invalid_value":if(K.values.length===1)return` :  ${d$(K.values[0])}`;return` :  - ${w$(K.values,"|")}-`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return` :  ${K.origin??""} ${O.verb} ${P}${K.maximum.toString()} ${O.unit}`;return` :  ${K.origin??""}  ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return` :  ${K.origin} ${O.verb} ${P}${K.minimum.toString()} ${O.unit}`;return` :  ${K.origin}  ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return` :   "${P.prefix}"-`;if(P.format==="ends_with")return` :   "${P.suffix}"-`;if(P.format==="includes")return` :   "${P.includes}"-`;if(P.format==="regex")return` :    ${P.pattern}`;return` ${_[P.format]??K.format}`}case"not_multiple_of":return` :   ${K.divisor}- `;case"unrecognized_keys":return` ${K.keys.length>1?"":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`  ${K.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${K.origin}-`;default:return" "}}};function oj(){return{localeError:vg()}}var zg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?" (NaN)":"";case"object":{if(Array.isArray(P))return" (Array)";if(P===null)return" (null)";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return`  ${P.expected}  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`  ${d$(P.values[0])}`;return`  ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`  ${P.origin??""} ${O} ${P.maximum.toString()} ${Y.unit??""}`;return`  ${P.origin??""} ${O} ${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`  ${P.origin} ${O} ${P.minimum.toString()} ${Y.unit}`;return`  ${P.origin} ${O} ${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`  "${O.prefix}"`;if(O.format==="ends_with")return`  "${O.suffix}"`;if(O.format==="includes")return`  "${O.includes}"`;if(O.format==="regex")return`  ${O.pattern}`;return` ${K[O.format]??P.format}`}case"not_multiple_of":return`  ${P.divisor}`;case"unrecognized_keys":return` ${w$(P.keys,", ")}`;case"invalid_key":return` ${P.origin}`;case"invalid_union":return"";case"invalid_element":return` ${P.origin}`;default:return""}}};function QP(){return{localeError:zg()}}function nj(){return QP()}var Wg=()=>{let $={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :   ${P.expected},   ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])}  `;return` : ${w$(P.values," ")}   `;case"too_big":{let O=P.inclusive?"":"",Y=O===""?" ":" ",z=q(P.origin),H=z?.unit??"";if(z)return`${P.origin??""}  : ${P.maximum.toString()}${H} ${O}${Y}`;return`${P.origin??""}  : ${P.maximum.toString()} ${O}${Y}`}case"too_small":{let O=P.inclusive?"":"",Y=O===""?" ":" ",z=q(P.origin),H=z?.unit??"";if(z)return`${P.origin??""}  : ${P.minimum.toString()}${H} ${O}${Y}`;return`${P.origin??""}  : ${P.minimum.toString()} ${O}${Y}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` : "${O.prefix}"()  `;if(O.format==="ends_with")return` : "${O.suffix}"()  `;if(O.format==="includes")return` : "${O.includes}"()  `;if(O.format==="regex")return` :  ${O.pattern}   `;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` : ${P.divisor}  `;case"unrecognized_keys":return`   : ${w$(P.keys,", ")}`;case"invalid_key":return` : ${P.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${P.origin}`;default:return" "}}};function ij(){return{localeError:Wg()}}var Jg=($)=>{return sP(typeof $,$)},sP=($,q=void 0)=>{switch($){case"number":return Number.isNaN(q)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":{if(q===void 0)return"neinomas objektas";if(q===null)return"nulin reikm";if(Array.isArray(q))return"masyvas";if(Object.getPrototypeOf(q)!==Object.prototype&&q.constructor)return q.constructor.name;return"objektas"}case"null":return"nulin reikm"}return $},eP=($)=>{return $.charAt(0).toUpperCase()+$.slice(1)};function uA($){let q=Math.abs($),_=q%10,K=q%100;if(K>=11&&K<=19||_===0)return"many";if(_===1)return"one";return"few"}var Hg=()=>{let $={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function q(K,P,O,Y){let z=$[K]??null;if(z===null)return z;return{unit:z.unit[P],verb:z.verb[Y][O?"inclusive":"notInclusive"]}}let _={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return(K)=>{switch(K.code){case"invalid_type":return`Gautas tipas ${Jg(K.input)}, o tiktasi - ${sP(K.expected)}`;case"invalid_value":if(K.values.length===1)return`Privalo bti ${d$(K.values[0])}`;return`Privalo bti vienas i ${w$(K.values,"|")} pasirinkim`;case"too_big":{let P=sP(K.origin),O=q(K.origin,uA(Number(K.maximum)),K.inclusive??!1,"smaller");if(O?.verb)return`${eP(P??K.origin??"reikm")} ${O.verb} ${K.maximum.toString()} ${O.unit??"element"}`;let Y=K.inclusive?"ne didesnis kaip":"maesnis kaip";return`${eP(P??K.origin??"reikm")} turi bti ${Y} ${K.maximum.toString()} ${O?.unit}`}case"too_small":{let P=sP(K.origin),O=q(K.origin,uA(Number(K.minimum)),K.inclusive??!1,"bigger");if(O?.verb)return`${eP(P??K.origin??"reikm")} ${O.verb} ${K.minimum.toString()} ${O.unit??"element"}`;let Y=K.inclusive?"ne maesnis kaip":"didesnis kaip";return`${eP(P??K.origin??"reikm")} turi bti ${Y} ${K.minimum.toString()} ${O?.unit}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return`Eilut privalo prasidti "${P.prefix}"`;if(P.format==="ends_with")return`Eilut privalo pasibaigti "${P.suffix}"`;if(P.format==="includes")return`Eilut privalo traukti "${P.includes}"`;if(P.format==="regex")return`Eilut privalo atitikti ${P.pattern}`;return`Neteisingas ${_[P.format]??K.format}`}case"not_multiple_of":return`Skaiius privalo bti ${K.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${K.keys.length>1?"i":"as"} rakt${K.keys.length>1?"ai":"as"}: ${w$(K.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let P=sP(K.origin);return`${eP(P??K.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function Bj(){return{localeError:Hg()}}var Tg=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :   ${P.expected},  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Invalid input: expected ${d$(P.values[0])}`;return` :    ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` :   ${P.origin??""}   ${O}${P.maximum.toString()} ${Y.unit??""}`;return` :   ${P.origin??""}   ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` :   ${P.origin}   ${O}${P.minimum.toString()} ${Y.unit}`;return` :   ${P.origin}   ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :     "${O.prefix}"`;if(O.format==="ends_with")return` :     "${O.suffix}"`;if(O.format==="includes")return` :    "${O.includes}"`;if(O.format==="regex")return` :      ${O.pattern}`;return`Invalid ${K[O.format]??P.format}`}case"not_multiple_of":return` :      ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?" ":" "}: ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${P.origin}`;default:return" "}}};function tj(){return{localeError:Tg()}}var wg=()=>{let $={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"nombor";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return`Input tidak sah: dijangka ${P.expected}, diterima ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Input tidak sah: dijangka ${d$(P.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Terlalu besar: dijangka ${P.origin??"nilai"} ${Y.verb} ${O}${P.maximum.toString()} ${Y.unit??"elemen"}`;return`Terlalu besar: dijangka ${P.origin??"nilai"} adalah ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Terlalu kecil: dijangka ${P.origin} ${Y.verb} ${O}${P.minimum.toString()} ${Y.unit}`;return`Terlalu kecil: dijangka ${P.origin} adalah ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`String tidak sah: mesti bermula dengan "${O.prefix}"`;if(O.format==="ends_with")return`String tidak sah: mesti berakhir dengan "${O.suffix}"`;if(O.format==="includes")return`String tidak sah: mesti mengandungi "${O.includes}"`;if(O.format==="regex")return`String tidak sah: mesti sepadan dengan corak ${O.pattern}`;return`${K[O.format]??P.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${P.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${w$(P.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${P.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${P.origin}`;default:return"Input tidak sah"}}};function Uj(){return{localeError:wg()}}var fg=()=>{let $={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"getal";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return(P)=>{switch(P.code){case"invalid_type":return`Ongeldige invoer: verwacht ${P.expected}, ontving ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Ongeldige invoer: verwacht ${d$(P.values[0])}`;return`Ongeldige optie: verwacht n van ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Te groot: verwacht dat ${P.origin??"waarde"} ${Y.verb} ${O}${P.maximum.toString()} ${Y.unit??"elementen"}`;return`Te groot: verwacht dat ${P.origin??"waarde"} ${O}${P.maximum.toString()} is`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Te klein: verwacht dat ${P.origin} ${Y.verb} ${O}${P.minimum.toString()} ${Y.unit}`;return`Te klein: verwacht dat ${P.origin} ${O}${P.minimum.toString()} is`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Ongeldige tekst: moet met "${O.prefix}" beginnen`;if(O.format==="ends_with")return`Ongeldige tekst: moet op "${O.suffix}" eindigen`;if(O.format==="includes")return`Ongeldige tekst: moet "${O.includes}" bevatten`;if(O.format==="regex")return`Ongeldige tekst: moet overeenkomen met patroon ${O.pattern}`;return`Ongeldig: ${K[O.format]??P.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${P.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${P.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${P.origin}`;default:return"Ongeldige invoer"}}};function Fj(){return{localeError:fg()}}var Zg=()=>{let $={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"tall";case"object":{if(Array.isArray(P))return"liste";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return`Ugyldig input: forventet ${P.expected}, fikk ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Ugyldig verdi: forventet ${d$(P.values[0])}`;return`Ugyldig valg: forventet en av ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`For stor(t): forventet ${P.origin??"value"} til  ha ${O}${P.maximum.toString()} ${Y.unit??"elementer"}`;return`For stor(t): forventet ${P.origin??"value"} til  ha ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`For lite(n): forventet ${P.origin} til  ha ${O}${P.minimum.toString()} ${Y.unit}`;return`For lite(n): forventet ${P.origin} til  ha ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Ugyldig streng: m starte med "${O.prefix}"`;if(O.format==="ends_with")return`Ugyldig streng: m ende med "${O.suffix}"`;if(O.format==="includes")return`Ugyldig streng: m inneholde "${O.includes}"`;if(O.format==="regex")return`Ugyldig streng: m matche mnsteret ${O.pattern}`;return`Ugyldig ${K[O.format]??P.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${w$(P.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${P.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${P.origin}`;default:return"Ugyldig input"}}};function aj(){return{localeError:Zg()}}var Xg=()=>{let $={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"numara";case"object":{if(Array.isArray(P))return"saf";if(P===null)return"gayb";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return(P)=>{switch(P.code){case"invalid_type":return`Fsit giren: umulan ${P.expected}, alnan ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Fsit giren: umulan ${d$(P.values[0])}`;return`Fsit tercih: mteberler ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Fazla byk: ${P.origin??"value"}, ${O}${P.maximum.toString()} ${Y.unit??"elements"} sahip olmalyd.`;return`Fazla byk: ${P.origin??"value"}, ${O}${P.maximum.toString()} olmalyd.`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Fazla kk: ${P.origin}, ${O}${P.minimum.toString()} ${Y.unit} sahip olmalyd.`;return`Fazla kk: ${P.origin}, ${O}${P.minimum.toString()} olmalyd.`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Fsit metin: "${O.prefix}" ile balamal.`;if(O.format==="ends_with")return`Fsit metin: "${O.suffix}" ile bitmeli.`;if(O.format==="includes")return`Fsit metin: "${O.includes}" ihtiv etmeli.`;if(O.format==="regex")return`Fsit metin: ${O.pattern} nakna uymal.`;return`Fsit ${K[O.format]??P.format}`}case"not_multiple_of":return`Fsit say: ${P.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`${P.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${P.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function Qj(){return{localeError:Xg()}}var Ag=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :  ${P.expected} ,  ${_(P.input)}  `;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])} `;return` :    ${w$(P.values,"|")}  `;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` : ${P.origin??""}  ${O}${P.maximum.toString()} ${Y.unit??""} `;return` : ${P.origin??""}  ${O}${P.maximum.toString()} `}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` : ${P.origin}  ${O}${P.minimum.toString()} ${Y.unit} `;return` : ${P.origin}  ${O}${P.minimum.toString()} `}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :   "${O.prefix}"   `;if(O.format==="ends_with")return` :   "${O.suffix}"    `;if(O.format==="includes")return` :  "${O.includes}" `;if(O.format==="regex")return` :   ${O.pattern}   `;return`${K[O.format]??P.format}  `}case"not_multiple_of":return` :   ${P.divisor}  `;case"unrecognized_keys":return` ${P.keys.length>1?"":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${P.origin} `;default:return" "}}};function ej(){return{localeError:Ag()}}var kg=()=>{let $={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"liczba";case"object":{if(Array.isArray(P))return"tablica";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return(P)=>{switch(P.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${P.expected}, otrzymano ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Nieprawidowe dane wejciowe: oczekiwano ${d$(P.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Za dua warto: oczekiwano, e ${P.origin??"warto"} bdzie mie ${O}${P.maximum.toString()} ${Y.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${P.origin??"warto"} bdzie wynosi ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Za maa warto: oczekiwano, e ${P.origin??"warto"} bdzie mie ${O}${P.minimum.toString()} ${Y.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${P.origin??"warto"} bdzie wynosi ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Nieprawidowy cig znakw: musi zaczyna si od "${O.prefix}"`;if(O.format==="ends_with")return`Nieprawidowy cig znakw: musi koczy si na "${O.suffix}"`;if(O.format==="includes")return`Nieprawidowy cig znakw: musi zawiera "${O.includes}"`;if(O.format==="regex")return`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${O.pattern}`;return`Nieprawidow(y/a/e) ${K[O.format]??P.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${P.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${P.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${P.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function sj(){return{localeError:kg()}}var Gg=()=>{let $={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"nmero";case"object":{if(Array.isArray(P))return"array";if(P===null)return"nulo";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return(P)=>{switch(P.code){case"invalid_type":return`Tipo invlido: esperado ${P.expected}, recebido ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Entrada invlida: esperado ${d$(P.values[0])}`;return`Opo invlida: esperada uma das ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Muito grande: esperado que ${P.origin??"valor"} tivesse ${O}${P.maximum.toString()} ${Y.unit??"elementos"}`;return`Muito grande: esperado que ${P.origin??"valor"} fosse ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Muito pequeno: esperado que ${P.origin} tivesse ${O}${P.minimum.toString()} ${Y.unit}`;return`Muito pequeno: esperado que ${P.origin} fosse ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Texto invlido: deve comear com "${O.prefix}"`;if(O.format==="ends_with")return`Texto invlido: deve terminar com "${O.suffix}"`;if(O.format==="includes")return`Texto invlido: deve incluir "${O.includes}"`;if(O.format==="regex")return`Texto invlido: deve corresponder ao padro ${O.pattern}`;return`${K[O.format]??P.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${P.divisor}`;case"unrecognized_keys":return`Chave${P.keys.length>1?"s":""} desconhecida${P.keys.length>1?"s":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`Chave invlida em ${P.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${P.origin}`;default:return"Campo invlido"}}};function $v(){return{localeError:Gg()}}function xA($,q,_,K){let P=Math.abs($),O=P%10,Y=P%100;if(Y>=11&&Y<=19)return K;if(O===1)return q;if(O>=2&&O<=4)return _;return K}var Vg=()=>{let $={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` :  ${P.expected},  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])}`;return` :    ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y){let z=Number(P.maximum),H=xA(z,Y.unit.one,Y.unit.few,Y.unit.many);return`  : ,  ${P.origin??""}   ${O}${P.maximum.toString()} ${H}`}return`  : ,  ${P.origin??""}  ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y){let z=Number(P.minimum),H=xA(z,Y.unit.one,Y.unit.few,Y.unit.many);return`  : ,  ${P.origin}   ${O}${P.minimum.toString()} ${H}`}return`  : ,  ${P.origin}  ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` :    ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?"":""} ${P.keys.length>1?"":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${P.origin}`;default:return"  "}}};function qv(){return{localeError:Vg()}}var Sg=()=>{let $={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"tevilo";case"object":{if(Array.isArray(P))return"tabela";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return(P)=>{switch(P.code){case"invalid_type":return`Neveljaven vnos: priakovano ${P.expected}, prejeto ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Neveljaven vnos: priakovano ${d$(P.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Preveliko: priakovano, da bo ${P.origin??"vrednost"} imelo ${O}${P.maximum.toString()} ${Y.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${P.origin??"vrednost"} ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Premajhno: priakovano, da bo ${P.origin} imelo ${O}${P.minimum.toString()} ${Y.unit}`;return`Premajhno: priakovano, da bo ${P.origin} ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Neveljaven niz: mora se zaeti z "${O.prefix}"`;if(O.format==="ends_with")return`Neveljaven niz: mora se konati z "${O.suffix}"`;if(O.format==="includes")return`Neveljaven niz: mora vsebovati "${O.includes}"`;if(O.format==="regex")return`Neveljaven niz: mora ustrezati vzorcu ${O.pattern}`;return`Neveljaven ${K[O.format]??P.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${P.divisor}`;case"unrecognized_keys":return`Neprepoznan${P.keys.length>1?"i kljui":" klju"}: ${w$(P.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${P.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${P.origin}`;default:return"Neveljaven vnos"}}};function _v(){return{localeError:Sg()}}var Mg=()=>{let $={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"antal";case"object":{if(Array.isArray(P))return"lista";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return(P)=>{switch(P.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${P.expected}, fick ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`Ogiltig inmatning: frvntat ${d$(P.values[0])}`;return`Ogiltigt val: frvntade en av ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Fr stor(t): frvntade ${P.origin??"vrdet"} att ha ${O}${P.maximum.toString()} ${Y.unit??"element"}`;return`Fr stor(t): frvntat ${P.origin??"vrdet"} att ha ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Fr lite(t): frvntade ${P.origin??"vrdet"} att ha ${O}${P.minimum.toString()} ${Y.unit}`;return`Fr lite(t): frvntade ${P.origin??"vrdet"} att ha ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Ogiltig strng: mste brja med "${O.prefix}"`;if(O.format==="ends_with")return`Ogiltig strng: mste sluta med "${O.suffix}"`;if(O.format==="includes")return`Ogiltig strng: mste innehlla "${O.includes}"`;if(O.format==="regex")return`Ogiltig strng: mste matcha mnstret "${O.pattern}"`;return`Ogiltig(t) ${K[O.format]??P.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${P.divisor}`;case"unrecognized_keys":return`${P.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${w$(P.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${P.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${P.origin??"vrdet"}`;default:return"Ogiltig input"}}};function Kv(){return{localeError:Mg()}}var Ng=()=>{let $={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?" ":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return(P)=>{switch(P.code){case"invalid_type":return` :  ${P.expected},  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` :  ${d$(P.values[0])}`;return` :  ${w$(P.values,"|")}  `;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` :  ${P.origin??""} ${O}${P.maximum.toString()} ${Y.unit??""}   `;return` :  ${P.origin??""} ${O}${P.maximum.toString()}   `}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` :  ${P.origin} ${O}${P.minimum.toString()} ${Y.unit}   `;return` :  ${P.origin} ${O}${P.minimum.toString()}   `}case"invalid_format":{let O=P;if(O.format==="starts_with")return` : "${O.prefix}"   `;if(O.format==="ends_with")return` : "${O.suffix}"   `;if(O.format==="includes")return` : "${O.includes}"   `;if(O.format==="regex")return` : ${O.pattern}   `;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` : ${P.divisor}    `;case"unrecognized_keys":return`  ${P.keys.length>1?"":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`${P.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${P.origin}   `;default:return" "}}};function Pv(){return{localeError:Ng()}}var Cg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?" (NaN)":"";case"object":{if(Array.isArray(P))return" (Array)";if(P===null)return" (null)";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return`:  ${P.expected}  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`:  ${d$(P.values[0])}`;return`:  ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"":"",Y=q(P.origin);if(Y)return`: ${P.origin??""} ${O} ${P.maximum.toString()} ${Y.unit??""}`;return`: ${P.origin??""} ${O} ${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?"":"",Y=q(P.origin);if(Y)return`: ${P.origin} ${O} ${P.minimum.toString()} ${Y.unit}`;return`: ${P.origin} ${O} ${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`:  "${O.prefix}"`;if(O.format==="ends_with")return`:  "${O.suffix}"`;if(O.format==="includes")return`:  "${O.includes}" `;if(O.format==="regex")return`:  ${O.pattern}`;return`: ${K[O.format]??P.format}`}case"not_multiple_of":return`:  ${P.divisor} `;case"unrecognized_keys":return`: ${w$(P.keys,", ")}`;case"invalid_key":return` ${P.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${P.origin}`;default:return""}}};function Ov(){return{localeError:Cg()}}var Eg=($)=>{let q=typeof $;switch(q){case"number":return Number.isNaN($)?"NaN":"number";case"object":{if(Array.isArray($))return"array";if($===null)return"null";if(Object.getPrototypeOf($)!==Object.prototype&&$.constructor)return $.constructor.name}}return q},hg=()=>{let $={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function q(K){return $[K]??null}let _={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return(K)=>{switch(K.code){case"invalid_type":return`Geersiz deer: beklenen ${K.expected}, alnan ${Eg(K.input)}`;case"invalid_value":if(K.values.length===1)return`Geersiz deer: beklenen ${d$(K.values[0])}`;return`Geersiz seenek: aadakilerden biri olmal: ${w$(K.values,"|")}`;case"too_big":{let P=K.inclusive?"<=":"<",O=q(K.origin);if(O)return`ok byk: beklenen ${K.origin??"deer"} ${P}${K.maximum.toString()} ${O.unit??"e"}`;return`ok byk: beklenen ${K.origin??"deer"} ${P}${K.maximum.toString()}`}case"too_small":{let P=K.inclusive?">=":">",O=q(K.origin);if(O)return`ok kk: beklenen ${K.origin} ${P}${K.minimum.toString()} ${O.unit}`;return`ok kk: beklenen ${K.origin} ${P}${K.minimum.toString()}`}case"invalid_format":{let P=K;if(P.format==="starts_with")return`Geersiz metin: "${P.prefix}" ile balamal`;if(P.format==="ends_with")return`Geersiz metin: "${P.suffix}" ile bitmeli`;if(P.format==="includes")return`Geersiz metin: "${P.includes}" iermeli`;if(P.format==="regex")return`Geersiz metin: ${P.pattern} desenine uymal`;return`Geersiz ${_[P.format]??K.format}`}case"not_multiple_of":return`Geersiz say: ${K.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${K.keys.length>1?"lar":""}: ${w$(K.keys,", ")}`;case"invalid_key":return`${K.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${K.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Yv(){return{localeError:hg()}}var Rg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return(P)=>{switch(P.code){case"invalid_type":return`  :  ${P.expected},  ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`  :  ${d$(P.values[0])}`;return` :    ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` : ,  ${P.origin??""} ${Y.verb} ${O}${P.maximum.toString()} ${Y.unit??""}`;return` : ,  ${P.origin??""}  ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` : ,  ${P.origin} ${Y.verb} ${O}${P.minimum.toString()} ${Y.unit}`;return` : ,  ${P.origin}  ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` :    "${O.prefix}"`;if(O.format==="ends_with")return` :    "${O.suffix}"`;if(O.format==="includes")return` :   "${O.includes}"`;if(O.format==="regex")return` :    ${O.pattern}`;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` :    ${P.divisor}`;case"unrecognized_keys":return` ${P.keys.length>1?"":""}: ${w$(P.keys,", ")}`;case"invalid_key":return`   ${P.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${P.origin}`;default:return"  "}}};function $7(){return{localeError:Rg()}}function jv(){return $7()}var Ig=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return(P)=>{switch(P.code){case"invalid_type":return`  : ${P.expected}   ${_(P.input)}  `;case"invalid_value":if(P.values.length===1)return`  : ${d$(P.values[0])}  `;return` : ${w$(P.values,"|")}     `;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` : ${P.origin??""}  ${O}${P.maximum.toString()} ${Y.unit??""}   `;return` : ${P.origin??""}  ${O}${P.maximum.toString()}   `}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` : ${P.origin}  ${O}${P.minimum.toString()} ${Y.unit}   `;return` : ${P.origin}  ${O}${P.minimum.toString()}   `}case"invalid_format":{let O=P;if(O.format==="starts_with")return` : "${O.prefix}"    `;if(O.format==="ends_with")return` : "${O.suffix}"    `;if(O.format==="includes")return` : "${O.includes}"   `;if(O.format==="regex")return` :  ${O.pattern}    `;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` : ${P.divisor}    `;case"unrecognized_keys":return`   ${P.keys.length>1?"":""}: ${w$(P.keys," ")}`;case"invalid_key":return`${P.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${P.origin}   `;default:return"  "}}};function vv(){return{localeError:Ig()}}var Dg=()=>{let $={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"s";case"object":{if(Array.isArray(P))return"mng";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return(P)=>{switch(P.code){case"invalid_type":return`u vo khng hp l: mong i ${P.expected}, nhn c ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`u vo khng hp l: mong i ${d$(P.values[0])}`;return`Ty chn khng hp l: mong i mt trong cc gi tr ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`Qu ln: mong i ${P.origin??"gi tr"} ${Y.verb} ${O}${P.maximum.toString()} ${Y.unit??"phn t"}`;return`Qu ln: mong i ${P.origin??"gi tr"} ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Qu nh: mong i ${P.origin} ${Y.verb} ${O}${P.minimum.toString()} ${Y.unit}`;return`Qu nh: mong i ${P.origin} ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`Chui khng hp l: phi bt u bng "${O.prefix}"`;if(O.format==="ends_with")return`Chui khng hp l: phi kt thc bng "${O.suffix}"`;if(O.format==="includes")return`Chui khng hp l: phi bao gm "${O.includes}"`;if(O.format==="regex")return`Chui khng hp l: phi khp vi mu ${O.pattern}`;return`${K[O.format]??P.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${P.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${w$(P.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${P.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${P.origin}`;default:return"u vo khng hp l"}}};function zv(){return{localeError:Dg()}}var Lg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"(NaN)":"";case"object":{if(Array.isArray(P))return"";if(P===null)return"(null)";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` ${P.expected} ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` ${d$(P.values[0])}`;return` ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` ${P.origin??""} ${O}${P.maximum.toString()} ${Y.unit??""}`;return` ${P.origin??""} ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` ${P.origin} ${O}${P.minimum.toString()} ${Y.unit}`;return` ${P.origin} ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` "${O.prefix}" `;if(O.format==="ends_with")return` "${O.suffix}" `;if(O.format==="includes")return` "${O.includes}"`;if(O.format==="regex")return` ${O.pattern}`;return`${K[O.format]??P.format}`}case"not_multiple_of":return` ${P.divisor} `;case"unrecognized_keys":return`(key): ${w$(P.keys,", ")}`;case"invalid_key":return`${P.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${P.origin} (value)`;default:return""}}};function Wv(){return{localeError:Lg()}}var gg=()=>{let $={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"number";case"object":{if(Array.isArray(P))return"array";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return(P)=>{switch(P.code){case"invalid_type":return` ${P.expected} ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return` ${d$(P.values[0])}`;return` ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return` ${P.origin??""}  ${O}${P.maximum.toString()} ${Y.unit??""}`;return` ${P.origin??""}  ${O}${P.maximum.toString()}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return` ${P.origin}  ${O}${P.minimum.toString()} ${Y.unit}`;return` ${P.origin}  ${O}${P.minimum.toString()}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return` "${O.prefix}" `;if(O.format==="ends_with")return` "${O.suffix}" `;if(O.format==="includes")return` "${O.includes}"`;if(O.format==="regex")return` ${O.pattern}`;return` ${K[O.format]??P.format}`}case"not_multiple_of":return` ${P.divisor} `;case"unrecognized_keys":return`${P.keys.length>1?"":""}${w$(P.keys,"")}`;case"invalid_key":return`${P.origin} `;case"invalid_union":return"";case"invalid_element":return`${P.origin} `;default:return""}}};function Jv(){return{localeError:gg()}}var bg=()=>{let $={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function q(P){return $[P]??null}let _=(P)=>{let O=typeof P;switch(O){case"number":return Number.isNaN(P)?"NaN":"nmb";case"object":{if(Array.isArray(P))return"akop";if(P===null)return"null";if(Object.getPrototypeOf(P)!==Object.prototype&&P.constructor)return P.constructor.name}}return O},K={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return(P)=>{switch(P.code){case"invalid_type":return`bwl ae: a n lti fi ${P.expected}, m a r ${_(P.input)}`;case"invalid_value":if(P.values.length===1)return`bwl ae: a n lti fi ${d$(P.values[0])}`;return`yn ae: yan kan lra ${w$(P.values,"|")}`;case"too_big":{let O=P.inclusive?"<=":"<",Y=q(P.origin);if(Y)return`T p j: a n lti j p ${P.origin??"iye"} ${Y.verb} ${O}${P.maximum} ${Y.unit}`;return`T p j: a n lti j ${O}${P.maximum}`}case"too_small":{let O=P.inclusive?">=":">",Y=q(P.origin);if(Y)return`Kr ju: a n lti j p ${P.origin} ${Y.verb} ${O}${P.minimum} ${Y.unit}`;return`Kr ju: a n lti j ${O}${P.minimum}`}case"invalid_format":{let O=P;if(O.format==="starts_with")return`r ae: gbd br pl "${O.prefix}"`;if(O.format==="ends_with")return`r ae: gbd par pl "${O.suffix}"`;if(O.format==="includes")return`r ae: gbd n "${O.includes}"`;if(O.format==="regex")return`r ae: gbd b pr mu ${O.pattern}`;return`Ae: ${K[O.format]??P.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${P.divisor}`;case"unrecognized_keys":return`Btn m: ${w$(P.keys,", ")}`;case"invalid_key":return`Btn ae nn ${P.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${P.origin}`;default:return"bwl ae"}}};function Hv(){return{localeError:bg()}}var pA,Tv=Symbol("ZodOutput"),wv=Symbol("ZodInput");class _7{constructor(){this._map=new WeakMap,this._idmap=new Map}add($,...q){let _=q[0];if(this._map.set($,_),_&&typeof _==="object"&&"id"in _){if(this._idmap.has(_.id))throw Error(`ID ${_.id} already exists in the registry`);this._idmap.set(_.id,$)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove($){let q=this._map.get($);if(q&&typeof q==="object"&&"id"in q)this._idmap.delete(q.id);return this._map.delete($),this}get($){let q=$._zod.parent;if(q){let _={...this.get(q)??{}};delete _.id;let K={..._,...this._map.get($)};return Object.keys(K).length?K:void 0}return this._map.get($)}has($){return this._map.has($)}}function B9(){return new _7}(pA=globalThis).__zod_globalRegistry??(pA.__zod_globalRegistry=B9());var y6=globalThis.__zod_globalRegistry;function fv($,q){return new $({type:"string",...r$(q)})}function Zv($,q){return new $({type:"string",coerce:!0,...r$(q)})}function t9($,q){return new $({type:"string",format:"email",check:"string_format",abort:!1,...r$(q)})}function K7($,q){return new $({type:"string",format:"guid",check:"string_format",abort:!1,...r$(q)})}function U9($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,...r$(q)})}function F9($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...r$(q)})}function a9($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...r$(q)})}function Q9($,q){return new $({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...r$(q)})}function P7($,q){return new $({type:"string",format:"url",check:"string_format",abort:!1,...r$(q)})}function e9($,q){return new $({type:"string",format:"emoji",check:"string_format",abort:!1,...r$(q)})}function s9($,q){return new $({type:"string",format:"nanoid",check:"string_format",abort:!1,...r$(q)})}function $5($,q){return new $({type:"string",format:"cuid",check:"string_format",abort:!1,...r$(q)})}function q5($,q){return new $({type:"string",format:"cuid2",check:"string_format",abort:!1,...r$(q)})}function _5($,q){return new $({type:"string",format:"ulid",check:"string_format",abort:!1,...r$(q)})}function K5($,q){return new $({type:"string",format:"xid",check:"string_format",abort:!1,...r$(q)})}function P5($,q){return new $({type:"string",format:"ksuid",check:"string_format",abort:!1,...r$(q)})}function O5($,q){return new $({type:"string",format:"ipv4",check:"string_format",abort:!1,...r$(q)})}function Y5($,q){return new $({type:"string",format:"ipv6",check:"string_format",abort:!1,...r$(q)})}function Xv($,q){return new $({type:"string",format:"mac",check:"string_format",abort:!1,...r$(q)})}function j5($,q){return new $({type:"string",format:"cidrv4",check:"string_format",abort:!1,...r$(q)})}function v5($,q){return new $({type:"string",format:"cidrv6",check:"string_format",abort:!1,...r$(q)})}function z5($,q){return new $({type:"string",format:"base64",check:"string_format",abort:!1,...r$(q)})}function W5($,q){return new $({type:"string",format:"base64url",check:"string_format",abort:!1,...r$(q)})}function J5($,q){return new $({type:"string",format:"e164",check:"string_format",abort:!1,...r$(q)})}function H5($,q){return new $({type:"string",format:"jwt",check:"string_format",abort:!1,...r$(q)})}var Av={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function kv($,q){return new $({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...r$(q)})}function Gv($,q){return new $({type:"string",format:"date",check:"string_format",...r$(q)})}function Vv($,q){return new $({type:"string",format:"time",check:"string_format",precision:null,...r$(q)})}function Sv($,q){return new $({type:"string",format:"duration",check:"string_format",...r$(q)})}function Mv($,q){return new $({type:"number",checks:[],...r$(q)})}function Nv($,q){return new $({type:"number",coerce:!0,checks:[],...r$(q)})}function Cv($,q){return new $({type:"number",check:"number_format",abort:!1,format:"safeint",...r$(q)})}function Ev($,q){return new $({type:"number",check:"number_format",abort:!1,format:"float32",...r$(q)})}function hv($,q){return new $({type:"number",check:"number_format",abort:!1,format:"float64",...r$(q)})}function Rv($,q){return new $({type:"number",check:"number_format",abort:!1,format:"int32",...r$(q)})}function Iv($,q){return new $({type:"number",check:"number_format",abort:!1,format:"uint32",...r$(q)})}function Dv($,q){return new $({type:"boolean",...r$(q)})}function Lv($,q){return new $({type:"boolean",coerce:!0,...r$(q)})}function gv($,q){return new $({type:"bigint",...r$(q)})}function bv($,q){return new $({type:"bigint",coerce:!0,...r$(q)})}function yv($,q){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...r$(q)})}function uv($,q){return new $({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...r$(q)})}function xv($,q){return new $({type:"symbol",...r$(q)})}function pv($,q){return new $({type:"undefined",...r$(q)})}function cv($,q){return new $({type:"null",...r$(q)})}function mv($){return new $({type:"any"})}function T5($){return new $({type:"unknown"})}function O7($,q){return new $({type:"never",...r$(q)})}function dv($,q){return new $({type:"void",...r$(q)})}function lv($,q){return new $({type:"date",...r$(q)})}function rv($,q){return new $({type:"date",coerce:!0,...r$(q)})}function ov($,q){return new $({type:"nan",...r$(q)})}function z_($,q){return new g9({check:"less_than",...r$(q),value:$,inclusive:!1})}function Z8($,q){return new g9({check:"less_than",...r$(q),value:$,inclusive:!0})}function W_($,q){return new b9({check:"greater_than",...r$(q),value:$,inclusive:!1})}function Qq($,q){return new b9({check:"greater_than",...r$(q),value:$,inclusive:!0})}function nv($){return W_(0,$)}function iv($){return z_(0,$)}function Bv($){return Z8(0,$)}function tv($){return Qq(0,$)}function XK($,q){return new eY({check:"multiple_of",...r$(q),value:$})}function j4($,q){return new q3({check:"max_size",...r$(q),maximum:$})}function AK($,q){return new _3({check:"min_size",...r$(q),minimum:$})}function Y7($,q){return new K3({check:"size_equals",...r$(q),size:$})}function v4($,q){return new P3({check:"max_length",...r$(q),maximum:$})}function i_($,q){return new O3({check:"min_length",...r$(q),minimum:$})}function z4($,q){return new Y3({check:"length_equals",...r$(q),length:$})}function j7($,q){return new j3({check:"string_format",format:"regex",...r$(q),pattern:$})}function v7($){return new v3({check:"string_format",format:"lowercase",...r$($)})}function z7($){return new z3({check:"string_format",format:"uppercase",...r$($)})}function W7($,q){return new W3({check:"string_format",format:"includes",...r$(q),includes:$})}function J7($,q){return new J3({check:"string_format",format:"starts_with",...r$(q),prefix:$})}function H7($,q){return new H3({check:"string_format",format:"ends_with",...r$(q),suffix:$})}function Uv($,q,_){return new T3({check:"property",property:$,schema:q,...r$(_)})}function T7($,q){return new w3({check:"mime_type",mime:$,...r$(q)})}function B8($){return new f3({check:"overwrite",tx:$})}function w7($){return B8((q)=>q.normalize($))}function f7(){return B8(($)=>$.trim())}function Z7(){return B8(($)=>$.toLowerCase())}function X7(){return B8(($)=>$.toUpperCase())}function A7(){return B8(($)=>HY($))}function Fv($,q,_){return new $({type:"array",element:q,...r$(_)})}function ug($,q,_){return new $({type:"union",options:q,...r$(_)})}function xg($,q,_,K){return new $({type:"union",options:_,discriminator:q,...r$(K)})}function pg($,q,_){return new $({type:"intersection",left:q,right:_})}function cg($,q,_,K){let P=_ instanceof P6;return new $({type:"tuple",items:q,rest:P?_:null,...r$(P?K:_)})}function mg($,q,_,K){return new $({type:"record",keyType:q,valueType:_,...r$(K)})}function dg($,q,_,K){return new $({type:"map",keyType:q,valueType:_,...r$(K)})}function lg($,q,_){return new $({type:"set",valueType:q,...r$(_)})}function rg($,q,_){let K=Array.isArray(q)?Object.fromEntries(q.map((P)=>[P,P])):q;return new $({type:"enum",entries:K,...r$(_)})}function og($,q,_){return new $({type:"enum",entries:q,...r$(_)})}function ng($,q,_){return new $({type:"literal",values:Array.isArray(q)?q:[q],...r$(_)})}function av($,q){return new $({type:"file",...r$(q)})}function ig($,q){return new $({type:"transform",transform:q})}function Bg($,q){return new $({type:"optional",innerType:q})}function tg($,q){return new $({type:"nullable",innerType:q})}function Ug($,q,_){return new $({type:"default",innerType:q,get defaultValue(){return typeof _==="function"?_():wY(_)}})}function Fg($,q,_){return new $({type:"nonoptional",innerType:q,...r$(_)})}function ag($,q){return new $({type:"success",innerType:q})}function Qg($,q,_){return new $({type:"catch",innerType:q,catchValue:typeof _==="function"?_:()=>_})}function eg($,q,_){return new $({type:"pipe",in:q,out:_})}function sg($,q){return new $({type:"readonly",innerType:q})}function $b($,q,_){return new $({type:"template_literal",parts:q,...r$(_)})}function qb($,q){return new $({type:"lazy",getter:q})}function _b($,q){return new $({type:"promise",innerType:q})}function Qv($,q,_){let K=r$(_);return K.abort??(K.abort=!0),new $({type:"custom",check:"custom",fn:q,...K})}function ev($,q,_){return new $({type:"custom",check:"custom",fn:q,...r$(_)})}function sv($){let q=cA((_)=>{return _.addIssue=(K)=>{if(typeof K==="string")_.issues.push($4(K,_.value,q._zod.def));else{let P=K;if(P.fatal)P.continue=!1;P.code??(P.code="custom"),P.input??(P.input=_.value),P.inst??(P.inst=q),P.continue??(P.continue=!q._zod.def.abort),_.issues.push($4(P))}},$(_.value,_)});return q}function cA($,q){let _=new h6({check:"custom",...r$(q)});return _._zod.check=$,_}function $z($){let q=new h6({check:"describe"});return q._zod.onattach=[(_)=>{let K=y6.get(_)??{};y6.add(_,{...K,description:$})}],q._zod.check=()=>{},q}function qz($){let q=new h6({check:"meta"});return q._zod.onattach=[(_)=>{let K=y6.get(_)??{};y6.add(_,{...K,...$})}],q._zod.check=()=>{},q}function _z($,q){let _=r$(q),K=_.truthy??["true","1","yes","on","y","enabled"],P=_.falsy??["false","0","no","off","n","disabled"];if(_.case!=="sensitive")K=K.map((S)=>typeof S==="string"?S.toLowerCase():S),P=P.map((S)=>typeof S==="string"?S.toLowerCase():S);let O=new Set(K),Y=new Set(P),z=$.Codec??FP,H=$.Boolean??tP,f=new($.String??ZK)({type:"string",error:_.error}),w=new H({type:"boolean",error:_.error}),k=new z({type:"pipe",in:f,out:w,transform:(S,N)=>{let h=S;if(_.case!=="sensitive")h=h.toLowerCase();if(O.has(h))return!0;else if(Y.has(h))return!1;else return N.issues.push({code:"invalid_value",expected:"stringbool",values:[...O,...Y],input:N.value,inst:k,continue:!1}),{}},reverseTransform:(S,N)=>{if(S===!0)return K[0]||"true";else return P[0]||"false"},error:_.error});return k}function W4($,q,_,K={}){let P=r$(K),O={...r$(K),check:"string_format",type:"string",format:q,fn:typeof _==="function"?_:(z)=>_.test(z),...P};if(_ instanceof RegExp)O.pattern=_;return new $(O)}class w5{constructor($){this.counter=0,this.metadataRegistry=$?.metadata??y6,this.target=$?.target??"draft-2020-12",this.unrepresentable=$?.unrepresentable??"throw",this.override=$?.override??(()=>{}),this.io=$?.io??"output",this.seen=new Map}process($,q={path:[],schemaPath:[]}){var _;let K=$._zod.def,P={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},O=this.seen.get($);if(O){if(O.count++,q.schemaPath.includes($))O.cycle=q.path;return O.schema}let Y={schema:{},count:1,cycle:void 0,path:q.path};this.seen.set($,Y);let z=$._zod.toJSONSchema?.();if(z)Y.schema=z;else{let f={...q,schemaPath:[...q.schemaPath,$],path:q.path},w=$._zod.parent;if(w)Y.ref=w,this.process(w,f),this.seen.get(w).isParent=!0;else{let k=Y.schema;switch(K.type){case"string":{let S=k;S.type="string";let{minimum:N,maximum:h,format:E,patterns:D,contentEncoding:I}=$._zod.bag;if(typeof N==="number")S.minLength=N;if(typeof h==="number")S.maxLength=h;if(E){if(S.format=P[E]??E,S.format==="")delete S.format}if(I)S.contentEncoding=I;if(D&&D.size>0){let L=[...D];if(L.length===1)S.pattern=L[0].source;else if(L.length>1)Y.schema.allOf=[...L.map((g)=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))]}break}case"number":{let S=k,{minimum:N,maximum:h,format:E,multipleOf:D,exclusiveMaximum:I,exclusiveMinimum:L}=$._zod.bag;if(typeof E==="string"&&E.includes("int"))S.type="integer";else S.type="number";if(typeof L==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")S.minimum=L,S.exclusiveMinimum=!0;else S.exclusiveMinimum=L;if(typeof N==="number"){if(S.minimum=N,typeof L==="number"&&this.target!=="draft-4")if(L>=N)delete S.minimum;else delete S.exclusiveMinimum}if(typeof I==="number")if(this.target==="draft-4"||this.target==="openapi-3.0")S.maximum=I,S.exclusiveMaximum=!0;else S.exclusiveMaximum=I;if(typeof h==="number"){if(S.maximum=h,typeof I==="number"&&this.target!=="draft-4")if(I<=h)delete S.maximum;else delete S.exclusiveMaximum}if(typeof D==="number")S.multipleOf=D;break}case"boolean":{let S=k;S.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{if(this.target==="openapi-3.0")k.type="string",k.nullable=!0,k.enum=[null];else k.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{k.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let S=k,{minimum:N,maximum:h}=$._zod.bag;if(typeof N==="number")S.minItems=N;if(typeof h==="number")S.maxItems=h;S.type="array",S.items=this.process(K.element,{...f,path:[...f.path,"items"]});break}case"object":{let S=k;S.type="object",S.properties={};let N=K.shape;for(let D in N)S.properties[D]=this.process(N[D],{...f,path:[...f.path,"properties",D]});let h=new Set(Object.keys(N)),E=new Set([...h].filter((D)=>{let I=K.shape[D]._zod;if(this.io==="input")return I.optin===void 0;else return I.optout===void 0}));if(E.size>0)S.required=Array.from(E);if(K.catchall?._zod.def.type==="never")S.additionalProperties=!1;else if(!K.catchall){if(this.io==="output")S.additionalProperties=!1}else if(K.catchall)S.additionalProperties=this.process(K.catchall,{...f,path:[...f.path,"additionalProperties"]});break}case"union":{let S=k,N=K.discriminator!==void 0,h=K.options.map((E,D)=>this.process(E,{...f,path:[...f.path,N?"oneOf":"anyOf",D]}));if(N)S.oneOf=h;else S.anyOf=h;break}case"intersection":{let S=k,N=this.process(K.left,{...f,path:[...f.path,"allOf",0]}),h=this.process(K.right,{...f,path:[...f.path,"allOf",1]}),E=(I)=>("allOf"in I)&&Object.keys(I).length===1,D=[...E(N)?N.allOf:[N],...E(h)?h.allOf:[h]];S.allOf=D;break}case"tuple":{let S=k;S.type="array";let N=this.target==="draft-2020-12"?"prefixItems":"items",h=this.target==="draft-2020-12"?"items":this.target==="openapi-3.0"?"items":"additionalItems",E=K.items.map((g,y)=>this.process(g,{...f,path:[...f.path,N,y]})),D=K.rest?this.process(K.rest,{...f,path:[...f.path,h,...this.target==="openapi-3.0"?[K.items.length]:[]]}):null;if(this.target==="draft-2020-12"){if(S.prefixItems=E,D)S.items=D}else if(this.target==="openapi-3.0"){if(S.items={anyOf:E},D)S.items.anyOf.push(D);if(S.minItems=E.length,!D)S.maxItems=E.length}else if(S.items=E,D)S.additionalItems=D;let{minimum:I,maximum:L}=$._zod.bag;if(typeof I==="number")S.minItems=I;if(typeof L==="number")S.maxItems=L;break}case"record":{let S=k;if(S.type="object",this.target==="draft-7"||this.target==="draft-2020-12")S.propertyNames=this.process(K.keyType,{...f,path:[...f.path,"propertyNames"]});S.additionalProperties=this.process(K.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let S=k,N=xP(K.entries);if(N.every((h)=>typeof h==="number"))S.type="number";if(N.every((h)=>typeof h==="string"))S.type="string";S.enum=N;break}case"literal":{let S=k,N=[];for(let h of K.values)if(h===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof h==="bigint")if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else N.push(Number(h));else N.push(h);if(N.length===0);else if(N.length===1){let h=N[0];if(S.type=h===null?"null":typeof h,this.target==="draft-4"||this.target==="openapi-3.0")S.enum=[h];else S.const=h}else{if(N.every((h)=>typeof h==="number"))S.type="number";if(N.every((h)=>typeof h==="string"))S.type="string";if(N.every((h)=>typeof h==="boolean"))S.type="string";if(N.every((h)=>h===null))S.type="null";S.enum=N}break}case"file":{let S=k,N={type:"string",format:"binary",contentEncoding:"binary"},{minimum:h,maximum:E,mime:D}=$._zod.bag;if(h!==void 0)N.minLength=h;if(E!==void 0)N.maxLength=E;if(D)if(D.length===1)N.contentMediaType=D[0],Object.assign(S,N);else S.anyOf=D.map((I)=>{return{...N,contentMediaType:I}});else Object.assign(S,N);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let S=this.process(K.innerType,f);if(this.target==="openapi-3.0")Y.ref=K.innerType,k.nullable=!0;else k.anyOf=[S,{type:"null"}];break}case"nonoptional":{this.process(K.innerType,f),Y.ref=K.innerType;break}case"success":{let S=k;S.type="boolean";break}case"default":{this.process(K.innerType,f),Y.ref=K.innerType,k.default=JSON.parse(JSON.stringify(K.defaultValue));break}case"prefault":{if(this.process(K.innerType,f),Y.ref=K.innerType,this.io==="input")k._prefault=JSON.parse(JSON.stringify(K.defaultValue));break}case"catch":{this.process(K.innerType,f),Y.ref=K.innerType;let S;try{S=K.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}k.default=S;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let S=k,N=$._zod.pattern;if(!N)throw Error("Pattern not found in template literal");S.type="string",S.pattern=N.source;break}case"pipe":{let S=this.io==="input"?K.in._zod.def.type==="transform"?K.out:K.in:K.out;this.process(S,f),Y.ref=S;break}case"readonly":{this.process(K.innerType,f),Y.ref=K.innerType,k.readOnly=!0;break}case"promise":{this.process(K.innerType,f),Y.ref=K.innerType;break}case"optional":{this.process(K.innerType,f),Y.ref=K.innerType;break}case"lazy":{let S=$._zod.innerType;this.process(S,f),Y.ref=S;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}default:}}}let H=this.metadataRegistry.get($);if(H)Object.assign(Y.schema,H);if(this.io==="input"&&uq($))delete Y.schema.examples,delete Y.schema.default;if(this.io==="input"&&Y.schema._prefault)(_=Y.schema).default??(_.default=Y.schema._prefault);return delete Y.schema._prefault,this.seen.get($).schema}emit($,q){let _={cycles:q?.cycles??"ref",reused:q?.reused??"inline",external:q?.external??void 0},K=this.seen.get($);if(!K)throw Error("Unprocessed schema. This is a bug in Zod.");let P=(T)=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(_.external){let N=_.external.registry.get(T[0])?.id,h=_.external.uri??((D)=>D);if(N)return{ref:h(N)};let E=T[1].defId??T[1].schema.id??`schema${this.counter++}`;return T[1].defId=E,{defId:E,ref:`${h("__shared")}#/${f}/${E}`}}if(T[1]===K)return{ref:"#"};let k=`${"#"}/${f}/`,S=T[1].schema.id??`__schema${this.counter++}`;return{defId:S,ref:k+S}},O=(T)=>{if(T[1].schema.$ref)return;let f=T[1],{ref:w,defId:k}=P(T);if(f.def={...f.schema},k)f.defId=k;let S=f.schema;for(let N in S)delete S[N];S.$ref=w};if(_.cycles==="throw")for(let T of this.seen.entries()){let f=T[1];if(f.cycle)throw Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let T of this.seen.entries()){let f=T[1];if($===T[0]){O(T);continue}if(_.external){let k=_.external.registry.get(T[0])?.id;if($!==T[0]&&k){O(T);continue}}if(this.metadataRegistry.get(T[0])?.id){O(T);continue}if(f.cycle){O(T);continue}if(f.count>1){if(_.reused==="ref"){O(T);continue}}}let Y=(T,f)=>{let w=this.seen.get(T),k=w.def??w.schema,S={...k};if(w.ref===null)return;let N=w.ref;if(w.ref=null,N){Y(N,f);let h=this.seen.get(N).schema;if(h.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0"))k.allOf=k.allOf??[],k.allOf.push(h);else Object.assign(k,h),Object.assign(k,S)}if(!w.isParent)this.override({zodSchema:T,jsonSchema:k,path:w.path??[]})};for(let T of[...this.seen.entries()].reverse())Y(T[0],{target:this.target});let z={};if(this.target==="draft-2020-12")z.$schema="https://json-schema.org/draft/2020-12/schema";else if(this.target==="draft-7")z.$schema="http://json-schema.org/draft-07/schema#";else if(this.target==="draft-4")z.$schema="http://json-schema.org/draft-04/schema#";else if(this.target==="openapi-3.0");else console.warn(`Invalid target: ${this.target}`);if(_.external?.uri){let T=_.external.registry.get($)?.id;if(!T)throw Error("Schema is missing an `id` property");z.$id=_.external.uri(T)}Object.assign(z,K.def);let H=_.external?.defs??{};for(let T of this.seen.entries()){let f=T[1];if(f.def&&f.defId)H[f.defId]=f.def}if(_.external);else if(Object.keys(H).length>0)if(this.target==="draft-2020-12")z.$defs=H;else z.definitions=H;try{return JSON.parse(JSON.stringify(z))}catch(T){throw Error("Error converting schema to JSON.")}}}function J4($,q){if($ instanceof _7){let K=new w5(q),P={};for(let z of $._idmap.entries()){let[H,T]=z;K.process(T)}let O={},Y={registry:$,uri:q?.uri,defs:P};for(let z of $._idmap.entries()){let[H,T]=z;O[H]=K.emit(T,{...q,external:Y})}if(Object.keys(P).length>0){let z=K.target==="draft-2020-12"?"$defs":"definitions";O.__shared={[z]:P}}return{schemas:O}}let _=new w5(q);return _.process($),_.emit($,q)}function uq($,q){let _=q??{seen:new Set};if(_.seen.has($))return!1;_.seen.add($);let K=$._zod.def;if(K.type==="transform")return!0;if(K.type==="array")return uq(K.element,_);if(K.type==="set")return uq(K.valueType,_);if(K.type==="lazy")return uq(K.getter(),_);if(K.type==="promise"||K.type==="optional"||K.type==="nonoptional"||K.type==="nullable"||K.type==="readonly"||K.type==="default"||K.type==="prefault")return uq(K.innerType,_);if(K.type==="intersection")return uq(K.left,_)||uq(K.right,_);if(K.type==="record"||K.type==="map")return uq(K.keyType,_)||uq(K.valueType,_);if(K.type==="pipe")return uq(K.in,_)||uq(K.out,_);if(K.type==="object"){for(let P in K.shape)if(uq(K.shape[P],_))return!0;return!1}if(K.type==="union"){for(let P of K.options)if(uq(P,_))return!0;return!1}if(K.type==="tuple"){for(let P of K.items)if(uq(P,_))return!0;if(K.rest&&uq(K.rest,_))return!0;return!1}return!1}var mA={};function X8($){if(typeof $!=="object"||$===null)return!1;let q=$;if(!("_zod"in q))return!1;let _=q._zod;return typeof _==="object"&&_!==null&&"def"in _}function H_($){if(typeof $!=="object"||$===null)return!1;let q=$;if(!("_def"in q)||"_zod"in q)return!1;let _=q._def;return typeof _==="object"&&_!=null&&"typeName"in _}function Kb($){if(!$)return!1;if(typeof $!=="object")return!1;if(Array.isArray($))return!1;if(X8($)||H_($))return!0;return!1}async function dA($,q){if(X8($))return await K4($,q);if(H_($))return await $.parseAsync(q);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function lA($){if(X8($))return y6.get($)?.description;if(H_($))return $.description;if("description"in $&&typeof $.description==="string")return $.description;return}function rA($){if(!Kb($))return!1;if(H_($))return $._def.typeName==="ZodString";if(X8($))return $._zod.def.type==="string";return!1}function H4($){if(!X8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="object")return!0;return!1}function oA($){if(!X8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="array")return!0;return!1}function Pb($){if(!X8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="optional")return!0;return!1}function Ob($){if(!X8($))return!1;if(typeof $==="object"&&$!==null&&"_zod"in $&&typeof $._zod==="object"&&$._zod!==null&&"def"in $._zod&&typeof $._zod.def==="object"&&$._zod.def!==null&&"type"in $._zod.def&&$._zod.def.type==="nullable")return!0;return!1}function f5($,q=!1){if(H_($))return $.strict();if(H4($)){let _=$._zod.def.shape;if(q)for(let[O,Y]of Object.entries($._zod.def.shape)){if(H4(Y)){let H=f5(Y,q);_[O]=H}else if(oA(Y)){let H=Y._zod.def.element;if(H4(H))H=f5(H,q);_[O]=l6(Y,{...Y._zod.def,element:H})}else _[O]=Y;let z=y6.get(Y);if(z)y6.add(_[O],z)}let K=l6($,{...$._zod.def,shape:_,catchall:O7(UP)}),P=y6.get($);if(P)y6.add(K,P);return K}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Yb($){return H_($)&&"typeName"in $._def&&$._def.typeName==="ZodEffects"}function jb($){return X8($)&&$._zod.def.type==="pipe"}function kK($,q,_){let K=_.get($);if(K!==void 0)return K;if(H_($)){if(Yb($))return kK($._def.schema,q,_);return $}if(X8($)){let P=$;if(jb($))P=kK($._zod.def.in,q,_);if(q){if(H4(P)){let Y=P._zod.def.shape;for(let[z,H]of Object.entries(P._zod.def.shape))Y[z]=kK(H,q,_);P=l6(P,{...P._zod.def,shape:Y})}else if(oA(P)){let Y=kK(P._zod.def.element,q,_);P=l6(P,{...P._zod.def,element:Y})}else if(Pb(P)){let Y=kK(P._zod.def.innerType,q,_);P=l6(P,{...P._zod.def,innerType:Y})}else if(Ob(P)){let Y=kK(P._zod.def.innerType,q,_);P=l6(P,{...P._zod.def,innerType:Y})}}let O=y6.get($);if(O)y6.add(P,O);return _.set($,P),P}throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function nA($,q=!1){return kK($,q,new WeakMap)}function Kz($){return $.replace(/[^a-zA-Z-_0-9]/g,"_")}var vb=["*","_","`"];function zb($){let q="";for(let[_,K]of Object.entries($))q+=`	classDef ${_} ${K};
`;return q}function iA($,q,_){let{firstNode:K,lastNode:P,nodeColors:O,withStyles:Y=!0,curveStyle:z="linear",wrapLabelNWords:H=9}=_??{},T=Y?`%%{init: {'flowchart': {'curve': '${z}'}}}%%
graph TD;
`:`graph TD;
`;if(Y){let N={["default"]:"{0}({1})"};if(K!==void 0)N[K]="{0}([{1}]):::first";if(P!==void 0)N[P]="{0}([{1}]):::last";for(let[h,E]of Object.entries($)){let D=E.name.split(":").pop()??"",L=vb.some((y)=>D.startsWith(y)&&D.endsWith(y))?`<p>${D}</p>`:D;if(Object.keys(E.metadata??{}).length)L+=`<hr/><small><em>${Object.entries(E.metadata??{}).map(([y,c])=>`${y} = ${c}`).join(`
`)}</em></small>`;let g=(N[h]??N.default).replace("{0}",Kz(h)).replace("{1}",L);T+=`	${g}
`}}let f={};for(let S of q){let N=S.source.split(":"),h=S.target.split(":"),E=N.filter((D,I)=>D===h[I]).join(":");if(!f[E])f[E]=[];f[E].push(S)}let w=new Set;function k(S,N){let h=S.length===1&&S[0].source===S[0].target;if(N&&!h){let E=N.split(":").pop();if(w.has(E))throw Error(`Found duplicate subgraph '${E}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);w.add(E),T+=`	subgraph ${E}
`}for(let E of S){let{source:D,target:I,data:L,conditional:g}=E,y="";if(L!==void 0){let c=L,o=c.split(" ");if(o.length>H)c=Array.from({length:Math.ceil(o.length/H)},(Q,U)=>o.slice(U*H,(U+1)*H).join(" ")).join("&nbsp;<br>&nbsp;");y=g?` -. &nbsp;${c}&nbsp; .-> `:` -- &nbsp;${c}&nbsp; --> `}else y=g?" -.-> ":" --> ";T+=`	${Kz(D)}${y}${Kz(I)};
`}for(let E in f)if(E.startsWith(`${N}:`)&&E!==N)k(f[E],E);if(N&&!h)T+=`	end
`}k(f[""]??[],"");for(let S in f)if(!S.includes(":")&&S!=="")k(f[S],S);if(Y)T+=zb(O??{});return T}async function BA($,q){let _=q?.backgroundColor??"white",K=q?.imageType??"png",P=YA($);if(_!==void 0){if(!/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(_))_=`!${_}`}let O=`https://mermaid.ink/img/${P}?bgColor=${_}&type=${K}`,Y=await fetch(O);if(!Y.ok)throw Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${Y.status}`,`Status text: ${Y.statusText}`].join(`
`));return await Y.blob()}var Oz=Symbol("Let zodToJsonSchema decide on which parser to use"),Pz={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Yz=($)=>typeof $==="string"?{...Pz,name:$}:{...Pz,...$};var jz=($)=>{let q=Yz($),_=q.name!==void 0?[...q.basePath,q.definitionPath,q.name]:q.basePath;return{...q,flags:{hasReferencedOpenAiAnyType:!1},currentPath:_,propertyPath:void 0,seen:new Map(Object.entries(q.definitions).map(([K,P])=>[P._def,{def:P._def,path:[...q.basePath,q.definitionPath,K],jsonSchema:void 0}]))}};var k7=($,q)=>{let _=0;for(;_<$.length&&_<q.length;_++)if($[_]!==q[_])break;return[($.length-_).toString(),...q.slice(_)].join("/")};function D6($){if($.target!=="openAi")return{};let q=[...$.basePath,$.definitionPath,$.openAiAnyTypeName];return $.flags.hasReferencedOpenAiAnyType=!0,{$ref:$.$refStrategy==="relative"?k7(q,$.currentPath):q.join("/")}}function Z5($,q,_,K){if(!K?.errorMessages)return;if(_)$.errorMessage={...$.errorMessage,[q]:_}}function G6($,q,_,K,P){$[q]=_,Z5($,q,K,P)}var CK={};oq(CK,{void:()=>tb,util:()=>A6,unknown:()=>ib,union:()=>Qb,undefined:()=>rb,tuple:()=>$y,transformer:()=>Wy,symbol:()=>lb,string:()=>qk,strictObject:()=>ab,setErrorMap:()=>Hb,set:()=>Ky,record:()=>qy,quotelessJson:()=>Wb,promise:()=>zy,preprocess:()=>Ty,pipeline:()=>wy,ostring:()=>fy,optional:()=>Jy,onumber:()=>Zy,oboolean:()=>Xy,objectUtil:()=>vz,object:()=>Fb,number:()=>_k,nullable:()=>Hy,null:()=>ob,never:()=>Bb,nativeEnum:()=>vy,nan:()=>cb,map:()=>_y,makeIssue:()=>G7,literal:()=>Yy,lazy:()=>Oy,late:()=>xb,isValid:()=>B_,isDirty:()=>A5,isAsync:()=>w4,isAborted:()=>X5,intersection:()=>sb,instanceof:()=>pb,getParsedType:()=>t8,getErrorMap:()=>T4,function:()=>Py,enum:()=>jy,effect:()=>Wy,discriminatedUnion:()=>eb,defaultErrorMap:()=>T_,datetimeRegex:()=>eA,date:()=>db,custom:()=>$k,coerce:()=>Ay,boolean:()=>Kk,bigint:()=>mb,array:()=>Ub,any:()=>nb,addIssueToContext:()=>t$,ZodVoid:()=>S7,ZodUnknown:()=>t_,ZodUnion:()=>G4,ZodUndefined:()=>A4,ZodType:()=>T6,ZodTuple:()=>F8,ZodTransformer:()=>y8,ZodSymbol:()=>V7,ZodString:()=>D8,ZodSet:()=>MK,ZodSchema:()=>T6,ZodRecord:()=>M7,ZodReadonly:()=>h4,ZodPromise:()=>NK,ZodPipeline:()=>E7,ZodParsedType:()=>n$,ZodOptional:()=>g8,ZodObject:()=>u6,ZodNumber:()=>U_,ZodNullable:()=>f_,ZodNull:()=>k4,ZodNever:()=>U8,ZodNativeEnum:()=>N4,ZodNaN:()=>C7,ZodMap:()=>N7,ZodLiteral:()=>M4,ZodLazy:()=>S4,ZodIssueCode:()=>c$,ZodIntersection:()=>V4,ZodFunction:()=>Z4,ZodFirstPartyTypeKind:()=>m$,ZodError:()=>eq,ZodEnum:()=>a_,ZodEffects:()=>y8,ZodDiscriminatedUnion:()=>k5,ZodDefault:()=>C4,ZodDate:()=>VK,ZodCatch:()=>E4,ZodBranded:()=>G5,ZodBoolean:()=>X4,ZodBigInt:()=>F_,ZodArray:()=>L8,ZodAny:()=>SK,Schema:()=>T6,ParseStatus:()=>kq,OK:()=>Rq,NEVER:()=>ky,INVALID:()=>q6,EMPTY_PATH:()=>Tb,DIRTY:()=>GK,BRAND:()=>ub});var A6;(function($){$.assertEqual=(P)=>{};function q(P){}$.assertIs=q;function _(P){throw Error()}$.assertNever=_,$.arrayToEnum=(P)=>{let O={};for(let Y of P)O[Y]=Y;return O},$.getValidEnumValues=(P)=>{let O=$.objectKeys(P).filter((z)=>typeof P[P[z]]!=="number"),Y={};for(let z of O)Y[z]=P[z];return $.objectValues(Y)},$.objectValues=(P)=>{return $.objectKeys(P).map(function(O){return P[O]})},$.objectKeys=typeof Object.keys==="function"?(P)=>Object.keys(P):(P)=>{let O=[];for(let Y in P)if(Object.prototype.hasOwnProperty.call(P,Y))O.push(Y);return O},$.find=(P,O)=>{for(let Y of P)if(O(Y))return Y;return},$.isInteger=typeof Number.isInteger==="function"?(P)=>Number.isInteger(P):(P)=>typeof P==="number"&&Number.isFinite(P)&&Math.floor(P)===P;function K(P,O=" | "){return P.map((Y)=>typeof Y==="string"?`'${Y}'`:Y).join(O)}$.joinValues=K,$.jsonStringifyReplacer=(P,O)=>{if(typeof O==="bigint")return O.toString();return O}})(A6||(A6={}));var vz;(function($){$.mergeShapes=(q,_)=>{return{...q,..._}}})(vz||(vz={}));var n$=A6.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t8=($)=>{switch(typeof $){case"undefined":return n$.undefined;case"string":return n$.string;case"number":return Number.isNaN($)?n$.nan:n$.number;case"boolean":return n$.boolean;case"function":return n$.function;case"bigint":return n$.bigint;case"symbol":return n$.symbol;case"object":if(Array.isArray($))return n$.array;if($===null)return n$.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return n$.promise;if(typeof Map<"u"&&$ instanceof Map)return n$.map;if(typeof Set<"u"&&$ instanceof Set)return n$.set;if(typeof Date<"u"&&$ instanceof Date)return n$.date;return n$.object;default:return n$.unknown}};var c$=A6.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Wb=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class eq extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(_)=>{this.issues=[...this.issues,_]},this.addIssues=(_=[])=>{this.issues=[...this.issues,..._]};let q=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,q);else this.__proto__=q;this.name="ZodError",this.issues=$}format($){let q=$||function(P){return P.message},_={_errors:[]},K=(P)=>{for(let O of P.issues)if(O.code==="invalid_union")O.unionErrors.map(K);else if(O.code==="invalid_return_type")K(O.returnTypeError);else if(O.code==="invalid_arguments")K(O.argumentsError);else if(O.path.length===0)_._errors.push(q(O));else{let Y=_,z=0;while(z<O.path.length){let H=O.path[z];if(z!==O.path.length-1)Y[H]=Y[H]||{_errors:[]};else Y[H]=Y[H]||{_errors:[]},Y[H]._errors.push(q(O));Y=Y[H],z++}}};return K(this),_}static assert($){if(!($ instanceof eq))throw Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,A6.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(q)=>q.message){let q=Object.create(null),_=[];for(let K of this.issues)if(K.path.length>0){let P=K.path[0];q[P]=q[P]||[],q[P].push($(K))}else _.push($(K));return{formErrors:_,fieldErrors:q}}get formErrors(){return this.flatten()}}eq.create=($)=>{return new eq($)};var Jb=($,q)=>{let _;switch($.code){case c$.invalid_type:if($.received===n$.undefined)_="Required";else _=`Expected ${$.expected}, received ${$.received}`;break;case c$.invalid_literal:_=`Invalid literal value, expected ${JSON.stringify($.expected,A6.jsonStringifyReplacer)}`;break;case c$.unrecognized_keys:_=`Unrecognized key(s) in object: ${A6.joinValues($.keys,", ")}`;break;case c$.invalid_union:_="Invalid input";break;case c$.invalid_union_discriminator:_=`Invalid discriminator value. Expected ${A6.joinValues($.options)}`;break;case c$.invalid_enum_value:_=`Invalid enum value. Expected ${A6.joinValues($.options)}, received '${$.received}'`;break;case c$.invalid_arguments:_="Invalid function arguments";break;case c$.invalid_return_type:_="Invalid function return type";break;case c$.invalid_date:_="Invalid date";break;case c$.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(_=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")_=`${_} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)_=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)_=`Invalid input: must end with "${$.validation.endsWith}"`;else A6.assertNever($.validation);else if($.validation!=="regex")_=`Invalid ${$.validation}`;else _="Invalid";break;case c$.too_small:if($.type==="array")_=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")_=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")_=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="bigint")_=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")_=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else _="Invalid input";break;case c$.too_big:if($.type==="array")_=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")_=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")_=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")_=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")_=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else _="Invalid input";break;case c$.custom:_="Invalid input";break;case c$.invalid_intersection_types:_="Intersection results could not be merged";break;case c$.not_multiple_of:_=`Number must be a multiple of ${$.multipleOf}`;break;case c$.not_finite:_="Number must be finite";break;default:_=q.defaultError,A6.assertNever($)}return{message:_}},T_=Jb;var tA=T_;function Hb($){tA=$}function T4(){return tA}var G7=($)=>{let{data:q,path:_,errorMaps:K,issueData:P}=$,O=[..._,...P.path||[]],Y={...P,path:O};if(P.message!==void 0)return{...P,path:O,message:P.message};let z="",H=K.filter((T)=>!!T).slice().reverse();for(let T of H)z=T(Y,{data:q,defaultError:z}).message;return{...P,path:O,message:z}},Tb=[];function t$($,q){let _=T4(),K=G7({issueData:q,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,_,_===T_?void 0:T_].filter((P)=>!!P)});$.common.issues.push(K)}class kq{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,q){let _=[];for(let K of q){if(K.status==="aborted")return q6;if(K.status==="dirty")$.dirty();_.push(K.value)}return{status:$.value,value:_}}static async mergeObjectAsync($,q){let _=[];for(let K of q){let P=await K.key,O=await K.value;_.push({key:P,value:O})}return kq.mergeObjectSync($,_)}static mergeObjectSync($,q){let _={};for(let K of q){let{key:P,value:O}=K;if(P.status==="aborted")return q6;if(O.status==="aborted")return q6;if(P.status==="dirty")$.dirty();if(O.status==="dirty")$.dirty();if(P.value!=="__proto__"&&(typeof O.value<"u"||K.alwaysSet))_[P.value]=O.value}return{status:$.value,value:_}}}var q6=Object.freeze({status:"aborted"}),GK=($)=>({status:"dirty",value:$}),Rq=($)=>({status:"valid",value:$}),X5=($)=>$.status==="aborted",A5=($)=>$.status==="dirty",B_=($)=>$.status==="valid",w4=($)=>typeof Promise<"u"&&$ instanceof Promise;var s$;(function($){$.errToObj=(q)=>typeof q==="string"?{message:q}:q||{},$.toString=(q)=>typeof q==="string"?q:q?.message})(s$||(s$={}));class b8{constructor($,q,_,K){this._cachedPath=[],this.parent=$,this.data=q,this._path=_,this._key=K}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var UA=($,q)=>{if(B_(q))return{success:!0,data:q.value};else{if(!$.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let _=new eq($.common.issues);return this._error=_,this._error}}}};function v6($){if(!$)return{};let{errorMap:q,invalid_type_error:_,required_error:K,description:P}=$;if(q&&(_||K))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(q)return{errorMap:q,description:P};return{errorMap:(Y,z)=>{let{message:H}=$;if(Y.code==="invalid_enum_value")return{message:H??z.defaultError};if(typeof z.data>"u")return{message:H??K??z.defaultError};if(Y.code!=="invalid_type")return{message:z.defaultError};return{message:H??_??z.defaultError}},description:P}}class T6{get description(){return this._def.description}_getType($){return t8($.data)}_getOrReturnCtx($,q){return q||{common:$.parent.common,data:$.data,parsedType:t8($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new kq,ctx:{common:$.parent.common,data:$.data,parsedType:t8($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let q=this._parse($);if(w4(q))throw Error("Synchronous parse encountered promise.");return q}_parseAsync($){let q=this._parse($);return Promise.resolve(q)}parse($,q){let _=this.safeParse($,q);if(_.success)return _.data;throw _.error}safeParse($,q){let _={common:{issues:[],async:q?.async??!1,contextualErrorMap:q?.errorMap},path:q?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:t8($)},K=this._parseSync({data:$,path:_.path,parent:_});return UA(_,K)}"~validate"($){let q={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:t8($)};if(!this["~standard"].async)try{let _=this._parseSync({data:$,path:[],parent:q});return B_(_)?{value:_.value}:{issues:q.common.issues}}catch(_){if(_?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;q.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:q}).then((_)=>B_(_)?{value:_.value}:{issues:q.common.issues})}async parseAsync($,q){let _=await this.safeParseAsync($,q);if(_.success)return _.data;throw _.error}async safeParseAsync($,q){let _={common:{issues:[],contextualErrorMap:q?.errorMap,async:!0},path:q?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:t8($)},K=this._parse({data:$,path:_.path,parent:_}),P=await(w4(K)?K:Promise.resolve(K));return UA(_,P)}refine($,q){let _=(K)=>{if(typeof q==="string"||typeof q>"u")return{message:q};else if(typeof q==="function")return q(K);else return q};return this._refinement((K,P)=>{let O=$(K),Y=()=>P.addIssue({code:c$.custom,..._(K)});if(typeof Promise<"u"&&O instanceof Promise)return O.then((z)=>{if(!z)return Y(),!1;else return!0});if(!O)return Y(),!1;else return!0})}refinement($,q){return this._refinement((_,K)=>{if(!$(_))return K.addIssue(typeof q==="function"?q(_,K):q),!1;else return!0})}_refinement($){return new y8({schema:this,typeName:m$.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(q)=>this["~validate"](q)}}optional(){return g8.create(this,this._def)}nullable(){return f_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return L8.create(this)}promise(){return NK.create(this,this._def)}or($){return G4.create([this,$],this._def)}and($){return V4.create(this,$,this._def)}transform($){return new y8({...v6(this._def),schema:this,typeName:m$.ZodEffects,effect:{type:"transform",transform:$}})}default($){let q=typeof $==="function"?$:()=>$;return new C4({...v6(this._def),innerType:this,defaultValue:q,typeName:m$.ZodDefault})}brand(){return new G5({typeName:m$.ZodBranded,type:this,...v6(this._def)})}catch($){let q=typeof $==="function"?$:()=>$;return new E4({...v6(this._def),innerType:this,catchValue:q,typeName:m$.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return E7.create(this,$)}readonly(){return h4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var wb=/^c[^\s-]{8,}$/i,fb=/^[0-9a-z]+$/,Zb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ab=/^[a-z0-9_-]{21}$/i,kb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",zz,Mb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Cb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Eb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ib=new RegExp(`^${aA}$`);function QA($){let q="[0-5]\\d";if($.precision)q=`${q}\\.\\d{${$.precision}}`;else if($.precision==null)q=`${q}(\\.\\d+)?`;let _=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${q})${_}`}function Db($){return new RegExp(`^${QA($)}$`)}function eA($){let q=`${aA}T${QA($)}`,_=[];if(_.push($.local?"Z?":"Z"),$.offset)_.push("([+-]\\d{2}:?\\d{2})");return q=`${q}(${_.join("|")})`,new RegExp(`^${q}$`)}function Lb($,q){if((q==="v4"||!q)&&Mb.test($))return!0;if((q==="v6"||!q)&&Cb.test($))return!0;return!1}function gb($,q){if(!kb.test($))return!1;try{let[_]=$.split(".");if(!_)return!1;let K=_.replace(/-/g,"+").replace(/_/g,"/").padEnd(_.length+(4-_.length%4)%4,"="),P=JSON.parse(atob(K));if(typeof P!=="object"||P===null)return!1;if("typ"in P&&P?.typ!=="JWT")return!1;if(!P.alg)return!1;if(q&&P.alg!==q)return!1;return!0}catch{return!1}}function bb($,q){if((q==="v4"||!q)&&Nb.test($))return!0;if((q==="v6"||!q)&&Eb.test($))return!0;return!1}class D8 extends T6{_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==n$.string){let P=this._getOrReturnCtx($);return t$(P,{code:c$.invalid_type,expected:n$.string,received:P.parsedType}),q6}let _=new kq,K=void 0;for(let P of this._def.checks)if(P.kind==="min"){if($.data.length<P.value)K=this._getOrReturnCtx($,K),t$(K,{code:c$.too_small,minimum:P.value,type:"string",inclusive:!0,exact:!1,message:P.message}),_.dirty()}else if(P.kind==="max"){if($.data.length>P.value)K=this._getOrReturnCtx($,K),t$(K,{code:c$.too_big,maximum:P.value,type:"string",inclusive:!0,exact:!1,message:P.message}),_.dirty()}else if(P.kind==="length"){let O=$.data.length>P.value,Y=$.data.length<P.value;if(O||Y){if(K=this._getOrReturnCtx($,K),O)t$(K,{code:c$.too_big,maximum:P.value,type:"string",inclusive:!0,exact:!0,message:P.message});else if(Y)t$(K,{code:c$.too_small,minimum:P.value,type:"string",inclusive:!0,exact:!0,message:P.message});_.dirty()}}else if(P.kind==="email"){if(!Vb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"email",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="emoji"){if(!zz)zz=new RegExp(Sb,"u");if(!zz.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"emoji",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="uuid"){if(!Xb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"uuid",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="nanoid"){if(!Ab.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"nanoid",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="cuid"){if(!wb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"cuid",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="cuid2"){if(!fb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"cuid2",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="ulid"){if(!Zb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"ulid",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="url")try{new URL($.data)}catch{K=this._getOrReturnCtx($,K),t$(K,{validation:"url",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="regex"){if(P.regex.lastIndex=0,!P.regex.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"regex",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="trim")$.data=$.data.trim();else if(P.kind==="includes"){if(!$.data.includes(P.value,P.position))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:{includes:P.value,position:P.position},message:P.message}),_.dirty()}else if(P.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(P.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(P.kind==="startsWith"){if(!$.data.startsWith(P.value))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:{startsWith:P.value},message:P.message}),_.dirty()}else if(P.kind==="endsWith"){if(!$.data.endsWith(P.value))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:{endsWith:P.value},message:P.message}),_.dirty()}else if(P.kind==="datetime"){if(!eA(P).test($.data))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:"datetime",message:P.message}),_.dirty()}else if(P.kind==="date"){if(!Ib.test($.data))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:"date",message:P.message}),_.dirty()}else if(P.kind==="time"){if(!Db(P).test($.data))K=this._getOrReturnCtx($,K),t$(K,{code:c$.invalid_string,validation:"time",message:P.message}),_.dirty()}else if(P.kind==="duration"){if(!Gb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"duration",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="ip"){if(!Lb($.data,P.version))K=this._getOrReturnCtx($,K),t$(K,{validation:"ip",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="jwt"){if(!gb($.data,P.alg))K=this._getOrReturnCtx($,K),t$(K,{validation:"jwt",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="cidr"){if(!bb($.data,P.version))K=this._getOrReturnCtx($,K),t$(K,{validation:"cidr",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="base64"){if(!hb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"base64",code:c$.invalid_string,message:P.message}),_.dirty()}else if(P.kind==="base64url"){if(!Rb.test($.data))K=this._getOrReturnCtx($,K),t$(K,{validation:"base64url",code:c$.invalid_string,message:P.message}),_.dirty()}else A6.assertNever(P);return{status:_.value,value:$.data}}_regex($,q,_){return this.refinement((K)=>$.test(K),{validation:q,code:c$.invalid_string,...s$.errToObj(_)})}_addCheck($){return new D8({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...s$.errToObj($)})}url($){return this._addCheck({kind:"url",...s$.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...s$.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...s$.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...s$.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...s$.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...s$.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...s$.errToObj($)})}base64($){return this._addCheck({kind:"base64",...s$.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...s$.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...s$.errToObj($)})}ip($){return this._addCheck({kind:"ip",...s$.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...s$.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision>"u"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...s$.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision>"u"?null:$?.precision,...s$.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...s$.errToObj($)})}regex($,q){return this._addCheck({kind:"regex",regex:$,...s$.errToObj(q)})}includes($,q){return this._addCheck({kind:"includes",value:$,position:q?.position,...s$.errToObj(q?.message)})}startsWith($,q){return this._addCheck({kind:"startsWith",value:$,...s$.errToObj(q)})}endsWith($,q){return this._addCheck({kind:"endsWith",value:$,...s$.errToObj(q)})}min($,q){return this._addCheck({kind:"min",value:$,...s$.errToObj(q)})}max($,q){return this._addCheck({kind:"max",value:$,...s$.errToObj(q)})}length($,q){return this._addCheck({kind:"length",value:$,...s$.errToObj(q)})}nonempty($){return this.min(1,s$.errToObj($))}trim(){return new D8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new D8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new D8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxLength(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}}D8.create=($)=>{return new D8({checks:[],typeName:m$.ZodString,coerce:$?.coerce??!1,...v6($)})};function yb($,q){let _=($.toString().split(".")[1]||"").length,K=(q.toString().split(".")[1]||"").length,P=_>K?_:K,O=Number.parseInt($.toFixed(P).replace(".","")),Y=Number.parseInt(q.toFixed(P).replace(".",""));return O%Y/10**P}class U_ extends T6{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==n$.number){let P=this._getOrReturnCtx($);return t$(P,{code:c$.invalid_type,expected:n$.number,received:P.parsedType}),q6}let _=void 0,K=new kq;for(let P of this._def.checks)if(P.kind==="int"){if(!A6.isInteger($.data))_=this._getOrReturnCtx($,_),t$(_,{code:c$.invalid_type,expected:"integer",received:"float",message:P.message}),K.dirty()}else if(P.kind==="min"){if(P.inclusive?$.data<P.value:$.data<=P.value)_=this._getOrReturnCtx($,_),t$(_,{code:c$.too_small,minimum:P.value,type:"number",inclusive:P.inclusive,exact:!1,message:P.message}),K.dirty()}else if(P.kind==="max"){if(P.inclusive?$.data>P.value:$.data>=P.value)_=this._getOrReturnCtx($,_),t$(_,{code:c$.too_big,maximum:P.value,type:"number",inclusive:P.inclusive,exact:!1,message:P.message}),K.dirty()}else if(P.kind==="multipleOf"){if(yb($.data,P.value)!==0)_=this._getOrReturnCtx($,_),t$(_,{code:c$.not_multiple_of,multipleOf:P.value,message:P.message}),K.dirty()}else if(P.kind==="finite"){if(!Number.isFinite($.data))_=this._getOrReturnCtx($,_),t$(_,{code:c$.not_finite,message:P.message}),K.dirty()}else A6.assertNever(P);return{status:K.value,value:$.data}}gte($,q){return this.setLimit("min",$,!0,s$.toString(q))}gt($,q){return this.setLimit("min",$,!1,s$.toString(q))}lte($,q){return this.setLimit("max",$,!0,s$.toString(q))}lt($,q){return this.setLimit("max",$,!1,s$.toString(q))}setLimit($,q,_,K){return new U_({...this._def,checks:[...this._def.checks,{kind:$,value:q,inclusive:_,message:s$.toString(K)}]})}_addCheck($){return new U_({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:s$.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:s$.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:s$.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:s$.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:s$.toString($)})}multipleOf($,q){return this._addCheck({kind:"multipleOf",value:$,message:s$.toString(q)})}finite($){return this._addCheck({kind:"finite",message:s$.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:s$.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:s$.toString($)})}get minValue(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxValue(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&A6.isInteger($.value))}get isFinite(){let $=null,q=null;for(let _ of this._def.checks)if(_.kind==="finite"||_.kind==="int"||_.kind==="multipleOf")return!0;else if(_.kind==="min"){if(q===null||_.value>q)q=_.value}else if(_.kind==="max"){if($===null||_.value<$)$=_.value}return Number.isFinite(q)&&Number.isFinite($)}}U_.create=($)=>{return new U_({checks:[],typeName:m$.ZodNumber,coerce:$?.coerce||!1,...v6($)})};class F_ extends T6{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==n$.bigint)return this._getInvalidInput($);let _=void 0,K=new kq;for(let P of this._def.checks)if(P.kind==="min"){if(P.inclusive?$.data<P.value:$.data<=P.value)_=this._getOrReturnCtx($,_),t$(_,{code:c$.too_small,type:"bigint",minimum:P.value,inclusive:P.inclusive,message:P.message}),K.dirty()}else if(P.kind==="max"){if(P.inclusive?$.data>P.value:$.data>=P.value)_=this._getOrReturnCtx($,_),t$(_,{code:c$.too_big,type:"bigint",maximum:P.value,inclusive:P.inclusive,message:P.message}),K.dirty()}else if(P.kind==="multipleOf"){if($.data%P.value!==BigInt(0))_=this._getOrReturnCtx($,_),t$(_,{code:c$.not_multiple_of,multipleOf:P.value,message:P.message}),K.dirty()}else A6.assertNever(P);return{status:K.value,value:$.data}}_getInvalidInput($){let q=this._getOrReturnCtx($);return t$(q,{code:c$.invalid_type,expected:n$.bigint,received:q.parsedType}),q6}gte($,q){return this.setLimit("min",$,!0,s$.toString(q))}gt($,q){return this.setLimit("min",$,!1,s$.toString(q))}lte($,q){return this.setLimit("max",$,!0,s$.toString(q))}lt($,q){return this.setLimit("max",$,!1,s$.toString(q))}setLimit($,q,_,K){return new F_({...this._def,checks:[...this._def.checks,{kind:$,value:q,inclusive:_,message:s$.toString(K)}]})}_addCheck($){return new F_({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:s$.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:s$.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:s$.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:s$.toString($)})}multipleOf($,q){return this._addCheck({kind:"multipleOf",value:$,message:s$.toString(q)})}get minValue(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $}get maxValue(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $}}F_.create=($)=>{return new F_({checks:[],typeName:m$.ZodBigInt,coerce:$?.coerce??!1,...v6($)})};class X4 extends T6{_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==n$.boolean){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.boolean,received:_.parsedType}),q6}return Rq($.data)}}X4.create=($)=>{return new X4({typeName:m$.ZodBoolean,coerce:$?.coerce||!1,...v6($)})};class VK extends T6{_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==n$.date){let P=this._getOrReturnCtx($);return t$(P,{code:c$.invalid_type,expected:n$.date,received:P.parsedType}),q6}if(Number.isNaN($.data.getTime())){let P=this._getOrReturnCtx($);return t$(P,{code:c$.invalid_date}),q6}let _=new kq,K=void 0;for(let P of this._def.checks)if(P.kind==="min"){if($.data.getTime()<P.value)K=this._getOrReturnCtx($,K),t$(K,{code:c$.too_small,message:P.message,inclusive:!0,exact:!1,minimum:P.value,type:"date"}),_.dirty()}else if(P.kind==="max"){if($.data.getTime()>P.value)K=this._getOrReturnCtx($,K),t$(K,{code:c$.too_big,message:P.message,inclusive:!0,exact:!1,maximum:P.value,type:"date"}),_.dirty()}else A6.assertNever(P);return{status:_.value,value:new Date($.data.getTime())}}_addCheck($){return new VK({...this._def,checks:[...this._def.checks,$]})}min($,q){return this._addCheck({kind:"min",value:$.getTime(),message:s$.toString(q)})}max($,q){return this._addCheck({kind:"max",value:$.getTime(),message:s$.toString(q)})}get minDate(){let $=null;for(let q of this._def.checks)if(q.kind==="min"){if($===null||q.value>$)$=q.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let q of this._def.checks)if(q.kind==="max"){if($===null||q.value<$)$=q.value}return $!=null?new Date($):null}}VK.create=($)=>{return new VK({checks:[],coerce:$?.coerce||!1,typeName:m$.ZodDate,...v6($)})};class V7 extends T6{_parse($){if(this._getType($)!==n$.symbol){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.symbol,received:_.parsedType}),q6}return Rq($.data)}}V7.create=($)=>{return new V7({typeName:m$.ZodSymbol,...v6($)})};class A4 extends T6{_parse($){if(this._getType($)!==n$.undefined){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.undefined,received:_.parsedType}),q6}return Rq($.data)}}A4.create=($)=>{return new A4({typeName:m$.ZodUndefined,...v6($)})};class k4 extends T6{_parse($){if(this._getType($)!==n$.null){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.null,received:_.parsedType}),q6}return Rq($.data)}}k4.create=($)=>{return new k4({typeName:m$.ZodNull,...v6($)})};class SK extends T6{constructor(){super(...arguments);this._any=!0}_parse($){return Rq($.data)}}SK.create=($)=>{return new SK({typeName:m$.ZodAny,...v6($)})};class t_ extends T6{constructor(){super(...arguments);this._unknown=!0}_parse($){return Rq($.data)}}t_.create=($)=>{return new t_({typeName:m$.ZodUnknown,...v6($)})};class U8 extends T6{_parse($){let q=this._getOrReturnCtx($);return t$(q,{code:c$.invalid_type,expected:n$.never,received:q.parsedType}),q6}}U8.create=($)=>{return new U8({typeName:m$.ZodNever,...v6($)})};class S7 extends T6{_parse($){if(this._getType($)!==n$.undefined){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.void,received:_.parsedType}),q6}return Rq($.data)}}S7.create=($)=>{return new S7({typeName:m$.ZodVoid,...v6($)})};class L8 extends T6{_parse($){let{ctx:q,status:_}=this._processInputParams($),K=this._def;if(q.parsedType!==n$.array)return t$(q,{code:c$.invalid_type,expected:n$.array,received:q.parsedType}),q6;if(K.exactLength!==null){let O=q.data.length>K.exactLength.value,Y=q.data.length<K.exactLength.value;if(O||Y)t$(q,{code:O?c$.too_big:c$.too_small,minimum:Y?K.exactLength.value:void 0,maximum:O?K.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:K.exactLength.message}),_.dirty()}if(K.minLength!==null){if(q.data.length<K.minLength.value)t$(q,{code:c$.too_small,minimum:K.minLength.value,type:"array",inclusive:!0,exact:!1,message:K.minLength.message}),_.dirty()}if(K.maxLength!==null){if(q.data.length>K.maxLength.value)t$(q,{code:c$.too_big,maximum:K.maxLength.value,type:"array",inclusive:!0,exact:!1,message:K.maxLength.message}),_.dirty()}if(q.common.async)return Promise.all([...q.data].map((O,Y)=>{return K.type._parseAsync(new b8(q,O,q.path,Y))})).then((O)=>{return kq.mergeArray(_,O)});let P=[...q.data].map((O,Y)=>{return K.type._parseSync(new b8(q,O,q.path,Y))});return kq.mergeArray(_,P)}get element(){return this._def.type}min($,q){return new L8({...this._def,minLength:{value:$,message:s$.toString(q)}})}max($,q){return new L8({...this._def,maxLength:{value:$,message:s$.toString(q)}})}length($,q){return new L8({...this._def,exactLength:{value:$,message:s$.toString(q)}})}nonempty($){return this.min(1,$)}}L8.create=($,q)=>{return new L8({type:$,minLength:null,maxLength:null,exactLength:null,typeName:m$.ZodArray,...v6(q)})};function f4($){if($ instanceof u6){let q={};for(let _ in $.shape){let K=$.shape[_];q[_]=g8.create(f4(K))}return new u6({...$._def,shape:()=>q})}else if($ instanceof L8)return new L8({...$._def,type:f4($.element)});else if($ instanceof g8)return g8.create(f4($.unwrap()));else if($ instanceof f_)return f_.create(f4($.unwrap()));else if($ instanceof F8)return F8.create($.items.map((q)=>f4(q)));else return $}class u6 extends T6{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),q=A6.objectKeys($);return this._cached={shape:$,keys:q},this._cached}_parse($){if(this._getType($)!==n$.object){let H=this._getOrReturnCtx($);return t$(H,{code:c$.invalid_type,expected:n$.object,received:H.parsedType}),q6}let{status:_,ctx:K}=this._processInputParams($),{shape:P,keys:O}=this._getCached(),Y=[];if(!(this._def.catchall instanceof U8&&this._def.unknownKeys==="strip")){for(let H in K.data)if(!O.includes(H))Y.push(H)}let z=[];for(let H of O){let T=P[H],f=K.data[H];z.push({key:{status:"valid",value:H},value:T._parse(new b8(K,f,K.path,H)),alwaysSet:H in K.data})}if(this._def.catchall instanceof U8){let H=this._def.unknownKeys;if(H==="passthrough")for(let T of Y)z.push({key:{status:"valid",value:T},value:{status:"valid",value:K.data[T]}});else if(H==="strict"){if(Y.length>0)t$(K,{code:c$.unrecognized_keys,keys:Y}),_.dirty()}else if(H==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let H=this._def.catchall;for(let T of Y){let f=K.data[T];z.push({key:{status:"valid",value:T},value:H._parse(new b8(K,f,K.path,T)),alwaysSet:T in K.data})}}if(K.common.async)return Promise.resolve().then(async()=>{let H=[];for(let T of z){let f=await T.key,w=await T.value;H.push({key:f,value:w,alwaysSet:T.alwaysSet})}return H}).then((H)=>{return kq.mergeObjectSync(_,H)});else return kq.mergeObjectSync(_,z)}get shape(){return this._def.shape()}strict($){return s$.errToObj,new u6({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(q,_)=>{let K=this._def.errorMap?.(q,_).message??_.defaultError;if(q.code==="unrecognized_keys")return{message:s$.errToObj($).message??K};return{message:K}}}:{}})}strip(){return new u6({...this._def,unknownKeys:"strip"})}passthrough(){return new u6({...this._def,unknownKeys:"passthrough"})}extend($){return new u6({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new u6({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:m$.ZodObject})}setKey($,q){return this.augment({[$]:q})}catchall($){return new u6({...this._def,catchall:$})}pick($){let q={};for(let _ of A6.objectKeys($))if($[_]&&this.shape[_])q[_]=this.shape[_];return new u6({...this._def,shape:()=>q})}omit($){let q={};for(let _ of A6.objectKeys(this.shape))if(!$[_])q[_]=this.shape[_];return new u6({...this._def,shape:()=>q})}deepPartial(){return f4(this)}partial($){let q={};for(let _ of A6.objectKeys(this.shape)){let K=this.shape[_];if($&&!$[_])q[_]=K;else q[_]=K.optional()}return new u6({...this._def,shape:()=>q})}required($){let q={};for(let _ of A6.objectKeys(this.shape))if($&&!$[_])q[_]=this.shape[_];else{let P=this.shape[_];while(P instanceof g8)P=P._def.innerType;q[_]=P}return new u6({...this._def,shape:()=>q})}keyof(){return sA(A6.objectKeys(this.shape))}}u6.create=($,q)=>{return new u6({shape:()=>$,unknownKeys:"strip",catchall:U8.create(),typeName:m$.ZodObject,...v6(q)})};u6.strictCreate=($,q)=>{return new u6({shape:()=>$,unknownKeys:"strict",catchall:U8.create(),typeName:m$.ZodObject,...v6(q)})};u6.lazycreate=($,q)=>{return new u6({shape:$,unknownKeys:"strip",catchall:U8.create(),typeName:m$.ZodObject,...v6(q)})};class G4 extends T6{_parse($){let{ctx:q}=this._processInputParams($),_=this._def.options;function K(P){for(let Y of P)if(Y.result.status==="valid")return Y.result;for(let Y of P)if(Y.result.status==="dirty")return q.common.issues.push(...Y.ctx.common.issues),Y.result;let O=P.map((Y)=>new eq(Y.ctx.common.issues));return t$(q,{code:c$.invalid_union,unionErrors:O}),q6}if(q.common.async)return Promise.all(_.map(async(P)=>{let O={...q,common:{...q.common,issues:[]},parent:null};return{result:await P._parseAsync({data:q.data,path:q.path,parent:O}),ctx:O}})).then(K);else{let P=void 0,O=[];for(let z of _){let H={...q,common:{...q.common,issues:[]},parent:null},T=z._parseSync({data:q.data,path:q.path,parent:H});if(T.status==="valid")return T;else if(T.status==="dirty"&&!P)P={result:T,ctx:H};if(H.common.issues.length)O.push(H.common.issues)}if(P)return q.common.issues.push(...P.ctx.common.issues),P.result;let Y=O.map((z)=>new eq(z));return t$(q,{code:c$.invalid_union,unionErrors:Y}),q6}}get options(){return this._def.options}}G4.create=($,q)=>{return new G4({options:$,typeName:m$.ZodUnion,...v6(q)})};var w_=($)=>{if($ instanceof S4)return w_($.schema);else if($ instanceof y8)return w_($.innerType());else if($ instanceof M4)return[$.value];else if($ instanceof a_)return $.options;else if($ instanceof N4)return A6.objectValues($.enum);else if($ instanceof C4)return w_($._def.innerType);else if($ instanceof A4)return[void 0];else if($ instanceof k4)return[null];else if($ instanceof g8)return[void 0,...w_($.unwrap())];else if($ instanceof f_)return[null,...w_($.unwrap())];else if($ instanceof G5)return w_($.unwrap());else if($ instanceof h4)return w_($.unwrap());else if($ instanceof E4)return w_($._def.innerType);else return[]};class k5 extends T6{_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==n$.object)return t$(q,{code:c$.invalid_type,expected:n$.object,received:q.parsedType}),q6;let _=this.discriminator,K=q.data[_],P=this.optionsMap.get(K);if(!P)return t$(q,{code:c$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[_]}),q6;if(q.common.async)return P._parseAsync({data:q.data,path:q.path,parent:q});else return P._parseSync({data:q.data,path:q.path,parent:q})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,q,_){let K=new Map;for(let P of q){let O=w_(P.shape[$]);if(!O.length)throw Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let Y of O){if(K.has(Y))throw Error(`Discriminator property ${String($)} has duplicate value ${String(Y)}`);K.set(Y,P)}}return new k5({typeName:m$.ZodDiscriminatedUnion,discriminator:$,options:q,optionsMap:K,...v6(_)})}}function Wz($,q){let _=t8($),K=t8(q);if($===q)return{valid:!0,data:$};else if(_===n$.object&&K===n$.object){let P=A6.objectKeys(q),O=A6.objectKeys($).filter((z)=>P.indexOf(z)!==-1),Y={...$,...q};for(let z of O){let H=Wz($[z],q[z]);if(!H.valid)return{valid:!1};Y[z]=H.data}return{valid:!0,data:Y}}else if(_===n$.array&&K===n$.array){if($.length!==q.length)return{valid:!1};let P=[];for(let O=0;O<$.length;O++){let Y=$[O],z=q[O],H=Wz(Y,z);if(!H.valid)return{valid:!1};P.push(H.data)}return{valid:!0,data:P}}else if(_===n$.date&&K===n$.date&&+$===+q)return{valid:!0,data:$};else return{valid:!1}}class V4 extends T6{_parse($){let{status:q,ctx:_}=this._processInputParams($),K=(P,O)=>{if(X5(P)||X5(O))return q6;let Y=Wz(P.value,O.value);if(!Y.valid)return t$(_,{code:c$.invalid_intersection_types}),q6;if(A5(P)||A5(O))q.dirty();return{status:q.value,value:Y.data}};if(_.common.async)return Promise.all([this._def.left._parseAsync({data:_.data,path:_.path,parent:_}),this._def.right._parseAsync({data:_.data,path:_.path,parent:_})]).then(([P,O])=>K(P,O));else return K(this._def.left._parseSync({data:_.data,path:_.path,parent:_}),this._def.right._parseSync({data:_.data,path:_.path,parent:_}))}}V4.create=($,q,_)=>{return new V4({left:$,right:q,typeName:m$.ZodIntersection,...v6(_)})};class F8 extends T6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==n$.array)return t$(_,{code:c$.invalid_type,expected:n$.array,received:_.parsedType}),q6;if(_.data.length<this._def.items.length)return t$(_,{code:c$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q6;if(!this._def.rest&&_.data.length>this._def.items.length)t$(_,{code:c$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q.dirty();let P=[..._.data].map((O,Y)=>{let z=this._def.items[Y]||this._def.rest;if(!z)return null;return z._parse(new b8(_,O,_.path,Y))}).filter((O)=>!!O);if(_.common.async)return Promise.all(P).then((O)=>{return kq.mergeArray(q,O)});else return kq.mergeArray(q,P)}get items(){return this._def.items}rest($){return new F8({...this._def,rest:$})}}F8.create=($,q)=>{if(!Array.isArray($))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new F8({items:$,typeName:m$.ZodTuple,rest:null,...v6(q)})};class M7 extends T6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==n$.object)return t$(_,{code:c$.invalid_type,expected:n$.object,received:_.parsedType}),q6;let K=[],P=this._def.keyType,O=this._def.valueType;for(let Y in _.data)K.push({key:P._parse(new b8(_,Y,_.path,Y)),value:O._parse(new b8(_,_.data[Y],_.path,Y)),alwaysSet:Y in _.data});if(_.common.async)return kq.mergeObjectAsync(q,K);else return kq.mergeObjectSync(q,K)}get element(){return this._def.valueType}static create($,q,_){if(q instanceof T6)return new M7({keyType:$,valueType:q,typeName:m$.ZodRecord,...v6(_)});return new M7({keyType:D8.create(),valueType:$,typeName:m$.ZodRecord,...v6(q)})}}class N7 extends T6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==n$.map)return t$(_,{code:c$.invalid_type,expected:n$.map,received:_.parsedType}),q6;let K=this._def.keyType,P=this._def.valueType,O=[..._.data.entries()].map(([Y,z],H)=>{return{key:K._parse(new b8(_,Y,_.path,[H,"key"])),value:P._parse(new b8(_,z,_.path,[H,"value"]))}});if(_.common.async){let Y=new Map;return Promise.resolve().then(async()=>{for(let z of O){let H=await z.key,T=await z.value;if(H.status==="aborted"||T.status==="aborted")return q6;if(H.status==="dirty"||T.status==="dirty")q.dirty();Y.set(H.value,T.value)}return{status:q.value,value:Y}})}else{let Y=new Map;for(let z of O){let{key:H,value:T}=z;if(H.status==="aborted"||T.status==="aborted")return q6;if(H.status==="dirty"||T.status==="dirty")q.dirty();Y.set(H.value,T.value)}return{status:q.value,value:Y}}}}N7.create=($,q,_)=>{return new N7({valueType:q,keyType:$,typeName:m$.ZodMap,...v6(_)})};class MK extends T6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.parsedType!==n$.set)return t$(_,{code:c$.invalid_type,expected:n$.set,received:_.parsedType}),q6;let K=this._def;if(K.minSize!==null){if(_.data.size<K.minSize.value)t$(_,{code:c$.too_small,minimum:K.minSize.value,type:"set",inclusive:!0,exact:!1,message:K.minSize.message}),q.dirty()}if(K.maxSize!==null){if(_.data.size>K.maxSize.value)t$(_,{code:c$.too_big,maximum:K.maxSize.value,type:"set",inclusive:!0,exact:!1,message:K.maxSize.message}),q.dirty()}let P=this._def.valueType;function O(z){let H=new Set;for(let T of z){if(T.status==="aborted")return q6;if(T.status==="dirty")q.dirty();H.add(T.value)}return{status:q.value,value:H}}let Y=[..._.data.values()].map((z,H)=>P._parse(new b8(_,z,_.path,H)));if(_.common.async)return Promise.all(Y).then((z)=>O(z));else return O(Y)}min($,q){return new MK({...this._def,minSize:{value:$,message:s$.toString(q)}})}max($,q){return new MK({...this._def,maxSize:{value:$,message:s$.toString(q)}})}size($,q){return this.min($,q).max($,q)}nonempty($){return this.min(1,$)}}MK.create=($,q)=>{return new MK({valueType:$,minSize:null,maxSize:null,typeName:m$.ZodSet,...v6(q)})};class Z4 extends T6{constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==n$.function)return t$(q,{code:c$.invalid_type,expected:n$.function,received:q.parsedType}),q6;function _(Y,z){return G7({data:Y,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,T4(),T_].filter((H)=>!!H),issueData:{code:c$.invalid_arguments,argumentsError:z}})}function K(Y,z){return G7({data:Y,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,T4(),T_].filter((H)=>!!H),issueData:{code:c$.invalid_return_type,returnTypeError:z}})}let P={errorMap:q.common.contextualErrorMap},O=q.data;if(this._def.returns instanceof NK){let Y=this;return Rq(async function(...z){let H=new eq([]),T=await Y._def.args.parseAsync(z,P).catch((k)=>{throw H.addIssue(_(z,k)),H}),f=await Reflect.apply(O,this,T);return await Y._def.returns._def.type.parseAsync(f,P).catch((k)=>{throw H.addIssue(K(f,k)),H})})}else{let Y=this;return Rq(function(...z){let H=Y._def.args.safeParse(z,P);if(!H.success)throw new eq([_(z,H.error)]);let T=Reflect.apply(O,this,H.data),f=Y._def.returns.safeParse(T,P);if(!f.success)throw new eq([K(T,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new Z4({...this._def,args:F8.create($).rest(t_.create())})}returns($){return new Z4({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,q,_){return new Z4({args:$?$:F8.create([]).rest(t_.create()),returns:q||t_.create(),typeName:m$.ZodFunction,...v6(_)})}}class S4 extends T6{get schema(){return this._def.getter()}_parse($){let{ctx:q}=this._processInputParams($);return this._def.getter()._parse({data:q.data,path:q.path,parent:q})}}S4.create=($,q)=>{return new S4({getter:$,typeName:m$.ZodLazy,...v6(q)})};class M4 extends T6{_parse($){if($.data!==this._def.value){let q=this._getOrReturnCtx($);return t$(q,{received:q.data,code:c$.invalid_literal,expected:this._def.value}),q6}return{status:"valid",value:$.data}}get value(){return this._def.value}}M4.create=($,q)=>{return new M4({value:$,typeName:m$.ZodLiteral,...v6(q)})};function sA($,q){return new a_({values:$,typeName:m$.ZodEnum,...v6(q)})}class a_ extends T6{_parse($){if(typeof $.data!=="string"){let q=this._getOrReturnCtx($),_=this._def.values;return t$(q,{expected:A6.joinValues(_),received:q.parsedType,code:c$.invalid_type}),q6}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has($.data)){let q=this._getOrReturnCtx($),_=this._def.values;return t$(q,{received:q.data,code:c$.invalid_enum_value,options:_}),q6}return Rq($.data)}get options(){return this._def.values}get enum(){let $={};for(let q of this._def.values)$[q]=q;return $}get Values(){let $={};for(let q of this._def.values)$[q]=q;return $}get Enum(){let $={};for(let q of this._def.values)$[q]=q;return $}extract($,q=this._def){return a_.create($,{...this._def,...q})}exclude($,q=this._def){return a_.create(this.options.filter((_)=>!$.includes(_)),{...this._def,...q})}}a_.create=sA;class N4 extends T6{_parse($){let q=A6.getValidEnumValues(this._def.values),_=this._getOrReturnCtx($);if(_.parsedType!==n$.string&&_.parsedType!==n$.number){let K=A6.objectValues(q);return t$(_,{expected:A6.joinValues(K),received:_.parsedType,code:c$.invalid_type}),q6}if(!this._cache)this._cache=new Set(A6.getValidEnumValues(this._def.values));if(!this._cache.has($.data)){let K=A6.objectValues(q);return t$(_,{received:_.data,code:c$.invalid_enum_value,options:K}),q6}return Rq($.data)}get enum(){return this._def.values}}N4.create=($,q)=>{return new N4({values:$,typeName:m$.ZodNativeEnum,...v6(q)})};class NK extends T6{unwrap(){return this._def.type}_parse($){let{ctx:q}=this._processInputParams($);if(q.parsedType!==n$.promise&&q.common.async===!1)return t$(q,{code:c$.invalid_type,expected:n$.promise,received:q.parsedType}),q6;let _=q.parsedType===n$.promise?q.data:Promise.resolve(q.data);return Rq(_.then((K)=>{return this._def.type.parseAsync(K,{path:q.path,errorMap:q.common.contextualErrorMap})}))}}NK.create=($,q)=>{return new NK({type:$,typeName:m$.ZodPromise,...v6(q)})};class y8 extends T6{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:q,ctx:_}=this._processInputParams($),K=this._def.effect||null,P={addIssue:(O)=>{if(t$(_,O),O.fatal)q.abort();else q.dirty()},get path(){return _.path}};if(P.addIssue=P.addIssue.bind(P),K.type==="preprocess"){let O=K.transform(_.data,P);if(_.common.async)return Promise.resolve(O).then(async(Y)=>{if(q.value==="aborted")return q6;let z=await this._def.schema._parseAsync({data:Y,path:_.path,parent:_});if(z.status==="aborted")return q6;if(z.status==="dirty")return GK(z.value);if(q.value==="dirty")return GK(z.value);return z});else{if(q.value==="aborted")return q6;let Y=this._def.schema._parseSync({data:O,path:_.path,parent:_});if(Y.status==="aborted")return q6;if(Y.status==="dirty")return GK(Y.value);if(q.value==="dirty")return GK(Y.value);return Y}}if(K.type==="refinement"){let O=(Y)=>{let z=K.refinement(Y,P);if(_.common.async)return Promise.resolve(z);if(z instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Y};if(_.common.async===!1){let Y=this._def.schema._parseSync({data:_.data,path:_.path,parent:_});if(Y.status==="aborted")return q6;if(Y.status==="dirty")q.dirty();return O(Y.value),{status:q.value,value:Y.value}}else return this._def.schema._parseAsync({data:_.data,path:_.path,parent:_}).then((Y)=>{if(Y.status==="aborted")return q6;if(Y.status==="dirty")q.dirty();return O(Y.value).then(()=>{return{status:q.value,value:Y.value}})})}if(K.type==="transform")if(_.common.async===!1){let O=this._def.schema._parseSync({data:_.data,path:_.path,parent:_});if(!B_(O))return q6;let Y=K.transform(O.value,P);if(Y instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:q.value,value:Y}}else return this._def.schema._parseAsync({data:_.data,path:_.path,parent:_}).then((O)=>{if(!B_(O))return q6;return Promise.resolve(K.transform(O.value,P)).then((Y)=>({status:q.value,value:Y}))});A6.assertNever(K)}}y8.create=($,q,_)=>{return new y8({schema:$,typeName:m$.ZodEffects,effect:q,...v6(_)})};y8.createWithPreprocess=($,q,_)=>{return new y8({schema:q,effect:{type:"preprocess",transform:$},typeName:m$.ZodEffects,...v6(_)})};class g8 extends T6{_parse($){if(this._getType($)===n$.undefined)return Rq(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}g8.create=($,q)=>{return new g8({innerType:$,typeName:m$.ZodOptional,...v6(q)})};class f_ extends T6{_parse($){if(this._getType($)===n$.null)return Rq(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}f_.create=($,q)=>{return new f_({innerType:$,typeName:m$.ZodNullable,...v6(q)})};class C4 extends T6{_parse($){let{ctx:q}=this._processInputParams($),_=q.data;if(q.parsedType===n$.undefined)_=this._def.defaultValue();return this._def.innerType._parse({data:_,path:q.path,parent:q})}removeDefault(){return this._def.innerType}}C4.create=($,q)=>{return new C4({innerType:$,typeName:m$.ZodDefault,defaultValue:typeof q.default==="function"?q.default:()=>q.default,...v6(q)})};class E4 extends T6{_parse($){let{ctx:q}=this._processInputParams($),_={...q,common:{...q.common,issues:[]}},K=this._def.innerType._parse({data:_.data,path:_.path,parent:{..._}});if(w4(K))return K.then((P)=>{return{status:"valid",value:P.status==="valid"?P.value:this._def.catchValue({get error(){return new eq(_.common.issues)},input:_.data})}});else return{status:"valid",value:K.status==="valid"?K.value:this._def.catchValue({get error(){return new eq(_.common.issues)},input:_.data})}}removeCatch(){return this._def.innerType}}E4.create=($,q)=>{return new E4({innerType:$,typeName:m$.ZodCatch,catchValue:typeof q.catch==="function"?q.catch:()=>q.catch,...v6(q)})};class C7 extends T6{_parse($){if(this._getType($)!==n$.nan){let _=this._getOrReturnCtx($);return t$(_,{code:c$.invalid_type,expected:n$.nan,received:_.parsedType}),q6}return{status:"valid",value:$.data}}}C7.create=($)=>{return new C7({typeName:m$.ZodNaN,...v6($)})};var ub=Symbol("zod_brand");class G5 extends T6{_parse($){let{ctx:q}=this._processInputParams($),_=q.data;return this._def.type._parse({data:_,path:q.path,parent:q})}unwrap(){return this._def.type}}class E7 extends T6{_parse($){let{status:q,ctx:_}=this._processInputParams($);if(_.common.async)return(async()=>{let P=await this._def.in._parseAsync({data:_.data,path:_.path,parent:_});if(P.status==="aborted")return q6;if(P.status==="dirty")return q.dirty(),GK(P.value);else return this._def.out._parseAsync({data:P.value,path:_.path,parent:_})})();else{let K=this._def.in._parseSync({data:_.data,path:_.path,parent:_});if(K.status==="aborted")return q6;if(K.status==="dirty")return q.dirty(),{status:"dirty",value:K.value};else return this._def.out._parseSync({data:K.value,path:_.path,parent:_})}}static create($,q){return new E7({in:$,out:q,typeName:m$.ZodPipeline})}}class h4 extends T6{_parse($){let q=this._def.innerType._parse($),_=(K)=>{if(B_(K))K.value=Object.freeze(K.value);return K};return w4(q)?q.then((K)=>_(K)):_(q)}unwrap(){return this._def.innerType}}h4.create=($,q)=>{return new h4({innerType:$,typeName:m$.ZodReadonly,...v6(q)})};function FA($,q){let _=typeof $==="function"?$(q):typeof $==="string"?{message:$}:$;return typeof _==="string"?{message:_}:_}function $k($,q={},_){if($)return SK.create().superRefine((K,P)=>{let O=$(K);if(O instanceof Promise)return O.then((Y)=>{if(!Y){let z=FA(q,K),H=z.fatal??_??!0;P.addIssue({code:"custom",...z,fatal:H})}});if(!O){let Y=FA(q,K),z=Y.fatal??_??!0;P.addIssue({code:"custom",...Y,fatal:z})}return});return SK.create()}var xb={object:u6.lazycreate},m$;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(m$||(m$={}));var pb=($,q={message:`Input not instance of ${$.name}`})=>$k((_)=>_ instanceof $,q),qk=D8.create,_k=U_.create,cb=C7.create,mb=F_.create,Kk=X4.create,db=VK.create,lb=V7.create,rb=A4.create,ob=k4.create,nb=SK.create,ib=t_.create,Bb=U8.create,tb=S7.create,Ub=L8.create,Fb=u6.create,ab=u6.strictCreate,Qb=G4.create,eb=k5.create,sb=V4.create,$y=F8.create,qy=M7.create,_y=N7.create,Ky=MK.create,Py=Z4.create,Oy=S4.create,Yy=M4.create,jy=a_.create,vy=N4.create,zy=NK.create,Wy=y8.create,Jy=g8.create,Hy=f_.create,Ty=y8.createWithPreprocess,wy=E7.create,fy=()=>qk().optional(),Zy=()=>_k().optional(),Xy=()=>Kk().optional(),Ay={string:($)=>D8.create({...$,coerce:!0}),number:($)=>U_.create({...$,coerce:!0}),boolean:($)=>X4.create({...$,coerce:!0}),bigint:($)=>F_.create({...$,coerce:!0}),date:($)=>VK.create({...$,coerce:!0})};var ky=q6;function Jz($,q){let _={type:"array"};if($.type?._def&&$.type?._def?.typeName!==m$.ZodAny)_.items=_6($.type._def,{...q,currentPath:[...q.currentPath,"items"]});if($.minLength)G6(_,"minItems",$.minLength.value,$.minLength.message,q);if($.maxLength)G6(_,"maxItems",$.maxLength.value,$.maxLength.message,q);if($.exactLength)G6(_,"minItems",$.exactLength.value,$.exactLength.message,q),G6(_,"maxItems",$.exactLength.value,$.exactLength.message,q);return _}function Hz($,q){let _={type:"integer",format:"int64"};if(!$.checks)return _;for(let K of $.checks)switch(K.kind){case"min":if(q.target==="jsonSchema7")if(K.inclusive)G6(_,"minimum",K.value,K.message,q);else G6(_,"exclusiveMinimum",K.value,K.message,q);else{if(!K.inclusive)_.exclusiveMinimum=!0;G6(_,"minimum",K.value,K.message,q)}break;case"max":if(q.target==="jsonSchema7")if(K.inclusive)G6(_,"maximum",K.value,K.message,q);else G6(_,"exclusiveMaximum",K.value,K.message,q);else{if(!K.inclusive)_.exclusiveMaximum=!0;G6(_,"maximum",K.value,K.message,q)}break;case"multipleOf":G6(_,"multipleOf",K.value,K.message,q);break}return _}function Tz(){return{type:"boolean"}}function h7($,q){return _6($.type._def,q)}var wz=($,q)=>{return _6($.innerType._def,q)};function V5($,q,_){let K=_??q.dateStrategy;if(Array.isArray(K))return{anyOf:K.map((P)=>V5($,q,P))};switch(K){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Gy($,q)}}var Gy=($,q)=>{let _={type:"integer",format:"unix-time"};if(q.target==="openApi3")return _;for(let K of $.checks)switch(K.kind){case"min":G6(_,"minimum",K.value,K.message,q);break;case"max":G6(_,"maximum",K.value,K.message,q);break}return _};function fz($,q){return{..._6($.innerType._def,q),default:$.defaultValue()}}function Zz($,q){return q.effectStrategy==="input"?_6($.schema._def,q):D6(q)}function Xz($){return{type:"string",enum:Array.from($.values)}}var Vy=($)=>{if("type"in $&&$.type==="string")return!1;return"allOf"in $};function Az($,q){let _=[_6($.left._def,{...q,currentPath:[...q.currentPath,"allOf","0"]}),_6($.right._def,{...q,currentPath:[...q.currentPath,"allOf","1"]})].filter((O)=>!!O),K=q.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,P=[];return _.forEach((O)=>{if(Vy(O)){if(P.push(...O.allOf),O.unevaluatedProperties===void 0)K=void 0}else{let Y=O;if("additionalProperties"in O&&O.additionalProperties===!1){let{additionalProperties:z,...H}=O;Y=H}else K=void 0;P.push(Y)}}),P.length?{allOf:P,...K}:void 0}function kz($,q){let _=typeof $.value;if(_!=="bigint"&&_!=="number"&&_!=="boolean"&&_!=="string")return{type:Array.isArray($.value)?"array":"object"};if(q.target==="openApi3")return{type:_==="bigint"?"integer":_,enum:[$.value]};return{type:_==="bigint"?"integer":_,const:$.value}}var Gz=void 0,A8={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>{if(Gz===void 0)Gz=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u");return Gz},uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function R7($,q){let _={type:"string"};if($.checks)for(let K of $.checks)switch(K.kind){case"min":G6(_,"minLength",typeof _.minLength==="number"?Math.max(_.minLength,K.value):K.value,K.message,q);break;case"max":G6(_,"maxLength",typeof _.maxLength==="number"?Math.min(_.maxLength,K.value):K.value,K.message,q);break;case"email":switch(q.emailStrategy){case"format:email":u8(_,"email",K.message,q);break;case"format:idn-email":u8(_,"idn-email",K.message,q);break;case"pattern:zod":xq(_,A8.email,K.message,q);break}break;case"url":u8(_,"uri",K.message,q);break;case"uuid":u8(_,"uuid",K.message,q);break;case"regex":xq(_,K.regex,K.message,q);break;case"cuid":xq(_,A8.cuid,K.message,q);break;case"cuid2":xq(_,A8.cuid2,K.message,q);break;case"startsWith":xq(_,RegExp(`^${Vz(K.value,q)}`),K.message,q);break;case"endsWith":xq(_,RegExp(`${Vz(K.value,q)}$`),K.message,q);break;case"datetime":u8(_,"date-time",K.message,q);break;case"date":u8(_,"date",K.message,q);break;case"time":u8(_,"time",K.message,q);break;case"duration":u8(_,"duration",K.message,q);break;case"length":G6(_,"minLength",typeof _.minLength==="number"?Math.max(_.minLength,K.value):K.value,K.message,q),G6(_,"maxLength",typeof _.maxLength==="number"?Math.min(_.maxLength,K.value):K.value,K.message,q);break;case"includes":xq(_,RegExp(Vz(K.value,q)),K.message,q);break;case"ip":if(K.version!=="v6")u8(_,"ipv4",K.message,q);if(K.version!=="v4")u8(_,"ipv6",K.message,q);break;case"base64url":xq(_,A8.base64url,K.message,q);break;case"jwt":xq(_,A8.jwt,K.message,q);break;case"cidr":if(K.version!=="v6")xq(_,A8.ipv4Cidr,K.message,q);if(K.version!=="v4")xq(_,A8.ipv6Cidr,K.message,q);break;case"emoji":xq(_,A8.emoji(),K.message,q);break;case"ulid":xq(_,A8.ulid,K.message,q);break;case"base64":switch(q.base64Strategy){case"format:binary":u8(_,"binary",K.message,q);break;case"contentEncoding:base64":G6(_,"contentEncoding","base64",K.message,q);break;case"pattern:zod":xq(_,A8.base64,K.message,q);break}break;case"nanoid":xq(_,A8.nanoid,K.message,q);break;case"toLowerCase":case"toUpperCase":case"trim":break;default:((P)=>{})(K)}return _}function Vz($,q){return q.patternStrategy==="escape"?My($):$}var Sy=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function My($){let q="";for(let _=0;_<$.length;_++){if(!Sy.has($[_]))q+="\\";q+=$[_]}return q}function u8($,q,_,K){if($.format||$.anyOf?.some((P)=>P.format)){if(!$.anyOf)$.anyOf=[];if($.format){if($.anyOf.push({format:$.format,...$.errorMessage&&K.errorMessages&&{errorMessage:{format:$.errorMessage.format}}}),delete $.format,$.errorMessage){if(delete $.errorMessage.format,Object.keys($.errorMessage).length===0)delete $.errorMessage}}$.anyOf.push({format:q,..._&&K.errorMessages&&{errorMessage:{format:_}}})}else G6($,"format",q,_,K)}function xq($,q,_,K){if($.pattern||$.allOf?.some((P)=>P.pattern)){if(!$.allOf)$.allOf=[];if($.pattern){if($.allOf.push({pattern:$.pattern,...$.errorMessage&&K.errorMessages&&{errorMessage:{pattern:$.errorMessage.pattern}}}),delete $.pattern,$.errorMessage){if(delete $.errorMessage.pattern,Object.keys($.errorMessage).length===0)delete $.errorMessage}}$.allOf.push({pattern:Pk(q,K),..._&&K.errorMessages&&{errorMessage:{pattern:_}}})}else G6($,"pattern",Pk(q,K),_,K)}function Pk($,q){if(!q.applyRegexFlags||!$.flags)return $.source;let _={i:$.flags.includes("i"),m:$.flags.includes("m"),s:$.flags.includes("s")},K=_.i?$.source.toLowerCase():$.source,P="",O=!1,Y=!1,z=!1;for(let H=0;H<K.length;H++){if(O){P+=K[H],O=!1;continue}if(_.i){if(Y){if(K[H].match(/[a-z]/)){if(z)P+=K[H],P+=`${K[H-2]}-${K[H]}`.toUpperCase(),z=!1;else if(K[H+1]==="-"&&K[H+2]?.match(/[a-z]/))P+=K[H],z=!0;else P+=`${K[H]}${K[H].toUpperCase()}`;continue}}else if(K[H].match(/[a-z]/)){P+=`[${K[H]}${K[H].toUpperCase()}]`;continue}}if(_.m){if(K[H]==="^"){P+=`(^|(?<=[\r
]))`;continue}else if(K[H]==="$"){P+=`($|(?=[\r
]))`;continue}}if(_.s&&K[H]==="."){P+=Y?`${K[H]}\r
`:`[${K[H]}\r
]`;continue}if(P+=K[H],K[H]==="\\")O=!0;else if(Y&&K[H]==="]")Y=!1;else if(!Y&&K[H]==="[")Y=!0}try{new RegExp(P)}catch{return console.warn(`Could not convert regex pattern at ${q.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),$.source}return P}function I7($,q){if(q.target==="openAi")console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.");if(q.target==="openApi3"&&$.keyType?._def.typeName===m$.ZodEnum)return{type:"object",required:$.keyType._def.values,properties:$.keyType._def.values.reduce((K,P)=>({...K,[P]:_6($.valueType._def,{...q,currentPath:[...q.currentPath,"properties",P]})??D6(q)}),{}),additionalProperties:q.rejectedAdditionalProperties};let _={type:"object",additionalProperties:_6($.valueType._def,{...q,currentPath:[...q.currentPath,"additionalProperties"]})??q.allowedAdditionalProperties};if(q.target==="openApi3")return _;if($.keyType?._def.typeName===m$.ZodString&&$.keyType._def.checks?.length){let{type:K,...P}=R7($.keyType._def,q);return{..._,propertyNames:P}}else if($.keyType?._def.typeName===m$.ZodEnum)return{..._,propertyNames:{enum:$.keyType._def.values}};else if($.keyType?._def.typeName===m$.ZodBranded&&$.keyType._def.type._def.typeName===m$.ZodString&&$.keyType._def.type._def.checks?.length){let{type:K,...P}=h7($.keyType._def,q);return{..._,propertyNames:P}}return _}function Sz($,q){if(q.mapStrategy==="record")return I7($,q);let _=_6($.keyType._def,{...q,currentPath:[...q.currentPath,"items","items","0"]})||D6(q),K=_6($.valueType._def,{...q,currentPath:[...q.currentPath,"items","items","1"]})||D6(q);return{type:"array",maxItems:125,items:{type:"array",items:[_,K],minItems:2,maxItems:2}}}function Mz($){let q=$.values,K=Object.keys($.values).filter((O)=>{return typeof q[q[O]]!=="number"}).map((O)=>q[O]),P=Array.from(new Set(K.map((O)=>typeof O)));return{type:P.length===1?P[0]==="string"?"string":"number":["string","number"],enum:K}}function Nz($){return $.target==="openAi"?void 0:{not:D6({...$,currentPath:[...$.currentPath,"not"]})}}function Cz($){return $.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var R4={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ez($,q){if(q.target==="openApi3")return Ok($,q);let _=$.options instanceof Map?Array.from($.options.values()):$.options;if(_.every((K)=>(K._def.typeName in R4)&&(!K._def.checks||!K._def.checks.length))){let K=_.reduce((P,O)=>{let Y=R4[O._def.typeName];return Y&&!P.includes(Y)?[...P,Y]:P},[]);return{type:K.length>1?K:K[0]}}else if(_.every((K)=>K._def.typeName==="ZodLiteral"&&!K.description)){let K=_.reduce((P,O)=>{let Y=typeof O._def.value;switch(Y){case"string":case"number":case"boolean":return[...P,Y];case"bigint":return[...P,"integer"];case"object":if(O._def.value===null)return[...P,"null"];return P;case"symbol":case"undefined":case"function":default:return P}},[]);if(K.length===_.length){let P=K.filter((O,Y,z)=>z.indexOf(O)===Y);return{type:P.length>1?P:P[0],enum:_.reduce((O,Y)=>{return O.includes(Y._def.value)?O:[...O,Y._def.value]},[])}}}else if(_.every((K)=>K._def.typeName==="ZodEnum"))return{type:"string",enum:_.reduce((K,P)=>[...K,...P._def.values.filter((O)=>!K.includes(O))],[])};return Ok($,q)}var Ok=($,q)=>{let _=($.options instanceof Map?Array.from($.options.values()):$.options).map((K,P)=>_6(K._def,{...q,currentPath:[...q.currentPath,"anyOf",`${P}`]})).filter((K)=>!!K&&(!q.strictUnions||typeof K==="object"&&Object.keys(K).length>0));return _.length?{anyOf:_}:void 0};function hz($,q){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes($.innerType._def.typeName)&&(!$.innerType._def.checks||!$.innerType._def.checks.length)){if(q.target==="openApi3")return{type:R4[$.innerType._def.typeName],nullable:!0};return{type:[R4[$.innerType._def.typeName],"null"]}}if(q.target==="openApi3"){let K=_6($.innerType._def,{...q,currentPath:[...q.currentPath]});if(K&&"$ref"in K)return{allOf:[K],nullable:!0};return K&&{...K,nullable:!0}}let _=_6($.innerType._def,{...q,currentPath:[...q.currentPath,"anyOf","0"]});return _&&{anyOf:[_,{type:"null"}]}}function Rz($,q){let _={type:"number"};if(!$.checks)return _;for(let K of $.checks)switch(K.kind){case"int":_.type="integer",Z5(_,"type",K.message,q);break;case"min":if(q.target==="jsonSchema7")if(K.inclusive)G6(_,"minimum",K.value,K.message,q);else G6(_,"exclusiveMinimum",K.value,K.message,q);else{if(!K.inclusive)_.exclusiveMinimum=!0;G6(_,"minimum",K.value,K.message,q)}break;case"max":if(q.target==="jsonSchema7")if(K.inclusive)G6(_,"maximum",K.value,K.message,q);else G6(_,"exclusiveMaximum",K.value,K.message,q);else{if(!K.inclusive)_.exclusiveMaximum=!0;G6(_,"maximum",K.value,K.message,q)}break;case"multipleOf":G6(_,"multipleOf",K.value,K.message,q);break}return _}function Iz($,q){let _=q.target==="openAi",K={type:"object",properties:{}},P=[],O=$.shape();for(let z in O){let H=O[z];if(H===void 0||H._def===void 0)continue;let T=Cy(H);if(T&&_){if(H._def.typeName==="ZodOptional")H=H._def.innerType;if(!H.isNullable())H=H.nullable();T=!1}let f=_6(H._def,{...q,currentPath:[...q.currentPath,"properties",z],propertyPath:[...q.currentPath,"properties",z]});if(f===void 0)continue;if(K.properties[z]=f,!T)P.push(z)}if(P.length)K.required=P;let Y=Ny($,q);if(Y!==void 0)K.additionalProperties=Y;return K}function Ny($,q){if($.catchall._def.typeName!=="ZodNever")return _6($.catchall._def,{...q,currentPath:[...q.currentPath,"additionalProperties"]});switch($.unknownKeys){case"passthrough":return q.allowedAdditionalProperties;case"strict":return q.rejectedAdditionalProperties;case"strip":return q.removeAdditionalStrategy==="strict"?q.allowedAdditionalProperties:q.rejectedAdditionalProperties}}function Cy($){try{return $.isOptional()}catch{return!0}}var Dz=($,q)=>{if(q.currentPath.toString()===q.propertyPath?.toString())return _6($.innerType._def,q);let _=_6($.innerType._def,{...q,currentPath:[...q.currentPath,"anyOf","1"]});return _?{anyOf:[{not:D6(q)},_]}:D6(q)};var Lz=($,q)=>{if(q.pipeStrategy==="input")return _6($.in._def,q);else if(q.pipeStrategy==="output")return _6($.out._def,q);let _=_6($.in._def,{...q,currentPath:[...q.currentPath,"allOf","0"]}),K=_6($.out._def,{...q,currentPath:[...q.currentPath,"allOf",_?"1":"0"]});return{allOf:[_,K].filter((P)=>P!==void 0)}};function gz($,q){return _6($.type._def,q)}function bz($,q){let K={type:"array",uniqueItems:!0,items:_6($.valueType._def,{...q,currentPath:[...q.currentPath,"items"]})};if($.minSize)G6(K,"minItems",$.minSize.value,$.minSize.message,q);if($.maxSize)G6(K,"maxItems",$.maxSize.value,$.maxSize.message,q);return K}function yz($,q){if($.rest)return{type:"array",minItems:$.items.length,items:$.items.map((_,K)=>_6(_._def,{...q,currentPath:[...q.currentPath,"items",`${K}`]})).reduce((_,K)=>K===void 0?_:[..._,K],[]),additionalItems:_6($.rest._def,{...q,currentPath:[...q.currentPath,"additionalItems"]})};else return{type:"array",minItems:$.items.length,maxItems:$.items.length,items:$.items.map((_,K)=>_6(_._def,{...q,currentPath:[...q.currentPath,"items",`${K}`]})).reduce((_,K)=>K===void 0?_:[..._,K],[])}}function uz($){return{not:D6($)}}function xz($){return D6($)}var pz=($,q)=>{return _6($.innerType._def,q)};var cz=($,q,_)=>{switch(q){case m$.ZodString:return R7($,_);case m$.ZodNumber:return Rz($,_);case m$.ZodObject:return Iz($,_);case m$.ZodBigInt:return Hz($,_);case m$.ZodBoolean:return Tz();case m$.ZodDate:return V5($,_);case m$.ZodUndefined:return uz(_);case m$.ZodNull:return Cz(_);case m$.ZodArray:return Jz($,_);case m$.ZodUnion:case m$.ZodDiscriminatedUnion:return Ez($,_);case m$.ZodIntersection:return Az($,_);case m$.ZodTuple:return yz($,_);case m$.ZodRecord:return I7($,_);case m$.ZodLiteral:return kz($,_);case m$.ZodEnum:return Xz($);case m$.ZodNativeEnum:return Mz($);case m$.ZodNullable:return hz($,_);case m$.ZodOptional:return Dz($,_);case m$.ZodMap:return Sz($,_);case m$.ZodSet:return bz($,_);case m$.ZodLazy:return()=>$.getter()._def;case m$.ZodPromise:return gz($,_);case m$.ZodNaN:case m$.ZodNever:return Nz(_);case m$.ZodEffects:return Zz($,_);case m$.ZodAny:return D6(_);case m$.ZodUnknown:return xz(_);case m$.ZodDefault:return fz($,_);case m$.ZodBranded:return h7($,_);case m$.ZodReadonly:return pz($,_);case m$.ZodCatch:return wz($,_);case m$.ZodPipeline:return Lz($,_);case m$.ZodFunction:case m$.ZodVoid:case m$.ZodSymbol:return;default:return((K)=>{return})(q)}};function _6($,q,_=!1){let K=q.seen.get($);if(q.override){let z=q.override?.($,q,K,_);if(z!==Oz)return z}if(K&&!_){let z=Ey(K,q);if(z!==void 0)return z}let P={def:$,path:q.currentPath,jsonSchema:void 0};q.seen.set($,P);let O=cz($,$.typeName,q),Y=typeof O==="function"?_6(O(),q):O;if(Y)hy($,q,Y);if(q.postProcess){let z=q.postProcess(Y,$,q);return P.jsonSchema=Y,z}return P.jsonSchema=Y,Y}var Ey=($,q)=>{switch(q.$refStrategy){case"root":return{$ref:$.path.join("/")};case"relative":return{$ref:k7(q.currentPath,$.path)};case"none":case"seen":if($.path.length<q.currentPath.length&&$.path.every((_,K)=>q.currentPath[K]===_))return console.warn(`Recursive reference detected at ${q.currentPath.join("/")}! Defaulting to any`),D6(q);return q.$refStrategy==="seen"?D6(q):void 0}},hy=($,q,_)=>{if($.description){if(_.description=$.description,q.markdownDescription)_.markdownDescription=$.description}return _};var mz=($,q)=>{let _=jz(q),K=typeof q==="object"&&q.definitions?Object.entries(q.definitions).reduce((H,[T,f])=>({...H,[T]:_6(f._def,{..._,currentPath:[..._.basePath,_.definitionPath,T]},!0)??D6(_)}),{}):void 0,P=typeof q==="string"?q:q?.nameStrategy==="title"?void 0:q?.name,O=_6($._def,P===void 0?_:{..._,currentPath:[..._.basePath,_.definitionPath,P]},!1)??D6(_),Y=typeof q==="object"&&q.name!==void 0&&q.nameStrategy==="title"?q.name:void 0;if(Y!==void 0)O.title=Y;if(_.flags.hasReferencedOpenAiAnyType){if(!K)K={};if(!K[_.openAiAnyTypeName])K[_.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:_.$refStrategy==="relative"?"1":[..._.basePath,_.definitionPath,_.openAiAnyTypeName].join("/")}}}let z=P===void 0?K?{...O,[_.definitionPath]:K}:O:{$ref:[..._.$refStrategy==="relative"?[]:_.basePath,_.definitionPath,P].join("/"),[_.definitionPath]:{...K,[P]:O}};if(_.target==="jsonSchema7")z.$schema="http://json-schema.org/draft-07/schema#";else if(_.target==="jsonSchema2019-09"||_.target==="openAi")z.$schema="https://json-schema.org/draft/2019-09/schema#";if(_.target==="openAi"&&(("anyOf"in z)||("oneOf"in z)||("allOf"in z)||("type"in z)&&Array.isArray(z.type)))console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.");return z};function Q_($,q){let _=typeof $;if(_!==typeof q)return!1;if(Array.isArray($)){if(!Array.isArray(q))return!1;let K=$.length;if(K!==q.length)return!1;for(let P=0;P<K;P++)if(!Q_($[P],q[P]))return!1;return!0}if(_==="object"){if(!$||!q)return $===q;let K=Object.keys($),P=Object.keys(q);if(K.length!==P.length)return!1;for(let Y of K)if(!Q_($[Y],q[Y]))return!1;return!0}return $===q}function Y8($){return encodeURI(Ry($))}function Ry($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}var Iy={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Dy={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Ly={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},gy=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function x8($,q=Object.create(null),_=gy,K=""){if($&&typeof $==="object"&&!Array.isArray($)){let O=$.$id||$.id;if(O){let Y=new URL(O,_.href);if(Y.hash.length>1)q[Y.href]=$;else if(Y.hash="",K==="")_=Y;else x8($,q,_)}}else if($!==!0&&$!==!1)return q;let P=_.href+(K?"#"+K:"");if(q[P]!==void 0)throw Error(`Duplicate schema URI "${P}".`);if(q[P]=$,$===!0||$===!1)return q;if($.__absolute_uri__===void 0)Object.defineProperty($,"__absolute_uri__",{enumerable:!1,value:P});if($.$ref&&$.__absolute_ref__===void 0){let O=new URL($.$ref,_.href);O.hash=O.hash,Object.defineProperty($,"__absolute_ref__",{enumerable:!1,value:O.href})}if($.$recursiveRef&&$.__absolute_recursive_ref__===void 0){let O=new URL($.$recursiveRef,_.href);O.hash=O.hash,Object.defineProperty($,"__absolute_recursive_ref__",{enumerable:!1,value:O.href})}if($.$anchor){let O=new URL("#"+$.$anchor,_.href);q[O.href]=$}for(let O in $){if(Ly[O])continue;let Y=`${K}/${Y8(O)}`,z=$[O];if(Array.isArray(z)){if(Iy[O]){let H=z.length;for(let T=0;T<H;T++)x8(z[T],q,_,`${Y}/${T}`)}}else if(Dy[O])for(let H in z)x8(z[H],q,_,`${Y}/${Y8(H)}`);else x8(z,q,_,Y)}return q}var by=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,yy=[0,31,28,31,30,31,30,31,31,30,31,30,31],uy=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,xy=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,py=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,cy=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,my=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,dy=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ly=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ry=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,oy=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ny=($)=>{if($[0]==='"')return!1;let[q,_,...K]=$.split("@");if(!q||!_||K.length!==0||q.length>64||_.length>253)return!1;if(q[0]==="."||q.endsWith(".")||q.includes(".."))return!1;if(!/^[a-z0-9.-]+$/i.test(_)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(q))return!1;return _.split(".").every((P)=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(P))},iy=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,By=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,ty=($)=>$.length>1&&$.length<80&&(/^P\d+([.,]\d+)?W$/.test($)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test($)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test($));function a8($){return $.test.bind($)}var dz={date:Yk,time:jk.bind(void 0,!1),"date-time":ay,duration:ty,uri:sy,"uri-reference":a8(py),"uri-template":a8(cy),url:a8(my),email:ny,hostname:a8(xy),ipv4:a8(iy),ipv6:a8(By),regex:qu,uuid:a8(dy),"json-pointer":a8(ly),"json-pointer-uri-fragment":a8(ry),"relative-json-pointer":a8(oy)};function Uy($){return $%4===0&&($%100!==0||$%400===0)}function Yk($){let q=$.match(by);if(!q)return!1;let _=+q[1],K=+q[2],P=+q[3];return K>=1&&K<=12&&P>=1&&P<=(K==2&&Uy(_)?29:yy[K])}function jk($,q){let _=q.match(uy);if(!_)return!1;let K=+_[1],P=+_[2],O=+_[3],Y=!!_[5];return(K<=23&&P<=59&&O<=59||K==23&&P==59&&O==60)&&(!$||Y)}var Fy=/t|\s/i;function ay($){let q=$.split(Fy);return q.length==2&&Yk(q[0])&&jk(!0,q[1])}var Qy=/\/|:/,ey=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function sy($){return Qy.test($)&&ey.test($)}var $u=/[^\\]\\Z/;function qu($){if($u.test($))return!1;try{return new RegExp($,"u"),!0}catch(q){return!1}}function vk($){let q=0,_=$.length,K=0,P;while(K<_)if(q++,P=$.charCodeAt(K++),P>=55296&&P<=56319&&K<_){if(P=$.charCodeAt(K),(P&64512)==56320)K++}return q}function b6($,q,_="2019-09",K=x8(q),P=!0,O=null,Y="#",z="#",H=Object.create(null)){if(q===!0)return{valid:!0,errors:[]};if(q===!1)return{valid:!1,errors:[{instanceLocation:Y,keyword:"false",keywordLocation:Y,error:"False boolean schema."}]};let T=typeof $,f;switch(T){case"boolean":case"number":case"string":f=T;break;case"object":if($===null)f="null";else if(Array.isArray($))f="array";else f="object";break;default:throw Error(`Instances of "${T}" type are not supported.`)}let{$ref:w,$recursiveRef:k,$recursiveAnchor:S,type:N,const:h,enum:E,required:D,not:I,anyOf:L,allOf:g,oneOf:y,if:c,then:o,else:Q,format:U,properties:p,patternProperties:s,additionalProperties:j,unevaluatedProperties:J,minProperties:X,maxProperties:W,propertyNames:Z,dependentRequired:V,dependentSchemas:M,dependencies:A,prefixItems:v,items:G,additionalItems:R,unevaluatedItems:C,contains:b,minContains:x,maxContains:l,minItems:a,maxItems:f$,uniqueItems:q$,minimum:B,maximum:v$,exclusiveMinimum:e,exclusiveMaximum:P$,multipleOf:o$,minLength:m,maxLength:r,pattern:J$,__absolute_ref__:$$,__absolute_recursive_ref__:_$}=q,Y$=[];if(S===!0&&O===null)O=q;if(k==="#"){let n=O===null?K[_$]:O,H$=`${z}/$recursiveRef`,t=b6($,O===null?q:O,_,K,P,n,Y,H$,H);if(!t.valid)Y$.push({instanceLocation:Y,keyword:"$recursiveRef",keywordLocation:H$,error:"A subschema had errors."},...t.errors)}if(w!==void 0){let H$=K[$$||w];if(H$===void 0){let A$=`Unresolved $ref "${w}".`;if($$&&$$!==w)A$+=`  Absolute URI "${$$}".`;throw A$+=`
Known schemas:
- ${Object.keys(K).join(`
- `)}`,Error(A$)}let t=`${z}/$ref`,F=b6($,H$,_,K,P,O,Y,t,H);if(!F.valid)Y$.push({instanceLocation:Y,keyword:"$ref",keywordLocation:t,error:"A subschema had errors."},...F.errors);if(_==="4"||_==="7")return{valid:Y$.length===0,errors:Y$}}if(Array.isArray(N)){let n=N.length,H$=!1;for(let t=0;t<n;t++)if(f===N[t]||N[t]==="integer"&&f==="number"&&$%1===0&&$===$){H$=!0;break}if(!H$)Y$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${z}/type`,error:`Instance type "${f}" is invalid. Expected "${N.join('", "')}".`})}else if(N==="integer"){if(f!=="number"||$%1||$!==$)Y$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${z}/type`,error:`Instance type "${f}" is invalid. Expected "${N}".`})}else if(N!==void 0&&f!==N)Y$.push({instanceLocation:Y,keyword:"type",keywordLocation:`${z}/type`,error:`Instance type "${f}" is invalid. Expected "${N}".`});if(h!==void 0){if(f==="object"||f==="array"){if(!Q_($,h))Y$.push({instanceLocation:Y,keyword:"const",keywordLocation:`${z}/const`,error:`Instance does not match ${JSON.stringify(h)}.`})}else if($!==h)Y$.push({instanceLocation:Y,keyword:"const",keywordLocation:`${z}/const`,error:`Instance does not match ${JSON.stringify(h)}.`})}if(E!==void 0){if(f==="object"||f==="array"){if(!E.some((n)=>Q_($,n)))Y$.push({instanceLocation:Y,keyword:"enum",keywordLocation:`${z}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`})}else if(!E.some((n)=>$===n))Y$.push({instanceLocation:Y,keyword:"enum",keywordLocation:`${z}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`})}if(I!==void 0){let n=`${z}/not`;if(b6($,I,_,K,P,O,Y,n).valid)Y$.push({instanceLocation:Y,keyword:"not",keywordLocation:n,error:'Instance matched "not" schema.'})}let d=[];if(L!==void 0){let n=`${z}/anyOf`,H$=Y$.length,t=!1;for(let F=0;F<L.length;F++){let A$=L[F],W$=Object.create(H),z$=b6($,A$,_,K,P,S===!0?O:null,Y,`${n}/${F}`,W$);if(Y$.push(...z$.errors),t=t||z$.valid,z$.valid)d.push(W$)}if(t)Y$.length=H$;else Y$.splice(H$,0,{instanceLocation:Y,keyword:"anyOf",keywordLocation:n,error:"Instance does not match any subschemas."})}if(g!==void 0){let n=`${z}/allOf`,H$=Y$.length,t=!0;for(let F=0;F<g.length;F++){let A$=g[F],W$=Object.create(H),z$=b6($,A$,_,K,P,S===!0?O:null,Y,`${n}/${F}`,W$);if(Y$.push(...z$.errors),t=t&&z$.valid,z$.valid)d.push(W$)}if(t)Y$.length=H$;else Y$.splice(H$,0,{instanceLocation:Y,keyword:"allOf",keywordLocation:n,error:"Instance does not match every subschema."})}if(y!==void 0){let n=`${z}/oneOf`,H$=Y$.length,t=y.filter((F,A$)=>{let W$=Object.create(H),z$=b6($,F,_,K,P,S===!0?O:null,Y,`${n}/${A$}`,W$);if(Y$.push(...z$.errors),z$.valid)d.push(W$);return z$.valid}).length;if(t===1)Y$.length=H$;else Y$.splice(H$,0,{instanceLocation:Y,keyword:"oneOf",keywordLocation:n,error:`Instance does not match exactly one subschema (${t} matches).`})}if(f==="object"||f==="array")Object.assign(H,...d);if(c!==void 0){let n=`${z}/if`;if(b6($,c,_,K,P,O,Y,n,H).valid){if(o!==void 0){let t=b6($,o,_,K,P,O,Y,`${z}/then`,H);if(!t.valid)Y$.push({instanceLocation:Y,keyword:"if",keywordLocation:n,error:'Instance does not match "then" schema.'},...t.errors)}}else if(Q!==void 0){let t=b6($,Q,_,K,P,O,Y,`${z}/else`,H);if(!t.valid)Y$.push({instanceLocation:Y,keyword:"if",keywordLocation:n,error:'Instance does not match "else" schema.'},...t.errors)}}if(f==="object"){if(D!==void 0){for(let F of D)if(!(F in $))Y$.push({instanceLocation:Y,keyword:"required",keywordLocation:`${z}/required`,error:`Instance does not have required property "${F}".`})}let n=Object.keys($);if(X!==void 0&&n.length<X)Y$.push({instanceLocation:Y,keyword:"minProperties",keywordLocation:`${z}/minProperties`,error:`Instance does not have at least ${X} properties.`});if(W!==void 0&&n.length>W)Y$.push({instanceLocation:Y,keyword:"maxProperties",keywordLocation:`${z}/maxProperties`,error:`Instance does not have at least ${W} properties.`});if(Z!==void 0){let F=`${z}/propertyNames`;for(let A$ in $){let W$=`${Y}/${Y8(A$)}`,z$=b6(A$,Z,_,K,P,O,W$,F);if(!z$.valid)Y$.push({instanceLocation:Y,keyword:"propertyNames",keywordLocation:F,error:`Property name "${A$}" does not match schema.`},...z$.errors)}}if(V!==void 0){let F=`${z}/dependantRequired`;for(let A$ in V)if(A$ in $){let W$=V[A$];for(let z$ of W$)if(!(z$ in $))Y$.push({instanceLocation:Y,keyword:"dependentRequired",keywordLocation:F,error:`Instance has "${A$}" but does not have "${z$}".`})}}if(M!==void 0)for(let F in M){let A$=`${z}/dependentSchemas`;if(F in $){let W$=b6($,M[F],_,K,P,O,Y,`${A$}/${Y8(F)}`,H);if(!W$.valid)Y$.push({instanceLocation:Y,keyword:"dependentSchemas",keywordLocation:A$,error:`Instance has "${F}" but does not match dependant schema.`},...W$.errors)}}if(A!==void 0){let F=`${z}/dependencies`;for(let A$ in A)if(A$ in $){let W$=A[A$];if(Array.isArray(W$)){for(let z$ of W$)if(!(z$ in $))Y$.push({instanceLocation:Y,keyword:"dependencies",keywordLocation:F,error:`Instance has "${A$}" but does not have "${z$}".`})}else{let z$=b6($,W$,_,K,P,O,Y,`${F}/${Y8(A$)}`);if(!z$.valid)Y$.push({instanceLocation:Y,keyword:"dependencies",keywordLocation:F,error:`Instance has "${A$}" but does not match dependant schema.`},...z$.errors)}}}let H$=Object.create(null),t=!1;if(p!==void 0){let F=`${z}/properties`;for(let A$ in p){if(!(A$ in $))continue;let W$=`${Y}/${Y8(A$)}`,z$=b6($[A$],p[A$],_,K,P,O,W$,`${F}/${Y8(A$)}`);if(z$.valid)H[A$]=H$[A$]=!0;else if(t=P,Y$.push({instanceLocation:Y,keyword:"properties",keywordLocation:F,error:`Property "${A$}" does not match schema.`},...z$.errors),t)break}}if(!t&&s!==void 0){let F=`${z}/patternProperties`;for(let A$ in s){let W$=new RegExp(A$,"u"),z$=s[A$];for(let Z6 in $){if(!W$.test(Z6))continue;let X$=`${Y}/${Y8(Z6)}`,k$=b6($[Z6],z$,_,K,P,O,X$,`${F}/${Y8(A$)}`);if(k$.valid)H[Z6]=H$[Z6]=!0;else t=P,Y$.push({instanceLocation:Y,keyword:"patternProperties",keywordLocation:F,error:`Property "${Z6}" matches pattern "${A$}" but does not match associated schema.`},...k$.errors)}}}if(!t&&j!==void 0){let F=`${z}/additionalProperties`;for(let A$ in $){if(H$[A$])continue;let W$=`${Y}/${Y8(A$)}`,z$=b6($[A$],j,_,K,P,O,W$,F);if(z$.valid)H[A$]=!0;else t=P,Y$.push({instanceLocation:Y,keyword:"additionalProperties",keywordLocation:F,error:`Property "${A$}" does not match additional properties schema.`},...z$.errors)}}else if(!t&&J!==void 0){let F=`${z}/unevaluatedProperties`;for(let A$ in $)if(!H[A$]){let W$=`${Y}/${Y8(A$)}`,z$=b6($[A$],J,_,K,P,O,W$,F);if(z$.valid)H[A$]=!0;else Y$.push({instanceLocation:Y,keyword:"unevaluatedProperties",keywordLocation:F,error:`Property "${A$}" does not match unevaluated properties schema.`},...z$.errors)}}}else if(f==="array"){if(f$!==void 0&&$.length>f$)Y$.push({instanceLocation:Y,keyword:"maxItems",keywordLocation:`${z}/maxItems`,error:`Array has too many items (${$.length} > ${f$}).`});if(a!==void 0&&$.length<a)Y$.push({instanceLocation:Y,keyword:"minItems",keywordLocation:`${z}/minItems`,error:`Array has too few items (${$.length} < ${a}).`});let n=$.length,H$=0,t=!1;if(v!==void 0){let F=`${z}/prefixItems`,A$=Math.min(v.length,n);for(;H$<A$;H$++){let W$=b6($[H$],v[H$],_,K,P,O,`${Y}/${H$}`,`${F}/${H$}`);if(H[H$]=!0,!W$.valid){if(t=P,Y$.push({instanceLocation:Y,keyword:"prefixItems",keywordLocation:F,error:"Items did not match schema."},...W$.errors),t)break}}}if(G!==void 0){let F=`${z}/items`;if(Array.isArray(G)){let A$=Math.min(G.length,n);for(;H$<A$;H$++){let W$=b6($[H$],G[H$],_,K,P,O,`${Y}/${H$}`,`${F}/${H$}`);if(H[H$]=!0,!W$.valid){if(t=P,Y$.push({instanceLocation:Y,keyword:"items",keywordLocation:F,error:"Items did not match schema."},...W$.errors),t)break}}}else for(;H$<n;H$++){let A$=b6($[H$],G,_,K,P,O,`${Y}/${H$}`,F);if(H[H$]=!0,!A$.valid){if(t=P,Y$.push({instanceLocation:Y,keyword:"items",keywordLocation:F,error:"Items did not match schema."},...A$.errors),t)break}}if(!t&&R!==void 0){let A$=`${z}/additionalItems`;for(;H$<n;H$++){let W$=b6($[H$],R,_,K,P,O,`${Y}/${H$}`,A$);if(H[H$]=!0,!W$.valid)t=P,Y$.push({instanceLocation:Y,keyword:"additionalItems",keywordLocation:A$,error:"Items did not match additional items schema."},...W$.errors)}}}if(b!==void 0)if(n===0&&x===void 0)Y$.push({instanceLocation:Y,keyword:"contains",keywordLocation:`${z}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(x!==void 0&&n<x)Y$.push({instanceLocation:Y,keyword:"minContains",keywordLocation:`${z}/minContains`,error:`Array has less items (${n}) than minContains (${x}).`});else{let F=`${z}/contains`,A$=Y$.length,W$=0;for(let z$=0;z$<n;z$++){let Z6=b6($[z$],b,_,K,P,O,`${Y}/${z$}`,F);if(Z6.valid)H[z$]=!0,W$++;else Y$.push(...Z6.errors)}if(W$>=(x||0))Y$.length=A$;if(x===void 0&&l===void 0&&W$===0)Y$.splice(A$,0,{instanceLocation:Y,keyword:"contains",keywordLocation:F,error:"Array does not contain item matching schema."});else if(x!==void 0&&W$<x)Y$.push({instanceLocation:Y,keyword:"minContains",keywordLocation:`${z}/minContains`,error:`Array must contain at least ${x} items matching schema. Only ${W$} items were found.`});else if(l!==void 0&&W$>l)Y$.push({instanceLocation:Y,keyword:"maxContains",keywordLocation:`${z}/maxContains`,error:`Array may contain at most ${l} items matching schema. ${W$} items were found.`})}if(!t&&C!==void 0){let F=`${z}/unevaluatedItems`;for(H$;H$<n;H$++){if(H[H$])continue;let A$=b6($[H$],C,_,K,P,O,`${Y}/${H$}`,F);if(H[H$]=!0,!A$.valid)Y$.push({instanceLocation:Y,keyword:"unevaluatedItems",keywordLocation:F,error:"Items did not match unevaluated items schema."},...A$.errors)}}if(q$)for(let F=0;F<n;F++){let A$=$[F],W$=typeof A$==="object"&&A$!==null;for(let z$=0;z$<n;z$++){if(F===z$)continue;let Z6=$[z$];if(A$===Z6||W$&&(typeof Z6==="object"&&Z6!==null)&&Q_(A$,Z6))Y$.push({instanceLocation:Y,keyword:"uniqueItems",keywordLocation:`${z}/uniqueItems`,error:`Duplicate items at indexes ${F} and ${z$}.`}),F=Number.MAX_SAFE_INTEGER,z$=Number.MAX_SAFE_INTEGER}}}else if(f==="number"){if(_==="4"){if(B!==void 0&&(e===!0&&$<=B||$<B))Y$.push({instanceLocation:Y,keyword:"minimum",keywordLocation:`${z}/minimum`,error:`${$} is less than ${e?"or equal to ":""} ${B}.`});if(v$!==void 0&&(P$===!0&&$>=v$||$>v$))Y$.push({instanceLocation:Y,keyword:"maximum",keywordLocation:`${z}/maximum`,error:`${$} is greater than ${P$?"or equal to ":""} ${v$}.`})}else{if(B!==void 0&&$<B)Y$.push({instanceLocation:Y,keyword:"minimum",keywordLocation:`${z}/minimum`,error:`${$} is less than ${B}.`});if(v$!==void 0&&$>v$)Y$.push({instanceLocation:Y,keyword:"maximum",keywordLocation:`${z}/maximum`,error:`${$} is greater than ${v$}.`});if(e!==void 0&&$<=e)Y$.push({instanceLocation:Y,keyword:"exclusiveMinimum",keywordLocation:`${z}/exclusiveMinimum`,error:`${$} is less than ${e}.`});if(P$!==void 0&&$>=P$)Y$.push({instanceLocation:Y,keyword:"exclusiveMaximum",keywordLocation:`${z}/exclusiveMaximum`,error:`${$} is greater than or equal to ${P$}.`})}if(o$!==void 0){let n=$%o$;if(Math.abs(0-n)>=0.00000011920929&&Math.abs(o$-n)>=0.00000011920929)Y$.push({instanceLocation:Y,keyword:"multipleOf",keywordLocation:`${z}/multipleOf`,error:`${$} is not a multiple of ${o$}.`})}}else if(f==="string"){let n=m===void 0&&r===void 0?0:vk($);if(m!==void 0&&n<m)Y$.push({instanceLocation:Y,keyword:"minLength",keywordLocation:`${z}/minLength`,error:`String is too short (${n} < ${m}).`});if(r!==void 0&&n>r)Y$.push({instanceLocation:Y,keyword:"maxLength",keywordLocation:`${z}/maxLength`,error:`String is too long (${n} > ${r}).`});if(J$!==void 0&&!new RegExp(J$,"u").test($))Y$.push({instanceLocation:Y,keyword:"pattern",keywordLocation:`${z}/pattern`,error:"String does not match pattern."});if(U!==void 0&&dz[U]&&!dz[U]($))Y$.push({instanceLocation:Y,keyword:"format",keywordLocation:`${z}/format`,error:`String does not match format "${U}".`})}return{valid:Y$.length===0,errors:Y$}}class lz{schema;draft;shortCircuit;lookup;constructor($,q="2019-09",_=!0){this.schema=$,this.draft=q,this.shortCircuit=_,this.lookup=x8($)}validate($){return b6($,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema($,q){if(q)$={...$,$id:q};x8($,this.lookup)}}var _u={};f6(_u,{Validator:()=>lz,deepCompareStrict:()=>Q_,toJsonSchema:()=>rz,validatesOnlyStrings:()=>S5});function rz($){if(X8($)){let q=nA($,!0);if(H4(q)){let _=f5(q,!0);return J4(_)}else return J4($)}if(H_($))return mz($);return $}function S5($){if(!$||typeof $!=="object"||Object.keys($).length===0||Array.isArray($))return!1;if("type"in $){if(typeof $.type==="string")return $.type==="string";if(Array.isArray($.type))return $.type.every((q)=>q==="string");return!1}if("enum"in $)return Array.isArray($.enum)&&$.enum.length>0&&$.enum.every((q)=>typeof q==="string");if("const"in $)return typeof $.const==="string";if("allOf"in $&&Array.isArray($.allOf))return $.allOf.some((q)=>S5(q));if("anyOf"in $&&Array.isArray($.anyOf)||"oneOf"in $&&Array.isArray($.oneOf)){let q="anyOf"in $?$.anyOf:$.oneOf;return q.length>0&&q.every((_)=>S5(_))}if("not"in $)return!1;if("$ref"in $&&typeof $.$ref==="string"){let q=$.$ref,_=x8($);if(_[q])return S5(_[q]);return!1}return!1}var Ku={};f6(Ku,{Graph:()=>M5});function Pu($,q){if($!==void 0&&!oK($))return $;else if(bP(q))try{let _=q.getName();return _=_.startsWith("Runnable")?_.slice(8):_,_}catch{return q.getName()}else return q.name??"UnknownSchema"}function Ou($){if(bP($.data))return{type:"runnable",data:{id:$.data.lc_id,name:$.data.getName()}};else return{type:"schema",data:{...rz($.data.schema),title:$.data.name}}}var M5=class ${nodes={};edges=[];constructor(q){this.nodes=q?.nodes??this.nodes,this.edges=q?.edges??this.edges}toJSON(){let q={};return Object.values(this.nodes).forEach((_,K)=>{q[_.id]=oK(_.id)?K:_.id}),{nodes:Object.values(this.nodes).map((_)=>({id:q[_.id],...Ou(_)})),edges:this.edges.map((_)=>{let K={source:q[_.source],target:q[_.target]};if(typeof _.data<"u")K.data=_.data;if(typeof _.conditional<"u")K.conditional=_.conditional;return K})}}addNode(q,_,K){if(_!==void 0&&this.nodes[_]!==void 0)throw Error(`Node with id ${_} already exists`);let P=_??Bq(),O={id:P,data:q,name:Pu(_,q),metadata:K};return this.nodes[P]=O,O}removeNode(q){delete this.nodes[q.id],this.edges=this.edges.filter((_)=>_.source!==q.id&&_.target!==q.id)}addEdge(q,_,K,P){if(this.nodes[q.id]===void 0)throw Error(`Source node ${q.id} not in graph`);if(this.nodes[_.id]===void 0)throw Error(`Target node ${_.id} not in graph`);let O={source:q.id,target:_.id,data:K,conditional:P};return this.edges.push(O),O}firstNode(){return zk(this)}lastNode(){return Wk(this)}extend(q,_=""){let K=_;if(Object.values(q.nodes).map((T)=>T.id).every(oK))K="";let O=(T)=>{return K?`${K}:${T}`:T};Object.entries(q.nodes).forEach(([T,f])=>{this.nodes[O(T)]={...f,id:O(T)}});let Y=q.edges.map((T)=>{return{...T,source:O(T.source),target:O(T.target)}});this.edges=[...this.edges,...Y];let z=q.firstNode(),H=q.lastNode();return[z?{id:O(z.id),data:z.data}:void 0,H?{id:O(H.id),data:H.data}:void 0]}trimFirstNode(){let q=this.firstNode();if(q&&zk(this,[q.id]))this.removeNode(q)}trimLastNode(){let q=this.lastNode();if(q&&Wk(this,[q.id]))this.removeNode(q)}reid(){let q=Object.fromEntries(Object.values(this.nodes).map((P)=>[P.id,P.name])),_=new Map;Object.values(q).forEach((P)=>{_.set(P,(_.get(P)||0)+1)});let K=(P)=>{let O=q[P];if(oK(P)&&_.get(O)===1)return O;else return P};return new $({nodes:Object.fromEntries(Object.entries(this.nodes).map(([P,O])=>[K(P),{...O,id:K(P)}])),edges:this.edges.map((P)=>({...P,source:K(P.source),target:K(P.target)}))})}drawMermaid(q){let{withStyles:_,curveStyle:K,nodeColors:P={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:O}=q??{},Y=this.reid(),z=Y.firstNode(),H=Y.lastNode();return iA(Y.nodes,Y.edges,{firstNode:z?.id,lastNode:H?.id,withStyles:_,curveStyle:K,nodeColors:P,wrapLabelNWords:O})}async drawMermaidPng(q){let _=this.drawMermaid(q);return BA(_,{backgroundColor:q?.backgroundColor})}};function zk($,q=[]){let _=new Set($.edges.filter((P)=>!q.includes(P.source)).map((P)=>P.target)),K=[];for(let P of Object.values($.nodes))if(!q.includes(P.id)&&!_.has(P.id))K.push(P);return K.length===1?K[0]:void 0}function Wk($,q=[]){let _=new Set($.edges.filter((P)=>!q.includes(P.target)).map((P)=>P.source)),K=[];for(let P of Object.values($.nodes))if(!q.includes(P.id)&&!_.has(P.id))K.push(P);return K.length===1?K[0]:void 0}function Jk($){let q=new TextEncoder,_=new ReadableStream({async start(K){for await(let P of $)K.enqueue(q.encode(`event: data
data: ${JSON.stringify(P)}

`));K.enqueue(q.encode(`event: end

`)),K.close()}});return yq.fromReadableStream(_)}function oz($){return typeof $==="object"&&$!==null&&typeof $[Symbol.iterator]==="function"&&typeof $.next==="function"}var Hk=($)=>$!=null&&typeof $==="object"&&("next"in $)&&typeof $.next==="function";function N5($){return typeof $==="object"&&$!==null&&typeof $[Symbol.asyncIterator]==="function"}function*nz($,q){while(!0){let{value:_,done:K}=Fq.runWithConfig(v_($),q.next.bind(q),!0);if(K)break;else yield _}}async function*C5($,q){let _=q[Symbol.asyncIterator]();while(!0){let{value:K,done:P}=await Fq.runWithConfig(v_($),_.next.bind(q),!0);if(P)break;else yield K}}function Jq($,q){return $&&!Array.isArray($)&&!($ instanceof Date)&&typeof $==="object"?$:{[q]:$}}var pq=class extends L_{lc_runnable=!0;name;getName($){let q=this.name??this.constructor.lc_name()??this.constructor.name;return $?`${q}${$}`:q}withRetry($){return new wk({bound:this,kwargs:{},config:{},maxAttemptNumber:$?.stopAfterAttempt,...$})}withConfig($){return new E5({bound:this,config:$,kwargs:{}})}withFallbacks($){let q=Array.isArray($)?$:$.fallbacks;return new vu({runnable:this,fallbacks:q})}_getOptionsList($,q=0){if(Array.isArray($)&&$.length!==q)throw Error(`Passed "options" must be an array with the same length as the inputs, but got ${$.length} options for ${q} inputs`);if(Array.isArray($))return $.map(N6);if(q>1&&!Array.isArray($)&&$.runId){console.warn("Provided runId will be used only for the first element of the batch.");let _=Object.fromEntries(Object.entries($).filter(([K])=>K!=="runId"));return Array.from({length:q},(K,P)=>N6(P===0?$:_))}return Array.from({length:q},()=>N6($))}async batch($,q,_){let K=this._getOptionsList(q??{},$.length),P=K[0]?.maxConcurrency??_?.maxConcurrency,O=new gP({maxConcurrency:P,onFailedAttempt:(z)=>{throw z}}),Y=$.map((z,H)=>O.call(async()=>{try{return await this.invoke(z,K[H])}catch(T){if(_?.returnExceptions)return T;throw T}}));return Promise.all(Y)}async*_streamIterator($,q){yield this.invoke($,q)}async stream($,q){let _=N6(q),K=new c_({generator:this._streamIterator($,_),config:_});return await K.setup,yq.fromAsyncGenerator(K)}_separateRunnableConfigFromCallOptions($){let q;if($===void 0)q=N6($);else q=N6({callbacks:$.callbacks,tags:$.tags,metadata:$.metadata,runName:$.runName,configurable:$.configurable,recursionLimit:$.recursionLimit,maxConcurrency:$.maxConcurrency,runId:$.runId,timeout:$.timeout,signal:$.signal});let _={...$};return delete _.callbacks,delete _.tags,delete _.metadata,delete _.runName,delete _.configurable,delete _.recursionLimit,delete _.maxConcurrency,delete _.runId,delete _.timeout,delete _.signal,[q,_]}async _callWithConfig($,q,_){let K=N6(_),O=await(await T8(K))?.handleChainStart(this.toJSON(),Jq(q,"input"),K.runId,K?.runType,void 0,void 0,K?.runName??this.getName());delete K.runId;let Y;try{let z=$.call(this,q,K,O);Y=await o8(z,_?.signal)}catch(z){throw await O?.handleChainError(z),z}return await O?.handleChainEnd(Jq(Y,"output")),Y}async _batchWithConfig($,q,_,K){let P=this._getOptionsList(_??{},q.length),O=await Promise.all(P.map(T8)),Y=await Promise.all(O.map(async(H,T)=>{let f=await H?.handleChainStart(this.toJSON(),Jq(q[T],"input"),P[T].runId,P[T].runType,void 0,void 0,P[T].runName??this.getName());return delete P[T].runId,f})),z;try{let H=$.call(this,q,P,Y,K);z=await o8(H,P?.[0]?.signal)}catch(H){throw await Promise.all(Y.map((T)=>T?.handleChainError(H))),H}return await Promise.all(Y.map((H)=>H?.handleChainEnd(Jq(z,"output")))),z}_concatOutputChunks($,q){return J9($,q)}async*_transformStreamWithConfig($,q,_){let K,P=!0,O,Y=!0,z=N6(_),H=await T8(z),T=this;async function*f(){for await(let k of $){if(P)if(K===void 0)K=k;else try{K=T._concatOutputChunks(K,k)}catch{K=void 0,P=!1}yield k}}let w;try{let k=await _Y(q.bind(this),f(),async()=>H?.handleChainStart(this.toJSON(),{input:""},z.runId,z.runType,void 0,void 0,z.runName??this.getName()),_?.signal,z);delete z.runId,w=k.setup;let S=w?.handlers.find(qA),N=k.output;if(S!==void 0&&w!==void 0)N=S.tapOutputIterable(w.runId,N);let h=w?.handlers.find(YY);if(h!==void 0&&w!==void 0)N=h.tapOutputIterable(w.runId,N);for await(let E of N)if(yield E,Y)if(O===void 0)O=E;else try{O=this._concatOutputChunks(O,E)}catch{O=void 0,Y=!1}}catch(k){throw await w?.handleChainError(k,void 0,void 0,void 0,{inputs:Jq(K,"input")}),k}await w?.handleChainEnd(O??{},void 0,void 0,void 0,{inputs:Jq(K,"input")})}getGraph($){let q=new M5,_=q.addNode({name:`${this.getName()}Input`,schema:CK.any()}),K=q.addNode(this),P=q.addNode({name:`${this.getName()}Output`,schema:CK.any()});return q.addEdge(_,K),q.addEdge(K,P),q}pipe($){return new fk({first:this,last:EK($)})}pick($){return this.pipe(new Wu($))}assign($){return this.pipe(new zu(new iz({steps:$})))}async*transform($,q){let _;for await(let K of $)if(_===void 0)_=K;else _=this._concatOutputChunks(_,K);yield*this._streamIterator(_,N6(q))}async*streamLog($,q,_){let K=new X9({..._,autoClose:!1,_schemaFormat:"original"}),P=N6(q);yield*this._streamLog($,K,P)}async*_streamLog($,q,_){let{callbacks:K}=_;if(K===void 0)_.callbacks=[q];else if(Array.isArray(K))_.callbacks=K.concat([q]);else{let z=K.copy();z.addHandler(q,!0),_.callbacks=z}let P=this.stream($,_);async function O(){try{let z=await P;for await(let H of z){let T=new n8({ops:[{op:"add",path:"/streamed_output/-",value:H}]});await q.writer.write(T)}}finally{await q.writer.close()}}let Y=O();try{for await(let z of q)yield z}finally{await Y}}streamEvents($,q,_){let K;if(q.version==="v1")K=this._streamEventsV1($,q,_);else if(q.version==="v2")K=this._streamEventsV2($,q,_);else throw Error('Only versions "v1" and "v2" of the schema are currently supported.');if(q.encoding==="text/event-stream")return Jk(K);else return yq.fromAsyncGenerator(K)}async*_streamEventsV2($,q,_){let K=new _A({..._,autoClose:!1}),P=N6(q),O=P.runId??Bq();P.runId=O;let Y=P.callbacks;if(Y===void 0)P.callbacks=[K];else if(Array.isArray(Y))P.callbacks=Y.concat(K);else{let S=Y.copy();S.addHandler(K,!0),P.callbacks=S}let z=new AbortController,H=this;async function T(){let S,N=null;try{if(q?.signal)if("any"in AbortSignal)S=AbortSignal.any([z.signal,q.signal]);else S=q.signal,N=()=>{z.abort()},q.signal.addEventListener("abort",N,{once:!0});else S=z.signal;let h=await H.stream($,{...P,signal:S}),E=K.tapOutputIterable(O,h);for await(let D of E)if(z.signal.aborted)break}finally{if(await K.finish(),S&&N)S.removeEventListener("abort",N)}}let f=T(),w=!1,k;try{for await(let S of K){if(!w){S.data.input=$,w=!0,k=S.run_id,yield S;continue}if(S.run_id===k&&S.event.endsWith("_end")){if(S.data?.input)delete S.data.input}yield S}}finally{z.abort(),await f}}async*_streamEventsV1($,q,_){let K,P=!1,O=N6(q),Y=O.tags??[],z=O.metadata??{},H=O.runName??this.getName(),T=new X9({..._,autoClose:!1,_schemaFormat:"streaming_events"}),f=new OA({..._}),w=this._streamLog($,T,O);for await(let S of w){if(!K)K=Z9.fromRunLogPatch(S);else K=K.concat(S);if(K.state===void 0)throw Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!P){P=!0;let D={...K.state},I={run_id:D.id,event:`on_${D.type}_start`,name:H,tags:Y,metadata:z,data:{input:$}};if(f.includeEvent(I,D.type))yield I}let N=S.ops.filter((D)=>D.path.startsWith("/logs/")).map((D)=>D.path.split("/")[2]),h=[...new Set(N)];for(let D of h){let I,L={},g=K.state.logs[D];if(g.end_time===void 0)if(g.streamed_output.length>0)I="stream";else I="start";else I="end";if(I==="start"){if(g.inputs!==void 0)L.input=g.inputs}else if(I==="end"){if(g.inputs!==void 0)L.input=g.inputs;L.output=g.final_output}else if(I==="stream"){let y=g.streamed_output.length;if(y!==1)throw Error(`Expected exactly one chunk of streamed output, got ${y} instead. Encountered in: "${g.name}"`);L={chunk:g.streamed_output[0]},g.streamed_output=[]}yield{event:`on_${g.type}_${I}`,name:g.name,run_id:g.id,tags:g.tags,metadata:g.metadata,data:L}}let{state:E}=K;if(E.streamed_output.length>0){let D=E.streamed_output.length;if(D!==1)throw Error(`Expected exactly one chunk of streamed output, got ${D} instead. Encountered in: "${E.name}"`);let I={chunk:E.streamed_output[0]};E.streamed_output=[];let L={event:`on_${E.type}_stream`,run_id:E.id,tags:Y,metadata:z,name:H,data:I};if(f.includeEvent(L,E.type))yield L}}let k=K?.state;if(k!==void 0){let S={event:`on_${k.type}_end`,name:H,run_id:k.id,tags:Y,metadata:z,data:{output:k.final_output}};if(f.includeEvent(S,k.type))yield S}}static isRunnable($){return bP($)}withListeners({onStart:$,onEnd:q,onError:_}){return new E5({bound:this,config:{},configFactories:[(K)=>({callbacks:[new jY({config:K,onStart:$,onEnd:q,onError:_})]})]})}asTool($){return Ju(this,$)}},E5=class $ extends pq{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(q){super(q);this.bound=q.bound,this.kwargs=q.kwargs,this.config=q.config,this.configFactories=q.configFactories}getName(q){return this.bound.getName(q)}async _mergeConfig(...q){let _=qY(this.config,...q);return qY(_,...this.configFactories?await Promise.all(this.configFactories.map(async(K)=>await K(_))):[])}withConfig(q){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...q}})}withRetry(q){return new wk({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:q?.stopAfterAttempt,...q})}async invoke(q,_){return this.bound.invoke(q,await this._mergeConfig(_,this.kwargs))}async batch(q,_,K){let P=Array.isArray(_)?await Promise.all(_.map(async(O)=>this._mergeConfig(N6(O),this.kwargs))):await this._mergeConfig(N6(_),this.kwargs);return this.bound.batch(q,P,K)}_concatOutputChunks(q,_){return this.bound._concatOutputChunks(q,_)}async*_streamIterator(q,_){yield*this.bound._streamIterator(q,await this._mergeConfig(N6(_),this.kwargs))}async stream(q,_){return this.bound.stream(q,await this._mergeConfig(N6(_),this.kwargs))}async*transform(q,_){yield*this.bound.transform(q,await this._mergeConfig(N6(_),this.kwargs))}streamEvents(q,_,K){let P=this,O=async function*(){yield*P.bound.streamEvents(q,{...await P._mergeConfig(N6(_),P.kwargs),version:_.version},K)};return yq.fromAsyncGenerator(O())}static isRunnableBinding(q){return q.bound&&pq.isRunnable(q.bound)}withListeners({onStart:q,onEnd:_,onError:K}){return new $({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[(P)=>({callbacks:[new jY({config:P,onStart:q,onEnd:_,onError:K})]})]})}};var wk=class extends E5{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor($){super($);this.maxAttemptNumber=$.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=$.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry($,q,_){let K=$>1?`retry:attempt:${$}`:void 0;return hq(q,{callbacks:_?.getChild(K)})}async _invoke($,q,_){return LP((K)=>super.invoke($,this._patchConfigForRetry(K,q,_)),{onFailedAttempt:({error:K})=>this.onFailedAttempt(K,$),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke($,q){return this._callWithConfig(this._invoke.bind(this),$,q)}async _batch($,q,_,K){let P={};try{await LP(async(O)=>{let Y=$.map((w,k)=>k).filter((w)=>P[w.toString()]===void 0||P[w.toString()]instanceof Error),z=Y.map((w)=>$[w]),H=Y.map((w)=>this._patchConfigForRetry(O,q?.[w],_?.[w])),T=await super.batch(z,H,{...K,returnExceptions:!0}),f;for(let w=0;w<T.length;w+=1){let k=T[w],S=Y[w];if(k instanceof Error){if(f===void 0)f=k,f.input=z[w]}P[S.toString()]=k}if(f)throw f;return T},{onFailedAttempt:({error:O})=>this.onFailedAttempt(O,O.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(O){if(K?.returnExceptions!==!0)throw O}return Object.keys(P).sort((O,Y)=>parseInt(O,10)-parseInt(Y,10)).map((O)=>P[parseInt(O,10)])}async batch($,q,_){return this._batchWithConfig(this._batch.bind(this),$,q,_)}},fk=class $ extends pq{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(q){super(q);this.first=q.first,this.middle=q.middle??this.middle,this.last=q.last,this.name=q.name,this.omitSequenceTags=q.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(q,_){let K=N6(_),O=await(await T8(K))?.handleChainStart(this.toJSON(),Jq(q,"input"),K.runId,void 0,void 0,void 0,K?.runName);delete K.runId;let Y=q,z;try{let H=[this.first,...this.middle];for(let T=0;T<H.length;T+=1){let w=H[T].invoke(Y,hq(K,{callbacks:O?.getChild(this.omitSequenceTags?void 0:`seq:step:${T+1}`)}));Y=await o8(w,_?.signal)}if(_?.signal?.aborted)throw FK(_.signal);z=await this.last.invoke(Y,hq(K,{callbacks:O?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(H){throw await O?.handleChainError(H),H}return await O?.handleChainEnd(Jq(z,"output")),z}async batch(q,_,K){let P=this._getOptionsList(_??{},q.length),O=await Promise.all(P.map(T8)),Y=await Promise.all(O.map(async(H,T)=>{let f=await H?.handleChainStart(this.toJSON(),Jq(q[T],"input"),P[T].runId,void 0,void 0,void 0,P[T].runName);return delete P[T].runId,f})),z=q;try{for(let H=0;H<this.steps.length;H+=1){let f=this.steps[H].batch(z,Y.map((w,k)=>{let S=w?.getChild(this.omitSequenceTags?void 0:`seq:step:${H+1}`);return hq(P[k],{callbacks:S})}),K);z=await o8(f,P[0]?.signal)}}catch(H){throw await Promise.all(Y.map((T)=>T?.handleChainError(H))),H}return await Promise.all(Y.map((H)=>H?.handleChainEnd(Jq(z,"output")))),z}_concatOutputChunks(q,_){return this.last._concatOutputChunks(q,_)}async*_streamIterator(q,_){let K=await T8(_),{runId:P,...O}=_??{},Y=await K?.handleChainStart(this.toJSON(),Jq(q,"input"),P,void 0,void 0,void 0,O?.runName),z=[this.first,...this.middle,this.last],H=!0,T;async function*f(){yield q}try{let w=z[0].transform(f(),hq(O,{callbacks:Y?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let k=1;k<z.length;k+=1)w=await z[k].transform(w,hq(O,{callbacks:Y?.getChild(this.omitSequenceTags?void 0:`seq:step:${k+1}`)}));for await(let k of w)if(_?.signal?.throwIfAborted(),yield k,H)if(T===void 0)T=k;else try{T=this._concatOutputChunks(T,k)}catch{T=void 0,H=!1}}catch(w){throw await Y?.handleChainError(w),w}await Y?.handleChainEnd(Jq(T,"output"))}getGraph(q){let _=new M5,K=null;return this.steps.forEach((P,O)=>{let Y=P.getGraph(q);if(O!==0)Y.trimFirstNode();if(O!==this.steps.length-1)Y.trimLastNode();_.extend(Y);let z=Y.firstNode();if(!z)throw Error(`Runnable ${P} has no first node`);if(K)_.addEdge(K,z);K=Y.lastNode()}),_}pipe(q){if($.isRunnableSequence(q))return new $({first:this.first,middle:this.middle.concat([this.last,q.first,...q.middle]),last:q.last,name:this.name??q.name});else return new $({first:this.first,middle:[...this.middle,this.last],last:EK(q),name:this.name})}static isRunnableSequence(q){return Array.isArray(q.middle)&&pq.isRunnable(q)}static from([q,..._],K){let P={};if(typeof K==="string")P.name=K;else if(K!==void 0)P=K;return new $({...P,first:EK(q),middle:_.slice(0,-1).map(EK),last:EK(_[_.length-1])})}},iz=class $ extends pq{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(q){super(q);this.steps={};for(let[_,K]of Object.entries(q.steps))this.steps[_]=EK(K)}static from(q){return new $({steps:q})}async invoke(q,_){let K=N6(_),O=await(await T8(K))?.handleChainStart(this.toJSON(),{input:q},K.runId,void 0,void 0,void 0,K?.runName);delete K.runId;let Y={};try{let z=Object.entries(this.steps).map(async([H,T])=>{Y[H]=await T.invoke(q,hq(K,{callbacks:O?.getChild(`map:key:${H}`)}))});await o8(Promise.all(z),_?.signal)}catch(z){throw await O?.handleChainError(z),z}return await O?.handleChainEnd(Y),Y}async*_transform(q,_,K){let P={...this.steps},O=W9(q,Object.keys(P).length),Y=new Map(Object.entries(P).map(([z,H],T)=>{let f=H.transform(O[T],hq(K,{callbacks:_?.getChild(`map:key:${z}`)}));return[z,f.next().then((w)=>({key:z,gen:f,result:w}))]}));while(Y.size){let z=Promise.race(Y.values()),{key:H,result:T,gen:f}=await o8(z,K?.signal);if(Y.delete(H),!T.done)yield{[H]:T.value},Y.set(H,f.next().then((w)=>({key:H,gen:f,result:w})))}}transform(q,_){return this._transformStreamWithConfig(q,this._transform.bind(this),_)}async stream(q,_){async function*K(){yield q}let P=N6(_),O=new c_({generator:this.transform(K(),P),config:P});return await O.setup,yq.fromAsyncGenerator(O)}},Yu=class $ extends pq{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(q){super(q);if(!j9(q.func))throw Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=q.func}async invoke(q,_){let[K]=this._getOptionsList(_??{},1),P=await T8(K),O=this.func(hq(K,{callbacks:P}),q);return o8(O,K?.signal)}async*_streamIterator(q,_){let[K]=this._getOptionsList(_??{},1),P=await this.invoke(q,_);if(N5(P)){for await(let O of P)K?.signal?.throwIfAborted(),yield O;return}if(Hk(P)){while(!0){K?.signal?.throwIfAborted();let O=P.next();if(O.done)break;yield O.value}return}yield P}static from(q){return new $({func:q})}};function ju($){if(j9($))throw Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Zk=class $ extends pq{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(q){if(j9(q.func))return Yu.from(q.func);super(q);ju(q.func),this.func=q.func}static from(q){return new $({func:q})}async _invoke(q,_,K){return new Promise((P,O)=>{let Y=hq(_,{callbacks:K?.getChild(),recursionLimit:(_?.recursionLimit??z9)-1});Fq.runWithConfig(v_(Y),async()=>{try{let z=await this.func(q,{...Y});if(z&&pq.isRunnable(z)){if(_?.recursionLimit===0)throw Error("Recursion limit reached.");z=await z.invoke(q,{...Y,recursionLimit:(Y.recursionLimit??z9)-1})}else if(N5(z)){let H;for await(let T of C5(Y,z))if(_?.signal?.throwIfAborted(),H===void 0)H=T;else try{H=this._concatOutputChunks(H,T)}catch{H=T}z=H}else if(oz(z)){let H;for(let T of nz(Y,z))if(_?.signal?.throwIfAborted(),H===void 0)H=T;else try{H=this._concatOutputChunks(H,T)}catch{H=T}z=H}P(z)}catch(z){O(z)}})})}async invoke(q,_){return this._callWithConfig(this._invoke.bind(this),q,_)}async*_transform(q,_,K){let P;for await(let z of q)if(P===void 0)P=z;else try{P=this._concatOutputChunks(P,z)}catch{P=z}let O=hq(K,{callbacks:_?.getChild(),recursionLimit:(K?.recursionLimit??z9)-1}),Y=await new Promise((z,H)=>{Fq.runWithConfig(v_(O),async()=>{try{let T=await this.func(P,{...O,config:O});z(T)}catch(T){H(T)}})});if(Y&&pq.isRunnable(Y)){if(K?.recursionLimit===0)throw Error("Recursion limit reached.");let z=await Y.stream(P,O);for await(let H of z)yield H}else if(N5(Y))for await(let z of C5(O,Y))K?.signal?.throwIfAborted(),yield z;else if(oz(Y))for(let z of nz(O,Y))K?.signal?.throwIfAborted(),yield z;else yield Y}transform(q,_){return this._transformStreamWithConfig(q,this._transform.bind(this),_)}async stream(q,_){async function*K(){yield q}let P=N6(_),O=new c_({generator:this.transform(K(),P),config:P});return await O.setup,yq.fromAsyncGenerator(O)}};var vu=class extends pq{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor($){super($);this.runnable=$.runnable,this.fallbacks=$.fallbacks}*runnables(){yield this.runnable;for(let $ of this.fallbacks)yield $}async invoke($,q){let _=N6(q),K=await T8(_),{runId:P,...O}=_,Y=await K?.handleChainStart(this.toJSON(),Jq($,"input"),P,void 0,void 0,void 0,O?.runName),z=hq(O,{callbacks:Y?.getChild()});return await Fq.runWithConfig(z,async()=>{let T;for(let f of this.runnables()){_?.signal?.throwIfAborted();try{let w=await f.invoke($,z);return await Y?.handleChainEnd(Jq(w,"output")),w}catch(w){if(T===void 0)T=w}}if(T===void 0)throw Error("No error stored at end of fallback.");throw await Y?.handleChainError(T),T})}async*_streamIterator($,q){let _=N6(q),K=await T8(_),{runId:P,...O}=_,Y=await K?.handleChainStart(this.toJSON(),Jq($,"input"),P,void 0,void 0,void 0,O?.runName),z,H;for(let f of this.runnables()){_?.signal?.throwIfAborted();let w=hq(O,{callbacks:Y?.getChild()});try{let k=await f.stream($,w);H=C5(w,k);break}catch(k){if(z===void 0)z=k}}if(H===void 0){let f=z??Error("No error stored at end of fallback.");throw await Y?.handleChainError(f),f}let T;try{for await(let f of H){yield f;try{T=T===void 0?T:this._concatOutputChunks(T,f)}catch{T=void 0}}}catch(f){throw await Y?.handleChainError(f),f}await Y?.handleChainEnd(Jq(T,"output"))}async batch($,q,_){if(_?.returnExceptions)throw Error("Not implemented.");let K=this._getOptionsList(q??{},$.length),P=await Promise.all(K.map((z)=>T8(z))),O=await Promise.all(P.map(async(z,H)=>{let T=await z?.handleChainStart(this.toJSON(),Jq($[H],"input"),K[H].runId,void 0,void 0,void 0,K[H].runName);return delete K[H].runId,T})),Y;for(let z of this.runnables()){K[0].signal?.throwIfAborted();try{let H=await z.batch($,O.map((T,f)=>hq(K[f],{callbacks:T?.getChild()})),_);return await Promise.all(O.map((T,f)=>T?.handleChainEnd(Jq(H[f],"output")))),H}catch(H){if(Y===void 0)Y=H}}if(!Y)throw Error("No error stored at end of fallbacks.");throw await Promise.all(O.map((z)=>z?.handleChainError(Y))),Y}};function EK($){if(typeof $==="function")return new Zk({func:$});else if(pq.isRunnable($))return $;else if(!Array.isArray($)&&typeof $==="object"){let q={};for(let[_,K]of Object.entries($))q[_]=EK(K);return new iz({steps:q})}else throw Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var zu=class extends pq{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor($){if($ instanceof iz)$={mapper:$};super($);this.mapper=$.mapper}async invoke($,q){let _=await this.mapper.invoke($,q);return{...$,..._}}async*_transform($,q,_){let K=this.mapper.getStepsKeys(),[P,O]=W9($),Y=this.mapper.transform(O,hq(_,{callbacks:q?.getChild()})),z=Y.next();for await(let H of P){if(typeof H!=="object"||Array.isArray(H))throw Error(`RunnableAssign can only be used with objects as input, got ${typeof H}`);let T=Object.fromEntries(Object.entries(H).filter(([f])=>!K.includes(f)));if(Object.keys(T).length>0)yield T}yield(await z).value;for await(let H of Y)yield H}transform($,q){return this._transformStreamWithConfig($,this._transform.bind(this),q)}async stream($,q){async function*_(){yield $}let K=N6(q),P=new c_({generator:this.transform(_(),K),config:K});return await P.setup,yq.fromAsyncGenerator(P)}},Wu=class extends pq{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor($){if(typeof $==="string"||Array.isArray($))$={keys:$};super($);this.keys=$.keys}async _pick($){if(typeof this.keys==="string")return $[this.keys];else{let q=this.keys.map((_)=>[_,$[_]]).filter((_)=>_[1]!==void 0);return q.length===0?void 0:Object.fromEntries(q)}}async invoke($,q){return this._callWithConfig(this._pick.bind(this),$,q)}async*_transform($){for await(let q of $){let _=await this._pick(q);if(_!==void 0)yield _}}transform($,q){return this._transformStreamWithConfig($,this._transform.bind(this),q)}async stream($,q){async function*_(){yield $}let K=N6(q),P=new c_({generator:this.transform(_(),K),config:K});return await P.setup,yq.fromAsyncGenerator(P)}},Tk=class extends E5{name;description;schema;constructor($){let q=fk.from([Zk.from(async(_)=>{let K;if(U2(_))try{K=await dA(this.schema,_.args)}catch{throw new IT("Received tool input did not match expected schema",JSON.stringify(_.args))}else K=_;return K}).withConfig({runName:`${$.name}:parse_input`}),$.bound]).withConfig({runName:$.name});super({bound:q,config:$.config??{}});this.name=$.name,this.description=$.description,this.schema=$.schema}static lc_name(){return"RunnableToolLike"}};function Ju($,q){let _=q.name??$.getName(),K=q.description??lA(q.schema);if(rA(q.schema))return new Tk({name:_,description:K,schema:CK.object({input:CK.string()}).transform((P)=>P.input),bound:$});return new Tk({name:_,description:K,schema:q.schema,bound:$})}var D7=class extends pq{lc_namespace=["langchain_core","documents","transformers"];invoke($,q){return this.transformDocuments($)}},Xk=class extends D7{async transformDocuments($){let q=[];for(let _ of $){let K=await this._transformDocument(_);q.push(K)}return q}};var Hu={};f6(Hu,{BaseDocumentTransformer:()=>D7,Document:()=>S1,MappingDocumentTransformer:()=>Xk});var Gk=N8(kk(),1),Nu=Object.defineProperty,Cu=($,q,_)=>(q in $)?Nu($,q,{enumerable:!0,configurable:!0,writable:!0,value:_}):$[q]=_,Eu=($,q,_)=>{return Cu($,typeof q!=="symbol"?q+"":q,_),_};function hu($,q){let _=Array.from({length:$.length},(K,P)=>({start:P,end:P+1}));while(_.length>1){let K=null;for(let P=0;P<_.length-1;P++){let O=$.slice(_[P].start,_[P+1].end),Y=q.get(O.join(","));if(Y==null)continue;if(K==null||Y<K[0])K=[Y,P]}if(K!=null){let P=K[1];_[P]={start:_[P].start,end:_[P+1].end},_.splice(P+1,1)}else break}return _}function Ru($,q){if($.length===1)return[q.get($.join(","))];return hu($,q).map((_)=>q.get($.slice(_.start,_.end).join(","))).filter((_)=>_!=null)}function Iu($){return $.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Uz=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor($,q){this.patStr=$.pat_str;let _=$.bpe_ranks.split(`
`).filter(Boolean).reduce((K,P)=>{let[O,Y,...z]=P.split(" "),H=Number.parseInt(Y,10);return z.forEach((T,f)=>K[T]=H+f),K},{});for(let[K,P]of Object.entries(_)){let O=Gk.default.toByteArray(K);this.rankMap.set(O.join(","),P),this.textMap.set(P,O)}this.specialTokens={...$.special_tokens,...q},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((K,[P,O])=>{return K[O]=this.textEncoder.encode(P),K},{})}encode($,q=[],_="all"){let K=new RegExp(this.patStr,"ug"),P=Uz.specialTokenRegex(Object.keys(this.specialTokens)),O=[],Y=new Set(q==="all"?Object.keys(this.specialTokens):q),z=new Set(_==="all"?Object.keys(this.specialTokens).filter((T)=>!Y.has(T)):_);if(z.size>0){let T=Uz.specialTokenRegex([...z]),f=$.match(T);if(f!=null)throw Error(`The text contains a special token that is not allowed: ${f[0]}`)}let H=0;while(!0){let T=null,f=H;while(!0){if(P.lastIndex=f,T=P.exec($),T==null||Y.has(T[0]))break;f=T.index+1}let w=T?.index??$.length;for(let S of $.substring(H,w).matchAll(K)){let N=this.textEncoder.encode(S[0]),h=this.rankMap.get(N.join(","));if(h!=null){O.push(h);continue}O.push(...Ru(N,this.rankMap))}if(T==null)break;let k=this.specialTokens[T[0]];O.push(k),H=T.index+T[0].length}return O}decode($){let q=[],_=0;for(let O=0;O<$.length;++O){let Y=$[O],z=this.textMap.get(Y)??this.inverseSpecialTokens[Y];if(z!=null)q.push(z),_+=z.length}let K=new Uint8Array(_),P=0;for(let O of q)K.set(O,P),P+=O.length;return this.textDecoder.decode(K)}},h5=Uz;Eu(h5,"specialTokenRegex",($)=>{return new RegExp($.map((q)=>Iu(q)).join("|"),"g")});function Fz($){switch($){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw Error("Unknown model")}}var Du={};f6(Du,{encodingForModel:()=>gu,getEncoding:()=>az});var R5={},Lu=new gP({});async function az($){if(!($ in R5))R5[$]=Lu.fetch(`https://tiktoken.pages.dev/js/${$}.json`).then((q)=>q.json()).then((q)=>new h5(q)).catch((q)=>{throw delete R5[$],q});return await R5[$]}async function gu($){return az(Fz($))}var Vk=class extends D7{lc_namespace=["langchain","document_transformers","text_splitters"];chunkSize=1000;chunkOverlap=200;keepSeparator=!1;lengthFunction;constructor($){super($);if(this.chunkSize=$?.chunkSize??this.chunkSize,this.chunkOverlap=$?.chunkOverlap??this.chunkOverlap,this.keepSeparator=$?.keepSeparator??this.keepSeparator,this.lengthFunction=$?.lengthFunction??((q)=>q.length),this.chunkOverlap>=this.chunkSize)throw Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments($,q={}){return this.splitDocuments($,q)}splitOnSeparator($,q){let _;if(q)if(this.keepSeparator){let K=q.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");_=$.split(new RegExp(`(?=${K})`))}else _=$.split(q);else _=$.split("");return _.filter((K)=>K!=="")}async createDocuments($,q=[],_={}){let K=q.length>0?q:[...Array($.length)].map(()=>({})),{chunkHeader:P="",chunkOverlapHeader:O="(cont'd) ",appendChunkOverlapHeader:Y=!1}=_,z=[];for(let H=0;H<$.length;H+=1){let T=$[H],f=1,w=null,k=-1;for(let S of await this.splitText(T)){let N=P,h=T.indexOf(S,k+1);if(w===null){let L=this.numberOfNewLines(T,0,h);f+=L}else{let L=k+await this.lengthFunction(w);if(L<h){let g=this.numberOfNewLines(T,L,h);f+=g}else if(L>h){let g=this.numberOfNewLines(T,h,L);f-=g}if(Y)N+=O}let E=this.numberOfNewLines(S),D=K[H].loc&&typeof K[H].loc==="object"?{...K[H].loc}:{};D.lines={from:f,to:f+E};let I={...K[H],loc:D};N+=S,z.push(new S1({pageContent:N,metadata:I})),f+=E,w=S,k=h}}return z}numberOfNewLines($,q,_){return($.slice(q,_).match(/\n/g)||[]).length}async splitDocuments($,q={}){let _=$.filter((O)=>O.pageContent!==void 0),K=_.map((O)=>O.pageContent),P=_.map((O)=>O.metadata);return this.createDocuments(K,P,q)}joinDocs($,q){let _=$.join(q).trim();return _===""?null:_}async mergeSplits($,q){let _=[],K=[],P=0;for(let Y of $){let z=await this.lengthFunction(Y);if(P+z+K.length*q.length>this.chunkSize){if(P>this.chunkSize)console.warn(`Created a chunk of size ${P}, +
which is longer than the specified ${this.chunkSize}`);if(K.length>0){let H=this.joinDocs(K,q);if(H!==null)_.push(H);while(P>this.chunkOverlap||P+z+K.length*q.length>this.chunkSize&&P>0)P-=await this.lengthFunction(K[0]),K.shift()}}K.push(Y),P+=z}let O=this.joinDocs(K,q);if(O!==null)_.push(O);return _}};var Qz=class $ extends Vk{static lc_name(){return"RecursiveCharacterTextSplitter"}separators=[`

`,`
`," ",""];constructor(q){super(q);this.separators=q?.separators??this.separators,this.keepSeparator=q?.keepSeparator??!0}async _splitText(q,_){let K=[],P=_[_.length-1],O;for(let T=0;T<_.length;T+=1){let f=_[T];if(f===""){P=f;break}if(q.includes(f)){P=f,O=_.slice(T+1);break}}let Y=this.splitOnSeparator(q,P),z=[],H=this.keepSeparator?"":P;for(let T of Y)if(await this.lengthFunction(T)<this.chunkSize)z.push(T);else{if(z.length){let f=await this.mergeSplits(z,H);K.push(...f),z=[]}if(!O)K.push(T);else{let f=await this._splitText(T,O);K.push(...f)}}if(z.length){let T=await this.mergeSplits(z,H);K.push(...T)}return K}async splitText(q){return this._splitText(q,this.separators)}static fromLanguage(q,_){return new $({..._,separators:$.getSeparatorsForLanguage(q)})}static getSeparatorsForLanguage(q){if(q==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];else if(q==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];else if(q==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];else if(q==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];else if(q==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];else if(q==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];else if(q==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];else if(q==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];else if(q==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];else if(q==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];else if(q==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];else if(q==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];else throw Error(`Language ${q} is not supported.`)}};var $T=N8(hV(),1);var RV=($)=>{$=1831565813+($|=0)|0;let q=Math.imul($^$>>>15,1|$);return q=q+Math.imul(q^q>>>7,61|q)^q,((q^q>>>14)>>>0)/4294967296};class DV{constructor($){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;let{length:q,separator:_,dictionaries:K,style:P,seed:O}=$;this.dictionaries=K,this.separator=_,this.length=q,this.style=P,this.seed=O}generate(){if(!this.dictionaries)throw Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw Error("Invalid length provided");if(this.length>this.dictionaries.length)throw Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let $=this.seed;return this.dictionaries.slice(0,this.length).reduce((q,_)=>{let K;$?(K=((O)=>{if(typeof O=="string"){let Y=O.split("").map((H)=>H.charCodeAt(0)).reduce((H,T)=>H+T,1),z=Math.floor(Number(Y));return RV(z)}return RV(O)})($),$=4294967296*K):K=Math.random();let P=_[Math.floor(K*_.length)]||"";if(this.style==="lowerCase")P=P.toLowerCase();else if(this.style==="capital"){let[O,...Y]=P.split("");P=O.toUpperCase()+Y.join("")}else this.style==="upperCase"&&(P=P.toUpperCase());return q?`${q}${this.separator}${P}`:`${P}`},"")}}var IV={separator:"_",dictionaries:[]},l5=($)=>{let q=[...$&&$.dictionaries||IV.dictionaries],_={...IV,...$,length:$&&$.length||q.length,dictionaries:q};if(!$||!$.dictionaries||!$.dictionaries.length)throw Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new DV(_).generate()};var r5=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-marie","Anna","Anna-diana","Anna-diane","Anna-maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-corinne","Anne-marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo-ann","Jo-anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-ann","Marie-jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","Teirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsazsa","Zulema","Zuzana"];var i$={};oq(i$,{xid:()=>bl,void:()=>Pr,uuidv7:()=>Cl,uuidv6:()=>Nl,uuidv4:()=>Ml,uuid:()=>Sl,util:()=>l$,url:()=>El,uppercase:()=>z7,unknown:()=>c4,union:()=>NJ,undefined:()=>_r,ulid:()=>gl,uint64:()=>$r,uint32:()=>Ql,tuple:()=>FV,trim:()=>f7,treeifyError:()=>kY,transform:()=>hJ,toUpperCase:()=>X7,toLowerCase:()=>Z7,toJSONSchema:()=>J4,templateLiteral:()=>Vr,symbol:()=>qr,superRefine:()=>GS,success:()=>Ar,stringbool:()=>Ir,stringFormat:()=>nl,string:()=>_J,strictObject:()=>vr,startsWith:()=>J7,slugify:()=>A7,size:()=>Y7,setErrorMap:()=>br,set:()=>Tr,safeParseAsync:()=>tW,safeParse:()=>BW,safeEncodeAsync:()=>$J,safeEncode:()=>eW,safeDecodeAsync:()=>qJ,safeDecode:()=>sW,registry:()=>B9,regexes:()=>f8,regex:()=>j7,refine:()=>kS,record:()=>aV,readonly:()=>TS,property:()=>Uv,promise:()=>Sr,prettifyError:()=>GY,preprocess:()=>Lr,prefault:()=>YS,positive:()=>nv,pipe:()=>Q5,partialRecord:()=>Jr,parseAsync:()=>iW,parse:()=>nW,overwrite:()=>B8,optional:()=>F5,object:()=>jr,number:()=>yV,nullish:()=>Xr,nullable:()=>a5,null:()=>mV,normalize:()=>w7,nonpositive:()=>Bv,nonoptional:()=>jS,nonnegative:()=>tv,never:()=>SJ,negative:()=>iv,nativeEnum:()=>wr,nanoid:()=>Il,nan:()=>kr,multipleOf:()=>XK,minSize:()=>AK,minLength:()=>i_,mime:()=>T7,meta:()=>hr,maxSize:()=>j4,maxLength:()=>v4,map:()=>Hr,mac:()=>xl,lte:()=>Z8,lt:()=>z_,lowercase:()=>v7,looseObject:()=>zr,locales:()=>q7,literal:()=>fr,length:()=>z4,lazy:()=>ZS,ksuid:()=>yl,keyof:()=>Yr,jwt:()=>ol,json:()=>Dr,iso:()=>t5,ipv6:()=>pl,ipv4:()=>ul,intersection:()=>tV,int64:()=>sl,int32:()=>al,int:()=>KJ,instanceof:()=>Rr,includes:()=>W7,httpUrl:()=>hl,hostname:()=>il,hex:()=>Bl,hash:()=>tl,guid:()=>Vl,gte:()=>Qq,gt:()=>W_,globalRegistry:()=>y6,getErrorMap:()=>yr,function:()=>Mr,formatError:()=>oP,float64:()=>Fl,float32:()=>Ul,flattenError:()=>rP,file:()=>Zr,enum:()=>EJ,endsWith:()=>H7,encodeAsync:()=>aW,encode:()=>UW,emoji:()=>Rl,email:()=>Gl,e164:()=>rl,discriminatedUnion:()=>Wr,describe:()=>Er,decodeAsync:()=>QW,decode:()=>FW,date:()=>Or,custom:()=>Cr,cuid2:()=>Ll,cuid:()=>Dl,core:()=>J_,config:()=>i6,coerce:()=>bJ,codec:()=>Gr,clone:()=>l6,cidrv6:()=>ml,cidrv4:()=>cl,check:()=>Nr,catch:()=>WS,boolean:()=>uV,bigint:()=>el,base64url:()=>ll,base64:()=>dl,array:()=>$2,any:()=>Kr,_function:()=>Mr,_default:()=>PS,_ZodString:()=>PJ,ZodXID:()=>JJ,ZodVoid:()=>oV,ZodUnknown:()=>lV,ZodUnion:()=>MJ,ZodUndefined:()=>pV,ZodUUID:()=>G_,ZodURL:()=>e5,ZodULID:()=>WJ,ZodType:()=>H6,ZodTuple:()=>UV,ZodTransform:()=>qS,ZodTemplateLiteral:()=>wS,ZodSymbol:()=>xV,ZodSuccess:()=>vS,ZodStringFormat:()=>R6,ZodString:()=>r7,ZodSet:()=>eV,ZodRecord:()=>CJ,ZodRealError:()=>sq,ZodReadonly:()=>HS,ZodPromise:()=>XS,ZodPrefault:()=>OS,ZodPipe:()=>DJ,ZodOptional:()=>RJ,ZodObject:()=>q2,ZodNumberFormat:()=>m4,ZodNumber:()=>n7,ZodNullable:()=>_S,ZodNull:()=>cV,ZodNonOptional:()=>IJ,ZodNever:()=>rV,ZodNanoID:()=>jJ,ZodNaN:()=>JS,ZodMap:()=>QV,ZodMAC:()=>bV,ZodLiteral:()=>sV,ZodLazy:()=>fS,ZodKSUID:()=>HJ,ZodJWT:()=>GJ,ZodIssueCode:()=>gr,ZodIntersection:()=>BV,ZodISOTime:()=>i5,ZodISODuration:()=>B5,ZodISODateTime:()=>o5,ZodISODate:()=>n5,ZodIPv6:()=>wJ,ZodIPv4:()=>TJ,ZodGUID:()=>U5,ZodFunction:()=>AS,ZodFirstPartyTypeKind:()=>gJ,ZodFile:()=>$S,ZodError:()=>Al,ZodEnum:()=>l7,ZodEmoji:()=>YJ,ZodEmail:()=>OJ,ZodE164:()=>kJ,ZodDiscriminatedUnion:()=>iV,ZodDefault:()=>KS,ZodDate:()=>s5,ZodCustomStringFormat:()=>o7,ZodCustom:()=>_2,ZodCodec:()=>LJ,ZodCatch:()=>zS,ZodCUID2:()=>zJ,ZodCUID:()=>vJ,ZodCIDRv6:()=>ZJ,ZodCIDRv4:()=>fJ,ZodBoolean:()=>i7,ZodBigIntFormat:()=>VJ,ZodBigInt:()=>B7,ZodBase64URL:()=>AJ,ZodBase64:()=>XJ,ZodArray:()=>nV,ZodAny:()=>dV,TimePrecision:()=>Av,NEVER:()=>vY,$output:()=>Tv,$input:()=>wv,$brand:()=>zY});var t5={};oq(t5,{time:()=>rW,duration:()=>oW,datetime:()=>dW,date:()=>lW,ZodISOTime:()=>i5,ZodISODuration:()=>B5,ZodISODateTime:()=>o5,ZodISODate:()=>n5});var o5=j$("ZodISODateTime",($,q)=>{I3.init($,q),R6.init($,q)});function dW($){return kv(o5,$)}var n5=j$("ZodISODate",($,q)=>{D3.init($,q),R6.init($,q)});function lW($){return Gv(n5,$)}var i5=j$("ZodISOTime",($,q)=>{L3.init($,q),R6.init($,q)});function rW($){return Vv(i5,$)}var B5=j$("ZodISODuration",($,q)=>{g3.init($,q),R6.init($,q)});function oW($){return Sv(B5,$)}var gV=($,q)=>{lP.init($,q),$.name="ZodError",Object.defineProperties($,{format:{value:(_)=>oP($,_)},flatten:{value:(_)=>rP($,_)},addIssue:{value:(_)=>{$.issues.push(_),$.message=JSON.stringify($.issues,eK,2)}},addIssues:{value:(_)=>{$.issues.push(..._),$.message=JSON.stringify($.issues,eK,2)}},isEmpty:{get(){return $.issues.length===0}}})},Al=j$("ZodError",gV),sq=j$("ZodError",gV,{Parent:Error});var nW=q4(sq),iW=_4(sq),BW=P4(sq),tW=O4(sq),UW=M9(sq),FW=N9(sq),aW=C9(sq),QW=E9(sq),eW=h9(sq),sW=R9(sq),$J=I9(sq),qJ=D9(sq);var H6=j$("ZodType",($,q)=>{return P6.init($,q),$.def=q,$.type=q.type,Object.defineProperty($,"_def",{value:q}),$.check=(..._)=>{return $.clone(l$.mergeDefs(q,{checks:[...q.checks??[],..._.map((K)=>typeof K==="function"?{_zod:{check:K,def:{check:"custom"},onattach:[]}}:K)]}))},$.clone=(_,K)=>l6($,_,K),$.brand=()=>$,$.register=(_,K)=>{return _.add($,K),$},$.parse=(_,K)=>nW($,_,K,{callee:$.parse}),$.safeParse=(_,K)=>BW($,_,K),$.parseAsync=async(_,K)=>iW($,_,K,{callee:$.parseAsync}),$.safeParseAsync=async(_,K)=>tW($,_,K),$.spa=$.safeParseAsync,$.encode=(_,K)=>UW($,_,K),$.decode=(_,K)=>FW($,_,K),$.encodeAsync=async(_,K)=>aW($,_,K),$.decodeAsync=async(_,K)=>QW($,_,K),$.safeEncode=(_,K)=>eW($,_,K),$.safeDecode=(_,K)=>sW($,_,K),$.safeEncodeAsync=async(_,K)=>$J($,_,K),$.safeDecodeAsync=async(_,K)=>qJ($,_,K),$.refine=(_,K)=>$.check(kS(_,K)),$.superRefine=(_)=>$.check(GS(_)),$.overwrite=(_)=>$.check(B8(_)),$.optional=()=>F5($),$.nullable=()=>a5($),$.nullish=()=>F5(a5($)),$.nonoptional=(_)=>jS($,_),$.array=()=>$2($),$.or=(_)=>NJ([$,_]),$.and=(_)=>tV($,_),$.transform=(_)=>Q5($,hJ(_)),$.default=(_)=>PS($,_),$.prefault=(_)=>YS($,_),$.catch=(_)=>WS($,_),$.pipe=(_)=>Q5($,_),$.readonly=()=>TS($),$.describe=(_)=>{let K=$.clone();return y6.add(K,{description:_}),K},Object.defineProperty($,"description",{get(){return y6.get($)?.description},configurable:!0}),$.meta=(..._)=>{if(_.length===0)return y6.get($);let K=$.clone();return y6.add(K,_[0]),K},$.isOptional=()=>$.safeParse(void 0).success,$.isNullable=()=>$.safeParse(null).success,$}),PJ=j$("_ZodString",($,q)=>{ZK.init($,q),H6.init($,q);let _=$._zod.bag;$.format=_.format??null,$.minLength=_.minimum??null,$.maxLength=_.maximum??null,$.regex=(...K)=>$.check(j7(...K)),$.includes=(...K)=>$.check(W7(...K)),$.startsWith=(...K)=>$.check(J7(...K)),$.endsWith=(...K)=>$.check(H7(...K)),$.min=(...K)=>$.check(i_(...K)),$.max=(...K)=>$.check(v4(...K)),$.length=(...K)=>$.check(z4(...K)),$.nonempty=(...K)=>$.check(i_(1,...K)),$.lowercase=(K)=>$.check(v7(K)),$.uppercase=(K)=>$.check(z7(K)),$.trim=()=>$.check(f7()),$.normalize=(...K)=>$.check(w7(...K)),$.toLowerCase=()=>$.check(Z7()),$.toUpperCase=()=>$.check(X7()),$.slugify=()=>$.check(A7())}),r7=j$("ZodString",($,q)=>{ZK.init($,q),PJ.init($,q),$.email=(_)=>$.check(t9(OJ,_)),$.url=(_)=>$.check(P7(e5,_)),$.jwt=(_)=>$.check(H5(GJ,_)),$.emoji=(_)=>$.check(e9(YJ,_)),$.guid=(_)=>$.check(K7(U5,_)),$.uuid=(_)=>$.check(U9(G_,_)),$.uuidv4=(_)=>$.check(F9(G_,_)),$.uuidv6=(_)=>$.check(a9(G_,_)),$.uuidv7=(_)=>$.check(Q9(G_,_)),$.nanoid=(_)=>$.check(s9(jJ,_)),$.guid=(_)=>$.check(K7(U5,_)),$.cuid=(_)=>$.check($5(vJ,_)),$.cuid2=(_)=>$.check(q5(zJ,_)),$.ulid=(_)=>$.check(_5(WJ,_)),$.base64=(_)=>$.check(z5(XJ,_)),$.base64url=(_)=>$.check(W5(AJ,_)),$.xid=(_)=>$.check(K5(JJ,_)),$.ksuid=(_)=>$.check(P5(HJ,_)),$.ipv4=(_)=>$.check(O5(TJ,_)),$.ipv6=(_)=>$.check(Y5(wJ,_)),$.cidrv4=(_)=>$.check(j5(fJ,_)),$.cidrv6=(_)=>$.check(v5(ZJ,_)),$.e164=(_)=>$.check(J5(kJ,_)),$.datetime=(_)=>$.check(dW(_)),$.date=(_)=>$.check(lW(_)),$.time=(_)=>$.check(rW(_)),$.duration=(_)=>$.check(oW(_))});function _J($){return fv(r7,$)}var R6=j$("ZodStringFormat",($,q)=>{C6.init($,q),PJ.init($,q)}),OJ=j$("ZodEmail",($,q)=>{G3.init($,q),R6.init($,q)});function Gl($){return t9(OJ,$)}var U5=j$("ZodGUID",($,q)=>{A3.init($,q),R6.init($,q)});function Vl($){return K7(U5,$)}var G_=j$("ZodUUID",($,q)=>{k3.init($,q),R6.init($,q)});function Sl($){return U9(G_,$)}function Ml($){return F9(G_,$)}function Nl($){return a9(G_,$)}function Cl($){return Q9(G_,$)}var e5=j$("ZodURL",($,q)=>{V3.init($,q),R6.init($,q)});function El($){return P7(e5,$)}function hl($){return P7(e5,{protocol:/^https?$/,hostname:f8.domain,...l$.normalizeParams($)})}var YJ=j$("ZodEmoji",($,q)=>{S3.init($,q),R6.init($,q)});function Rl($){return e9(YJ,$)}var jJ=j$("ZodNanoID",($,q)=>{M3.init($,q),R6.init($,q)});function Il($){return s9(jJ,$)}var vJ=j$("ZodCUID",($,q)=>{N3.init($,q),R6.init($,q)});function Dl($){return $5(vJ,$)}var zJ=j$("ZodCUID2",($,q)=>{C3.init($,q),R6.init($,q)});function Ll($){return q5(zJ,$)}var WJ=j$("ZodULID",($,q)=>{E3.init($,q),R6.init($,q)});function gl($){return _5(WJ,$)}var JJ=j$("ZodXID",($,q)=>{h3.init($,q),R6.init($,q)});function bl($){return K5(JJ,$)}var HJ=j$("ZodKSUID",($,q)=>{R3.init($,q),R6.init($,q)});function yl($){return P5(HJ,$)}var TJ=j$("ZodIPv4",($,q)=>{b3.init($,q),R6.init($,q)});function ul($){return O5(TJ,$)}var bV=j$("ZodMAC",($,q)=>{u3.init($,q),R6.init($,q)});function xl($){return Xv(bV,$)}var wJ=j$("ZodIPv6",($,q)=>{y3.init($,q),R6.init($,q)});function pl($){return Y5(wJ,$)}var fJ=j$("ZodCIDRv4",($,q)=>{x3.init($,q),R6.init($,q)});function cl($){return j5(fJ,$)}var ZJ=j$("ZodCIDRv6",($,q)=>{p3.init($,q),R6.init($,q)});function ml($){return v5(ZJ,$)}var XJ=j$("ZodBase64",($,q)=>{m3.init($,q),R6.init($,q)});function dl($){return z5(XJ,$)}var AJ=j$("ZodBase64URL",($,q)=>{d3.init($,q),R6.init($,q)});function ll($){return W5(AJ,$)}var kJ=j$("ZodE164",($,q)=>{l3.init($,q),R6.init($,q)});function rl($){return J5(kJ,$)}var GJ=j$("ZodJWT",($,q)=>{r3.init($,q),R6.init($,q)});function ol($){return H5(GJ,$)}var o7=j$("ZodCustomStringFormat",($,q)=>{o3.init($,q),R6.init($,q)});function nl($,q,_={}){return W4(o7,$,q,_)}function il($){return W4(o7,"hostname",f8.hostname,$)}function Bl($){return W4(o7,"hex",f8.hex,$)}function tl($,q){let _=q?.enc??"hex",K=`${$}_${_}`,P=f8[K];if(!P)throw Error(`Unrecognized hash format: ${K}`);return W4(o7,K,P,q)}var n7=j$("ZodNumber",($,q)=>{d9.init($,q),H6.init($,q),$.gt=(K,P)=>$.check(W_(K,P)),$.gte=(K,P)=>$.check(Qq(K,P)),$.min=(K,P)=>$.check(Qq(K,P)),$.lt=(K,P)=>$.check(z_(K,P)),$.lte=(K,P)=>$.check(Z8(K,P)),$.max=(K,P)=>$.check(Z8(K,P)),$.int=(K)=>$.check(KJ(K)),$.safe=(K)=>$.check(KJ(K)),$.positive=(K)=>$.check(W_(0,K)),$.nonnegative=(K)=>$.check(Qq(0,K)),$.negative=(K)=>$.check(z_(0,K)),$.nonpositive=(K)=>$.check(Z8(0,K)),$.multipleOf=(K,P)=>$.check(XK(K,P)),$.step=(K,P)=>$.check(XK(K,P)),$.finite=()=>$;let _=$._zod.bag;$.minValue=Math.max(_.minimum??Number.NEGATIVE_INFINITY,_.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,$.maxValue=Math.min(_.maximum??Number.POSITIVE_INFINITY,_.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,$.isInt=(_.format??"").includes("int")||Number.isSafeInteger(_.multipleOf??0.5),$.isFinite=!0,$.format=_.format??null});function yV($){return Mv(n7,$)}var m4=j$("ZodNumberFormat",($,q)=>{n3.init($,q),n7.init($,q)});function KJ($){return Cv(m4,$)}function Ul($){return Ev(m4,$)}function Fl($){return hv(m4,$)}function al($){return Rv(m4,$)}function Ql($){return Iv(m4,$)}var i7=j$("ZodBoolean",($,q)=>{tP.init($,q),H6.init($,q)});function uV($){return Dv(i7,$)}var B7=j$("ZodBigInt",($,q)=>{l9.init($,q),H6.init($,q),$.gte=(K,P)=>$.check(Qq(K,P)),$.min=(K,P)=>$.check(Qq(K,P)),$.gt=(K,P)=>$.check(W_(K,P)),$.gte=(K,P)=>$.check(Qq(K,P)),$.min=(K,P)=>$.check(Qq(K,P)),$.lt=(K,P)=>$.check(z_(K,P)),$.lte=(K,P)=>$.check(Z8(K,P)),$.max=(K,P)=>$.check(Z8(K,P)),$.positive=(K)=>$.check(W_(BigInt(0),K)),$.negative=(K)=>$.check(z_(BigInt(0),K)),$.nonpositive=(K)=>$.check(Z8(BigInt(0),K)),$.nonnegative=(K)=>$.check(Qq(BigInt(0),K)),$.multipleOf=(K,P)=>$.check(XK(K,P));let _=$._zod.bag;$.minValue=_.minimum??null,$.maxValue=_.maximum??null,$.format=_.format??null});function el($){return gv(B7,$)}var VJ=j$("ZodBigIntFormat",($,q)=>{i3.init($,q),B7.init($,q)});function sl($){return yv(VJ,$)}function $r($){return uv(VJ,$)}var xV=j$("ZodSymbol",($,q)=>{B3.init($,q),H6.init($,q)});function qr($){return xv(xV,$)}var pV=j$("ZodUndefined",($,q)=>{t3.init($,q),H6.init($,q)});function _r($){return pv(pV,$)}var cV=j$("ZodNull",($,q)=>{U3.init($,q),H6.init($,q)});function mV($){return cv(cV,$)}var dV=j$("ZodAny",($,q)=>{F3.init($,q),H6.init($,q)});function Kr(){return mv(dV)}var lV=j$("ZodUnknown",($,q)=>{r9.init($,q),H6.init($,q)});function c4(){return T5(lV)}var rV=j$("ZodNever",($,q)=>{UP.init($,q),H6.init($,q)});function SJ($){return O7(rV,$)}var oV=j$("ZodVoid",($,q)=>{a3.init($,q),H6.init($,q)});function Pr($){return dv(oV,$)}var s5=j$("ZodDate",($,q)=>{Q3.init($,q),H6.init($,q),$.min=(K,P)=>$.check(Qq(K,P)),$.max=(K,P)=>$.check(Z8(K,P));let _=$._zod.bag;$.minDate=_.minimum?new Date(_.minimum):null,$.maxDate=_.maximum?new Date(_.maximum):null});function Or($){return lv(s5,$)}var nV=j$("ZodArray",($,q)=>{e3.init($,q),H6.init($,q),$.element=q.element,$.min=(_,K)=>$.check(i_(_,K)),$.nonempty=(_)=>$.check(i_(1,_)),$.max=(_,K)=>$.check(v4(_,K)),$.length=(_,K)=>$.check(z4(_,K)),$.unwrap=()=>$.element});function $2($,q){return Fv(nV,$,q)}function Yr($){let q=$._zod.def.shape;return EJ(Object.keys(q))}var q2=j$("ZodObject",($,q)=>{s3.init($,q),H6.init($,q),l$.defineLazy($,"shape",()=>{return q.shape}),$.keyof=()=>EJ(Object.keys($._zod.def.shape)),$.catchall=(_)=>$.clone({...$._zod.def,catchall:_}),$.passthrough=()=>$.clone({...$._zod.def,catchall:c4()}),$.loose=()=>$.clone({...$._zod.def,catchall:c4()}),$.strict=()=>$.clone({...$._zod.def,catchall:SJ()}),$.strip=()=>$.clone({...$._zod.def,catchall:void 0}),$.extend=(_)=>{return l$.extend($,_)},$.safeExtend=(_)=>{return l$.safeExtend($,_)},$.merge=(_)=>l$.merge($,_),$.pick=(_)=>l$.pick($,_),$.omit=(_)=>l$.omit($,_),$.partial=(..._)=>l$.partial(RJ,$,_[0]),$.required=(..._)=>l$.required(IJ,$,_[0])});function jr($,q){let _={type:"object",shape:$??{},...l$.normalizeParams(q)};return new q2(_)}function vr($,q){return new q2({type:"object",shape:$,catchall:SJ(),...l$.normalizeParams(q)})}function zr($,q){return new q2({type:"object",shape:$,catchall:c4(),...l$.normalizeParams(q)})}var MJ=j$("ZodUnion",($,q)=>{o9.init($,q),H6.init($,q),$.options=q.options});function NJ($,q){return new MJ({type:"union",options:$,...l$.normalizeParams(q)})}var iV=j$("ZodDiscriminatedUnion",($,q)=>{MJ.init($,q),$j.init($,q)});function Wr($,q,_){return new iV({type:"union",options:q,discriminator:$,...l$.normalizeParams(_)})}var BV=j$("ZodIntersection",($,q)=>{qj.init($,q),H6.init($,q)});function tV($,q){return new BV({type:"intersection",left:$,right:q})}var UV=j$("ZodTuple",($,q)=>{n9.init($,q),H6.init($,q),$.rest=(_)=>$.clone({...$._zod.def,rest:_})});function FV($,q,_){let K=q instanceof P6,P=K?_:q;return new UV({type:"tuple",items:$,rest:K?q:null,...l$.normalizeParams(P)})}var CJ=j$("ZodRecord",($,q)=>{_j.init($,q),H6.init($,q),$.keyType=q.keyType,$.valueType=q.valueType});function aV($,q,_){return new CJ({type:"record",keyType:$,valueType:q,...l$.normalizeParams(_)})}function Jr($,q,_){let K=l6($);return K._zod.values=void 0,new CJ({type:"record",keyType:K,valueType:q,...l$.normalizeParams(_)})}var QV=j$("ZodMap",($,q)=>{Kj.init($,q),H6.init($,q),$.keyType=q.keyType,$.valueType=q.valueType});function Hr($,q,_){return new QV({type:"map",keyType:$,valueType:q,...l$.normalizeParams(_)})}var eV=j$("ZodSet",($,q)=>{Pj.init($,q),H6.init($,q),$.min=(..._)=>$.check(AK(..._)),$.nonempty=(_)=>$.check(AK(1,_)),$.max=(..._)=>$.check(j4(..._)),$.size=(..._)=>$.check(Y7(..._))});function Tr($,q){return new eV({type:"set",valueType:$,...l$.normalizeParams(q)})}var l7=j$("ZodEnum",($,q)=>{Oj.init($,q),H6.init($,q),$.enum=q.entries,$.options=Object.values(q.entries);let _=new Set(Object.keys(q.entries));$.extract=(K,P)=>{let O={};for(let Y of K)if(_.has(Y))O[Y]=q.entries[Y];else throw Error(`Key ${Y} not found in enum`);return new l7({...q,checks:[],...l$.normalizeParams(P),entries:O})},$.exclude=(K,P)=>{let O={...q.entries};for(let Y of K)if(_.has(Y))delete O[Y];else throw Error(`Key ${Y} not found in enum`);return new l7({...q,checks:[],...l$.normalizeParams(P),entries:O})}});function EJ($,q){let _=Array.isArray($)?Object.fromEntries($.map((K)=>[K,K])):$;return new l7({type:"enum",entries:_,...l$.normalizeParams(q)})}function wr($,q){return new l7({type:"enum",entries:$,...l$.normalizeParams(q)})}var sV=j$("ZodLiteral",($,q)=>{Yj.init($,q),H6.init($,q),$.values=new Set(q.values),Object.defineProperty($,"value",{get(){if(q.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return q.values[0]}})});function fr($,q){return new sV({type:"literal",values:Array.isArray($)?$:[$],...l$.normalizeParams(q)})}var $S=j$("ZodFile",($,q)=>{jj.init($,q),H6.init($,q),$.min=(_,K)=>$.check(AK(_,K)),$.max=(_,K)=>$.check(j4(_,K)),$.mime=(_,K)=>$.check(T7(Array.isArray(_)?_:[_],K))});function Zr($){return av($S,$)}var qS=j$("ZodTransform",($,q)=>{vj.init($,q),H6.init($,q),$._zod.parse=(_,K)=>{if(K.direction==="backward")throw new TK($.constructor.name);_.addIssue=(O)=>{if(typeof O==="string")_.issues.push(l$.issue(O,_.value,q));else{let Y=O;if(Y.fatal)Y.continue=!1;Y.code??(Y.code="custom"),Y.input??(Y.input=_.value),Y.inst??(Y.inst=$),_.issues.push(l$.issue(Y))}};let P=q.transform(_.value,_);if(P instanceof Promise)return P.then((O)=>{return _.value=O,_});return _.value=P,_}});function hJ($){return new qS({type:"transform",transform:$})}var RJ=j$("ZodOptional",($,q)=>{i9.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function F5($){return new RJ({type:"optional",innerType:$})}var _S=j$("ZodNullable",($,q)=>{zj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function a5($){return new _S({type:"nullable",innerType:$})}function Xr($){return F5(a5($))}var KS=j$("ZodDefault",($,q)=>{Wj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType,$.removeDefault=$.unwrap});function PS($,q){return new KS({type:"default",innerType:$,get defaultValue(){return typeof q==="function"?q():l$.shallowClone(q)}})}var OS=j$("ZodPrefault",($,q)=>{Jj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function YS($,q){return new OS({type:"prefault",innerType:$,get defaultValue(){return typeof q==="function"?q():l$.shallowClone(q)}})}var IJ=j$("ZodNonOptional",($,q)=>{Hj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function jS($,q){return new IJ({type:"nonoptional",innerType:$,...l$.normalizeParams(q)})}var vS=j$("ZodSuccess",($,q)=>{Tj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function Ar($){return new vS({type:"success",innerType:$})}var zS=j$("ZodCatch",($,q)=>{wj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType,$.removeCatch=$.unwrap});function WS($,q){return new zS({type:"catch",innerType:$,catchValue:typeof q==="function"?q:()=>q})}var JS=j$("ZodNaN",($,q)=>{fj.init($,q),H6.init($,q)});function kr($){return ov(JS,$)}var DJ=j$("ZodPipe",($,q)=>{Zj.init($,q),H6.init($,q),$.in=q.in,$.out=q.out});function Q5($,q){return new DJ({type:"pipe",in:$,out:q})}var LJ=j$("ZodCodec",($,q)=>{DJ.init($,q),FP.init($,q)});function Gr($,q,_){return new LJ({type:"pipe",in:$,out:q,transform:_.decode,reverseTransform:_.encode})}var HS=j$("ZodReadonly",($,q)=>{Xj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function TS($){return new HS({type:"readonly",innerType:$})}var wS=j$("ZodTemplateLiteral",($,q)=>{Aj.init($,q),H6.init($,q)});function Vr($,q){return new wS({type:"template_literal",parts:$,...l$.normalizeParams(q)})}var fS=j$("ZodLazy",($,q)=>{Vj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.getter()});function ZS($){return new fS({type:"lazy",getter:$})}var XS=j$("ZodPromise",($,q)=>{Gj.init($,q),H6.init($,q),$.unwrap=()=>$._zod.def.innerType});function Sr($){return new XS({type:"promise",innerType:$})}var AS=j$("ZodFunction",($,q)=>{kj.init($,q),H6.init($,q)});function Mr($){return new AS({type:"function",input:Array.isArray($?.input)?FV($?.input):$?.input??$2(c4()),output:$?.output??c4()})}var _2=j$("ZodCustom",($,q)=>{Sj.init($,q),H6.init($,q)});function Nr($){let q=new h6({check:"custom"});return q._zod.check=$,q}function Cr($,q){return Qv(_2,$??(()=>!0),q)}function kS($,q={}){return ev(_2,$,q)}function GS($){return sv($)}var Er=$z,hr=qz;function Rr($,q={error:`Input not instance of ${$.name}`}){let _=new _2({type:"custom",check:"custom",fn:(K)=>K instanceof $,abort:!0,...l$.normalizeParams(q)});return _._zod.bag.Class=$,_}var Ir=(...$)=>_z({Codec:LJ,Boolean:i7,String:r7},...$);function Dr($){let q=ZS(()=>{return NJ([_J($),yV(),uV(),mV(),$2(q),aV(_J(),q)])});return q}function Lr($,q){return Q5(hJ($),q)}var gr={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function br($){i6({customError:$})}function yr(){return i6().customError}var gJ;(function($){})(gJ||(gJ={}));var bJ={};oq(bJ,{string:()=>ur,number:()=>xr,date:()=>mr,boolean:()=>pr,bigint:()=>cr});function ur($){return Zv(r7,$)}function xr($){return Nv(n7,$)}function pr($){return Lv(i7,$)}function cr($){return bv(B7,$)}function mr($){return rv(s5,$)}i6(aP());function B4(){if(typeof process<"u"&&process.versions&&process.versions.node)return"node";if(typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u")return"browser";return"unknown"}class kM{store={};constructor(){if(typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV)this.store={...globalThis.window.ENV};if(typeof globalThis<"u"&&globalThis.__ENV__)this.store={...this.store,...globalThis.__ENV__}}get($){let q=this.store[$];return q!==void 0?String(q):void 0}set($,q){this.store[$]=q}has($){return $ in this.store}getAll(){return{...this.store}}}class GM{runtime;browserStore;cache=new Map;constructor(){if(this.runtime=B4(),this.runtime==="browser")this.browserStore=new kM}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get($,q){if(this.cache.has($)){let K=this.cache.get($);return K===void 0&&q!==void 0?q:K}let _;switch(this.runtime){case"node":if(typeof process<"u"&&process.env)_=process.env[$];break;case"browser":if(this.browserStore)_=this.browserStore.get($);break;default:_=void 0}return this.cache.set($,_),_===void 0&&q!==void 0?q:_}set($,q){let _=String(q);switch(this.cache.delete($),this.runtime){case"node":if(typeof process<"u"&&process.env)process.env[$]=_;break;case"browser":if(this.browserStore)this.browserStore.set($,q);break}}has($){return this.get($)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&process.env)return{...process.env};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean($,q=!1){let _=this.get($);if(_===void 0)return q;return["true","1","yes","on"].includes(_.toLowerCase())}getNumber($,q){let _=this.get($);if(_===void 0)return q;let K=Number(_);return isNaN(K)?q:K}clearCache(){this.cache.clear()}}var SH=null;function t4(){if(!SH)SH=new GM;return SH}function E_($,q){return t4().get($,q)}function U9$($,q){t4().set($,q)}function F9$($){return t4().has($)}function a9$($,q=!1){return t4().getBoolean($,q)}function VM($,q){return t4().getNumber($,q)}function Q9$($){let q=t4();if(q.isBrowser())Object.entries($).forEach(([_,K])=>{if(K!==void 0)q.set(_,K)})}var e9$=B4();function St($,q=[".env",".env.local"]){if(typeof process>"u"||!process.cwd)return null;let _=(()=>({})),K=(xJ(),J6(uJ)),P=$||process.cwd();while(!0){for(let Y of q){let z=K.join(P,Y);if(_.existsSync(z))return z}let O=K.dirname(P);if(O===P)break;P=O}return null}function s9$($){if(typeof process>"u"||!process.cwd)return!1;try{let q=AM(),_=$||St();if(!_)return!1;let K=q.config({path:_});if(K.error){if(typeof console<"u"&&console.warn)console.warn(`Failed to parse .env file at ${_}:`,K.error);return!1}return!0}catch(q){if(typeof console<"u"&&console.warn)console.warn("Failed to load .env file:",q);return!1}}class V2{globalStore;constructor($){this.globalStore=$}clear(){console.clear()}filterByLabel($){SM($,this.globalStore.cache).forEach((_)=>{j1(_)})}filterByNamespace(...$){MM($,this.globalStore.cache).forEach((_)=>{j1(_)})}filterByLevel($){NM($,this.globalStore.cache).forEach((_)=>{j1(_)})}renderAll(){this.globalStore.cache.forEach(($)=>{j1($)})}}class U4{config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor($={}){this.config=$}get cache(){return this._cache}get configuration(){return this.config}get pid(){let $=this.pidCounter;return this.pidCounter++,$}get tools(){return new V2(this)}addLogToCache($){if(this._cache.length<(this.config.cacheSize??300))this._cache.push($)}clearCache(){this._cache=[]}getLabel($){return this.labels.get($)}setLabel($,q){this.labels.set($,q)}addListener($,q){let _=this._listenerCounter+=1;return v1({...z8.levels,...this.config.levels??{}},$).forEach((P)=>{if(this._levelsToListeners.has(P))this._levelsToListeners.get(P).set(_,q);else this._levelsToListeners.set(P,new Map([[_,q]]))}),_}removeListener($){this._levelsToListeners.forEach((q)=>{q.delete($)})}getListeners($){return Array.from(this._levelsToListeners.get($)?.values()??[])}}function MH($){return globalThis.$adzeGlobal=new U4($),globalThis.$adzeGlobal}function S2($){let q=globalThis.$adzeGlobal;if(Mt(q))return q;let _=new U4($);return globalThis.$adzeGlobal=_,_}function Mt($){return $ instanceof U4}function h_(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!Nt()}function Nt(){return typeof Deno<"u"}function CM($){return h_()}function EM(){let $=!1;if(h_())$=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test";return globalThis.$ADZE_ENV==="test"||$}function hM(){let $=globalThis;if(CM($))return $.navigator.userAgent.includes("Firefox");return!1}function F4($){return Object.prototype.toString.call($)==="[object String]"}function a4($){return $!==null&&typeof $==="number"&&!isNaN(Number($))}function M2($){return EH.includes($)}function RM($){return LM.includes($)}function IM($){return CH.includes($)}function NH($){return $.every((q)=>F4(q))}function DM($){return Array.isArray($)&&$.length===3&&$[1]==="-"}function gM(){return Error().stack?.replace(/^Error\n/,`
`)}function bM($){if(a4($.activeLevel))return $.activeLevel;return $.levels[$.activeLevel].level}var IH=N8(uM(),1),xM=IH.default??IH;function DH($){return $.charAt(0).toUpperCase()+$.slice(1)}function LH($){return Object.values($).map((q)=>q.level)}function gH($,q,_){return $.filter((K)=>K>=q&&K<=_)}function bH($,q=!1,_){let P=(q&&_?9+_.length:9)-$.length,O=$;for(let Y=0;Y<=P;Y+=1)O+=" ";return O}function yH($,q){return q.reduce((_,K)=>{return xM[K](_)},$)}function j1($){if($.data)console[$.data.method](...$.data.message)}function pM($){return $.filter((q)=>q!=="")}function cM($){return typeof $==="object"&&$!==null}function v1($,q){if(q==="*")return Object.values($).map((_)=>_.level);if(F4(q))return[$[q].level];if(a4(q))return[q];if(DM(q)){if(NH(q)){let _=$[q[0]].level,K=$[q[2]].level;return gH(LH($),_,K)}return gH(LH($),q[0],q[2])}if(Array.isArray(q)&&NH(q))return q.map((_)=>$[_].level);return q}function uH($,q,_){if(q.length===0)return!1;return $==="include"?!q.includes(_):q.includes(_)}function xH($,q){if($.length===0)return!1;if($.length>0&&q.length===0)return!0;return!q.map((_)=>$.includes(_)).includes(!0)}function pH($,q){if($.length===0)return!1;if($.length>0&&q.length===0)return!0;return q.map((_)=>$.includes(_)).includes(!0)}function SM($,q){return q.filter((_)=>_.data?.label?.name===$)}function MM($,q){return q.filter((_)=>{if(_.data?.namespace)return _.data.namespace.map((P)=>$.includes(P)).includes(!0);return!1})}function NM($,q){return q.filter((_)=>{let K=v1(_.configuration.levels,$);if(_.data?.level===void 0)return!1;return uH("exclude",K,_.data.level)})}function cH($){if($&&$.length>0)return $.reduce((q,_)=>`${q}#${_} `,"");return""}function mH($){return $?`[${$.name}] `:""}function dH($){return $!==void 0?`(Count: ${$}) `:""}function lH($,q){return $!==void 0&&!$?`${q?" ":""}Assertion failed:`:""}function rH($,q){return $!==void 0&&$?`${q?" ":""}Expression passed:`:""}var N2=-1,Q4=0,e4=1,s4=2,z1=3,W1=4,J1=5,H1=6,C2=7,E2=8;var mM=typeof self==="object"?self:globalThis,Ct=($,q)=>{let _=(P,O)=>{return $.set(O,P),P},K=(P)=>{if($.has(P))return $.get(P);let[O,Y]=q[P];switch(O){case Q4:case N2:return _(Y,P);case e4:{let z=_([],P);for(let H of Y)z.push(K(H));return z}case s4:{let z=_({},P);for(let[H,T]of Y)z[K(H)]=K(T);return z}case z1:return _(new Date(Y),P);case W1:{let{source:z,flags:H}=Y;return _(new RegExp(z,H),P)}case J1:{let z=_(new Map,P);for(let[H,T]of Y)z.set(K(H),K(T));return z}case H1:{let z=_(new Set,P);for(let H of Y)z.add(K(H));return z}case C2:{let{name:z,message:H}=Y;return _(new mM[z](H),P)}case E2:return _(BigInt(Y),P);case"BigInt":return _(Object(BigInt(Y)),P)}return _(new mM[O](Y),P)};return K},oH=($)=>Ct(new Map,$)(0);var $P="",{toString:Et}={},{keys:ht}=Object,T1=($)=>{let q=typeof $;if(q!=="object"||!$)return[Q4,q];let _=Et.call($).slice(8,-1);switch(_){case"Array":return[e4,$P];case"Object":return[s4,$P];case"Date":return[z1,$P];case"RegExp":return[W1,$P];case"Map":return[J1,$P];case"Set":return[H1,$P]}if(_.includes("Array"))return[e4,_];if(_.includes("Error"))return[C2,_];return[s4,_]},h2=([$,q])=>$===Q4&&(q==="function"||q==="symbol"),Rt=($,q,_,K)=>{let P=(Y,z)=>{let H=K.push(Y)-1;return _.set(z,H),H},O=(Y)=>{if(_.has(Y))return _.get(Y);let[z,H]=T1(Y);switch(z){case Q4:{let f=Y;switch(H){case"bigint":z=E2,f=Y.toString();break;case"function":case"symbol":if($)throw TypeError("unable to serialize "+H);f=null;break;case"undefined":return P([N2],Y)}return P([z,f],Y)}case e4:{if(H)return P([H,[...Y]],Y);let f=[],w=P([z,f],Y);for(let k of Y)f.push(O(k));return w}case s4:{if(H)switch(H){case"BigInt":return P([H,Y.toString()],Y);case"Boolean":case"Number":case"String":return P([H,Y.valueOf()],Y)}if(q&&"toJSON"in Y)return O(Y.toJSON());let f=[],w=P([z,f],Y);for(let k of ht(Y))if($||!h2(T1(Y[k])))f.push([O(k),O(Y[k])]);return w}case z1:return P([z,Y.toISOString()],Y);case W1:{let{source:f,flags:w}=Y;return P([z,{source:f,flags:w}],Y)}case J1:{let f=[],w=P([z,f],Y);for(let[k,S]of Y)if($||!(h2(T1(k))||h2(T1(S))))f.push([O(k),O(S)]);return w}case H1:{let f=[],w=P([z,f],Y);for(let k of Y)if($||!h2(T1(k)))f.push(O(k));return w}}let{message:T}=Y;return P([z,{name:H,message:T}],Y)};return O},nH=($,{json:q,lossy:_}={})=>{let K=[];return Rt(!(q||_),!!q,new Map,K)($),K};var iH=typeof structuredClone==="function"?($,q)=>q&&(("json"in q)||("lossy"in q))?oH(nH($,q)):structuredClone($):($,q)=>oH(nH($,q));function BH($,q,_,K){let{formatters:P,middleware:O=[],...Y}=q.exportValues();return class extends ${_cfg=new qP({...iH(Y),formatters:{...P},middleware:[...O]});_modifierData=iH(_);modifierQueue=[...K]}}function tH([$,q]){return`${$}s ${q/1e6}ms`}function dM(){return tH(R2())}function R2($){let q=performance.now()*0.001,_=Math.floor(q),K=Math.floor(q%1*1e9);if($===void 0)return[_,K];let P=_-$[0],O=K-$[1];if(O<0)P-=1,O+=1e9;return[P,O]}function _P($){let q=(O)=>`${Math.floor(Math.abs(O))}`.padStart(2,"0"),_=-$.getTimezoneOffset(),P=`${_>=0?"+":"-"}${q(_/60)}:${q(_%60)}`;return`${$.getFullYear()}-${q($.getMonth()+1)}-${q($.getDate())}T${q($.getHours())}:${q($.getMinutes())}:${q($.getSeconds())}${P}`}function lM($){let q=(h,E=2)=>String(h).padStart(E,"0"),_=q($.getDate()),P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][$.getMonth()],O=$.getFullYear(),Y=q($.getHours()),z=q($.getMinutes()),H=q($.getSeconds()),T=-$.getTimezoneOffset(),f=T>=0?"+":"-",w=Math.abs(T),k=q(Math.floor(w/60)),S=q(w%60),N=`${f}${k}${S}`;return`${_}/${P}/${O}:${Y}:${z}:${H} ${N}`}class c8{cfg;level;timestampFormatFunction=($)=>_P($);constructor($,q){this.cfg=$,this.level=q}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print($,q,_){if(this.level.level>bM(this.cfg))return[];if(this.failsFilters($))return[];if($.assertion===!0)return[];if($.if===!1)return[];if($.method&&!IM($.method)){if(RM($.method)&&M2($.method))return _}let K=h_()?this.formatBrowser($,q,_):this.formatServer($,q,_);if($.stacktrace)K.push($.stacktrace);return K}failsFilters($){if(this.failsLevelSelector())return!0;if(this.failsNamespacesFilter($))return!0;if(this.failsLabelsFilter($))return!0;return!1}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let $=v1(this.cfg.levels,this.cfg.filters.levels.values);if(uH(this.cfg.filters.levels.type,$,this.level.level))return!0;return!1}failsNamespacesFilter($){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&$.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let _=$.namespace??[];return xH(this.cfg.filters.namespaces.values,_)}let q=$.namespace??[];return pH(this.cfg.filters.namespaces.values,q)}failsLabelsFilter($){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&$.label===void 0)return!0;let q=$.label?[$.label.name]:[];if(this.cfg.filters.labels.type==="include")return xH(this.cfg.filters.labels.values,q);return pH(this.cfg.filters.labels.values,q)}}class I2 extends c8{timestampFormatFunction=($)=>lM($);formatBrowser($,q,_){return this.formatMessage($,q,_)}formatServer($,q,_){return this.formatMessage($,q,_)}formatMessage($,q,_){if(this.cfg.meta.hostname===void 0)console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let K=this.cfg.meta.hostname,P=this.cfg.meta.ident??"-",O=this.cfg.meta.user??"-",Y=_[0];return[`${K} ${P} ${O} [${q}] ${Y}`]}}var rM=I2;function oM($){return typeof $.name==="string"&&typeof $.hostname==="string"}class D2 extends c8{timestampFormatFunction=($)=>_P($);formatBrowser($,q,_){return this.formatMessage($,q,_)}formatServer($,q,_){return this.formatMessage($,q,_)}formatMessage($,q,_){let K=S2(),P=[..._],O=P.shift();if(oM(this.cfg.meta)){let{src:Y,err:z,req_id:H,req:T,res:f,latency:w,hostname:k,name:S,...N}=this.cfg.meta,{namespace:h,label:E}=$,D={v:1,level:this.level.level,levelName:this.level.levelName,name:S,hostname:k,msg:O,args:P,pid:K.pid,time:q,meta:Object.keys(N).length>0?N:void 0,namespace:h,label:E?.name,src:Y,err:z,req_id:H,req:T,res:f,latency:w};return[JSON.stringify(D)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...P]}}var nM=D2;class L2 extends c8{formatBrowser($,q,_){let K=this.formatLeader(),P=this.formatMeta($,q);if(this.cfg.withEmoji)return[K,"font-size: 12px;",this.level.style,P,..._];return[K,this.level.style,P,..._]}formatServer($,q,_){let K=[],O=`${bH(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,Y=this.formatMeta($,q),z=yH(O,this.level.terminalStyle);return K.push(z),Y!==""&&K.push(Y),[z,Y,..._]}formatLeader($=!0){let q=$?"%c":"",_=" "+DH(this.level.levelName);if(this.cfg.withEmoji)return`${q}${this.formatEmoji($)}${q}${_}`;return`${q}${_}`}formatEmoji($){let q=$?" ":"";return this.level.emoji?`${this.level.emoji}${q}`:""}formatMeta($,q){let _=this.cfg.showTimestamp?`${q} `:"",K=cH($.namespace),P=mH($.label),O=this.formatTime($),Y=dH($.label?.count),z=lH($.assertion,this.cfg.withEmoji),H=rH($.if,this.cfg.withEmoji),T=z!==""?z:H!==""?H:"";return _+K+P+O+Y+T}formatTime($){let q=this.cfg.withEmoji?" ":"Time elapsed: ";if($.timeNow)return`(${q}${$.timeNow})`;return $.label?.timeElapsed?`(${q}${$.label.timeElapsed})`:""}}var UH=L2;class w1 extends c8{timestampFormatFunction=($)=>_P($);formatBrowser($,q,_){return this.formatMessage(q,$,_)}formatServer($,q,_){return this.formatMessage(q,$,_)}formatMessage($,q,_){let K="",{appname:P,hostname:O,port:Y}=this.cfg.meta,z=a4(Y)?`/${Y}`:"",H=F4(P)?`${P}${z}`:"",T=F4(O)?` on ${O}: `:"",f=this.formatNamespace(q.namespace),w=q.label?`[${q.label.name}] `:"";return K=`${H}${T}${f}${w}`,[`[${$}] ${this.level.levelName.toUpperCase()}: ${K}${_[0]} `,_.map((k)=>cM(k)?JSON.stringify(k):k).slice(1).join(" ")]}formatNamespace($){if($&&$.length>0)return`${$.reduce((_,K,P)=>{return P===$.length-1?`${_}${K}`:`${_}${K}/`},"")} `;return""}}var CH=["group","groupCollapsed"],iM=["dir","dirxml","table",...CH],EH=["error","warn","info","log","debug",...iM],hH=["clear","groupEnd"],LM=[...iM,...hH],M2$=[...EH,...hH];var z8={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",meta:{},middleware:[],showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:It(),error:Dt(),warn:Lt(),info:gt(),fail:bt(),success:yt(),log:ut(),debug:xt(),verbose:pt()},formatters:{default:UH,pretty:UH,standard:w1,common:rM,json:nM}};function It($={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"\uD83D\uDEA8",...$}}function Dt($={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"\uD83D\uDD25",...$}}function Lt($={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${hM()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"\uD83D\uDD14",...$}}function gt($={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...$}}function bt($={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...$}}function yt($={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"\uD83C\uDF89",...$}}function ut($={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"\uD83E\uDEB5",...$}}function xt($={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"\uD83D\uDC1E",...$}}function pt($={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"\uD83D\uDCAC",...$}}class qP{logCfg;glblCfg;constructor($){this.logCfg=$??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration($){this.logCfg=$}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??z8.activeLevel}set activeLevel($){this.logCfg.activeLevel=$}get cache(){return this.glblCfg?.cache??this.logCfg.cache??z8.cache}set cache($){this.logCfg.cache=$}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??z8.cacheSize}set cacheSize($){this.logCfg.cacheSize=$}get dump(){return this.glblCfg?.dump??this.logCfg.dump??z8.dump}set dump($){this.logCfg.dump=$}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta($){this.logCfg.meta=$}get silent(){return this.glblCfg?.silent??this.logCfg.silent??z8.silent}set silent($){this.logCfg.silent=$}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??z8.showTimestamp}set showTimestamp($){this.logCfg.showTimestamp=$}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??z8.withEmoji}set withEmoji($){this.logCfg.withEmoji=$}get format(){return this.glblCfg?.format??this.logCfg.format??z8.format}set format($){this.logCfg.format=$}get levels(){return{...z8.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels($){this.logCfg.levels=$}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware($){this.logCfg.middleware=$}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters($){this.logCfg.filters=$}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter($){this.logCfg.timestampFormatter=$}get formatters(){return{...z8.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters($){this.logCfg.formatters=$}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function ct($){return typeof $==="function"}class KP{globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor($,q){this.globalStore=S2($),this._modifierData=q??{},this._cfg=new qP($),this.doHook((_)=>{if(_.constructed)_.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...$){this.terminate("alert",$)}static alert(...$){new this().alert(...$)}error(...$){this.terminate("error",$)}static error(...$){new this().error(...$)}warn(...$){this.terminate("warn",$)}static warn(...$){new this().warn(...$)}info(...$){this.terminate("info",$)}static info(...$){new this().info(...$)}fail(...$){this.terminate("fail",$)}static fail(...$){new this().fail(...$)}success(...$){this.terminate("success",$)}static success(...$){new this().success(...$)}log(...$){this.terminate("log",$)}static log($,...q){new this().log(...[$,...q])}debug(...$){this.terminate("debug",$)}static debug(...$){new this().debug(...$)}verbose(...$){this.terminate("verbose",$)}static verbose(...$){new this().verbose(...$)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom($,...q){if(!this._cfg.levels[$])return console.warn(Error("Custom log level not found in configuration.")),this;return this.terminate($,q),this}static custom($,...q){return new this().custom($,...q)}seal($){if($)this._cfg.updateConfiguration($);return BH(KP,this._cfg,this.modifierData,this.modifierQueue)}static seal($){return new this().seal($)}sealTag($,q){return this._cfg=new qP({...this._cfg.exportValues(),...q}),(_,...K)=>{let P=String.raw({raw:_},...K),O=BH(KP,this._cfg,this.modifierData,this.modifierQueue),Y=$;if(ct(O[Y]))O[Y](P)}}static sealTag($,q){return new this().sealTag($,q)}thread($,q){if(this.runModifierQueue(),this._modifierData.label){if(!this._modifierData.label.context)this._modifierData.label.context={};this._modifierData.label.context={...this._modifierData.label.context,[$]:q}}}static thread($,q){new this().thread($,q)}assert($){return this.modifierQueue.push(["assert",(q)=>{return q.assertion=$,q}]),this}static assert($){return new this().assert($)}get closeThread(){return this.modifierQueue.push(["closeThread",($)=>{if($.label?.context)$.label.context=void 0;return $}]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",($)=>{if($.label)$.label.count=$.label.count!==void 0?$.label.count+1:1;return $}]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",($)=>{if($.label)delete $.label.count;return $}]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",($)=>{if($.label)$.label.count=0;return $}]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",($)=>{return $.method="dir",$}]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",($)=>{return $.method="dirxml",$}]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",($,q)=>{return q._cfg.dump=!0,$}]),this}static get dump(){return new this().dump}format($){return this.modifierQueue.push(["format",(q,_)=>{if(Object.keys(_._cfg.formatters).includes($))return _._cfg.format=$,q;return console.warn(Error(`Adze: Formatter "${$}" not found in configuration.`)),q}]),this}static format($){return new this().format($)}get group(){return this.modifierQueue.push(["group",($)=>{return $.method="group",$}]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",($)=>{return $.method="groupCollapsed",$}]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",($)=>{return $.method="groupEnd",$}]),this}static get groupEnd(){return new this().groupEnd}if($){return this.modifierQueue.push(["if",(q)=>{return q.if=$,q}]),this}static if($){return new this().if($)}test($){return this.if($)}static test($){return new this().if($)}label($){return this.modifierQueue.unshift(["label",(q)=>{let _=this.globalStore.getLabel($)??{name:$};return q.label=_,this.globalStore.setLabel($,_),q}]),this}static label($){return new this().label($)}meta($){return this.modifierQueue.push(["meta",(q,_)=>{return _._cfg.meta={..._._cfg.meta,...$},q}]),this}static meta($){return new this().meta($)}namespace(...$){return this.modifierQueue.push(["namespace",(q)=>{let _=q.namespace??[];return q.namespace=_.length>0?[..._,...$]:$,q}]),this}static namespace(...$){return new this().namespace(...$)}ns(...$){return this.namespace(...$)}static ns(...$){return new this().namespace(...$)}get silent(){return this.modifierQueue.push(["silent",($,q)=>{return q._cfg.silent=!0,$}]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",($)=>{return $.method="table",$}]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",($)=>{let q=R2();if($.label)$.label.timeStart=q;return $}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",($)=>{if($.label?.timeStart)$.label.timeElapsed=tH(R2($.label.timeStart));return $}]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",($)=>{return $.timeNow=dM(),$}]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",($,q)=>{return q._cfg.showTimestamp=!0,$}]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",($)=>{return $.stacktrace=gM(),$}]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",($,q)=>{return q._cfg.withEmoji=!0,$}]),this}static get withEmoji(){return new this().withEmoji}print($){if(EM())return;if($.silent)return;if($.message.length<1)return;if(M2($.method))console[$.method](...$.message);else console[$.method]()}terminate($,q){this.doHook((D)=>{if(D.beforeTerminated)D.beforeTerminated(this,$,q)}),this.runModifierQueue();let _=this.getLevelConfig($),P=new(this.selectFormatter(this._cfg.format))(this._cfg,_),O=P.timestampFormatter(new Date),Y=pM(P.print(this.modifierData,O,q));if(this._cfg.dump&&this.modifierData.label?.context)Y.push(this.modifierData.label.context);this.doHook((D)=>{if(D.beforeFormatApplied)Y=D.beforeFormatApplied(this,this._cfg.format,Y)});let{activeLevel:z,cache:H,cacheSize:T,dump:f,format:w,meta:k,showTimestamp:S,silent:N,withEmoji:h}=this._cfg,E={activeLevel:z,cache:H,cacheSize:T,dump:f,format:w,meta:k,showTimestamp:S,silent:N,withEmoji:h,..._,...this._modifierData,terminator:$,args:q,timestamp:O,message:Y};if(this.doHook((D)=>{if(D.afterFormatApplied)D.afterFormatApplied(this,this._cfg.format,Y)}),this._data=E,this._cfg.cache)this.globalStore.addLogToCache(this);this.doHook((D)=>{if(D.beforePrint)D.beforePrint(this)}),this.print(this._data),this.doHook((D)=>{if(D.afterTerminated)D.afterTerminated(this,$,q)}),this.globalStore.getListeners(_.level).forEach((D)=>{D(this)})}selectFormatter($){return this._cfg.formatters[$]}getLevelConfig($){return this._cfg.levels[$]}runModifierQueue(){this.modifierQueue.forEach(([$,q])=>{let _=q(this.modifierData,this);this.doHook((K)=>{if(K.beforeModifierApplied)K.beforeModifierApplied(this,$,_)}),this._modifierData=_,this.doHook((K)=>{if(K.afterModifierApplied)K.afterModifierApplied(this,$,_)})})}doHook($){this._cfg.middleware?.forEach((q)=>{$(q)})}}class mt{targetEnvironment;environment=h_()?"browser":"server";dependencyLoaders=[];constructor($){if(this.targetEnvironment=$??"both",!h_()&&(this.targetEnvironment==="server"||this.targetEnvironment==="both"))this.dependencyLoaders.push(this.loadServerDependencies());if(h_()&&(this.targetEnvironment==="browser"||this.targetEnvironment==="both"))this.dependencyLoaders.push(this.loadBrowserDependencies())}async load(){await Promise.all(this.dependencyLoaders)}async loadServerDependencies(){}async loadBrowserDependencies(){}}var dt=["black","red","green","yellow","blue","magenta","cyan","white","gray","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","reset","bold","dim","italic","underline","inverse","hidden","strikethrough"],BM=Object.freeze(dt);var tM=KP;var TN=N8(WN(),1),PO$={__noop:()=>{}},y2={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},XU={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function JN($,q){let _=y2[$.toLowerCase()]||30,K=y2[q.toLowerCase()]||30;return _>=K}function u2($){try{let q=new WeakSet;return JSON.stringify($,(_,K)=>{if(typeof K==="object"&&K!==null){if(q.has(K))return"[Circular]";q.add(K)}return K})}catch{return String($)}}function wN($){if(!$)return!1;let q=$.toLowerCase().trim();return q==="true"||q==="1"||q==="yes"||q==="on"}function AU($){if($===null)return"null";if($===void 0)return"undefined";if(typeof $==="string")return $;if(typeof $==="number"||typeof $==="boolean")return String($);if($ instanceof Error)return $.message;return u2($)}function b2($,q,_){if(_)return q;let K=$.src,P=K?`[${K.toUpperCase()}] `:"",O=["src","agentId","agentName"],Y=[];for(let[H,T]of Object.entries($)){if(O.includes(H))continue;if(T===void 0)continue;Y.push(`${H}=${AU(T)}`)}let z=Y.length>0?` (${Y.join(", ")})`:"";return`${P}${q}${z}`}var kU="info",x2=E_("LOG_LEVEL")||kU,jO$={fatal:60,error:50,warn:40,info:30,log:29,progress:28,success:27,debug:20,trace:10},cK=wN(E_("LOG_JSON_FORMAT")),sH=wN(E_("LOG_TIMESTAMPS")??"true"),GU=E_("SERVER_ID")||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID().slice(0,8):Math.random().toString(36).slice(2,10)),HN=TN.default({paths:["password","passwd","secret","token","apiKey","api_key","apiSecret","api_secret","authorization","auth","credential","credentials","privateKey","private_key","accessToken","access_token","refreshToken","refresh_token","cookie","session","jwt","bearer","*.password","*.secret","*.token","*.apiKey","*.api_key","*.authorization","*.credential","*.credentials","*.privateKey","*.accessToken","*.refreshToken"],serialize:!1,censor:"[REDACTED]"});function VU($=100){let q=[];return{write(_){if(q.push(_),q.length>$)q.shift()},clear(){q.length=0},recentLogs(){return q.map((_)=>{let K=sH?new Date(_.time).toISOString():"",P=XU[_.level??30]||"info";return`${K} ${P} ${_.msg}`.trim()}).join(`
`)}}}var Z1=VU(),fN=()=>{let $=x2.toLowerCase();if($==="trace")return"verbose";if($==="debug")return"debug";if($==="log")return"log";if($==="info")return"info";if($==="warn")return"warn";if($==="error")return"error";if($==="fatal")return"alert";return"info"},SU=fN(),ZN={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},MU=MH({activeLevel:SU,format:cK?"json":"pretty",timestampFormatter:sH?void 0:()=>"",withEmoji:!1,levels:ZN});MU.addListener("*",($)=>{try{let q=$.data,_=Array.isArray(q?.message)?q.message.map((P)=>typeof P==="string"?P:u2(P)).join(" "):typeof q?.message==="string"?q.message:"",K={time:Date.now(),level:typeof q?.level==="number"?q.level:void 0,msg:_};Z1.write(K)}catch{}});function NU($){let q=tM,_=[];if(typeof $.namespace==="string")_.push($.namespace);if(Array.isArray($.namespaces))_.push(...$.namespaces);if(_.length>0)q=q.ns(..._);let K={...$};if(delete K.namespace,delete K.namespaces,!K.name)K.name="elizaos";if(!K.pid&&typeof process<"u"&&process.pid)K.pid=process.pid;if(!K.environment&&typeof process<"u"&&process.env)K.environment="development";if(!K.serverId)K.serverId=GU;if(cK&&!K.hostname){let O="unknown";if(typeof process<"u"&&process.platform)try{O=(cJ(),J6(pJ)).hostname()}catch{O="localhost"}else if(typeof window<"u"&&window.location)O=window.location.hostname||"browser";K.hostname=O}let P={activeLevel:fN(),format:cK?"json":"pretty",timestampFormatter:sH?void 0:()=>"",withEmoji:!1,levels:ZN};return q.meta(K).seal(P)}function CU($){let q=x2,_={},K;if(typeof $==="object"&&$!==null){if("level"in $)q=$.level;if("maxMemoryLogs"in $&&typeof $.maxMemoryLogs==="number")K=$.maxMemoryLogs;let{level:P,maxMemoryLogs:O,...Y}=$;_=Y}return{level:q,base:_,maxMemoryLogs:K}}function X1($=!1){let{level:q,base:_,maxMemoryLogs:K}=CU($);if(typeof K==="number"&&K>0)Z1.clear();if(typeof $==="object"&&$&&"__forceType"in $&&$.__forceType==="browser"){let Q=(typeof q==="number"?"info":q||x2).toLowerCase(),U=(...J)=>{return J.map((X)=>{if(typeof X==="string")return X;if(X instanceof Error)return X.message;return u2(X)}).join(" ")},p=(J,...X)=>{if(!JN(J,Q))return;let W=U(...X),Z=J==="fatal"?"error":J==="trace"||J==="verbose"?"debug":J==="success"||J==="progress"?"info":J==="log"?"log":console[J]?J:"log";if(typeof console[Z]==="function")console[Z](W)},s=(J)=>{try{let X={...J};return HN(X),X}catch{return J}},j=(J,X,...W)=>{if(typeof J==="string")return X!==void 0?[J,X,...W]:[J,...W];if(J instanceof Error)return X!==void 0?[J.message,X,...W]:[J.message,...W];let Z=s(J);if(X!==void 0)return[b2(Z,X,!1),...W];let V=b2(Z,"",!1);return V?[V,...W]:[...W]};return{level:Q,trace:(J,X,...W)=>p("trace",...j(J,X,...W)),debug:(J,X,...W)=>p("debug",...j(J,X,...W)),info:(J,X,...W)=>p("info",...j(J,X,...W)),warn:(J,X,...W)=>p("warn",...j(J,X,...W)),error:(J,X,...W)=>p("error",...j(J,X,...W)),fatal:(J,X,...W)=>p("fatal",...j(J,X,...W)),success:(J,X,...W)=>p("success",...j(J,X,...W)),progress:(J,X,...W)=>p("progress",...j(J,X,...W)),log:(J,X,...W)=>p("log",...j(J,X,...W)),clear:()=>{if(typeof console.clear==="function")console.clear()},child:(J)=>X1({level:Q,..._,...J,__forceType:"browser"})}}let O=NU(_),z=(typeof q==="number"?"info":q||x2).toLowerCase(),H=(o,Q)=>{},T=(o,...Q)=>{if(!JN(o,z))return;H(o,Q);try{let s="";if(Q.length>0)s=Q.map((J)=>{if(typeof J==="string")return J;if(J instanceof Error)return J.message;return u2(J)}).join(" ");if(_.namespace)s=`#${_.namespace}  ${s}`;let j={time:Date.now(),level:y2[o.toLowerCase()]||y2.info,msg:s};Z1.write(j)}catch{}let U=o,p=Q;if(o==="fatal")U="alert";else if(o==="progress")U="info",p=["[PROGRESS]",...Q];else if(o==="success")U="info",p=["[SUCCESS]",...Q];else if(o==="trace")U="verbose";try{O[U](...p)}catch(s){console.log(`[${o.toUpperCase()}]`,...Q)}},f=(o)=>{try{let Q={...o};return HN(Q),Q}catch{return o}},w=(o,Q,...U)=>{if(typeof o==="string")return Q!==void 0?[o,Q,...U]:[o,...U];if(o instanceof Error)return Q!==void 0?[o.message,{error:o},Q,...U]:[o.message,{error:o},...U];let p=f(o);if(Q!==void 0){if(!cK)return[b2(p,Q,cK),...U];return[Q,p,...U]}if(!cK){let s=b2(p,"",cK);return s?[s,...U]:[...U]}return[p,...U]};return{level:z,trace:(o,Q,...U)=>T("verbose",...w(o,Q,...U)),debug:(o,Q,...U)=>T("debug",...w(o,Q,...U)),info:(o,Q,...U)=>T("info",...w(o,Q,...U)),warn:(o,Q,...U)=>T("warn",...w(o,Q,...U)),error:(o,Q,...U)=>T("error",...w(o,Q,...U)),fatal:(o,Q,...U)=>T("fatal",...w(o,Q,...U)),success:(o,Q,...U)=>T("success",...w(o,Q,...U)),progress:(o,Q,...U)=>T("progress",...w(o,Q,...U)),log:(o,Q,...U)=>T("log",...w(o,Q,...U)),clear:()=>{try{if(typeof console?.clear==="function")console.clear()}catch{}Z1.clear()},child:(o)=>{return X1({level:z,..._,...o})}}}var k6=X1(),vO$=k6,zO$=()=>Z1.recentLogs();var p2=k6;function AN($){return $.replace(/(?<!{){{(?![{#\/!>])([\s\S]*?)}}/g,(q,_)=>{if(_.trim()==="else")return`{{${_}}}`;return`{{{${_}}}}`})}var kN=({state:$,template:q})=>{let _=typeof q==="function"?q({state:$}):q,K=$T.default.compile(AN(_));return GN(K($),10)},A1=({state:$,template:q})=>{let _=typeof q==="function"?q({state:$}):q,K=$T.default.compile(AN(_)),Y=Object.keys($).filter((H)=>!["text","values","data"].includes(H)).reduce((H,T)=>{return H[T]=$[T],H},{});return GN(K({...Y,...$.values}),10)},AO$=($,q)=>{return q.length>0?`${$?`${$}
`:$}${q}
`:""},GN=($,q)=>{let _=Array.from({length:q},()=>l5({dictionaries:[r5]})),K=$;for(let P=0;P<_.length;P++)K=K.replaceAll(`{{name${P+1}}}`,_[P]);return K},kO$=({messages:$,entities:q,conversationHeader:_=!0})=>{let K={};return $.forEach((Y)=>{if(Y.roomId){if(!K[Y.roomId])K[Y.roomId]=[];K[Y.roomId].push(Y)}}),Object.values(K).forEach((Y)=>{Y.sort((z,H)=>(z.createdAt||0)-(H.createdAt||0))}),Object.entries(K).sort(([,Y],[,z])=>(z[z.length-1]?.createdAt||0)-(Y[Y.length-1]?.createdAt||0)).map(([Y,z])=>{let H=z.filter((f)=>f.entityId).map((f)=>{let w=q.find((N)=>N.id===f.entityId);if(!w)p2.warn({src:"core:utils",entityId:f.entityId},"No entity found for message");let k=w?.names[0]||"Unknown User",S=w?.names[0]||"unknown";return`Name: ${k} (@${S} EntityID:${f.entityId})
MessageID: ${f.id}${f.content.inReplyTo?`
In reply to: ${f.content.inReplyTo}`:""}
Source: ${f.content.source}
Date: ${VN(f.createdAt||0)}
Text:
${f.content.text}`});return`${_?`Conversation: ${Y.slice(-5)}
`:""}${H.join(`

`)}`}).join(`

`)},GO$=({messages:$,entities:q})=>{return $.reverse().filter((K)=>K.entityId).map((K)=>{let P=K.content.text,O=K.content.actions,Y=K.content.thought,z=q.find((g)=>g.id===K.entityId)?.names[0]||"Unknown User",H=K.content.attachments,T=H&&H.length>0?` (Attachments: ${H.map((g)=>{let y=[`[${g.id} - ${g.title} (${g.url})]`];if(g.text)y.push(`Text: ${g.text}`);if(g.description)y.push(`Description: ${g.description}`);return y.join(`
`)}).join(H.every((g)=>!g.text&&!g.description)?", ":`
`)})`:null,f=new Date(K.createdAt||0),w=f.getHours().toString().padStart(2,"0"),k=f.getMinutes().toString().padStart(2,"0"),S=`${w}:${k}`,N=VN(K.createdAt||0),h=Y?`(${z}'s internal thought: ${Y})`:null,E=`${S} (${N}) [${K.entityId}]`,D=P?`${E} ${z}: ${P}`:null,I=O&&O.length>0?`${D?"":E} (${z}'s actions: ${O.join(", ")})`:null;return[D,h,I,T].filter(Boolean).join(`
`)}).join(`
`)},VN=($)=>{let _=new Date().getTime()-$,K=Math.abs(_),P=Math.floor(K/1000),O=Math.floor(P/60),Y=Math.floor(O/60),z=Math.floor(Y/24);if(K<60000)return"just now";if(O<60)return`${O} minute${O!==1?"s":""} ago`;if(Y<24)return`${Y} hour${Y!==1?"s":""} ago`;return`${z} day${z!==1?"s":""} ago`},EU=/```json\n([\s\S]*?)\n```/;function PK($){if(!$)return null;let q=$.match(/<response>([\s\S]*?)<\/response>/),_;if(q)_=q[1];else{let z=((H)=>{let T=0,f=H.length;while(T<f){let w=H.indexOf("<",T);if(w===-1)break;if(H.startsWith("</",w)||H.startsWith("<!--",w)||H.startsWith("<?",w)){T=w+1;continue}let k=w+1,S="";while(k<f){let L=H[k];if(/^[A-Za-z0-9_-]$/.test(L)){S+=L,k++;continue}break}if(!S){T=w+1;continue}let N=H.indexOf(">",k);if(N===-1)break;let h=H.slice(w,N+1);if(/\/\s*>$/.test(h)){T=N+1;continue}let E=`</${S}>`,D=1,I=N+1;while(D>0&&I<f){let L=H.indexOf(`<${S}`,I),g=H.indexOf(E,I);if(g===-1)break;if(L!==-1&&L<g){let y=H.indexOf(">",L+1);if(y===-1)break;let c=H.slice(L,y+1);if(/\/\s*>$/.test(c))I=y+1;else D++,I=y+1}else D--,I=g+E.length}if(D===0){let L=I-E.length,g=H.slice(N+1,L);return{tag:S,content:g}}T=N+1}return null})($);if(!z)return p2.warn({src:"core:utils"},"Could not find XML block in text"),null;_=z.content}let K={},O=((Y)=>{let z=[],H=Y.length,T=0;while(T<H){let f=Y.indexOf("<",T);if(f===-1)break;if(Y.startsWith("</",f)||Y.startsWith("<!--",f)||Y.startsWith("<?",f)){T=f+1;continue}let w=f+1,k="";while(w<H){let y=Y[w];if(/^[A-Za-z0-9_-]$/.test(y)){k+=y,w++;continue}break}if(!k){T=f+1;continue}let S=Y.indexOf(">",w);if(S===-1)break;let N=Y.slice(f,S+1);if(/\/\s*>$/.test(N)){T=S+1;continue}let h=`</${k}>`,E=1,D=S+1;while(E>0&&D<H){let y=Y.indexOf(`<${k}`,D),c=Y.indexOf(h,D);if(c===-1)break;if(y!==-1&&y<c){let o=Y.indexOf(">",y+1);if(o===-1)break;let Q=Y.slice(y,o+1);if(!/\/\s*>$/.test(Q))E++;D=o+1}else E--,D=c+h.length}if(E!==0){T=S+1;continue}let I=D-h.length,g=Y.slice(S+1,I).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'").trim();z.push({key:k,value:g}),T=D}return z})(_);for(let{key:Y,value:z}of O)if(Y==="actions"||Y==="providers"||Y==="evaluators")K[Y]=z?z.split(",").map((H)=>H.trim()):[];else if(Y==="simple")K[Y]=z.toLowerCase()==="true";else K[Y]=z;if(Object.keys(K).length===0)return p2.warn({src:"core:utils"},"No key-value pairs extracted from XML content"),null;return K}function VO$($){let q=null,_=$.match(EU);try{if(_)q=JSON.parse(XN(_[1].trim()));else q=JSON.parse(XN($.trim()))}catch(K){return null}if(q&&typeof q==="object"&&!Array.isArray(q))return q;return null}var XN=($)=>{return $=$.replace(/\{\s+/,"{").replace(/\s+\}/,"}").trim(),$=$.replace(/("[\w\d_-]+")\s*: \s*(?!"|\[)([\s\S]+?)(?=(,\s*"|\}$))/g,'$1: "$2"'),$=$.replace(/"([^"]+)"\s*:\s*'([^']*)'/g,(q,_,K)=>`"${_}": "${K}"`),$=$.replace(/("[\w\d_-]+")\s*:\s*([A-Za-z_]+)(?!["\w])/g,'$1: "$2"'),$};function SN($,q){if($.length<=q)return $;let _=$.lastIndexOf(".",q-1);if(_!==-1){let O=$.slice(0,_+1).trim();if(O.length>0)return O}let K=$.lastIndexOf(" ",q-1);if(K!==-1){let O=$.slice(0,K).trim();if(O.length>0)return`${O}...`}return`${$.slice(0,q-3).trim()}...`}async function SO$($,q=512,_=20){return await new Qz({chunkSize:Number(Math.floor(q*3.5)),chunkOverlap:Number(Math.floor(_*3.5))}).splitText($)}async function MO$($,q,_){if(!$)throw Error("Trim tokens received a null prompt");if($.length<q/5)return $;if(q<=0)throw Error("maxTokens must be positive");let K=await _.useModel(M6.TEXT_TOKENIZER_ENCODE,{prompt:$});if(K.length<=q)return $;let P=K.slice(-q);return await _.useModel(M6.TEXT_TOKENIZER_DECODE,{tokens:P})}function NO$(){let $=new WeakSet;return function(q,_){if(typeof _==="object"&&_!==null){if($.has(_))return"[Circular]";$.add(_)}return _}}function m2($){if(!$)return!1;if(typeof $==="boolean")return $;let q=["YES","Y","TRUE","T","1","ON","ENABLE"],_=["NO","N","FALSE","F","0","OFF","DISABLE"],K=$.trim().toUpperCase();if(q.includes(K))return!0;if(_.includes(K))return!1;return!1}var hU=i$.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function RU($){let q=hU.safeParse($);return q.success?q.data:null}function d2($){if(typeof $==="number")$=$.toString();if(typeof $!=="string")throw TypeError("Value must be string");let q=RU($);if(q)return q;let _=encodeURIComponent($),P=IU(_).slice(0,16);return P[8]=P[8]&63|128,P[6]=P[6]&15|0,LU(P)}async function CO$($){if(!qT())return;let q=$.map(async(_)=>{let K=encodeURIComponent(_),P=await MN(K);mK.set(K,P)});await Promise.all(q)}var mK=new Map,c2=null;function qT(){if(c2!==null)return c2;try{if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle&&typeof globalThis.crypto.subtle.digest==="function")return c2=!0,!0}catch{}return c2=!1,!1}function IU($){let q=mK.get($);if(q)return q;let _=NN($);if(mK.set($,_),qT())MN($).then((K)=>{mK.set($,K)}).catch(()=>{});if(mK.size>1e4)Array.from(mK.keys()).slice(0,5000).forEach((P)=>mK.delete(P));return _}async function MN($){if(qT())try{let _=new TextEncoder().encode($),K=await globalThis.crypto.subtle.digest("SHA-1",_);return new Uint8Array(K)}catch{}return NN($)}function NN($){let q=DU($),_=q.length,K=new Uint8Array(_+9+63>>>6<<6);K.set(q),K[_]=128;let P=_*8,O=new DataView(K.buffer);O.setUint32(K.length-4,P>>>0,!1),O.setUint32(K.length-8,Math.floor(P/4294967296)>>>0,!1);let Y=1732584193,z=4023233417,H=2562383102,T=271733878,f=3285377520,w=new Uint32Array(80);for(let N=0;N<K.length;N+=64){for(let g=0;g<16;g++)w[g]=O.getUint32(N+g*4,!1);for(let g=16;g<80;g++){let y=w[g-3]^w[g-8]^w[g-14]^w[g-16];w[g]=y<<1|y>>>31}let h=Y,E=z,D=H,I=T,L=f;for(let g=0;g<80;g++){let y,c;if(g<20)y=E&D|~E&I,c=1518500249;else if(g<40)y=E^D^I,c=1859775393;else if(g<60)y=E&D|E&I|D&I,c=2400959708;else y=E^D^I,c=3395469782;let o=(h<<5|h>>>27)+y+L+c+w[g]>>>0;L=I,I=D,D=(E<<30|E>>>2)>>>0,E=h,h=o}Y=Y+h>>>0,z=z+E>>>0,H=H+D>>>0,T=T+I>>>0,f=f+L>>>0}let k=new Uint8Array(20),S=new DataView(k.buffer);return S.setUint32(0,Y,!1),S.setUint32(4,z,!1),S.setUint32(8,H,!1),S.setUint32(12,T,!1),S.setUint32(16,f,!1),k}function DU($){if(typeof TextEncoder<"u")return new TextEncoder().encode($);let q=[];for(let _=0;_<$.length;_++){let K=$.charCodeAt(_);if(K<128)q.push(K);else if(K<2048)q.push(192|K>>6,128|K&63);else if(K<55296||K>=57344)q.push(224|K>>12,128|K>>6&63,128|K&63);else{_++;let P=65536+((K&1023)<<10|$.charCodeAt(_)&1023);q.push(240|P>>18,128|P>>12&63,128|P>>6&63,128|P&63)}}return new Uint8Array(q)}function LU($){let q=[];for(let _=0;_<$.length;_++){let K=$[_].toString(16).padStart(2,"0");q.push(K)}return q.slice(0,4).join("")+"-"+q.slice(4,6).join("")+"-"+q.slice(6,8).join("")+"-"+q.slice(8,10).join("")+"-"+q.slice(10,16).join("")}var EO$=($)=>{if($.startsWith("image/"))return"image";if($.startsWith("video/"))return"video";if($.startsWith("audio/"))return"audio";if($.includes("pdf")||$.includes("document")||$.startsWith("text/"))return"document";return};function CN($){return`http://localhost:${E_("SERVER_PORT","3000")}${$}`}var EN=i$.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format").describe("Unique identifier for the character in UUID format"),gU=i$.object({id:i$.string().describe("Unique identifier for the media"),url:i$.string().describe("URL of the media file"),title:i$.string().optional().describe("Media title"),source:i$.string().optional().describe("Media source"),description:i$.string().optional().describe("Media description"),text:i$.string().optional().describe("Text content associated with the media"),contentType:i$.nativeEnum(YP).optional().describe("Type of media content")}).loose().describe("Media attachment with URL and metadata"),bU=i$.object({text:i$.string().optional().describe("The main text content of the message"),thought:i$.string().optional().describe("Internal thought process or reasoning"),actions:i$.array(i$.string()).optional().describe("Actions to be taken in response"),providers:i$.array(i$.string()).optional().describe("Data providers to use (e.g., KNOWLEDGE)"),source:i$.string().optional().describe("Source of the content"),target:i$.string().optional().describe("Target of the content"),url:i$.string().optional().describe("Related URL"),inReplyTo:EN.optional().describe("UUID of message this is replying to"),attachments:i$.array(gU).optional().describe("Array of media attachments (images, videos, documents, etc.)"),channelType:i$.enum(jP).optional().describe("Type of channel this content is for")}).catchall(i$.unknown()).describe("Content structure for messages in conversation examples"),yU=i$.object({name:i$.string().describe("Name of the speaker (can use {{name1}} placeholder for dynamic names)"),content:bU}).describe("A single message in a conversation example"),uU=i$.object({directory:i$.string().describe("Path to a directory containing knowledge files"),shared:i$.boolean().optional().describe("Whether this knowledge is shared across characters")}).describe("Directory-based knowledge source"),xU=i$.union([i$.string().describe("File path to a knowledge document"),i$.object({path:i$.string().describe("Path to a knowledge file"),shared:i$.boolean().optional().describe("Whether this knowledge is shared across characters")}),uU]).describe("Knowledge source - can be a file path, file object, or directory"),pU=i$.union([i$.string().describe("Template string with placeholders"),i$.function().optional()]).describe("Template for generating text - can be a string template or function"),cU=i$.object({all:i$.array(i$.string()).optional().describe("Style guidelines applied to all types of responses"),chat:i$.array(i$.string()).optional().describe("Style guidelines specific to chat/conversation responses"),post:i$.array(i$.string()).optional().describe("Style guidelines specific to social media posts")}).optional().describe("Style configuration defining how the character communicates across different contexts"),mU=i$.record(i$.string(),i$.union([i$.string(),i$.boolean(),i$.number(),i$.object({}).loose(),i$.array(i$.any())])).optional().describe("Character-specific settings like avatar URL, preferences, and configuration"),dU=i$.record(i$.string(),i$.union([i$.string(),i$.boolean(),i$.number()])).optional().describe("Secret values and API keys (should not be committed to version control)"),lU=i$.object({id:EN.optional().describe("Unique identifier for the character"),name:i$.string().min(1,"Character name is required").describe('The name of the character (e.g., "Eliza")'),username:i$.string().optional().describe("Username for the character on various platforms"),system:i$.string().optional().describe("System prompt that defines the character's core behavior and response style"),templates:i$.record(i$.string(),pU).optional().describe("Custom templates for generating different types of content"),bio:i$.union([i$.string(),i$.array(i$.string())]).describe("Character biography - can be a single string or array of biographical points"),messageExamples:i$.array(i$.array(yU)).optional().describe("Example conversations showing how the character responds in different scenarios"),postExamples:i$.array(i$.string()).optional().describe("Example social media posts demonstrating the character's voice and topics"),topics:i$.array(i$.string()).optional().describe("Topics the character is knowledgeable about and engages with"),adjectives:i$.array(i$.string()).optional().describe("Adjectives that describe the character's personality and traits"),knowledge:i$.array(xU).optional().describe("Knowledge sources (files, directories) the character can reference"),plugins:i$.array(i$.string()).optional().describe('List of plugin package names to load (e.g., ["@elizaos/plugin-sql", "@elizaos/plugin-bootstrap"] - these are commonly required)'),settings:mU,secrets:dU,style:cU}).strict().describe("Complete character definition including personality, behavior, and capabilities");function hN($){let q=lU.safeParse($);if(q.success)return{success:!0,data:q.data};return{success:!1,error:{message:`Character validation failed: ${q.error.message}`,issues:q.error.issues}}}function LO$($){try{let q=JSON.parse($);return hN(q)}catch(q){return{success:!1,error:{message:`Invalid JSON: ${q instanceof Error?q.message:"Unknown JSON parsing error"}`}}}}function gO$($){return hN($).success}function I_(){return typeof Buffer<"u"&&typeof Buffer.from==="function"}function rU($){let q=$.replace(/[^0-9a-fA-F]/g,"");if(I_())return Buffer.from(q,"hex");let _=new Uint8Array(q.length/2);for(let K=0;K<_.length;K++)_[K]=parseInt(q.substr(K*2,2),16);return _}function oU($,q="utf8"){if(I_()){let K=q==="utf-8"?"utf8":q;return Buffer.from($,K)}if(q==="base64"){let K=atob($),P=new Uint8Array(K.length);for(let O=0;O<K.length;O++)P[O]=K.charCodeAt(O);return P}return new TextEncoder().encode($)}function RN($){if(I_()&&Buffer.isBuffer($))return $.toString("hex");let q=$ instanceof Uint8Array?$:new Uint8Array($),_="";for(let K=0;K<q.length;K++){let P=q[K].toString(16);_+=P.length===1?"0"+P:P}return _}function nU($,q="utf8"){if(I_()&&Buffer.isBuffer($)){let P=q==="utf-8"?"utf8":q;return $.toString(P)}let _=$ instanceof Uint8Array?$:new Uint8Array($);if(q==="hex")return RN(_);if(q==="base64"){let P="";for(let O=0;O<_.length;O++)P+=String.fromCharCode(_[O]);return btoa(P)}return new TextDecoder().decode(_)}function _T($){if(!$)return!1;if(I_()&&Buffer.isBuffer($))return!0;return $ instanceof Uint8Array||$ instanceof ArrayBuffer||typeof $==="object"&&$.buffer instanceof ArrayBuffer&&typeof $.byteLength==="number"&&!Array.isArray($)}function iU($){if(I_())return Buffer.alloc($);return new Uint8Array($)}function BU($){if(I_())return Buffer.from($);return new Uint8Array($)}function tU($){if(I_()&&$.every((P)=>Buffer.isBuffer(P)))return Buffer.concat($);let q=0;for(let P of $)q+=P.length;let _=new Uint8Array(q),K=0;for(let P of $){let O=P instanceof Uint8Array?P:new Uint8Array(P);_.set(O,K),K+=O.length}return _}function UU($,q,_){if(I_()&&Buffer.isBuffer($))return $.slice(q,_);return($ instanceof Uint8Array?$:new Uint8Array($)).slice(q,_)}function FU($,q){if($.length!==q.length)return!1;let _=$ instanceof Uint8Array?$:new Uint8Array($),K=q instanceof Uint8Array?q:new Uint8Array(q);for(let P=0;P<_.length;P++)if(_[P]!==K[P])return!1;return!0}function aU($){return $.length}function QU($){let q=new Uint8Array($),_=typeof globalThis<"u"?globalThis.crypto||globalThis.webcrypto:void 0;if(_&&typeof _.getRandomValues==="function")_.getRandomValues(q);else for(let K=0;K<$;K++)q[K]=Math.floor(Math.random()*256);return q}var OK={fromHex:rU,fromString:oU,fromBytes:BU,toHex:RN,toString:nU,isBuffer:_T,alloc:iU,concat:tU,slice:UU,equals:FU,byteLength:aU,randomBytes:QU};var xO$=($,q)=>{if(!$.length||q<=0)return"";let _=$.filter((Y)=>Y.examples&&Array.isArray(Y.examples)&&Y.examples.length>0);if(!_.length)return"";let K=_.map((Y)=>[...Y.examples||[]]),P=[],O=K.map((Y,z)=>Y.length>0?z:-1).filter((Y)=>Y!==-1);while(P.length<q&&O.length>0){let Y=Math.floor(Math.random()*O.length),z=O[Y],H=K[z],T=Math.floor(Math.random()*H.length);if(P.push(H.splice(T,1)[0]),H.length===0)O.splice(Y,1)}return eU(P)},eU=($)=>{return $.map((_)=>{let K=Array.from({length:5},()=>l5({dictionaries:[r5]}));return`
${_.map((O)=>{let Y=`${O.name}: ${O.content.text}`;for(let z=0;z<K.length;z++)Y=Y.replaceAll(`{{name${z+1}}}`,K[z]);return Y}).join(`
`)}`}).join(`
`)};function pO$($){if(!$?.length)return"";return[...$].sort(()=>Math.random()-0.5).map((q)=>q.name).join(", ")}function cO$($){if(!$?.length)return"";return[...$].sort(()=>Math.random()-0.5).map((q)=>`- **${q.name}**: ${q.description||"No description available"}`).join(`
`)}class sU{db}function lO$($){return{...$,createdAt:Date.now(),metadata:{type:"message",timestamp:Date.now(),scope:$.agentId?"private":"shared"}}}function rO$($){return $.type==="document"}function oO$($){return $.type==="fragment"}function nO$($){return $.type==="message"}function iO$($){return $.type==="description"}function BO$($){return $.type!=="document"&&$.type!=="fragment"&&$.type!=="message"&&$.type!=="description"}function tO$($){return $.metadata?.type==="document"}function UO$($){return $.metadata?.type==="fragment"}function FO$($,q=""){return $.content.text??q}var IN=`<task>Decide on behalf of {{agentName}} whether they should respond to the message, ignore it or stop the conversation.</task>

<providers>
{{providers}}
</providers>

<instructions>Decide if {{agentName}} should respond to or interact with the conversation.

IMPORTANT RULES FOR RESPONDING:
- If YOUR name ({{agentName}}) is directly mentioned  RESPOND
- If someone uses a DIFFERENT name (not {{agentName}})  IGNORE (they're talking to someone else)
- If you're actively participating in a conversation and the message continues that thread  RESPOND
- If someone tells you to stop or be quiet  STOP
- Otherwise  IGNORE

The key distinction is:
- "Talking TO {{agentName}}" (your name mentioned, replies to you, continuing your conversation)  RESPOND
- "Talking ABOUT {{agentName}}" or to someone else  IGNORE
</instructions>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response.
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
  <name>{{agentName}}</name>
  <reasoning>Your reasoning here</reasoning>
  <action>RESPOND | IGNORE | STOP</action>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,DN=`<task>Generate dialog and actions for the character {{agentName}}.</task>

<providers>
{{providers}}
</providers>

<instructions>
Write a thought and plan for {{agentName}} and decide what actions to take. Also include the providers that {{agentName}} will use to have the right context for responding and acting, if any.

IMPORTANT ACTION ORDERING RULES:
- Actions are executed in the ORDER you list them - the order MATTERS!
- REPLY should come FIRST to acknowledge the user's request before executing other actions
- Common patterns:
  - For requests requiring tool use: REPLY,CALL_MCP_TOOL (acknowledge first, then gather info)
  - For task execution: REPLY,SEND_MESSAGE or REPLY,EVM_SWAP_TOKENS (acknowledge first, then do the task)
  - For multi-step operations: REPLY,ACTION1,ACTION2 (acknowledge first, then complete all steps)
- REPLY is used to acknowledge and inform the user about what you're going to do
- Follow-up actions execute the actual tasks after acknowledgment
- Use IGNORE only when you should not respond at all
- If you use IGNORE, do not include any other actions. IGNORE should be used alone when you should not respond or take any actions.

IMPORTANT PROVIDER SELECTION RULES:
- Only include providers if they are needed to respond accurately.
- If the message mentions images, photos, pictures, attachments, or visual content, OR if you see "(Attachments:" in the conversation, you MUST include "ATTACHMENTS" in your providers list
- If the message asks about or references specific people, include "ENTITIES" in your providers list  
- If the message asks about relationships or connections between people, include "RELATIONSHIPS" in your providers list
- If the message asks about facts or specific information, include "FACTS" in your providers list
- If the message asks about the environment or world context, include "WORLD" in your providers list
- If no additional context is needed, you may leave the providers list empty.

IMPORTANT CODE BLOCK FORMATTING RULES:
- If {{agentName}} includes code examples, snippets, or multi-line code in the response, ALWAYS wrap the code with \`\`\` fenced code blocks (specify the language if known, e.g., \`\`\`python).
- ONLY use fenced code blocks for actual code. Do NOT wrap non-code text, instructions, or single words in fenced code blocks.
- If including inline code (short single words or function names), use single backticks (\`) as appropriate.
- This ensures the user sees clearly formatted and copyable code when relevant.

First, think about what you want to do next and plan your actions. Then, write the next message and include the actions you plan to take.
</instructions>

<keys>
"thought" should be a short description of what the agent is thinking about and planning.
"actions" should be a comma-separated list of the actions {{agentName}} plans to take based on the thought, IN THE ORDER THEY SHOULD BE EXECUTED (if none, use IGNORE, if simply responding with text, use REPLY)
"providers" should be a comma-separated list of the providers that {{agentName}} will use to have the right context for responding and acting (NEVER use "IGNORE" as a provider - use specific provider names like ATTACHMENTS, ENTITIES, FACTS, KNOWLEDGE, etc.)
"text" should be the text of the next message for {{agentName}} which they will send to the conversation.
</keys>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
    <thought>Your thought here</thought>
    <actions>ACTION1,ACTION2</actions>
    <providers>PROVIDER1,PROVIDER2</providers>
    <text>Your response text here</text>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,QO$=`# Task: Create a post in the voice and style and perspective of {{agentName}} @{{twitterUserName}}.

Example task outputs:
1. A post about the importance of AI in our lives
<response>
  <thought>I am thinking about writing a post about the importance of AI in our lives</thought>
  <post>AI is changing the world and it is important to understand how it works</post>
  <imagePrompt>A futuristic cityscape with flying cars and people using AI to do things</imagePrompt>
</response>

2. A post about dogs
<response>
  <thought>I am thinking about writing a post about dogs</thought>
  <post>Dogs are man's best friend and they are loyal and loving</post>
  <imagePrompt>A dog playing with a ball in a park</imagePrompt>
</response>

3. A post about finding a new job
<response>
  <thought>Getting a job is hard, I bet there's a good tweet in that</thought>
  <post>Just keep going!</post>
  <imagePrompt>A person looking at a computer screen with a job search website</imagePrompt>
</response>

{{providers}}

Write a post that is {{adjective}} about {{topic}} (without mentioning {{topic}} directly), from the perspective of {{agentName}}. Do not add commentary or acknowledge this request, just write the post.
Your response should be 1, 2, or 3 sentences (choose the length at random).
Your response should not contain any questions. Brief, concise statements only. The total character count MUST be less than 280. No emojis. Use \\n\\n (double spaces) between statements if there are multiple statements in your response.

Your output should be formatted in XML like this:
<response>
  <thought>Your thought here</thought>
  <post>Your post text here</post>
  <imagePrompt>Optional image prompt here</imagePrompt>
</response>

The "post" field should be the post you want to send. Do not including any thinking or internal reflection in the "post" field.
The "imagePrompt" field is optional and should be a prompt for an image that is relevant to the post. It should be a single sentence that captures the essence of the post. ONLY USE THIS FIELD if it makes sense that the post would benefit from an image.
The "thought" field should be a short description of what the agent is thinking about before responding, including a brief justification for the response. Includate an explanation how the post is relevant to the topic but unique and different than other posts.

Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.`,eO$="Respond with only a YES or a NO.",LN=`<task>Analyze the provided image and generate a comprehensive description with multiple levels of detail.</task>

<instructions>
Carefully examine the image and provide:
1. A concise, descriptive title that captures the main subject or scene
2. A brief summary description (1-2 sentences) highlighting the key elements
3. An extensive, detailed description that covers all visible elements, composition, lighting, colors, mood, and any other relevant details

Be objective and descriptive. Focus on what you can actually see in the image rather than making assumptions about context or meaning.
</instructions>

<output>
Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Respond using XML format like this:
<response>
  <title>A concise, descriptive title for the image</title>
  <description>A brief 1-2 sentence summary of the key elements in the image</description>
  <text>An extensive, detailed description covering all visible elements, composition, lighting, colors, mood, setting, objects, people, activities, and any other relevant details you can observe in the image</text>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.
</output>`,gN=`<task>
Determine the next step the assistant should take in this conversation to help the user reach their goal.
</task>

{{recentMessages}}

# Multi-Step Workflow

In each step, decide:

1. **Which providers (if any)** should be called to gather necessary data.
2. **Which action (if any)** should be executed after providers return.
3. Decide whether the task is complete. If so, set \`isFinish: true\`. Do not select the \`REPLY\` action; replies are handled separately after task completion.

You can select **multiple providers** and at most **one action** per step.

If the task is fully resolved and no further steps are needed, mark the step as \`isFinish: true\`.

---

{{actionsWithDescriptions}}

{{providersWithDescriptions}}

These are the actions or data provider calls that have already been used in this run. Use this to avoid redundancy and guide your next move.

{{actionResults}}

<keys>
"thought" Clearly explain your reasoning for the selected providers and/or action, and how this step contributes to resolving the user's request.
"action"  Name of the action to execute after providers return (can be empty if no action is needed).
"providers" List of provider names to call in this step (can be empty if none are needed).
"isFinish" Set to true only if the task is fully complete.
</keys>

 IMPORTANT: Do **not** mark the task as \`isFinish: true\` immediately after calling an action. Wait for the action to complete before deciding the task is finished.

<output>
<response>
  <thought>Your thought here</thought>
  <action>ACTION</action>
  <providers>PROVIDER1,PROVIDER2</providers>
  <isFinish>true | false</isFinish>
</response>
</output>`,bN=`<task>
Summarize what the assistant has done so far and provide a final response to the user based on the completed steps.
</task>

# Context Information
{{bio}}

---

{{system}}

---

{{messageDirections}}

# Conversation Summary
Below is the users original request and conversation so far:
{{recentMessages}}

# Execution Trace
Here are the actions taken by the assistant to fulfill the request:
{{actionResults}}

# Assistants Last Reasoning Step
{{recentMessage}}

# Instructions

 - Review the execution trace and last reasoning step carefully

 - Your final output MUST be in this XML format:
<output>
<response>
  <thought>Your thought here</thought>
  <text>Your final message to the user</text>
</response>
</output>
`;async function _Y$($,q,_){let K=K_($,_),P=await $.getWorld(K);if(!P||!P.metadata?.roles)return"NONE";if(P.metadata.roles[q])return P.metadata.roles[q];if(P.metadata.roles[q])return P.metadata.roles[q];return"NONE"}async function KY$($,q){if(!q)return k6.error({src:"core:roles",agentId:$.agentId},"User ID is required to find server"),null;let _=await $.getAllWorlds();if(!_||_.length===0)return k6.debug({src:"core:roles",agentId:$.agentId},"No worlds found for agent"),null;let K=[];for(let P of _)if(P.metadata?.ownership?.ownerId===q)K.push(P);return K.length?K:null}var Vq=[];for(let $=0;$<256;++$)Vq.push(($+256).toString(16).slice(1));function yN($,q=0){return(Vq[$[q+0]]+Vq[$[q+1]]+Vq[$[q+2]]+Vq[$[q+3]]+"-"+Vq[$[q+4]]+Vq[$[q+5]]+"-"+Vq[$[q+6]]+Vq[$[q+7]]+"-"+Vq[$[q+8]]+Vq[$[q+9]]+"-"+Vq[$[q+10]]+Vq[$[q+11]]+Vq[$[q+12]]+Vq[$[q+13]]+Vq[$[q+14]]+Vq[$[q+15]]).toLowerCase()}var KT,$F=new Uint8Array(16);function PT(){if(!KT){if(typeof crypto>"u"||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");KT=crypto.getRandomValues.bind(crypto)}return KT($F)}var qF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OT={randomUUID:qF};function _F($,q,_){$=$||{};let K=$.random??$.rng?.()??PT();if(K.length<16)throw Error("Random bytes length must be >= 16");if(K[6]=K[6]&15|64,K[8]=K[8]&63|128,q){if(_=_||0,_<0||_+16>q.length)throw RangeError(`UUID byte range ${_}:${_+15} is out of buffer bounds`);for(let P=0;P<16;++P)q[_+P]=K[P];return q}return yN(K)}function KF($,q,_){if(OT.randomUUID&&!q&&!$)return OT.randomUUID();return _F($,q,_)}var Iq=KF;function uN($){if(typeof $!=="object"||$===null)return!1;if(Array.isArray($))return!1;if(_T($))return!1;if($ instanceof Date)return!1;if($ instanceof RegExp)return!1;if($ instanceof Map)return!1;if($ instanceof Set)return!1;if($ instanceof WeakMap)return!1;if($ instanceof WeakSet)return!1;if($ instanceof Error)return!1;if($ instanceof Promise)return!1;return!0}var k1=new Map;class YT{async handleMessage($,q,_,K){let P={maxRetries:K?.maxRetries??3,timeoutDuration:K?.timeoutDuration??3600000,useMultiStep:K?.useMultiStep??m2($.getSetting("USE_MULTI_STEP")),maxMultiStepIterations:K?.maxMultiStepIterations??parseInt($.getSetting("MAX_MULTISTEP_ITERATIONS")||"6")},O=void 0,Y=Iq();try{if($.logger.info({src:"service:message",agentId:$.agentId,entityId:q.entityId,roomId:q.roomId},"Message received"),!k1.has($.agentId))k1.set($.agentId,new Map);let z=k1.get($.agentId);if(!z)throw Error("Agent responses map not found");let H=z.get(q.roomId);if(H)k6.debug({src:"service:message",roomId:q.roomId,previousResponseId:H,responseId:Y},"Updating response ID");z.set(q.roomId,Y);let T=$.startRun(q.roomId),f=Date.now();await $.emitEvent("RUN_STARTED",{runtime:$,runId:T,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:f,status:"started",source:"messageHandler",metadata:q.content});let w=new Promise((N,h)=>{O=setTimeout(async()=>{await $.emitEvent("RUN_TIMEOUT",{runtime:$,runId:T,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:f,status:"timeout",endTime:Date.now(),duration:Date.now()-f,error:"Run exceeded timeout",source:"messageHandler"}),h(Error("Run exceeded timeout"))},P.timeoutDuration)}),k=this.processMessage($,q,_,Y,T,f,P),S=await Promise.race([k,w]);return clearTimeout(O),S}catch(z){throw clearTimeout(O),$.logger.error({src:"service:message",agentId:$.agentId,error:z},"Error in handleMessage"),z}}async processMessage($,q,_,K,P,O,Y){try{let z=k1.get($.agentId);if(!z)throw Error("Agent responses map not found");if(q.entityId===$.agentId)return $.logger.debug({src:"service:message",agentId:$.agentId},"Skipping message from self"),await this.emitRunEnded($,P,q,O,"self"),{didRespond:!1,responseContent:null,responseMessages:[],state:{},mode:"none"};$.logger.debug({src:"service:message",messagePreview:SN(q.content.text||"",50)},"Processing message"),$.logger.debug({src:"service:message"},"Saving message to memory");let H;if(q.id){let U=await $.getMemoryById(q.id);if(U)$.logger.debug({src:"service:message"},"Memory already exists, skipping creation"),H=U;else{let p=await $.createMemory(q,"messages");H={...q,id:p}}await $.queueEmbeddingGeneration(H,"high")}else{let U=await $.createMemory(q,"messages");q.id=U,H={...q,id:U},await $.queueEmbeddingGeneration(H,"normal")}let T=await $.getParticipantUserState(q.roomId,$.agentId);if(m2($.getSetting("BOOTSTRAP_DEFLLMOFF"))&&T===null)return $.logger.debug({src:"service:message"},"LLM is off by default"),await this.emitRunEnded($,P,q,O,"off"),{didRespond:!1,responseContent:null,responseMessages:[],state:{},mode:"none"};if(T==="MUTED"&&!q.content.text?.toLowerCase().includes($.character.name.toLowerCase()))return $.logger.debug({src:"service:message",roomId:q.roomId},"Ignoring muted room"),await this.emitRunEnded($,P,q,O,"muted"),{didRespond:!1,responseContent:null,responseMessages:[],state:{},mode:"none"};let w=await $.composeState(q,["ANXIETY","ENTITIES","CHARACTER","RECENT_MESSAGES","ACTIONS"],!0),k=q.content.mentionContext,S=await $.getRoom(q.roomId);if(q.content.attachments&&q.content.attachments.length>0){if(q.content.attachments=await this.processAttachments($,q.content.attachments),q.id)await $.updateMemory({id:q.id,content:q.content})}let N=this.shouldRespond($,q,S??void 0,k);$.logger.debug({src:"service:message",responseDecision:N},"Response decision");let h=!0;if(N.skipEvaluation)$.logger.debug({src:"service:message",agentName:$.character.name,reason:N.reason},"Skipping LLM evaluation"),h=N.shouldRespond;else{let U=A1({state:w,template:$.character.templates?.shouldRespondTemplate||IN});$.logger.debug({src:"service:message",agentName:$.character.name,reason:N.reason},"Using LLM evaluation");let p=await $.useModel(M6.TEXT_SMALL,{prompt:U});$.logger.debug({src:"service:message",response:p},"LLM evaluation result");let s=PK(p);$.logger.debug({src:"service:message",responseObject:s},"Parsed evaluation result");let j=["IGNORE","NONE"];h=s?.action&&!j.includes(s.action.toUpperCase())}let E=null,D=[],I="none";if(h){let U=Y.useMultiStep?await this.runMultiStepCore($,q,w,_,Y):await this.runSingleShotCore($,q,w,Y);if(E=U.responseContent,D=U.responseMessages,w=U.state,I=U.mode,z.get(q.roomId)!==K)return $.logger.info({src:"service:message",agentId:$.agentId,roomId:q.roomId},"Response discarded - newer message being processed"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};if(E&&q.id)E.inReplyTo=K_($,q.id);if(E?.providers?.length&&E.providers.length>0)w=await $.composeState(q,E.providers||[]);if(E){if(I==="simple"){if(E.providers&&E.providers.length>0)$.logger.debug({src:"service:message",providers:E.providers},"Simple response used providers");if(_)await _(E)}else if(I==="actions")await $.processActions(q,D,w,async(s)=>{if($.logger.debug({src:"service:message",content:s},"Action callback"),E.actionCallbacks=s,_)return _(s);return[]})}}else{$.logger.debug({src:"service:message"},"Agent decided not to respond");let U=z.get(q.roomId),p=m2($.getSetting("BOOTSTRAP_KEEP_RESP"));if(U!==K&&!p)return $.logger.info({src:"service:message",agentId:$.agentId,roomId:q.roomId},"Ignore response discarded - newer message being processed"),await this.emitRunEnded($,P,q,O,"replaced"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};if(!q.id)return $.logger.error({src:"service:message",agentId:$.agentId},"Message ID is missing, cannot create ignore response"),await this.emitRunEnded($,P,q,O,"noMessageId"),{didRespond:!1,responseContent:null,responseMessages:[],state:w,mode:"none"};let s={thought:"Agent decided not to respond to this message.",actions:["IGNORE"],simple:!0,inReplyTo:K_($,q.id)};if(_)await _(s);let j={id:V1(Iq()),entityId:$.agentId,agentId:$.agentId,content:s,roomId:q.roomId,createdAt:Date.now()};await $.createMemory(j,"messages"),$.logger.debug({src:"service:message",memoryId:j.id},"Saved ignore response to memory")}if(z.delete(q.roomId),z.size===0)k1.delete($.agentId);await $.evaluate(q,w,h,async(U)=>{if($.logger.debug({src:"service:message",content:U},"Evaluate callback"),E)E.evalCallbacks=U;if(_)return _(U);return[]},D);let L="noname";if(q.metadata&&"entityName"in q.metadata)L=q.metadata.entityName;let g=q.content?.channelType==="DM",y=L;if(!g){let U=await $.getRoomsByIds([q.roomId]);if(U?.length){let p=U[0];if(p.name)y=p.name;if(p.worldId){let s=await $.getWorld(p.worldId);if(s)y=s.name+"-"+y}}}let c=new Date,o=w.data?.providers?.ACTIONS?.data?.actionsData?.map((U)=>U.name)||[-1],Q={at:c.toString(),timestamp:parseInt(""+c.getTime()/1000),messageId:q.id,userEntityId:q.entityId,input:q.content.text,thought:E?.thought,simple:E?.simple,availableActions:o,actions:E?.actions,providers:E?.providers,irt:E?.inReplyTo,output:E?.text,entityName:L,source:q.content.source,channelType:q.content.channelType,roomName:y};return await $.emitEvent("RUN_ENDED",{runtime:$,runId:P,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:O,status:"completed",endTime:Date.now(),duration:Date.now()-O,source:"messageHandler",entityName:L,responseContent:E,metadata:Q}),{didRespond:h,responseContent:E,responseMessages:D,state:w,mode:I}}catch(z){throw $.logger.error({src:"service:message",agentId:$.agentId,error:z},"Error processing message"),await $.emitEvent("RUN_ENDED",{runtime:$,runId:P,messageId:q.id,roomId:q.roomId,entityId:q.entityId,startTime:O,status:"error",endTime:Date.now(),duration:Date.now()-O,error:z.message,source:"messageHandler"}),z}}shouldRespond($,q,_,K){if(!_)return{shouldRespond:!1,skipEvaluation:!0,reason:"no room context"};function P(N){if(!N||typeof N!=="string")return[];return N.trim().replace(/^\[|\]$/g,"").split(",").map((E)=>E.trim()).filter(Boolean)}let O=["DM","VOICE_DM","SELF","API"],Y=["client_chat"],z=P($.getSetting("ALWAYS_RESPOND_CHANNELS")||$.getSetting("SHOULD_RESPOND_BYPASS_TYPES")),H=P($.getSetting("ALWAYS_RESPOND_SOURCES")||$.getSetting("SHOULD_RESPOND_BYPASS_SOURCES")),T=new Set([...O.map((N)=>N.toString()),...z].map((N)=>N.trim().toLowerCase())),f=[...Y,...H].map((N)=>N.trim().toLowerCase()),w=_.type?.toString().toLowerCase(),k=q.content.source?.toLowerCase()||"";if(T.has(w))return{shouldRespond:!0,skipEvaluation:!0,reason:`private channel: ${w}`};if(f.some((N)=>k.includes(N)))return{shouldRespond:!0,skipEvaluation:!0,reason:`whitelisted source: ${k}`};if(!!(K?.isMention||K?.isReply))return{shouldRespond:!0,skipEvaluation:!0,reason:`platform ${K?.isMention?"mention":"reply"}`};return{shouldRespond:!1,skipEvaluation:!1,reason:"needs LLM evaluation"}}async processAttachments($,q){if(!q||q.length===0)return[];$.logger.debug({src:"service:message",count:q.length},"Processing attachments");let _=[];for(let K of q)try{let P={...K},O=/^(http|https):\/\//.test(K.url),Y=O?K.url:CN(K.url);if(K.contentType==="image"&&!K.description){$.logger.debug({src:"service:message",imageUrl:K.url},"Generating image description");let z=Y;if(!O){let H=await fetch(Y);if(!H.ok)throw Error(`Failed to fetch image: ${H.statusText}`);let T=await H.arrayBuffer(),f=Buffer.from(T);z=`data:${H.headers.get("content-type")||"application/octet-stream"};base64,${f.toString("base64")}`}try{let H=await $.useModel(M6.IMAGE_DESCRIPTION,{prompt:LN,imageUrl:z});if(typeof H==="string"){let T=PK(H);if(T&&(T.description||T.text))P.description=T.description||"",P.title=T.title||"Image",P.text=T.text||T.description||"",$.logger.debug({src:"service:message",descriptionPreview:P.description?.substring(0,100)},"Generated image description");else{let f=H,w=f.match(/<title>([^<]+)<\/title>/),k=f.match(/<description>([^<]+)<\/description>/),S=f.match(/<text>([^<]+)<\/text>/);if(w||k||S)P.title=w?.[1]||"Image",P.description=k?.[1]||"",P.text=S?.[1]||k?.[1]||"",$.logger.debug({src:"service:message",descriptionPreview:P.description?.substring(0,100)},"Used fallback XML parsing for description");else $.logger.warn({src:"service:message"},"Failed to parse XML response for image description")}}else if(H&&typeof H==="object"&&"description"in H)P.description=H.description,P.title=H.title||"Image",P.text=H.description,$.logger.debug({src:"service:message",descriptionPreview:P.description?.substring(0,100)},"Generated image description");else $.logger.warn({src:"service:message"},"Unexpected response format for image description")}catch(H){$.logger.error({src:"service:message",error:H},"Error generating image description")}}else if(K.contentType==="document"&&!K.text){let z=await fetch(Y);if(!z.ok)throw Error(`Failed to fetch document: ${z.statusText}`);let H=z.headers.get("content-type")||"";if(H.startsWith("text/plain")){$.logger.debug({src:"service:message",documentUrl:K.url},"Processing plain text document");let f=await z.text();P.text=f,P.title=P.title||"Text File",$.logger.debug({src:"service:message",textPreview:P.text?.substring(0,100)},"Extracted text content")}else $.logger.warn({src:"service:message",contentType:H},"Skipping non-plain-text document")}_.push(P)}catch(P){$.logger.error({src:"service:message",error:P,attachmentUrl:K.url},"Failed to process attachment"),_.push(K)}return _}async runSingleShotCore($,q,_,K){if(_=await $.composeState(q,["ACTIONS"]),!_.values?.actionNames)$.logger.warn({src:"service:message"},"actionNames data missing from state");let P=A1({state:_,template:$.character.templates?.messageHandlerTemplate||DN}),O=null,Y=0;while(Y<K.maxRetries&&(!O?.thought||!O?.actions)){let T=await $.useModel(M6.TEXT_LARGE,{prompt:P});$.logger.debug({src:"service:message",response:T},"Raw LLM response");let f=PK(T);if($.logger.debug({src:"service:message",parsedXml:f},"Parsed XML content"),f)O={...f,thought:f.thought||"",actions:f.actions||["IGNORE"],providers:f.providers||[],text:f.text||"",simple:f.simple||!1};else O=null;if(Y++,!O?.thought||!O?.actions)$.logger.warn({src:"service:message",retries:Y,maxRetries:K.maxRetries},"Missing required fields (thought or actions), retrying")}if(!O)return{responseContent:null,responseMessages:[],state:_,mode:"none"};if(O.actions&&O.actions.length>1){let T=(w)=>typeof w==="string"&&w.toUpperCase()==="IGNORE";if(O.actions.some(T))if(!O.text||O.text.trim()==="")O.actions=["IGNORE"];else{let w=O.actions.filter((k)=>!T(k));O.actions=w.length?w:["REPLY"]}}let z=O.actions?.length===1&&typeof O.actions[0]==="string"&&O.actions[0].toUpperCase()==="REPLY"&&(!O.providers||O.providers.length===0);O.simple=z;let H=[{id:V1(Iq()),entityId:$.agentId,agentId:$.agentId,content:O,roomId:q.roomId,createdAt:Date.now()}];return{responseContent:O,responseMessages:H,state:_,mode:z&&O.text?"simple":"actions"}}async runMultiStepCore($,q,_,K,P){let O=[],Y=_,z=0;while(z<P.maxMultiStepIterations){z++,$.logger.debug({src:"service:message",iteration:z,maxIterations:P.maxMultiStepIterations},"Starting multi-step iteration"),Y=await $.composeState(q,["RECENT_MESSAGES","ACTION_STATE"]),Y.data.actionResults=O;let S=A1({state:Y,template:$.character.templates?.multiStepDecisionTemplate||gN}),N=await $.useModel(M6.TEXT_LARGE,{prompt:S}),h=PK(N);if(!h){$.logger.warn({src:"service:message",iteration:z},"Failed to parse multi-step result"),O.push({data:{actionName:"parse_error"},success:!1,error:"Failed to parse step result"});break}let{thought:E,providers:D=[],action:I,isFinish:L}=h;if(L==="true"||L===!0){if($.logger.info({src:"service:message",agentId:$.agentId,iteration:z},"Multi-step task completed"),K)await K({text:"",thought:E??""});break}if((!D||D.length===0)&&!I){$.logger.warn({src:"service:message",iteration:z},"No providers or action specified, forcing completion");break}try{for(let g of D){let y=$.providers.find((Q)=>Q.name===g);if(!y){$.logger.warn({src:"service:message",providerName:g},"Provider not found"),O.push({data:{actionName:g},success:!1,error:`Provider not found: ${g}`});continue}let c=await y.get($,q,_);if(!c){$.logger.warn({src:"service:message",providerName:g},"Provider returned no result"),O.push({data:{actionName:g},success:!1,error:"Provider returned no result"});continue}let o=!!c.text;if(O.push({data:{actionName:g},success:o,text:o?c.text:void 0,error:o?void 0:"Provider returned no result"}),K)await K({text:`\uD83D\uDD0E Provider executed: ${g}`,actions:[g],thought:E??""})}if(I){let g={text:`\uD83D\uDD0E Executing action: ${I}`,actions:[I],thought:E??""};await $.processActions(q,[{id:Iq(),entityId:$.agentId,roomId:q.roomId,createdAt:Date.now(),content:g}],_,async()=>{return[]});let c=$.stateCache?.get(`${q.id}_action_results`)?.values?.actionResults||[],o=c.length>0?c[0]:null,Q=o?.success??!1;O.push({data:{actionName:I},success:Q,text:o?.text,values:o?.values,error:Q?void 0:o?.text})}}catch(g){$.logger.error({src:"service:message",agentId:$.agentId,error:g},"Error executing multi-step action"),O.push({data:{actionName:I||"unknown"},success:!1,error:g instanceof Error?g.message:String(g)})}}if(z>=P.maxMultiStepIterations)$.logger.warn({src:"service:message",maxIterations:P.maxMultiStepIterations},"Reached maximum iterations, forcing completion");Y=await $.composeState(q,["RECENT_MESSAGES","ACTION_STATE"]);let H=A1({state:Y,template:$.character.templates?.multiStepSummaryTemplate||bN}),T=await $.useModel(M6.TEXT_LARGE,{prompt:H}),f=PK(T),w=null;if(f?.text)w={actions:["MULTI_STEP_SUMMARY"],text:f.text,thought:f.thought||"Final user-facing message after task completion.",simple:!0};let k=w?[{id:V1(Iq()),entityId:$.agentId,agentId:$.agentId,content:w,roomId:q.roomId,createdAt:Date.now()}]:[];return{responseContent:w,responseMessages:k,state:Y,mode:w?"simple":"none"}}async emitRunEnded($,q,_,K,P){await $.emitEvent("RUN_ENDED",{runtime:$,runId:q,messageId:_.id,roomId:_.roomId,entityId:_.entityId,startTime:K,status:P,endTime:Date.now(),duration:Date.now()-K,source:"messageHandler"})}async deleteMessage($,q){try{if(!q.id){$.logger.error({src:"service:message",agentId:$.agentId},"Cannot delete memory: message ID is missing");return}$.logger.info({src:"service:message",agentId:$.agentId,messageId:q.id,roomId:q.roomId},"Deleting memory"),await $.deleteMemory(q.id),$.logger.debug({src:"service:message",messageId:q.id},"Successfully deleted memory")}catch(_){throw $.logger.error({src:"service:message",agentId:$.agentId,error:_},"Error in deleteMessage"),_}}async clearChannel($,q,_){try{$.logger.info({src:"service:message",agentId:$.agentId,channelId:_,roomId:q},"Clearing message memories from channel");let K=await $.getMemoriesByRoomIds({tableName:"messages",roomIds:[q]});$.logger.debug({src:"service:message",channelId:_,count:K.length},"Found message memories to delete");let P=0;for(let O of K)if(O.id)try{await $.deleteMemory(O.id),P++}catch(Y){$.logger.warn({src:"service:message",error:Y,memoryId:O.id},"Failed to delete message memory")}$.logger.info({src:"service:message",agentId:$.agentId,channelId:_,deletedCount:P,totalCount:K.length},"Cleared message memories from channel")}catch(K){throw $.logger.error({src:"service:message",agentId:$.agentId,error:K},"Error in clearChannel"),K}}}var D_=($)=>{switch($){case 97:case 101:case 105:case 111:case 117:case 121:return!0;default:return!1}},PF=($)=>{switch($){case 97:case 101:case 105:case 111:case 117:case 121:case 119:case 120:case 89:return!0;default:return!1}},OF=($)=>{switch($){case 99:case 100:case 101:case 103:case 104:case 107:case 109:case 110:case 114:case 116:return!0;default:return!1}},YF=($)=>{switch($){case 98:case 100:case 102:case 103:case 109:case 110:case 112:case 114:case 116:return!0;default:return!1}},xN=($,q)=>{return q>=2&&D_($[q-2])&&(q===2&&!D_($[q-1])||q>=3&&!D_($[q-3])&&!PF($[q-1]))},jF=($)=>{if($.length<3)return $;if($.length<=6)switch($){case"ski":return"ski";case"skies":return"sky";case"dying":return"die";case"lying":return"lie";case"tying":return"tie";case"idly":return"idl";case"gently":return"gentl";case"ugly":return"ugli";case"early":return"earli";case"only":return"onli";case"singly":return"singl";case"sky":case"news":case"howe":case"atlas":case"cosmos":case"bias":case"andes":return $}let q=$.charCodeAt(0)===39?1:0,_=$.length-q,K=Array(_),P=!1;for(let f=0;f<_;++f){let w=$.charCodeAt(f+q);if(w===121&&(f===0||D_(K[f-1]))){P=!0,K[f]=89;continue}K[f]=w}if(K[_-1]===39)--_;if(_>=2&&K[_-2]===39&&K[_-1]===115)_-=2;let O=0;while(O<_&&!D_(K[O]))++O;if(O<_)++O;let Y=O;if(_>=5&&(K[0]===103&&K[1]===101&&K[2]===110&&K[3]===101&&K[4]===114||K[0]===97&&K[1]===114&&K[2]===115&&K[3]===101&&K[4]===110))Y=5;else if(_>=6&&K[0]===99&&K[1]===111&&K[2]===109&&K[3]===109&&K[4]===117&&K[5]===110)Y=6;else{while(Y<_&&D_(K[Y]))++Y;if(Y<_)++Y}let z=Y;while(z<_&&!D_(K[z]))++z;while(z<_&&D_(K[z]))++z;if(z<_)++z;if(_>=3){if(K[_-1]===115){if(_>=4&&K[_-2]===101&&K[_-3]===115&&K[_-4]===115)_-=2;else if(K[_-2]===101&&K[_-3]===105)_-=_>=5?2:1;else if(K[_-2]!==117&&K[_-2]!==115&&O<_-1)_-=1}else if(K[_-1]===100&&K[_-2]===101&&K[_-3]===105)_-=_>=5?2:1}if(_===6&&(K[0]===105&&K[1]===110&&K[2]===110&&K[3]===105&&K[4]===110&&K[5]===103||K[0]===111&&K[1]===117&&K[2]===116&&K[3]===105&&K[4]===110&&K[5]===103||K[0]===101&&K[1]===120&&K[2]===99&&K[3]===101&&K[4]===101&&K[5]===100)||_===7&&(K[0]===99&&K[1]===97&&K[2]===110&&K[3]===110&&K[4]===105&&K[5]===110&&K[6]===103||K[0]===104&&K[1]===101&&K[2]===114&&K[3]===114&&K[4]===105&&K[5]===110&&K[6]===103||K[0]===101&&K[1]===97&&K[2]===114&&K[3]===114&&K[4]===105&&K[5]===110&&K[6]===103||K[0]===112&&K[1]===114&&K[2]===111&&K[3]===99&&K[4]===101&&K[5]===101&&K[6]===100||K[0]===115&&K[1]===117&&K[2]===99&&K[3]===99&&K[4]===101&&K[5]===101&&K[6]===100)){let f="";for(let w=0;w<_;++w)f+=String.fromCharCode(K[w]);return f}let H=_>=2&&K[_-1]===121&&K[_-2]===108?_-2:_;if(H>=3)if(K[H-3]===101&&K[H-2]===101&&K[H-1]===100){if(H>=Y+3)_=H-1}else{if(K[H-2]===101&&K[H-1]===100)H-=2;else if(K[H-3]===105&&K[H-2]===110&&K[H-1]===103)H-=3;else H=-1;if(H>=0&&O<=H){if(_=H,_>=2){if(K[_-1]===116&&K[_-2]===97||K[_-1]===108&&K[_-2]===98||K[_-1]===122&&K[_-2]===105)K[_]=101,++_;else if(K[_-2]===K[_-1]&&YF(K[_-1]))--_;else if(Y>=_&&xN(K,_))K[_]=101,++_}}}if(_>=3&&(K[_-1]===89||K[_-1]===121)&&!D_(K[_-2]))K[_-1]=105;if(_>=Y+2)switch(K[_-1]){case 108:if(_>=Y+6&&K[_-2]===97&&K[_-3]===110&&K[_-4]===111&&K[_-5]===105&&K[_-6]===116)if(_>=7&&K[_-7]===97){if(_>=Y+7)_-=4,K[_-1]=101}else _-=2;break;case 110:if(_>=Y+5&&K[_-2]===111&&K[_-3]===105&&K[_-4]===116&&K[_-5]===97)if(_>=7&&K[_-6]===122&&K[_-7]===105){if(_>=Y+7)_-=4,K[_-1]=101}else _-=2,K[_-1]=101;break;case 114:if(_>=Y+4){if(K[_-2]===101){if(K[_-3]===122&&K[_-4]===105)--_}else if(K[_-2]===111){if(K[_-3]===116&&K[_-4]===97)--_,K[_-1]=101}}break;case 115:if(_>=Y+7&&K[_-2]===115&&K[_-3]===101&&K[_-4]===110&&(K[_-5]===108&&K[_-6]===117&&K[_-7]===102||K[_-5]===115&&K[_-6]===117&&K[_-7]===111||K[_-5]===101&&K[_-6]===118&&K[_-7]===105))_-=4;break;case 109:if(_>=Y+5&&K[_-2]===115&&K[_-3]===105&&K[_-4]===108&&K[_-5]===97)_-=3;break;case 105:if(K[_-2]===99){if(_>=Y+4&&(K[_-4]===101||K[_-4]===97)&&K[_-3]===110)K[_-1]=101}else if(K[_-2]===103){if(_>=Y+3&&_>=4&&K[_-2]===103&&K[_-3]===111&&K[_-4]===108)--_}else if(K[_-2]===116){if(_>=Y+5&&K[_-3]===105){if(K[_-4]===108){if(_>=6&&K[_-5]===105&&K[_-6]===98){if(_>=Y+6)_-=3,K[_-2]=108,K[_-1]=101}else if(K[_-4]===108&&K[_-5]===97)_-=3}else if(K[_-4]===118&&K[_-5]===105)_-=2,K[_-1]=101}}else if(K[_-2]===108&&_>=3){if(K[_-3]===98){if(_>=4&&K[_-4]===97){if(_>=Y+4)K[_-1]=101}else if(_>=Y+3)K[_-1]=101}else if(K[_-3]===108){if(_>=5&&K[_-4]===117&&K[_-5]===102){if(_>=Y+5)_-=2}else if(_>=Y+4&&K[_-4]===97)_-=2}else if(K[_-3]===115){if(_>=6&&K[_-4]===115&&K[_-5]===101&&K[_-6]===108){if(_>=Y+6)_-=2}else if(_>=Y+5&&K[_-4]===117&&K[_-5]===111)_-=2}else if(_>=5&&K[_-3]===116&&K[_-4]===110&&K[_-5]===101){if(_>=Y+5)_-=2}else if(OF(K[_-3]))_-=2}}if(_>=Y+3)switch(K[_-1]){case 108:if(K[_-3]===99){if(_>=Y+4&&K[_-4]===105&&K[_-2]===97)_-=2}else if(K[_-3]===102){if(K[_-2]===117)_-=3}else if(K[_-3]===110){if(_>=Y+6&&K[_-2]===97&&K[_-4]===111&&K[_-5]===105&&K[_-6]===116)if(_>=7&&K[_-7]===97){if(_>=Y+7)_-=4,K[_-1]=101}else _-=2}break;case 101:if(K[_-2]===122){if(_>=Y+5&&K[_-3]===105&&K[_-4]===108&&K[_-5]===97)_-=3}else if(K[_-2]===116){if(_>=Y+5&&K[_-3]===97&&K[_-4]===99&&K[_-5]===105)_-=3}else if(K[_-2]===118){if(_>=z+5&&K[_-3]===105&&K[_-4]===116&&K[_-5]===97)_-=5}break;case 105:if(_>=Y+5&&K[_-2]===116&&K[_-3]===105&&K[_-4]===99&&K[_-5]===105)_-=3;break;case 115:if(_>=Y+4&&K[_-2]===115&&K[_-3]===101&&K[_-4]===110)_-=4}if(_>=z+2)switch(K[_-1]){case 110:if(_>=z+3&&K[_-2]===111&&K[_-3]===105&&(K[_-4]===115||K[_-4]===116))_-=3;break;case 108:if(K[_-2]===97)_-=2;break;case 114:if(K[_-2]===101)_-=2;break;case 99:if(K[_-2]===105)_-=2;break;case 109:if(_>=z+3&&K[_-2]===115&&K[_-3]===105)_-=3;break;case 105:if(_>=z+3&&K[_-2]===116&&K[_-3]===105)_-=3;break;case 115:if(_>=z+3&&K[_-2]===117&&K[_-3]===111)_-=3;break;case 116:if(_>=z+3&&K[_-2]===110){if(K[_-3]===97)_-=3;else if(K[_-3]===101)if(_>=4&&K[_-4]===109){if(_>=5&&K[_-5]===101){if(_>=z+5)_-=5}else if(_>=z+4)_-=4}else _-=3}break;case 101:if(K[_-2]===99){if(_>=z+4&&K[_-3]===110&&(K[_-4]===97||K[_-4]===101))_-=4}else if(K[_-2]===108){if(_>=z+4&&K[_-3]===98&&(K[_-4]===97||K[_-4]===105))_-=4}else if(K[_-2]===116){if(_>=z+3&&K[_-3]===97)_-=3}else if(_>=z+3&&(K[_-2]===118||K[_-2]===122)&&K[_-3]===105)_-=3}if(_>=Y+1&&(_>=z+1&&K[_-1]===108&&K[_-2]===108||K[_-1]===101&&(_>=z+1||!xN(K,_-1))))--_;let T="";if(P)for(let f=0;f<_;++f)T+=String.fromCharCode(K[f]===89?121:K[f]);else for(let f=0;f<_;++f)T+=String.fromCharCode(K[f]);return T},vF={k1:1.2,b:0.75,minLength:2,stopWords:new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","were","will","with"]),stemming:!1,stemWords:($)=>$};class jT{stopWords;minLength;stemming;stemmingRules;static DEFAULT_OPTIONS={stopWords:new Set,minLength:2,stemming:!1,stemmingRules:[]};constructor($={}){let q={...jT.DEFAULT_OPTIONS,...$};this.stopWords=q.stopWords,this.minLength=q.minLength,this.stemming=q.stemming,this.stemmingRules=q.stemmingRules.map((_)=>({..._,pattern:typeof _.pattern==="string"?new RegExp(_.pattern):_.pattern}))}tokenize($,q=!1){if(!$)throw Error("Input text cannot be null or empty");let _=Date.now(),K=$.split(/\s+/).filter((z)=>z.length>0),O=this.cleanText($).split(/\s+/).filter((z)=>this.isValidToken(z)).map((z)=>this.stemming?this.stemWord(z):z),Y=q?{originalWordCount:K.length,stopWordsRemoved:K.length-O.length,stemmedWords:this.stemming?O.length:0,processingTimeMs:Date.now()-_}:{originalWordCount:0,stopWordsRemoved:0,stemmedWords:0,processingTimeMs:0};return{tokens:O,stats:Y}}cleanText($){return $.toLowerCase().normalize("NFKD").replace(/[\u0000-\u001F\u007F-\u009F\u200B-\u200D\uFEFF]/g,"").replace(/[\u0300-\u036f]/g,"").replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu,"").replace(/[]/g,"").replace(/[\p{P}]/gu," ").replace(/[^a-z0-9\u3040-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uAC00-\uD7AF\s]/gu," ").replace(/\s+/g," ").trim()}isValidToken($){let q=/^\d+$/.test($);return($.length>=this.minLength||q)&&!this.stopWords.has($)}stemWord($){if($.length<3)return $;let q=!1,_=$;for(let K of this.stemmingRules){let P=_.match(K.pattern);if(P){if(!K.minMeasure||this.measure(_.substring(0,P.index))>=K.minMeasure){if(typeof K.replacement==="string")_=_.replace(K.pattern,K.replacement);else _=_.replace(K.pattern,(...O)=>K.replacement(...O));q=!0}}}if(q&&_!==$)return _;return jF(_)}isConsonant($,q){let _=$[q];if("aeiou".includes(_))return!1;return _!=="y"||(q===0?!0:!this.isConsonant($,q-1))}measure($){let q=0,_=!1;for(let K=0;K<$.length;K++)if(this.isConsonant($,K)){if(_)q++,_=!1}else _=!0;return q}}class vT{termFrequencySaturation;lengthNormalizationFactor;tokenizer;documentLengths;averageDocLength;termToIndex;documentFrequency;termFrequencies;fieldBoosts;documents;constructor($,q={}){let _={...vF,...q};if(this.termFrequencySaturation=_.k1,this.lengthNormalizationFactor=_.b,this.tokenizer=new jT(_),this.fieldBoosts=_.fieldBoosts||{},this.documents=[],this.documentLengths=new Uint32Array(0),this.termToIndex=new Map,this.documentFrequency=new Uint32Array(0),this.averageDocLength=0,this.termFrequencies=new Map,$&&$.length>0){this.documents=[...$];let{documentLengths:K,termToIndex:P,documentFrequency:O,averageDocLength:Y,termFrequencies:z}=this.processDocuments($);this.documentLengths=K,this.termToIndex=P,this.documentFrequency=O,this.averageDocLength=Y,this.termFrequencies=z}}processDocuments($){let q=$.length,_=new Uint32Array(q),K=new Map,P=new Map,O=new Map,Y=0,z=0;$.forEach((T,f)=>{let w=0,k=new Map;Object.entries(T).forEach(([S,N])=>{if(typeof N!=="string")return;let h=this.fieldBoosts[S]||1,{tokens:E}=this.tokenizer.tokenize(N),D=E.length*h;w+=D,E.forEach((I)=>{if(!K.has(I))K.set(I,z++);let L=K.get(I);if(!P.has(I))P.set(I,new Set);P.get(I).add(f);let g=k.get(L)||0;k.set(L,g+h)})}),_[f]=w,Y+=w,k.forEach((S,N)=>{if(!O.has(N))O.set(N,new Map);O.get(N).set(f,S)})});let H=new Uint32Array(K.size);return P.forEach((T,f)=>{let w=K.get(f);H[w]=T.size}),{documentLengths:_,termToIndex:K,documentFrequency:H,averageDocLength:q>0?Y/q:0,termFrequencies:O}}recalculateAverageLength(){if(this.documentLengths.length===0){this.averageDocLength=0;return}let $=this.documentLengths.reduce((q,_)=>q+_,0);this.averageDocLength=$/this.documentLengths.length}search($,q=10){let{tokens:_}=this.tokenizer.tokenize($),K=new Float32Array(this.documentLengths.length).fill(0);return _.forEach((P)=>{let O=this.termToIndex.get(P);if(O===void 0)return;let Y=this.calculateIdf(O);if(Y<=0)return;let z=this.termFrequencies.get(O);if(!z)return;z.forEach((H,T)=>{let f=this.documentLengths[T],w=H*(this.termFrequencySaturation+1),k=H+this.termFrequencySaturation*(1-this.lengthNormalizationFactor+this.lengthNormalizationFactor*f/this.averageDocLength);K[T]+=Y*(w/k)})}),Array.from({length:K.length},(P,O)=>({index:O,score:K[O]})).filter((P)=>P.score>0).sort((P,O)=>O.score-P.score).slice(0,q)}searchPhrase($,q=10){let{tokens:_}=this.tokenizer.tokenize($);if(_.length===0)return[];let K=null;for(let O of _){let Y=this.termToIndex.get(O);if(Y===void 0)return[];let z=this.termFrequencies.get(Y)?.keys();if(!z)return[];let H=new Set(z);if(K===null)K=H;else K=new Set([...K].filter((T)=>H.has(T)));if(K.size===0)return[]}if(K===null||K.size===0)return[];let P=new Map;return K.forEach((O)=>{let Y=this.getDocument(O),z=!1;Object.entries(Y).forEach(([H,T])=>{if(typeof T!=="string"||z)return;let f=this.fieldBoosts[H]||1,{tokens:w}=this.tokenizer.tokenize(T);for(let k=0;k<=w.length-_.length;k++){let S=!0;for(let N=0;N<_.length;N++)if(w[k+N]!==_[N]){S=!1;break}if(S){let N=this.calculatePhraseScore(_,O)*f;P.set(O,(P.get(O)||0)+N),z=!0;break}}})}),Array.from(P.entries()).map(([O,Y])=>({index:O,score:Y})).sort((O,Y)=>Y.score-O.score).slice(0,q)}calculatePhraseScore($,q){return $.reduce((_,K)=>{let P=this.termToIndex.get(K);if(P===void 0)return _;let O=this.calculateIdf(P),Y=this.termFrequencies.get(P)?.get(q)||0,z=this.documentLengths[q],H=Y*(this.termFrequencySaturation+1),T=Y+this.termFrequencySaturation*(1-this.lengthNormalizationFactor+this.lengthNormalizationFactor*z/this.averageDocLength);return _+O*(H/T)},0)}async addDocument($){if(!$)throw Error("Document cannot be null");let q=this.documentLengths.length;this.documents.push($);let _=new Uint32Array(q+1);_.set(this.documentLengths,0),this.documentLengths=_;let K=0,P=new Map;Object.entries($).forEach(([O,Y])=>{if(typeof Y!=="string")return;let z=this.fieldBoosts[O]||1,{tokens:H}=this.tokenizer.tokenize(Y);K+=H.length*z,H.forEach((T)=>{let f;if(!this.termToIndex.has(T)){if(f=this.termToIndex.size,this.termToIndex.set(T,f),this.documentFrequency.length<=f){let k=this.documentFrequency,S=Math.max(f+1,k.length*2||1);this.documentFrequency=new Uint32Array(S),this.documentFrequency.set(k,0)}this.documentFrequency[f]=0}else f=this.termToIndex.get(T);let w=P.get(f)||0;P.set(f,w+z)})}),this.documentLengths[q]=K,P.forEach((O,Y)=>{if(!this.termFrequencies.has(Y))this.termFrequencies.set(Y,new Map);if(this.termFrequencies.get(Y).set(q,O),Y<this.documentFrequency.length)this.documentFrequency[Y]++;else console.error(`Error: termIndexVal ${Y} is out of bounds for documentFrequency (length ${this.documentFrequency.length}). This indicates an issue with array resizing or term indexing.`)}),this.recalculateAverageLength()}calculateIdf($){if($<0||$>=this.documentFrequency.length)return 0;let q=this.documentFrequency[$];if(q<=0||q>this.documentLengths.length)return 0;let K=this.documentLengths.length-q+0.5,P=q+0.5;return Math.log(1+K/P)}getTermFrequency($,q){return this.termFrequencies.get($)?.get(q)||0}getDocument($){if($<0||$>=this.documents.length)throw Error(`Document index ${$} out of bounds (0-${this.documents.length-1})`);return this.documents[$]}clearDocuments(){this.documents=[],this.documentLengths=new Uint32Array(0),this.termToIndex.clear(),this.documentFrequency=new Uint32Array(0),this.averageDocLength=0,this.termFrequencies.clear()}getDocumentCount(){return this.documents.length}async addDocuments($){return Promise.all($.map((q)=>this.addDocument(q)))}}var zF={};class WF{permits;waiting=[];constructor($){this.permits=$}async acquire(){if(this.permits>0)return this.permits-=1,Promise.resolve();return new Promise(($)=>{this.waiting.push($)})}release(){this.permits+=1;let $=this.waiting.shift();if($&&this.permits>0)this.permits-=1,$()}}class zT{#$=32;agentId;character;adapter;actions=[];evaluators=[];providers=[];plugins=[];events={};stateCache=new Map;fetch=fetch;services=new Map;serviceTypes=new Map;models=new Map;routes=[];taskWorkers=new Map;sendHandlers=new Map;eventHandlers=new Map;elizaOS;allAvailablePlugins=new Map;characterPlugins=[];logger;settings;servicePromiseHandlers=new Map;servicePromises=new Map;serviceRegistrationStatus=new Map;initPromise;initResolver;initRejecter;currentRunId;currentRoomId;currentActionContext;maxWorkingMemoryEntries=50;messageService=null;constructor($){if(this.agentId=$.character?.id??$?.agentId??d2($.character?.name??Iq()),this.character=$.character,this.initPromise=new Promise((q,_)=>{this.initResolver=q,this.initRejecter=_}),this.logger=X1({namespace:this.character?.name}),this.#$=$.conversationLength??this.#$,$.adapter)this.registerDatabaseAdapter($.adapter);if(this.fetch=$.fetch??this.fetch,this.settings=$.settings??zF,this.plugins=[],this.characterPlugins=$?.plugins??[],$.allAvailablePlugins){for(let q of $.allAvailablePlugins)if(q?.name)this.allAvailablePlugins.set(q.name,q)}if(this.logger.debug({src:"agent",agentId:this.agentId,agentName:this.character?.name},"Initialized"),this.currentRunId=void 0,$.settings?.MAX_WORKING_MEMORY_ENTRIES)this.maxWorkingMemoryEntries=parseInt($.settings.MAX_WORKING_MEMORY_ENTRIES,10)||50;else this.maxWorkingMemoryEntries=VM("MAX_WORKING_MEMORY_ENTRIES",50)}createRunId(){return Iq()}startRun($){return this.currentRunId=this.createRunId(),this.currentRoomId=$,this.currentRunId}endRun(){this.currentRunId=void 0,this.currentRoomId=void 0}getCurrentRunId(){if(!this.currentRunId)this.currentRunId=this.createRunId();return this.currentRunId}async registerPlugin($){if(!$?.name)throw this.logger.error({src:"agent",agentId:this.agentId,error:"Plugin or plugin name is undefined"},"Plugin registration failed"),Error("registerPlugin: Plugin or plugin name is undefined");if(this.plugins.find((_)=>_.name===$.name)){this.logger.warn({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin already registered, skipping");return}if(this.plugins.push($),this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin added"),$.init)try{await $.init($.config||{},this),this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Plugin initialized")}catch(_){let K=_ instanceof Error?_.message:String(_);if(K.includes("API key")||K.includes("environment variables")||K.includes("Invalid plugin configuration"))console.warn(`Plugin ${$.name} requires configuration. ${K}`),console.warn("Please check your environment variables and ensure all required API keys are set."),console.warn("You can set these in your .env file.");else throw _}if($.adapter)this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name},"Registering database adapter"),this.registerDatabaseAdapter($.adapter);if($.actions)for(let _ of $.actions)this.registerAction(_);if($.evaluators)for(let _ of $.evaluators)this.registerEvaluator(_);if($.providers)for(let _ of $.providers)this.registerProvider(_);if($.models)for(let[_,K]of Object.entries($.models))this.registerModel(_,K,$.name,$?.priority);if($.routes)for(let _ of $.routes){let K=_.path.startsWith("/")?_.path:`/${_.path}`;this.routes.push({..._,path:"/"+$.name+K})}if($.events)for(let[_,K]of Object.entries($.events))for(let P of K)this.registerEvent(_,P);if($.services)for(let _ of $.services){let K=_.serviceType;if(this.logger.debug({src:"agent",agentId:this.agentId,plugin:$.name,serviceType:K},"Registering service"),!this.servicePromises.has(K))this._createServiceResolver(K);this.serviceRegistrationStatus.set(K,"pending"),this.registerService(_).catch((P)=>{this.logger.error({src:"agent",agentId:this.agentId,plugin:$.name,serviceType:K,error:P instanceof Error?P.message:String(P)},"Service registration failed");let O=this.servicePromiseHandlers.get(K);if(O){let Y=Error(`Service ${K} from plugin ${$.name} failed to register: ${P instanceof Error?P.message:String(P)}`);O.reject(Y),this.servicePromiseHandlers.delete(K),this.servicePromises.delete(K)}this.serviceRegistrationStatus.set(K,"failed")})}}getAllServices(){return this.services}async stop(){this.logger.debug({src:"agent",agentId:this.agentId},"Stopping runtime");for(let[$,q]of this.services){this.logger.debug({src:"agent",agentId:this.agentId,serviceType:$},"Stopping service");for(let _ of q)await _.stop()}this.elizaOS=void 0}async initialize($){try{let q=[],_=this.characterPlugins;for(let T of _)if(T)q.push(this.registerPlugin(T));if(await Promise.all(q),!this.adapter)throw this.logger.error({src:"agent",agentId:this.agentId},"Database adapter not initialized"),Error("Database adapter not initialized. The SQL plugin (@elizaos/plugin-sql) is required for agent initialization. Please ensure it is included in your character configuration.");if(!await this.adapter.isReady())await this.adapter.init();if(this.messageService=new YT,$?.skipMigrations??!1)this.logger.debug({src:"agent",agentId:this.agentId},"Skipping plugin migrations");else this.logger.debug({src:"agent",agentId:this.agentId},"Running plugin migrations"),await this.runPluginMigrations(),this.logger.debug({src:"agent",agentId:this.agentId},"Plugin migrations completed");let P=await this.ensureAgentExists({...this.character,id:this.agentId});if(!P){let T=`Agent ${this.agentId} does not exist in database after ensureAgentExists call`;throw Error(T)}if(P.settings){this.character.settings={...P.settings,...this.character.settings};let T=P.settings.secrets&&typeof P.settings.secrets==="object"?P.settings.secrets:{},f=this.character.settings.secrets&&typeof this.character.settings.secrets==="object"?this.character.settings.secrets:{},w=this.character.secrets&&typeof this.character.secrets==="object"?this.character.secrets:{},k={...T,...w,...f};if(Object.keys(k).length>0)this.character.secrets=k,this.character.settings.secrets=k}let O=await this.getEntityById(this.agentId);if(!O){if(!await this.createEntity({id:this.agentId,names:[this.character.name],metadata:{},agentId:P.id})){let f=`Failed to create entity for agent ${this.agentId}`;throw Error(f)}if(O=await this.getEntityById(this.agentId),!O)throw Error(`Agent entity not found for ${this.agentId}`);this.logger.debug({src:"agent",agentId:this.agentId},"Agent entity created")}if(!await this.getRoom(this.agentId))await this.createRoom({id:this.agentId,name:this.character.name,source:"elizaos",type:"SELF",channelId:this.agentId,messageServerId:this.agentId,worldId:this.agentId});if(!(await this.adapter.getParticipantsForRoom(this.agentId)).includes(this.agentId)){if(!await this.addParticipant(this.agentId,this.agentId))throw Error(`Failed to add agent ${this.agentId} as participant to its own room`);this.logger.debug({src:"agent",agentId:this.agentId},"Agent linked to room")}if(!this.getModel(M6.TEXT_EMBEDDING))this.logger.warn({src:"agent",agentId:this.agentId},"No TEXT_EMBEDDING model registered, skipping embedding setup");else await this.ensureEmbeddingDimension();if(this.initResolver)this.initResolver(),this.initResolver=void 0}catch(q){let _=q instanceof Error?q.message:String(q);if(this.logger.error({src:"agent",agentId:this.agentId,error:_},"Runtime initialization failed"),this.initRejecter)this.initRejecter(q),this.initRejecter=void 0;for(let[K,P]of this.servicePromises){let O=this.servicePromiseHandlers.get(K);if(O){let Y=Error(`Service ${K} failed to start due to runtime initialization failure: ${_}`);O.reject(Y),this.servicePromiseHandlers.delete(K),this.servicePromises.delete(K),this.serviceRegistrationStatus.set(K,"failed")}}throw q}}async runPluginMigrations(){if(!this.adapter){this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter not found, skipping plugin migrations");return}if(typeof this.adapter.runPluginMigrations!=="function"){this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter does not support plugin migrations");return}let $=this.plugins.filter((q)=>q.schema).map((q)=>({name:q.name,schema:q.schema}));if($.length===0){this.logger.debug({src:"agent",agentId:this.agentId},"No plugins with schemas, skipping migrations");return}this.logger.debug({src:"agent",agentId:this.agentId,count:$.length},"Found plugins with schemas");try{let _=process.env.ELIZA_ALLOW_DESTRUCTIVE_MIGRATIONS==="true";await this.adapter.runPluginMigrations($,{verbose:!0,force:_,dryRun:!1}),this.logger.debug({src:"agent",agentId:this.agentId},"Plugin migrations completed")}catch(q){throw this.logger.error({src:"agent",agentId:this.agentId,error:q instanceof Error?q.message:String(q)},"Plugin migrations failed"),q}}async getConnection(){if(!this.adapter)throw Error("Database adapter not registered");return this.adapter.getConnection()}setSetting($,q,_=!1){if(_){if(!this.character.secrets)this.character.secrets={};this.character.secrets[$]=q}else{if(!this.character.settings)this.character.settings={};this.character.settings[$]=q}}getSetting($){let q=this.character.secrets?.[$]||this.character.settings?.[$]||typeof this.character.settings==="object"&&this.character.settings!==null&&"secrets"in this.character.settings&&this.character.settings.secrets?.[$]||this.settings[$],_=l2(q,dK());if(_==="true")return!0;if(_==="false")return!1;return _||null}getConversationLength(){return this.#$}registerDatabaseAdapter($){if(this.adapter)this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter already registered, ignoring");else this.adapter=$,this.logger.debug({src:"agent",agentId:this.agentId},"Database adapter registered")}registerProvider($){this.providers.push($),this.logger.debug({src:"agent",agentId:this.agentId,provider:$.name},"Provider registered")}registerAction($){if(this.actions.find((q)=>q.name===$.name))this.logger.warn({src:"agent",agentId:this.agentId,action:$.name},"Action already registered, skipping");else this.actions.push($),this.logger.debug({src:"agent",agentId:this.agentId,action:$.name},"Action registered")}registerEvaluator($){this.evaluators.push($)}updateActionPlan($,q){return{...$,...q}}updateActionStep($,q,_){if(!$.steps||q<0||q>=$.steps.length)return this.logger.warn({src:"agent",agentId:this.agentId,index:q,stepsCount:$.steps?.length||0},"Invalid step index"),$;return{...$,steps:$.steps.map((K,P)=>P===q?{...K,..._}:K)}}async processActions($,q,_,K){let P=[];for(let w of q)if(w.content?.actions&&w.content.actions.length>0)P.push(...w.content.actions);let O=P.length>1,Y=this.getCurrentRunId(),z=this.createRunId(),H=null,T=q[0]?.content?.thought||`Executing ${P.length} actions: ${P.join(", ")}`;if(O)H={runId:z,totalSteps:P.length,currentStep:0,steps:P.map((w)=>({action:w,status:"pending"})),thought:T,startTime:Date.now()};let f=0;for(let w of q){let h=function(E){return E.toLowerCase().replace(/_/g,"")};if(!w.content?.actions||w.content.actions.length===0){this.logger.warn({src:"agent",agentId:this.agentId},"No action found in response");continue}let k=w.content.actions,S=[],N=_;this.logger.trace({src:"agent",agentId:this.agentId,actions:this.actions.map((E)=>h(E.name))},"Available actions");for(let E of k){if(H)H=this.updateActionPlan(H,{currentStep:f+1});if(N=await this.composeState($,["RECENT_MESSAGES","ACTION_STATE"]),H&&N.data)N.data.actionPlan=H,N.data.actionResults=S;this.logger.debug({src:"agent",agentId:this.agentId,action:E},"Processing action");let D=h(E),I=this.actions.find((L)=>h(L.name)===D);if(!I)I=this.actions.find((L)=>h(L.name).includes(D)||D.includes(h(L.name)));if(!I)for(let L of this.actions){if(L.similes?.find((c)=>h(c)===D)){I=L,this.logger.debug({src:"agent",agentId:this.agentId,action:I.name,match:"simile"},"Action resolved via simile");break}if(L.similes?.find((c)=>h(c).includes(D)||D.includes(h(c)))){I=L,this.logger.debug({src:"agent",agentId:this.agentId,action:I.name,match:"fuzzy"},"Action resolved via fuzzy match");break}}if(!I){let L=`Action not found: ${E}`;if(this.logger.error({src:"agent",agentId:this.agentId,action:E},"Action not found"),H&&H.steps[f])H=this.updateActionStep(H,f,{status:"failed",error:L});let g={id:Iq(),entityId:$.entityId,roomId:$.roomId,worldId:$.worldId,content:{thought:L,source:"auto",type:"action_result",actionName:E,actionStatus:"failed",runId:z}};await this.createMemory(g,"messages"),f++;continue}if(!I.handler){if(this.logger.error({src:"agent",agentId:this.agentId,action:I.name},"Action has no handler"),H&&H.steps[f])H=this.updateActionStep(H,f,{status:"failed",error:"No handler"});f++;continue}try{this.logger.debug({src:"agent",agentId:this.agentId,action:I.name},"Executing action");let L=Iq();this.currentActionContext={actionName:I.name,actionId:L,prompts:[]};let y={actionContext:{previousResults:S,getPreviousResult:(j)=>{return S.find((J)=>J.data?.actionName===j)}}};if(H)y.actionPlan={totalSteps:H.totalSteps,currentStep:H.currentStep,steps:H.steps,thought:H.thought};try{await this.emitEvent("ACTION_STARTED",{messageId:L,roomId:$.roomId,world:$.worldId,content:{text:`Executing action: ${I.name}`,actions:[I.name],actionStatus:"executing",actionId:L,runId:z,type:"agent_action",thought:T,source:$.content?.source}})}catch(j){this.logger.error({src:"agent",agentId:this.agentId,action:I.name,error:String(j)},"Failed to emit action start event")}let c=[],o=async(j)=>{return c.push(j),[]},Q=await I.handler(this,$,N,y,o,q),U=Q===void 0||Q===null||typeof Q==="boolean",p=null;if(!U){if(typeof Q==="object"&&Q!==null&&(("values"in Q)||("data"in Q)||("text"in Q)))p={...Q,success:"success"in Q?Q.success:!0};else p={success:!0,data:{actionName:I.name,legacyResult:Q}};if(S.push(p),p.values)N={...N,values:{...N.values,...p.values},data:{...N.data||{},actionResults:[...N.data?.actionResults||[],p],actionPlan:H}};if(p&&N.data){if(!N.data.workingMemory)N.data.workingMemory={};let j=`action_${E}_${Iq()}`,J={actionName:I.name,result:p,timestamp:Date.now()};N.data.workingMemory[j]=J;let X=Object.entries(N.data.workingMemory);if(X.length>this.maxWorkingMemoryEntries){let W=X.sort((Z,V)=>{let M=Z[1],A=V[1],v=M?.timestamp??0;return(A?.timestamp??0)-v});N.data.workingMemory=Object.fromEntries(W.slice(0,this.maxWorkingMemoryEntries))}}if(H&&H.steps[f])H=this.updateActionStep(H,f,{status:"completed",result:p})}try{let J=p?.success!==!1?"completed":"failed";await this.emitEvent("ACTION_COMPLETED",{messageId:L,roomId:$.roomId,world:$.worldId,content:{text:`Action ${I.name} ${J}`,actions:[I.name],actionStatus:J,actionId:L,type:"agent_action",thought:T,actionResult:p,source:$.content?.source}})}catch(j){this.logger.error({src:"agent",agentId:this.agentId,action:I.name,error:j instanceof Error?j.message:String(j)},"Failed to emit ACTION_COMPLETED event")}if(K)for(let j of c)await K(j);let s={id:L,entityId:this.agentId,roomId:$.roomId,worldId:$.worldId,content:{text:p?.text||`Executed action: ${I.name}`,source:"action",type:"action_result",actionName:I.name,actionStatus:p?.success?"completed":"failed",actionResult:U?{legacy:Q}:p,runId:z,...H&&{planStep:`${H.currentStep}/${H.totalSteps}`,planThought:H.thought}},metadata:{type:"action_result",actionName:I.name,runId:z,parentRunId:Y,actionId:L,...H&&{totalSteps:H.totalSteps,currentStep:H.currentStep}}};await this.createMemory(s,"messages"),this.logger.debug({src:"agent",agentId:this.agentId,action:I.name},"Action completed"),await this.adapter.log({entityId:$.entityId,roomId:$.roomId,type:"action",body:{action:I.name,actionId:L,message:$.content.text,messageId:$.id,state:N,responses:q,result:U?{legacy:Q}:p,isLegacyReturn:U,prompts:this.currentActionContext?.prompts||[],promptCount:this.currentActionContext?.prompts.length||0,runId:z,parentRunId:Y,...H&&{planStep:`${H.currentStep}/${H.totalSteps}`,planThought:H.thought}}}),this.currentActionContext=void 0}catch(L){let g=L instanceof Error?L.message:String(L);if(this.logger.error({src:"agent",agentId:this.agentId,action:I.name,error:g},"Action execution failed"),H&&H.steps[f])H=this.updateActionStep(H,f,{status:"failed",error:g});this.currentActionContext=void 0;let y={success:!1,data:{actionName:I.name,error:g,errorObject:L}};S.push(y);let c={id:Iq(),content:{thought:g,source:"auto",type:"action_result",actionName:I.name,actionStatus:"failed",error:g,runId:z,...H&&{planStep:`${H.currentStep}/${H.totalSteps}`,planThought:H.thought}},entityId:this.agentId,roomId:$.roomId,worldId:$.worldId,metadata:{type:"action_result",actionName:I.name,runId:z,parentRunId:Y,error:!0,...H&&{totalSteps:H.totalSteps,currentStep:H.currentStep}}};if(await this.createMemory(c,"messages"),L?.critical||L?.code==="CRITICAL_ERROR")throw L}f++}if($.id)this.stateCache.set(`${$.id}_action_results`,{values:{actionResults:S},data:{actionResults:S,actionPlan:H},text:JSON.stringify(S)})}}getActionResults($){return this.stateCache?.get(`${$}_action_results`)?.data?.actionResults||[]}async evaluate($,q,_,K,P){try{let O=this.evaluators.map(async(z)=>{try{if(!z.handler)return null;if(!_&&!z.alwaysRun)return null;if(await z.validate(this,$,q))return z;return null}catch(H){return this.logger.error({src:"agent",agentId:this.agentId,evaluator:z.name,error:H instanceof Error?H.message:String(H)},"Evaluator validation failed"),null}}),Y=(await Promise.all(O)).filter(Boolean);if(Y.length===0)return[];return q=await this.composeState($,["RECENT_MESSAGES","EVALUATORS"]),await Promise.all(Y.map(async(z)=>{try{if(z.handler)await z.handler(this,$,q,{},K,P),this.adapter.log({entityId:$.entityId,roomId:$.roomId,type:"evaluator",body:{evaluator:z.name,messageId:$.id,message:$.content.text,state:q,runId:this.getCurrentRunId()}})}catch(H){this.logger.error({src:"agent",agentId:this.agentId,evaluator:z.name,error:H instanceof Error?H.message:String(H)},"Evaluator execution failed")}})),Y}catch(O){return this.logger.error({src:"agent",agentId:this.agentId,messageId:$.id,channelId:$.roomId,error:O instanceof Error?O.message:String(O)},"Evaluate method failed"),[]}}async ensureConnections($,q,_,K){if(!$){console.trace(),this.logger.error({src:"agent",agentId:this.agentId},"ensureConnections called without entities");return}if(!q||q.length===0){console.trace(),this.logger.error({src:"agent",agentId:this.agentId},"ensureConnections called without rooms");return}await this.ensureWorldExists({...K,agentId:this.agentId});let P=q[0],O=(g,y)=>g.reduce((c,o,Q)=>{if(Q%y===0)c.push([]);return c[c.length-1].push(o),c},[]),Y=q.map((g)=>g.id),H=(await this.getRoomsByIds(Y))?.map((g)=>g.id),T=Y.filter((g)=>!H?.includes(g)),f={worldId:K.id,messageServerId:K.messageServerId,source:_,agentId:this.agentId};if(T.length){this.logger.debug({src:"agent",agentId:this.agentId,count:T.length},"Creating rooms");let g=q.filter((y)=>T.includes(y.id)).map((y)=>({...y,...f}));await this.createRooms(g)}let w=$.map((g)=>g.id),S=(await this.adapter.getEntitiesByIds(w))?.map((g)=>g.id),N=$.filter((g)=>!S?.includes(g.id)),h={roomId:P.id,channelId:P.channelId,type:P.type},E={worldId:K.id,messageServerId:K.messageServerId};if(N.length){this.logger.debug({src:"agent",agentId:this.agentId,count:N.length},"Creating entities");let g={...h,...E,source:_,agentId:this.agentId},y=N.map((o)=>({...o,...g})),c=O(y,5000);for(let o of c)await this.createEntities(o)}await this.ensureParticipantInRoom(this.agentId,P.id);let I=(await this.getParticipantsForRoom(P.id)).filter(Boolean),L=w.filter((g)=>!I.includes(g));if(L.length){this.logger.debug({src:"agent",agentId:this.agentId,count:L.length,channelId:P.id},"Adding missing participants");let g=O(L,5000);for(let y of g)await this.addParticipantsRoom(y,P.id)}this.logger.success({src:"agent",agentId:this.agentId,worldId:K.id},"World connected")}async ensureConnection({entityId:$,roomId:q,worldId:_,worldName:K,userName:P,name:O,source:Y,type:z,channelId:H,messageServerId:T,userId:f,metadata:w}){if(!_&&T)_=K_(this,T);let k=[O,P].filter(Boolean),S={[Y]:{id:f,name:O,userName:P}};try{let N=await this.getEntityById($);if(!N)try{if(await this.createEntity({id:$,names:k,metadata:S,agentId:this.agentId}))this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,userName:O||P},"Entity created");else throw Error(`Failed to create entity ${$}`)}catch(h){if(h.message?.includes("duplicate key")||h.code==="23505")this.logger.debug({src:"agent",agentId:this.agentId,entityId:$},"Entity exists in database (multi-agent setup)");else throw h}else await this.adapter.updateEntity({id:$,names:[...new Set([...N.names||[],...k])].filter(Boolean),metadata:{...N.metadata,[Y]:{...N.metadata?.[Y],id:f,name:O,userName:P}},agentId:this.agentId});await this.ensureWorldExists({id:_,name:K||T?`World for server ${T}`:`World for room ${q}`,agentId:this.agentId,messageServerId:T,metadata:w}),await this.ensureRoomExists({id:q,name:O||"default",source:Y||"default",type:z||"DM",channelId:H,messageServerId:T,worldId:_});try{await this.ensureParticipantInRoom($,q)}catch(h){if(h.message?.includes("not found")){if(!await this.addParticipant($,q))throw Error(`Failed to add participant ${$} to room ${q}`);this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,channelId:q},"Participant added")}else throw h}await this.ensureParticipantInRoom(this.agentId,q),this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,channelId:q},"Entity connected")}catch(N){throw this.logger.error({src:"agent",agentId:this.agentId,entityId:$,channelId:q,error:N instanceof Error?N.message:String(N)},"Connection setup failed"),N}}async ensureParticipantInRoom($,q){let _=await this.getEntityById($);if(!_&&$!==this.agentId)this.logger.warn({src:"agent",agentId:this.agentId,entityId:$},"Entity not accessible, attempting to add as participant");else if(!_&&$===this.agentId)throw Error(`Agent entity ${$} not found, cannot add as participant.`);else if(!_)throw Error(`User entity ${$} not found, cannot add as participant.`);if(!(await this.adapter.getParticipantsForRoom(q)).includes($)){if(!await this.addParticipant($,q))throw Error(`Failed to add participant ${$} to room ${q}`);if($===this.agentId)this.logger.debug({src:"agent",agentId:this.agentId,channelId:q},"Agent linked to room");else this.logger.debug({src:"agent",agentId:this.agentId,entityId:$,channelId:q},"User linked to room")}}async removeParticipant($,q){return await this.adapter.removeParticipant($,q)}async getParticipantsForEntity($){return await this.adapter.getParticipantsForEntity($)}async getParticipantsForRoom($){return await this.adapter.getParticipantsForRoom($)}async isRoomParticipant($,q){return await this.adapter.isRoomParticipant($,q)}async addParticipant($,q){return await this.adapter.addParticipantsRoom([$],q)}async addParticipantsRoom($,q){return await this.adapter.addParticipantsRoom($,q)}async ensureWorldExists({id:$,name:q,messageServerId:_,metadata:K}){if(!await this.getWorld($))this.logger.debug({src:"agent",agentId:this.agentId,worldId:$,name:q,messageServerId:_},"Creating world"),await this.adapter.createWorld({id:$,name:q,agentId:this.agentId,messageServerId:_,metadata:K}),this.logger.debug({src:"agent",agentId:this.agentId,worldId:$,messageServerId:_},"World created")}async ensureRoomExists({id:$,name:q,source:_,type:K,channelId:P,messageServerId:O,worldId:Y,metadata:z}){if(!Y)throw Error("worldId is required");if(!await this.getRoom($))await this.createRoom({id:$,name:q,agentId:this.agentId,source:_,type:K,channelId:P,messageServerId:O,worldId:Y,metadata:z}),this.logger.debug({src:"agent",agentId:this.agentId,channelId:$},"Room created")}async composeState($,q=null,_=!1,K=!1){let P=_?q:null,O={values:{},data:{},text:""},Y=K||!$.id?O:await this.stateCache.get($.id)||O,z=new Set;if(P&&P.length>0)P.forEach((h)=>z.add(h));else this.providers.filter((h)=>!h.private&&!h.dynamic).forEach((h)=>z.add(h.name));if(!P&&q&&q.length>0)q.forEach((h)=>z.add(h));let H=Array.from(new Set(this.providers.filter((h)=>z.has(h.name)))).sort((h,E)=>(h.position||0)-(E.position||0)),T=await Promise.all(H.map(async(h)=>{let E=Date.now();try{let D=await h.get(this,$,Y),I=Date.now()-E;if(I>100)this.logger.debug({src:"agent",agentId:this.agentId,provider:h.name,duration:I},"Slow provider");return{...D,providerName:h.name}}catch(D){return console.error("provider error",h.name,D),{values:{},text:"",data:{},providerName:h.name}}})),f={...Y.data?.providers||{}};for(let h of T)f[h.providerName]=h;let w=[];for(let h of H){let E=f[h.name];if(E&&E.text&&E.text.trim()!=="")w.push(E.text)}let k=w.join(`
`),S={...Y.values||{}};for(let h of H){let E=f[h.name];if(E&&E.values&&typeof E.values==="object")Object.assign(S,E.values)}for(let h in f)if(!H.some((E)=>E.name===h)){let E=f[h];if(E&&E.values&&typeof E.values==="object")Object.assign(S,E.values)}let N={values:{...S,providers:k},data:{...Y.data||{},providers:f},text:k};if($.id)this.stateCache.set($.id,N);return N}getService($){let q=this.services.get($);if(!q||q.length===0)return this.logger.debug({src:"agent",agentId:this.agentId,serviceName:$},"Service not found"),null;return q[0]}getTypedService($){return this.getService($)}getServicesByType($){let q=this.services.get($);if(!q||q.length===0)return this.logger.debug({src:"agent",agentId:this.agentId,serviceName:$},"No services found for type"),[];return q}getRegisteredServiceTypes(){return Array.from(this.services.keys())}hasService($){let q=this.services.get($);return q!==void 0&&q.length>0}getServiceRegistrationStatus($){return this.serviceRegistrationStatus.get($)||"unknown"}getServiceHealth(){let $={};for(let[q,_]of this.services)$[q]={status:this.getServiceRegistrationStatus(q),instances:_.length,hasPromise:this.servicePromises.has(q)};for(let[q,_]of this.serviceRegistrationStatus)if(!$[q])$[q]={status:_,instances:0,hasPromise:this.servicePromises.has(q)};return $}async registerService($){let q=$.serviceType,_=$.name||"Unknown";if(!q){this.logger.warn({src:"agent",agentId:this.agentId,serviceName:_},"Service missing serviceType property");return}this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Registering service"),this.serviceRegistrationStatus.set(q,"registering");try{this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service waiting for init");let K=new Promise((Y,z)=>{setTimeout(()=>{z(Error(`Service ${q} registration timed out waiting for runtime initialization (30s timeout)`))},30000)});if(await Promise.race([this.initPromise,K]),typeof $.start!=="function")throw Error(`Service ${q} does not have a static start method. All services must implement static async start(runtime: IAgentRuntime): Promise<Service>.`);let P=await $.start(this);if(!P)throw Error(`Service ${q}  start() method returned null or undefined. It must return a Service instance.`);if(!this.services.has(q))this.services.set(q,[]);if(!this.serviceTypes.has(q))this.serviceTypes.set(q,[]);this.services.get(q).push(P),this.serviceTypes.get(q).push($);let O=this.servicePromiseHandlers.get(q);if(O)O.resolve(P),this.servicePromiseHandlers.delete(q);else this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service has no promise handler");if(typeof $.registerSendHandlers==="function")$.registerSendHandlers(this,P);this.serviceRegistrationStatus.set(q,"registered"),this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q},"Service registered")}catch(K){let P=K instanceof Error?K.message:String(K),O=K instanceof Error?K.stack:void 0;if(this.logger.error({src:"agent",agentId:this.agentId,serviceType:q,error:P},"Service registration failed"),O)this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q,stack:O},"Service error stack");if(K?.message?.includes("timed out waiting for runtime initialization"))this.logger.error(`Service ${q} failed due to runtime initialization timeout. Check if runtime.initialize() is being called and completing successfully.`);else if(K?.message?.includes("Not implemented")){if(this.logger.error(`Service ${q} failed because it does not implement the static start() method. All services must override the base Service.start() method. Add: static async start(runtime: IAgentRuntime): Promise<${_}> { return new ${_}(runtime); }`),O)this.logger.debug(`Stack trace: ${O}`)}else if(K?.message?.includes("Service")&&K?.message?.includes("failed to start"))this.logger.error(`Service ${q} (${_}) failed to start. Check service implementation and dependencies.`);else if(K?.message?.includes("does not have a static start method"))this.logger.error({src:"agent",agentId:this.agentId,serviceType:q,serviceName:_,error:K?.message},"Service missing required static start() method implementation");else if(O)this.logger.debug({src:"agent",agentId:this.agentId,serviceType:q,serviceName:_,stack:O},"Service error stack");this.serviceRegistrationStatus.set(q,"failed");let Y=this.servicePromiseHandlers.get(q);if(Y)Y.reject(K),this.servicePromiseHandlers.delete(q),this.servicePromises.delete(q);throw K}}_createServiceResolver($){let q,_;if(this.servicePromises.set($,new Promise((K,P)=>{q=K,_=P})),!q)throw Error(`Failed to create resolver for service ${$}`);if(!_)throw Error(`Failed to create rejecter for service ${$}`);return this.servicePromiseHandlers.set($,{resolve:q,reject:_}),this.servicePromises.get($)}getServiceLoadPromise($){let q=this.servicePromises.get($);if(!q)q=this._createServiceResolver($);return q}registerModel($,q,_,K){let P=typeof $==="string"?$:M6[$];if(!this.models.has(P))this.models.set(P,[]);let O=Date.now();this.models.get(P)?.push({handler:q,provider:_,priority:K||0,registrationOrder:O}),this.models.get(P)?.sort((Y,z)=>{if((z.priority||0)!==(Y.priority||0))return(z.priority||0)-(Y.priority||0);return(Y.registrationOrder||0)-(z.registrationOrder||0)})}getModel($,q){let _=typeof $==="string"?$:M6[$],K=this.models.get(_);if(!K?.length)return;if(q){let P=K.find((O)=>O.provider===q);if(P)return this.logger.debug({src:"agent",agentId:this.agentId,model:_,provider:q},"Using model"),P.handler;else this.logger.warn({src:"agent",agentId:this.agentId,model:_,provider:q},"Model provider not found")}return this.logger.debug({src:"agent",agentId:this.agentId,model:_,provider:K[0].provider},"Using model"),K[0].handler}getModelSettings($){let q={},_=(k,S)=>{if($){let E=`${$}_${k}`,D=this.getSetting(E);if(D!==null&&D!==void 0){let I=Number(D);if(!isNaN(I))return I}}let N=`DEFAULT_${k}`,h=this.getSetting(N);if(h!==null&&h!==void 0){let E=Number(h);if(!isNaN(E))return E}if(S){let E=this.getSetting(S);if(E!==null&&E!==void 0){let D=Number(E);if(!isNaN(D))return D}}return null},K=_("MAX_TOKENS",vP.MODEL_MAX_TOKEN),P=_("TEMPERATURE",vP.MODEL_TEMPERATURE),O=_("TOP_P"),Y=_("TOP_K"),z=_("MIN_P"),H=_("SEED"),T=_("REPETITION_PENALTY"),f=_("FREQUENCY_PENALTY",vP.MODEL_FREQ_PENALTY),w=_("PRESENCE_PENALTY",vP.MODEL_PRESENCE_PENALTY);if(K!==null)q.maxTokens=K;if(P!==null)q.temperature=P;if(O!==null)q.topP=O;if(Y!==null)q.topK=Y;if(z!==null)q.minP=z;if(H!==null)q.seed=H;if(T!==null)q.repetitionPenalty=T;if(f!==null)q.frequencyPenalty=f;if(w!==null)q.presencePenalty=w;return Object.keys(q).length>0?q:null}async useModel($,q,_){let K=typeof $==="string"?$:M6[$],P=q?.prompt||q?.input||(Array.isArray(q?.messages)?JSON.stringify(q.messages):null),O=this.getModel(K,_);if(!O){let T=`No handler found for delegate type: ${K}`;throw Error(T)}if(![M6.TRANSCRIPTION,M6.IMAGE,M6.AUDIO,M6.VIDEO].includes(K))this.logger.trace({src:"agent",agentId:this.agentId,model:K,params:q},"Model input");else{let T="unknown size";if(Buffer.isBuffer(q))T=`${q.length} bytes`;else if(typeof Blob<"u"&&q instanceof Blob)T=`${q.size} bytes`;else if(typeof q==="object"&&q!==null){if("audio"in q&&Buffer.isBuffer(q.audio))T=`${q.audio.length} bytes`;else if("audio"in q&&typeof Blob<"u"&&q.audio instanceof Blob)T=`${q.audio.size} bytes`}this.logger.trace({src:"agent",agentId:this.agentId,model:K,size:T},"Model input (binary)")}let z;if(q===null||q===void 0||typeof q!=="object"||Array.isArray(q)||OK.isBuffer(q))z=q;else{let T=this.getModelSettings(K);if(T)z={...T,...q};else z=q;if(uN(z)){if(z.user===void 0&&this.character?.name)z.user=this.character.name}}let H=typeof performance<"u"&&typeof performance.now==="function"?performance.now():Date.now();try{let T=await O(this,z),f=(typeof performance<"u"&&typeof performance.now==="function"?performance.now():Date.now())-H;if(this.logger.trace({src:"agent",agentId:this.agentId,model:K,duration:Number(f.toFixed(2))},"Model output"),K!==M6.TEXT_EMBEDDING&&P){if(this.currentActionContext)this.currentActionContext.prompts.push({modelType:K,prompt:P,timestamp:Date.now()})}return this.adapter.log({entityId:this.agentId,roomId:this.currentRoomId??this.agentId,body:{modelType:$,modelKey:K,params:{...typeof q==="object"&&!Array.isArray(q)&&q?q:{},prompt:P},prompt:P,systemPrompt:this.character?.system||null,runId:this.getCurrentRunId(),timestamp:Date.now(),executionTime:f,provider:_||this.models.get(K)?.[0]?.provider||"unknown",actionContext:this.currentActionContext?{actionName:this.currentActionContext.actionName,actionId:this.currentActionContext.actionId}:void 0,response:Array.isArray(T)&&T.every((w)=>typeof w==="number")?"[array]":T},type:`useModel:${K}`}),T}catch(T){throw T}}async generateText($,q){if(!$?.trim())throw Error("Input cannot be empty");let _=q?.includeCharacter??!0,K=q?.modelType??M6.TEXT_LARGE,P=$;if(_&&this.character){let z=this.character,H=[],T=Array.isArray(z.bio)?z.bio.join(" "):z.bio;if(T)H.push(`# About ${z.name}
${T}`);if(z.system)H.push(z.system);let f=[...z.style?.all||[],...z.style?.chat||[]];if(f.length>0)H.push(`Style:
${f.map((w)=>`- ${w}`).join(`
`)}`);if(H.length>0)P=`${H.join(`

`)}

${$}`}let O={prompt:P,maxTokens:q?.maxTokens,minTokens:q?.minTokens,temperature:q?.temperature,topP:q?.topP,topK:q?.topK,minP:q?.minP,seed:q?.seed,repetitionPenalty:q?.repetitionPenalty,frequencyPenalty:q?.frequencyPenalty,presencePenalty:q?.presencePenalty,stopSequences:q?.stopSequences,user:q?.user!==void 0?q.user:this.character?.name,responseFormat:q?.responseFormat};return{text:await this.useModel(K,O)}}registerEvent($,q){if(!this.events[$])this.events[$]=[];this.events[$].push(q)}getEvent($){return this.events[$]}async emitEvent($,q){let _=Array.isArray($)?$:[$];for(let K of _){let P=this.events[K];if(!P)continue;try{let O={runtime:this};if(typeof q==="object"&&q)O={...q,...O};await Promise.all(P.map((Y)=>Y(O)))}catch(O){this.logger.error({src:"agent",agentId:this.agentId,eventName:K,error:O instanceof Error?O.message:String(O)},"Event handler failed")}}}async ensureEmbeddingDimension(){if(!this.adapter)throw Error("Database adapter not initialized before ensureEmbeddingDimension");try{if(!this.getModel(M6.TEXT_EMBEDDING))throw Error("No TEXT_EMBEDDING model registered");let q=await this.useModel(M6.TEXT_EMBEDDING,null);if(!q||!q.length)throw Error("Invalid embedding received");await this.adapter.ensureEmbeddingDimension(q.length),this.logger.debug({src:"agent",agentId:this.agentId,dimension:q.length},"Embedding dimension set")}catch($){throw this.logger.error({src:"agent",agentId:this.agentId,error:$ instanceof Error?$.message:String($)},"Embedding dimension setup failed"),$}}registerTaskWorker($){if(this.taskWorkers.has($.name))this.logger.warn({src:"agent",agentId:this.agentId,task:$.name},"Task worker already registered, overwriting");this.taskWorkers.set($.name,$)}getTaskWorker($){return this.taskWorkers.get($)}get db(){return this.adapter.db}async init(){await this.adapter.init()}async close(){if(this.adapter)await this.adapter.close()}async getAgent($){return await this.adapter.getAgent($)}async getAgents(){return await this.adapter.getAgents()}async createAgent($){return await this.adapter.createAgent($)}async updateAgent($,q){return await this.adapter.updateAgent($,q)}async deleteAgent($){return await this.adapter.deleteAgent($)}async ensureAgentExists($){if(!$.id)throw Error("Agent id is required");let q=await this.adapter.getAgent($.id);if(q){let P={...q.settings,...$.settings},O=typeof q.settings?.secrets==="object"||typeof $.settings?.secrets==="object"?{...typeof q.settings?.secrets==="object"?q.settings.secrets:{},...typeof $.settings?.secrets==="object"?$.settings.secrets:{}}:void 0;if(O)P.secrets=O;let Y={...q,...$,settings:P,id:$.id,updatedAt:Date.now()};await this.adapter.updateAgent($.id,Y);let z=await this.adapter.getAgent($.id);if(!z)throw Error(`Failed to retrieve agent after update: ${$.id}`);return this.logger.debug({src:"agent",agentId:$.id},"Agent updated on restart"),z}let _={...$,id:$.id};if(!await this.adapter.createAgent(_))throw Error(`Failed to create agent: ${$.id}`);return this.logger.debug({src:"agent",agentId:$.id},"Agent created"),_}async getEntityById($){let q=await this.adapter.getEntitiesByIds([$]);if(!q?.length)return null;return q[0]}async getEntitiesByIds($){return await this.adapter.getEntitiesByIds($)}async getEntitiesForRoom($,q){return await this.adapter.getEntitiesForRoom($,q)}async createEntity($){if(!$.agentId)$.agentId=this.agentId;return await this.createEntities([$])}async createEntities($){return $.forEach((q)=>{q.agentId=this.agentId}),await this.adapter.createEntities($)}async updateEntity($){await this.adapter.updateEntity($)}async getComponent($,q,_,K){return await this.adapter.getComponent($,q,_,K)}async getComponents($,q,_){return await this.adapter.getComponents($,q,_)}async createComponent($){return await this.adapter.createComponent($)}async updateComponent($){await this.adapter.updateComponent($)}async deleteComponent($){await this.adapter.deleteComponent($)}async addEmbeddingToMemory($){if($.embedding)return $;let q=$.content.text;if(!q)throw Error("Cannot generate embedding: Memory content is empty");try{$.embedding=await this.useModel(M6.TEXT_EMBEDDING,{text:q})}catch(_){this.logger.error({src:"agent",agentId:this.agentId,error:_ instanceof Error?_.message:String(_)},"Embedding generation failed"),$.embedding=await this.useModel(M6.TEXT_EMBEDDING,null)}return $}async queueEmbeddingGeneration($,q){if(q=q||"normal",!$)return;if($.embedding)return;if(!$.content?.text)return;await this.emitEvent("EMBEDDING_GENERATION_REQUESTED",{runtime:this,memory:$,priority:q,source:"runtime",retryCount:0,maxRetries:3,runId:this.getCurrentRunId()})}async getMemories($){return await this.adapter.getMemories($)}async getAllMemories(){let $=["memories","messages","facts","documents"],q=[];for(let _ of $)try{let K=await this.adapter.getMemories({agentId:this.agentId,tableName:_,count:1e4});q.push(...K)}catch(K){this.logger.debug({src:"agent",agentId:this.agentId,tableName:_,error:K instanceof Error?K.message:String(K)},"Failed to get memories")}return q}async getMemoryById($){return await this.adapter.getMemoryById($)}async getMemoriesByIds($,q){return await this.adapter.getMemoriesByIds($,q)}async getMemoriesByRoomIds($){return await this.adapter.getMemoriesByRoomIds($)}async getCachedEmbeddings($){return await this.adapter.getCachedEmbeddings($)}async log($){await this.adapter.log($)}async searchMemories($){let q=await this.adapter.searchMemories($);if($.query)return await this.rerankMemories($.query,q);return q}async rerankMemories($,q){let _=q.map((O)=>({title:O.id,content:O.content.text}));return new vT(_).search($,q.length).map((O)=>q[O.index])}async createMemory($,q,_){if(_!==void 0)$.unique=_;return await this.adapter.createMemory($,q,_)}async updateMemory($){return await this.adapter.updateMemory($)}async deleteMemory($){await this.adapter.deleteMemory($)}async deleteManyMemories($){await this.adapter.deleteManyMemories($)}async clearAllAgentMemories(){this.logger.info({src:"agent",agentId:this.agentId},"Clearing all memories");let q=(await this.getAllMemories()).map((_)=>_.id).filter((_)=>_!==void 0);if(q.length===0){this.logger.debug({src:"agent",agentId:this.agentId},"No memories to delete");return}await this.adapter.deleteManyMemories(q),this.logger.info({src:"agent",agentId:this.agentId,count:q.length},"Memories cleared")}async deleteAllMemories($,q){await this.adapter.deleteAllMemories($,q)}async countMemories($,q,_){return await this.adapter.countMemories($,q,_)}async getLogs($){return await this.adapter.getLogs($)}async deleteLog($){await this.adapter.deleteLog($)}async createWorld($){return await this.adapter.createWorld($)}async getWorld($){return await this.adapter.getWorld($)}async removeWorld($){await this.adapter.removeWorld($)}async getAllWorlds(){return await this.adapter.getAllWorlds()}async updateWorld($){await this.adapter.updateWorld($)}async getRoom($){let q=await this.adapter.getRoomsByIds([$]);if(!q?.length)return null;return q[0]}async getRoomsByIds($){return await this.adapter.getRoomsByIds($)}async createRoom({id:$,name:q,source:_,type:K,channelId:P,messageServerId:O,worldId:Y}){if(!Y)throw Error("worldId is required");let z=await this.adapter.createRooms([{id:$,name:q,source:_,type:K,channelId:P,messageServerId:O,worldId:Y}]);if(!z.length)throw Error("Failed to create room");return z[0]}async createRooms($){return await this.adapter.createRooms($)}async deleteRoom($){await this.adapter.deleteRoom($)}async deleteRoomsByWorldId($){await this.adapter.deleteRoomsByWorldId($)}async updateRoom($){await this.adapter.updateRoom($)}async getRoomsForParticipant($){return await this.adapter.getRoomsForParticipant($)}async getRoomsForParticipants($){return await this.adapter.getRoomsForParticipants($)}async getRooms($){return await this.adapter.getRoomsByWorld($)}async getRoomsByWorld($){return await this.adapter.getRoomsByWorld($)}async getParticipantUserState($,q){return await this.adapter.getParticipantUserState($,q)}async setParticipantUserState($,q,_){await this.adapter.setParticipantUserState($,q,_)}async createRelationship($){return await this.adapter.createRelationship($)}async updateRelationship($){await this.adapter.updateRelationship($)}async getRelationship($){return await this.adapter.getRelationship($)}async getRelationships($){return await this.adapter.getRelationships($)}async getCache($){return await this.adapter.getCache($)}async setCache($,q){return await this.adapter.setCache($,q)}async deleteCache($){return await this.adapter.deleteCache($)}async createTask($){return await this.adapter.createTask($)}async getTasks($){return await this.adapter.getTasks($)}async getTask($){return await this.adapter.getTask($)}async getTasksByName($){return await this.adapter.getTasksByName($)}async updateTask($,q){await this.adapter.updateTask($,q)}async deleteTask($){await this.adapter.deleteTask($)}on($,q){if(!this.eventHandlers.has($))this.eventHandlers.set($,[]);this.eventHandlers.get($)?.push(q)}off($,q){if(!this.eventHandlers.has($))return;let _=this.eventHandlers.get($),K=_.indexOf(q);if(K!==-1)_.splice(K,1)}emit($,q){if(!this.eventHandlers.has($))return;for(let _ of this.eventHandlers.get($))_(q)}async sendControlMessage($){try{let{roomId:q,action:_,target:K}=$,P={type:"control",payload:{action:_,target:K},roomId:q};await this.emitEvent("CONTROL_MESSAGE",{runtime:this,message:P,source:"agent"}),this.logger.debug({src:"agent",agentId:this.agentId,action:_,channelId:q},"Control message sent")}catch(q){this.logger.error({src:"agent",agentId:this.agentId,error:q instanceof Error?q.message:String(q)},"Control message failed")}}registerSendHandler($,q){if(this.sendHandlers.has($))this.logger.warn({src:"agent",agentId:this.agentId,handlerSource:$},"Send handler already registered, overwriting");this.sendHandlers.set($,q),this.logger.debug({src:"agent",agentId:this.agentId,handlerSource:$},"Send handler registered")}async sendMessageToTarget($,q){let _=this.sendHandlers.get($.source);if(!_){let K=`No send handler registered for source: ${$.source}`;throw this.logger.error({src:"agent",agentId:this.agentId,handlerSource:$.source},"Send handler not found"),Error(K)}try{await _(this,$,q)}catch(K){throw this.logger.error({src:"agent",agentId:this.agentId,handlerSource:$.source,error:K instanceof Error?K.message:String(K)},"Send handler failed"),K}}async getMemoriesByWorldId($){return await this.adapter.getMemoriesByWorldId($)}async runMigrations($){if(this.adapter&&"runMigrations"in this.adapter)await this.adapter.runMigrations($);else this.logger.warn({src:"agent",agentId:this.agentId},"Database adapter does not support migrations")}async isReady(){if(!this.adapter)throw Error("Database adapter not registered");return await this.adapter.isReady()}hasElizaOS(){return this.elizaOS!==void 0}}async function JF($){let q={};for(let[K,P]of Object.entries(process.env))if(P!==void 0)q[K]=P;if(!$.settings)$.settings={};let _=$.settings.secrets&&typeof $.settings.secrets==="object"?{...$.settings.secrets}:{};return $.settings.secrets={...q,..._},!0}async function pN($,q){if(B4()!=="node")return!1;if(q?.skipEnvMerge)return!1;return JF($)}function HF(){try{return typeof process<"u"&&(process.versions?.node!==void 0||process.versions?.bun!==void 0)}catch{return!1}}function WT(){if(HF())return rq(),J6(lq);return m8("crypto-browserify")}function JT($){let _=WT().createHash($);return{update(K){return _.update(K),this},digest(){return new Uint8Array(_.digest())}}}function cN($,q,_){if($!=="aes-256-cbc")throw Error(`Unsupported algorithm: ${$}. Only 'aes-256-cbc' is currently supported.`);return WT().createCipheriv($,q,_)}function mN($,q,_){if($!=="aes-256-cbc")throw Error(`Unsupported algorithm: ${$}. Only 'aes-256-cbc' is currently supported.`);return WT().createDecipheriv($,q,_)}function wF($){return{name:$.name,description:$.description,usageDescription:$.usageDescription||"",value:null,required:$.required,validation:$.validation||void 0,public:$.public||!1,secret:$.secret||!1,dependsOn:$.dependsOn||[],onSetAction:$.onSetAction||void 0,visibleIf:$.visibleIf||void 0}}var PP=null,HT=!1,fF=300000;function dK(){let $=E_("SECRET_SALT","secretsalt")||"secretsalt",q=Date.now();if(PP!==null){if(q-PP.timestamp<fF&&PP.value===$)return PP.value}if($==="secretsalt"&&!HT)k6.warn({src:"core:settings"},"SECRET_SALT is not set or using default value"),HT=!0;return PP={value:$,timestamp:q},$}function rY$(){PP=null,HT=!1}function rN($,q){if($===void 0||$===null)return $;if(typeof $==="boolean"||typeof $==="number")return $;if(typeof $!=="string")return $;let _=$.split(":");if(_.length===2)try{if(OK.fromHex(_[0]).length===16)return $}catch(z){}let K=JT("sha256").update(q).digest().slice(0,32),P=OK.randomBytes(16),O=cN("aes-256-cbc",K,P),Y=O.update($,"utf8","hex");return Y+=O.final("hex"),`${OK.toHex(P)}:${Y}`}function l2($,q){try{if($===void 0||$===null)return $;if(typeof $==="boolean"||typeof $==="number")return $;if(typeof $!=="string")return $;let _=$.split(":");if(_.length!==2)return $;let K=OK.fromHex(_[0]),P=_[1];if(K.length!==16)return $;let O=JT("sha256").update(q).digest().slice(0,32),Y=mN("aes-256-cbc",O,K),z=Y.update(P,"hex","utf8");return z+=Y.final("utf8"),z}catch(_){return k6.error({src:"core:settings",error:_},"Decryption failed"),$}}function ZF($,q){let _={...$};if($.secret===!0&&typeof $.value==="string"&&$.value)_.value=rN($.value,q);return _}function XF($,q){let _={...$};if($.secret===!0&&typeof $.value==="string"&&$.value)_.value=l2($.value,q);return _}function AF($,q){let _={};for(let[K,P]of Object.entries($))_[K]=ZF(P,q);return _}function oN($,q){let _={};for(let[K,P]of Object.entries($))_[K]=XF(P,q);return _}async function oY$($,q,_){let K=K_($,q),P=await $.getWorld(K);if(!P)return k6.error({src:"core:settings",serverId:q},"World not found"),!1;if(!P.metadata)P.metadata={};let O=dK(),Y=AF(_,O);return P.metadata.settings=Y,await $.updateWorld(P),!0}async function nY$($,q){let _=K_($,q),K=await $.getWorld(_);if(!K||!K.metadata?.settings)return null;let P=K.metadata.settings,O=dK();return oN(P,O)}async function iY$($,q,_){if(q.metadata?.settings){k6.debug({src:"core:settings",serverId:q.messageServerId},"Onboarding state already exists");let P=q.metadata.settings,O=dK();return oN(P,O)}let K={};if(_.settings)for(let[P,O]of Object.entries(_.settings))K[P]=wF(O);if(!q.metadata)q.metadata={};return q.metadata.settings=K,await $.updateWorld(q),k6.info({src:"core:settings",serverId:q.messageServerId},"Settings config initialized"),K}function BY$($){let q=JSON.parse(JSON.stringify($)),_=dK();if(q.settings?.secrets)q.settings.secrets=dN(q.settings.secrets,_);if(q.secrets)q.secrets=dN(q.secrets,_);return q}function tY$($,q){let _=JSON.parse(JSON.stringify($)),K=dK();if(_.settings?.secrets)_.settings.secrets=lN(_.settings.secrets,K);if(_.secrets)_.secrets=lN(_.secrets,K);return _}function dN($,q){let _={};for(let[K,P]of Object.entries($))if(typeof P==="string"&&P)_[K]=rN(P,q);else _[K]=P;return _}function lN($,q){let _={};for(let[K,P]of Object.entries($))if(typeof P==="string"&&P)_[K]=l2(P,q);else _[K]=P;return _}class nN{serviceType;startFn;stopFn;description;constructor($){this.serviceType=$,this.description=""}withDescription($){return this.description=$,this}withStart($){return this.startFn=$,this}withStop($){return this.stopFn=$,this}build(){let $=this.serviceType,q=this.description,_=this.startFn,K=this.stopFn;return class extends i2{static serviceType=$;capabilityDescription=q;static async start(P){if(!_)throw Error(`Start function not defined for service ${$}`);return _(P)}async stop(){if(K)await K()}}}}function kF($){return new nN($)}function aY$($){return kF($.serviceType).withDescription($.description).withStart($.start).withStop($.stop||(()=>Promise.resolve())).build()}var iN=new Set;function GF(){if(process.env.ELIZA_NO_AUTO_INSTALL==="true")return!1;if(process.env.ELIZA_NO_PLUGIN_AUTO_INSTALL==="true")return!1;if(process.env.CI==="true")return!1;if(process.env.ELIZA_TEST_MODE==="true")return!1;return!0}async function VF($){try{if(!GF())return k6.debug({src:"core:plugin",pluginName:$},"Auto-install disabled, skipping"),!1;if(iN.has($))return k6.debug({src:"core:plugin",pluginName:$},"Auto-install already attempted, skipping"),!1;if(iN.add($),typeof Bun>"u"||typeof Bun.spawn!=="function")return k6.warn({src:"core:plugin",pluginName:$},"Bun runtime not available, cannot auto-install"),!1;try{if(await Bun.spawn(["bun","--version"],{stdout:"pipe",stderr:"pipe"}).exited!==0)return k6.warn({src:"core:plugin",pluginName:$},"Bun not available on PATH, cannot auto-install"),!1}catch{return k6.warn({src:"core:plugin",pluginName:$},"Bun not available on PATH, cannot auto-install"),!1}k6.info({src:"core:plugin",pluginName:$},"Auto-installing missing plugin");let _=await Bun.spawn(["bun","add",$],{cwd:process.cwd(),env:process.env,stdout:"inherit",stderr:"inherit"}).exited;if(_===0)return k6.info({src:"core:plugin",pluginName:$},"Plugin installed, retrying import"),!0;return k6.error({src:"core:plugin",pluginName:$,exitCode:_},"Plugin installation failed"),!1}catch(q){let _=q instanceof Error?q.message:String(q);return k6.error({src:"core:plugin",pluginName:$,error:_},"Unexpected error during auto-install"),!1}}function BN($){if(!$||typeof $!=="object")return!1;let q=$;if(!q.name)return!1;return!!(q.init||q.services||q.providers||q.actions||q.evaluators||q.description)}function SF($){let q=[];if(!$)return q.push("Plugin is null or undefined"),{isValid:!1,errors:q};let _=$;if(!_.name)q.push("Plugin must have a name");if(_.actions){if(!Array.isArray(_.actions))q.push("Plugin actions must be an array");else if(_.actions.filter((P)=>typeof P!=="object"||!P).length>0)q.push("Plugin actions must be an array of action objects")}if(_.services){if(!Array.isArray(_.services))q.push("Plugin services must be an array");else if(_.services.filter((P)=>typeof P!=="function"&&(typeof P!=="object"||!P)).length>0)q.push("Plugin services must be an array of service classes or objects")}if(_.providers&&!Array.isArray(_.providers))q.push("Plugin providers must be an array");if(_.evaluators&&!Array.isArray(_.evaluators))q.push("Plugin evaluators must be an array");return{isValid:q.length===0,errors:q}}async function MF($){try{let q;try{q=await import($)}catch(O){if(k6.warn({src:"core:plugin",pluginName:$,error:O},"Failed to load plugin"),!await VF($))return null;try{q=await import($)}catch(z){return k6.error({src:"core:plugin",pluginName:$,error:z},"Import failed after auto-install"),null}}if(!q)return k6.error({src:"core:plugin",pluginName:$},"Failed to load plugin module"),null;let _=`${$.replace(/^@elizaos\/plugin-/,"").replace(/^@elizaos\//,"").replace(/-./g,(O)=>O[1].toUpperCase())}Plugin`,K=q,P=[K[_],K.default,...Object.values(K)];for(let O of P){if(BN(O))return O;if(typeof O==="function"&&O.length===0)try{let Y=O();if(BN(Y))return Y}catch(Y){k6.debug({src:"core:plugin",pluginName:$,error:Y},"Factory export threw")}}return k6.warn({src:"core:plugin",pluginName:$},"No valid plugin export found"),null}catch(q){return k6.error({src:"core:plugin",pluginName:$,error:q},"Error loading plugin"),null}}function G1($){let q=$.match(/^@[^/]+\/plugin-(.+)$/);if(q)return q[1];return $}function UN($,q=!1){let _=[],K=new Set,P=new Set,O=new Map;for(let[H,T]of $.entries()){if(O.set(H,T),T.name!==H)O.set(T.name,T);if(!T.name.startsWith("@"))O.set(`@elizaos/plugin-${T.name}`,T);let f=G1(H);if(f!==H)O.set(f,T)}function Y(H){let T=O.get(H);if(!T){let k=G1(H),S=O.get(k);if(!S){k6.warn({src:"core:plugin",pluginName:H},"Plugin dependency not found, skipping");return}return Y(S.name)}let f=T.name;if(K.has(f))return;if(P.has(f)){k6.error({src:"core:plugin",pluginName:f},"Circular dependency detected");return}P.add(f);let w=[...T.dependencies||[]];if(q)w.push(...T.testDependencies||[]);for(let k of w)Y(k);P.delete(f),K.add(f),_.push(f)}for(let H of $.values())if(!K.has(H.name))Y(H.name);let z=_.map((H)=>{for(let T of $.values())if(T.name===H)return T;return null}).filter((H)=>Boolean(H));return k6.debug({src:"core:plugin",plugins:z.map((H)=>H.name)},"Plugins resolved"),z}async function NF($){if(typeof $==="string")return MF($);let q=SF($);if(!q.isValid)return k6.error({src:"core:plugin",errors:q.errors},"Invalid plugin provided"),null;return $}function tN($,q,_,K){let P=G1($);if(!(q.has($)||q.has(P)||Array.from(_.keys()).some((Y)=>G1(Y)===P)||Array.from(_.values()).some((Y)=>G1(Y.name)===P||Y.name===$||Y.name===P)))q.add($),q.add(P),K.push($)}async function CF($,q=!1){let _=new Map,K=[...$],P=new Set;while(K.length>0){let O=K.shift(),Y=await NF(O);if(!Y)continue;let z=Y.name;if(!_.has(z)){_.set(z,Y);for(let H of Y.dependencies??[])tN(H,P,_,K);if(q)for(let H of Y.testDependencies??[])tN(H,P,_,K)}}return UN(_,q)}async function FN($,q=!1){if(B4()==="node")return CF($,q);let K=$.filter((O)=>typeof O!=="string");if($.some((O)=>typeof O==="string")){let O=$.filter((Y)=>typeof Y==="string");k6.warn({src:"core:plugin",skippedPlugins:O},"Browser environment: String plugin references not supported")}let P=new Map;for(let O of K)P.set(O.name,O);return UN(P,q)}class EF extends EventTarget{runtimes=new Map;initFunctions=new Map;editableMode=!1;async addAgents($,q){let _=[],K=$.map(async(O)=>{let Y=O.character;await pN(Y,{skipEnvMerge:q?.isTestMode});let z=O.plugins?await FN(O.plugins,q?.isTestMode||!1):[];if(O.databaseAdapter)z=z.filter((S)=>S.name!=="@elizaos/plugin-sql");let H=new zT({character:Y,plugins:z,settings:O.settings||{}});if(O.databaseAdapter)H.registerDatabaseAdapter(O.databaseAdapter);if(H.elizaOS=this,!q?.ephemeral)this.runtimes.set(H.agentId,H);if(typeof O.init==="function")this.initFunctions.set(H.agentId,O.init);let{settings:T,...f}=Y,{secrets:w,...k}=T||{};return this.dispatchEvent(new CustomEvent("agent:added",{detail:{agentId:H.agentId,character:{...f,settings:k},ephemeral:q?.ephemeral}})),_.push(H),H.agentId}),P=await Promise.all(K);if(q?.autoStart)await Promise.all(_.map(async(O)=>{await O.initialize({skipMigrations:q?.skipMigrations});let Y=this.initFunctions.get(O.agentId);if(Y)await Y(O),this.initFunctions.delete(O.agentId);this.dispatchEvent(new CustomEvent("agent:started",{detail:{agentId:O.agentId}}))}));if(this.dispatchEvent(new CustomEvent("agents:added",{detail:{agentIds:P,count:P.length,ephemeral:q?.ephemeral}})),q?.returnRuntimes)return _;return P}registerAgent($){if(this.runtimes.has($.agentId))throw Error(`Agent ${$.agentId} already registered`);$.elizaOS=this,this.runtimes.set($.agentId,$),this.dispatchEvent(new CustomEvent("agent:registered",{detail:{agentId:$.agentId,runtime:$}}))}async updateAgent($,q){if(!this.editableMode)throw Error("Editable mode not enabled");let _=this.runtimes.get($);if(!_)throw Error(`Agent ${$} not found`);Object.assign(_.character,q),this.dispatchEvent(new CustomEvent("agent:updated",{detail:{agentId:$,updates:q}}))}async deleteAgents($){await this.stopAgents($);for(let q of $)this.runtimes.delete(q),this.initFunctions.delete(q);this.dispatchEvent(new CustomEvent("agents:deleted",{detail:{agentIds:$,count:$.length}}))}async startAgents($){let q=$||Array.from(this.runtimes.keys());await Promise.all(q.map(async(_)=>{let K=this.runtimes.get(_);if(!K)throw Error(`Agent ${_} not found`);await K.initialize(),this.dispatchEvent(new CustomEvent("agent:started",{detail:{agentId:_}}))}));for(let _ of q){let K=this.initFunctions.get(_);if(K){let P=this.runtimes.get(_);if(P)await K(P),this.initFunctions.delete(_)}}this.dispatchEvent(new CustomEvent("agents:started",{detail:{agentIds:q,count:q.length}}))}async stopAgents($){let q=$||Array.from(this.runtimes.keys());await Promise.all(q.map(async(_)=>{let K=this.runtimes.get(_);if(K)await K.stop()})),this.dispatchEvent(new CustomEvent("agents:stopped",{detail:{agentIds:q,count:q.length}}))}getAgent($){return this.runtimes.get($)}getAgents(){return Array.from(this.runtimes.values())}getAgentsByIds($){return $.map((q)=>this.runtimes.get(q)).filter((q)=>q!==void 0)}getAgentsByNames($){let q=new Set($.map((_)=>_.toLowerCase()));return this.getAgents().filter((_)=>q.has(_.character.name.toLowerCase()))}getAgentById($){return this.getAgent($)}getAgentByName($){let q=$.toLowerCase();return this.getAgents().find((_)=>_.character.name.toLowerCase()===q)}getAgentByCharacterName($){return this.getAgentByName($)}getAgentByCharacterId($){return this.getAgents().find((q)=>q.character.id===$)}async sendMessage($,q,_){let K,P;if(typeof $==="string"){if(P=$,K=this.runtimes.get(P),!K)throw Error(`Agent ${P} not found in registry`)}else K=$,P=K.agentId;if(!K.messageService)throw Error("messageService is not initialized on runtime");let O=q.id||Iq(),Y={...q,id:O,agentId:q.agentId||K.agentId,createdAt:q.createdAt||Date.now(),entityId:q.entityId,roomId:q.roomId,content:q.content};await K.ensureConnection({entityId:Y.entityId,roomId:Y.roomId,worldId:q.worldId||Y.roomId,source:Y.content.source||"unknown",channelId:Y.roomId});let z={maxRetries:_?.maxRetries,timeoutDuration:_?.timeoutDuration,useMultiStep:_?.useMultiStep,maxMultiStepIterations:_?.maxMultiStepIterations},H=async(f)=>{if(K.withEntityContext)return await K.withEntityContext(Y.entityId,f);else return await f()};if(!!_?.onResponse){let f=async(w)=>{try{if(_.onResponse)await _.onResponse(w)}catch(k){if(_.onError)await _.onError(k instanceof Error?k:Error(String(k)))}return[]};return H(()=>K.messageService.handleMessage(K,Y,f,z)).then(()=>{if(_.onComplete)_.onComplete()}).catch((w)=>{if(_.onError)_.onError(w)}),this.dispatchEvent(new CustomEvent("message:sent",{detail:{agentId:P,messageId:O,mode:"async"}})),{messageId:O,userMessage:Y}}else{let f=await H(()=>K.messageService.handleMessage(K,Y,void 0,z));if(_?.onComplete)await _.onComplete();return this.dispatchEvent(new CustomEvent("message:sent",{detail:{agentId:P,messageId:O,mode:"sync",processing:f}})),{messageId:O,userMessage:Y,processing:f}}}async sendMessages($){let q=await Promise.all($.map(async({agentId:_,message:K,options:P})=>{try{let O=await this.sendMessage(_,K,P);return{agentId:_,result:O}}catch(O){return{agentId:_,result:{messageId:K.id||"",userMessage:K},error:O instanceof Error?O:Error(String(O))}}}));return this.dispatchEvent(new CustomEvent("messages:sent",{detail:{results:q,count:$.length}})),q}async validateApiKeys($){let q=new Map,_=$||Array.from(this.runtimes.keys());for(let K of _){let P=this.runtimes.get(K);if(P){let O=!!(P.getSetting("OPENAI_API_KEY")||P.getSetting("ANTHROPIC_API_KEY"));q.set(K,O)}}return q}async healthCheck($){let q=new Map,_=$||Array.from(this.runtimes.keys());for(let K of _){let O={alive:!!this.runtimes.get(K),responsive:!0};if(typeof process<"u")O.memoryUsage=process.memoryUsage().heapUsed,O.uptime=process.uptime();q.set(K,O)}return q}getRuntimeAccessor(){return{getAgent:($)=>this.getAgent($),getAgents:()=>this.getAgents(),getState:($)=>{let q=this.getAgent($);if(!q)return;let _=q;if(_.stateCache&&_.stateCache.size>0){let K=Array.from(_.stateCache.values());return K[K.length-1]}return}}}enableEditableMode(){this.editableMode=!0,this.dispatchEvent(new CustomEvent("mode:editable",{detail:{editable:!0}}))}}var hF=`# Task: Resolve Entity Name
Message Sender: {{senderName}} (ID: {{senderId}})
Agent: {{agentName}} (ID: {{agentId}})

# Entities in Room:
{{#if entitiesInRoom}}
{{entitiesInRoom}}
{{/if}}

{{recentMessages}}

# Instructions:
1. Analyze the context to identify which entity is being referenced
2. Consider special references like "me" (the message sender) or "you" (agent the message is directed to)
3. Look for usernames/handles in standard formats (e.g. @username, user#1234)
4. Consider context from recent messages for pronouns and references
5. If multiple matches exist, use context to disambiguate
6. Consider recent interactions and relationship strength when resolving ambiguity

Do NOT include any thinking, reasoning, or <think> sections in your response. 
Go directly to the XML response format without any preamble or explanation.

Return an XML response with:
<response>
  <entityId>exact-id-if-known-otherwise-null</entityId>
  <type>EXACT_MATCH | USERNAME_MATCH | NAME_MATCH | RELATIONSHIP_MATCH | AMBIGUOUS | UNKNOWN</type>
  <matches>
    <match>
      <name>matched-name</name>
      <reason>why this entity matches</reason>
    </match>
  </matches>
</response>

IMPORTANT: Your response must ONLY contain the <response></response> XML block above. Do not include any text, thinking, or reasoning before or after this XML block. Start your response immediately with <response> and end with </response>.`;async function RF($,q,_,K,P){let O=[],Y=await $.getMemories({tableName:"messages",roomId:K,count:20});for(let z of _){let H=[],T=0,f=Y.filter((S)=>S.entityId===q&&S.content.inReplyTo===z.id||S.entityId===z.id&&S.content.inReplyTo===q);H.push(...f);let w=P.find((S)=>S.sourceEntityId===q&&S.targetEntityId===z.id||S.targetEntityId===q&&S.sourceEntityId===z.id);if(w?.metadata?.interactions)T=w.metadata.interactions;T+=f.length;let k=[...new Set(H)];O.push({entity:z,interactions:k.slice(-5),count:Math.round(T)})}return O.sort((z,H)=>H.count-z.count)}async function J3$($,q,_){let K=_.data.room??await $.getRoom(q.roomId);if(!K)return k6.warn({src:"core:entities",roomId:q.roomId},"Room not found for entity search"),null;let P=K.worldId?await $.getWorld(K.worldId):null,O=await $.getEntitiesForRoom(K.id,!0),Y=await Promise.all(O.map(async(h)=>{if(!h.components)return h;let E=P?.metadata?.roles||{};return h.components=h.components.filter((D)=>{if(D.sourceEntityId===q.entityId)return!0;if(P&&D.sourceEntityId){let I=E[D.sourceEntityId];if(I==="OWNER"||I==="ADMIN")return!0}if(D.sourceEntityId===$.agentId)return!0;return!1}),h})),z=await $.getRelationships({entityId:q.entityId}),H=await Promise.all(z.map(async(h)=>{let E=h.sourceEntityId===q.entityId?h.targetEntityId:h.sourceEntityId;return $.getEntityById(E)})),T=[...Y,...H.filter((h)=>h!==null)],f=await RF($,q.entityId,T,K.id,z),w=kN({state:{roomName:K.name||K.id,worldName:P?.name||"Unknown",entitiesInRoom:JSON.stringify(Y,null,2),entityId:q.entityId,senderId:q.entityId},template:hF}),k=await $.useModel(M6.TEXT_SMALL,{prompt:w,stopSequences:[]}),S=PK(k);if(!S)return k6.warn({src:"core:entities"},"Failed to parse entity resolution result"),null;if(S.type==="EXACT_MATCH"&&S.entityId){let h=await $.getEntityById(S.entityId);if(h){if(h.components){let E=P?.metadata?.roles||{};h.components=h.components.filter((D)=>{if(D.sourceEntityId===q.entityId)return!0;if(P&&D.sourceEntityId){let I=E[D.sourceEntityId];if(I==="OWNER"||I==="ADMIN")return!0}if(D.sourceEntityId===$.agentId)return!0;return!1})}return h}}let N=[];if(S.matches?.match)N=Array.isArray(S.matches.match)?S.matches.match:[S.matches.match];if(N.length>0&&N[0]?.name){let h=N[0].name.toLowerCase(),E=T.find((D)=>{if(D.names.some((I)=>I.toLowerCase()===h))return!0;return D.components?.some((I)=>I.data.username?.toLowerCase()===h||I.data.handle?.toLowerCase()===h)});if(E)if(S.type==="RELATIONSHIP_MATCH"){let D=f.find((I)=>I.entity.id===E.id);if(D&&D.count>0)return E}else return E}return null}var K_=($,q)=>{if(q===$.agentId)return $.agentId;let _=`${q}:${$.agentId}`;return d2(_)};async function H3$({runtime:$,roomId:q}){let[_,K]=await Promise.all([$.getRoom(q),$.getEntitiesForRoom(q,!0)]),P=new Map;for(let O of K){if(P.has(O.id))continue;let Y={};for(let H of O.components||[])Object.assign(Y,H.data);let z={};for(let[H,T]of Object.entries(Y)){if(!z[H]){z[H]=T;continue}if(Array.isArray(z[H])&&Array.isArray(T))z[H]=[...new Set([...z[H],...T])];else if(typeof z[H]==="object"&&typeof T==="object")z[H]={...z[H],...T}}P.set(O.id,{id:O.id,name:_?.source?O.metadata[_.source]?.name||O.names[0]:O.names[0],names:O.names,data:JSON.stringify({...z,...O.metadata})})}return Array.from(P.values())}function T3$({entities:$}){return $.map((_)=>{return`"${_.names.join('" aka "')}"
ID: ${_.id}${_.metadata&&Object.keys(_.metadata).length>0?`
Data: ${JSON.stringify(_.metadata)}
`:`
`}`}).join(`
`)}var f3$=!0,Z3$=!1,X3$={check:async()=>({status:"not-applicable",environment:"browser"}),isHealthy:()=>!0};export{RU as validateUuid,hN as validateCharacter,EN as uuidSchema,oY$ as updateWorldSettings,oN as unsaltWorldSettings,XF as unsaltSettingValue,SN as truncateToCompleteSentence,MO$ as trimTokens,nU as toString,RN as toHex,pU as templateTypeSchema,cU as styleSchema,d2 as stringToUuid,SO$ as splitChunks,UU as slice,IN as shouldRespondTemplate,mU as settingsSchema,U9$ as setEnv,X3$ as serverHealth,dU as secretsSchema,AF as saltWorldSettings,ZF as saltSettingValue,NO$ as safeReplacer,zO$ as recentLogs,QU as randomBytes,CO$ as prewarmUuidCache,QO$ as postCreationTemplate,PK as parseKeyValueXml,VO$ as parseJSONObjectFromText,m2 as parseBooleanFromText,LO$ as parseAndValidateCharacter,XN as normalizeJsonString,bN as multiStepSummaryTemplate,gN as multiStepDecisionTemplate,DN as messageHandlerTemplate,yU as messageExampleSchema,gU as mediaSchema,k6 as logger,s9$ as loadEnvFile,xU as knowledgeItemSchema,gO$ as isValidCharacter,Z3$ as isNode,nO$ as isMessageMetadata,oO$ as isFragmentMetadata,UO$ as isFragmentMemory,rO$ as isDocumentMetadata,tO$ as isDocumentMemory,iO$ as isDescriptionMetadata,BO$ as isCustomMetadata,_T as isBuffer,f3$ as isBrowser,iY$ as initializeOnboarding,Q9$ as initBrowserEnvironment,LN as imageDescriptionTemplate,F9$ as hasEnv,nY$ as getWorldSettings,_Y$ as getUserServerRole,uF as getTypedService,dK as getSalt,VM as getNumberEnv,FO$ as getMemoryText,CN as getLocalServerUrl,t4 as getEnvironment,E_ as getEnv,H3$ as getEntityDetails,EO$ as getContentTypeFromMimeType,a9$ as getBooleanEnv,oU as fromString,rU as fromHex,BU as fromBytes,VN as formatTimestamp,kO$ as formatPosts,GO$ as formatMessages,T3$ as formatEntities,cO$ as formatActions,pO$ as formatActionNames,KY$ as findWorldsForOwner,St as findEnvFile,J3$ as findEntityByName,FU as equals,BY$ as encryptedCharacter,rN as encryptStringValue,dN as encryptObjectValues,vO$ as elizaLogger,uU as directoryItemSchema,B4 as detectEnvironment,aY$ as defineService,tY$ as decryptedCharacter,l2 as decryptStringValue,l2 as decryptSecret,lN as decryptObjectValues,jO$ as customLevels,e9$ as currentRuntime,K_ as createUniqueUuid,wF as createSettingFromConfig,xF as createServiceError,kF as createService,lO$ as createMessageMemory,X1 as createLogger,bU as contentSchema,tU as concat,A1 as composePromptFromState,kN as composePrompt,xO$ as composeActionExamples,rY$ as clearSaltCache,lU as characterSchema,aU as byteLength,eO$ as booleanFooter,V1 as asUUID,iU as alloc,AO$ as addHeader,PO$ as __loggerTestHooks,mF as VECTOR_DIMS,PC as TeeType,KC as TEEMode,yF as ServiceType,nN as ServiceBuilder,i2 as Service,WF as Semaphore,OC as SOCKET_MESSAGE_TYPE,$C as Role,_C as PlatformPrefix,M6 as ModelType,sN as MemoryType,vP as MODEL_SETTINGS,B2 as EventType,GM as Environment,EF as ElizaOS,YT as DefaultMessageService,sU as DatabaseAdapter,YP as ContentType,jP as ChannelType,OK as BufferUtils,vT as BM25,qC as AgentStatus,zT as AgentRuntime};

//# debugId=D39FEA92FA9E29C564756E2164756E21
//# sourceMappingURL=index.browser.js.map
