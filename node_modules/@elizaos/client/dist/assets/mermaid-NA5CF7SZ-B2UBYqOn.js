const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-B0bAGQpf.js","assets/main-CgVm-SKw.js","assets/code-block-QI2IAROF-CtZLnaTP.js","assets/react-vendor-CCMn-MlN.js","assets/ui-vendor-B7JxFfFk.js","assets/katex-Bpyy_fmz.css"])))=>i.map(i=>d[i]);
var rF=Object.defineProperty;var a=(e,t)=>rF(e,"name",{value:t,configurable:!0});import{g as Du,j as v,S as ju,r as H,R as Lk,a as Dk,T as jk,P as Pk,C as _p,b as zk,X as vi,O as Ep,c as Sp,D as kp,d as nF,e as iF,f as aF,h as sF,i as Bk,k as oF,l as Fk,m as Uk,L as s2,n as o2,o as Hk,p as lF,V as uF,G as cF,q as Gk,I as dF,s as Ja,t as fF,u as Vk,v as hF,w as Kk,x as pF,y as Fs,z as mF,A as Zk,B as Yk,E as $k,F as Qk,H as Wk,J as Mn,K as gF,M as bF,N as vF,Q as yF,U as wF,W as xF,Y as _F,Z as EF,_ as SF,$ as Xk,a0 as Jk,a1 as qk,a2 as eA,a3 as tA,a4 as rA,a5 as Yi,a6 as kF,a7 as nA,a8 as iA,a9 as AF,aa as aA,ab as zn,ac as l2,ad as af,ae as sA,af as oA,ag as TF,ah as NF,ai as u2,aj as lA,ak as IF,al as CF,am as uA,an as MF,ao as al,ap as ug,aq as As,ar as za,as as Nw,at as pl,au as OF,av as Ua,aw as Gn,ax as On,ay as cA,az as dA,aA as fA,aB as hA,aC as pA,aD as Ri,aE as Ap,aF as RF,aG as LF,aH as DF,aI as Tp,aJ as Np,aK as Bc,aL as ml,aM as yo,aN as Iw,aO as jF,aP as sf,aQ as Ip,aR as pd,aS as PF,aT as Cw,aU as zF,aV as mA,aW as BF,aX as gA,aY as bA,aZ as vA,a_ as yA,a$ as wA,b0 as FF,b1 as c2,b2 as py,b3 as xA,b4 as UF,b5 as v0,b6 as d2,b7 as HF,b8 as Cp,b9 as _A,ba as EA,bb as GF,bc as VF,bd as KF,be as ZF,bf as YF,bg as $F,bh as QF,bi as WF,bj as XF,bk as JF,bl as f2,bm as qF,bn as eU,bo as tU,bp as h2,bq as p2,br as rU,bs as SA,bt as my,bu as nU,bv as kA,bw as iU,bx as aU,by as sU,bz as oU,bA as lU,bB as uU,bC as cU,bD as dU,bE as fU,bF as AA,bG as TA,bH as NA,bI as IA,bJ as hU,bK as pU,bL as mU,bM as gy,bN as gU,bO as bU,bP as Mp,bQ as vU,bR as CA,bS as yU,bT as wU,bU as cg,bV as Mw,bW as Ow,bX as xU,bY as m2,bZ as _U,b_ as EU,b$ as SU,c0 as kU,c1 as AU,c2 as TU,c3 as NU,c4 as IU,c5 as CU,c6 as MU,c7 as Xi,c8 as OU}from"./react-vendor-CCMn-MlN.js";import{_ as Op}from"./main-CgVm-SKw.js";function MA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=MA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}a(MA,"r");function Rp(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=MA(e))&&(n&&(n+=" "),n+=t);return n}a(Rp,"clsx");const Rw=a(e=>typeof e=="boolean"?`${e}`:e===0?"0":e,"falsyToString"),Lw=Rp,$s=a((e,t)=>r=>{var n;if(t?.variants==null)return Lw(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const d=r?.[c],f=s?.[c];if(d===null)return null;const g=Rw(d)||Rw(f);return i[c][g]}),l=r&&Object.entries(r).reduce((c,d)=>{let[f,g]=d;return g===void 0||(c[f]=g),c},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:g,...m}=d;return Object.entries(m).every(y=>{let[_,A]=y;return Array.isArray(A)?A.includes({...s,...l}[_]):{...s,...l}[_]===A})?[...c,f,g]:c},[]);return Lw(e,o,u,r?.class,r?.className)},"cva"),iu="user",Uf="client_chat",Fc="client_group_chat",md=512;var $h=(e=>(e.REQUIRED="required",e.OPTIONAL="optional",e))($h||{});const Hl={name:"required",username:"optional",system:"required","settings.voice.model":"optional",bio:"optional",topics:"optional",adjectives:"optional","style.all":"optional","style.chat":"optional","style.post":"optional"};var Qh={exports:{}},RU=Qh.exports,Dw;function LU(){return Dw||(Dw=1,(function(e,t){(function(r,n){e.exports=n()})(RU,(function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",l="minute",u="hour",c="day",d="week",f="month",g="quarter",m="year",y="date",_="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:a(function(b){var x=["th","st","nd","rd"],E=b%100;return"["+b+(x[(E-20)%10]||x[E]||x[0])+"]"},"ordinal")},R=a(function(b,x,E){var T=String(b);return!T||T.length>=x?b:""+Array(x+1-T.length).join(E)+b},"m"),L={s:R,z:a(function(b){var x=-b.utcOffset(),E=Math.abs(x),T=Math.floor(E/60),N=E%60;return(x<=0?"+":"-")+R(T,2,"0")+":"+R(N,2,"0")},"z"),m:a(function b(x,E){if(x.date()<E.date())return-b(E,x);var T=12*(E.year()-x.year())+(E.month()-x.month()),N=x.clone().add(T,f),k=E-N<0,p=x.clone().add(T+(k?-1:1),f);return+(-(T+(E-N)/(k?N-p:p-N))||0)},"t2"),a:a(function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},"a"),p:a(function(b){return{M:f,y:m,w:d,d:c,D:y,h:u,m:l,s:o,ms:s,Q:g}[b]||String(b||"").toLowerCase().replace(/s$/,"")},"p"),u:a(function(b){return b===void 0},"u")},D="en",P={};P[D]=O;var Z="$isDayjsObject",V=a(function(b){return b instanceof h||!(!b||!b[Z])},"S"),W=a(function b(x,E,T){var N;if(!x)return D;if(typeof x=="string"){var k=x.toLowerCase();P[k]&&(N=k),E&&(P[k]=E,N=k);var p=x.split("-");if(!N&&p.length>1)return b(p[0])}else{var S=x.name;P[S]=x,N=S}return!T&&N&&(D=N),N||!T&&D},"t2"),F=a(function(b,x){if(V(b))return b.clone();var E=typeof x=="object"?x:{};return E.date=b,E.args=arguments,new h(E)},"O"),Y=L;Y.l=W,Y.i=V,Y.w=function(b,x){return F(b,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var h=(function(){function b(E){this.$L=W(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[Z]=!0}a(b,"M2");var x=b.prototype;return x.parse=function(E){this.$d=(function(T){var N=T.date,k=T.utc;if(N===null)return new Date(NaN);if(Y.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var p=N.match(A);if(p){var S=p[2]-1||0,C=(p[7]||"0").substring(0,3);return k?new Date(Date.UTC(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)):new Date(p[1],S,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)}}return new Date(N)})(E),this.init()},x.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},x.$utils=function(){return Y},x.isValid=function(){return this.$d.toString()!==_},x.isSame=function(E,T){var N=F(E);return this.startOf(T)<=N&&N<=this.endOf(T)},x.isAfter=function(E,T){return F(E)<this.startOf(T)},x.isBefore=function(E,T){return this.endOf(T)<F(E)},x.$g=function(E,T,N){return Y.u(E)?this[T]:this.set(N,E)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(E,T){var N=this,k=!!Y.u(T)||T,p=Y.p(E),S=a(function(se,oe){var Pe=Y.w(N.$u?Date.UTC(N.$y,oe,se):new Date(N.$y,oe,se),N);return k?Pe:Pe.endOf(c)},"l2"),C=a(function(se,oe){return Y.w(N.toDate()[se].apply(N.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(oe)),N)},"$2"),M=this.$W,U=this.$M,B=this.$D,G="set"+(this.$u?"UTC":"");switch(p){case m:return k?S(1,0):S(31,11);case f:return k?S(1,U):S(0,U+1);case d:var J=this.$locale().weekStart||0,ue=(M<J?M+7:M)-J;return S(k?B-ue:B+(6-ue),U);case c:case y:return C(G+"Hours",0);case u:return C(G+"Minutes",1);case l:return C(G+"Seconds",2);case o:return C(G+"Milliseconds",3);default:return this.clone()}},x.endOf=function(E){return this.startOf(E,!1)},x.$set=function(E,T){var N,k=Y.p(E),p="set"+(this.$u?"UTC":""),S=(N={},N[c]=p+"Date",N[y]=p+"Date",N[f]=p+"Month",N[m]=p+"FullYear",N[u]=p+"Hours",N[l]=p+"Minutes",N[o]=p+"Seconds",N[s]=p+"Milliseconds",N)[k],C=k===c?this.$D+(T-this.$W):T;if(k===f||k===m){var M=this.clone().set(y,1);M.$d[S](C),M.init(),this.$d=M.set(y,Math.min(this.$D,M.daysInMonth())).$d}else S&&this.$d[S](C);return this.init(),this},x.set=function(E,T){return this.clone().$set(E,T)},x.get=function(E){return this[Y.p(E)]()},x.add=function(E,T){var N,k=this;E=Number(E);var p=Y.p(T),S=a(function(U){var B=F(k);return Y.w(B.date(B.date()+Math.round(U*E)),k)},"y2");if(p===f)return this.set(f,this.$M+E);if(p===m)return this.set(m,this.$y+E);if(p===c)return S(1);if(p===d)return S(7);var C=(N={},N[l]=n,N[u]=i,N[o]=r,N)[p]||1,M=this.$d.getTime()+E*C;return Y.w(M,this)},x.subtract=function(E,T){return this.add(-1*E,T)},x.format=function(E){var T=this,N=this.$locale();if(!this.isValid())return N.invalidDate||_;var k=E||"YYYY-MM-DDTHH:mm:ssZ",p=Y.z(this),S=this.$H,C=this.$m,M=this.$M,U=N.weekdays,B=N.months,G=N.meridiem,J=a(function(oe,Pe,Ee,be){return oe&&(oe[Pe]||oe(T,k))||Ee[Pe].slice(0,be)},"h2"),ue=a(function(oe){return Y.s(S%12||12,oe,"0")},"d2"),se=G||function(oe,Pe,Ee){var be=oe<12?"AM":"PM";return Ee?be.toLowerCase():be};return k.replace(I,(function(oe,Pe){return Pe||(function(Ee){switch(Ee){case"YY":return String(T.$y).slice(-2);case"YYYY":return Y.s(T.$y,4,"0");case"M":return M+1;case"MM":return Y.s(M+1,2,"0");case"MMM":return J(N.monthsShort,M,B,3);case"MMMM":return J(B,M);case"D":return T.$D;case"DD":return Y.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return J(N.weekdaysMin,T.$W,U,2);case"ddd":return J(N.weekdaysShort,T.$W,U,3);case"dddd":return U[T.$W];case"H":return String(S);case"HH":return Y.s(S,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return se(S,C,!0);case"A":return se(S,C,!1);case"m":return String(C);case"mm":return Y.s(C,2,"0");case"s":return String(T.$s);case"ss":return Y.s(T.$s,2,"0");case"SSS":return Y.s(T.$ms,3,"0");case"Z":return p}return null})(oe)||p.replace(":","")}))},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(E,T,N){var k,p=this,S=Y.p(T),C=F(E),M=(C.utcOffset()-this.utcOffset())*n,U=this-C,B=a(function(){return Y.m(p,C)},"D2");switch(S){case m:k=B()/12;break;case f:k=B();break;case g:k=B()/3;break;case d:k=(U-M)/6048e5;break;case c:k=(U-M)/864e5;break;case u:k=U/i;break;case l:k=U/n;break;case o:k=U/r;break;default:k=U}return N?k:Y.a(k)},x.daysInMonth=function(){return this.endOf(f).$D},x.$locale=function(){return P[this.$L]},x.locale=function(E,T){if(!E)return this.$L;var N=this.clone(),k=W(E,T,!0);return k&&(N.$L=k),N},x.clone=function(){return Y.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},b})(),w=h.prototype;return F.prototype=w,[["$ms",s],["$s",o],["$m",l],["$H",u],["$W",c],["$M",f],["$y",m],["$D",y]].forEach((function(b){w[b[1]]=function(x){return this.$g(x,b[0],b[1])}})),F.extend=function(b,x){return b.$i||(b(x,h,F),b.$i=!0),F},F.locale=W,F.isDayjs=V,F.unix=function(b){return F(1e3*b)},F.en=P[D],F.Ls=P,F.p={},F}))})(Qh)),Qh.exports}a(LU,"requireDayjs_min");var DU=LU();const OA=Du(DU);var Wh={exports:{}},jU=Wh.exports,jw;function PU(){return jw||(jw=1,(function(e,t){(function(r,n){e.exports=n()})(jU,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var o=i.prototype,l=o.format;s.en.formats=r,o.format=function(u){u===void 0&&(u="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=(function(f,g){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(m,y,_){var A=_&&_.toUpperCase();return y||g[_]||r[_]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(I,O,R){return O||R.slice(1)}))}))})(u,c===void 0?{}:c);return l.call(this,d)}}}))})(Wh)),Wh.exports}a(PU,"requireLocalizedFormat");var zU=PU();const BU=Du(zU),FU=a((e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},"concatArrays"),UU=a((e,t)=>({classGroupId:e,validator:t}),"createClassValidatorObject"),RA=a((e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),"createClassPartObject"),y0="-",Pw=[],HU="arbitrary..",GU=a(e=>{const t=KU(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a(o=>{if(o.startsWith("[")&&o.endsWith("]"))return VU(o);const l=o.split(y0),u=l[0]===""&&l.length>1?1:0;return LA(l,u,t)},"getClassGroupId"),getConflictingClassGroupIds:a((o,l)=>{if(l){const u=n[o],c=r[o];return u?c?FU(c,u):u:c||Pw}return r[o]||Pw},"getConflictingClassGroupIds")}},"createClassGroupUtils"),LA=a((e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],s=r.nextPart.get(i);if(s){const c=LA(e,t+1,s);if(c)return c}const o=r.validators;if(o===null)return;const l=t===0?e.join(y0):e.slice(t).join(y0),u=o.length;for(let c=0;c<u;c++){const d=o[c];if(d.validator(l))return d.classGroupId}},"getGroupRecursive"),VU=a(e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?HU+n:void 0})(),"getGroupIdForArbitraryProperty"),KU=a(e=>{const{theme:t,classGroups:r}=e;return ZU(r,t)},"createClassMap"),ZU=a((e,t)=>{const r=RA();for(const n in e){const i=e[n];g2(i,r,n,t)}return r},"processClassGroups"),g2=a((e,t,r,n)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];YU(o,t,r,n)}},"processClassesRecursively"),YU=a((e,t,r,n)=>{if(typeof e=="string"){$U(e,t,r);return}if(typeof e=="function"){QU(e,t,r,n);return}WU(e,t,r,n)},"processClassDefinition"),$U=a((e,t,r)=>{const n=e===""?t:DA(t,e);n.classGroupId=r},"processStringDefinition"),QU=a((e,t,r,n)=>{if(XU(e)){g2(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(UU(r,e))},"processFunctionDefinition"),WU=a((e,t,r,n)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[l,u]=i[o];g2(u,DA(t,l),r,n)}},"processObjectDefinition"),DA=a((e,t)=>{let r=e;const n=t.split(y0),i=n.length;for(let s=0;s<i;s++){const o=n[s];let l=r.nextPart.get(o);l||(l=RA(),r.nextPart.set(o,l)),r=l}return r},"getPart"),XU=a(e=>"isThemeGetter"in e&&e.isThemeGetter===!0,"isThemeGetter"),JU=a(e=>{if(e<1)return{get:a(()=>{},"get"),set:a(()=>{},"set")};let t=0,r=Object.create(null),n=Object.create(null);const i=a((s,o)=>{r[s]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))},"update");return{get(s){let o=r[s];if(o!==void 0)return o;if((o=n[s])!==void 0)return i(s,o),o},set(s,o){s in r?r[s]=o:i(s,o)}}},"createLruCache"),by="!",zw=":",qU=[],Bw=a((e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),"createResultObject"),eH=a(e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a(i=>{const s=[];let o=0,l=0,u=0,c;const d=i.length;for(let _=0;_<d;_++){const A=i[_];if(o===0&&l===0){if(A===zw){s.push(i.slice(u,_)),u=_+1;continue}if(A==="/"){c=_;continue}}A==="["?o++:A==="]"?o--:A==="("?l++:A===")"&&l--}const f=s.length===0?i:i.slice(u);let g=f,m=!1;f.endsWith(by)?(g=f.slice(0,-1),m=!0):f.startsWith(by)&&(g=f.slice(1),m=!0);const y=c&&c>u?c-u:void 0;return Bw(s,m,g,y)},"parseClassName");if(t){const i=t+zw,s=n;n=a(o=>o.startsWith(i)?s(o.slice(i.length)):Bw(qU,!1,o,void 0,!0),"parseClassName")}if(r){const i=n;n=a(s=>r({className:s,parseClassName:i}),"parseClassName")}return n},"createParseClassName"),tH=a(e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const o=r[s],l=o[0]==="[",u=t.has(o);l||u?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},"createSortModifiers"),rH=a(e=>({cache:JU(e.cacheSize),parseClassName:eH(e),sortModifiers:tH(e),...GU(e)}),"createConfigUtils"),nH=/\s+/,iH=a((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],l=e.trim().split(nH);let u="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{isExternal:f,modifiers:g,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:_}=r(d);if(f){u=d+(u.length>0?" "+u:u);continue}let A=!!_,I=n(A?y.substring(0,_):y);if(!I){if(!A){u=d+(u.length>0?" "+u:u);continue}if(I=n(y),!I){u=d+(u.length>0?" "+u:u);continue}A=!1}const O=g.length===0?"":g.length===1?g[0]:s(g).join(":"),R=m?O+by:O,L=R+I;if(o.indexOf(L)>-1)continue;o.push(L);const D=i(I,A);for(let P=0;P<D.length;++P){const Z=D[P];o.push(R+Z)}u=d+(u.length>0?" "+u:u)}return u},"mergeClassList"),aH=a((...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=jA(r))&&(i&&(i+=" "),i+=n);return i},"twJoin"),jA=a(e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=jA(e[n]))&&(r&&(r+=" "),r+=t);return r},"toValue"),sH=a((e,...t)=>{let r,n,i,s;const o=a(u=>{const c=t.reduce((d,f)=>f(d),e());return r=rH(c),n=r.cache.get,i=r.cache.set,s=l,l(u)},"initTailwindMerge"),l=a(u=>{const c=n(u);if(c)return c;const d=iH(u,r);return i(u,d),d},"tailwindMerge");return s=o,(...u)=>s(aH(...u))},"createTailwindMerge"),oH=[],xn=a(e=>{const t=a(r=>r[e]||oH,"themeGetter");return t.isThemeGetter=!0,t},"fromTheme"),PA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lH=/^\d+\/\d+$/,uH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gl=a(e=>lH.test(e),"isFraction"),dr=a(e=>!!e&&!Number.isNaN(Number(e)),"isNumber$1"),eo=a(e=>!!e&&Number.isInteger(Number(e)),"isInteger"),dg=a(e=>e.endsWith("%")&&dr(e.slice(0,-1)),"isPercent"),fs=a(e=>uH.test(e),"isTshirtSize"),pH=a(()=>!0,"isAny"),mH=a(e=>cH.test(e)&&!dH.test(e),"isLengthOnly"),BA=a(()=>!1,"isNever"),gH=a(e=>fH.test(e),"isShadow"),bH=a(e=>hH.test(e),"isImage"),vH=a(e=>!Pt(e)&&!zt(e),"isAnyNonArbitrary"),yH=a(e=>Pu(e,HA,BA),"isArbitrarySize"),Pt=a(e=>PA.test(e),"isArbitraryValue"),Bo=a(e=>Pu(e,GA,mH),"isArbitraryLength"),fg=a(e=>Pu(e,SH,dr),"isArbitraryNumber"),Fw=a(e=>Pu(e,FA,BA),"isArbitraryPosition"),wH=a(e=>Pu(e,UA,bH),"isArbitraryImage"),Hf=a(e=>Pu(e,VA,gH),"isArbitraryShadow"),zt=a(e=>zA.test(e),"isArbitraryVariable"),rc=a(e=>zu(e,GA),"isArbitraryVariableLength"),xH=a(e=>zu(e,kH),"isArbitraryVariableFamilyName"),Uw=a(e=>zu(e,FA),"isArbitraryVariablePosition"),_H=a(e=>zu(e,HA),"isArbitraryVariableSize"),EH=a(e=>zu(e,UA),"isArbitraryVariableImage"),Gf=a(e=>zu(e,VA,!0),"isArbitraryVariableShadow"),Pu=a((e,t,r)=>{const n=PA.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},"getIsArbitraryValue"),zu=a((e,t,r=!1)=>{const n=zA.exec(e);return n?n[1]?t(n[1]):r:!1},"getIsArbitraryVariable"),FA=a(e=>e==="position"||e==="percentage","isLabelPosition"),UA=a(e=>e==="image"||e==="url","isLabelImage"),HA=a(e=>e==="length"||e==="size"||e==="bg-size","isLabelSize"),GA=a(e=>e==="length","isLabelLength"),SH=a(e=>e==="number","isLabelNumber"),kH=a(e=>e==="family-name","isLabelFamilyName"),VA=a(e=>e==="shadow","isLabelShadow"),AH=a(()=>{const e=xn("color"),t=xn("font"),r=xn("text"),n=xn("font-weight"),i=xn("tracking"),s=xn("leading"),o=xn("breakpoint"),l=xn("container"),u=xn("spacing"),c=xn("radius"),d=xn("shadow"),f=xn("inset-shadow"),g=xn("text-shadow"),m=xn("drop-shadow"),y=xn("blur"),_=xn("perspective"),A=xn("aspect"),I=xn("ease"),O=xn("animate"),R=a(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"scaleBreak"),L=a(()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],"scalePosition"),D=a(()=>[...L(),zt,Pt],"scalePositionWithArbitrary"),P=a(()=>["auto","hidden","clip","visible","scroll"],"scaleOverflow"),Z=a(()=>["auto","contain","none"],"scaleOverscroll"),V=a(()=>[zt,Pt,u],"scaleUnambiguousSpacing"),W=a(()=>[Gl,"full","auto",...V()],"scaleInset"),F=a(()=>[eo,"none","subgrid",zt,Pt],"scaleGridTemplateColsRows"),Y=a(()=>["auto",{span:["full",eo,zt,Pt]},eo,zt,Pt],"scaleGridColRowStartAndEnd"),h=a(()=>[eo,"auto",zt,Pt],"scaleGridColRowStartOrEnd"),w=a(()=>["auto","min","max","fr",zt,Pt],"scaleGridAutoColsRows"),b=a(()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],"scaleAlignPrimaryAxis"),x=a(()=>["start","end","center","stretch","center-safe","end-safe"],"scaleAlignSecondaryAxis"),E=a(()=>["auto",...V()],"scaleMargin"),T=a(()=>[Gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],"scaleSizing"),N=a(()=>[e,zt,Pt],"scaleColor"),k=a(()=>[...L(),Uw,Fw,{position:[zt,Pt]}],"scaleBgPosition"),p=a(()=>["no-repeat",{repeat:["","x","y","space","round"]}],"scaleBgRepeat"),S=a(()=>["auto","cover","contain",_H,yH,{size:[zt,Pt]}],"scaleBgSize"),C=a(()=>[dg,rc,Bo],"scaleGradientStopPosition"),M=a(()=>["","none","full",c,zt,Pt],"scaleRadius"),U=a(()=>["",dr,rc,Bo],"scaleBorderWidth"),B=a(()=>["solid","dashed","dotted","double"],"scaleLineStyle"),G=a(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"scaleBlendMode"),J=a(()=>[dr,dg,Uw,Fw],"scaleMaskImagePosition"),ue=a(()=>["","none",y,zt,Pt],"scaleBlur"),se=a(()=>["none",dr,zt,Pt],"scaleRotate"),oe=a(()=>["none",dr,zt,Pt],"scaleScale"),Pe=a(()=>[dr,zt,Pt],"scaleSkew"),Ee=a(()=>[Gl,"full",...V()],"scaleTranslate");return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fs],breakpoint:[fs],color:[pH],container:[fs],"drop-shadow":[fs],ease:["in","out","in-out"],font:[vH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fs],shadow:[fs],spacing:["px",dr],text:[fs],"text-shadow":[fs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gl,Pt,zt,A]}],container:["container"],columns:[{columns:[dr,Pt,zt,l]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[eo,"auto",zt,Pt]}],basis:[{basis:[Gl,"full","auto",l,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dr,Gl,"auto","initial","none",Pt]}],grow:[{grow:["",dr,zt,Pt]}],shrink:[{shrink:["",dr,zt,Pt]}],order:[{order:[eo,"first","last","none",zt,Pt]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":h()}],"col-end":[{"col-end":h()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":h()}],"row-end":[{"row-end":h()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":w()}],"auto-rows":[{"auto-rows":w()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...b(),"normal"]}],"justify-items":[{"justify-items":[...x(),"normal"]}],"justify-self":[{"justify-self":["auto",...x()]}],"align-content":[{content:["normal",...b()]}],"align-items":[{items:[...x(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...x(),{baseline:["","last"]}]}],"place-content":[{"place-content":b()}],"place-items":[{"place-items":[...x(),"baseline"]}],"place-self":[{"place-self":["auto",...x()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[l,"screen",...T()]}],"min-w":[{"min-w":[l,"screen","none",...T()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",r,rc,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,zt,fg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dg,Pt]}],"font-family":[{font:[xH,Pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,zt,Pt]}],"line-clamp":[{"line-clamp":[dr,"none",zt,fg]}],leading:[{leading:[s,...V()]}],"list-image":[{"list-image":["none",zt,Pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",zt,Pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[dr,"from-font","auto",zt,Bo]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[dr,"auto",zt,Pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt,Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt,Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:p()}],"bg-size":[{bg:S()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},eo,zt,Pt],radial:["",zt,Pt],conic:[eo,zt,Pt]},EH,wH]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:C()}],"gradient-via-pos":[{via:C()}],"gradient-to-pos":[{to:C()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[dr,zt,Pt]}],"outline-w":[{outline:["",dr,rc,Bo]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",d,Gf,Hf]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,Gf,Hf]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[dr,Bo]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",g,Gf,Hf]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[dr,zt,Pt]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dr]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[zt,Pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[dr]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:p()}],"mask-size":[{mask:S()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",zt,Pt]}],filter:[{filter:["","none",zt,Pt]}],blur:[{blur:ue()}],brightness:[{brightness:[dr,zt,Pt]}],contrast:[{contrast:[dr,zt,Pt]}],"drop-shadow":[{"drop-shadow":["","none",m,Gf,Hf]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",dr,zt,Pt]}],"hue-rotate":[{"hue-rotate":[dr,zt,Pt]}],invert:[{invert:["",dr,zt,Pt]}],saturate:[{saturate:[dr,zt,Pt]}],sepia:[{sepia:["",dr,zt,Pt]}],"backdrop-filter":[{"backdrop-filter":["","none",zt,Pt]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[dr,zt,Pt]}],"backdrop-contrast":[{"backdrop-contrast":[dr,zt,Pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dr,zt,Pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dr,zt,Pt]}],"backdrop-invert":[{"backdrop-invert":["",dr,zt,Pt]}],"backdrop-opacity":[{"backdrop-opacity":[dr,zt,Pt]}],"backdrop-saturate":[{"backdrop-saturate":[dr,zt,Pt]}],"backdrop-sepia":[{"backdrop-sepia":["",dr,zt,Pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",zt,Pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dr,"initial",zt,Pt]}],ease:[{ease:["linear","initial",I,zt,Pt]}],delay:[{delay:[dr,zt,Pt]}],animate:[{animate:["none",O,zt,Pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,zt,Pt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[zt,Pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt,Pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt,Pt]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[dr,rc,Bo,fg]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},"getDefaultConfig"),KA=sH(AH);function Ve(...e){return KA(Rp(e))}a(Ve,"cn$1");OA.extend(BU);const sl=OA,gl=a(e=>e.substring(0,2),"formatAgentName");function Os(){return URL.createObjectURL(new Blob).split("/").pop()}a(Os,"randomUUID");function Us(){const e="elizaos-client-user-id",t=localStorage.getItem(e);if(t)return t;const r=Os();return localStorage.setItem(e,r),r}a(Us,"getEntityId");const ZA=a((e,t=md,r=.8)=>new Promise((n,i)=>{const s=new FileReader;s.onload=o=>{if(o.target?.result){const l=new Image;l.src=o.target.result,l.onload=()=>{const u=document.createElement("canvas");let c=l.width,d=l.height;c>d?c>t&&(d*=t/c,c=t):d>t&&(c*=t/d,d=t),u.width=c,u.height=d,u.getContext("2d")?.drawImage(l,0,0,c,d);const g=u.toDataURL("image/jpeg",r);n(g)},l.onerror=i}},s.onerror=i,s.readAsDataURL(e)}),"compressImage"),Hw=["/images/agents/agent1.png","/images/agents/agent2.png","/images/agents/agent3.png","/images/agents/agent4.png","/images/agents/agent5.png"],gd=a(e=>{if(e?.settings?.avatar)return e.settings.avatar;if(e?.id){let t=0;for(let n=0;n<e.id.length;n++){const i=e.id.charCodeAt(n);t=(t<<5)-t+i,t|=0}const r=Math.abs(t)%Hw.length;return Hw[r]}return"/elizaos-icon.png"},"getAgentAvatar"),b2=a((e,t,r)=>{if(e?.name&&e.name.trim()!=="")return e.name;if(t&&t.length>0){const n=t.filter(i=>i.id!==r&&i.name);if(n.length===0&&t.some(i=>i.id===r&&i.name)){const i=t.find(s=>s.id===r);return i&&i.name||"Unnamed Group"}if(n.length>0)return n.map(i=>i.name).slice(0,3).join(", ")+(n.length>3?"...":"")}return"Unnamed Group"},"generateGroupName"),v2=$s("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-red-800 text-white shadow-xs hover:bg-red-600 focus-visible:ring-red-400/20 dark:focus-visible:ring-red-500",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-auto w-auto"}},defaultVariants:{variant:"default",size:"default"}});function ct({className:e,variant:t,size:r,asChild:n=!1,...i}){const s=n?ju:"button";return v.jsx(s,{"data-slot":"button",className:Ve(v2({variant:t,size:r,className:e})),...i})}a(ct,"Button$1");const mn=H.forwardRef(({className:e,type:t,...r},n)=>v.jsx("input",{type:t,className:Ve("flex h-12 w-full rounded border border-input bg-card px-4 py-3 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,"data-testid":r["data-testid"]||"input",...r}));mn.displayName="Input";const Pi=H.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>v.jsx(Lk,{ref:i,decorative:r,orientation:t,className:Ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),"data-testid":n["data-testid"]||"separator",...n}));Pi.displayName=Lk.displayName;const YA=Dk,TH=jk,NH=Pk,$A=H.forwardRef(({className:e,...t},r)=>v.jsx(Ep,{className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$A.displayName=Ep.displayName;const IH=$s("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y2=H.forwardRef(({side:e="right",className:t,children:r,...n},i)=>v.jsxs(NH,{children:[v.jsx($A,{}),v.jsxs(_p,{ref:i,className:Ve(IH({side:e}),t),...n,children:[v.jsxs(zk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(vi,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));y2.displayName=_p.displayName;const CH=H.forwardRef(({className:e,...t},r)=>v.jsx(Sp,{ref:r,className:Ve("text-lg font-semibold text-foreground",e),...t}));CH.displayName=Sp.displayName;const MH=H.forwardRef(({className:e,...t},r)=>v.jsx(kp,{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));MH.displayName=kp.displayName;function bd({className:e,...t}){return v.jsx("div",{className:Ve("animate-pulse rounded-md bg-primary/10",e),"data-testid":t["data-testid"]||"skeleton",...t})}a(bd,"Skeleton");const cu=nF,fn=iF,hn=aF,on=H.forwardRef(({className:e,sideOffset:t=4,...r},n)=>v.jsx(sF,{children:v.jsx(Bk,{ref:n,sideOffset:t,className:Ve("z-50 overflow-hidden select-none rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));on.displayName=Bk.displayName;const hg=768;function OH(){const[e,t]=H.useState(void 0);return H.useEffect(()=>{const r=window.matchMedia(`(max-width: ${hg-1}px)`),n=a(()=>{t(window.innerWidth<hg)},"onChange");return r.addEventListener("change",n),t(window.innerWidth<hg),()=>r.removeEventListener("change",n)},[]),!!e}a(OH,"useIsMobile");const RH="sidebar:state",LH=3600*24*7,DH="16rem",jH="18rem",PH="3rem",zH="b",QA=H.createContext(null);function Lp(){const e=H.useContext(QA);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}a(Lp,"useSidebar");const WA=H.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:s,...o},l)=>{const u=OH(),[c,d]=H.useState(!1),[f,g]=H.useState(e),m=t??f,y=H.useCallback(O=>{const R=typeof O=="function"?O(m):O;r?r(R):g(R),document.cookie=`${RH}=${R}; path=/; max-age=${LH}`},[r,m]),_=H.useCallback(()=>u?d(O=>!O):y(O=>!O),[u,y,d]);H.useEffect(()=>{const O=a(R=>{R.key===zH&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),_())},"handleKeyDown");return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[_]);const A=m?"expanded":"collapsed",I=H.useMemo(()=>({state:A,open:m,setOpen:y,isMobile:u,openMobile:c,setOpenMobile:d,toggleSidebar:_}),[A,m,y,u,c,d,_]);return v.jsx(QA.Provider,{value:I,children:v.jsx(cu,{delayDuration:0,children:v.jsx("div",{style:{"--sidebar-width":DH,"--sidebar-width-icon":PH,...i},className:Ve("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-card",n),ref:l,...o,children:s})})})});WA.displayName="SidebarProvider";const XA=H.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},o)=>{const{isMobile:l,state:u,openMobile:c,setOpenMobile:d}=Lp();return r==="none"?v.jsx("div",{className:Ve("flex h-full w-[--sidebar-width] flex-col bg-card text-sidebar-foreground",n),ref:o,...s,children:i}):l?v.jsx(YA,{open:c,onOpenChange:d,...s,children:v.jsx(y2,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-card p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":jH},side:e,children:v.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):v.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?r:"","data-variant":t,"data-side":e,children:[v.jsx("div",{className:Ve("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),v.jsx("div",{className:Ve("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:v.jsx("div",{"data-sidebar":"sidebar",className:"flex m-4 rounded-md w-full flex-col group-data-[variant=floating]:rounded-md group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});XA.displayName="Sidebar";const BH=H.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=Lp();return v.jsxs(ct,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ve("h-7 w-7",e),onClick:a(s=>{t?.(s),i()},"onClick"),"data-testid":"sidebar-toggle",...r,children:[v.jsx(oF,{}),v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});BH.displayName="SidebarTrigger";const FH=H.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Lp();return v.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ve("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-card-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-card","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});FH.displayName="SidebarRail";const JA=H.forwardRef(({className:e,...t},r)=>v.jsx("main",{ref:r,className:Ve("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));JA.displayName="SidebarInset";const UH=H.forwardRef(({className:e,...t},r)=>v.jsx(mn,{ref:r,"data-sidebar":"input",className:Ve("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));UH.displayName="SidebarInput";const qA=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"header",className:Ve("flex flex-col gap-2 p-2",e),...t}));qA.displayName="SidebarHeader";const eT=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"footer",className:Ve("flex flex-col gap-2 p-2",e),...t}));eT.displayName="SidebarFooter";const HH=H.forwardRef(({className:e,...t},r)=>v.jsx(Pi,{ref:r,"data-sidebar":"separator",className:Ve("mx-2 w-auto bg-card-border",e),...t}));HH.displayName="SidebarSeparator";const tT=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"content",className:Ve("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto overflow-x-hidden group-data-[collapsible=icon]:overflow-hidden",e),...t}));tT.displayName="SidebarContent";const Dp=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"group",className:Ve("relative flex w-full min-w-0 flex-col p-0.5",e),...t}));Dp.displayName="SidebarGroup";const GH=H.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?ju:"div";return v.jsx(i,{ref:n,"data-sidebar":"group-label",className:Ve("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});GH.displayName="SidebarGroupLabel";const VH=H.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?ju:"button";return v.jsx(i,{ref:n,"data-sidebar":"group-action",className:Ve("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});VH.displayName="SidebarGroupAction";const jp=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"group-content",className:Ve("w-full text-sm p-0 m-0",e),...t}));jp.displayName="SidebarGroupContent";const ol=H.forwardRef(({className:e,...t},r)=>v.jsx("ul",{ref:r,"data-sidebar":"menu",className:Ve("flex w-full min-w-0 flex-col gap-0.5",e),...t}));ol.displayName="SidebarMenu";const va=H.forwardRef(({className:e,...t},r)=>v.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Ve("group/menu-item relative",e),...t}));va.displayName="SidebarMenuItem";const KH=$s("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),bl=H.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:s,...o},l)=>{const u=e?ju:"button",{isMobile:c,state:d}=Lp(),f=v.jsx(u,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Ve(KH({variant:r,size:n}),s),...o});return i?(typeof i=="string"&&(i={children:i}),v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:f}),v.jsx(on,{side:"right",align:"center",hidden:d!=="collapsed"||c,...i})]})):f});bl.displayName="SidebarMenuButton";const ZH=H.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const s=t?ju:"button";return v.jsx(s,{ref:i,"data-sidebar":"menu-action",className:Ve("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});ZH.displayName="SidebarMenuAction";const YH=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Ve("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));YH.displayName="SidebarMenuBadge";const Pp=H.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=H.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return v.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ve("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&v.jsx(bd,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),v.jsx(bd,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Pp.displayName="SidebarMenuSkeleton";const $H=H.forwardRef(({className:e,...t},r)=>v.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Ve("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));$H.displayName="SidebarMenuSub";const QH=H.forwardRef(({...e},t)=>v.jsx("li",{ref:t,...e}));QH.displayName="SidebarMenuSubItem";const WH=H.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},s)=>{const o=e?ju:"a";return v.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Ve("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-card-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-card-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});WH.displayName="SidebarMenuSubButton";const XH=$s("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ca({className:e,variant:t,...r}){return v.jsx("div",{className:Ve(XH({variant:t}),e),"data-testid":r["data-testid"]||"badge",...r})}a(ca,"Badge$1");const JH=$s("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),du=H.forwardRef(({className:e,...t},r)=>v.jsx(Fk,{ref:r,className:Ve(JH(),e),...t}));du.displayName=Fk.displayName;const qH=a(({tag:e,onRemove:t})=>v.jsxs(ca,{variant:"outline",className:"flex items-center gap-1.5 pr-1.5 text-sm py-1 px-2 transition-colors hover:bg-accent hover:text-accent-foreground",children:[e,v.jsxs(ct,{type:"button",variant:"ghost",size:"icon",onClick:a(()=>t(e),"onClick"),className:"hover:bg-accent/20 rounded-full p-0.5 transition-colors h-auto w-auto min-w-0 min-h-0",children:[v.jsx(vi,{className:"h-3 w-3"}),v.jsxs("span",{className:"sr-only",children:["Remove ",e]})]})]}),"Tag"),eG=a(({tags:e,onRemove:t})=>v.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(r=>v.jsx(qH,{tag:r,onRemove:t},r))}),"TagList"),tG=a(({value:e,onChange:t,onKeyDown:r,onAdd:n})=>v.jsxs("div",{className:"relative",children:[v.jsx(mn,{value:e,onChange:t,onKeyDown:r,placeholder:"Type and press Enter or click Add...",className:Ve("bg-background pr-16",!e&&"text-muted-foreground")}),e.trim()&&v.jsx(ct,{size:"sm",onClick:n,className:"absolute top-1/2 -translate-y-1/2 right-2 h-7 px-3",children:"Add"})]}),"TagInput");function rG({title:e,data:t,onChange:r}){const[n,i]=H.useState(""),s=a(()=>{const u=n.trim();u&&!t.includes(u)&&(r([...t,u]),i(""))},"addTag"),o=a(u=>{u.key==="Enter"&&(u.preventDefault(),s())},"handleKeyDown"),l=a(u=>{r(t.filter(c=>c!==u))},"removeTag");return v.jsxs("div",{className:"space-y-2",children:[v.jsx(du,{children:e}),v.jsxs("div",{className:"p-2 bg-card rounded border border-input",children:[v.jsx(eG,{tags:t,onRemove:l}),v.jsx(tG,{value:n,onChange:a(u=>i(u.target.value),"onChange"),onKeyDown:o,onAdd:s})]})]})}a(rG,"ArrayInput");const w2=Uk,zp=H.forwardRef(({className:e,...t},r)=>v.jsx(s2,{ref:r,className:Ve("inline-flex items-center bg-transparent border-b border-sidebar-border w-full",e),...t}));zp.displayName=s2.displayName;const vd=H.forwardRef(({className:e,...t},r)=>v.jsx(o2,{ref:r,className:Ve("inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-muted-foreground bg-transparent transition-all hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-b-primary relative",e),...t}));vd.displayName=o2.displayName;const la=H.forwardRef(({className:e,...t},r)=>v.jsx(Hk,{ref:r,className:Ve("text-foreground ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));la.displayName=Hk.displayName;const of=H.forwardRef(({className:e,...t},r)=>v.jsx("textarea",{className:Ve("flex min-h-[120px] w-full rounded border border-input bg-card px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,"data-testid":t["data-testid"]||"textarea",...t}));of.displayName="Textarea";const nG=1,iG=3e3;let pg=0;function aG(){return pg=(pg+1)%Number.MAX_SAFE_INTEGER,pg.toString()}a(aG,"genId");const mg=new Map,Gw=a(e=>{if(mg.has(e))return;const t=setTimeout(()=>{mg.delete(e),ed({type:"REMOVE_TOAST",toastId:e})},iG);mg.set(e,t)},"addToRemoveQueue"),sG=a((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nG)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;if(r)Gw(r);else for(const n of e.toasts)Gw(n.id);return{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},"reducer"),Xh=[];let Jh={toasts:[]};function ed(e){Jh=sG(Jh,e);for(const t of Xh)t(Jh)}a(ed,"dispatch");function oG({...e}){const t=aG(),r=a(i=>ed({type:"UPDATE_TOAST",toast:{...i,id:t}}),"update"),n=a(()=>ed({type:"DISMISS_TOAST",toastId:t}),"dismiss");return ed({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a(i=>{i||n()},"onOpenChange")}}),{id:t,dismiss:n,update:r}}a(oG,"toast");function Gr(){const[e,t]=H.useState(Jh);return H.useEffect(()=>(Xh.push(t),()=>{const r=Xh.indexOf(t);r>-1&&Xh.splice(r,1)}),[]),{...e,toast:oG,dismiss:a(r=>ed({type:"DISMISS_TOAST",toastId:r}),"dismiss")}}a(Gr,"useToast");function lG(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}a(lG,"sanitizeFilename");function uG(e){const t={id:e.id,name:e.name,username:e.username,system:e.system,templates:e.templates,bio:e.bio,messageExamples:e.messageExamples,postExamples:e.postExamples,topics:e.topics,adjectives:e.adjectives,knowledge:e.knowledge,plugins:e.plugins,settings:e.settings?{...e.settings}:void 0,style:e.style};if(t.settings&&"secrets"in t.settings){const{secrets:r,...n}=t.settings;t.settings=n}return Object.fromEntries(Object.entries(t).filter(([r,n])=>n!=null))}a(uG,"agentToCharacterData");function cG(e){const t=new Date().toISOString().split("T")[0];return`${lG(e||"agent")}-${t}.json`}a(cG,"generateExportFilename");function dG(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}a(dG,"downloadJsonFile");function x2(e,t){try{const r=uG(e),n=cG(e.name);return dG(r,n),t&&t({title:"Character Exported",description:`${e.name}'s character data has been downloaded as ${n}`}),{success:!0,filename:n}}catch(r){return console.error("Failed to export character:",r),t&&t({title:"Export Failed",description:"Failed to export character data. Please try again.",variant:"destructive"}),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}a(x2,"exportCharacterAsJson");const js=lF,gg=cF,Ps=uF,Ya=H.forwardRef(({className:e,children:t,...r},n)=>v.jsxs(Gk,{ref:n,className:Ve("flex h-12 w-full items-center justify-between whitespace-nowrap rounded border border-input bg-card px-4 py-3 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,v.jsx(dF,{asChild:!0,children:v.jsx(Ja,{className:"h-4 w-4 opacity-50"})})]}));Ya.displayName=Gk.displayName;const rT=H.forwardRef(({className:e,...t},r)=>v.jsx($k,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(Qk,{className:"h-4 w-4"})}));rT.displayName=$k.displayName;const nT=H.forwardRef(({className:e,...t},r)=>v.jsx(Wk,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(Ja,{className:"h-4 w-4"})}));nT.displayName=Wk.displayName;const $a=H.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>v.jsx(fF,{children:v.jsxs(Vk,{ref:i,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-input bg-card text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[v.jsx(rT,{}),v.jsx(hF,{className:Ve("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),v.jsx(nT,{})]})}));$a.displayName=Vk.displayName;const vy=H.forwardRef(({className:e,...t},r)=>v.jsx(Yk,{ref:r,className:Ve("px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",e),...t}));vy.displayName=Yk.displayName;const Ir=H.forwardRef(({className:e,children:t,...r},n)=>v.jsxs(Kk,{ref:n,className:Ve("relative flex w-full cursor-default select-none items-center rounded py-3 pl-4 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[v.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(pF,{children:v.jsx(Fs,{className:"h-4 w-4"})})}),v.jsx(mF,{children:t})]}));Ir.displayName=Kk.displayName;const yy=H.forwardRef(({className:e,...t},r)=>v.jsx(Zk,{ref:r,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));yy.displayName=Zk.displayName;const iT={elevenlabs:"@elizaos/plugin-elevenlabs",openai:"@elizaos/plugin-openai",none:""},fG=[{value:"none",label:"No Voice",provider:"none"}],hG=[],_2=[{value:"EXAVITQu4vr4xnSDxMaL",label:"ElevenLabs - Rachel (Default)",provider:"elevenlabs",gender:"female",language:"en",features:["natural","professional"]},{value:"21m00Tcm4TlvDq8ikWAM",label:"ElevenLabs - Adam",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]},{value:"AZnzlk1XvdvUeBnXmlld",label:"ElevenLabs - Domi",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"MF3mGyEYCl7XYWbV9V6O",label:"ElevenLabs - Elli",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"TxGEqnHWrfWFTfGW9XjX",label:"ElevenLabs - Josh",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]}],aT=[{value:"alloy",label:"OpenAI - Alloy",provider:"openai",gender:"female",language:"en",features:["natural","versatile"]},{value:"echo",label:"OpenAI - Echo",provider:"openai",gender:"male",language:"en",features:["natural","professional"]},{value:"fable",label:"OpenAI - Fable",provider:"openai",gender:"male",language:"en",features:["natural","narrative"]},{value:"onyx",label:"OpenAI - Onyx",provider:"openai",gender:"male",language:"en",features:["natural","deep"]},{value:"nova",label:"OpenAI - Nova",provider:"openai",gender:"female",language:"en",features:["natural","friendly"]},{value:"shimmer",label:"OpenAI - Shimmer",provider:"openai",gender:"female",language:"en",features:["natural","bright"]},{value:"ash",label:"OpenAI - Ash",provider:"openai",gender:"male",language:"en",features:["natural","calm"]},{value:"coral",label:"OpenAI - Coral",provider:"openai",gender:"female",language:"en",features:["natural","warm"]},{value:"sage",label:"OpenAI - Sage",provider:"openai",gender:"female",language:"en",features:["natural","wise"]},{value:"ballad",label:"OpenAI - Ballad",provider:"openai",gender:"male",language:"en",features:["natural","melodic"]}],sT=a(()=>[...fG,...hG,..._2,...aT],"getAllVoiceModels"),wy=a(e=>sT().find(t=>t.value===e),"getVoiceModelByValue");function pG(){const[e,t]=H.useState(null);return H.useEffect(()=>{const r=localStorage.getItem("ELEVENLABS_API_KEY");t(r)},[]),Mn({queryKey:["elevenlabs-voices",e],queryFn:a(async()=>{if(!e)return[];try{const r=await fetch("https://api.elevenlabs.io/v2/voices",{method:"GET",headers:{"xi-api-key":e}});if(!r.ok)return console.error("Failed to fetch ElevenLabs voices:",r.statusText),[];const n=await r.json(),i=_2.map(l=>l.value);return n.voices.filter(l=>!i.includes(l.voice_id)).map(l=>({value:l.voice_id,label:`ElevenLabs - ${l.name} (Custom)`,provider:"elevenlabs",gender:l.labels?.gender==="female"?"female":"male",language:"en",features:[l.category||"professional",l.labels?.description||"natural"]}))}catch(r){return console.error("Error fetching ElevenLabs voices:",r),[]}},"queryFn"),staleTime:3600*1e3,refetchOnWindowFocus:!1})}a(pG,"useElevenLabsVoices");function yd({...e}){return v.jsx(gF,{"data-slot":"dropdown-menu",...e})}a(yd,"DropdownMenu");function wd({...e}){return v.jsx(bF,{"data-slot":"dropdown-menu-trigger",...e})}a(wd,"DropdownMenuTrigger");function xd({className:e,sideOffset:t=4,onPointerDown:r,onPointerDownOutside:n,onCloseAutoFocus:i,...s}){const o=H.useRef(!1),l=H.useCallback(d=>{o.current=!0,r?.(d)},[r]),u=H.useCallback(d=>{o.current=!0,n?.(d)},[n]),c=H.useCallback(d=>{if(i)return i(d);o.current&&(d.preventDefault(),o.current=!1)},[i]);return v.jsx(vF,{children:v.jsx(yF,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border p-1 shadow-lg",e),onPointerDown:l,onPointerDownOutside:u,onCloseAutoFocus:c,...s})})}a(xd,"DropdownMenuContent");function Ha({className:e,inset:t,variant:r="default",...n}){return v.jsx(wF,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground data-[variant=destructive]:font-normal relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm font-medium outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...n})}a(Ha,"DropdownMenuItem");function mG({className:e,inset:t,...r}){return v.jsx(_F,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ve("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8",e),...r})}a(mG,"DropdownMenuLabel");function w0({className:e,...t}){return v.jsx(xF,{"data-slot":"dropdown-menu-separator",className:Ve("bg-border -mx-1 my-1 h-px",e),...t})}a(w0,"DropdownMenuSeparator");const oT=[{id:"none",label:"None (Start Blank)",description:"Start with an empty configuration",template:{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}}},{id:"discord-bot",label:"Discord Bot",description:"Interactive Discord bot that handles server interactions",template:{name:"Discord Assistant",username:"discordbot",system:"You are a Discord bot designed to assist users in a Discord server. You respond to messages, handle commands, and provide helpful information to community members. You should be friendly, helpful, and maintain a consistent personality. Focus on providing value to the community through clear, concise responses.",bio:["Helpful Discord community assistant","Responds to commands and natural language queries","Assists with server-specific information and resources","Maintains a friendly and helpful tone"],topics:["Discord server","Community assistance","Command handling","Server information"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-discord"],style:{all:["Be friendly and helpful","Use clear, concise language","Follow Discord conventions"],chat:["Respond promptly to queries","Use appropriate formatting for clarity","Reference relevant commands when helpful"],post:["Structure longer responses with clear sections","Use embeds for rich content when appropriate"]},settings:{secrets:{}}}},{id:"telegram-bot",label:"Telegram Bot",description:"Interactive bot for Telegram channels and groups",template:{name:"Telegram Assistant",username:"telegrambot",system:"You are a helpful Telegram bot designed to assist users in channels and groups. You respond to commands and natural language queries, providing information, assistance, and engaging with users in a friendly manner. You can handle both one-on-one conversations and group interactions, adapting your tone and content accordingly while respecting privacy and community guidelines.",bio:["Interactive Telegram bot","Assists users in channels and groups","Responds to commands and natural language"],topics:["Channel information","User assistance","Content sharing","Group moderation","FAQ responses"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-telegram"],style:{all:["Be concise and clear","Use Telegram-friendly formatting","Respond promptly to user queries"],chat:["Handle commands efficiently","Include relevant emoji when appropriate","Maintain conversation context"],post:["Structure longer messages clearly","Use formatting for better readability","Include relevant links when helpful"]},settings:{clients:["telegram"],allowDirectMessages:!0,shouldOnlyJoinInAllowedGroups:!1,messageTrackingLimit:100,secrets:{}}}},{id:"slack-bot",label:"Slack Bot",description:"Interactive bot for Slack workspaces",template:{name:"Slack Assistant",username:"slackbot",system:"You are a specialized assistant for Slack workspaces. You help teams by answering questions, providing information, and facilitating collaboration. You can respond to direct messages and channel mentions, maintaining a helpful and professional tone that aligns with the organization's culture. Keep responses concise and relevant to the conversation context.",bio:["Specialized Slack workspace assistant","Facilitates team collaboration","Provides timely responses to queries"],topics:["Workspace information","Team collaboration","Company policies","Resource access","Task management"],adjectives:["Responsive","Helpful","Organized","Team-oriented","Professional"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-slack"],style:{all:["Be concise and clear","Match the tone of the workspace","Use Slack-appropriate formatting"],chat:["Reference relevant messages when appropriate","Use thread replies for detailed responses","Include emojis when fitting the workspace culture"],post:["Structure information with clear sections","Use bullet points for lists","Include relevant links when helpful"]},settings:{secrets:{}}}},{id:"twitter-agent",label:"Twitter/X Agent",description:"Manages Twitter presence and engagement",template:{name:"Twitter Agent",username:"twitteragent",system:"You are a Twitter engagement specialist designed to help create and manage effective Twitter content. You assist with drafting tweets, responding to mentions, analyzing engagement metrics, and suggesting content strategies. Your tone should match the brand voice while maintaining authenticity and encouraging audience interaction. Keep tweets concise and impactful within character limits.",bio:["Twitter engagement specialist","Creates compelling social content","Manages audience interactions"],topics:["Tweet creation","Audience engagement","Content strategy","Trend analysis","Brand voice"],adjectives:["Engaging","Concise","Strategic","Conversational","Creative"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-twitter"],style:{all:["Be concise and impactful","Stay within character limits","Use platform-appropriate formatting"],chat:["Match brand voice in replies","Be conversational and authentic","Use hashtags strategically"],post:["Draft varied content types","Suggest engaging visuals or polls","Include call-to-actions when appropriate"]},settings:{TWITTER_DRY_RUN:!1,MAX_TWEET_LENGTH:280,TWITTER_ENABLE_POST_GENERATION:!0,TWITTER_POST_INTERVAL_MIN:90,TWITTER_POST_INTERVAL_MAX:180,secrets:{}}}},{id:"github-bot",label:"GitHub Repository Assistant",description:"Helps manage GitHub repositories and development workflows",template:{name:"GitHub Assistant",username:"githubasst",system:"You are a GitHub repository assistant designed to help development teams manage their workflow and codebase. You can assist with pull request reviews, issue triage, documentation updates, and providing information about repository structure and conventions. Maintain a technical but approachable tone, and prioritize accuracy in all technical information.",bio:["GitHub repository management specialist","Assists with development workflows","Provides code and documentation support"],topics:["Pull requests","Issue tracking","Repository structure","Code reviews","Development workflows"],adjectives:["Technical","Precise","Helpful","Organized","Knowledgeable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-github"],style:{all:["Use technically precise language","Reference GitHub concepts appropriately","Link to relevant documentation when helpful"],chat:["Be concise in comments","Format code snippets properly","Summarize technical points clearly"],post:["Structure longer responses with clear headings","Use code blocks with syntax highlighting","Link to specific lines of code when relevant"]},settings:{secrets:{}}}},{id:"instagram-agent",label:"Instagram Content Manager",description:"Creates and manages content for Instagram",template:{name:"Instagram Manager",username:"instagrammgr",system:"You are an Instagram content specialist designed to help create and manage engaging Instagram presence. You assist with content creation, caption writing, hashtag strategy, engagement tactics, and understanding analytics. Your approach emphasizes visual storytelling, authenticity, and building connections with followers. Maintain a voice that matches the brand identity while adapting to Instagram's evolving features and trends.",bio:["Instagram content creation specialist","Develops engaging visual storytelling","Optimizes profile engagement"],topics:["Content creation","Caption writing","Hashtag strategy","Engagement tactics","Visual aesthetics"],adjectives:["Creative","Visual","Engaging","Trend-aware","Authentic"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-instagram"],style:{all:["Balance visual description with compelling text","Maintain brand voice consistency","Consider current platform trends"],chat:["Provide actionable content suggestions","Reference visual elements clearly","Include relevant hashtag recommendations"],post:["Craft captions that enhance visual content","Suggest content series and themes","Balance promotional with authentic content"]},settings:{POST_INTERVAL_MIN:90,POST_INTERVAL_MAX:180,ENABLE_ACTION_PROCESSING:!0,ACTION_INTERVAL:5,MAX_ACTIONS_PROCESSING:1,secrets:{}}}}];function lT(e){return oT.find(t=>t.id===e)}a(lT,"getTemplateById");const E2=EF,gG=SF,uT=H.forwardRef(({className:e,...t},r)=>v.jsx(rA,{className:Ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));uT.displayName=rA.displayName;const Bp=H.forwardRef(({className:e,...t},r)=>v.jsxs(gG,{children:[v.jsx(uT,{}),v.jsx(Xk,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bp.displayName=Xk.displayName;const Fp=a(({className:e,...t})=>v.jsx("div",{className:Ve("flex flex-col space-y-2 text-center sm:text-left",e),...t}),"AlertDialogHeader");Fp.displayName="AlertDialogHeader";const Up=a(({className:e,...t})=>v.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"AlertDialogFooter");Up.displayName="AlertDialogFooter";const Hp=H.forwardRef(({className:e,...t},r)=>v.jsx(Jk,{ref:r,className:Ve("text-lg font-semibold",e),...t}));Hp.displayName=Jk.displayName;const Gp=H.forwardRef(({className:e,...t},r)=>v.jsx(qk,{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));Gp.displayName=qk.displayName;const Vp=H.forwardRef(({className:e,...t},r)=>v.jsx(tA,{ref:r,className:Ve(v2(),e),...t}));Vp.displayName=tA.displayName;const Kp=H.forwardRef(({className:e,...t},r)=>v.jsx(eA,{ref:r,className:Ve(v2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Kp.displayName=eA.displayName;function bG({open:e,onOpenChange:t,missingSecrets:r,onConfirm:n,onCancel:i}){return v.jsx(E2,{open:e,onOpenChange:t,children:v.jsxs(Bp,{children:[v.jsxs(Fp,{children:[v.jsxs(Hp,{className:"flex items-center gap-2",children:[v.jsx(Yi,{className:"h-5 w-5 text-yellow-500"}),"Missing Required Configuration"]}),v.jsxs(Gp,{className:"space-y-3",children:[v.jsx("p",{children:"The following required secrets are missing or empty. Your agent may not function properly without these values."}),v.jsx("div",{className:"bg-muted rounded-md p-3 space-y-2",children:r.map(s=>v.jsxs("div",{className:"text-sm",children:[v.jsx("code",{className:"font-mono font-semibold",children:s.name}),s.plugin&&v.jsxs("span",{className:"text-muted-foreground ml-2",children:["(required by ",s.plugin,")"]}),s.description&&v.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.description})]},s.name))}),v.jsx("p",{className:"text-sm",children:"Do you want to save anyway?"})]})]}),v.jsxs(Up,{children:[v.jsx(Kp,{onClick:i,children:"Go Back"}),v.jsx(Vp,{onClick:n,className:"bg-yellow-600 hover:bg-yellow-700",children:"Save Anyway"})]})]})})}a(bG,"MissingSecretsDialog");var mi={},vG=Object.create,{getPrototypeOf:yG,defineProperty:_d,getOwnPropertyNames:cT,getOwnPropertyDescriptor:wG}=Object,dT=Object.prototype.hasOwnProperty,Ea=a((e,t,r)=>{r=e!=null?vG(yG(e)):{};let n=t||!e||!e.__esModule?_d(r,"default",{value:e,enumerable:!0}):r;for(let i of cT(e))dT.call(n,i)||_d(n,i,{get:a(()=>e[i],"get"),enumerable:!0});return n},"N8"),Vw=new WeakMap,mr=a(e=>{var t=Vw.get(e),r;return t||(t=_d({},"__esModule",{value:!0}),(e&&typeof e=="object"||typeof e=="function")&&cT(e).map(n=>!dT.call(t,n)&&_d(t,n,{get:a(()=>e[n],"get"),enumerable:!(r=wG(e,n))||r.enumerable})),Vw.set(e,t),t)},"J6"),dt=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"N$"),yi=a((e,t)=>{for(var r in t)_d(e,r,{get:t[r],enumerable:!0,configurable:!0,set:a(n=>t[r]=()=>n,"set")})},"oq"),lf=a((e,t)=>()=>(e&&(t=e(e=0)),t),"lK"),qh=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:a((t,r)=>(typeof require<"u"?require:t)[r],"get")}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),xG=dt((e,t)=>{t.exports=function(r,n){if(typeof r!="string")throw TypeError("Expected a string");return n=typeof n>"u"?"_":n,r.replace(/([a-z\d])([A-Z])/g,"$1"+n+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+n+"$2").toLowerCase()}}),_G=dt((e,t)=>{var r=/[\p{Lu}]/u,n=/[\p{Ll}]/u,i=/^[\p{Lu}](?![\p{Lu}])/gu,s=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,l=new RegExp("^"+o.source),u=new RegExp(o.source+s.source,"gu"),c=new RegExp("\\d+"+s.source,"gu"),d=a((y,_,A)=>{let I=!1,O=!1,R=!1;for(let L=0;L<y.length;L++){let D=y[L];I&&r.test(D)?(y=y.slice(0,L)+"-"+y.slice(L),I=!1,R=O,O=!0,L++):O&&R&&n.test(D)?(y=y.slice(0,L-1)+"-"+y.slice(L-1),R=O,O=!1,I=!0):(I=_(D)===D&&A(D)!==D,R=O,O=A(D)===D&&_(D)!==D)}return y},"WC"),f=a((y,_)=>(i.lastIndex=0,y.replace(i,A=>_(A))),"JC"),g=a((y,_)=>(u.lastIndex=0,c.lastIndex=0,y.replace(u,(A,I)=>_(I)).replace(c,A=>_(A))),"HC"),m=a((y,_)=>{if(!(typeof y=="string"||Array.isArray(y)))throw TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(y)?y=y.map(O=>O.trim()).filter(O=>O.length).join("-"):y=y.trim(),y.length===0)return"";let A=_.locale===!1?O=>O.toLowerCase():O=>O.toLocaleLowerCase(_.locale),I=_.locale===!1?O=>O.toUpperCase():O=>O.toLocaleUpperCase(_.locale);return y.length===1?_.pascalCase?I(y):A(y):(y!==A(y)&&(y=d(y,A,I)),y=y.replace(l,""),_.preserveConsecutiveUppercase?y=f(y,A):y=A(y),_.pascalCase&&(y=I(y.charAt(0))+y.slice(1)),g(y,I))},"MT");t.exports=m,t.exports.default=m}),EG=dt((e,t)=>{var r=Object.prototype.hasOwnProperty,n="~";function i(){}a(i,"fP"),Object.create&&(i.prototype=Object.create(null),!new i().__proto__&&(n=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}a(s,"NE");function o(c,d,f,g,m){if(typeof f!="function")throw TypeError("The listener must be a function");var y=new s(f,g||c,m),_=n?n+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}a(o,"Wf");function l(c,d){--c._eventsCount===0?c._events=new i:delete c._events[d]}a(l,"u1");function u(){this._events=new i,this._eventsCount=0}a(u,"Nq"),u.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)r.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},u.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,m=f.length,y=Array(m);g<m;g++)y[g]=f[g].fn;return y},u.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},u.prototype.emit=function(c,d,f,g,m,y){var _=n?n+c:c;if(!this._events[_])return!1;var A=this._events[_],I=arguments.length,O,R;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,f),!0;case 4:return A.fn.call(A.context,d,f,g),!0;case 5:return A.fn.call(A.context,d,f,g,m),!0;case 6:return A.fn.call(A.context,d,f,g,m,y),!0}for(R=1,O=Array(I-1);R<I;R++)O[R-1]=arguments[R];A.fn.apply(A.context,O)}else{var L=A.length,D;for(R=0;R<L;R++)switch(A[R].once&&this.removeListener(c,A[R].fn,void 0,!0),I){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,d);break;case 3:A[R].fn.call(A[R].context,d,f);break;case 4:A[R].fn.call(A[R].context,d,f,g);break;default:if(!O)for(D=1,O=Array(I-1);D<I;D++)O[D-1]=arguments[D];A[R].fn.apply(A[R].context,O)}}return!0},u.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},u.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},u.prototype.removeListener=function(c,d,f,g){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return l(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!g||y.once)&&(!f||y.context===f)&&l(this,m);else{for(var _=0,A=[],I=y.length;_<I;_++)(y[_].fn!==d||g&&!y[_].once||f&&y[_].context!==f)&&A.push(y[_]);A.length?this._events[m]=A.length===1?A[0]:A:l(this,m)}return this},u.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&l(this,d)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,typeof t<"u"&&(t.exports=u)}),SG=dt((e,t)=>{t.exports=(r,n)=>(n=n||(()=>{}),r.then(i=>new Promise(s=>{s(n())}).then(()=>i),i=>new Promise(s=>{s(n())}).then(()=>{throw i})))}),kG=dt((e,t)=>{var r=SG();class n extends Error{static{a(this,"NO")}constructor(o){super(o),this.name="TimeoutError"}}var i=a((s,o,l)=>new Promise((u,c)=>{if(typeof o!="number"||o<0)throw TypeError("Expected `milliseconds` to be a positive number");if(o===1/0){u(s);return}let d=setTimeout(()=>{if(typeof l=="function"){try{u(l())}catch(m){c(m)}return}let f=typeof l=="string"?l:`Promise timed out after ${o} milliseconds`,g=l instanceof Error?l:new n(f);typeof s.cancel=="function"&&s.cancel(),c(g)},o);r(s.then(u,c),()=>{clearTimeout(d)})}),"wf");t.exports=i,t.exports.default=i,t.exports.TimeoutError=n}),AG=dt(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,i){let s=0,o=r.length;for(;o>0;){let l=o/2|0,u=s+l;i(r[u],n)<=0?(s=++u,o-=l+1):o=l}return s}a(t,"EE"),e.default=t}),TG=dt(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=AG();class r{static{a(this,"Af")}constructor(){this._queue=[]}enqueue(i,s){s=Object.assign({priority:0},s);let o={priority:s.priority,run:i};if(this.size&&this._queue[this.size-1].priority>=s.priority){this._queue.push(o);return}let l=t.default(this._queue,o,(u,c)=>c.priority-u.priority);this._queue.splice(l,0,o)}dequeue(){let i=this._queue.shift();return i?.run}filter(i){return this._queue.filter(s=>s.priority===i.priority).map(s=>s.run)}get size(){return this._queue.length}}e.default=r}),S2=dt(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=EG(),r=kG(),n=TG(),i=a(()=>{},"p1"),s=new r.TimeoutError;class o extends t{static{a(this,"Sf")}constructor(u){var c,d,f,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,u=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},u),!(typeof u.intervalCap=="number"&&u.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(d=(c=u.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""}\` (${typeof u.intervalCap})`);if(u.interval===void 0||!(Number.isFinite(u.interval)&&u.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(g=(f=u.interval)===null||f===void 0?void 0:f.toString())!==null&&g!==void 0?g:""}\` (${typeof u.interval})`);this._carryoverConcurrencyCount=u.carryoverConcurrencyCount,this._isIntervalIgnored=u.intervalCap===1/0||u.interval===0,this._intervalCap=u.intervalCap,this._interval=u.interval,this._queue=new u.queueClass,this._queueClass=u.queueClass,this.concurrency=u.concurrency,this._timeout=u.timeout,this._throwOnTimeout=u.throwOnTimeout===!0,this._isPaused=u.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let u=Date.now();if(this._intervalId===void 0){let c=this._intervalEnd-u;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let u=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let c=this._queue.dequeue();return c?(this.emit("active"),c(),u&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(u){if(!(typeof u=="number"&&u>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${u}\` (${typeof u})`);this._concurrency=u,this._processQueue()}async add(u,c={}){return new Promise((d,f)=>{let g=a(async()=>{this._pendingCount++,this._intervalCount++;try{let m=this._timeout===void 0&&c.timeout===void 0?u():r.default(Promise.resolve(u()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&f(s)});d(await m)}catch(m){f(m)}this._next()},"P");this._queue.enqueue(g,c),this._tryToStartAnother(),this.emit("add")})}async addAll(u,c){return Promise.all(u.map(async d=>this.add(d,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(u=>{let c=this._resolveEmpty;this._resolveEmpty=()=>{c(),u()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(u=>{let c=this._resolveIdle;this._resolveIdle=()=>{c(),u()}})}get size(){return this._queue.size}sizeBy(u){return this._queue.filter(u).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(u){this._timeout=u}}e.default=o}),Zp=dt((e,t)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991,n=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:n,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Yp=dt((e,t)=>{var r=typeof process=="object"&&mi&&mi.NODE_DEBUG&&/\bsemver\b/i.test(mi.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};t.exports=r}),uf=dt((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Zp(),s=Yp();e=t.exports={};var o=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],d=e.t={},f=0,g="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[g,n]],y=a(A=>{for(let[I,O]of m)A=A.split(`${I}*`).join(`${I}{0,${O}}`).split(`${I}+`).join(`${I}{1,${O}}`);return A},"BE"),_=a((A,I,O)=>{let R=y(I),L=f++;s(A,L,I),d[A]=L,u[L]=I,c[L]=R,o[L]=new RegExp(I,O?"g":void 0),l[L]=new RegExp(R,O?"g":void 0)},"Y6");_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),_("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${g}+`),_("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),_("FULL",`^${u[d.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),_("LOOSE",`^${u[d.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),_("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?(?:${u[d.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",u[d.COERCE],!0),_("COERCERTLFULL",u[d.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",_("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",_("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),k2=dt((e,t)=>{var r=Object.freeze({loose:!0}),n=Object.freeze({}),i=a(s=>s?typeof s!="object"?r:s:n,"FE");t.exports=i}),fT=dt((e,t)=>{var r=/^[0-9]+$/,n=a((s,o)=>{if(typeof s=="number"&&typeof o=="number")return s===o?0:s<o?-1:1;let l=r.test(s),u=r.test(o);return l&&u&&(s=+s,o=+o),s===o?0:l&&!u?-1:u&&!l?1:s<o?-1:1},"If"),i=a((s,o)=>n(o,s),"aE");t.exports={compareIdentifiers:n,rcompareIdentifiers:i}}),ni=dt((e,t)=>{var r=Yp(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=Zp(),{safeRe:s,t:o}=uf(),l=k2(),{compareIdentifiers:u}=fT();class c{static{a(this,"h8")}constructor(f,g){if(g=l(g),f instanceof c){if(f.loose===!!g.loose&&f.includePrerelease===!!g.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>n)throw TypeError(`version is longer than ${n} characters`);r("SemVer",f,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;let m=f.trim().match(g.loose?s[o.LOOSE]:s[o.FULL]);if(!m)throw TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>i||this.major<0)throw TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){let _=+y;if(_>=0&&_<i)return _}return y}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(r("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),this.major<f.major?-1:this.major>f.major?1:this.minor<f.minor?-1:this.minor>f.minor?1:this.patch<f.patch?-1:this.patch>f.patch?1:0}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let g=0;do{let m=this.prerelease[g],y=f.prerelease[g];if(r("prerelease compare",g,m,y),m===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(m===void 0)return-1;if(m===y)continue;return u(m,y)}while(++g)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let g=0;do{let m=this.build[g],y=f.build[g];if(r("build compare",g,m,y),m===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(m===void 0)return-1;if(m===y)continue;return u(m,y)}while(++g)}inc(f,g,m){if(f.startsWith("pre")){if(!g&&m===!1)throw Error("invalid increment argument: identifier is empty");if(g){let y=`-${g}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!y||y[1]!==g)throw Error(`invalid identifier: ${g}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,m),this.inc("pre",g,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,m),this.inc("pre",g,m);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let y=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(g===this.prerelease.join(".")&&m===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(g){let _=[g,y];m===!1&&(_=[g]),u(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=c}),Bu=dt((e,t)=>{var r=ni(),n=a((i,s,o=!1)=>{if(i instanceof r)return i;try{return new r(i,s)}catch(l){if(!o)return null;throw l}},"eE");t.exports=n}),NG=dt((e,t)=>{var r=Bu(),n=a((i,s)=>{let o=r(i,s);return o?o.version:null},"$h");t.exports=n}),IG=dt((e,t)=>{var r=Bu(),n=a((i,s)=>{let o=r(i.trim().replace(/^[=v]+/,""),s);return o?o.version:null},"_h");t.exports=n}),CG=dt((e,t)=>{var r=ni(),n=a((i,s,o,l,u)=>{typeof o=="string"&&(u=l,l=o,o=void 0);try{return new r(i instanceof r?i.version:i,o).inc(s,l,u).version}catch{return null}},"Kh");t.exports=n}),MG=dt((e,t)=>{var r=Bu(),n=a((i,s)=>{let o=r(i,null,!0),l=r(s,null,!0),u=o.compare(l);if(u===0)return null;let c=u>0,d=c?o:l,f=c?l:o,g=!!d.prerelease.length;if(f.prerelease.length&&!g){if(!f.patch&&!f.minor)return"major";if(f.compareMain(d)===0)return f.minor&&!f.patch?"minor":"patch"}let m=g?"pre":"";return o.major!==l.major?m+"major":o.minor!==l.minor?m+"minor":o.patch!==l.patch?m+"patch":"prerelease"},"Ph");t.exports=n}),OG=dt((e,t)=>{var r=ni(),n=a((i,s)=>new r(i,s).major,"Yh");t.exports=n}),RG=dt((e,t)=>{var r=ni(),n=a((i,s)=>new r(i,s).minor,"vh");t.exports=n}),LG=dt((e,t)=>{var r=ni(),n=a((i,s)=>new r(i,s).patch,"Wh");t.exports=n}),DG=dt((e,t)=>{var r=Bu(),n=a((i,s)=>{let o=r(i,s);return o&&o.prerelease.length?o.prerelease:null},"Hh");t.exports=n}),Sa=dt((e,t)=>{var r=ni(),n=a((i,s,o)=>new r(i,o).compare(new r(s,o)),"Th");t.exports=n}),jG=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(s,i,o),"fh");t.exports=n}),PG=dt((e,t)=>{var r=Sa(),n=a((i,s)=>r(i,s,!0),"Xh");t.exports=n}),A2=dt((e,t)=>{var r=ni(),n=a((i,s,o)=>{let l=new r(i,o),u=new r(s,o);return l.compare(u)||l.compareBuild(u)},"Ah");t.exports=n}),zG=dt((e,t)=>{var r=A2(),n=a((i,s)=>i.sort((o,l)=>r(o,l,s)),"Gh");t.exports=n}),BG=dt((e,t)=>{var r=A2(),n=a((i,s)=>i.sort((o,l)=>r(l,o,s)),"Sh");t.exports=n}),$p=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)>0,"Nh");t.exports=n}),T2=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)<0,"Eh");t.exports=n}),hT=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)===0,"Rh");t.exports=n}),pT=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)!==0,"Dh");t.exports=n}),N2=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)>=0,"gh");t.exports=n}),I2=dt((e,t)=>{var r=Sa(),n=a((i,s,o)=>r(i,s,o)<=0,"yh");t.exports=n}),mT=dt((e,t)=>{var r=hT(),n=pT(),i=$p(),s=N2(),o=T2(),l=I2(),u=a((c,d,f,g)=>{switch(d){case"===":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c===f;case"!==":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c!==f;case"":case"=":case"==":return r(c,f,g);case"!=":return n(c,f,g);case">":return i(c,f,g);case">=":return s(c,f,g);case"<":return o(c,f,g);case"<=":return l(c,f,g);default:throw TypeError(`Invalid operator: ${d}`)}},"lh");t.exports=u}),FG=dt((e,t)=>{var r=ni(),n=Bu(),{safeRe:i,t:s}=uf(),o=a((l,u)=>{if(l instanceof r)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;u=u||{};let c=null;if(!u.rtl)c=l.match(u.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);else{let _=u.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL],A;for(;(A=_.exec(l))&&(!c||c.index+c[0].length!==l.length);)(!c||A.index+A[0].length!==c.index+c[0].length)&&(c=A),_.lastIndex=A.index+A[1].length+A[2].length;_.lastIndex=-1}if(c===null)return null;let d=c[2],f=c[3]||"0",g=c[4]||"0",m=u.includePrerelease&&c[5]?`-${c[5]}`:"",y=u.includePrerelease&&c[6]?`+${c[6]}`:"";return n(`${d}.${f}.${g}${m}${y}`,u)},"nh");t.exports=o}),UG=dt((e,t)=>{class r{static{a(this,"VZ")}constructor(){this.max=1e3,this.map=new Map}get(i){let s=this.map.get(i);if(s!==void 0)return this.map.delete(i),this.map.set(i,s),s}delete(i){return this.map.delete(i)}set(i,s){if(!this.delete(i)&&s!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(i,s)}return this}}t.exports=r}),ka=dt((e,t)=>{var r=/\s+/g;class n{static{a(this,"kP")}constructor(T,N){if(N=o(N),T instanceof n)return T.loose===!!N.loose&&T.includePrerelease===!!N.includePrerelease?T:new n(T.raw,N);if(T instanceof l)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=T.trim().replace(r," "),this.set=this.raw.split("||").map(k=>this.parseRange(k.trim())).filter(k=>k.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let k=this.set[0];if(this.set=this.set.filter(p=>!I(p[0])),this.set.length===0)this.set=[k];else if(this.set.length>1){for(let p of this.set)if(p.length===1&&O(p[0])){this.set=[p];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");let N=this.set[T];for(let k=0;k<N.length;k++)k>0&&(this.formatted+=" "),this.formatted+=N[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){let N=((this.options.includePrerelease&&_)|(this.options.loose&&A))+":"+T,k=s.get(N);if(k)return k;let p=this.options.loose,S=p?d[f.HYPHENRANGELOOSE]:d[f.HYPHENRANGE];T=T.replace(S,b(this.options.includePrerelease)),u("hyphen replace",T),T=T.replace(d[f.COMPARATORTRIM],g),u("comparator trim",T),T=T.replace(d[f.TILDETRIM],m),u("tilde trim",T),T=T.replace(d[f.CARETTRIM],y),u("caret trim",T);let C=T.split(" ").map(G=>L(G,this.options)).join(" ").split(/\s+/).map(G=>w(G,this.options));p&&(C=C.filter(G=>(u("loose invalid filter",G,this.options),!!G.match(d[f.COMPARATORLOOSE])))),u("range list",C);let M=new Map,U=C.map(G=>new l(G,this.options));for(let G of U){if(I(G))return[G];M.set(G.value,G)}M.size>1&&M.has("")&&M.delete("");let B=[...M.values()];return s.set(N,B),B}intersects(T,N){if(!(T instanceof n))throw TypeError("a Range is required");return this.set.some(k=>R(k,N)&&T.set.some(p=>R(p,N)&&k.every(S=>p.every(C=>S.intersects(C,N)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new c(T,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(x(this.set[N],T,this.options))return!0;return!1}}t.exports=n;var i=UG(),s=new i,o=k2(),l=Qp(),u=Yp(),c=ni(),{safeRe:d,t:f,comparatorTrimReplace:g,tildeTrimReplace:m,caretTrimReplace:y}=uf(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:A}=Zp(),I=a(E=>E.value==="<0.0.0-0","CZ"),O=a(E=>E.value==="","$R"),R=a((E,T)=>{let N=!0,k=E.slice(),p=k.pop();for(;N&&k.length;)N=k.every(S=>p.intersects(S,T)),p=k.pop();return N},"EZ"),L=a((E,T)=>(E=E.replace(d[f.BUILD],""),u("comp",E,T),E=V(E,T),u("caret",E),E=P(E,T),u("tildes",E),E=F(E,T),u("xrange",E),E=h(E,T),u("stars",E),E),"qR"),D=a(E=>!E||E.toLowerCase()==="x"||E==="*","gq"),P=a((E,T)=>E.trim().split(/\s+/).map(N=>Z(N,T)).join(" "),"_R"),Z=a((E,T)=>{let N=T.loose?d[f.TILDELOOSE]:d[f.TILDE];return E.replace(N,(k,p,S,C,M)=>{u("tilde",E,k,p,S,C,M);let U;return D(p)?U="":D(S)?U=`>=${p}.0.0 <${+p+1}.0.0-0`:D(C)?U=`>=${p}.${S}.0 <${p}.${+S+1}.0-0`:M?(u("replaceTilde pr",M),U=`>=${p}.${S}.${C}-${M} <${p}.${+S+1}.0-0`):U=`>=${p}.${S}.${C} <${p}.${+S+1}.0-0`,u("tilde return",U),U})},"KR"),V=a((E,T)=>E.trim().split(/\s+/).map(N=>W(N,T)).join(" "),"PR"),W=a((E,T)=>{u("caret",E,T);let N=T.loose?d[f.CARETLOOSE]:d[f.CARET],k=T.includePrerelease?"-0":"";return E.replace(N,(p,S,C,M,U)=>{u("caret",E,p,S,C,M,U);let B;return D(S)?B="":D(C)?B=`>=${S}.0.0${k} <${+S+1}.0.0-0`:D(M)?S==="0"?B=`>=${S}.${C}.0${k} <${S}.${+C+1}.0-0`:B=`>=${S}.${C}.0${k} <${+S+1}.0.0-0`:U?(u("replaceCaret pr",U),S==="0"?C==="0"?B=`>=${S}.${C}.${M}-${U} <${S}.${C}.${+M+1}-0`:B=`>=${S}.${C}.${M}-${U} <${S}.${+C+1}.0-0`:B=`>=${S}.${C}.${M}-${U} <${+S+1}.0.0-0`):(u("no pr"),S==="0"?C==="0"?B=`>=${S}.${C}.${M}${k} <${S}.${C}.${+M+1}-0`:B=`>=${S}.${C}.${M}${k} <${S}.${+C+1}.0-0`:B=`>=${S}.${C}.${M} <${+S+1}.0.0-0`),u("caret return",B),B})},"OR"),F=a((E,T)=>(u("replaceXRanges",E,T),E.split(/\s+/).map(N=>Y(N,T)).join(" ")),"YR"),Y=a((E,T)=>{E=E.trim();let N=T.loose?d[f.XRANGELOOSE]:d[f.XRANGE];return E.replace(N,(k,p,S,C,M,U)=>{u("xRange",E,k,p,S,C,M,U);let B=D(S),G=B||D(C),J=G||D(M),ue=J;return p==="="&&ue&&(p=""),U=T.includePrerelease?"-0":"",B?p===">"||p==="<"?k="<0.0.0-0":k="*":p&&ue?(G&&(C=0),M=0,p===">"?(p=">=",G?(S=+S+1,C=0,M=0):(C=+C+1,M=0)):p==="<="&&(p="<",G?S=+S+1:C=+C+1),p==="<"&&(U="-0"),k=`${p+S}.${C}.${M}${U}`):G?k=`>=${S}.0.0${U} <${+S+1}.0.0-0`:J&&(k=`>=${S}.${C}.0${U} <${S}.${+C+1}.0-0`),u("xRange return",k),k})},"jR"),h=a((E,T)=>(u("replaceStars",E,T),E.trim().replace(d[f.STAR],"")),"vR"),w=a((E,T)=>(u("replaceGTE0",E,T),E.trim().replace(d[T.includePrerelease?f.GTE0PRE:f.GTE0],"")),"zR"),b=a(E=>(T,N,k,p,S,C,M,U,B,G,J,ue)=>(D(k)?N="":D(p)?N=`>=${k}.0.0${E?"-0":""}`:D(S)?N=`>=${k}.${p}.0${E?"-0":""}`:C?N=`>=${N}`:N=`>=${N}${E?"-0":""}`,D(B)?U="":D(G)?U=`<${+B+1}.0.0-0`:D(J)?U=`<${B}.${+G+1}.0-0`:ue?U=`<=${B}.${G}.${J}-${ue}`:E?U=`<${B}.${G}.${+J+1}-0`:U=`<=${U}`,`${N} ${U}`.trim()),"WR"),x=a((E,T,N)=>{for(let k=0;k<E.length;k++)if(!E[k].test(T))return!1;if(T.prerelease.length&&!N.includePrerelease){for(let k=0;k<E.length;k++)if(u(E[k].semver),E[k].semver!==l.ANY&&E[k].semver.prerelease.length>0){let p=E[k].semver;if(p.major===T.major&&p.minor===T.minor&&p.patch===T.patch)return!0}return!1}return!0},"JR")}),Qp=dt((e,t)=>{var r=Symbol("SemVer ANY");class n{static{a(this,"e1")}static get ANY(){return r}constructor(g,m){if(m=i(m),g instanceof n){if(g.loose===!!m.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),u("comparator",g,m),this.options=m,this.loose=!!m.loose,this.parse(g),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(g){let m=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],y=g.match(m);if(!y)throw TypeError(`Invalid comparator: ${g}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new c(y[2],this.options.loose):this.semver=r}toString(){return this.value}test(g){if(u("Comparator.test",g,this.options.loose),this.semver===r||g===r)return!0;if(typeof g=="string")try{g=new c(g,this.options)}catch{return!1}return l(g,this.operator,this.semver,this.options)}intersects(g,m){if(!(g instanceof n))throw TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(g.value,m).test(this.value):g.operator===""?g.value===""?!0:new d(this.value,m).test(g.semver):(m=i(m),m.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||l(this.semver,"<",g.semver,m)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||l(this.semver,">",g.semver,m)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}t.exports=n;var i=k2(),{safeRe:s,t:o}=uf(),l=mT(),u=Yp(),c=ni(),d=ka()}),Wp=dt((e,t)=>{var r=ka(),n=a((i,s,o)=>{try{s=new r(s,o)}catch{return!1}return s.test(i)},"TR");t.exports=n}),HG=dt((e,t)=>{var r=ka(),n=a((i,s)=>new r(i,s).set.map(o=>o.map(l=>l.value).join(" ").trim().split(" ")),"fR");t.exports=n}),GG=dt((e,t)=>{var r=ni(),n=ka(),i=a((s,o,l)=>{let u=null,c=null,d=null;try{d=new n(o,l)}catch{return null}return s.forEach(f=>{d.test(f)&&(!u||c.compare(f)===-1)&&(u=f,c=new r(u,l))}),u},"AR");t.exports=i}),VG=dt((e,t)=>{var r=ni(),n=ka(),i=a((s,o,l)=>{let u=null,c=null,d=null;try{d=new n(o,l)}catch{return null}return s.forEach(f=>{d.test(f)&&(!u||c.compare(f)===1)&&(u=f,c=new r(u,l))}),u},"VR");t.exports=i}),KG=dt((e,t)=>{var r=ni(),n=ka(),i=$p(),s=a((o,l)=>{o=new n(o,l);let u=new r("0.0.0");if(o.test(u)||(u=new r("0.0.0-0"),o.test(u)))return u;u=null;for(let c=0;c<o.set.length;++c){let d=o.set[c],f=null;d.forEach(g=>{let m=new r(g.semver.version);switch(g.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!f||i(m,f))&&(f=m);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${g.operator}`)}}),f&&(!u||i(u,f))&&(u=f)}return u&&o.test(u)?u:null},"MR");t.exports=s}),ZG=dt((e,t)=>{var r=ka(),n=a((i,s)=>{try{return new r(i,s).range||"*"}catch{return null}},"CR");t.exports=n}),C2=dt((e,t)=>{var r=ni(),n=Qp(),{ANY:i}=n,s=ka(),o=Wp(),l=$p(),u=T2(),c=I2(),d=N2(),f=a((g,m,y,_)=>{g=new r(g,_),m=new s(m,_);let A,I,O,R,L;switch(y){case">":A=l,I=c,O=u,R=">",L=">=";break;case"<":A=u,I=d,O=l,R="<",L="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(g,m,_))return!1;for(let D=0;D<m.set.length;++D){let P=m.set[D],Z=null,V=null;if(P.forEach(W=>{W.semver===i&&(W=new n(">=0.0.0")),Z=Z||W,V=V||W,A(W.semver,Z.semver,_)?Z=W:O(W.semver,V.semver,_)&&(V=W)}),Z.operator===R||Z.operator===L||(!V.operator||V.operator===R)&&I(g,V.semver))return!1;if(V.operator===L&&O(g,V.semver))return!1}return!0},"gR");t.exports=f}),YG=dt((e,t)=>{var r=C2(),n=a((i,s,o)=>r(i,s,">",o),"yR");t.exports=n}),$G=dt((e,t)=>{var r=C2(),n=a((i,s,o)=>r(i,s,"<",o),"xR");t.exports=n}),QG=dt((e,t)=>{var r=ka(),n=a((i,s,o)=>(i=new r(i,o),s=new r(s,o),i.intersects(s,o)),"pR");t.exports=n}),WG=dt((e,t)=>{var r=Wp(),n=Sa();t.exports=(i,s,o)=>{let l=[],u=null,c=null,d=i.sort((y,_)=>n(y,_,o));for(let y of d)r(y,s,o)?(c=y,!u&&(u=y)):(c&&l.push([u,c]),c=null,u=null);u&&l.push([u,null]);let f=[];for(let[y,_]of l)y===_?f.push(y):!_&&y===d[0]?f.push("*"):_?y===d[0]?f.push(`<=${_}`):f.push(`${y} - ${_}`):f.push(`>=${y}`);let g=f.join(" || "),m=typeof s.raw=="string"?s.raw:String(s);return g.length<m.length?g:s}}),XG=dt((e,t)=>{var r=ka(),n=Qp(),{ANY:i}=n,s=Wp(),o=Sa(),l=a((m,y,_={})=>{if(m===y)return!0;m=new r(m,_),y=new r(y,_);let A=!1;e:for(let I of m.set){for(let O of y.set){let R=d(I,O,_);if(A=A||R!==null,R)continue e}if(A)return!1}return!0},"dR"),u=[new n(">=0.0.0-0")],c=[new n(">=0.0.0")],d=a((m,y,_)=>{if(m===y)return!0;if(m.length===1&&m[0].semver===i){if(y.length===1&&y[0].semver===i)return!0;_.includePrerelease?m=u:m=c}if(y.length===1&&y[0].semver===i){if(_.includePrerelease)return!0;y=c}let A=new Set,I,O;for(let F of m)F.operator===">"||F.operator===">="?I=f(I,F,_):F.operator==="<"||F.operator==="<="?O=g(O,F,_):A.add(F.semver);if(A.size>1)return null;let R;if(I&&O){if(R=o(I.semver,O.semver,_),R>0)return null;if(R===0&&(I.operator!==">="||O.operator!=="<="))return null}for(let F of A){if(I&&!s(F,String(I),_)||O&&!s(F,String(O),_))return null;for(let Y of y)if(!s(F,String(Y),_))return!1;return!0}let L,D,P,Z,V=O&&!_.includePrerelease&&O.semver.prerelease.length?O.semver:!1,W=I&&!_.includePrerelease&&I.semver.prerelease.length?I.semver:!1;V&&V.prerelease.length===1&&O.operator==="<"&&V.prerelease[0]===0&&(V=!1);for(let F of y){if(Z=Z||F.operator===">"||F.operator===">=",P=P||F.operator==="<"||F.operator==="<=",I){if(W&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===W.major&&F.semver.minor===W.minor&&F.semver.patch===W.patch&&(W=!1),F.operator===">"||F.operator===">="){if(L=f(I,F,_),L===F&&L!==I)return!1}else if(I.operator===">="&&!s(I.semver,String(F),_))return!1}if(O){if(V&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===V.major&&F.semver.minor===V.minor&&F.semver.patch===V.patch&&(V=!1),F.operator==="<"||F.operator==="<="){if(D=g(O,F,_),D===F&&D!==O)return!1}else if(O.operator==="<="&&!s(O.semver,String(F),_))return!1}if(!F.operator&&(O||I)&&R!==0)return!1}return!(I&&P&&!O&&R!==0||O&&Z&&!I&&R!==0||W||V)},"rR"),f=a((m,y,_)=>{if(!m)return y;let A=o(m.semver,y.semver,_);return A>0?m:A<0||y.operator===">"&&m.operator===">="?y:m},"jX"),g=a((m,y,_)=>{if(!m)return y;let A=o(m.semver,y.semver,_);return A<0?m:A>0||y.operator==="<"&&m.operator==="<="?y:m},"vX");t.exports=l}),JG=dt((e,t)=>{var r=uf(),n=Zp(),i=ni(),s=fT(),o=Bu(),l=NG(),u=IG(),c=CG(),d=MG(),f=OG(),g=RG(),m=LG(),y=DG(),_=Sa(),A=jG(),I=PG(),O=A2(),R=zG(),L=BG(),D=$p(),P=T2(),Z=hT(),V=pT(),W=N2(),F=I2(),Y=mT(),h=FG(),w=Qp(),b=ka(),x=Wp(),E=HG(),T=GG(),N=VG(),k=KG(),p=ZG(),S=C2(),C=YG(),M=$G(),U=QG(),B=WG(),G=XG();t.exports={parse:o,valid:l,clean:u,inc:c,diff:d,major:f,minor:g,patch:m,prerelease:y,compare:_,rcompare:A,compareLoose:I,compareBuild:O,sort:R,rsort:L,gt:D,lt:P,eq:Z,neq:V,gte:W,lte:F,cmp:Y,coerce:h,Comparator:w,Range:b,satisfies:x,toComparators:E,maxSatisfying:T,minSatisfying:N,minVersion:k,validRange:p,outside:S,gtr:C,ltr:M,intersects:U,simplifyRange:B,subset:G,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}}),qG=dt((e,t)=>{var r=a((s=0)=>o=>`\x1B[${38+s};5;${o}m`,"bX"),n=a((s=0)=>(o,l,u)=>`\x1B[${38+s};2;${o};${l};${u}m`,"yX");function i(){let s=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(let[l,u]of Object.entries(o)){for(let[c,d]of Object.entries(u))o[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},u[c]=o[c],s.set(d[0],d[1]);Object.defineProperty(o,l,{value:u,enumerable:!1})}return Object.defineProperty(o,"codes",{value:s,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=r(),o.color.ansi16m=n(),o.bgColor.ansi256=r(10),o.bgColor.ansi16m=n(10),Object.defineProperties(o,{rgbToAnsi256:{value:a((l,u,c)=>l===u&&u===c?l<8?16:l>248?231:Math.round((l-8)/247*24)+232:16+36*Math.round(l/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),"value"),enumerable:!1},hexToRgb:{value:a(l=>{let u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(l.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));let d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},"value"),enumerable:!1},hexToAnsi256:{value:a(l=>o.rgbToAnsi256(...o.hexToRgb(l)),"value"),enumerable:!1}}),o}a(i,"UI"),Object.defineProperty(t,"exports",{enumerable:!0,get:i})}),eV=dt(e=>{e.byteLength=u,e.toByteArray=d,e.fromByteArray=m;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=i.length;s<o;++s)t[s]=i[s],r[i.charCodeAt(s)]=s;var s,o;r[45]=62,r[95]=63;function l(y){var _=y.length;if(_%4>0)throw Error("Invalid string. Length must be a multiple of 4");var A=y.indexOf("=");A===-1&&(A=_);var I=A===_?0:4-A%4;return[A,I]}a(l,"Ak");function u(y){var _=l(y),A=_[0],I=_[1];return(A+I)*3/4-I}a(u,"wu");function c(y,_,A){return(_+A)*3/4-A}a(c,"fu");function d(y){var _,A=l(y),I=A[0],O=A[1],R=new n(c(y,I,O)),L=0,D=O>0?I-4:I,P;for(P=0;P<D;P+=4)_=r[y.charCodeAt(P)]<<18|r[y.charCodeAt(P+1)]<<12|r[y.charCodeAt(P+2)]<<6|r[y.charCodeAt(P+3)],R[L++]=_>>16&255,R[L++]=_>>8&255,R[L++]=_&255;return O===2&&(_=r[y.charCodeAt(P)]<<2|r[y.charCodeAt(P+1)]>>4,R[L++]=_&255),O===1&&(_=r[y.charCodeAt(P)]<<10|r[y.charCodeAt(P+1)]<<4|r[y.charCodeAt(P+2)]>>2,R[L++]=_>>8&255,R[L++]=_&255),R}a(d,"Zu");function f(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}a(f,"Xu");function g(y,_,A){for(var I,O=[],R=_;R<A;R+=3)I=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(y[R+2]&255),O.push(f(I));return O.join("")}a(g,"Au");function m(y){for(var _,A=y.length,I=A%3,O=[],R=16383,L=0,D=A-I;L<D;L+=R)O.push(g(y,L,L+R>D?D:L+R));return I===1?(_=y[A-1],O.push(t[_>>2]+t[_<<4&63]+"==")):I===2&&(_=(y[A-2]<<8)+y[A-1],O.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),O.join("")}a(m,"ku")}),wi=dt(e=>{e.__esModule=!0,e.extend=s,e.indexOf=c,e.escapeExpression=d,e.isEmpty=f,e.createFrame=g,e.blockParams=m,e.appendContextPath=y;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,n=/[&<>"'`=]/;function i(_){return t[_]}a(i,"xu");function s(_){for(var A=1;A<arguments.length;A++)for(var I in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],I)&&(_[I]=arguments[A][I]);return _}a(s,"Sk");var o=Object.prototype.toString;e.toString=o;var l=a(function(_){return typeof _=="function"},"ez");l(/x/)&&(e.isFunction=l=a(function(_){return typeof _=="function"&&o.call(_)==="[object Function]"},"ez")),e.isFunction=l;var u=Array.isArray||function(_){return _&&typeof _=="object"?o.call(_)==="[object Array]":!1};e.isArray=u;function c(_,A){for(var I=0,O=_.length;I<O;I++)if(_[I]===A)return I;return-1}a(c,"pu");function d(_){if(typeof _!="string"){if(_&&_.toHTML)return _.toHTML();if(_==null)return"";if(!_)return _+"";_=""+_}return n.test(_)?_.replace(r,i):_}a(d,"cu");function f(_){return!_&&_!==0?!0:!!(u(_)&&_.length===0)}a(f,"mu");function g(_){var A=s({},_);return A._parent=_,A}a(g,"du");function m(_,A){return _.path=A,_}a(m,"lu");function y(_,A){return(_?_+".":"")+A}a(y,"ru")}),Aa=dt((e,t)=>{e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(i,s){var o=s&&s.loc,l=void 0,u=void 0,c=void 0,d=void 0;o&&(l=o.start.line,u=o.end.line,c=o.start.column,d=o.end.column,i+=" - "+l+":"+c);for(var f=Error.prototype.constructor.call(this,i),g=0;g<r.length;g++)this[r[g]]=f[r[g]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{o&&(this.lineNumber=l,this.endLineNumber=u,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:d,enumerable:!0})):(this.column=c,this.endColumn=d))}catch{}}a(n,"qW"),n.prototype=Error(),e.default=n,t.exports=e.default}),tV=dt((e,t)=>{e.__esModule=!0;var r=wi();e.default=function(n){n.registerHelper("blockHelperMissing",function(i,s){var{inverse:o,fn:l}=s;if(i===!0)return l(this);if(i===!1||i==null)return o(this);if(r.isArray(i))return i.length>0?(s.ids&&(s.ids=[s.name]),n.helpers.each(i,s)):o(this);if(s.data&&s.ids){var u=r.createFrame(s.data);u.contextPath=r.appendContextPath(s.data.contextPath,s.name),s={data:u}}return l(i,s)})},t.exports=e.default}),rV=dt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"Ox");var n=wi(),i=Aa(),s=r(i);e.default=function(o){o.registerHelper("each",function(l,u){if(!u)throw new s.default("Must pass iterator to #each");var{fn:c,inverse:d}=u,f=0,g="",m=void 0,y=void 0;u.data&&u.ids&&(y=n.appendContextPath(u.data.contextPath,u.ids[0])+"."),n.isFunction(l)&&(l=l.call(this)),u.data&&(m=n.createFrame(u.data));function _(L,D,P){m&&(m.key=L,m.index=D,m.first=D===0,m.last=!!P,y&&(m.contextPath=y+L)),g=g+c(l[L],{data:m,blockParams:n.blockParams([l[L],L],[y+L,null])})}if(a(_,"T"),l&&typeof l=="object")if(n.isArray(l))for(var A=l.length;f<A;f++)f in l&&_(f,f,f===l.length-1);else if(typeof Symbol=="function"&&l[Symbol.iterator]){for(var I=[],O=l[Symbol.iterator](),R=O.next();!R.done;R=O.next())I.push(R.value);l=I;for(var A=l.length;f<A;f++)_(f,f,f===l.length-1)}else(function(){var L=void 0;Object.keys(l).forEach(function(D){L!==void 0&&_(L,f-1),L=D,f++}),L!==void 0&&_(L,f-1,!0)})();return f===0&&(g=d(this)),g})},t.exports=e.default}),nV=dt((e,t)=>{e.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}a(r,"Wx");var n=Aa(),i=r(n);e.default=function(s){s.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default}),iV=dt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"fx");var n=wi(),i=Aa(),s=r(i);e.default=function(o){o.registerHelper("if",function(l,u){if(arguments.length!=2)throw new s.default("#if requires exactly one argument");return n.isFunction(l)&&(l=l.call(this)),!u.hash.includeZero&&!l||n.isEmpty(l)?u.inverse(this):u.fn(this)}),o.registerHelper("unless",function(l,u){if(arguments.length!=2)throw new s.default("#unless requires exactly one argument");return o.helpers.if.call(this,l,{fn:u.inverse,inverse:u.fn,hash:u.hash})})},t.exports=e.default}),aV=dt((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],i=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)n.push(arguments[s]);var o=1;i.hash.level!=null?o=i.hash.level:i.data&&i.data.level!=null&&(o=i.data.level),n[0]=o,r.log.apply(r,n)})},t.exports=e.default}),sV=dt((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,i,s){return n&&s.lookupProperty(n,i)})},t.exports=e.default}),oV=dt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}a(r,"Mx");var n=wi(),i=Aa(),s=r(i);e.default=function(o){o.registerHelper("with",function(l,u){if(arguments.length!=2)throw new s.default("#with requires exactly one argument");n.isFunction(l)&&(l=l.call(this));var c=u.fn;if(n.isEmpty(l))return u.inverse(this);var d=u.data;return u.data&&u.ids&&(d=n.createFrame(u.data),d.contextPath=n.appendContextPath(u.data.contextPath,u.ids[0])),c(l,{data:d,blockParams:n.blockParams([l],[d&&d.contextPath])})})},t.exports=e.default}),gT=dt(e=>{e.__esModule=!0,e.registerDefaultHelpers=A,e.moveHelperToHooks=I;function t(O){return O&&O.__esModule?O:{default:O}}a(t,"hK");var r=tV(),n=t(r),i=rV(),s=t(i),o=nV(),l=t(o),u=iV(),c=t(u),d=aV(),f=t(d),g=sV(),m=t(g),y=oV(),_=t(y);function A(O){n.default(O),s.default(O),l.default(O),c.default(O),f.default(O),m.default(O),_.default(O)}a(A,"rx");function I(O,R,L){O.helpers[R]&&(O.hooks[R]=O.helpers[R],!L&&delete O.helpers[R])}a(I,"ox")}),lV=dt((e,t)=>{e.__esModule=!0;var r=wi();e.default=function(n){n.registerDecorator("inline",function(i,s,o,l){var u=i;return s.partials||(s.partials={},u=a(function(c,d){var f=o.partials;o.partials=r.extend({},f,s.partials);var g=i(c,d);return o.partials=f,g},"O")),s.partials[l.args[0]]=l.fn,u})},t.exports=e.default}),uV=dt(e=>{e.__esModule=!0,e.registerDefaultDecorators=i;function t(s){return s&&s.__esModule?s:{default:s}}a(t,"Qx");var r=lV(),n=t(r);function i(s){n.default(s)}a(i,"$p")}),bT=dt((e,t)=>{e.__esModule=!0;var r=wi(),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:a(function(i){if(typeof i=="string"){var s=r.indexOf(n.methodMap,i.toLowerCase());s>=0?i=s:i=parseInt(i,10)}return i},"lookupLevel"),log:a(function(i){if(i=n.lookupLevel(i),typeof console<"u"&&n.lookupLevel(n.level)<=i){var s=n.methodMap[i];console[s]||(s="log");for(var o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];console[s].apply(console,l)}},"log")};e.default=n,t.exports=e.default}),cV=dt(e=>{e.__esModule=!0,e.createNewLookupObject=r;var t=wi();function r(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.extend.apply(void 0,[Object.create(null)].concat(i))}a(r,"vp")}),vT=dt(e=>{e.__esModule=!0,e.createProtoAccessControl=o,e.resultIsAllowed=l,e.resetLoggedProperties=d;function t(f){return f&&f.__esModule?f:{default:f}}a(t,"Hp");var r=cV(),n=bT(),i=t(n),s=Object.create(null);function o(f){var g=Object.create(null);g.constructor=!1,g.__defineGetter__=!1,g.__defineSetter__=!1,g.__lookupGetter__=!1;var m=Object.create(null);return m.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(m,f.allowedProtoProperties),defaultValue:f.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(g,f.allowedProtoMethods),defaultValue:f.allowProtoMethodsByDefault}}}a(o,"fp");function l(f,g,m){return u(typeof f=="function"?g.methods:g.properties,m)}a(l,"Zp");function u(f,g){return f.whitelist[g]!==void 0?f.whitelist[g]===!0:f.defaultValue!==void 0?f.defaultValue:(c(g),!1)}a(u,"KG");function c(f){s[f]!==!0&&(s[f]=!0,i.default.log("error",'Handlebars: Access has been denied to resolve the property "'+f+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}a(c,"Xp");function d(){Object.keys(s).forEach(function(f){delete s[f]})}a(d,"Ap")}),M2=dt(e=>{e.__esModule=!0,e.HandlebarsEnvironment=_;function t(I){return I&&I.__esModule?I:{default:I}}a(t,"PG");var r=wi(),n=Aa(),i=t(n),s=gT(),o=uV(),l=bT(),u=t(l),c=vT(),d="4.7.8";e.VERSION=d;var f=8;e.COMPILER_REVISION=f;var g=7;e.LAST_COMPATIBLE_COMPILER_REVISION=g;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};e.REVISION_CHANGES=m;var y="[object Object]";function _(I,O,R){this.helpers=I||{},this.partials=O||{},this.decorators=R||{},s.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}a(_,"vW"),_.prototype={constructor:_,logger:u.default,log:u.default.log,registerHelper:a(function(I,O){if(r.toString.call(I)===y){if(O)throw new i.default("Arg not supported with multiple helpers");r.extend(this.helpers,I)}else this.helpers[I]=O},"registerHelper"),unregisterHelper:a(function(I){delete this.helpers[I]},"unregisterHelper"),registerPartial:a(function(I,O){if(r.toString.call(I)===y)r.extend(this.partials,I);else{if(typeof O>"u")throw new i.default('Attempting to register a partial called "'+I+'" as undefined');this.partials[I]=O}},"registerPartial"),unregisterPartial:a(function(I){delete this.partials[I]},"unregisterPartial"),registerDecorator:a(function(I,O){if(r.toString.call(I)===y){if(O)throw new i.default("Arg not supported with multiple decorators");r.extend(this.decorators,I)}else this.decorators[I]=O},"registerDecorator"),unregisterDecorator:a(function(I){delete this.decorators[I]},"unregisterDecorator"),resetLoggedPropertyAccesses:a(function(){c.resetLoggedProperties()},"resetLoggedPropertyAccesses")};var A=u.default.log;e.log=A,e.createFrame=r.createFrame,e.logger=u.default}),dV=dt((e,t)=>{e.__esModule=!0;function r(n){this.string=n}a(r,"zW"),r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default}),fV=dt(e=>{e.__esModule=!0,e.wrapHelper=t;function t(r,n){if(typeof r!="function")return r;var i=a(function(){var s=arguments[arguments.length-1];return arguments[arguments.length-1]=n(s),r.apply(this,arguments)},"_");return i}a(t,"Bp")}),hV=dt(e=>{e.__esModule=!0,e.checkRevision=f,e.template=g,e.wrapProgram=m,e.resolvePartial=y,e.invokePartial=_,e.noop=A;function t(D){return D&&D.__esModule?D:{default:D}}a(t,"ap");function r(D){if(D&&D.__esModule)return D;var P={};if(D!=null)for(var Z in D)Object.prototype.hasOwnProperty.call(D,Z)&&(P[Z]=D[Z]);return P.default=D,P}a(r,"Qp");var n=wi(),i=r(n),s=Aa(),o=t(s),l=M2(),u=gT(),c=fV(),d=vT();function f(D){var P=D&&D[0]||1,Z=l.COMPILER_REVISION;if(!(P>=l.LAST_COMPATIBLE_COMPILER_REVISION&&P<=l.COMPILER_REVISION))if(P<l.LAST_COMPATIBLE_COMPILER_REVISION){var V=l.REVISION_CHANGES[Z],W=l.REVISION_CHANGES[P];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+V+") or downgrade your runtime to an older version ("+W+").")}else throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+D[1]+").")}a(f,"qc");function g(D,P){if(!P)throw new o.default("No environment passed to template");if(!D||!D.main)throw new o.default("Unknown template object: "+typeof D);D.main.decorator=D.main_d,P.VM.checkRevision(D.compiler);var Z=D.compiler&&D.compiler[0]===7;function V(Y,h,w){w.hash&&(h=i.extend({},h,w.hash),w.ids&&(w.ids[0]=!0)),Y=P.VM.resolvePartial.call(this,Y,h,w);var b=i.extend({},w,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),x=P.VM.invokePartial.call(this,Y,h,b);if(x==null&&P.compile&&(w.partials[w.name]=P.compile(Y,D.compilerOptions,P),x=w.partials[w.name](h,b)),x!=null){if(w.indent){for(var E=x.split(`
`),T=0,N=E.length;T<N&&!(!E[T]&&T+1===N);T++)E[T]=w.indent+E[T];x=E.join(`
`)}return x}else throw new o.default("The partial "+w.name+" could not be compiled when running in runtime-only mode")}a(V,"K");var W={strict:a(function(Y,h,w){if(!Y||!(h in Y))throw new o.default('"'+h+'" not defined in '+Y,{loc:w});return W.lookupProperty(Y,h)},"strict"),lookupProperty:a(function(Y,h){var w=Y[h];if(w==null||Object.prototype.hasOwnProperty.call(Y,h)||d.resultIsAllowed(w,W.protoAccessControl,h))return w},"lookupProperty"),lookup:a(function(Y,h){for(var w=Y.length,b=0;b<w;b++){var x=Y[b]&&W.lookupProperty(Y[b],h);if(x!=null)return Y[b][h]}},"lookup"),lambda:a(function(Y,h){return typeof Y=="function"?Y.call(h):Y},"lambda"),escapeExpression:i.escapeExpression,invokePartial:V,fn:a(function(Y){var h=D[Y];return h.decorator=D[Y+"_d"],h},"fn"),programs:[],program:a(function(Y,h,w,b,x){var E=this.programs[Y],T=this.fn(Y);return h||x||b||w?E=m(this,Y,T,h,w,b,x):E||(E=this.programs[Y]=m(this,Y,T)),E},"program"),data:a(function(Y,h){for(;Y&&h--;)Y=Y._parent;return Y},"data"),mergeIfNeeded:a(function(Y,h){var w=Y||h;return Y&&h&&Y!==h&&(w=i.extend({},h,Y)),w},"mergeIfNeeded"),nullContext:Object.seal({}),noop:P.VM.noop,compilerInfo:D.compiler};function F(Y){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],w=h.data;F._setup(h),!h.partial&&D.useData&&(w=I(Y,w));var b=void 0,x=D.useBlockParams?[]:void 0;D.useDepths&&(h.depths?b=Y!=h.depths[0]?[Y].concat(h.depths):h.depths:b=[Y]);function E(T){return""+D.main(W,T,W.helpers,W.partials,w,x,b)}return a(E,"w"),E=O(D.main,E,W,h.depths||[],w,x),E(Y,h)}return a(F,"O"),F.isTop=!0,F._setup=function(Y){if(Y.partial)W.protoAccessControl=Y.protoAccessControl,W.helpers=Y.helpers,W.partials=Y.partials,W.decorators=Y.decorators,W.hooks=Y.hooks;else{var h=i.extend({},P.helpers,Y.helpers);R(h,W),W.helpers=h,D.usePartial&&(W.partials=W.mergeIfNeeded(Y.partials,P.partials)),(D.usePartial||D.useDecorators)&&(W.decorators=i.extend({},P.decorators,Y.decorators)),W.hooks={},W.protoAccessControl=d.createProtoAccessControl(Y);var w=Y.allowCallsToHelperMissing||Z;u.moveHelperToHooks(W,"helperMissing",w),u.moveHelperToHooks(W,"blockHelperMissing",w)}},F._child=function(Y,h,w,b){if(D.useBlockParams&&!w)throw new o.default("must pass block params");if(D.useDepths&&!b)throw new o.default("must pass parent depths");return m(W,Y,D[Y],h,0,w,b)},F}a(g,"_c");function m(D,P,Z,V,W,F,Y){function h(w){var b=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],x=Y;return Y&&w!=Y[0]&&!(w===D.nullContext&&Y[0]===null)&&(x=[w].concat(Y)),Z(D,w,D.helpers,D.partials,b.data||V,F&&[b.blockParams].concat(F),x)}return a(h,"z"),h=O(Z,h,D,Y,V,F),h.program=P,h.depth=Y?Y.length:0,h.blockParams=W||0,h}a(m,"g5");function y(D,P,Z){return D?!D.call&&!Z.name&&(Z.name=D,D=Z.partials[D]):Z.name==="@partial-block"?D=Z.data["partial-block"]:D=Z.partials[Z.name],D}a(y,"Kc");function _(D,P,Z){var V=Z.data&&Z.data["partial-block"];Z.partial=!0,Z.ids&&(Z.data.contextPath=Z.ids[0]||Z.data.contextPath);var W=void 0;if(Z.fn&&Z.fn!==A&&(function(){Z.data=l.createFrame(Z.data);var F=Z.fn;W=Z.data["partial-block"]=function(Y){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return h.data=l.createFrame(h.data),h.data["partial-block"]=V,F(Y,h)},F.partials&&(Z.partials=i.extend({},Z.partials,F.partials))})(),D===void 0&&W&&(D=W),D===void 0)throw new o.default("The partial "+Z.name+" could not be found");if(D instanceof Function)return D(P,Z)}a(_,"Pc");function A(){return""}a(A,"JG");function I(D,P){return(!P||!("root"in P))&&(P=P?l.createFrame(P):{},P.root=D),P}a(I,"Oc");function O(D,P,Z,V,W,F){if(D.decorator){var Y={};P=D.decorator(P,Y,Z,V&&V[0],W,F,V),i.extend(P,Y)}return P}a(O,"HG");function R(D,P){Object.keys(D).forEach(function(Z){var V=D[Z];D[Z]=L(V,P)})}a(R,"Yc");function L(D,P){var Z=P.lookupProperty;return c.wrapHelper(D,function(V){return i.extend({lookupProperty:Z},V)})}a(L,"jc")}),yT=dt((e,t)=>{e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},t.exports=e.default}),pV=dt((e,t)=>{e.__esModule=!0;function r(O){return O&&O.__esModule?O:{default:O}}a(r,"HW");function n(O){if(O&&O.__esModule)return O;var R={};if(O!=null)for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(R[L]=O[L]);return R.default=O,R}a(n,"TW");var i=M2(),s=n(i),o=dV(),l=r(o),u=Aa(),c=r(u),d=wi(),f=n(d),g=hV(),m=n(g),y=yT(),_=r(y);function A(){var O=new s.HandlebarsEnvironment;return f.extend(O,s),O.SafeString=l.default,O.Exception=c.default,O.Utils=f,O.escapeExpression=f.escapeExpression,O.VM=m,O.template=function(R){return m.template(R,O)},O}a(A,"AG");var I=A();I.create=A,_.default(I),I.default=I,e.default=I,t.exports=e.default}),wT=dt((e,t)=>{e.__esModule=!0;var r={helpers:{helperExpression:a(function(n){return n.type==="SubExpression"||(n.type==="MustacheStatement"||n.type==="BlockStatement")&&!!(n.params&&n.params.length||n.hash)},"helperExpression"),scopedId:a(function(n){return/^\.|this\b/.test(n.original)},"scopedId"),simpleId:a(function(n){return n.parts.length===1&&!r.helpers.scopedId(n)&&!n.depth},"simpleId")}};e.default=r,t.exports=e.default}),mV=dt((e,t)=>{e.__esModule=!0;var r=(function(){var n={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:a(function(o,l,u,c,d,f,g){var m=f.length-1;switch(d){case 1:return f[m-1];case 2:this.$=c.prepareProgram(f[m]);break;case 3:this.$=f[m];break;case 4:this.$=f[m];break;case 5:this.$=f[m];break;case 6:this.$=f[m];break;case 7:this.$=f[m];break;case 8:this.$=f[m];break;case 9:this.$={type:"CommentStatement",value:c.stripComment(f[m]),strip:c.stripFlags(f[m],f[m]),loc:c.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[m],value:f[m],loc:c.locInfo(this._$)};break;case 11:this.$=c.prepareRawBlock(f[m-2],f[m-1],f[m],this._$);break;case 12:this.$={path:f[m-3],params:f[m-2],hash:f[m-1]};break;case 13:this.$=c.prepareBlock(f[m-3],f[m-2],f[m-1],f[m],!1,this._$);break;case 14:this.$=c.prepareBlock(f[m-3],f[m-2],f[m-1],f[m],!0,this._$);break;case 15:this.$={open:f[m-5],path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 16:this.$={path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 17:this.$={path:f[m-4],params:f[m-3],hash:f[m-2],blockParams:f[m-1],strip:c.stripFlags(f[m-5],f[m])};break;case 18:this.$={strip:c.stripFlags(f[m-1],f[m-1]),program:f[m]};break;case 19:var y=c.prepareBlock(f[m-2],f[m-1],f[m],f[m],!1,this._$),_=c.prepareProgram([y],f[m-1].loc);_.chained=!0,this.$={strip:f[m-2].strip,program:_,chain:!0};break;case 20:this.$=f[m];break;case 21:this.$={path:f[m-1],strip:c.stripFlags(f[m-2],f[m])};break;case 22:this.$=c.prepareMustache(f[m-3],f[m-2],f[m-1],f[m-4],c.stripFlags(f[m-4],f[m]),this._$);break;case 23:this.$=c.prepareMustache(f[m-3],f[m-2],f[m-1],f[m-4],c.stripFlags(f[m-4],f[m]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[m-3],params:f[m-2],hash:f[m-1],indent:"",strip:c.stripFlags(f[m-4],f[m]),loc:c.locInfo(this._$)};break;case 25:this.$=c.preparePartialBlock(f[m-2],f[m-1],f[m],this._$);break;case 26:this.$={path:f[m-3],params:f[m-2],hash:f[m-1],strip:c.stripFlags(f[m-4],f[m])};break;case 27:this.$=f[m];break;case 28:this.$=f[m];break;case 29:this.$={type:"SubExpression",path:f[m-3],params:f[m-2],hash:f[m-1],loc:c.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[m],loc:c.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:c.id(f[m-2]),value:f[m],loc:c.locInfo(this._$)};break;case 32:this.$=c.id(f[m-1]);break;case 33:this.$=f[m];break;case 34:this.$=f[m];break;case 35:this.$={type:"StringLiteral",value:f[m],original:f[m],loc:c.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[m]),original:Number(f[m]),loc:c.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:f[m]==="true",original:f[m]==="true",loc:c.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:c.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:c.locInfo(this._$)};break;case 40:this.$=f[m];break;case 41:this.$=f[m];break;case 42:this.$=c.preparePath(!0,f[m],this._$);break;case 43:this.$=c.preparePath(!1,f[m],this._$);break;case 44:f[m-2].push({part:c.id(f[m]),original:f[m],separator:f[m-1]}),this.$=f[m-2];break;case 45:this.$=[{part:c.id(f[m]),original:f[m]}];break;case 46:this.$=[];break;case 47:f[m-1].push(f[m]);break;case 48:this.$=[];break;case 49:f[m-1].push(f[m]);break;case 50:this.$=[];break;case 51:f[m-1].push(f[m]);break;case 58:this.$=[];break;case 59:f[m-1].push(f[m]);break;case 64:this.$=[];break;case 65:f[m-1].push(f[m]);break;case 70:this.$=[];break;case 71:f[m-1].push(f[m]);break;case 78:this.$=[];break;case 79:f[m-1].push(f[m]);break;case 82:this.$=[];break;case 83:f[m-1].push(f[m]);break;case 86:this.$=[];break;case 87:f[m-1].push(f[m]);break;case 90:this.$=[];break;case 91:f[m-1].push(f[m]);break;case 94:this.$=[];break;case 95:f[m-1].push(f[m]);break;case 98:this.$=[f[m]];break;case 99:f[m-1].push(f[m]);break;case 100:this.$=[f[m]];break;case 101:f[m-1].push(f[m]);break}},"performAction"),table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:a(function(o,l){throw Error(o)},"parseError"),parse:a(function(o){var l=this,u=[0],c=[null],d=[],f=this.table,g="",m=0,y=0,_=0;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var A=this.lexer.yylloc;d.push(A);var I=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function O(){var w=l.lexer.lex()||1;return typeof w!="number"&&(w=l.symbols_[w]||w),w}a(O,"L");for(var R,L,D,P,Z={},V,W,F,Y;;){if(L=u[u.length-1],this.defaultActions[L]?D=this.defaultActions[L]:((R===null||typeof R>"u")&&(R=O()),D=f[L]&&f[L][R]),typeof D>"u"||!D.length||!D[0]){var h="";{Y=[];for(V in f[L])this.terminals_[V]&&V>2&&Y.push("'"+this.terminals_[V]+"'");this.lexer.showPosition?h="Parse error on line "+(m+1)+`:
`+this.lexer.showPosition()+`
Expecting `+Y.join(", ")+", got '"+(this.terminals_[R]||R)+"'":h="Parse error on line "+(m+1)+": Unexpected "+(R==1?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(h,{text:this.lexer.match,token:this.terminals_[R]||R,line:this.lexer.yylineno,loc:A,expected:Y})}}if(D[0]instanceof Array&&D.length>1)throw Error("Parse Error: multiple actions possible at state: "+L+", token: "+R);switch(D[0]){case 1:u.push(R),c.push(this.lexer.yytext),d.push(this.lexer.yylloc),u.push(D[1]),R=null,y=this.lexer.yyleng,g=this.lexer.yytext,m=this.lexer.yylineno,A=this.lexer.yylloc,_>0;break;case 2:if(W=this.productions_[D[1]][1],Z.$=c[c.length-W],Z._$={first_line:d[d.length-(W||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(W||1)].first_column,last_column:d[d.length-1].last_column},I&&(Z._$.range=[d[d.length-(W||1)].range[0],d[d.length-1].range[1]]),P=this.performAction.call(Z,g,y,m,this.yy,D[1],c,d),typeof P<"u")return P;W&&(u=u.slice(0,-1*W*2),c=c.slice(0,-1*W),d=d.slice(0,-1*W)),u.push(this.productions_[D[1]][0]),c.push(Z.$),d.push(Z._$),F=f[u[u.length-2]][u[u.length-1]],u.push(F);break;case 3:return!0}}return!0},"parse")},i=(function(){var o={EOF:1,parseError:a(function(l,u){if(this.yy.parser)this.yy.parser.parseError(l,u);else throw Error(l)},"parseError"),setInput:a(function(l){return this._input=l,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:a(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:a(function(l){var u=l.length,c=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u-1),this.offset-=u;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-u]),this},"unput"),more:a(function(){return this._more=!0,this},"more"),less:a(function(l){this.unput(this.match.slice(l))},"less"),pastInput:a(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:a(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:a(function(){var l=this.pastInput(),u=Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),next:a(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,c,d,f;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),m=0;m<g.length&&(c=this._input.match(this.rules[g[m]]),!(c&&(!u||c[0].length>u[0].length)&&(u=c,d=m,!this.options.flex)));m++);return u?(f=u[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],l=this.performAction.call(this,this.yy,this,g[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:a(function(){var l=this.next();return typeof l<"u"?l:this.lex()},"lex"),begin:a(function(l){this.conditionStack.push(l)},"begin"),popState:a(function(){return this.conditionStack.pop()},"popState"),_currentRules:a(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:a(function(){return this.conditionStack[this.conditionStack.length-2]},"topState"),pushState:a(function(l){this.begin(l)},"pushState")};return o.options={},o.performAction=function(l,u,c,d){function f(g,m){return u.yytext=u.yytext.substring(g,u.yyleng-m+g)}switch(a(f,"T"),c){case 0:if(u.yytext.slice(-2)==="\\\\"?(f(0,1),this.begin("mu")):u.yytext.slice(-1)==="\\"?(f(0,1),this.begin("emu")):this.begin("mu"),u.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(f(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(u.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return u.yytext=f(1,2).replace(/\\"/g,'"'),80;case 32:return u.yytext=f(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return u.yytext=u.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},o.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],o.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},o})();n.lexer=i;function s(){this.yy={}}return a(s,"_"),s.prototype=n,n.Parser=s,new s})();e.default=r,t.exports=e.default}),O2=dt((e,t)=>{e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}a(r,"yc");var n=Aa(),i=r(n);function s(){this.parents=[]}a(s,"b5"),s.prototype={constructor:s,mutating:!1,acceptKey:a(function(c,d){var f=this.accept(c[d]);if(this.mutating){if(f&&!s.prototype[f.type])throw new i.default('Unexpected node type "'+f.type+'" found when accepting '+d+" on "+c.type);c[d]=f}},"acceptKey"),acceptRequired:a(function(c,d){if(this.acceptKey(c,d),!c[d])throw new i.default(c.type+" requires "+d)},"acceptRequired"),acceptArray:a(function(c){for(var d=0,f=c.length;d<f;d++)this.acceptKey(c,d),!c[d]&&(c.splice(d,1),d--,f--)},"acceptArray"),accept:a(function(c){if(c){if(!this[c.type])throw new i.default("Unknown type: "+c.type,c);this.current&&this.parents.unshift(this.current),this.current=c;var d=this[c.type](c);if(this.current=this.parents.shift(),!this.mutating||d)return d;if(d!==!1)return c}},"accept"),Program:a(function(c){this.acceptArray(c.body)},"Program"),MustacheStatement:o,Decorator:o,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:a(function(c){u.call(this,c),this.acceptKey(c,"program")},"PartialBlockStatement"),ContentStatement:a(function(){},"ContentStatement"),CommentStatement:a(function(){},"CommentStatement"),SubExpression:o,PathExpression:a(function(){},"PathExpression"),StringLiteral:a(function(){},"StringLiteral"),NumberLiteral:a(function(){},"NumberLiteral"),BooleanLiteral:a(function(){},"BooleanLiteral"),UndefinedLiteral:a(function(){},"UndefinedLiteral"),NullLiteral:a(function(){},"NullLiteral"),Hash:a(function(c){this.acceptArray(c.pairs)},"Hash"),HashPair:a(function(c){this.acceptRequired(c,"value")},"HashPair")};function o(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}a(o,"y5");function l(c){o.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}a(l,"RG");function u(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}a(u,"IG"),e.default=s,t.exports=e.default}),gV=dt((e,t)=>{e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}a(r,"cc");var n=O2(),i=r(n);function s(){var d=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=d}a(s,"e8"),s.prototype=new i.default,s.prototype.Program=function(d){var f=!this.options.ignoreStandalone,g=!this.isRootSeen;this.isRootSeen=!0;for(var m=d.body,y=0,_=m.length;y<_;y++){var A=m[y],I=this.accept(A);if(I){var O=o(m,y,g),R=l(m,y,g),L=I.openStandalone&&O,D=I.closeStandalone&&R,P=I.inlineStandalone&&O&&R;I.close&&u(m,y,!0),I.open&&c(m,y,!0),f&&P&&(u(m,y),c(m,y)&&A.type==="PartialStatement"&&(A.indent=/([ \t]+$)/.exec(m[y-1].original)[1])),f&&L&&(u((A.program||A.inverse).body),c(m,y)),f&&D&&(u(m,y),c((A.inverse||A.program).body))}}return d},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(d){this.accept(d.program),this.accept(d.inverse);var f=d.program||d.inverse,g=d.program&&d.inverse,m=g,y=g;if(g&&g.chained)for(m=g.body[0].program;y.chained;)y=y.body[y.body.length-1].program;var _={open:d.openStrip.open,close:d.closeStrip.close,openStandalone:l(f.body),closeStandalone:o((m||f).body)};if(d.openStrip.close&&u(f.body,null,!0),g){var A=d.inverseStrip;A.open&&c(f.body,null,!0),A.close&&u(m.body,null,!0),d.closeStrip.open&&c(y.body,null,!0),!this.options.ignoreStandalone&&o(f.body)&&l(m.body)&&(c(f.body),u(m.body))}else d.closeStrip.open&&c(f.body,null,!0);return _},s.prototype.Decorator=s.prototype.MustacheStatement=function(d){return d.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(d){var f=d.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function o(d,f,g){f===void 0&&(f=d.length);var m=d[f-1],y=d[f-2];if(!m)return g;if(m.type==="ContentStatement")return(y||!g?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(m.original)}a(o,"ZW");function l(d,f,g){f===void 0&&(f=-1);var m=d[f+1],y=d[f+2];if(!m)return g;if(m.type==="ContentStatement")return(y||!g?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(m.original)}a(l,"XW");function u(d,f,g){var m=d[f==null?0:f+1];if(!(!m||m.type!=="ContentStatement"||!g&&m.rightStripped)){var y=m.value;m.value=m.value.replace(g?/^\s+/:/^[ \t]*\r?\n?/,""),m.rightStripped=m.value!==y}}a(u,"IK");function c(d,f,g){var m=d[f==null?d.length-1:f-1];if(!(!m||m.type!=="ContentStatement"||!g&&m.leftStripped)){var y=m.value;return m.value=m.value.replace(g?/\s+$/:/[ \t]+$/,""),m.leftStripped=m.value!==y,m.leftStripped}}a(c,"s_"),e.default=s,t.exports=e.default}),bV=dt(e=>{e.__esModule=!0,e.SourceLocation=s,e.id=o,e.stripFlags=l,e.stripComment=u,e.preparePath=c,e.prepareMustache=d,e.prepareRawBlock=f,e.prepareBlock=g,e.prepareProgram=m,e.preparePartialBlock=y;function t(_){return _&&_.__esModule?_:{default:_}}a(t,"oc");var r=Aa(),n=t(r);function i(_,A){if(A=A.path?A.path.original:A,_.path.original!==A){var I={loc:_.path.loc};throw new n.default(_.path.original+" doesn't match "+A,I)}}a(i,"kW");function s(_,A){this.source=_,this.start={line:A.first_line,column:A.first_column},this.end={line:A.last_line,column:A.last_column}}a(s,"ic");function o(_){return/^\[.*\]$/.test(_)?_.substring(1,_.length-1):_}a(o,"Bc");function l(_,A){return{open:_.charAt(2)==="~",close:A.charAt(A.length-3)==="~"}}a(l,"tc");function u(_){return _.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}a(u,"Uc");function c(_,A,I){I=this.locInfo(I);for(var O=_?"@":"",R=[],L=0,D=0,P=A.length;D<P;D++){var Z=A[D].part,V=A[D].original!==Z;if(O+=(A[D].separator||"")+Z,!V&&(Z===".."||Z==="."||Z==="this")){if(R.length>0)throw new n.default("Invalid path: "+O,{loc:I});Z===".."&&L++}else R.push(Z)}return{type:"PathExpression",data:_,depth:L,parts:R,original:O,loc:I}}a(c,"Fc");function d(_,A,I,O,R,L){var D=O.charAt(3)||O.charAt(2),P=D!=="{"&&D!=="&",Z=/\*/.test(O);return{type:Z?"Decorator":"MustacheStatement",path:_,params:A,hash:I,escaped:P,strip:R,loc:this.locInfo(L)}}a(d,"ac");function f(_,A,I,O){i(_,I),O=this.locInfo(O);var R={type:"Program",body:A,strip:{},loc:O};return{type:"BlockStatement",path:_.path,params:_.params,hash:_.hash,program:R,openStrip:{},inverseStrip:{},closeStrip:{},loc:O}}a(f,"Qc");function g(_,A,I,O,R,L){O&&O.path&&i(_,O);var D=/\*/.test(_.open);A.blockParams=_.blockParams;var P=void 0,Z=void 0;if(I){if(D)throw new n.default("Unexpected inverse block on decorator",I);I.chain&&(I.program.body[0].closeStrip=O.strip),Z=I.strip,P=I.program}return R&&(R=P,P=A,A=R),{type:D?"DecoratorBlock":"BlockStatement",path:_.path,params:_.params,hash:_.hash,program:A,inverse:P,openStrip:_.strip,inverseStrip:Z,closeStrip:O&&O.strip,loc:this.locInfo(L)}}a(g,"ec");function m(_,A){if(!A&&_.length){var I=_[0].loc,O=_[_.length-1].loc;I&&O&&(A={source:I.source,start:{line:I.start.line,column:I.start.column},end:{line:O.end.line,column:O.end.column}})}return{type:"Program",body:_,strip:{},loc:A}}a(m,"sc");function y(_,A,I,O){return i(_,I),{type:"PartialBlockStatement",name:_.path,params:_.params,hash:_.hash,program:A,openStrip:_.strip,closeStrip:I&&I.strip,loc:this.locInfo(O)}}a(y,"$m")}),vV=dt(e=>{e.__esModule=!0,e.parseWithoutProcessing=f,e.parse=g;function t(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(y[_]=m[_]);return y.default=m,y}a(t,"Tm");function r(m){return m&&m.__esModule?m:{default:m}}a(r,"xG");var n=mV(),i=r(n),s=gV(),o=r(s),l=bV(),u=t(l),c=wi();e.parser=i.default;var d={};c.extend(d,u);function f(m,y){if(m.type==="Program")return m;i.default.yy=d,d.locInfo=function(A){return new d.SourceLocation(y&&y.srcName,A)};var _=i.default.parse(m);return _}a(f,"pG");function g(m,y){var _=f(m,y),A=new o.default(y);return A.accept(_)}a(g,"Gm")}),yV=dt(e=>{e.__esModule=!0,e.Compiler=u,e.precompile=c,e.compile=d;function t(m){return m&&m.__esModule?m:{default:m}}a(t,"dG");var r=Aa(),n=t(r),i=wi(),s=wT(),o=t(s),l=[].slice;function u(){}a(u,"VW"),u.prototype={compiler:u,equals:a(function(m){var y=this.opcodes.length;if(m.opcodes.length!==y)return!1;for(var _=0;_<y;_++){var A=this.opcodes[_],I=m.opcodes[_];if(A.opcode!==I.opcode||!f(A.args,I.args))return!1}y=this.children.length;for(var _=0;_<y;_++)if(!this.children[_].equals(m.children[_]))return!1;return!0},"equals"),guid:0,compile:a(function(m,y){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=y,this.stringParams=y.stringParams,this.trackIds=y.trackIds,y.blockParams=y.blockParams||[],y.knownHelpers=i.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},y.knownHelpers),this.accept(m)},"compile"),compileProgram:a(function(m){var y=new this.compiler,_=y.compile(m,this.options),A=this.guid++;return this.usePartial=this.usePartial||_.usePartial,this.children[A]=_,this.useDepths=this.useDepths||_.useDepths,A},"compileProgram"),accept:a(function(m){if(!this[m.type])throw new n.default("Unknown type: "+m.type,m);this.sourceNode.unshift(m);var y=this[m.type](m);return this.sourceNode.shift(),y},"accept"),Program:a(function(m){this.options.blockParams.unshift(m.blockParams);for(var y=m.body,_=y.length,A=0;A<_;A++)this.accept(y[A]);return this.options.blockParams.shift(),this.isSimple=_===1,this.blockParams=m.blockParams?m.blockParams.length:0,this},"Program"),BlockStatement:a(function(m){g(m);var{program:y,inverse:_}=m;y=y&&this.compileProgram(y),_=_&&this.compileProgram(_);var A=this.classifySexpr(m);A==="helper"?this.helperSexpr(m,y,_):A==="simple"?(this.simpleSexpr(m),this.opcode("pushProgram",y),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("blockValue",m.path.original)):(this.ambiguousSexpr(m,y,_),this.opcode("pushProgram",y),this.opcode("pushProgram",_),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"BlockStatement"),DecoratorBlock:a(function(m){var y=m.program&&this.compileProgram(m.program),_=this.setupFullMustacheParams(m,y,void 0),A=m.path;this.useDecorators=!0,this.opcode("registerDecorator",_.length,A.original)},"DecoratorBlock"),PartialStatement:a(function(m){this.usePartial=!0;var y=m.program;y&&(y=this.compileProgram(m.program));var _=m.params;if(_.length>1)throw new n.default("Unsupported number of partial arguments: "+_.length,m);_.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):_.push({type:"PathExpression",parts:[],depth:0}));var A=m.name.original,I=m.name.type==="SubExpression";I&&this.accept(m.name),this.setupFullMustacheParams(m,y,void 0,!0);var O=m.indent||"";this.options.preventIndent&&O&&(this.opcode("appendContent",O),O=""),this.opcode("invokePartial",I,A,O),this.opcode("append")},"PartialStatement"),PartialBlockStatement:a(function(m){this.PartialStatement(m)},"PartialBlockStatement"),MustacheStatement:a(function(m){this.SubExpression(m),m.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"MustacheStatement"),Decorator:a(function(m){this.DecoratorBlock(m)},"Decorator"),ContentStatement:a(function(m){m.value&&this.opcode("appendContent",m.value)},"ContentStatement"),CommentStatement:a(function(){},"CommentStatement"),SubExpression:a(function(m){g(m);var y=this.classifySexpr(m);y==="simple"?this.simpleSexpr(m):y==="helper"?this.helperSexpr(m):this.ambiguousSexpr(m)},"SubExpression"),ambiguousSexpr:a(function(m,y,_){var A=m.path,I=A.parts[0],O=y!=null||_!=null;this.opcode("getContext",A.depth),this.opcode("pushProgram",y),this.opcode("pushProgram",_),A.strict=!0,this.accept(A),this.opcode("invokeAmbiguous",I,O)},"ambiguousSexpr"),simpleSexpr:a(function(m){var y=m.path;y.strict=!0,this.accept(y),this.opcode("resolvePossibleLambda")},"simpleSexpr"),helperSexpr:a(function(m,y,_){var A=this.setupFullMustacheParams(m,y,_),I=m.path,O=I.parts[0];if(this.options.knownHelpers[O])this.opcode("invokeKnownHelper",A.length,O);else{if(this.options.knownHelpersOnly)throw new n.default("You specified knownHelpersOnly, but used the unknown helper "+O,m);I.strict=!0,I.falsy=!0,this.accept(I),this.opcode("invokeHelper",A.length,I.original,o.default.helpers.simpleId(I))}},"helperSexpr"),PathExpression:a(function(m){this.addDepth(m.depth),this.opcode("getContext",m.depth);var y=m.parts[0],_=o.default.helpers.scopedId(m),A=!m.depth&&!_&&this.blockParamIndex(y);A?this.opcode("lookupBlockParam",A,m.parts):y?m.data?(this.options.data=!0,this.opcode("lookupData",m.depth,m.parts,m.strict)):this.opcode("lookupOnContext",m.parts,m.falsy,m.strict,_):this.opcode("pushContext")},"PathExpression"),StringLiteral:a(function(m){this.opcode("pushString",m.value)},"StringLiteral"),NumberLiteral:a(function(m){this.opcode("pushLiteral",m.value)},"NumberLiteral"),BooleanLiteral:a(function(m){this.opcode("pushLiteral",m.value)},"BooleanLiteral"),UndefinedLiteral:a(function(){this.opcode("pushLiteral","undefined")},"UndefinedLiteral"),NullLiteral:a(function(){this.opcode("pushLiteral","null")},"NullLiteral"),Hash:a(function(m){var y=m.pairs,_=0,A=y.length;for(this.opcode("pushHash");_<A;_++)this.pushParam(y[_].value);for(;_--;)this.opcode("assignToHash",y[_].key);this.opcode("popHash")},"Hash"),opcode:a(function(m){this.opcodes.push({opcode:m,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},"opcode"),addDepth:a(function(m){m&&(this.useDepths=!0)},"addDepth"),classifySexpr:a(function(m){var y=o.default.helpers.simpleId(m.path),_=y&&!!this.blockParamIndex(m.path.parts[0]),A=!_&&o.default.helpers.helperExpression(m),I=!_&&(A||y);if(I&&!A){var O=m.path.parts[0],R=this.options;R.knownHelpers[O]?A=!0:R.knownHelpersOnly&&(I=!1)}return A?"helper":I?"ambiguous":"simple"},"classifySexpr"),pushParams:a(function(m){for(var y=0,_=m.length;y<_;y++)this.pushParam(m[y])},"pushParams"),pushParam:a(function(m){var y=m.value!=null?m.value:m.original||"";if(this.stringParams)y.replace&&(y=y.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),m.depth&&this.addDepth(m.depth),this.opcode("getContext",m.depth||0),this.opcode("pushStringParam",y,m.type),m.type==="SubExpression"&&this.accept(m);else{if(this.trackIds){var _=void 0;if(m.parts&&!o.default.helpers.scopedId(m)&&!m.depth&&(_=this.blockParamIndex(m.parts[0])),_){var A=m.parts.slice(1).join(".");this.opcode("pushId","BlockParam",_,A)}else y=m.original||y,y.replace&&(y=y.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",m.type,y)}this.accept(m)}},"pushParam"),setupFullMustacheParams:a(function(m,y,_,A){var I=m.params;return this.pushParams(I),this.opcode("pushProgram",y),this.opcode("pushProgram",_),m.hash?this.accept(m.hash):this.opcode("emptyHash",A),I},"setupFullMustacheParams"),blockParamIndex:a(function(m){for(var y=0,_=this.options.blockParams.length;y<_;y++){var A=this.options.blockParams[y],I=A&&i.indexOf(A,m);if(A&&I>=0)return[y,I]}},"blockParamIndex")};function c(m,y,_){if(m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+m);y=y||{},!("data"in y)&&(y.data=!0),y.compat&&(y.useDepths=!0);var A=_.parse(m,y),I=new _.Compiler().compile(A,y);return new _.JavaScriptCompiler().compile(I,y)}a(c,"Im");function d(m,y,_){if(y===void 0&&(y={}),m==null||typeof m!="string"&&m.type!=="Program")throw new n.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+m);y=i.extend({},y),!("data"in y)&&(y.data=!0),y.compat&&(y.useDepths=!0);var A=void 0;function I(){var R=_.parse(m,y),L=new _.Compiler().compile(R,y),D=new _.JavaScriptCompiler().compile(L,y,void 0,!0);return _.template(D)}a(I,"P");function O(R,L){return A||(A=I()),A.call(this,R,L)}return a(O,"O"),O._setup=function(R){return A||(A=I()),A._setup(R)},O._child=function(R,L,D,P){return A||(A=I()),A._child(R,L,D,P)},O}a(d,"Dm");function f(m,y){if(m===y)return!0;if(i.isArray(m)&&i.isArray(y)&&m.length===y.length){for(var _=0;_<m.length;_++)if(!f(m[_],y[_]))return!1;return!0}}a(f,"lG");function g(m){if(!m.path.parts){var y=m.path;m.path={type:"PathExpression",data:!1,depth:0,parts:[y.original+""],original:y.original+"",loc:y.loc}}}a(g,"mG")}),wV=dt(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,i=90,s=97,o=122,l=48,u=57,c=43,d=47,f=26,g=52;return n<=r&&r<=i?r-n:s<=r&&r<=o?r-s+f:l<=r&&r<=u?r-l+g:r==c?62:r==d?63:-1}}),xT=dt(e=>{var t=wV(),r=5,n=1<<r,i=n-1,s=n;function o(u){return u<0?(-u<<1)+1:(u<<1)+0}a(o,"mm");function l(u){var c=(u&1)===1,d=u>>1;return c?-d:d}a(l,"dm"),e.encode=function(u){var c="",d,f=o(u);do d=f&i,f>>>=r,f>0&&(d|=s),c+=t.encode(d);while(f>0);return c},e.decode=function(u,c,d){var f=u.length,g=0,m=0,y,_;do{if(c>=f)throw Error("Expected more digits in base 64 VLQ value.");if(_=t.decode(u.charCodeAt(c++)),_===-1)throw Error("Invalid base64 digit: "+u.charAt(c-1));y=!!(_&s),_&=i,g=g+(_<<m),m+=r}while(y);d.value=l(g),d.rest=c}}),cf=dt(e=>{function t(L,D,P){if(D in L)return L[D];if(arguments.length===3)return P;throw Error('"'+D+'" is a required argument.')}a(t,"nm"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(L){var D=L.match(r);return D?{scheme:D[1],auth:D[2],host:D[3],port:D[4],path:D[5]}:null}a(i,"p7"),e.urlParse=i;function s(L){var D="";return L.scheme&&(D+=L.scheme+":"),D+="//",L.auth&&(D+=L.auth+"@"),L.host&&(D+=L.host),L.port&&(D+=":"+L.port),L.path&&(D+=L.path),D}a(s,"D4"),e.urlGenerate=s;function o(L){var D=L,P=i(L);if(P){if(!P.path)return L;D=P.path}for(var Z=e.isAbsolute(D),V=D.split(/\/+/),W,F=0,Y=V.length-1;Y>=0;Y--)W=V[Y],W==="."?V.splice(Y,1):W===".."?F++:F>0&&(W===""?(V.splice(Y+1,F),F=0):(V.splice(Y,2),F--));return D=V.join("/"),D===""&&(D=Z?"/":"."),P?(P.path=D,s(P)):D}a(o,"NW"),e.normalize=o;function l(L,D){L===""&&(L="."),D===""&&(D=".");var P=i(D),Z=i(L);if(Z&&(L=Z.path||"/"),P&&!P.scheme)return Z&&(P.scheme=Z.scheme),s(P);if(P||D.match(n))return D;if(Z&&!Z.host&&!Z.path)return Z.host=D,s(Z);var V=D.charAt(0)==="/"?D:o(L.replace(/\/+$/,"")+"/"+D);return Z?(Z.path=V,s(Z)):V}a(l,"aG"),e.join=l,e.isAbsolute=function(L){return L.charAt(0)==="/"||r.test(L)};function u(L,D){L===""&&(L="."),L=L.replace(/\/$/,"");for(var P=0;D.indexOf(L+"/")!==0;){var Z=L.lastIndexOf("/");if(Z<0||(L=L.slice(0,Z),L.match(/^([^\/]+:\/)?\/*$/)))return D;++P}return Array(P+1).join("../")+D.substr(L.length+1)}a(u,"Bm"),e.relative=u;var c=(function(){var L=Object.create(null);return!("__proto__"in L)})();function d(L){return L}a(d,"eG");function f(L){return m(L)?"$"+L:L}a(f,"tm"),e.toSetString=c?d:f;function g(L){return m(L)?L.slice(1):L}a(g,"Um"),e.fromSetString=c?d:g;function m(L){if(!L)return!1;var D=L.length;if(D<9||L.charCodeAt(D-1)!==95||L.charCodeAt(D-2)!==95||L.charCodeAt(D-3)!==111||L.charCodeAt(D-4)!==116||L.charCodeAt(D-5)!==111||L.charCodeAt(D-6)!==114||L.charCodeAt(D-7)!==112||L.charCodeAt(D-8)!==95||L.charCodeAt(D-9)!==95)return!1;for(var P=D-10;P>=0;P--)if(L.charCodeAt(P)!==36)return!1;return!0}a(m,"sG");function y(L,D,P){var Z=A(L.source,D.source);return Z!==0||(Z=L.originalLine-D.originalLine,Z!==0)||(Z=L.originalColumn-D.originalColumn,Z!==0||P)||(Z=L.generatedColumn-D.generatedColumn,Z!==0)||(Z=L.generatedLine-D.generatedLine,Z!==0)?Z:A(L.name,D.name)}a(y,"Fm"),e.compareByOriginalPositions=y;function _(L,D,P){var Z=L.generatedLine-D.generatedLine;return Z!==0||(Z=L.generatedColumn-D.generatedColumn,Z!==0||P)||(Z=A(L.source,D.source),Z!==0)||(Z=L.originalLine-D.originalLine,Z!==0)||(Z=L.originalColumn-D.originalColumn,Z!==0)?Z:A(L.name,D.name)}a(_,"am"),e.compareByGeneratedPositionsDeflated=_;function A(L,D){return L===D?0:L===null?1:D===null?-1:L>D?1:-1}a(A,"L4");function I(L,D){var P=L.generatedLine-D.generatedLine;return P!==0||(P=L.generatedColumn-D.generatedColumn,P!==0)||(P=A(L.source,D.source),P!==0)||(P=L.originalLine-D.originalLine,P!==0)||(P=L.originalColumn-D.originalColumn,P!==0)?P:A(L.name,D.name)}a(I,"Qm"),e.compareByGeneratedPositionsInflated=I;function O(L){return JSON.parse(L.replace(/^\)]}'[^\n]*\n/,""))}a(O,"em"),e.parseSourceMapInput=O;function R(L,D,P){if(D=D||"",L&&(L[L.length-1]!=="/"&&D[0]!=="/"&&(L+="/"),D=L+D),P){var Z=i(P);if(!Z)throw Error("sourceMapURL could not be parsed");if(Z.path){var V=Z.path.lastIndexOf("/");V>=0&&(Z.path=Z.path.substring(0,V+1))}D=l(s(Z),D)}return o(D)}a(R,"sm"),e.computeSourceURL=R}),_T=dt(e=>{var t=cf(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}a(i,"k_"),i.fromArray=function(s,o){for(var l=new i,u=0,c=s.length;u<c;u++)l.add(s[u],o);return l},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(s,o){var l=n?s:t.toSetString(s),u=n?this.has(s):r.call(this._set,l),c=this._array.length;(!u||o)&&this._array.push(s),u||(n?this._set.set(s,c):this._set[l]=c)},i.prototype.has=function(s){if(n)return this._set.has(s);var o=t.toSetString(s);return r.call(this._set,o)},i.prototype.indexOf=function(s){if(n){var o=this._set.get(s);if(o>=0)return o}else{var l=t.toSetString(s);if(r.call(this._set,l))return this._set[l]}throw Error('"'+s+'" is not in the set.')},i.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw Error("No element indexed by "+s)},i.prototype.toArray=function(){return this._array.slice()},e.ArraySet=i}),xV=dt(e=>{var t=cf();function r(i,s){var o=i.generatedLine,l=s.generatedLine,u=i.generatedColumn,c=s.generatedColumn;return l>o||l==o&&c>=u||t.compareByGeneratedPositionsInflated(i,s)<=0}a(r,"Xd");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}a(n,"p5"),n.prototype.unsortedForEach=function(i,s){this._array.forEach(i,s)},n.prototype.add=function(i){r(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=n}),ET=dt(e=>{var t=xT(),r=cf(),n=_T().ArraySet,i=xV().MappingList;function s(o){o||(o={}),this._file=r.getArg(o,"file",null),this._sourceRoot=r.getArg(o,"sourceRoot",null),this._skipValidation=r.getArg(o,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}a(s,"V8"),s.prototype._version=3,s.fromSourceMap=function(o){var l=o.sourceRoot,u=new s({file:o.file,sourceRoot:l});return o.eachMapping(function(c){var d={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(d.source=c.source,l!=null&&(d.source=r.relative(l,d.source)),d.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(d.name=c.name)),u.addMapping(d)}),o.sources.forEach(function(c){var d=c;l!==null&&(d=r.relative(l,c)),u._sources.has(d)||u._sources.add(d);var f=o.sourceContentFor(c);f!=null&&u.setSourceContent(c,f)}),u},s.prototype.addMapping=function(o){var l=r.getArg(o,"generated"),u=r.getArg(o,"original",null),c=r.getArg(o,"source",null),d=r.getArg(o,"name",null);this._skipValidation||this._validateMapping(l,u,c,d),c!=null&&(c=String(c),!this._sources.has(c)&&this._sources.add(c)),d!=null&&(d=String(d),!this._names.has(d)&&this._names.add(d)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:c,name:d})},s.prototype.setSourceContent=function(o,l){var u=o;this._sourceRoot!=null&&(u=r.relative(this._sourceRoot,u)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(u)]=l):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(o,l,u){var c=l;if(l==null){if(o.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=o.file}var d=this._sourceRoot;d!=null&&(c=r.relative(d,c));var f=new n,g=new n;this._mappings.unsortedForEach(function(m){if(m.source===c&&m.originalLine!=null){var y=o.originalPositionFor({line:m.originalLine,column:m.originalColumn});y.source!=null&&(m.source=y.source,u!=null&&(m.source=r.join(u,m.source)),d!=null&&(m.source=r.relative(d,m.source)),m.originalLine=y.line,m.originalColumn=y.column,y.name!=null&&(m.name=y.name))}var _=m.source;_!=null&&!f.has(_)&&f.add(_);var A=m.name;A!=null&&!g.has(A)&&g.add(A)},this),this._sources=f,this._names=g,o.sources.forEach(function(m){var y=o.sourceContentFor(m);y!=null&&(u!=null&&(m=r.join(u,m)),d!=null&&(m=r.relative(d,m)),this.setSourceContent(m,y))},this)},s.prototype._validateMapping=function(o,l,u,c){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(o&&"line"in o&&"column"in o&&o.line>0&&o.column>=0&&!l&&!u&&!c)){if(o&&"line"in o&&"column"in o&&l&&"line"in l&&"column"in l&&o.line>0&&o.column>=0&&l.line>0&&l.column>=0&&u)return;throw Error("Invalid mapping: "+JSON.stringify({generated:o,source:u,original:l,name:c}))}},s.prototype._serializeMappings=function(){for(var o=0,l=1,u=0,c=0,d=0,f=0,g="",m,y,_,A,I=this._mappings.toArray(),O=0,R=I.length;O<R;O++){if(y=I[O],m="",y.generatedLine!==l)for(o=0;y.generatedLine!==l;)m+=";",l++;else if(O>0){if(!r.compareByGeneratedPositionsInflated(y,I[O-1]))continue;m+=","}m+=t.encode(y.generatedColumn-o),o=y.generatedColumn,y.source!=null&&(A=this._sources.indexOf(y.source),m+=t.encode(A-f),f=A,m+=t.encode(y.originalLine-1-c),c=y.originalLine-1,m+=t.encode(y.originalColumn-u),u=y.originalColumn,y.name!=null&&(_=this._names.indexOf(y.name),m+=t.encode(_-d),d=_)),g+=m}return g},s.prototype._generateSourcesContent=function(o,l){return o.map(function(u){if(!this._sourcesContents)return null;l!=null&&(u=r.relative(l,u));var c=r.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},s.prototype.toJSON=function(){var o={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(o.file=this._file),this._sourceRoot!=null&&(o.sourceRoot=this._sourceRoot),this._sourcesContents&&(o.sourcesContent=this._generateSourcesContent(o.sources,o.sourceRoot)),o},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=s}),_V=dt(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,i,s,o,l){var u=Math.floor((n-r)/2)+r,c=o(i,s[u],!0);return c===0?u:c>0?n-u>1?t(u,n,i,s,o,l):l==e.LEAST_UPPER_BOUND?n<s.length?n:-1:u:u-r>1?t(r,u,i,s,o,l):l==e.LEAST_UPPER_BOUND?u:r<0?-1:r}a(t,"IW"),e.search=function(r,n,i,s){if(n.length===0)return-1;var o=t(-1,n.length,r,n,i,s||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&i(n[o],n[o-1],!0)===0;)--o;return o}}),EV=dt(e=>{function t(i,s,o){var l=i[s];i[s]=i[o],i[o]=l}a(t,"LW");function r(i,s){return Math.round(i+Math.random()*(s-i))}a(r,"Cd");function n(i,s,o,l){if(o<l){var u=r(o,l),c=o-1;t(i,u,l);for(var d=i[l],f=o;f<l;f++)s(i[f],d)<=0&&(c+=1,t(i,c,f));t(i,c+1,f);var g=c+1;n(i,s,o,g-1),n(i,s,g+1,l)}}a(n,"gW"),e.quickSort=function(i,s){n(i,s,0,i.length-1)}}),SV=dt(e=>{var t=cf(),r=_V(),n=_T().ArraySet,i=xT(),s=EV().quickSort;function o(d,f){var g=d;return typeof d=="string"&&(g=t.parseSourceMapInput(d)),g.sections!=null?new c(g,f):new l(g,f)}a(o,"L6"),o.fromSourceMap=function(d,f){return l.fromSourceMap(d,f)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:a(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:a(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")}),o.prototype._charIsMappingSeparator=function(d,f){var g=d.charAt(f);return g===";"||g===","},o.prototype._parseMappings=function(d,f){throw Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(d,f,g){var m=f||null,y=g||o.GENERATED_ORDER,_;switch(y){case o.GENERATED_ORDER:_=this._generatedMappings;break;case o.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var A=this.sourceRoot;_.map(function(I){var O=I.source===null?null:this._sources.at(I.source);return O=t.computeSourceURL(A,O,this._sourceMapURL),{source:O,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(d,m)},o.prototype.allGeneratedPositionsFor=function(d){var f=t.getArg(d,"line"),g={source:t.getArg(d,"source"),originalLine:f,originalColumn:t.getArg(d,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var m=[],y=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(y>=0){var _=this._originalMappings[y];if(d.column===void 0)for(var A=_.originalLine;_&&_.originalLine===A;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++y];else for(var I=_.originalColumn;_&&_.originalLine===f&&_.originalColumn==I;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++y]}return m},e.SourceMapConsumer=o;function l(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var m=t.getArg(g,"version"),y=t.getArg(g,"sources"),_=t.getArg(g,"names",[]),A=t.getArg(g,"sourceRoot",null),I=t.getArg(g,"sourcesContent",null),O=t.getArg(g,"mappings"),R=t.getArg(g,"file",null);if(m!=this._version)throw Error("Unsupported version: "+m);A&&(A=t.normalize(A)),y=y.map(String).map(t.normalize).map(function(L){return A&&t.isAbsolute(A)&&t.isAbsolute(L)?t.relative(A,L):L}),this._names=n.fromArray(_.map(String),!0),this._sources=n.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(L){return t.computeSourceURL(A,L,f)}),this.sourceRoot=A,this.sourcesContent=I,this._mappings=O,this._sourceMapURL=f,this.file=R}a(l,"Gq"),l.prototype=Object.create(o.prototype),l.prototype.consumer=o,l.prototype._findSourceIndex=function(d){var f=d;if(this.sourceRoot!=null&&(f=t.relative(this.sourceRoot,f)),this._sources.has(f))return this._sources.indexOf(f);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==d)return g;return-1},l.fromSourceMap=function(d,f){var g=Object.create(l.prototype),m=g._names=n.fromArray(d._names.toArray(),!0),y=g._sources=n.fromArray(d._sources.toArray(),!0);g.sourceRoot=d._sourceRoot,g.sourcesContent=d._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=d._file,g._sourceMapURL=f,g._absoluteSources=g._sources.toArray().map(function(P){return t.computeSourceURL(g.sourceRoot,P,f)});for(var _=d._mappings.toArray().slice(),A=g.__generatedMappings=[],I=g.__originalMappings=[],O=0,R=_.length;O<R;O++){var L=_[O],D=new u;D.generatedLine=L.generatedLine,D.generatedColumn=L.generatedColumn,L.source&&(D.source=y.indexOf(L.source),D.originalLine=L.originalLine,D.originalColumn=L.originalColumn,L.name&&(D.name=m.indexOf(L.name)),I.push(D)),A.push(D)}return s(g.__originalMappings,t.compareByOriginalPositions),g},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:a(function(){return this._absoluteSources.slice()},"get")});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a(u,"OV"),l.prototype._parseMappings=function(d,f){for(var g=1,m=0,y=0,_=0,A=0,I=0,O=d.length,R=0,L={},D={},P=[],Z=[],V,W,F,Y,h;R<O;)if(d.charAt(R)===";")g++,R++,m=0;else if(d.charAt(R)===",")R++;else{for(V=new u,V.generatedLine=g,Y=R;Y<O&&!this._charIsMappingSeparator(d,Y);Y++);if(W=d.slice(R,Y),F=L[W],F)R+=W.length;else{for(F=[];R<Y;)i.decode(d,R,D),h=D.value,R=D.rest,F.push(h);if(F.length===2)throw Error("Found a source, but no line and column");if(F.length===3)throw Error("Found a source and line, but no column");L[W]=F}V.generatedColumn=m+F[0],m=V.generatedColumn,F.length>1&&(V.source=A+F[1],A+=F[1],V.originalLine=y+F[2],y=V.originalLine,V.originalLine+=1,V.originalColumn=_+F[3],_=V.originalColumn,F.length>4&&(V.name=I+F[4],I+=F[4])),Z.push(V),typeof V.originalLine=="number"&&P.push(V)}s(Z,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=Z,s(P,t.compareByOriginalPositions),this.__originalMappings=P},l.prototype._findMapping=function(d,f,g,m,y,_){if(d[g]<=0)throw TypeError("Line must be greater than or equal to 1, got "+d[g]);if(d[m]<0)throw TypeError("Column must be greater than or equal to 0, got "+d[m]);return r.search(d,f,y,_)},l.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var f=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var g=this._generatedMappings[d+1];if(f.generatedLine===g.generatedLine){f.lastGeneratedColumn=g.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",o.GREATEST_LOWER_BOUND));if(g>=0){var m=this._generatedMappings[g];if(m.generatedLine===f.generatedLine){var y=t.getArg(m,"source",null);y!==null&&(y=this._sources.at(y),y=t.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var _=t.getArg(m,"name",null);return _!==null&&(_=this._names.at(_)),{source:y,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},l.prototype.sourceContentFor=function(d,f){if(!this.sourcesContent)return null;var g=this._findSourceIndex(d);if(g>=0)return this.sourcesContent[g];var m=d;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var y;if(this.sourceRoot!=null&&(y=t.urlParse(this.sourceRoot))){var _=m.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!y.path||y.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(f)return null;throw Error('"'+m+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(d){var f=t.getArg(d,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var g={source:f,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},m=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",o.GREATEST_LOWER_BOUND));if(m>=0){var y=this._originalMappings[m];if(y.source===g.source)return{line:t.getArg(y,"generatedLine",null),column:t.getArg(y,"generatedColumn",null),lastColumn:t.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=l;function c(d,f){var g=d;typeof d=="string"&&(g=t.parseSourceMapInput(d));var m=t.getArg(g,"version"),y=t.getArg(g,"sections");if(m!=this._version)throw Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var _={line:-1,column:0};this._sections=y.map(function(A){if(A.url)throw Error("Support for url field in sections not implemented.");var I=t.getArg(A,"offset"),O=t.getArg(I,"line"),R=t.getArg(I,"column");if(O<_.line||O===_.line&&R<_.column)throw Error("Section offsets must be ordered and non-overlapping.");return _=I,{generatedOffset:{generatedLine:O+1,generatedColumn:R+1},consumer:new o(t.getArg(A,"map"),f)}})}a(c,"p8"),c.prototype=Object.create(o.prototype),c.prototype.constructor=o,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:a(function(){for(var d=[],f=0;f<this._sections.length;f++)for(var g=0;g<this._sections[f].consumer.sources.length;g++)d.push(this._sections[f].consumer.sources[g]);return d},"get")}),c.prototype.originalPositionFor=function(d){var f={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},g=r.search(f,this._sections,function(y,_){var A=y.generatedLine-_.generatedOffset.generatedLine;return A||y.generatedColumn-_.generatedOffset.generatedColumn}),m=this._sections[g];return m?m.consumer.originalPositionFor({line:f.generatedLine-(m.generatedOffset.generatedLine-1),column:f.generatedColumn-(m.generatedOffset.generatedLine===f.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(d,f){for(var g=0;g<this._sections.length;g++){var m=this._sections[g],y=m.consumer.sourceContentFor(d,!0);if(y)return y}if(f)return null;throw Error('"'+d+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){for(var f=0;f<this._sections.length;f++){var g=this._sections[f];if(g.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var m=g.consumer.generatedPositionFor(d);if(m){var y={line:m.line+(g.generatedOffset.generatedLine-1),column:m.column+(g.generatedOffset.generatedLine===m.line?g.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},c.prototype._parseMappings=function(d,f){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var m=this._sections[g],y=m.consumer._generatedMappings,_=0;_<y.length;_++){var A=y[_],I=m.consumer._sources.at(A.source);I=t.computeSourceURL(m.consumer.sourceRoot,I,this._sourceMapURL),this._sources.add(I),I=this._sources.indexOf(I);var O=null;A.name&&(O=m.consumer._names.at(A.name),this._names.add(O),O=this._names.indexOf(O));var R={source:I,generatedLine:A.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(m.generatedOffset.generatedLine===A.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:O};this.__generatedMappings.push(R),typeof R.originalLine=="number"&&this.__originalMappings.push(R)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},e.IndexedSourceMapConsumer=c}),kV=dt(e=>{var t=ET().SourceMapGenerator,r=cf(),n=/(\r?\n)/,i=10,s="$$$isSourceNode$$$";function o(l,u,c,d,f){this.children=[],this.sourceContents={},this.line=l??null,this.column=u??null,this.source=c??null,this.name=f??null,this[s]=!0,d!=null&&this.add(d)}a(o,"j8"),o.fromStringWithSourceMap=function(l,u,c){var d=new o,f=l.split(n),g=0,m=a(function(){var O=L(),R=L()||"";return O+R;function L(){return g<f.length?f[g++]:void 0}},"z"),y=1,_=0,A=null;return u.eachMapping(function(O){if(A!==null)if(y<O.generatedLine)I(A,m()),y++,_=0;else{var R=f[g]||"",L=R.substr(0,O.generatedColumn-_);f[g]=R.substr(O.generatedColumn-_),_=O.generatedColumn,I(A,L),A=O;return}for(;y<O.generatedLine;)d.add(m()),y++;if(_<O.generatedColumn){var R=f[g]||"";d.add(R.substr(0,O.generatedColumn)),f[g]=R.substr(O.generatedColumn),_=O.generatedColumn}A=O},this),g<f.length&&(A&&I(A,m()),d.add(f.splice(g).join(""))),u.sources.forEach(function(O){var R=u.sourceContentFor(O);R!=null&&(c!=null&&(O=r.join(c,O)),d.setSourceContent(O,R))}),d;function I(O,R){if(O===null||O.source===void 0)d.add(R);else{var L=c?r.join(c,O.source):O.source;d.add(new o(O.originalLine,O.originalColumn,L,R,O.name))}}a(I,"w")},o.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(u){this.add(u)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.prepend=function(l){if(Array.isArray(l))for(var u=l.length-1;u>=0;u--)this.prepend(l[u]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},o.prototype.walk=function(l){for(var u,c=0,d=this.children.length;c<d;c++)u=this.children[c],u[s]?u.walk(l):u!==""&&l(u,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(l){var u,c,d=this.children.length;if(d>0){for(u=[],c=0;c<d-1;c++)u.push(this.children[c]),u.push(l);u.push(this.children[c]),this.children=u}return this},o.prototype.replaceRight=function(l,u){var c=this.children[this.children.length-1];return c[s]?c.replaceRight(l,u):typeof c=="string"?this.children[this.children.length-1]=c.replace(l,u):this.children.push("".replace(l,u)),this},o.prototype.setSourceContent=function(l,u){this.sourceContents[r.toSetString(l)]=u},o.prototype.walkSourceContents=function(l){for(var u=0,c=this.children.length;u<c;u++)this.children[u][s]&&this.children[u].walkSourceContents(l);for(var d=Object.keys(this.sourceContents),u=0,c=d.length;u<c;u++)l(r.fromSetString(d[u]),this.sourceContents[d[u]])},o.prototype.toString=function(){var l="";return this.walk(function(u){l+=u}),l},o.prototype.toStringWithSourceMap=function(l){var u={code:"",line:1,column:0},c=new t(l),d=!1,f=null,g=null,m=null,y=null;return this.walk(function(_,A){u.code+=_,A.source!==null&&A.line!==null&&A.column!==null?((f!==A.source||g!==A.line||m!==A.column||y!==A.name)&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name}),f=A.source,g=A.line,m=A.column,y=A.name,d=!0):d&&(c.addMapping({generated:{line:u.line,column:u.column}}),f=null,d=!1);for(var I=0,O=_.length;I<O;I++)_.charCodeAt(I)===i?(u.line++,u.column=0,I+1===O?(f=null,d=!1):d&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:u.line,column:u.column},name:A.name})):u.column++}),this.walkSourceContents(function(_,A){c.setSourceContent(_,A)}),{code:u.code,map:c}},e.SourceNode=o}),AV=dt(e=>{e.SourceMapGenerator=ET().SourceMapGenerator,e.SourceMapConsumer=SV().SourceMapConsumer,e.SourceNode=kV().SourceNode}),TV=dt((e,t)=>{e.__esModule=!0;var r=wi(),n=void 0;try{(typeof define!="function"||!define.amd)&&(i=AV(),n=i.SourceNode)}catch{}var i;n||(n=a(function(l,u,c,d){this.src="",d&&this.add(d)},"LK"),n.prototype={add:a(function(l){r.isArray(l)&&(l=l.join("")),this.src+=l},"add"),prepend:a(function(l){r.isArray(l)&&(l=l.join("")),this.src=l+this.src},"prepend"),toStringWithSourceMap:a(function(){return{code:this.toString()}},"toStringWithSourceMap"),toString:a(function(){return this.src},"toString")});function s(l,u,c){if(r.isArray(l)){for(var d=[],f=0,g=l.length;f<g;f++)d.push(u.wrap(l[f],c));return d}else if(typeof l=="boolean"||typeof l=="number")return l+"";return l}a(s,"yW");function o(l){this.srcFile=l,this.source=[]}a(o,"zV"),o.prototype={isEmpty:a(function(){return!this.source.length},"isEmpty"),prepend:a(function(l,u){this.source.unshift(this.wrap(l,u))},"prepend"),push:a(function(l,u){this.source.push(this.wrap(l,u))},"push"),merge:a(function(){var l=this.empty();return this.each(function(u){l.add(["  ",u,`
`])}),l},"merge"),each:a(function(l){for(var u=0,c=this.source.length;u<c;u++)l(this.source[u])},"each"),empty:a(function(){var l=this.currentLocation||{start:{}};return new n(l.start.line,l.start.column,this.srcFile)},"empty"),wrap:a(function(l){var u=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return l instanceof n?l:(l=s(l,this,u),new n(u.start.line,u.start.column,this.srcFile,l))},"wrap"),functionCall:a(function(l,u,c){return c=this.generateList(c),this.wrap([l,u?"."+u+"(":"(",c,")"])},"functionCall"),quotedString:a(function(l){return'"'+(l+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"quotedString"),objectLiteral:a(function(l){var u=this,c=[];Object.keys(l).forEach(function(f){var g=s(l[f],u);g!=="undefined"&&c.push([u.quotedString(f),":",g])});var d=this.generateList(c);return d.prepend("{"),d.add("}"),d},"objectLiteral"),generateList:a(function(l){for(var u=this.empty(),c=0,d=l.length;c<d;c++)c&&u.add(","),u.add(s(l[c],this));return u},"generateList"),generateArray:a(function(l){var u=this.generateList(l);return u.prepend("["),u.add("]"),u},"generateArray")},e.default=o,t.exports=e.default}),NV=dt((e,t)=>{e.__esModule=!0;function r(g){return g&&g.__esModule?g:{default:g}}a(r,"fV");var n=M2(),i=Aa(),s=r(i),o=wi(),l=TV(),u=r(l);function c(g){this.value=g}a(c,"u4");function d(){}a(d,"x4"),d.prototype={nameLookup:a(function(g,m){return this.internalNameLookup(g,m)},"nameLookup"),depthedLookup:a(function(g){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(g),")"]},"depthedLookup"),compilerInfo:a(function(){var g=n.COMPILER_REVISION,m=n.REVISION_CHANGES[g];return[g,m]},"compilerInfo"),appendToBuffer:a(function(g,m,y){return o.isArray(g)||(g=[g]),g=this.source.wrap(g,m),this.environment.isSimple?["return ",g,";"]:y?["buffer += ",g,";"]:(g.appendToBuffer=!0,g)},"appendToBuffer"),initializeBuffer:a(function(){return this.quotedString("")},"initializeBuffer"),internalNameLookup:a(function(g,m){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",g,",",JSON.stringify(m),")"]},"internalNameLookup"),lookupPropertyFunctionIsUsed:!1,compile:a(function(g,m,y,_){this.environment=g,this.options=m,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!_,this.name=this.environment.name,this.isChild=!!y,this.context=y||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(g,m),this.useDepths=this.useDepths||g.useDepths||g.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||g.useBlockParams;var A=g.opcodes,I=void 0,O=void 0,R=void 0,L=void 0;for(R=0,L=A.length;R<L;R++)I=A[R],this.source.currentLocation=I.loc,O=O||I.loc,this[I.opcode].apply(this,I.args);if(this.source.currentLocation=O,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),_?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var D=this.createFunctionContext(_);if(this.isChild)return D;var P={compiler:this.compilerInfo(),main:D};this.decorators&&(P.main_d=this.decorators,P.useDecorators=!0);var Z=this.context,V=Z.programs,W=Z.decorators;for(R=0,L=V.length;R<L;R++)V[R]&&(P[R]=V[R],W[R]&&(P[R+"_d"]=W[R],P.useDecorators=!0));return this.environment.usePartial&&(P.usePartial=!0),this.options.data&&(P.useData=!0),this.useDepths&&(P.useDepths=!0),this.useBlockParams&&(P.useBlockParams=!0),this.options.compat&&(P.compat=!0),_?P.compilerOptions=this.options:(P.compiler=JSON.stringify(P.compiler),this.source.currentLocation={start:{line:1,column:0}},P=this.objectLiteral(P),m.srcName?(P=P.toStringWithSourceMap({file:m.destName}),P.map=P.map&&P.map.toString()):P=P.toString()),P},"compile"),preamble:a(function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},"preamble"),createFunctionContext:a(function(g){var m=this,y="",_=this.stackVars.concat(this.registers.list);_.length>0&&(y+=", "+_.join(", "));var A=0;Object.keys(this.aliases).forEach(function(R){var L=m.aliases[R];L.children&&L.referenceCount>1&&(y+=", alias"+ ++A+"="+R,L.children[0]="alias"+A)}),this.lookupPropertyFunctionIsUsed&&(y+=", "+this.lookupPropertyFunctionVarDeclaration());var I=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&I.push("blockParams"),this.useDepths&&I.push("depths");var O=this.mergeSource(y);return g?(I.push(O),Function.apply(this,I)):this.source.wrap(["function(",I.join(","),`) {
  `,O,"}"])},"createFunctionContext"),mergeSource:a(function(g){var m=this.environment.isSimple,y=!this.forceBuffer,_=void 0,A=void 0,I=void 0,O=void 0;return this.source.each(function(R){R.appendToBuffer?(I?R.prepend("  + "):I=R,O=R):(I&&(A?I.prepend("buffer += "):_=!0,O.add(";"),I=O=void 0),A=!0,!m&&(y=!1))}),y?I?(I.prepend("return "),O.add(";")):A||this.source.push('return "";'):(g+=", buffer = "+(_?"":this.initializeBuffer()),I?(I.prepend("return buffer + "),O.add(";")):this.source.push("return buffer;")),g&&this.source.prepend("var "+g.substring(2)+(_?"":`;
`)),this.source.merge()},"mergeSource"),lookupPropertyFunctionVarDeclaration:a(function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},"lookupPropertyFunctionVarDeclaration"),blockValue:a(function(g){var m=this.aliasable("container.hooks.blockHelperMissing"),y=[this.contextName(0)];this.setupHelperArgs(g,0,y);var _=this.popStack();y.splice(1,0,_),this.push(this.source.functionCall(m,"call",y))},"blockValue"),ambiguousBlockValue:a(function(){var g=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs("",0,m,!0),this.flushInline();var y=this.topStack();m.splice(1,0,y),this.pushSource(["if (!",this.lastHelper,") { ",y," = ",this.source.functionCall(g,"call",m),"}"])},"ambiguousBlockValue"),appendContent:a(function(g){this.pendingContent?g=this.pendingContent+g:this.pendingLocation=this.source.currentLocation,this.pendingContent=g},"appendContent"),append:a(function(){if(this.isInline())this.replaceStack(function(m){return[" != null ? ",m,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var g=this.popStack();this.pushSource(["if (",g," != null) { ",this.appendToBuffer(g,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"append"),appendEscaped:a(function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},"appendEscaped"),getContext:a(function(g){this.lastContext=g},"getContext"),pushContext:a(function(){this.pushStackLiteral(this.contextName(this.lastContext))},"pushContext"),lookupOnContext:a(function(g,m,y,_){var A=0;!_&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(g[A++])):this.pushContext(),this.resolvePath("context",g,A,m,y)},"lookupOnContext"),lookupBlockParam:a(function(g,m){this.useBlockParams=!0,this.push(["blockParams[",g[0],"][",g[1],"]"]),this.resolvePath("context",m,1)},"lookupBlockParam"),lookupData:a(function(g,m,y){g?this.pushStackLiteral("container.data(data, "+g+")"):this.pushStackLiteral("data"),this.resolvePath("data",m,0,!0,y)},"lookupData"),resolvePath:a(function(g,m,y,_,A){var I=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&A,this,m,y,g));return}for(var O=m.length;y<O;y++)this.replaceStack(function(R){var L=I.nameLookup(R,m[y],g);return _?[" && ",L]:[" != null ? ",L," : ",R]})},"resolvePath"),resolvePossibleLambda:a(function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"resolvePossibleLambda"),pushStringParam:a(function(g,m){this.pushContext(),this.pushString(m),m!=="SubExpression"&&(typeof g=="string"?this.pushString(g):this.pushStackLiteral(g))},"pushStringParam"),emptyHash:a(function(g){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(g?"undefined":"{}")},"emptyHash"),pushHash:a(function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},"pushHash"),popHash:a(function(){var g=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(g.ids)),this.stringParams&&(this.push(this.objectLiteral(g.contexts)),this.push(this.objectLiteral(g.types))),this.push(this.objectLiteral(g.values))},"popHash"),pushString:a(function(g){this.pushStackLiteral(this.quotedString(g))},"pushString"),pushLiteral:a(function(g){this.pushStackLiteral(g)},"pushLiteral"),pushProgram:a(function(g){g!=null?this.pushStackLiteral(this.programExpression(g)):this.pushStackLiteral(null)},"pushProgram"),registerDecorator:a(function(g,m){var y=this.nameLookup("decorators",m,"decorator"),_=this.setupHelperArgs(m,g);this.decorators.push(["fn = ",this.decorators.functionCall(y,"",["fn","props","container",_])," || fn;"])},"registerDecorator"),invokeHelper:a(function(g,m,y){var _=this.popStack(),A=this.setupHelper(g,m),I=[];y&&I.push(A.name),I.push(_),!this.options.strict&&I.push(this.aliasable("container.hooks.helperMissing"));var O=["(",this.itemsSeparatedBy(I,"||"),")"],R=this.source.functionCall(O,"call",A.callParams);this.push(R)},"invokeHelper"),itemsSeparatedBy:a(function(g,m){var y=[];y.push(g[0]);for(var _=1;_<g.length;_++)y.push(m,g[_]);return y},"itemsSeparatedBy"),invokeKnownHelper:a(function(g,m){var y=this.setupHelper(g,m);this.push(this.source.functionCall(y.name,"call",y.callParams))},"invokeKnownHelper"),invokeAmbiguous:a(function(g,m){this.useRegister("helper");var y=this.popStack();this.emptyHash();var _=this.setupHelper(0,g,m),A=this.lastHelper=this.nameLookup("helpers",g,"helper"),I=["(","(helper = ",A," || ",y,")"];this.options.strict||(I[0]="(helper = ",I.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",I,_.paramsInit?["),(",_.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",_.callParams)," : helper))"])},"invokeAmbiguous"),invokePartial:a(function(g,m,y){var _=[],A=this.setupParams(m,1,_);g&&(m=this.popStack(),delete A.name),y&&(A.indent=JSON.stringify(y)),A.helpers="helpers",A.partials="partials",A.decorators="container.decorators",g?_.unshift(m):_.unshift(this.nameLookup("partials",m,"partial")),this.options.compat&&(A.depths="depths"),A=this.objectLiteral(A),_.push(A),this.push(this.source.functionCall("container.invokePartial","",_))},"invokePartial"),assignToHash:a(function(g){var m=this.popStack(),y=void 0,_=void 0,A=void 0;this.trackIds&&(A=this.popStack()),this.stringParams&&(_=this.popStack(),y=this.popStack());var I=this.hash;y&&(I.contexts[g]=y),_&&(I.types[g]=_),A&&(I.ids[g]=A),I.values[g]=m},"assignToHash"),pushId:a(function(g,m,y){g==="BlockParam"?this.pushStackLiteral("blockParams["+m[0]+"].path["+m[1]+"]"+(y?" + "+JSON.stringify("."+y):"")):g==="PathExpression"?this.pushString(m):g==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"pushId"),compiler:d,compileChildren:a(function(g,m){for(var y=g.children,_=void 0,A=void 0,I=0,O=y.length;I<O;I++){_=y[I],A=new this.compiler;var R=this.matchExistingProgram(_);if(R==null){this.context.programs.push("");var L=this.context.programs.length;_.index=L,_.name="program"+L,this.context.programs[L]=A.compile(_,m,this.context,!this.precompile),this.context.decorators[L]=A.decorators,this.context.environments[L]=_,this.useDepths=this.useDepths||A.useDepths,this.useBlockParams=this.useBlockParams||A.useBlockParams,_.useDepths=this.useDepths,_.useBlockParams=this.useBlockParams}else _.index=R.index,_.name="program"+R.index,this.useDepths=this.useDepths||R.useDepths,this.useBlockParams=this.useBlockParams||R.useBlockParams}},"compileChildren"),matchExistingProgram:a(function(g){for(var m=0,y=this.context.environments.length;m<y;m++){var _=this.context.environments[m];if(_&&_.equals(g))return _}},"matchExistingProgram"),programExpression:a(function(g){var m=this.environment.children[g],y=[m.index,"data",m.blockParams];return(this.useBlockParams||this.useDepths)&&y.push("blockParams"),this.useDepths&&y.push("depths"),"container.program("+y.join(", ")+")"},"programExpression"),useRegister:a(function(g){this.registers[g]||(this.registers[g]=!0,this.registers.list.push(g))},"useRegister"),push:a(function(g){return g instanceof c||(g=this.source.wrap(g)),this.inlineStack.push(g),g},"push"),pushStackLiteral:a(function(g){this.push(new c(g))},"pushStackLiteral"),pushSource:a(function(g){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),g&&this.source.push(g)},"pushSource"),replaceStack:a(function(g){var m=["("],y=void 0,_=void 0,A=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var I=this.popStack(!0);if(I instanceof c)y=[I.value],m=["(",y],A=!0;else{_=!0;var O=this.incrStack();m=["((",this.push(O)," = ",I,")"],y=this.topStack()}var R=g.call(this,y);A||this.popStack(),_&&this.stackSlot--,this.push(m.concat(R,")"))},"replaceStack"),incrStack:a(function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"incrStack"),topStackName:a(function(){return"stack"+this.stackSlot},"topStackName"),flushInline:a(function(){var g=this.inlineStack;this.inlineStack=[];for(var m=0,y=g.length;m<y;m++){var _=g[m];if(_ instanceof c)this.compileStack.push(_);else{var A=this.incrStack();this.pushSource([A," = ",_,";"]),this.compileStack.push(A)}}},"flushInline"),isInline:a(function(){return this.inlineStack.length},"isInline"),popStack:a(function(g){var m=this.isInline(),y=(m?this.inlineStack:this.compileStack).pop();if(!g&&y instanceof c)return y.value;if(!m){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return y},"popStack"),topStack:a(function(){var g=this.isInline()?this.inlineStack:this.compileStack,m=g[g.length-1];return m instanceof c?m.value:m},"topStack"),contextName:a(function(g){return this.useDepths&&g?"depths["+g+"]":"depth"+g},"contextName"),quotedString:a(function(g){return this.source.quotedString(g)},"quotedString"),objectLiteral:a(function(g){return this.source.objectLiteral(g)},"objectLiteral"),aliasable:a(function(g){var m=this.aliases[g];return m?(m.referenceCount++,m):(m=this.aliases[g]=this.source.wrap(g),m.aliasable=!0,m.referenceCount=1,m)},"aliasable"),setupHelper:a(function(g,m,y){var _=[],A=this.setupHelperArgs(m,g,_,y),I=this.nameLookup("helpers",m,"helper"),O=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:_,paramsInit:A,name:I,callParams:[O].concat(_)}},"setupHelper"),setupParams:a(function(g,m,y){var _={},A=[],I=[],O=[],R=!y,L=void 0;R&&(y=[]),_.name=this.quotedString(g),_.hash=this.popStack(),this.trackIds&&(_.hashIds=this.popStack()),this.stringParams&&(_.hashTypes=this.popStack(),_.hashContexts=this.popStack());var D=this.popStack(),P=this.popStack();(P||D)&&(_.fn=P||"container.noop",_.inverse=D||"container.noop");for(var Z=m;Z--;)L=this.popStack(),y[Z]=L,this.trackIds&&(O[Z]=this.popStack()),this.stringParams&&(I[Z]=this.popStack(),A[Z]=this.popStack());return R&&(_.args=this.source.generateArray(y)),this.trackIds&&(_.ids=this.source.generateArray(O)),this.stringParams&&(_.types=this.source.generateArray(I),_.contexts=this.source.generateArray(A)),this.options.data&&(_.data="data"),this.useBlockParams&&(_.blockParams="blockParams"),_},"setupParams"),setupHelperArgs:a(function(g,m,y,_){var A=this.setupParams(g,m,y);return A.loc=JSON.stringify(this.source.currentLocation),A=this.objectLiteral(A),_?(this.useRegister("options"),y.push("options"),["options=",A]):y?(y.push(A),""):A},"setupHelperArgs")},(function(){for(var g="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),m=d.RESERVED_WORDS={},y=0,_=g.length;y<_;y++)m[g[y]]=!0})(),d.isValidJavaScriptVariableName=function(g){return!d.RESERVED_WORDS[g]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(g)};function f(g,m,y,_,A){var I=m.popStack(),O=y.length;for(g&&O--;_<O;_++)I=m.nameLookup(I,y[_],A);return g?[m.aliasable("container.strict"),"(",I,", ",m.quotedString(y[_]),", ",JSON.stringify(m.source.currentLocation)," )"]:I}a(f,"td"),e.default=d,t.exports=e.default}),IV=dt((e,t)=>{e.__esModule=!0;function r(O){return O&&O.__esModule?O:{default:O}}a(r,"d7");var n=pV(),i=r(n),s=wT(),o=r(s),l=vV(),u=yV(),c=NV(),d=r(c),f=O2(),g=r(f),m=yT(),y=r(m),_=i.default.create;function A(){var O=_();return O.compile=function(R,L){return u.compile(R,L,O)},O.precompile=function(R,L){return u.precompile(R,L,O)},O.AST=o.default,O.Compiler=u.Compiler,O.JavaScriptCompiler=d.default,O.Parser=l.parser,O.parse=l.parse,O.parseWithoutProcessing=l.parseWithoutProcessing,O}a(A,"kV");var I=A();I.create=A,y.default(I),I.Visitor=g.default,I.default=I,e.default=I,t.exports=e.default}),CV=dt(e=>{e.__esModule=!0,e.print=i,e.PrintVisitor=s;function t(o){return o&&o.__esModule?o:{default:o}}a(t,"zl");var r=O2(),n=t(r);function i(o){return new s().accept(o)}a(i,"Hl");function s(){this.padding=0}a(s,"r6"),s.prototype=new n.default,s.prototype.pad=function(o){for(var l="",u=0,c=this.padding;u<c;u++)l+="  ";return l+=o+`
`,l},s.prototype.Program=function(o){var l="",u=o.body,c=void 0,d=void 0;if(o.blockParams){var f="BLOCK PARAMS: [";for(c=0,d=o.blockParams.length;c<d;c++)f+=" "+o.blockParams[c];f+=" ]",l+=this.pad(f)}for(c=0,d=u.length;c<d;c++)l+=this.accept(u[c]);return this.padding--,l},s.prototype.MustacheStatement=function(o){return this.pad("{{ "+this.SubExpression(o)+" }}")},s.prototype.Decorator=function(o){return this.pad("{{ DIRECTIVE "+this.SubExpression(o)+" }}")},s.prototype.BlockStatement=s.prototype.DecoratorBlock=function(o){var l="";return l+=this.pad((o.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,l+=this.pad(this.SubExpression(o)),o.program&&(l+=this.pad("PROGRAM:"),this.padding++,l+=this.accept(o.program),this.padding--),o.inverse&&(o.program&&this.padding++,l+=this.pad("{{^}}"),this.padding++,l+=this.accept(o.inverse),this.padding--,o.program&&this.padding--),this.padding--,l},s.prototype.PartialStatement=function(o){var l="PARTIAL:"+o.name.original;return o.params[0]&&(l+=" "+this.accept(o.params[0])),o.hash&&(l+=" "+this.accept(o.hash)),this.pad("{{> "+l+" }}")},s.prototype.PartialBlockStatement=function(o){var l="PARTIAL BLOCK:"+o.name.original;return o.params[0]&&(l+=" "+this.accept(o.params[0])),o.hash&&(l+=" "+this.accept(o.hash)),l+=" "+this.pad("PROGRAM:"),this.padding++,l+=this.accept(o.program),this.padding--,this.pad("{{> "+l+" }}")},s.prototype.ContentStatement=function(o){return this.pad("CONTENT[ '"+o.value+"' ]")},s.prototype.CommentStatement=function(o){return this.pad("{{! '"+o.value+"' }}")},s.prototype.SubExpression=function(o){for(var l=o.params,u=[],c=void 0,d=0,f=l.length;d<f;d++)u.push(this.accept(l[d]));return l="["+u.join(", ")+"]",c=o.hash?" "+this.accept(o.hash):"",this.accept(o.path)+" "+l+c},s.prototype.PathExpression=function(o){var l=o.parts.join("/");return(o.data?"@":"")+"PATH:"+l},s.prototype.StringLiteral=function(o){return'"'+o.value+'"'},s.prototype.NumberLiteral=function(o){return"NUMBER{"+o.value+"}"},s.prototype.BooleanLiteral=function(o){return"BOOLEAN{"+o.value+"}"},s.prototype.UndefinedLiteral=function(){return"UNDEFINED"},s.prototype.NullLiteral=function(){return"NULL"},s.prototype.Hash=function(o){for(var l=o.pairs,u=[],c=0,d=l.length;c<d;c++)u.push(this.accept(l[c]));return"HASH{"+u.join(", ")+"}"},s.prototype.HashPair=function(o){return o.key+"="+this.accept(o.value)}}),MV=dt((e,t)=>{var r=IV().default,n=CV();r.PrintVisitor=n.PrintVisitor,r.print=n.print,t.exports=r;function i(s,o){var l=a((()=>({})),"_"),u=l.readFileSync(o,"utf8");s.exports=r.compile(u)}a(i,"NV"),qh.extensions&&(qh.extensions[".handlebars"]=i,qh.extensions[".hbs"]=i)}),OV={};yi(OV,{sep:a(()=>GV,"sep"),resolve:a(()=>xy,"resolve"),relative:a(()=>jV,"relative"),posix:a(()=>KV,"posix"),parse:a(()=>HV,"parse"),normalize:a(()=>kT,"normalize"),join:a(()=>DV,"join"),isAbsolute:a(()=>LV,"isAbsolute"),format:a(()=>UV,"format"),extname:a(()=>FV,"extname"),dirname:a(()=>zV,"dirname"),delimiter:a(()=>VV,"delimiter"),default:a(()=>ZV,"default"),basename:a(()=>BV,"basename"),_makeLong:a(()=>PV,"_makeLong")});function qa(e){if(typeof e!="string")throw TypeError("Path must be a string. Received "+JSON.stringify(e))}a(qa,"s8");function ST(e,t){for(var r="",n=0,i=-1,s=0,o,l=0;l<=e.length;++l){if(l<e.length)o=e.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}a(ST,"VS");function RV(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}a(RV,"dr");function xy(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var i;n>=0?i=arguments[n]:(r===void 0&&(r=process.cwd()),i=r),qa(i),i.length!==0&&(e=i+"/"+e,t=i.charCodeAt(0)===47)}return e=ST(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."}a(xy,"K2");function kT(e){if(qa(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=ST(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e}a(kT,"yJ");function LV(e){return qa(e),e.length>0&&e.charCodeAt(0)===47}a(LV,"SS$1");function DV(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];qa(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":kT(e)}a(DV,"MS");function jV(e,t){if(qa(e),qa(t),e===t||(e=xy(e),t=xy(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,i=n-r,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var o=t.length,l=o-s,u=i<l?i:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(t.charCodeAt(s+d)===47)return t.slice(s+d+1);if(d===0)return t.slice(s+d)}else i>u&&(e.charCodeAt(r+d)===47?c=d:d===0&&(c=0));break}var f=e.charCodeAt(r+d),g=t.charCodeAt(s+d);if(f!==g)break;f===47&&(c=d)}var m="";for(d=r+c+1;d<=n;++d)(d===n||e.charCodeAt(d)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+t.slice(s+c):(s+=c,t.charCodeAt(s)===47&&++s,t.slice(s))}a(jV,"NS$1");function PV(e){return e}a(PV,"CS");function zV(e){if(qa(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,i=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===47){if(!i){n=s;break}}else i=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)}a(zV,"ES");function BV(e,t){if(t!==void 0&&typeof t!="string")throw TypeError('"ext" argument must be a string');qa(e);var r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(u===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)}}a(BV,"hS");function FV(e){qa(e);for(var t=-1,r=0,n=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)}a(FV,"RS");function UV(e){if(e===null||typeof e!="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return RV("/",e)}a(UV,"IS");function HV(e){qa(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,i;n?(t.root="/",i=1):i=0;for(var s=-1,o=0,l=-1,u=!0,c=e.length-1,d=0;c>=i;--c){if(r=e.charCodeAt(c),r===47){if(!u){o=c+1;break}continue}l===-1&&(u=!1,l=c+1),r===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||l===-1||d===0||d===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(o,l)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,l)):(t.name=e.slice(o,s),t.base=e.slice(o,l)),t.ext=e.slice(s,l)),o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t}a(HV,"DS");var GV="/",VV=":",KV,ZV,AT={};yi(AT,{uptime:a(()=>WV,"uptime"),type:a(()=>eK,"type"),totalmem:a(()=>JV,"totalmem"),tmpdir:a(()=>IT,"tmpdir"),tmpDir:a(()=>CT,"tmpDir"),release:a(()=>tK,"release"),platform:a(()=>nK,"platform"),networkInterfaces:a(()=>NT,"networkInterfaces"),loadavg:a(()=>QV,"loadavg"),hostname:a(()=>$V,"hostname"),homedir:a(()=>aK,"homedir"),getNetworkInterfaces:a(()=>TT,"getNetworkInterfaces"),freemem:a(()=>XV,"freemem"),endianness:a(()=>YV,"endianness"),cpus:a(()=>qV,"cpus"),arch:a(()=>rK,"arch"),EOL:a(()=>iK,"EOL")});var YV=a(function(){return"LE"},"rr"),$V=a(function(){return typeof location<"u"?location.hostname:""},"or"),QV=a(function(){return[]},"nr"),WV=a(function(){return 0},"ir"),XV=a(function(){return Number.MAX_VALUE},"Br"),JV=a(function(){return Number.MAX_VALUE},"tr"),qV=a(function(){return[]},"Ur"),eK=a(function(){return"Browser"},"Fr"),tK=a(function(){return typeof navigator<"u"?navigator.appVersion:""},"ar"),TT=a(function(){return{}},"yS"),NT,rK=a(function(){return"javascript"},"er"),nK=a(function(){return"browser"},"sr"),IT=a(function(){return"/tmp"},"uS"),CT,iK=`
`,aK=a(function(){return"/"},"_o"),sK=lf(()=>{NT=TT,CT=IT}),An={};yi(An,{transcode:a(()=>JT,"transcode"),resolveObjectURL:a(()=>WT,"resolveObjectURL"),kStringMaxLength:a(()=>FT,"kStringMaxLength"),kMaxLength:a(()=>Ed,"kMaxLength"),isUtf8:a(()=>XT,"isUtf8"),isAscii:a(()=>RK,"isAscii"),default:a(()=>qT,"default"),constants:a(()=>KT,"constants"),btoa:a(()=>UT,"btoa"),atob:a(()=>HT,"atob"),INSPECT_MAX_BYTES:a(()=>BT,"INSPECT_MAX_BYTES"),File:a(()=>GT,"File"),Buffer:a(()=>st,"Buffer"),Blob:a(()=>VT,"Blob")});function oK(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}a(oK,"Ko$1");function lK(e,t){return(e+t)*3/4-t}a(lK,"Po$1");function uK(e){var t,r=oK(e),n=r[0],i=r[1],s=new Uint8Array(lK(n,i)),o=0,l=i>0?n-4:n,u;for(u=0;u<l;u+=4)t=Ii[e.charCodeAt(u)]<<18|Ii[e.charCodeAt(u+1)]<<12|Ii[e.charCodeAt(u+2)]<<6|Ii[e.charCodeAt(u+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Ii[e.charCodeAt(u)]<<2|Ii[e.charCodeAt(u+1)]>>4,s[o++]=t&255),i===1&&(t=Ii[e.charCodeAt(u)]<<10|Ii[e.charCodeAt(u+1)]<<4|Ii[e.charCodeAt(u+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}a(uK,"Oo");function cK(e){return da[e>>18&63]+da[e>>12&63]+da[e>>6&63]+da[e&63]}a(cK,"Yo");function dK(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(cK(n));return i.join("")}a(dK,"jo");function Kw(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,l=r-n;o<l;o+=s)i.push(dK(e,o,o+s>l?l:o+s));return n===1?(t=e[r-1],i.push(da[t>>2]+da[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(da[t>>10]+da[t>>4&63]+da[t<<2&63]+"=")),i.join("")}a(Kw,"pS");function Vf(e,t,r,n,i){var s,o,l=i*8-n-1,u=(1<<l)-1,c=u>>1,d=-7,f=r?i-1:0,g=r?-1:1,m=e[t+f];for(f+=g,s=m&(1<<-d)-1,m>>=-d,d+=l;d>0;s=s*256+e[t+f],f+=g,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+e[t+f],f+=g,d-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(m?-1:1)*o*Math.pow(2,s-n)}a(Vf,"P2");function MT(e,t,r,n,i,s){var o,l,u,c=s*8-i-1,d=(1<<c)-1,f=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,y=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?t+=g/u:t+=g*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=d?(l=0,o=d):o+f>=1?(l=(t*u-1)*Math.pow(2,i),o=o+f):(l=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+m]=l&255,m+=y,l/=256,i-=8);for(o=o<<i|l,c+=i;c>0;e[r+m]=o&255,m+=y,o/=256,c-=8);e[r+m-y]|=_*128}a(MT,"rS");function Rs(e){if(e>Ed)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,st.prototype),t}a(Rs,"V_");function bg(e,t,r){return class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}a(bg,"nJ");function st(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw TypeError('The "string" argument must be of type string. Received type number');return _y(e)}return OT(e,t,r)}a(st,"Z$");function OT(e,t,r){if(typeof e=="string")return hK(e,t);if(ArrayBuffer.isView(e))return pK(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ga(e,ArrayBuffer)||e&&Ga(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ga(e,SharedArrayBuffer)||e&&Ga(e.buffer,SharedArrayBuffer)))return Sy(e,t,r);if(typeof e=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return st.from(n,t,r);let i=mK(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return st.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}a(OT,"iS");function RT(e){if(typeof e!="number")throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}a(RT,"BS");function fK(e,t,r){return RT(e),e<=0?Rs(e):t!==void 0?typeof r=="string"?Rs(e).fill(t,r):Rs(e).fill(t):Rs(e)}a(fK,"fo$1");function _y(e){return RT(e),Rs(e<0?0:R2(e)|0)}a(_y,"iJ");function hK(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!st.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=LT(e,t)|0,n=Rs(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}a(hK,"Zo$1");function Ey(e){let t=e.length<0?0:R2(e.length)|0,r=Rs(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}a(Ey,"lJ");function pK(e){if(Ga(e,Uint8Array)){let t=new Uint8Array(e);return Sy(t.buffer,t.byteOffset,t.byteLength)}return Ey(e)}a(pK,"Xo");function Sy(e,t,r){if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,st.prototype),n}a(Sy,"rJ");function mK(e){if(st.isBuffer(e)){let t=R2(e.length)|0,r=Rs(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Number.isNaN(e.length)?Rs(0):Ey(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Ey(e.data)}a(mK,"Ao");function R2(e){if(e>=Ed)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ed.toString(16)+" bytes");return e|0}a(R2,"BJ");function LT(e,t){if(st.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ga(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ky(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return zT(e).length;default:if(i)return n?-1:ky(e).length;t=(""+t).toLowerCase(),i=!0}}a(LT,"tS");function gK(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return AK(this,t,r);case"utf8":case"utf-8":return DT(this,t,r);case"ascii":return SK(this,t,r);case"latin1":case"binary":return kK(this,t,r);case"base64":return _K(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return TK(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}a(gK,"ko");function Fo(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}a(Fo,"bK");function Zw(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Number.isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=st.from(t,n)),st.isBuffer(t))return t.length===0?-1:Yw(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Yw(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}a(Zw,"US");function Yw(e,t,r,n,i){let s=1,o=e.length,l=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,r/=2}function u(d,f){return s===1?d[f]:d.readUInt16BE(f*s)}a(u,"H");let c;if(i){let d=-1;for(c=r;c<o;c++)if(u(e,c)===u(t,d===-1?0:c-d)){if(d===-1&&(d=c),c-d+1===l)return d*s}else d!==-1&&(c-=c-d),d=-1}else for(r+l>o&&(r=o-l),c=r;c>=0;c--){let d=!0;for(let f=0;f<l;f++)if(u(e,c+f)!==u(t,f)){d=!1;break}if(d)return c}return-1}a(Yw,"mS");function bK(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=t.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let l=parseInt(t.substr(o*2,2),16);if(Number.isNaN(l))return o;e[r+o]=l}return o}a(bK,"Go$1");function vK(e,t,r,n){return Xp(ky(t,e.length-r),e,r,n)}a(vK,"Vo$1");function yK(e,t,r,n){return Xp(CK(t),e,r,n)}a(yK,"So");function wK(e,t,r,n){return Xp(zT(t),e,r,n)}a(wK,"Mo");function xK(e,t,r,n){return Xp(MK(t,e.length-r),e,r,n)}a(xK,"No$1");function _K(e,t,r){return t===0&&r===e.length?Kw(e):Kw(e.slice(t,r))}a(_K,"Co");function DT(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let s=e[i],o=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=r){let u,c,d,f;switch(l){case 1:s<128&&(o=s);break;case 2:u=e[i+1],(u&192)===128&&(f=(s&31)<<6|u&63,f>127&&(o=f));break;case 3:u=e[i+1],c=e[i+2],(u&192)===128&&(c&192)===128&&(f=(s&15)<<12|(u&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:u=e[i+1],c=e[i+2],d=e[i+3],(u&192)===128&&(c&192)===128&&(d&192)===128&&(f=(s&15)<<18|(u&63)<<12|(c&63)<<6|d&63,f>65535&&f<1114112&&(o=f))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=l}return EK(n)}a(DT,"FS");function EK(e){let t=e.length;if(t<=ex)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ex));return r}a(EK,"Eo$1");function SK(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}a(SK,"ho$1");function kK(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}a(kK,"Ro$1");function AK(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=QT[e[s]];return i}a(AK,"Io$1");function TK(e,t,r){let n=e.slice(t,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}a(TK,"Do$1");function Sn(e,t,r){if(e%1!==0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}a(Sn,"Hq");function si(e,t,r,n,i,s){if(!st.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}a(si,"$8");function $w(e,t,r,n,i){PT(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,r}a($w,"aS");function Qw(e,t,r,n,i){PT(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s=s>>8,e[r+6]=s,s=s>>8,e[r+5]=s,s=s>>8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o=o>>8,e[r+2]=o,o=o>>8,e[r+1]=o,o=o>>8,e[r]=o,r+8}a(Qw,"QS");function jT(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}a(jT,"eS");function Ww(e,t,r,n,i){return t=+t,r=r>>>0,!i&&jT(e,t,r,4),MT(e,t,r,n,23,4),r+4}a(Ww,"sS");function Xw(e,t,r,n,i){return t=+t,r=r>>>0,!i&&jT(e,t,r,8),MT(e,t,r,n,52,8),r+8}a(Xw,"$0");function Jw(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}a(Jw,"lS");function NK(e,t,r){au(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&Uc(t,e.length-(r+1))}a(NK,"Lo$1");function PT(e,t,r,n,i,s){if(e>r||e<t){let o=typeof t=="bigint"?"n":"",l;throw t===0||t===BigInt(0)?l=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:l=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`,new x0("value",l,e)}NK(n,i,s)}a(PT,"q0");function au(e,t){if(typeof e!="number")throw new YT(t,"number",e)}a(au,"d4");function Uc(e,t,r){throw Math.floor(e)!==e?(au(e,r),new x0("offset","an integer",e)):t<0?new ZT:new x0("offset",`>= 0 and <= ${t}`,e)}a(Uc,"U7");function IK(e){if(e=e.split("=")[0],e=e.trim().replace($T,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}a(IK,"bo$1");function ky(e,t){t=t||1/0;let r,n=e.length,i=null,s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw Error("Invalid code point")}return s}a(ky,"oJ");function CK(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}a(CK,"yo");function MK(e,t){let r,n,i,s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}a(MK,"uo");function zT(e){return uK(IK(e))}a(zT,"_0");function Xp(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}a(Xp,"O2");function Ga(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}a(Ga,"q_");function to(e){return typeof BigInt>"u"?OK:e}a(to,"$K");function OK(){throw Error("BigInt not supported")}a(OK,"po");function vg(e){return()=>{throw Error(e+" is not implemented for node:buffer browser polyfill")}}a(vg,"tJ");var da,Ii,yg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uo,qw,wg,BT=50,Ed=2147483647,FT=536870888,UT,HT,GT,VT,KT,ZT,YT,x0,ex=4096,$T,QT,WT,XT,RK=a(e=>{for(let t of e)if(t.charCodeAt(0)>127)return!1;return!0},"lo"),JT,qT,Dn=lf(()=>{for(da=[],Ii=[],Uo=0,qw=yg.length;Uo<qw;++Uo)da[Uo]=yg[Uo],Ii[yg.charCodeAt(Uo)]=Uo;Ii[45]=62,Ii[95]=63,wg=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,UT=globalThis.btoa,HT=globalThis.atob,GT=globalThis.File,VT=globalThis.Blob,KT={MAX_LENGTH:Ed,MAX_STRING_LENGTH:FT},ZT=bg("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),YT=bg("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),x0=bg("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=Jw(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Jw(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError),Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:a(function(){if(st.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:a(function(){if(st.isBuffer(this))return this.byteOffset},"get")}),st.poolSize=8192,st.from=function(e,t,r){return OT(e,t,r)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array),st.alloc=function(e,t,r){return fK(e,t,r)},st.allocUnsafe=function(e){return _y(e)},st.allocUnsafeSlow=function(e){return _y(e)},st.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==st.prototype},st.compare=function(e,t){if(Ga(e,Uint8Array)&&(e=st.from(e,e.offset,e.byteLength)),Ga(t,Uint8Array)&&(t=st.from(t,t.offset,t.byteLength)),!st.isBuffer(e)||!st.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},st.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return st.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=st.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let s=e[r];if(Ga(s,Uint8Array))i+s.length>n.length?(st.isBuffer(s)||(s=st.from(s)),s.copy(n,i)):Uint8Array.prototype.set.call(n,s,i);else if(st.isBuffer(s))s.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return n},st.byteLength=LT,st.prototype._isBuffer=!0,st.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Fo(this,t,t+1);return this},st.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Fo(this,t,t+3),Fo(this,t+1,t+2);return this},st.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Fo(this,t,t+7),Fo(this,t+1,t+6),Fo(this,t+2,t+5),Fo(this,t+3,t+4);return this},st.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?DT(this,0,e):gK.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(e){if(!st.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e?!0:st.compare(this,e)===0},st.prototype.inspect=function(){let e="",t=BT;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},wg&&(st.prototype[wg]=st.prototype.inspect),st.prototype.compare=function(e,t,r,n,i){if(Ga(e,Uint8Array)&&(e=st.from(e,e.offset,e.byteLength)),!st.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,l=Math.min(s,o),u=this.slice(n,i),c=e.slice(t,r);for(let d=0;d<l;++d)if(u[d]!==c[d]){s=u[d],o=c[d];break}return s<o?-1:o<s?1:0},st.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},st.prototype.indexOf=function(e,t,r){return Zw(this,e,t,r,!0)},st.prototype.lastIndexOf=function(e,t,r){return Zw(this,e,t,r,!1)},st.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return bK(this,e,t,r);case"utf8":case"utf-8":return vK(this,e,t,r);case"ascii":case"latin1":case"binary":return yK(this,e,t,r);case"base64":return wK(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xK(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},st.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,st.prototype),n},st.prototype.readUintLE=st.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Sn(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},st.prototype.readUintBE=st.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Sn(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},st.prototype.readUint8=st.prototype.readUInt8=function(e,t){return e=e>>>0,!t&&Sn(e,1,this.length),this[e]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(e,t){return e=e>>>0,!t&&Sn(e,2,this.length),this[e]|this[e+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(e,t){return e=e>>>0,!t&&Sn(e,2,this.length),this[e]<<8|this[e+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},st.prototype.readBigUInt64LE=to(function(e){e=e>>>0,au(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Uc(e,this.length-8);let n=t+this[++e]*256+this[++e]*65536+this[++e]*16777216,i=this[++e]+this[++e]*256+this[++e]*65536+r*16777216;return BigInt(n)+(BigInt(i)<<BigInt(32))}),st.prototype.readBigUInt64BE=to(function(e){e=e>>>0,au(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Uc(e,this.length-8);let n=t*16777216+this[++e]*65536+this[++e]*256+this[++e],i=this[++e]*16777216+this[++e]*65536+this[++e]*256+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),st.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Sn(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},st.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&Sn(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},st.prototype.readInt8=function(e,t){return e=e>>>0,!t&&Sn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},st.prototype.readInt16LE=function(e,t){e=e>>>0,!t&&Sn(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},st.prototype.readInt16BE=function(e,t){e=e>>>0,!t&&Sn(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},st.prototype.readInt32LE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},st.prototype.readInt32BE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},st.prototype.readBigInt64LE=to(function(e){e=e>>>0,au(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Uc(e,this.length-8);let n=this[e+4]+this[e+5]*256+this[e+6]*65536+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*256+this[++e]*65536+this[++e]*16777216)}),st.prototype.readBigInt64BE=to(function(e){e=e>>>0,au(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Uc(e,this.length-8);let n=(t<<24)+this[++e]*65536+this[++e]*256+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*16777216+this[++e]*65536+this[++e]*256+r)}),st.prototype.readFloatLE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),Vf(this,e,!0,23,4)},st.prototype.readFloatBE=function(e,t){return e=e>>>0,!t&&Sn(e,4,this.length),Vf(this,e,!1,23,4)},st.prototype.readDoubleLE=function(e,t){return e=e>>>0,!t&&Sn(e,8,this.length),Vf(this,e,!0,52,8)},st.prototype.readDoubleBE=function(e,t){return e=e>>>0,!t&&Sn(e,8,this.length),Vf(this,e,!1,52,8)},st.prototype.writeUintLE=st.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let o=Math.pow(2,8*r)-1;si(this,e,t,r,o,0)}let i=1,s=0;for(this[t]=e&255;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,r=r>>>0,!n){let o=Math.pow(2,8*r)-1;si(this,e,t,r,o,0)}let i=r-1,s=1;for(this[t+i]=e&255;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},st.prototype.writeUint8=st.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,1,255,0),this[t]=e&255,t+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},st.prototype.writeBigUInt64LE=to(function(e,t=0){return $w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeBigUInt64BE=to(function(e,t=0){return Qw(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);si(this,e,t,r,l-1,-l)}let i=0,s=1,o=0;for(this[t]=e&255;++i<r&&(s*=256);)e<0&&o===0&&this[t+i-1]!==0&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},st.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=t>>>0,!n){let l=Math.pow(2,8*r-1);si(this,e,t,r,l-1,-l)}let i=r-1,s=1,o=0;for(this[t+i]=e&255;--i>=0&&(s*=256);)e<0&&o===0&&this[t+i+1]!==0&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},st.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},st.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},st.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},st.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},st.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&si(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},st.prototype.writeBigInt64LE=to(function(e,t=0){return $w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),st.prototype.writeBigInt64BE=to(function(e,t=0){return Qw(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),st.prototype.writeFloatLE=function(e,t,r){return Ww(this,e,t,!0,r)},st.prototype.writeFloatBE=function(e,t,r){return Ww(this,e,t,!1,r)},st.prototype.writeDoubleLE=function(e,t,r){return Xw(this,e,t,!0,r)},st.prototype.writeDoubleBE=function(e,t,r){return Xw(this,e,t,!1,r)},st.prototype.copy=function(e,t,r,n){if(!st.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},st.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw TypeError("encoding must be a string");if(typeof n=="string"&&!st.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(e.length===1){let s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,!e&&(e=0);let i;if(typeof e=="number")for(i=t;i<r;++i)this[i]=e;else{let s=st.isBuffer(e)?e:st.from(e,n),o=s.length;if(o===0)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this},$T=/[^+/0-9A-Za-z-_]/g,QT=(function(){let e=Array(256);for(let t=0;t<16;++t){let r=t*16;for(let n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n]}return e})(),WT=vg("resolveObjectURL"),XT=vg("isUtf8"),JT=vg("transcode"),qT=st}),eN={};yi(eN,{types:a(()=>ZK,"types"),promisify:a(()=>Iy,"promisify"),log:a(()=>nN,"log"),isUndefined:a(()=>fu,"isUndefined"),isSymbol:a(()=>HK,"isSymbol"),isString:a(()=>qp,"isString"),isRegExp:a(()=>e0,"isRegExp"),isPrimitive:a(()=>GK,"isPrimitive"),isObject:a(()=>Fu,"isObject"),isNumber:a(()=>rN,"isNumber"),isNullOrUndefined:a(()=>UK,"isNullOrUndefined"),isNull:a(()=>Jp,"isNull"),isFunction:a(()=>r0,"isFunction"),isError:a(()=>t0,"isError"),isDate:a(()=>Ty,"isDate"),isBuffer:a(()=>VK,"isBuffer"),isBoolean:a(()=>D2,"isBoolean"),isArray:a(()=>tN,"isArray"),inspect:a(()=>go,"inspect"),inherits:a(()=>iN,"inherits"),format:a(()=>L2,"format"),deprecate:a(()=>LK,"deprecate"),default:a(()=>cN,"default"),debuglog:a(()=>lN,"debuglog"),callbackifyOnRejected:a(()=>P2,"callbackifyOnRejected"),callbackify:a(()=>sN,"callbackify"),_extend:a(()=>Ny,"_extend"),TextEncoder:a(()=>Cy,"TextEncoder"),TextDecoder:a(()=>My,"TextDecoder")});function L2(e,...t){if(!qp(e)){for(var r=[e],n=0;n<t.length;n++)r.push(go(t[n]));return r.join(" ")}for(var n=0,i=t.length,s=String(e).replace(oN,function(l){if(l==="%%")return"%";if(n>=i)return l;switch(l){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}default:return l}}),o=t[n];n<i;o=t[++n])Jp(o)||!Fu(o)?s+=" "+o:s+=" "+go(o);return s}a(L2,"eJ");function LK(e,t){if(typeof process>"u"||process?.noDeprecation===!0)return e;var r=!1;function n(...i){if(!r){if(process.throwDeprecation)throw Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,...i)}return a(n,"K"),n}a(LK,"io");function DK(e,t){var r=go.styles[t];return r?"\x1B["+go.colors[r][0]+"m"+e+"\x1B["+go.colors[r][1]+"m":e}a(DK,"to$2");function jK(e,t){return e}a(jK,"Uo$1");function PK(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}a(PK,"Fo");function _0(e,t,r){if(e.customInspect&&t&&r0(t.inspect)&&t.inspect!==go&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return qp(n)||(n=_0(e,n,r)),n}var i=zK(e,t);if(i)return i;var s=Object.keys(t),o=PK(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),t0(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return xg(t);if(s.length===0){if(r0(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(e0(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ty(t))return e.stylize(Date.prototype.toString.call(t),"date");if(t0(t))return xg(t)}var u="",c=!1,d=["{","}"];if(tN(t)&&(c=!0,d=["[","]"]),r0(t)){var f=t.name?": "+t.name:"";u=" [Function"+f+"]"}if(e0(t)&&(u=" "+RegExp.prototype.toString.call(t)),Ty(t)&&(u=" "+Date.prototype.toUTCString.call(t)),t0(t)&&(u=" "+xg(t)),s.length===0&&(!c||t.length==0))return d[0]+u+d[1];if(r<0)return e0(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var g;return c?g=BK(e,t,r,o,s):g=s.map(function(m){return Ay(e,t,r,o,m,c)}),e.seen.pop(),FK(g,u,d)}a(_0,"z2");function zK(e,t){if(fu(t))return e.stylize("undefined","undefined");if(qp(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(rN(t))return e.stylize(""+t,"number");if(D2(t))return e.stylize(""+t,"boolean");if(Jp(t))return e.stylize("null","null")}a(zK,"ao");function xg(e){return"["+Error.prototype.toString.call(e)+"]"}a(xg,"UJ");function BK(e,t,r,n,i){for(var s=[],o=0,l=t.length;o<l;++o)aN(t,String(o))?s.push(Ay(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(Ay(e,t,r,n,u,!0))}),s}a(BK,"Qo");function Ay(e,t,r,n,i,s){var o,l,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?u.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):u.set&&(l=e.stylize("[Setter]","special")),aN(n,i)||(o="["+i+"]"),l||(e.seen.indexOf(u.value)<0?(Jp(r)?l=_0(e,u.value,null):l=_0(e,u.value,r-1),l.indexOf(`
`)>-1&&(s?l=l.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(c){return"   "+c}).join(`
`))):l=e.stylize("[Circular]","special")),fu(o)){if(s&&i.match(/^\d+$/))return l;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}a(Ay,"aJ");function FK(e,t,r){var n=e.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}a(FK,"eo");function tN(e){return Array.isArray(e)}a(tN,"K0");function D2(e){return typeof e=="boolean"}a(D2,"sJ");function Jp(e){return e===null}a(Jp,"W2");function UK(e){return e==null}a(UK,"$n$1");function rN(e){return typeof e=="number"}a(rN,"P0");function qp(e){return typeof e=="string"}a(qp,"J2");function HK(e){return typeof e=="symbol"}a(HK,"qn");function fu(e){return e===void 0}a(fu,"l4");function e0(e){return Fu(e)&&j2(e)==="[object RegExp]"}a(e0,"Y2");function Fu(e){return typeof e=="object"&&e!==null}a(Fu,"r4");function Ty(e){return Fu(e)&&j2(e)==="[object Date]"}a(Ty,"QJ");function t0(e){return Fu(e)&&(j2(e)==="[object Error]"||e instanceof Error)}a(t0,"j2");function r0(e){return typeof e=="function"}a(r0,"v2");function GK(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}a(GK,"_n");function VK(e){return e instanceof Buffer}a(VK,"Kn");function j2(e){return Object.prototype.toString.call(e)}a(j2,"$H");function _g(e){return e<10?"0"+e.toString(10):e.toString(10)}a(_g,"FJ");function KK(){var e=new Date,t=[_g(e.getHours()),_g(e.getMinutes()),_g(e.getSeconds())].join(":");return[e.getDate(),uN[e.getMonth()],t].join(" ")}a(KK,"On");function nN(...e){console.log("%s - %s",KK(),L2.apply(null,e))}a(nN,"O0");function iN(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}a(iN,"Y0");function Ny(e,t){if(!t||!Fu(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}a(Ny,"qH");function aN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}a(aN,"j0");function P2(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}a(P2,"_H");function sN(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');function t(...r){var n=r.pop();if(typeof n!="function")throw TypeError("The last argument must be of type Function");var i=this,s=a(function(...o){return n.apply(i,...o)},"O");e.apply(this,r).then(function(o){process.nextTick(s.bind(null,null,o))},function(o){process.nextTick(P2.bind(null,o,s))})}return a(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),t}a(sN,"z0");var oN,lN,go,ZK=a(()=>{},"so"),uN,Iy,Cy,My,cN,YK=lf(()=>{oN=/%[sdj%]/g,lN=((e={},t={},r)=>((r=typeof process<"u"&&!1)&&(r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),t=new RegExp("^"+r+"$","i"),n=>(n=n.toUpperCase(),!e[n]&&(t.test(n)?e[n]=function(...i){console.error("%s: %s",n,pid,L2.apply(null,...i))}:e[n]=function(){}),e[n])))(),go=(e=>(e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.custom=Symbol.for("nodejs.util.inspect.custom"),e))(function(e,t,...r){var n={seen:[],stylize:jK};return r.length>=1&&(n.depth=r[0]),r.length>=2&&(n.colors=r[1]),D2(t)?n.showHidden=t:t&&Ny(n,t),fu(n.showHidden)&&(n.showHidden=!1),fu(n.depth)&&(n.depth=2),fu(n.colors)&&(n.colors=!1),n.colors&&(n.stylize=DK),_0(n,e,n.depth)}),uN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Iy=(e=>(e.custom=Symbol.for("nodejs.util.promisify.custom"),e))(function(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&e[kCustomPromisifiedSymbol]){var t=e[kCustomPromisifiedSymbol];if(typeof t!="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(...r){var n,i,s=new Promise(function(o,l){n=o,i=l});r.push(function(o,l){o?i(o):n(l)});try{e.apply(this,r)}catch(o){i(o)}return s}return a(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),kCustomPromisifiedSymbol&&Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}),{TextEncoder:Cy,TextDecoder:My}=globalThis,cN={TextEncoder:Cy,TextDecoder:My,promisify:Iy,log:nN,inherits:iN,_extend:Ny,callbackifyOnRejected:P2,callbackify:sN}}),Hc={};yi(Hc,{setMaxListeners:a(()=>pN,"setMaxListeners"),once:a(()=>fN,"once"),listenerCount:a(()=>mN,"listenerCount"),init:a(()=>ks,"init"),getMaxListeners:a(()=>bN,"getMaxListeners"),getEventListeners:a(()=>hN,"getEventListeners"),default:a(()=>yN,"default"),captureRejectionSymbol:a(()=>Dy,"captureRejectionSymbol"),addAbortListener:a(()=>vN,"addAbortListener"),EventEmitter:a(()=>ks,"EventEmitter")});function dN(e,t){var{_events:r}=e;if(t[0]??=Error("Unhandled error."),!r)throw t[0];var n=r[Ry];if(n)for(var i of jy.call(n))i.apply(e,t);var s=r.error;if(!s)throw t[0];for(var i of jy.call(s))i.apply(e,t);return!0}a(dN,"k0");function $K(e,t,r,n){t.then(void 0,function(i){queueMicrotask(()=>QK(e,i,r,n))})}a($K,"zn");function QK(e,t,r,n){if(typeof e[Ly]=="function")e[Ly](t,r,...n);else try{e[fo]=!1,e.emit("error",t)}finally{e[fo]=!0}}a(QK,"Wn");function tx(e,t,r){r.warned=!0;let n=Error(`Possible EventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to [${e.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);n.name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=r.length,console.warn(n)}a(tx,"G0");function rx(e,t,...r){this.removeListener(e,t),t.apply(this,r)}a(rx,"V0");function fN(e,t,r){var n=r?.signal;if(gN(n,"options.signal"),n?.aborted)throw new Py(void 0,{cause:n?.reason});let{resolve:i,reject:s,promise:o}=$newPromiseCapability(Promise),l=a(d=>{e.removeListener(t,u),n!=null&&Kf(n,"abort",c),s(d)},"z"),u=a((...d)=>{typeof e.removeListener=="function"&&e.removeListener("error",l),n!=null&&Kf(n,"abort",c),i(d)},"H");nx(e,t,u,{once:!0}),t!=="error"&&typeof e.once=="function"&&e.once("error",l);function c(){Kf(e,t,u),Kf(e,"error",l),s(new Py(void 0,{cause:n?.reason}))}return a(c,"T"),n!=null&&nx(n,"abort",c,{once:!0}),o}a(fN,"S0");function hN(e,t){return e.listeners(t)}a(hN,"M0");function pN(e,...t){Oy(e,"setMaxListeners",0);var r;if(t&&(r=t.length))for(let n=0;n<r;n++)t[n].setMaxListeners(e);else el=e}a(pN,"N0");function mN(e,t){return e.listenerCount(t)}a(mN,"C0");function Kf(e,t,r,n){typeof e.removeListener=="function"?e.removeListener(t,r):e.removeEventListener(t,r,n)}a(Kf,"H2");function nx(e,t,r,n){typeof e.on=="function"?n.once?e.once(t,r):e.on(t,r):e.addEventListener(t,r,n)}a(nx,"Z0");function wu(e,t,r){let n=TypeError(`The "${e}" argument must be of type ${t}. Received ${r}`);return n.code="ERR_INVALID_ARG_TYPE",n}a(wu,"o4");function WK(e,t,r){let n=RangeError(`The "${e}" argument is out of range. It must be ${t}. Received ${r}`);return n.code="ERR_OUT_OF_RANGE",n}a(WK,"Tn");function gN(e,t){if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw wu(t,"AbortSignal",e)}a(gN,"E0");function Oy(e,t,r,n){if(typeof e!="number")throw wu(t,"number",e);if(e<r||n!=null||Number.isNaN(e))throw WK(t,`${`>= ${r}`}`,e)}a(Oy,"OH");function nc(e){if(typeof e!="function")throw TypeError("The listener must be a function")}a(nc,"F7");function XK(e,t){if(typeof e!="boolean")throw wu(t,"boolean",e)}a(XK,"wn");function bN(e){return e?._maxListeners??el}a(bN,"h0");function vN(e,t){if(e===void 0)throw wu("signal","AbortSignal",e);if(gN(e,"signal"),typeof t!="function")throw wu("listener","function",t);let r;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0}),r=a(()=>{e.removeEventListener("abort",t)},"_")),{__proto__:null,[Symbol.dispose](){r?.()}}}a(vN,"R0");var Zf,fo,Ry,ix,ax,Ly,Dy,jy,el=10,ks=a(function(e){(this._events===void 0||this._events===this.__proto__._events)&&(this._events={__proto__:null},this._eventsCount=0),this._maxListeners??=void 0,(this[fo]=e?.captureRejections?!!e?.captureRejections:Fr[fo])&&(this.emit=qK)},"qK"),Fr,JK=a(function(e,...t){if(e==="error")return dN(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let s=0,{length:o}=i;s<o;s++){let l=i[s];switch(t.length){case 0:l.call(this);break;case 1:l.call(this,t[0]);break;case 2:l.call(this,t[0],t[1]);break;case 3:l.call(this,t[0],t[1],t[2]);break;default:l.apply(this,t);break}}return!0},"Jn"),qK=a(function(e,...t){if(e==="error")return dN(this,t);var{_events:r}=this;if(r===void 0)return!1;var n=r[e];if(n===void 0)return!1;let i=n.length>1?n.slice():n;for(let s=0,{length:o}=i;s<o;s++){let l=i[s],u;switch(t.length){case 0:u=l.call(this);break;case 1:u=l.call(this,t[0]);break;case 2:u=l.call(this,t[0],t[1]);break;case 3:u=l.call(this,t[0],t[1],t[2]);break;default:u=l.apply(this,t);break}u!==void 0&&typeof u?.then=="function"&&u.then===Promise.prototype.then&&$K(this,u,e,t)}return!0},"Hn"),Py,yN,Yf=lf(()=>{Zf=Symbol.for,fo=Symbol("kCapture"),Ry=Zf("events.errorMonitor"),ix=Symbol("events.maxEventTargetListeners"),ax=Symbol("events.maxEventTargetListenersWarned"),Ly=Zf("nodejs.rejection"),Dy=Zf("nodejs.rejection"),jy=Array.prototype.slice,Fr=ks.prototype={},Fr._events=void 0,Fr._eventsCount=0,Fr._maxListeners=void 0,Fr.setMaxListeners=function(e){return Oy(e,"setMaxListeners",0),this._maxListeners=e,this},Fr.constructor=ks,Fr.getMaxListeners=function(){return this?._maxListeners??el},Fr.emit=JK,Fr.addListener=function(e,t){nc(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.push(t);var i=this._maxListeners??el;i>0&&n.length>i&&!n.warned&&tx(this,e,n)}return this},Fr.on=Fr.addListener,Fr.prependListener=function(e,t){nc(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var n=r[e];if(!n)r[e]=[t],this._eventsCount++;else{n.unshift(t);var i=this._maxListeners??el;i>0&&n.length>i&&!n.warned&&tx(this,e,n)}return this},Fr.once=function(e,t){nc(t);let r=rx.bind(this,e,t);return r.listener=t,this.addListener(e,r),this},Fr.prependOnceListener=function(e,t){nc(t);let r=rx.bind(this,e,t);return r.listener=t,this.prependListener(e,r),this},Fr.removeListener=function(e,t){nc(t);var{_events:r}=this;if(!r)return this;var n=r[e];if(!n)return this;var i=n.length;let s=-1;for(let o=i-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=o;break}return s<0?this:(s===0?n.shift():n.splice(s,1),n.length===0&&(delete r[e],this._eventsCount--),this)},Fr.off=Fr.removeListener,Fr.removeAllListeners=function(e){var{_events:t}=this;return e&&t?t[e]&&(delete t[e],this._eventsCount--):this._events={__proto__:null},this},Fr.listeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.map(n=>n.listener??n):[]},Fr.rawListeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.slice():[]},Fr.listenerCount=function(e){var{_events:t}=this;return t?t[e]?.length??0:0},Fr.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},Fr[fo]=!1,Py=class extends Error{static{a(this,"KH")}constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw wu("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}},Object.defineProperties(ks,{captureRejections:{get(){return Fr[fo]},set(e){XK(e,"EventEmitter.captureRejections"),Fr[fo]=e},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:a(()=>el,"get"),set:a(e=>{Oy(e,"defaultMaxListeners",0),el=e},"set")},kMaxEventTargetListeners:{value:ix,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:ax,enumerable:!1,configurable:!1,writable:!1}}),Object.assign(ks,{once:fN,getEventListeners:hN,getMaxListeners:bN,setMaxListeners:pN,EventEmitter:ks,usingDomains:!1,captureRejectionSymbol:Dy,errorMonitor:Ry,addAbortListener:vN,init:ks,listenerCount:mN}),yN=ks}),wN=dt((e,t)=>{var r=a((T,N)=>()=>(N||T((N={exports:{}}).exports,N),N.exports),"V6"),n=r((T,N)=>{class k extends Error{static{a(this,"_")}constructor(S){if(!Array.isArray(S))throw TypeError(`Expected input to be an Array, got ${typeof S}`);let C="";for(let M=0;M<S.length;M++)C+=`    ${S[M].stack}
`;super(C),this.name="AggregateError",this.errors=S}}N.exports={AggregateError:k,ArrayIsArray(p){return Array.isArray(p)},ArrayPrototypeIncludes(p,S){return p.includes(S)},ArrayPrototypeIndexOf(p,S){return p.indexOf(S)},ArrayPrototypeJoin(p,S){return p.join(S)},ArrayPrototypeMap(p,S){return p.map(S)},ArrayPrototypePop(p,S){return p.pop(S)},ArrayPrototypePush(p,S){return p.push(S)},ArrayPrototypeSlice(p,S,C){return p.slice(S,C)},Error,FunctionPrototypeCall(p,S,...C){return p.call(S,...C)},FunctionPrototypeSymbolHasInstance(p,S){return Function.prototype[Symbol.hasInstance].call(p,S)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(p,S){return Object.defineProperties(p,S)},ObjectDefineProperty(p,S,C){return Object.defineProperty(p,S,C)},ObjectGetOwnPropertyDescriptor(p,S){return Object.getOwnPropertyDescriptor(p,S)},ObjectKeys(p){return Object.keys(p)},ObjectSetPrototypeOf(p,S){return Object.setPrototypeOf(p,S)},Promise,PromisePrototypeCatch(p,S){return p.catch(S)},PromisePrototypeThen(p,S,C){return p.then(S,C)},PromiseReject(p){return Promise.reject(p)},PromiseResolve(p){return Promise.resolve(p)},ReflectApply:Reflect.apply,RegExpPrototypeTest(p,S){return p.test(S)},SafeSet:Set,String,StringPrototypeSlice(p,S,C){return p.slice(S,C)},StringPrototypeToLowerCase(p){return p.toLowerCase()},StringPrototypeToUpperCase(p){return p.toUpperCase()},StringPrototypeTrim(p){return p.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(p,S,C){return p.set(S,C)},Boolean,Uint8Array}}),i=r((T,N)=>{N.exports={format(k,...p){return k.replace(/%([sdifj])/g,function(...[S,C]){let M=p.shift();return C==="f"?M.toFixed(6):C==="j"?JSON.stringify(M):C==="s"&&typeof M=="object"?`${M.constructor!==Object?M.constructor.name:""} {}`.trim():M.toString()})},inspect(k){switch(typeof k){case"string":if(k.includes("'"))if(k.includes('"')){if(!k.includes("`")&&!k.includes("${"))return`\`${k}\``}else return`"${k}"`;return`'${k}'`;case"number":return isNaN(k)?"NaN":Object.is(k,-0)?String(k):k;case"bigint":return`${String(k)}n`;case"boolean":case"undefined":return String(k);case"object":return"{}"}}}}),s=r((T,N)=>{var{format:k,inspect:p}=i(),{AggregateError:S}=n(),C=globalThis.AggregateError||S,M=Symbol("kIsNodeError"),U=["string","function","number","object","Function","Object","boolean","bigint","symbol"],B=/^([A-Z][a-z0-9]*)+$/,G={};function J(Ce,X){if(!Ce)throw new G.ERR_INTERNAL_ASSERTION(X)}a(J,"f");function ue(Ce){let X="",ce=Ce.length,te=Ce[0]==="-"?1:0;for(;ce>=te+4;ce-=3)X=`_${Ce.slice(ce-3,ce)}${X}`;return`${Ce.slice(0,ce)}${X}`}a(ue,"w");function se(Ce,X,ce){if(typeof X=="function")return J(X.length<=ce.length,`Code: ${Ce}; The provided arguments length (${ce.length}) does not match the required ones (${X.length}).`),X(...ce);let te=(X.match(/%[dfijoOs]/g)||[]).length;return J(te===ce.length,`Code: ${Ce}; The provided arguments length (${ce.length}) does not match the required ones (${te}).`),ce.length===0?X:k(X,...ce)}a(se,"k");function oe(Ce,X,ce){ce||(ce=Error);class te extends ce{static{a(this,"g")}constructor(...me){super(se(Ce,X,me))}toString(){return`${this.name} [${Ce}]: ${this.message}`}}Object.defineProperties(te.prototype,{name:{value:ce.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Ce}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),te.prototype.code=Ce,te.prototype[M]=!0,G[Ce]=te}a(oe,"S");function Pe(Ce){let X="__node_internal_"+Ce.name;return Object.defineProperty(Ce,"name",{value:X}),Ce}a(Pe,"N");function Ee(Ce,X){if(Ce&&X&&Ce!==X){if(Array.isArray(X.errors))return X.errors.push(Ce),X;let ce=new C([X,Ce],X.message);return ce.code=X.code,ce}return Ce||X}a(Ee,"h");class be extends Error{static{a(this,"E")}constructor(X="The operation was aborted",ce=void 0){if(ce!==void 0&&typeof ce!="object")throw new G.ERR_INVALID_ARG_TYPE("options","Object",ce);super(X,ce),this.code="ABORT_ERR",this.name="AbortError"}}oe("ERR_ASSERTION","%s",Error),oe("ERR_INVALID_ARG_TYPE",(Ce,X,ce)=>{J(typeof Ce=="string","'name' must be a string"),!Array.isArray(X)&&(X=[X]);let te="The ";Ce.endsWith(" argument")?te+=`${Ce} `:te+=`"${Ce}" ${Ce.includes(".")?"property":"argument"} `,te+="must be ";let ie=[],me=[],xe=[];for(let de of X)J(typeof de=="string","All expected entries have to be of type string"),U.includes(de)?ie.push(de.toLowerCase()):B.test(de)?me.push(de):(J(de!=="object",'The value "object" should be written as "Object"'),xe.push(de));if(me.length>0){let de=ie.indexOf("object");de!==-1&&(ie.splice(ie,de,1),me.push("Object"))}if(ie.length>0){switch(ie.length){case 1:te+=`of type ${ie[0]}`;break;case 2:te+=`one of type ${ie[0]} or ${ie[1]}`;break;default:{let de=ie.pop();te+=`one of type ${ie.join(", ")}, or ${de}`}}(me.length>0||xe.length>0)&&(te+=" or ")}if(me.length>0){switch(me.length){case 1:te+=`an instance of ${me[0]}`;break;case 2:te+=`an instance of ${me[0]} or ${me[1]}`;break;default:{let de=me.pop();te+=`an instance of ${me.join(", ")}, or ${de}`}}xe.length>0&&(te+=" or ")}switch(xe.length){case 0:break;case 1:xe[0].toLowerCase()!==xe[0]&&(te+="an "),te+=`${xe[0]}`;break;case 2:te+=`one of ${xe[0]} or ${xe[1]}`;break;default:{let de=xe.pop();te+=`one of ${xe.join(", ")}, or ${de}`}}if(ce==null)te+=`. Received ${ce}`;else if(typeof ce=="function"&&ce.name)te+=`. Received function ${ce.name}`;else if(typeof ce=="object"){var Oe;if((Oe=ce.constructor)!==null&&Oe!==void 0&&Oe.name)te+=`. Received an instance of ${ce.constructor.name}`;else{let de=p(ce,{depth:-1});te+=`. Received ${de}`}}else{let de=p(ce,{colors:!1});de.length>25&&(de=`${de.slice(0,25)}...`),te+=`. Received type ${typeof ce} (${de})`}return te},TypeError),oe("ERR_INVALID_ARG_VALUE",(Ce,X,ce="is invalid")=>{let te=p(X);return te.length>128&&(te=te.slice(0,128)+"..."),`The ${Ce.includes(".")?"property":"argument"} '${Ce}' ${ce}. Received ${te}`},TypeError),oe("ERR_INVALID_RETURN_VALUE",(Ce,X,ce)=>{var te;let ie=ce!=null&&(te=ce.constructor)!==null&&te!==void 0&&te.name?`instance of ${ce.constructor.name}`:`type ${typeof ce}`;return`Expected ${Ce} to be returned from the "${X}" function but got ${ie}.`},TypeError),oe("ERR_MISSING_ARGS",(...Ce)=>{J(Ce.length>0,"At least one arg needs to be specified");let X,ce=Ce.length;switch(Ce=(Array.isArray(Ce)?Ce:[Ce]).map(te=>`"${te}"`).join(" or "),ce){case 1:X+=`The ${Ce[0]} argument`;break;case 2:X+=`The ${Ce[0]} and ${Ce[1]} arguments`;break;default:{let te=Ce.pop();X+=`The ${Ce.join(", ")}, and ${te} arguments`}break}return`${X} must be specified`},TypeError),oe("ERR_OUT_OF_RANGE",(Ce,X,ce)=>{J(X,'Missing "range" argument');let te;if(Number.isInteger(ce)&&Math.abs(ce)>4294967296)te=ue(String(ce));else if(typeof ce=="bigint"){te=String(ce);let ie=BigInt(2)**BigInt(32);(ce>ie||ce<-ie)&&(te=ue(te)),te+="n"}else te=p(ce);return`The value of "${Ce}" is out of range. It must be ${X}. Received ${te}`},RangeError),oe("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),oe("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),oe("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),oe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),oe("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),oe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),oe("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),oe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),oe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),oe("ERR_STREAM_WRITE_AFTER_END","write after end",Error),oe("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),N.exports={AbortError:be,aggregateTwoErrors:Pe(Ee),hideStackFrames:Pe,codes:G}}),o=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=new WeakMap,p=new WeakMap;function S(Q){let ne=k.get(Q);return console.assert(ne!=null,"'this' is expected an Event object, but got",Q),ne}a(S,"P");function C(Q){if(Q.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",Q.passiveListener);return}Q.event.cancelable&&(Q.canceled=!0,typeof Q.event.preventDefault=="function"&&Q.event.preventDefault())}a(C,"O");function M(Q,ne){k.set(this,{eventTarget:Q,event:ne,eventPhase:2,currentTarget:Q,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:ne.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let q=Object.keys(ne);for(let $=0;$<q.length;++$){let re=q[$];re in this||Object.defineProperty(this,re,U(re))}}a(M,"Y"),M.prototype={get type(){return S(this).event.type},get target(){return S(this).eventTarget},get currentTarget(){return S(this).currentTarget},composedPath(){let Q=S(this).currentTarget;return Q==null?[]:[Q]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return S(this).eventPhase},stopPropagation(){let Q=S(this);Q.stopped=!0,typeof Q.event.stopPropagation=="function"&&Q.event.stopPropagation()},stopImmediatePropagation(){let Q=S(this);Q.stopped=!0,Q.immediateStopped=!0,typeof Q.event.stopImmediatePropagation=="function"&&Q.event.stopImmediatePropagation()},get bubbles(){return!!S(this).event.bubbles},get cancelable(){return!!S(this).event.cancelable},preventDefault(){C(S(this))},get defaultPrevented(){return S(this).canceled},get composed(){return!!S(this).event.composed},get timeStamp(){return S(this).timeStamp},get srcElement(){return S(this).eventTarget},get cancelBubble(){return S(this).stopped},set cancelBubble(Q){if(!Q)return;let ne=S(this);ne.stopped=!0,typeof ne.event.cancelBubble=="boolean"&&(ne.event.cancelBubble=!0)},get returnValue(){return!S(this).canceled},set returnValue(Q){Q||C(S(this))},initEvent(){}},Object.defineProperty(M.prototype,"constructor",{value:M,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(M.prototype,window.Event.prototype),p.set(window.Event.prototype,M));function U(Q){return{get(){return S(this).event[Q]},set(ne){S(this).event[Q]=ne},configurable:!0,enumerable:!0}}a(U,"z");function B(Q){return{value(){let ne=S(this).event;return ne[Q].apply(ne,arguments)},configurable:!0,enumerable:!0}}a(B,"H");function G(Q,ne){let q=Object.keys(ne);if(q.length===0)return Q;function $(re,ae){Q.call(this,re,ae)}a($,"J"),$.prototype=Object.create(Q.prototype,{constructor:{value:$,configurable:!0,writable:!0}});for(let re=0;re<q.length;++re){let ae=q[re];if(!(ae in Q.prototype)){let Be=typeof Object.getOwnPropertyDescriptor(ne,ae).value=="function";Object.defineProperty($.prototype,ae,Be?B(ae):U(ae))}}return $}a(G,"T");function J(Q){if(Q==null||Q===Object.prototype)return M;let ne=p.get(Q);return ne==null&&(ne=G(J(Object.getPrototypeOf(Q)),Q),p.set(Q,ne)),ne}a(J,"f");function ue(Q,ne){return new(J(Object.getPrototypeOf(ne)))(Q,ne)}a(ue,"w");function se(Q){return S(Q).immediateStopped}a(se,"k");function oe(Q,ne){S(Q).eventPhase=ne}a(oe,"S");function Pe(Q,ne){S(Q).currentTarget=ne}a(Pe,"N");function Ee(Q,ne){S(Q).passiveListener=ne}a(Ee,"h");var be=new WeakMap,Ce=1,X=2,ce=3;function te(Q){return Q!==null&&typeof Q=="object"}a(te,"g");function ie(Q){let ne=be.get(Q);if(ne==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return ne}a(ie,"y");function me(Q){return{get(){let ne=ie(this).get(Q);for(;ne!=null;){if(ne.listenerType===ce)return ne.listener;ne=ne.next}return null},set(ne){typeof ne!="function"&&!te(ne)&&(ne=null);let q=ie(this),$=null,re=q.get(Q);for(;re!=null;)re.listenerType===ce?$!==null?$.next=re.next:re.next!==null?q.set(Q,re.next):q.delete(Q):$=re,re=re.next;if(ne!==null){let ae={listener:ne,listenerType:ce,passive:!1,once:!1,next:null};$===null?q.set(Q,ae):$.next=ae}},configurable:!0,enumerable:!0}}a(me,"c");function xe(Q,ne){Object.defineProperty(Q,`on${ne}`,me(ne))}a(xe,"o");function Oe(Q){function ne(){de.call(this)}a(ne,"s"),ne.prototype=Object.create(de.prototype,{constructor:{value:ne,configurable:!0,writable:!0}});for(let q=0;q<Q.length;++q)xe(ne.prototype,Q[q]);return ne}a(Oe,"Q");function de(){if(this instanceof de){be.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Oe(arguments[0]);if(arguments.length>0){let Q=Array(arguments.length);for(let ne=0;ne<arguments.length;++ne)Q[ne]=arguments[ne];return Oe(Q)}throw TypeError("Cannot call a class as a function")}a(de,"U"),de.prototype={addEventListener(Q,ne,q){if(ne==null)return;if(typeof ne!="function"&&!te(ne))throw TypeError("'listener' should be a function or an object.");let $=ie(this),re=te(q),ae=(re?q.capture:q)?Ce:X,Be={listener:ne,listenerType:ae,passive:re&&!!q.passive,once:re&&!!q.once,next:null},Ie=$.get(Q);if(Ie===void 0){$.set(Q,Be);return}let Ke=null;for(;Ie!=null;){if(Ie.listener===ne&&Ie.listenerType===ae)return;Ke=Ie,Ie=Ie.next}Ke.next=Be},removeEventListener(Q,ne,q){if(ne==null)return;let $=ie(this),re=(te(q)?q.capture:q)?Ce:X,ae=null,Be=$.get(Q);for(;Be!=null;){if(Be.listener===ne&&Be.listenerType===re){ae!==null?ae.next=Be.next:Be.next!==null?$.set(Q,Be.next):$.delete(Q);return}ae=Be,Be=Be.next}},dispatchEvent(Q){if(Q==null||typeof Q.type!="string")throw TypeError('"event.type" should be a string.');let ne=ie(this),q=Q.type,$=ne.get(q);if($==null)return!0;let re=ue(this,Q),ae=null;for(;$!=null;){if($.once?ae!==null?ae.next=$.next:$.next!==null?ne.set(q,$.next):ne.delete(q):ae=$,Ee(re,$.passive?$.listener:null),typeof $.listener=="function")try{$.listener.call(this,re)}catch(Be){typeof console<"u"&&typeof console.error=="function"&&console.error(Be)}else $.listenerType!==ce&&typeof $.listener.handleEvent=="function"&&$.listener.handleEvent(re);if(se(re))break;$=$.next}return Ee(re,null),oe(re,0),Pe(re,null),!re.defaultPrevented}},Object.defineProperty(de.prototype,"constructor",{value:de,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(de.prototype,window.EventTarget.prototype),T.defineEventAttribute=xe,T.EventTarget=de,T.default=de,N.exports=de,N.exports.EventTarget=N.exports.default=de,N.exports.defineEventAttribute=xe}),l=r((T,N)=>{Object.defineProperty(T,"__esModule",{value:!0});var k=o();class p extends k.EventTarget{static{a(this,"K")}constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let ue=M.get(this);if(typeof ue!="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return ue}}k.defineEventAttribute(p.prototype,"abort");function S(){let J=Object.create(p.prototype);return k.EventTarget.call(J),M.set(J,!1),J}a(S,"P");function C(J){M.get(J)===!1&&(M.set(J,!0),J.dispatchEvent({type:"abort"}))}a(C,"O");var M=new WeakMap;Object.defineProperties(p.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class U{static{a(this,"z")}constructor(){B.set(this,S())}get signal(){return G(this)}abort(){C(G(this))}}var B=new WeakMap;function G(J){let ue=B.get(J);if(ue==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${J===null?"null":typeof J}`);return ue}a(G,"T"),Object.defineProperties(U.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(U.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),T.AbortController=U,T.AbortSignal=p,T.default=U,N.exports=U,N.exports.AbortController=N.exports.default=U,N.exports.AbortSignal=p}),u=r((T,N)=>{var k=(Dn(),mr(An)),{format:p,inspect:S}=i(),{codes:{ERR_INVALID_ARG_TYPE:C}}=s(),{kResistStopPropagation:M,AggregateError:U,SymbolDispose:B}=n(),G=globalThis.AbortSignal||l().AbortSignal,J=globalThis.AbortController||l().AbortController,ue=Object.getPrototypeOf(async function(){}).constructor,se=globalThis.Blob||k.Blob,oe=typeof se<"u"?function(be){return be instanceof se}:function(be){return!1},Pe=a((be,Ce)=>{if(be!==void 0&&(be===null||typeof be!="object"||!("aborted"in be)))throw new C(Ce,"AbortSignal",be)},"N"),Ee=a((be,Ce)=>{if(typeof be!="function")throw new C(Ce,"Function",be)},"h");N.exports={AggregateError:U,kEmptyObject:Object.freeze({}),once(be){let Ce=!1;return function(...X){Ce||(Ce=!0,be.apply(this,X))}},createDeferredPromise:a(function(){let be,Ce;return{promise:new Promise((X,ce)=>{be=X,Ce=ce}),resolve:be,reject:Ce}},"createDeferredPromise"),promisify(be){return new Promise((Ce,X)=>{be((ce,...te)=>ce?X(ce):Ce(...te))})},debuglog(){return function(){}},format:p,inspect:S,types:{isAsyncFunction(be){return be instanceof ue},isArrayBufferView(be){return ArrayBuffer.isView(be)}},isBlob:oe,deprecate(be,Ce){return be},addAbortListener:(Yf(),mr(Hc)).addAbortListener||function(be,Ce){if(be===void 0)throw new C("signal","AbortSignal",be);Pe(be,"signal"),Ee(Ce,"listener");let X;return be.aborted?queueMicrotask(()=>Ce()):(be.addEventListener("abort",Ce,{__proto__:null,once:!0,[M]:!0}),X=a(()=>{be.removeEventListener("abort",Ce)},"I")),{__proto__:null,[B](){var ce;(ce=X)===null||ce===void 0||ce()}}},AbortSignalAny:G.any||function(be){if(be.length===1)return be[0];let Ce=new J,X=a(()=>Ce.abort(),"I");return be.forEach(ce=>{Pe(ce,"signals"),ce.addEventListener("abort",X,{once:!0})}),Ce.signal.addEventListener("abort",()=>{be.forEach(ce=>ce.removeEventListener("abort",X))},{once:!0}),Ce.signal}},N.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),c=r((T,N)=>{var{ArrayIsArray:k,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:S,ArrayPrototypeMap:C,NumberIsInteger:M,NumberIsNaN:U,NumberMAX_SAFE_INTEGER:B,NumberMIN_SAFE_INTEGER:G,NumberParseInt:J,ObjectPrototypeHasOwnProperty:ue,RegExpPrototypeExec:se,String:oe,StringPrototypeToUpperCase:Pe,StringPrototypeTrim:Ee}=n(),{hideStackFrames:be,codes:{ERR_SOCKET_BAD_PORT:Ce,ERR_INVALID_ARG_TYPE:X,ERR_INVALID_ARG_VALUE:ce,ERR_OUT_OF_RANGE:te,ERR_UNKNOWN_SIGNAL:ie}}=s(),{normalizeEncoding:me}=u(),{isAsyncFunction:xe,isArrayBufferView:Oe}=u().types,de={};function Q(he){return he===(he|0)}a(Q,"p");function ne(he){return he===he>>>0}a(ne,"s");var q=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function re(he,je,lt){if(typeof he>"u"&&(he=lt),typeof he=="string"){if(se(q,he)===null)throw new ce(je,he,$);he=J(he,8)}return Ie(he,je),he}a(re,"X");var ae=be((he,je,lt=G,Me=B)=>{if(typeof he!="number")throw new X(je,"number",he);if(!M(he))throw new te(je,"an integer",he);if(he<lt||he>Me)throw new te(je,`>= ${lt} && <= ${Me}`,he)}),Be=be((he,je,lt=-2147483648,Me=2147483647)=>{if(typeof he!="number")throw new X(je,"number",he);if(!M(he))throw new te(je,"an integer",he);if(he<lt||he>Me)throw new te(je,`>= ${lt} && <= ${Me}`,he)}),Ie=be((he,je,lt=!1)=>{if(typeof he!="number")throw new X(je,"number",he);if(!M(he))throw new te(je,"an integer",he);let Me=lt?1:0,ot=4294967295;if(he<Me||he>ot)throw new te(je,`>= ${Me} && <= ${ot}`,he)});function Ke(he,je){if(typeof he!="string")throw new X(je,"string",he)}a(Ke,"M");function kt(he,je,lt=void 0,Me){if(typeof he!="number")throw new X(je,"number",he);if(lt!=null&&he<lt||Me!=null&&he>Me||(lt!=null||Me!=null)&&U(he))throw new te(je,`${lt!=null?`>= ${lt}`:""}${lt!=null&&Me!=null?" && ":""}${Me!=null?`<= ${Me}`:""}`,he)}a(kt,"A");var Te=be((he,je,lt)=>{if(!p(lt,he)){let Me="must be one of: "+S(C(lt,ot=>typeof ot=="string"?`'${ot}'`:oe(ot)),", ");throw new ce(je,he,Me)}});function Xe(he,je){if(typeof he!="boolean")throw new X(je,"boolean",he)}a(Xe,"G");function we(he,je,lt){return he==null||!ue(he,je)?lt:he[je]}a(we,"R");var Ne=be((he,je,lt=null)=>{let Me=we(lt,"allowArray",!1),ot=we(lt,"allowFunction",!1);if(!we(lt,"nullable",!1)&&he===null||!Me&&k(he)||typeof he!="object"&&(!ot||typeof he!="function"))throw new X(je,"Object",he)}),Fe=be((he,je)=>{if(he!=null&&typeof he!="object"&&typeof he!="function")throw new X(je,"a dictionary",he)}),Ze=be((he,je,lt=0)=>{if(!k(he))throw new X(je,"Array",he);if(he.length<lt){let Me=`must be longer than ${lt}`;throw new ce(je,he,Me)}});function Ue(he,je){Ze(he,je);for(let lt=0;lt<he.length;lt++)Ke(he[lt],`${je}[${lt}]`)}a(Ue,"l");function qe(he,je){Ze(he,je);for(let lt=0;lt<he.length;lt++)Xe(he[lt],`${je}[${lt}]`)}a(qe,"a");function Rt(he,je){Ze(he,je);for(let lt=0;lt<he.length;lt++){let Me=he[lt],ot=`${je}[${lt}]`;if(Me==null)throw new X(ot,"AbortSignal",Me);rt(Me,ot)}}a(Rt,"f$");function Je(he,je="signal"){if(Ke(he,je),de[he]===void 0)throw de[Pe(he)]!==void 0?new ie(he+" (signals must use all capital letters)"):new ie(he)}a(Je,"q$");var Re=be((he,je="buffer")=>{if(!Oe(he))throw new X(je,["Buffer","TypedArray","DataView"],he)});function et(he,je){let lt=me(je),Me=he.length;if(lt==="hex"&&Me%2!==0)throw new ce("encoding",je,`is invalid for data of length ${Me}`)}a(et,"v$");function ze(he,je="Port",lt=!0){if(typeof he!="number"&&typeof he!="string"||typeof he=="string"&&Ee(he).length===0||+he!==+he>>>0||he>65535||he===0&&!lt)throw new Ce(je,he,lt);return he|0}a(ze,"e");var rt=be((he,je)=>{if(he!==void 0&&(he===null||typeof he!="object"||!("aborted"in he)))throw new X(je,"AbortSignal",he)}),Tt=be((he,je)=>{if(typeof he!="function")throw new X(je,"Function",he)}),pe=be((he,je)=>{if(typeof he!="function"||xe(he))throw new X(je,"Function",he)}),ye=be((he,je)=>{if(he!==void 0)throw new X(je,"undefined",he)});function $e(he,je,lt){if(!p(lt,he))throw new X(je,`('${S(lt,"|")}')`,he)}a($e,"J$");var Le=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function He(he,je){if(typeof he>"u"||!se(Le,he))throw new ce(je,he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a(He,"_$");function ut(he){if(typeof he=="string")return He(he,"hints"),he;if(k(he)){let je=he.length,lt="";if(je===0)return lt;for(let Me=0;Me<je;Me++){let ot=he[Me];He(ot,"hints"),lt+=ot,Me!==je-1&&(lt+=", ")}return lt}throw new ce("hints",he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a(ut,"Y$"),N.exports={isInt32:Q,isUint32:ne,parseFileMode:re,validateArray:Ze,validateStringArray:Ue,validateBooleanArray:qe,validateAbortSignalArray:Rt,validateBoolean:Xe,validateBuffer:Re,validateDictionary:Fe,validateEncoding:et,validateFunction:Tt,validateInt32:Be,validateInteger:ae,validateNumber:kt,validateObject:Ne,validateOneOf:Te,validatePlainFunction:pe,validatePort:ze,validateSignalName:Je,validateString:Ke,validateUint32:Ie,validateUndefined:ye,validateUnion:$e,validateAbortSignal:rt,validateLinkHeaderValue:ut}}),d=r((T,N)=>{N.exports=globalThis.process}),f=r((T,N)=>{var{SymbolAsyncIterator:k,SymbolIterator:p,SymbolFor:S}=n(),C=S("nodejs.stream.destroyed"),M=S("nodejs.stream.errored"),U=S("nodejs.stream.readable"),B=S("nodejs.stream.writable"),G=S("nodejs.stream.disturbed"),J=S("nodejs.webstream.isClosedPromise"),ue=S("nodejs.webstream.controllerErrorFunction");function se(we,Ne=!1){var Fe;return!!(we&&typeof we.pipe=="function"&&typeof we.on=="function"&&(!Ne||typeof we.pause=="function"&&typeof we.resume=="function")&&(!we._writableState||((Fe=we._readableState)===null||Fe===void 0?void 0:Fe.readable)!==!1)&&(!we._writableState||we._readableState))}a(se,"k");function oe(we){var Ne;return!!(we&&typeof we.write=="function"&&typeof we.on=="function"&&(!we._readableState||((Ne=we._writableState)===null||Ne===void 0?void 0:Ne.writable)!==!1))}a(oe,"S");function Pe(we){return!!(we&&typeof we.pipe=="function"&&we._readableState&&typeof we.on=="function"&&typeof we.write=="function")}a(Pe,"N");function Ee(we){return we&&(we._readableState||we._writableState||typeof we.write=="function"&&typeof we.on=="function"||typeof we.pipe=="function"&&typeof we.on=="function")}a(Ee,"h");function be(we){return!!(we&&!Ee(we)&&typeof we.pipeThrough=="function"&&typeof we.getReader=="function"&&typeof we.cancel=="function")}a(be,"E");function Ce(we){return!!(we&&!Ee(we)&&typeof we.getWriter=="function"&&typeof we.abort=="function")}a(Ce,"D");function X(we){return!!(we&&!Ee(we)&&typeof we.readable=="object"&&typeof we.writable=="object")}a(X,"I");function ce(we){return be(we)||Ce(we)||X(we)}a(ce,"L");function te(we,Ne){return we==null?!1:Ne===!0?typeof we[k]=="function":Ne===!1?typeof we[p]=="function":typeof we[k]=="function"||typeof we[p]=="function"}a(te,"g");function ie(we){if(!Ee(we))return null;let{_writableState:Ne,_readableState:Fe}=we,Ze=Ne||Fe;return!!(we.destroyed||we[C]||Ze!=null&&Ze.destroyed)}a(ie,"y");function me(we){if(!oe(we))return null;if(we.writableEnded===!0)return!0;let Ne=we._writableState;return Ne!=null&&Ne.errored?!1:typeof Ne?.ended!="boolean"?null:Ne.ended}a(me,"c");function xe(we,Ne){if(!oe(we))return null;if(we.writableFinished===!0)return!0;let Fe=we._writableState;return Fe!=null&&Fe.errored?!1:typeof Fe?.finished!="boolean"?null:!!(Fe.finished||Ne===!1&&Fe.ended===!0&&Fe.length===0)}a(xe,"o");function Oe(we){if(!se(we))return null;if(we.readableEnded===!0)return!0;let Ne=we._readableState;return!Ne||Ne.errored?!1:typeof Ne?.ended!="boolean"?null:Ne.ended}a(Oe,"Q");function de(we,Ne){if(!se(we))return null;let Fe=we._readableState;return Fe!=null&&Fe.errored?!1:typeof Fe?.endEmitted!="boolean"?null:!!(Fe.endEmitted||Ne===!1&&Fe.ended===!0&&Fe.length===0)}a(de,"U");function Q(we){return we&&we[U]!=null?we[U]:typeof we?.readable!="boolean"?null:ie(we)?!1:se(we)&&we.readable&&!de(we)}a(Q,"p");function ne(we){return we&&we[B]!=null?we[B]:typeof we?.writable!="boolean"?null:ie(we)?!1:oe(we)&&we.writable&&!me(we)}a(ne,"s");function q(we,Ne){return Ee(we)?ie(we)?!0:!(Ne?.readable!==!1&&Q(we)||Ne?.writable!==!1&&ne(we)):null}a(q,"j");function $(we){var Ne,Fe;return Ee(we)?we.writableErrored?we.writableErrored:(Ne=(Fe=we._writableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&Ne!==void 0?Ne:null:null}a($,"J");function re(we){var Ne,Fe;return Ee(we)?we.readableErrored?we.readableErrored:(Ne=(Fe=we._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&Ne!==void 0?Ne:null:null}a(re,"X");function ae(we){if(!Ee(we))return null;if(typeof we.closed=="boolean")return we.closed;let{_writableState:Ne,_readableState:Fe}=we;return typeof Ne?.closed=="boolean"||typeof Fe?.closed=="boolean"?Ne?.closed||Fe?.closed:typeof we._closed=="boolean"&&Be(we)?we._closed:null}a(ae,"W");function Be(we){return typeof we._closed=="boolean"&&typeof we._defaultKeepAlive=="boolean"&&typeof we._removedConnection=="boolean"&&typeof we._removedContLen=="boolean"}a(Be,"Z");function Ie(we){return typeof we._sent100=="boolean"&&Be(we)}a(Ie,"V");function Ke(we){var Ne;return typeof we._consuming=="boolean"&&typeof we._dumped=="boolean"&&((Ne=we.req)===null||Ne===void 0?void 0:Ne.upgradeOrConnect)===void 0}a(Ke,"M");function kt(we){if(!Ee(we))return null;let{_writableState:Ne,_readableState:Fe}=we,Ze=Ne||Fe;return!Ze&&Ie(we)||!!(Ze&&Ze.autoDestroy&&Ze.emitClose&&Ze.closed===!1)}a(kt,"A");function Te(we){var Ne;return!!(we&&((Ne=we[G])!==null&&Ne!==void 0?Ne:we.readableDidRead||we.readableAborted))}a(Te,"v");function Xe(we){var Ne,Fe,Ze,Ue,qe,Rt,Je,Re,et,ze;return!!(we&&((Ne=(Fe=(Ze=(Ue=(qe=(Rt=we[M])!==null&&Rt!==void 0?Rt:we.readableErrored)!==null&&qe!==void 0?qe:we.writableErrored)!==null&&Ue!==void 0?Ue:(Je=we._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&Ze!==void 0?Ze:(Re=we._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&Fe!==void 0?Fe:(et=we._readableState)===null||et===void 0?void 0:et.errored)!==null&&Ne!==void 0?Ne:!((ze=we._writableState)===null||ze===void 0)&&ze.errored))}a(Xe,"G"),N.exports={isDestroyed:ie,kIsDestroyed:C,isDisturbed:Te,kIsDisturbed:G,isErrored:Xe,kIsErrored:M,isReadable:Q,kIsReadable:U,kIsClosedPromise:J,kControllerErrorFunction:ue,kIsWritable:B,isClosed:ae,isDuplexNodeStream:Pe,isFinished:q,isIterable:te,isReadableNodeStream:se,isReadableStream:be,isReadableEnded:Oe,isReadableFinished:de,isReadableErrored:re,isNodeStream:Ee,isWebStream:ce,isWritable:ne,isWritableNodeStream:oe,isWritableStream:Ce,isWritableEnded:me,isWritableFinished:xe,isWritableErrored:$,isServerRequest:Ke,isServerResponse:Ie,willEmitClose:kt,isTransformStream:X}}),g=r((T,N)=>{var k=d(),{AbortError:p,codes:S}=s(),{ERR_INVALID_ARG_TYPE:C,ERR_STREAM_PREMATURE_CLOSE:M}=S,{kEmptyObject:U,once:B}=u(),{validateAbortSignal:G,validateFunction:J,validateObject:ue,validateBoolean:se}=c(),{Promise:oe,PromisePrototypeThen:Pe,SymbolDispose:Ee}=n(),{isClosed:be,isReadable:Ce,isReadableNodeStream:X,isReadableStream:ce,isReadableFinished:te,isReadableErrored:ie,isWritable:me,isWritableNodeStream:xe,isWritableStream:Oe,isWritableFinished:de,isWritableErrored:Q,isNodeStream:ne,willEmitClose:q,kIsClosedPromise:$}=f(),re;function ae(Te){return Te.setHeader&&typeof Te.abort=="function"}a(ae,"W");var Be=a(()=>{},"Z");function Ie(Te,Xe,we){var Ne,Fe;if(arguments.length===2?(we=Xe,Xe=U):Xe==null?Xe=U:ue(Xe,"options"),J(we,"callback"),G(Xe.signal,"options.signal"),we=B(we),ce(Te)||Oe(Te))return Ke(Te,Xe,we);if(!ne(Te))throw new C("stream",["ReadableStream","WritableStream","Stream"],Te);let Ze=(Ne=Xe.readable)!==null&&Ne!==void 0?Ne:X(Te),Ue=(Fe=Xe.writable)!==null&&Fe!==void 0?Fe:xe(Te),qe=Te._writableState,Rt=Te._readableState,Je=a(()=>{Te.writable||ze()},"q$"),Re=q(Te)&&X(Te)===Ze&&xe(Te)===Ue,et=de(Te,!1),ze=a(()=>{et=!0,Te.destroyed&&(Re=!1),!(Re&&(!Te.readable||Ze))&&(!Ze||rt)&&we.call(Te)},"e"),rt=te(Te,!1),Tt=a(()=>{rt=!0,Te.destroyed&&(Re=!1),!(Re&&(!Te.writable||Ue))&&(!Ue||et)&&we.call(Te)},"o$"),pe=a(he=>{we.call(Te,he)},"m"),ye=be(Te),$e=a(()=>{ye=!0;let he=Q(Te)||ie(Te);if(he&&typeof he!="boolean")return we.call(Te,he);if(Ze&&!rt&&X(Te,!0)&&!te(Te,!1))return we.call(Te,new M);if(Ue&&!et&&!de(Te,!1))return we.call(Te,new M);we.call(Te)},"J$"),Le=a(()=>{ye=!0;let he=Q(Te)||ie(Te);if(he&&typeof he!="boolean")return we.call(Te,he);we.call(Te)},"$$"),He=a(()=>{Te.req.on("finish",ze)},"_$");ae(Te)?(Te.on("complete",ze),!Re&&Te.on("abort",$e),Te.req?He():Te.on("request",He)):Ue&&!qe&&(Te.on("end",Je),Te.on("close",Je)),!Re&&typeof Te.aborted=="boolean"&&Te.on("aborted",$e),Te.on("end",Tt),Te.on("finish",ze),Xe.error!==!1&&Te.on("error",pe),Te.on("close",$e),ye?k.nextTick($e):qe!=null&&qe.errorEmitted||Rt!=null&&Rt.errorEmitted?Re||k.nextTick(Le):(!Ze&&(!Re||Ce(Te))&&(et||me(Te)===!1)||!Ue&&(!Re||me(Te))&&(rt||Ce(Te)===!1)||Rt&&Te.req&&Te.aborted)&&k.nextTick(Le);let ut=a(()=>{we=Be,Te.removeListener("aborted",$e),Te.removeListener("complete",ze),Te.removeListener("abort",$e),Te.removeListener("request",He),Te.req&&Te.req.removeListener("finish",ze),Te.removeListener("end",Je),Te.removeListener("close",Je),Te.removeListener("finish",ze),Te.removeListener("end",Tt),Te.removeListener("error",pe),Te.removeListener("close",$e)},"Y$");if(Xe.signal&&!ye){let he=a(()=>{let je=we;ut(),je.call(Te,new p(void 0,{cause:Xe.signal.reason}))},"d");if(Xe.signal.aborted)k.nextTick(he);else{re=re||u().addAbortListener;let je=re(Xe.signal,he),lt=we;we=B((...Me)=>{je[Ee](),lt.apply(Te,Me)})}}return ut}a(Ie,"V");function Ke(Te,Xe,we){let Ne=!1,Fe=Be;if(Xe.signal)if(Fe=a(()=>{Ne=!0,we.call(Te,new p(void 0,{cause:Xe.signal.reason}))},"b"),Xe.signal.aborted)k.nextTick(Fe);else{re=re||u().addAbortListener;let Ue=re(Xe.signal,Fe),qe=we;we=B((...Rt)=>{Ue[Ee](),qe.apply(Te,Rt)})}let Ze=a((...Ue)=>{Ne||k.nextTick(()=>we.apply(Te,Ue))},"x");return Pe(Te[$].promise,Ze,Ze),Be}a(Ke,"M");function kt(Te,Xe){var we;let Ne=!1;return Xe===null&&(Xe=U),(we=Xe)!==null&&we!==void 0&&we.cleanup&&(se(Xe.cleanup,"cleanup"),Ne=Xe.cleanup),new oe((Fe,Ze)=>{let Ue=Ie(Te,Xe,qe=>{Ne&&Ue(),qe?Ze(qe):Fe()})})}a(kt,"A"),N.exports=Ie,N.exports.finished=kt}),m=r((T,N)=>{var k=d(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:S},AbortError:C}=s(),{Symbol:M}=n(),{kIsDestroyed:U,isDestroyed:B,isFinished:G,isServerRequest:J}=f(),ue=M("kDestroy"),se=M("kConstruct");function oe(q,$,re){q&&(q.stack,$&&!$.errored&&($.errored=q),re&&!re.errored&&(re.errored=q))}a(oe,"S");function Pe(q,$){let re=this._readableState,ae=this._writableState,Be=ae||re;return ae!=null&&ae.destroyed||re!=null&&re.destroyed?(typeof $=="function"&&$(),this):(oe(q,ae,re),ae&&(ae.destroyed=!0),re&&(re.destroyed=!0),Be.constructed?Ee(this,q,$):this.once(ue,function(Ie){Ee(this,p(Ie,q),$)}),this)}a(Pe,"N");function Ee(q,$,re){let ae=!1;function Be(Ie){if(ae)return;ae=!0;let{_readableState:Ke,_writableState:kt}=q;oe(Ie,kt,Ke),kt&&(kt.closed=!0),Ke&&(Ke.closed=!0),typeof re=="function"&&re(Ie),Ie?k.nextTick(be,q,Ie):k.nextTick(Ce,q)}a(Be,"Z");try{q._destroy($||null,Be)}catch(Ie){Be(Ie)}}a(Ee,"h");function be(q,$){X(q,$),Ce(q)}a(be,"E");function Ce(q){let{_readableState:$,_writableState:re}=q;re&&(re.closeEmitted=!0),$&&($.closeEmitted=!0),(re!=null&&re.emitClose||$!=null&&$.emitClose)&&q.emit("close")}a(Ce,"D");function X(q,$){let{_readableState:re,_writableState:ae}=q;ae!=null&&ae.errorEmitted||re!=null&&re.errorEmitted||(ae&&(ae.errorEmitted=!0),re&&(re.errorEmitted=!0),q.emit("error",$))}a(X,"I");function ce(){let q=this._readableState,$=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}a(ce,"L");function te(q,$,re){let{_readableState:ae,_writableState:Be}=q;if(Be!=null&&Be.destroyed||ae!=null&&ae.destroyed)return this;ae!=null&&ae.autoDestroy||Be!=null&&Be.autoDestroy?q.destroy($):$&&($.stack,Be&&!Be.errored&&(Be.errored=$),ae&&!ae.errored&&(ae.errored=$),re?k.nextTick(X,q,$):X(q,$))}a(te,"g");function ie(q,$){if(typeof q._construct!="function")return;let{_readableState:re,_writableState:ae}=q;re&&(re.constructed=!1),ae&&(ae.constructed=!1),q.once(se,$),!(q.listenerCount(se)>1)&&k.nextTick(me,q)}a(ie,"y");function me(q){let $=!1;function re(ae){if($){te(q,ae??new S);return}$=!0;let{_readableState:Be,_writableState:Ie}=q,Ke=Ie||Be;Be&&(Be.constructed=!0),Ie&&(Ie.constructed=!0),Ke.destroyed?q.emit(ue,ae):ae?te(q,ae,!0):k.nextTick(xe,q)}a(re,"X");try{q._construct(ae=>{k.nextTick(re,ae)})}catch(ae){k.nextTick(re,ae)}}a(me,"c");function xe(q){q.emit(se)}a(xe,"o");function Oe(q){return q?.setHeader&&typeof q.abort=="function"}a(Oe,"Q");function de(q){q.emit("close")}a(de,"U");function Q(q,$){q.emit("error",$),k.nextTick(de,q)}a(Q,"p");function ne(q,$){!q||B(q)||(!$&&!G(q)&&($=new C),J(q)?(q.socket=null,q.destroy($)):Oe(q)?q.abort():Oe(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy($):typeof q.close=="function"?q.close():$?k.nextTick(Q,q,$):k.nextTick(de,q),q.destroyed||(q[U]=!0))}a(ne,"s"),N.exports={construct:ie,destroyer:ne,destroy:Pe,undestroy:ce,errorOrDestroy:te}}),y=r((T,N)=>{var{ArrayIsArray:k,ObjectSetPrototypeOf:p}=n(),{EventEmitter:S}=(Yf(),mr(Hc));function C(U){S.call(this,U)}a(C,"O"),p(C.prototype,S.prototype),p(C,S),C.prototype.pipe=function(U,B){let G=this;function J(Ce){U.writable&&U.write(Ce)===!1&&G.pause&&G.pause()}a(J,"f"),G.on("data",J);function ue(){G.readable&&G.resume&&G.resume()}a(ue,"w"),U.on("drain",ue),!U._isStdio&&(!B||B.end!==!1)&&(G.on("end",oe),G.on("close",Pe));let se=!1;function oe(){se||(se=!0,U.end())}a(oe,"S");function Pe(){se||(se=!0,typeof U.destroy=="function"&&U.destroy())}a(Pe,"N");function Ee(Ce){be(),S.listenerCount(this,"error")===0&&this.emit("error",Ce)}a(Ee,"h"),M(G,"error",Ee),M(U,"error",Ee);function be(){G.removeListener("data",J),U.removeListener("drain",ue),G.removeListener("end",oe),G.removeListener("close",Pe),G.removeListener("error",Ee),U.removeListener("error",Ee),G.removeListener("end",be),G.removeListener("close",be),U.removeListener("close",be)}return a(be,"E"),G.on("end",be),G.on("close",be),U.on("close",be),U.emit("pipe",G),U};function M(U,B,G){if(typeof U.prependListener=="function")return U.prependListener(B,G);!U._events||!U._events[B]?U.on(B,G):k(U._events[B])?U._events[B].unshift(G):U._events[B]=[G,U._events[B]]}a(M,"Y"),N.exports={Stream:C,prependListener:M}}),_=r((T,N)=>{var{SymbolDispose:k}=n(),{AbortError:p,codes:S}=s(),{isNodeStream:C,isWebStream:M,kControllerErrorFunction:U}=f(),B=g(),{ERR_INVALID_ARG_TYPE:G}=S,J,ue=a((se,oe)=>{if(typeof se!="object"||!("aborted"in se))throw new G(oe,"AbortSignal",se)},"w");N.exports.addAbortSignal=function(se,oe){if(ue(se,"signal"),!C(oe)&&!M(oe))throw new G("stream",["ReadableStream","WritableStream","Stream"],oe);return N.exports.addAbortSignalNoValidate(se,oe)},N.exports.addAbortSignalNoValidate=function(se,oe){if(typeof se!="object"||!("aborted"in se))return oe;let Pe=C(oe)?()=>{oe.destroy(new p(void 0,{cause:se.reason}))}:()=>{oe[U](new p(void 0,{cause:se.reason}))};if(se.aborted)Pe();else{J=J||u().addAbortListener;let Ee=J(se,Pe);B(oe,Ee[k])}return oe}}),A=r((T,N)=>{var{StringPrototypeSlice:k,SymbolIterator:p,TypedArrayPrototypeSet:S,Uint8Array:C}=n(),{Buffer:M}=(Dn(),mr(An)),{inspect:U}=u();N.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){let G={data:B,next:null};this.length>0?this.tail.next=G:this.head=G,this.tail=G,++this.length}unshift(B){let G={data:B,next:this.head};this.length===0&&(this.tail=G),this.head=G,++this.length}shift(){if(this.length===0)return;let B=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(this.length===0)return"";let G=this.head,J=""+G.data;for(;(G=G.next)!==null;)J+=B+G.data;return J}concat(B){if(this.length===0)return M.alloc(0);let G=M.allocUnsafe(B>>>0),J=this.head,ue=0;for(;J;)S(G,J.data,ue),ue+=J.data.length,J=J.next;return G}consume(B,G){let J=this.head.data;if(B<J.length){let ue=J.slice(0,B);return this.head.data=J.slice(B),ue}return B===J.length?this.shift():G?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[p](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let G="",J=this.head,ue=0;do{let se=J.data;if(B>se.length)G+=se,B-=se.length;else{B===se.length?(G+=se,++ue,J.next?this.head=J.next:this.head=this.tail=null):(G+=k(se,0,B),this.head=J,J.data=k(se,B));break}++ue}while((J=J.next)!==null);return this.length-=ue,G}_getBuffer(B){let G=M.allocUnsafe(B),J=B,ue=this.head,se=0;do{let oe=ue.data;if(B>oe.length)S(G,oe,J-B),B-=oe.length;else{B===oe.length?(S(G,oe,J-B),++se,ue.next?this.head=ue.next:this.head=this.tail=null):(S(G,new C(oe.buffer,oe.byteOffset,B),J-B),this.head=ue,ue.data=oe.slice(B));break}++se}while((ue=ue.next)!==null);return this.length-=se,G}[Symbol.for("nodejs.util.inspect.custom")](B,G){return U(this,{...G,depth:0,customInspect:!1})}}}),I=r((T,N)=>{var{MathFloor:k,NumberIsInteger:p}=n(),{validateInteger:S}=c(),{ERR_INVALID_ARG_VALUE:C}=s().codes,M=16384,U=16;function B(se,oe,Pe){return se.highWaterMark!=null?se.highWaterMark:oe?se[Pe]:null}a(B,"H");function G(se){return se?U:M}a(G,"T");function J(se,oe){S(oe,"value",0),se?U=oe:M=oe}a(J,"f");function ue(se,oe,Pe,Ee){let be=B(oe,Ee,Pe);if(be!=null){if(!p(be)||be<0){let Ce=Ee?`options.${Pe}`:"options.highWaterMark";throw new C(Ce,be)}return k(be)}return G(se.objectMode)}a(ue,"w"),N.exports={getHighWaterMark:ue,getDefaultHighWaterMark:G,setDefaultHighWaterMark:J}}),O=r((T,N)=>{var k=(Dn(),mr(An)),p=k.Buffer;function S(M,U){for(var B in M)U[B]=M[B]}a(S,"P"),p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?N.exports=k:(S(k,T),T.Buffer=C);function C(M,U,B){return p(M,U,B)}a(C,"O"),C.prototype=Object.create(p.prototype),S(p,C),C.from=function(M,U,B){if(typeof M=="number")throw TypeError("Argument must not be a number");return p(M,U,B)},C.alloc=function(M,U,B){if(typeof M!="number")throw TypeError("Argument must be a number");var G=p(M);return U!==void 0?typeof B=="string"?G.fill(U,B):G.fill(U):G.fill(0),G},C.allocUnsafe=function(M){if(typeof M!="number")throw TypeError("Argument must be a number");return p(M)},C.allocUnsafeSlow=function(M){if(typeof M!="number")throw TypeError("Argument must be a number");return k.SlowBuffer(M)}}),R=r(T=>{var N=O().Buffer,k=N.isEncoding||function(X){switch(X=""+X,X&&X.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(X){if(!X)return"utf8";for(var ce;;)switch(X){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return X;default:if(ce)return;X=(""+X).toLowerCase(),ce=!0}}a(p,"K");function S(X){var ce=p(X);if(typeof ce!="string"&&(N.isEncoding===k||!k(X)))throw Error("Unknown encoding: "+X);return ce||X}a(S,"P"),T.StringDecoder=C;function C(X){this.encoding=S(X);var ce;switch(this.encoding){case"utf16le":this.text=se,this.end=oe,ce=4;break;case"utf8":this.fillLast=G,ce=4;break;case"base64":this.text=Pe,this.end=Ee,ce=3;break;default:this.write=be,this.end=Ce;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=N.allocUnsafe(ce)}a(C,"O"),C.prototype.write=function(X){if(X.length===0)return"";var ce,te;if(this.lastNeed){if(ce=this.fillLast(X),ce===void 0)return"";te=this.lastNeed,this.lastNeed=0}else te=0;return te<X.length?ce?ce+this.text(X,te):this.text(X,te):ce||""},C.prototype.end=ue,C.prototype.text=J,C.prototype.fillLast=function(X){if(this.lastNeed<=X.length)return X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,X.length),this.lastNeed-=X.length};function M(X){return X<=127?0:X>>5===6?2:X>>4===14?3:X>>3===30?4:X>>6===2?-1:-2}a(M,"Y");function U(X,ce,te){var ie=ce.length-1;if(ie<te)return 0;var me=M(ce[ie]);return me>=0?(me>0&&(X.lastNeed=me-1),me):--ie<te||me===-2?0:(me=M(ce[ie]),me>=0?(me>0&&(X.lastNeed=me-2),me):--ie<te||me===-2?0:(me=M(ce[ie]),me>=0?(me>0&&(me===2?me=0:X.lastNeed=me-3),me):0))}a(U,"z");function B(X,ce,te){if((ce[0]&192)!==128)return X.lastNeed=0,"";if(X.lastNeed>1&&ce.length>1){if((ce[1]&192)!==128)return X.lastNeed=1,"";if(X.lastNeed>2&&ce.length>2&&(ce[2]&192)!==128)return X.lastNeed=2,""}}a(B,"H");function G(X){var ce=this.lastTotal-this.lastNeed,te=B(this,X);if(te!==void 0)return te;if(this.lastNeed<=X.length)return X.copy(this.lastChar,ce,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);X.copy(this.lastChar,ce,0,X.length),this.lastNeed-=X.length}a(G,"T");function J(X,ce){var te=U(this,X,ce);if(!this.lastNeed)return X.toString("utf8",ce);this.lastTotal=te;var ie=X.length-(te-this.lastNeed);return X.copy(this.lastChar,0,ie),X.toString("utf8",ce,ie)}a(J,"f");function ue(X){var ce=X&&X.length?this.write(X):"";return this.lastNeed?ce+"":ce}a(ue,"w");function se(X,ce){if((X.length-ce)%2===0){var te=X.toString("utf16le",ce);if(te){var ie=te.charCodeAt(te.length-1);if(ie>=55296&&ie<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1],te.slice(0,-1)}return te}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=X[X.length-1],X.toString("utf16le",ce,X.length-1)}a(se,"k");function oe(X){var ce=X&&X.length?this.write(X):"";if(this.lastNeed){var te=this.lastTotal-this.lastNeed;return ce+this.lastChar.toString("utf16le",0,te)}return ce}a(oe,"S");function Pe(X,ce){var te=(X.length-ce)%3;return te===0?X.toString("base64",ce):(this.lastNeed=3-te,this.lastTotal=3,te===1?this.lastChar[0]=X[X.length-1]:(this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1]),X.toString("base64",ce,X.length-te))}a(Pe,"N");function Ee(X){var ce=X&&X.length?this.write(X):"";return this.lastNeed?ce+this.lastChar.toString("base64",0,3-this.lastNeed):ce}a(Ee,"h");function be(X){return X.toString(this.encoding)}a(be,"E");function Ce(X){return X&&X.length?this.write(X):""}a(Ce,"D")}),L=r((T,N)=>{var k=d(),{PromisePrototypeThen:p,SymbolAsyncIterator:S,SymbolIterator:C}=n(),{Buffer:M}=(Dn(),mr(An)),{ERR_INVALID_ARG_TYPE:U,ERR_STREAM_NULL_VALUES:B}=s().codes;function G(J,ue,se){let oe;if(typeof ue=="string"||ue instanceof M)return new J({objectMode:!0,...se,read(){this.push(ue),this.push(null)}});let Pe;if(ue&&ue[S])Pe=!0,oe=ue[S]();else if(ue&&ue[C])Pe=!1,oe=ue[C]();else throw new U("iterable",["Iterable"],ue);let Ee=new J({objectMode:!0,highWaterMark:1,...se}),be=!1;Ee._read=function(){be||(be=!0,X())},Ee._destroy=function(ce,te){p(Ce(ce),()=>k.nextTick(te,ce),ie=>k.nextTick(te,ie||ce))};async function Ce(ce){let te=ce!=null,ie=typeof oe.throw=="function";if(te&&ie){let{value:me,done:xe}=await oe.throw(ce);if(await me,xe)return}if(typeof oe.return=="function"){let{value:me}=await oe.return();await me}}a(Ce,"D");async function X(){for(;;){try{let{value:ce,done:te}=Pe?await oe.next():oe.next();if(te)Ee.push(null);else{let ie=ce&&typeof ce.then=="function"?await ce:ce;if(ie===null)throw be=!1,new B;if(Ee.push(ie))continue;be=!1}}catch(ce){Ee.destroy(ce)}break}}return a(X,"I"),Ee}a(G,"T"),N.exports=G}),D=r((T,N)=>{var k=d(),{ArrayPrototypeIndexOf:p,NumberIsInteger:S,NumberIsNaN:C,NumberParseInt:M,ObjectDefineProperties:U,ObjectKeys:B,ObjectSetPrototypeOf:G,Promise:J,SafeSet:ue,SymbolAsyncDispose:se,SymbolAsyncIterator:oe,Symbol:Pe}=n();N.exports=Me,Me.ReadableState=lt;var{EventEmitter:Ee}=(Yf(),mr(Hc)),{Stream:be,prependListener:Ce}=y(),{Buffer:X}=(Dn(),mr(An)),{addAbortSignal:ce}=_(),te=g(),ie=u().debuglog("stream",ge=>{ie=ge}),me=A(),xe=m(),{getHighWaterMark:Oe,getDefaultHighWaterMark:de}=I(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:ne,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:$,ERR_STREAM_PUSH_AFTER_EOF:re,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ae},AbortError:Be}=s(),{validateObject:Ie}=c(),Ke=Pe("kPaused"),{StringDecoder:kt}=R(),Te=L();G(Me.prototype,be.prototype),G(Me,be);var Xe=a(()=>{},"G"),{errorOrDestroy:we}=xe,Ne=1,Fe=2,Ze=4,Ue=8,qe=16,Rt=32,Je=64,Re=128,et=256,ze=512,rt=1024,Tt=2048,pe=4096,ye=8192,$e=16384,Le=32768,He=65536,ut=131072,he=262144;function je(ge){return{enumerable:!1,get(){return(this.state&ge)!==0},set(Se){Se?this.state|=ge:this.state&=~ge}}}a(je,"n"),U(lt.prototype,{objectMode:je(Ne),ended:je(Fe),endEmitted:je(Ze),reading:je(Ue),constructed:je(qe),sync:je(Rt),needReadable:je(Je),emittedReadable:je(Re),readableListening:je(et),resumeScheduled:je(ze),errorEmitted:je(rt),emitClose:je(Tt),autoDestroy:je(pe),destroyed:je(ye),closed:je($e),closeEmitted:je(Le),multiAwaitDrain:je(He),readingMore:je(ut),dataEmitted:je(he)});function lt(ge,Se,Et){typeof Et!="boolean"&&(Et=Se instanceof V()),this.state=Tt|pe|qe|Rt,ge&&ge.objectMode&&(this.state|=Ne),Et&&ge&&ge.readableObjectMode&&(this.state|=Ne),this.highWaterMark=ge?Oe(this,ge,"readableHighWaterMark",Et):de(!1),this.buffer=new me,this.length=0,this.pipes=[],this.flowing=null,this[Ke]=null,ge&&ge.emitClose===!1&&(this.state&=~Tt),ge&&ge.autoDestroy===!1&&(this.state&=~pe),this.errored=null,this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ge&&ge.encoding&&(this.decoder=new kt(ge.encoding),this.encoding=ge.encoding)}a(lt,"H$");function Me(ge){if(!(this instanceof Me))return new Me(ge);let Se=this instanceof V();this._readableState=new lt(ge,this,Se),ge&&(typeof ge.read=="function"&&(this._read=ge.read),typeof ge.destroy=="function"&&(this._destroy=ge.destroy),typeof ge.construct=="function"&&(this._construct=ge.construct),ge.signal&&!Se&&ce(ge.signal,this)),be.call(this,ge),xe.construct(this,()=>{this._readableState.needReadable&&Mt(this,this._readableState)})}a(Me,"t"),Me.prototype.destroy=xe.destroy,Me.prototype._undestroy=xe.undestroy,Me.prototype._destroy=function(ge,Se){Se(ge)},Me.prototype[Ee.captureRejectionSymbol]=function(ge){this.destroy(ge)},Me.prototype[se]=function(){let ge;return this.destroyed||(ge=this.readableEnded?null:new Be,this.destroy(ge)),new J((Se,Et)=>te(this,Ot=>Ot&&Ot!==ge?Et(Ot):Se(null)))},Me.prototype.push=function(ge,Se){return ot(this,ge,Se,!1)},Me.prototype.unshift=function(ge,Se){return ot(this,ge,Se,!0)};function ot(ge,Se,Et,Ot){ie("readableAddChunk",Se);let Bt=ge._readableState,Fn;if((Bt.state&Ne)===0&&(typeof Se=="string"?(Et=Et||Bt.defaultEncoding,Bt.encoding!==Et&&(Ot&&Bt.encoding?Se=X.from(Se,Et).toString(Bt.encoding):(Se=X.from(Se,Et),Et=""))):Se instanceof X?Et="":be._isUint8Array(Se)?(Se=be._uint8ArrayToBuffer(Se),Et=""):Se!=null&&(Fn=new ne("chunk",["string","Buffer","Uint8Array"],Se))),Fn)we(ge,Fn);else if(Se===null)Bt.state&=~Ue,Qt(ge,Bt);else if((Bt.state&Ne)!==0||Se&&Se.length>0)if(Ot)if((Bt.state&Ze)!==0)we(ge,new ae);else{if(Bt.destroyed||Bt.errored)return!1;Ft(ge,Bt,Se,!0)}else if(Bt.ended)we(ge,new re);else{if(Bt.destroyed||Bt.errored)return!1;Bt.state&=~Ue,Bt.decoder&&!Et?(Se=Bt.decoder.write(Se),Bt.objectMode||Se.length!==0?Ft(ge,Bt,Se,!1):Mt(ge,Bt)):Ft(ge,Bt,Se,!1)}else Ot||(Bt.state&=~Ue,Mt(ge,Bt));return!Bt.ended&&(Bt.length<Bt.highWaterMark||Bt.length===0)}a(ot,"F");function Ft(ge,Se,Et,Ot){Se.flowing&&Se.length===0&&!Se.sync&&ge.listenerCount("data")>0?((Se.state&He)!==0?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null,Se.dataEmitted=!0,ge.emit("data",Et)):(Se.length+=Se.objectMode?1:Et.length,Ot?Se.buffer.unshift(Et):Se.buffer.push(Et),(Se.state&Je)!==0&&nt(ge)),Mt(ge,Se)}a(Ft,"A$"),Me.prototype.isPaused=function(){let ge=this._readableState;return ge[Ke]===!0||ge.flowing===!1},Me.prototype.setEncoding=function(ge){let Se=new kt(ge);this._readableState.decoder=Se,this._readableState.encoding=this._readableState.decoder.encoding;let Et=this._readableState.buffer,Ot="";for(let Bt of Et)Ot+=Se.write(Bt);return Et.clear(),Ot!==""&&Et.push(Ot),this._readableState.length=Ot.length,this};var at=1073741824;function mt(ge){if(ge>at)throw new $("size","<= 1GiB",ge);return ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++,ge}a(mt,"z$");function Kt(ge,Se){return ge<=0||Se.length===0&&Se.ended?0:(Se.state&Ne)!==0?1:C(ge)?Se.flowing&&Se.length?Se.buffer.first().length:Se.length:ge<=Se.length?ge:Se.ended?Se.length:0}a(Kt,"Z6"),Me.prototype.read=function(ge){ie("read",ge),ge===void 0?ge=NaN:S(ge)||(ge=M(ge,10));let Se=this._readableState,Et=ge;if(ge>Se.highWaterMark&&(Se.highWaterMark=mt(ge)),ge!==0&&(Se.state&=~Re),ge===0&&Se.needReadable&&((Se.highWaterMark!==0?Se.length>=Se.highWaterMark:Se.length>0)||Se.ended))return ie("read: emitReadable",Se.length,Se.ended),Se.length===0&&Se.ended?Ar(this):nt(this),null;if(ge=Kt(ge,Se),ge===0&&Se.ended)return Se.length===0&&Ar(this),null;let Ot=(Se.state&Je)!==0;if(ie("need readable",Ot),(Se.length===0||Se.length-ge<Se.highWaterMark)&&(Ot=!0,ie("length less than watermark",Ot)),Se.ended||Se.reading||Se.destroyed||Se.errored||!Se.constructed)Ot=!1,ie("reading, ended or constructing",Ot);else if(Ot){ie("do read"),Se.state|=Ue|Rt,Se.length===0&&(Se.state|=Je);try{this._read(Se.highWaterMark)}catch(Fn){we(this,Fn)}Se.state&=~Rt,!Se.reading&&(ge=Kt(Et,Se))}let Bt;return ge>0?Bt=Zr(ge,Se):Bt=null,Bt===null?(Se.needReadable=Se.length<=Se.highWaterMark,ge=0):(Se.length-=ge,Se.multiAwaitDrain?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null),Se.length===0&&(Se.ended||(Se.needReadable=!0),Et!==ge&&Se.ended&&Ar(this)),Bt!==null&&!Se.errorEmitted&&!Se.closeEmitted&&(Se.dataEmitted=!0,this.emit("data",Bt)),Bt};function Qt(ge,Se){if(ie("onEofChunk"),!Se.ended){if(Se.decoder){let Et=Se.decoder.end();Et&&Et.length&&(Se.buffer.push(Et),Se.length+=Se.objectMode?1:Et.length)}Se.ended=!0,Se.sync?nt(ge):(Se.needReadable=!1,Se.emittedReadable=!0,ft(ge))}}a(Qt,"X$");function nt(ge){let Se=ge._readableState;ie("emitReadable",Se.needReadable,Se.emittedReadable),Se.needReadable=!1,!Se.emittedReadable&&(ie("emitReadable",Se.flowing),Se.emittedReadable=!0,k.nextTick(ft,ge))}a(nt,"k$");function ft(ge){let Se=ge._readableState;ie("emitReadable_",Se.destroyed,Se.length,Se.ended),!Se.destroyed&&!Se.errored&&(Se.length||Se.ended)&&(ge.emit("readable"),Se.emittedReadable=!1),Se.needReadable=!Se.flowing&&!Se.ended&&Se.length<=Se.highWaterMark,Kr(ge)}a(ft,"o6");function Mt(ge,Se){!Se.readingMore&&Se.constructed&&(Se.readingMore=!0,k.nextTick(cr,ge,Se))}a(Mt,"M$");function cr(ge,Se){for(;!Se.reading&&!Se.ended&&(Se.length<Se.highWaterMark||Se.flowing&&Se.length===0);){let Et=Se.length;if(ie("maybeReadMore read 0"),ge.read(0),Et===Se.length)break}Se.readingMore=!1}a(cr,"S$"),Me.prototype._read=function(ge){throw new q("_read()")},Me.prototype.pipe=function(ge,Se){let Et=this,Ot=this._readableState;Ot.pipes.length===1&&(Ot.multiAwaitDrain||(Ot.multiAwaitDrain=!0,Ot.awaitDrainWriters=new ue(Ot.awaitDrainWriters?[Ot.awaitDrainWriters]:[]))),Ot.pipes.push(ge),ie("pipe count=%d opts=%j",Ot.pipes.length,Se);let Bt=(!Se||Se.end!==!1)&&ge!==k.stdout&&ge!==k.stderr?Hi:tc;Ot.endEmitted?k.nextTick(Bt):Et.once("end",Bt),ge.on("unpipe",Fn);function Fn(zo,ds){ie("onunpipe"),zo===Et&&ds&&ds.hasUnpiped===!1&&(ds.hasUnpiped=!0,tF())}a(Fn,"G$");function Hi(){ie("onend"),ge.end()}a(Hi,"V$");let Po,kw=!1;function tF(){ie("cleanup"),ge.removeListener("close",og),ge.removeListener("finish",lg),Po&&ge.removeListener("drain",Po),ge.removeListener("error",sg),ge.removeListener("unpipe",Fn),Et.removeListener("end",Hi),Et.removeListener("end",tc),Et.removeListener("data",Tw),kw=!0,Po&&Ot.awaitDrainWriters&&(!ge._writableState||ge._writableState.needDrain)&&Po()}a(tF,"p$");function Aw(){kw||(Ot.pipes.length===1&&Ot.pipes[0]===ge?(ie("false write response, pause",0),Ot.awaitDrainWriters=ge,Ot.multiAwaitDrain=!1):Ot.pipes.length>1&&Ot.pipes.includes(ge)&&(ie("false write response, pause",Ot.awaitDrainWriters.size),Ot.awaitDrainWriters.add(ge)),Et.pause()),Po||(Po=tr(Et,ge),ge.on("drain",Po))}a(Aw,"Zq"),Et.on("data",Tw);function Tw(zo){ie("ondata");let ds=ge.write(zo);ie("dest.write",ds),ds===!1&&Aw()}a(Tw,"L$");function sg(zo){if(ie("onerror",zo),tc(),ge.removeListener("error",sg),ge.listenerCount("error")===0){let ds=ge._writableState||ge._readableState;ds&&!ds.errorEmitted?we(ge,zo):ge.emit("error",zo)}}a(sg,"C$"),Ce(ge,"error",sg);function og(){ge.removeListener("finish",lg),tc()}a(og,"c6"),ge.once("close",og);function lg(){ie("onfinish"),ge.removeListener("close",og),tc()}a(lg,"W6"),ge.once("finish",lg);function tc(){ie("unpipe"),Et.unpipe(ge)}return a(tc,"j6"),ge.emit("pipe",Et),ge.writableNeedDrain===!0?Aw():Ot.flowing||(ie("pipe resume"),Et.resume()),ge};function tr(ge,Se){return function(){let Et=ge._readableState;Et.awaitDrainWriters===Se?(ie("pipeOnDrain",1),Et.awaitDrainWriters=null):Et.multiAwaitDrain&&(ie("pipeOnDrain",Et.awaitDrainWriters.size),Et.awaitDrainWriters.delete(Se)),(!Et.awaitDrainWriters||Et.awaitDrainWriters.size===0)&&ge.listenerCount("data")&&ge.resume()}}a(tr,"Sq"),Me.prototype.unpipe=function(ge){let Se=this._readableState,Et={hasUnpiped:!1};if(Se.pipes.length===0)return this;if(!ge){let Bt=Se.pipes;Se.pipes=[],this.pause();for(let Fn=0;Fn<Bt.length;Fn++)Bt[Fn].emit("unpipe",this,{hasUnpiped:!1});return this}let Ot=p(Se.pipes,ge);return Ot===-1?this:(Se.pipes.splice(Ot,1),Se.pipes.length===0&&this.pause(),ge.emit("unpipe",this,Et),this)},Me.prototype.on=function(ge,Se){let Et=be.prototype.on.call(this,ge,Se),Ot=this._readableState;return ge==="data"?(Ot.readableListening=this.listenerCount("readable")>0,Ot.flowing!==!1&&this.resume()):ge==="readable"&&!Ot.endEmitted&&!Ot.readableListening&&(Ot.readableListening=Ot.needReadable=!0,Ot.flowing=!1,Ot.emittedReadable=!1,ie("on readable",Ot.length,Ot.reading),Ot.length?nt(this):Ot.reading||k.nextTick(Pr,this)),Et},Me.prototype.addListener=Me.prototype.on,Me.prototype.removeListener=function(ge,Se){let Et=be.prototype.removeListener.call(this,ge,Se);return ge==="readable"&&k.nextTick(xr,this),Et},Me.prototype.off=Me.prototype.removeListener,Me.prototype.removeAllListeners=function(ge){let Se=be.prototype.removeAllListeners.apply(this,arguments);return(ge==="readable"||ge===void 0)&&k.nextTick(xr,this),Se};function xr(ge){let Se=ge._readableState;Se.readableListening=ge.listenerCount("readable")>0,Se.resumeScheduled&&Se[Ke]===!1?Se.flowing=!0:ge.listenerCount("data")>0?ge.resume():Se.readableListening||(Se.flowing=null)}a(xr,"E$");function Pr(ge){ie("readable nexttick read 0"),ge.read(0)}a(Pr,"g$"),Me.prototype.resume=function(){let ge=this._readableState;return ge.flowing||(ie("resume"),ge.flowing=!ge.readableListening,kr(this,ge)),ge[Ke]=!1,this};function kr(ge,Se){Se.resumeScheduled||(Se.resumeScheduled=!0,k.nextTick(br,ge,Se))}a(kr,"Mq");function br(ge,Se){ie("resume",Se.reading),!Se.reading&&ge.read(0),Se.resumeScheduled=!1,ge.emit("resume"),Kr(ge),Se.flowing&&!Se.reading&&ge.read(0)}a(br,"b$"),Me.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ke]=!0,this};function Kr(ge){let Se=ge._readableState;for(ie("flow",Se.flowing);Se.flowing&&ge.read()!==null;);}a(Kr,"h$"),Me.prototype.wrap=function(ge){let Se=!1;ge.on("data",Ot=>{!this.push(Ot)&&ge.pause&&(Se=!0,ge.pause())}),ge.on("end",()=>{this.push(null)}),ge.on("error",Ot=>{we(this,Ot)}),ge.on("close",()=>{this.destroy()}),ge.on("destroy",()=>{this.destroy()}),this._read=()=>{Se&&ge.resume&&(Se=!1,ge.resume())};let Et=B(ge);for(let Ot=1;Ot<Et.length;Ot++){let Bt=Et[Ot];this[Bt]===void 0&&typeof ge[Bt]=="function"&&(this[Bt]=ge[Bt].bind(ge))}return this},Me.prototype[oe]=function(){return $r(this)},Me.prototype.iterator=function(ge){return ge!==void 0&&Ie(ge,"options"),$r(this,ge)};function $r(ge,Se){typeof ge.read!="function"&&(ge=Me.wrap(ge,{objectMode:!0}));let Et=zr(ge,Se);return Et.stream=ge,Et}a($r,"fq");async function*zr(ge,Se){let Et=Xe;function Ot(Hi){this===ge?(Et(),Et=Xe):Et=Hi}a(Ot,"O$"),ge.on("readable",Ot);let Bt,Fn=te(ge,{writable:!1},Hi=>{Bt=Hi?Q(Bt,Hi):null,Et(),Et=Xe});try{for(;;){let Hi=ge.destroyed?null:ge.read();if(Hi!==null)yield Hi;else{if(Bt)throw Bt;if(Bt===null)return;await new J(Ot)}}}catch(Hi){throw Bt=Q(Bt,Hi),Bt}finally{(Bt||Se?.destroyOnReturn!==!1)&&(Bt===void 0||ge._readableState.autoDestroy)?xe.destroyer(ge,null):(ge.off("readable",Ot),Fn())}}a(zr,"y$"),U(Me.prototype,{readable:{__proto__:null,get(){let ge=this._readableState;return!!ge&&ge.readable!==!1&&!ge.destroyed&&!ge.errorEmitted&&!ge.endEmitted},set(ge){this._readableState&&(this._readableState.readable=!!ge)}},readableDidRead:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:a(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:a(function(){return this._readableState.flowing},"get"),set:a(function(ge){this._readableState&&(this._readableState.flowing=ge)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ge){this._readableState&&(this._readableState.destroyed=ge)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),U(lt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ke]!==!1},set(ge){this[Ke]=!!ge}}}),Me._fromList=Zr;function Zr(ge,Se){if(Se.length===0)return null;let Et;return Se.objectMode?Et=Se.buffer.shift():!ge||ge>=Se.length?(Se.decoder?Et=Se.buffer.join(""):Se.buffer.length===1?Et=Se.buffer.first():Et=Se.buffer.concat(Se.length),Se.buffer.clear()):Et=Se.buffer.consume(ge,Se.decoder),Et}a(Zr,"R$");function Ar(ge){let Se=ge._readableState;ie("endReadable",Se.endEmitted),!Se.endEmitted&&(Se.ended=!0,k.nextTick(Br,Se,ge))}a(Ar,"zq");function Br(ge,Se){if(ie("endReadableNT",ge.endEmitted,ge.length),!ge.errored&&!ge.closeEmitted&&!ge.endEmitted&&ge.length===0){if(ge.endEmitted=!0,Se.emit("end"),Se.writable&&Se.allowHalfOpen===!1)k.nextTick(Jr,Se);else if(ge.autoDestroy){let Et=Se._writableState;(!Et||Et.autoDestroy&&(Et.finished||Et.writable===!1))&&Se.destroy()}}}a(Br,"u$");function Jr(ge){ge.writable&&!ge.writableEnded&&!ge.destroyed&&ge.end()}a(Jr,"x$"),Me.from=function(ge,Se){return Te(Me,ge,Se)};var Yr;function qs(){return Yr===void 0&&(Yr={}),Yr}a(qs,"I$"),Me.fromWeb=function(ge,Se){return qs().newStreamReadableFromReadableStream(ge,Se)},Me.toWeb=function(ge,Se){return qs().newReadableStreamFromStreamReadable(ge,Se)},Me.wrap=function(ge,Se){var Et,Ot;return new Me({objectMode:(Et=(Ot=ge.readableObjectMode)!==null&&Ot!==void 0?Ot:ge.objectMode)!==null&&Et!==void 0?Et:!0,...Se,destroy(Bt,Fn){xe.destroyer(ge,Bt),Fn(Bt)}}).wrap(ge)}}),P=r((T,N)=>{var k=d(),{ArrayPrototypeSlice:p,Error:S,FunctionPrototypeSymbolHasInstance:C,ObjectDefineProperty:M,ObjectDefineProperties:U,ObjectSetPrototypeOf:B,StringPrototypeToLowerCase:G,Symbol:J,SymbolHasInstance:ue}=n();N.exports=Ie,Ie.WritableState=ae;var{EventEmitter:se}=(Yf(),mr(Hc)),oe=y().Stream,{Buffer:Pe}=(Dn(),mr(An)),Ee=m(),{addAbortSignal:be}=_(),{getHighWaterMark:Ce,getDefaultHighWaterMark:X}=I(),{ERR_INVALID_ARG_TYPE:ce,ERR_METHOD_NOT_IMPLEMENTED:te,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:me,ERR_STREAM_DESTROYED:xe,ERR_STREAM_ALREADY_FINISHED:Oe,ERR_STREAM_NULL_VALUES:de,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:ne}=s().codes,{errorOrDestroy:q}=Ee;B(Ie.prototype,oe.prototype),B(Ie,oe);function $(){}a($,"J");var re=J("kOnFinished");function ae(pe,ye,$e){typeof $e!="boolean"&&($e=ye instanceof V()),this.objectMode=!!(pe&&pe.objectMode),$e&&(this.objectMode=this.objectMode||!!(pe&&pe.writableObjectMode)),this.highWaterMark=pe?Ce(this,pe,"writableHighWaterMark",$e):X(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Le=!!(pe&&pe.decodeStrings===!1);this.decodeStrings=!Le,this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=we.bind(void 0,ye),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Be(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||pe.emitClose!==!1,this.autoDestroy=!pe||pe.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[re]=[]}a(ae,"W");function Be(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}a(Be,"Z"),ae.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},M(ae.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ie(pe){let ye=this instanceof V();if(!ye&&!C(Ie,this))return new Ie(pe);this._writableState=new ae(pe,this,ye),pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final),typeof pe.construct=="function"&&(this._construct=pe.construct),pe.signal&&be(pe.signal,this)),oe.call(this,pe),Ee.construct(this,()=>{let $e=this._writableState;$e.writing||Ue(this,$e),Re(this,$e)})}a(Ie,"V"),M(Ie,ue,{__proto__:null,value:a(function(pe){return C(this,pe)?!0:this!==Ie?!1:pe&&pe._writableState instanceof ae},"value")}),Ie.prototype.pipe=function(){q(this,new me)};function Ke(pe,ye,$e,Le){let He=pe._writableState;if(typeof $e=="function")Le=$e,$e=He.defaultEncoding;else{if(!$e)$e=He.defaultEncoding;else if($e!=="buffer"&&!Pe.isEncoding($e))throw new ne($e);typeof Le!="function"&&(Le=$)}if(ye===null)throw new de;if(!He.objectMode)if(typeof ye=="string")He.decodeStrings!==!1&&(ye=Pe.from(ye,$e),$e="buffer");else if(ye instanceof Pe)$e="buffer";else if(oe._isUint8Array(ye))ye=oe._uint8ArrayToBuffer(ye),$e="buffer";else throw new ce("chunk",["string","Buffer","Uint8Array"],ye);let ut;return He.ending?ut=new Q:He.destroyed&&(ut=new xe("write")),ut?(k.nextTick(Le,ut),q(pe,ut,!0),ut):(He.pendingcb++,kt(pe,He,ye,$e,Le))}a(Ke,"M"),Ie.prototype.write=function(pe,ye,$e){return Ke(this,pe,ye,$e)===!0},Ie.prototype.cork=function(){this._writableState.corked++},Ie.prototype.uncork=function(){let pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&Ue(this,pe))},Ie.prototype.setDefaultEncoding=function(pe){if(typeof pe=="string"&&(pe=G(pe)),!Pe.isEncoding(pe))throw new ne(pe);return this._writableState.defaultEncoding=pe,this};function kt(pe,ye,$e,Le,He){let ut=ye.objectMode?1:$e.length;ye.length+=ut;let he=ye.length<ye.highWaterMark;return he||(ye.needDrain=!0),ye.writing||ye.corked||ye.errored||!ye.constructed?(ye.buffered.push({chunk:$e,encoding:Le,callback:He}),ye.allBuffers&&Le!=="buffer"&&(ye.allBuffers=!1),ye.allNoop&&He!==$&&(ye.allNoop=!1)):(ye.writelen=ut,ye.writecb=He,ye.writing=!0,ye.sync=!0,pe._write($e,Le,ye.onwrite),ye.sync=!1),he&&!ye.errored&&!ye.destroyed}a(kt,"A");function Te(pe,ye,$e,Le,He,ut,he){ye.writelen=Le,ye.writecb=he,ye.writing=!0,ye.sync=!0,ye.destroyed?ye.onwrite(new xe("write")):$e?pe._writev(He,ye.onwrite):pe._write(He,ut,ye.onwrite),ye.sync=!1}a(Te,"v");function Xe(pe,ye,$e,Le){--ye.pendingcb,Le($e),Ze(ye),q(pe,$e)}a(Xe,"G");function we(pe,ye){let $e=pe._writableState,Le=$e.sync,He=$e.writecb;if(typeof He!="function"){q(pe,new ie);return}$e.writing=!1,$e.writecb=null,$e.length-=$e.writelen,$e.writelen=0,ye?(ye.stack,!$e.errored&&($e.errored=ye),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ye),Le?k.nextTick(Xe,pe,$e,ye,He):Xe(pe,$e,ye,He)):($e.buffered.length>$e.bufferedIndex&&Ue(pe,$e),Le?$e.afterWriteTickInfo!==null&&$e.afterWriteTickInfo.cb===He?$e.afterWriteTickInfo.count++:($e.afterWriteTickInfo={count:1,cb:He,stream:pe,state:$e},k.nextTick(Ne,$e.afterWriteTickInfo)):Fe(pe,$e,1,He))}a(we,"R");function Ne({stream:pe,state:ye,count:$e,cb:Le}){return ye.afterWriteTickInfo=null,Fe(pe,ye,$e,Le)}a(Ne,"C");function Fe(pe,ye,$e,Le){for(!ye.ending&&!pe.destroyed&&ye.length===0&&ye.needDrain&&(ye.needDrain=!1,pe.emit("drain"));$e-- >0;)ye.pendingcb--,Le();ye.destroyed&&Ze(ye),Re(pe,ye)}a(Fe,"b");function Ze(pe){if(pe.writing)return;for(let He=pe.bufferedIndex;He<pe.buffered.length;++He){var ye;let{chunk:ut,callback:he}=pe.buffered[He],je=pe.objectMode?1:ut.length;pe.length-=je,he((ye=pe.errored)!==null&&ye!==void 0?ye:new xe("write"))}let $e=pe[re].splice(0);for(let He=0;He<$e.length;He++){var Le;$e[He]((Le=pe.errored)!==null&&Le!==void 0?Le:new xe("end"))}Be(pe)}a(Ze,"x");function Ue(pe,ye){if(ye.corked||ye.bufferProcessing||ye.destroyed||!ye.constructed)return;let{buffered:$e,bufferedIndex:Le,objectMode:He}=ye,ut=$e.length-Le;if(!ut)return;let he=Le;if(ye.bufferProcessing=!0,ut>1&&pe._writev){ye.pendingcb-=ut-1;let je=ye.allNoop?$:Me=>{for(let ot=he;ot<$e.length;++ot)$e[ot].callback(Me)},lt=ye.allNoop&&he===0?$e:p($e,he);lt.allBuffers=ye.allBuffers,Te(pe,ye,!0,ye.length,lt,"",je),Be(ye)}else{do{let{chunk:je,encoding:lt,callback:Me}=$e[he];$e[he++]=null;let ot=He?1:je.length;Te(pe,ye,!1,ot,je,lt,Me)}while(he<$e.length&&!ye.writing);he===$e.length?Be(ye):he>256?($e.splice(0,he),ye.bufferedIndex=0):ye.bufferedIndex=he}ye.bufferProcessing=!1}a(Ue,"l"),Ie.prototype._write=function(pe,ye,$e){if(this._writev)this._writev([{chunk:pe,encoding:ye}],$e);else throw new te("_write()")},Ie.prototype._writev=null,Ie.prototype.end=function(pe,ye,$e){let Le=this._writableState;typeof pe=="function"?($e=pe,pe=null,ye=null):typeof ye=="function"&&($e=ye,ye=null);let He;if(pe!=null){let ut=Ke(this,pe,ye);ut instanceof S&&(He=ut)}return Le.corked&&(Le.corked=1,this.uncork()),He||(!Le.errored&&!Le.ending?(Le.ending=!0,Re(this,Le,!0),Le.ended=!0):Le.finished?He=new Oe("end"):Le.destroyed&&(He=new xe("end"))),typeof $e=="function"&&(He||Le.finished?k.nextTick($e,He):Le[re].push($e)),this};function qe(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&pe.length===0&&!pe.errored&&pe.buffered.length===0&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}a(qe,"a");function Rt(pe,ye){let $e=!1;function Le(He){if($e){q(pe,He??ie());return}if($e=!0,ye.pendingcb--,He){let ut=ye[re].splice(0);for(let he=0;he<ut.length;he++)ut[he](He);q(pe,He,ye.sync)}else qe(ye)&&(ye.prefinished=!0,pe.emit("prefinish"),ye.pendingcb++,k.nextTick(et,pe,ye))}a(Le,"$$"),ye.sync=!0,ye.pendingcb++;try{pe._final(Le)}catch(He){Le(He)}ye.sync=!1}a(Rt,"f$");function Je(pe,ye){!ye.prefinished&&!ye.finalCalled&&(typeof pe._final=="function"&&!ye.destroyed?(ye.finalCalled=!0,Rt(pe,ye)):(ye.prefinished=!0,pe.emit("prefinish")))}a(Je,"q$");function Re(pe,ye,$e){qe(ye)&&(Je(pe,ye),ye.pendingcb===0&&($e?(ye.pendingcb++,k.nextTick((Le,He)=>{qe(He)?et(Le,He):He.pendingcb--},pe,ye)):qe(ye)&&(ye.pendingcb++,et(pe,ye))))}a(Re,"B");function et(pe,ye){ye.pendingcb--,ye.finished=!0;let $e=ye[re].splice(0);for(let Le=0;Le<$e.length;Le++)$e[Le]();if(pe.emit("finish"),ye.autoDestroy){let Le=pe._readableState;(!Le||Le.autoDestroy&&(Le.endEmitted||Le.readable===!1))&&pe.destroy()}}a(et,"v$"),U(Ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){let pe=this._writableState;return!!pe&&pe.writable!==!1&&!pe.destroyed&&!pe.errored&&!pe.ending&&!pe.ended},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let pe=this._writableState;return pe?!pe.destroyed&&!pe.ending&&pe.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:a(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var ze=Ee.destroy;Ie.prototype.destroy=function(pe,ye){let $e=this._writableState;return!$e.destroyed&&($e.bufferedIndex<$e.buffered.length||$e[re].length)&&k.nextTick(Ze,$e),ze.call(this,pe,ye),this},Ie.prototype._undestroy=Ee.undestroy,Ie.prototype._destroy=function(pe,ye){ye(pe)},Ie.prototype[se.captureRejectionSymbol]=function(pe){this.destroy(pe)};var rt;function Tt(){return rt===void 0&&(rt={}),rt}a(Tt,"o$"),Ie.fromWeb=function(pe,ye){return Tt().newStreamWritableFromWritableStream(pe,ye)},Ie.toWeb=function(pe){return Tt().newWritableStreamFromStreamWritable(pe)}}),Z=r((T,N)=>{var k=d(),p=(Dn(),mr(An)),{isReadable:S,isWritable:C,isIterable:M,isNodeStream:U,isReadableNodeStream:B,isWritableNodeStream:G,isDuplexNodeStream:J,isReadableStream:ue,isWritableStream:se}=f(),oe=g(),{AbortError:Pe,codes:{ERR_INVALID_ARG_TYPE:Ee,ERR_INVALID_RETURN_VALUE:be}}=s(),{destroyer:Ce}=m(),X=V(),ce=D(),te=P(),{createDeferredPromise:ie}=u(),me=L(),xe=globalThis.Blob||p.Blob,Oe=typeof xe<"u"?function(re){return re instanceof xe}:function(re){return!1},de=globalThis.AbortController||l().AbortController,{FunctionPrototypeCall:Q}=n();class ne extends X{static{a(this,"s")}constructor(ae){super(ae),ae?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ae?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}N.exports=a(function re(ae,Be){if(J(ae))return ae;if(B(ae))return $({readable:ae});if(G(ae))return $({writable:ae});if(U(ae))return $({writable:!1,readable:!1});if(ue(ae))return $({readable:ce.fromWeb(ae)});if(se(ae))return $({writable:te.fromWeb(ae)});if(typeof ae=="function"){let{value:Ke,write:kt,final:Te,destroy:Xe}=q(ae);if(M(Ke))return me(ne,Ke,{objectMode:!0,write:kt,final:Te,destroy:Xe});let we=Ke?.then;if(typeof we=="function"){let Ne,Fe=Q(we,Ke,Ze=>{if(Ze!=null)throw new be("nully","body",Ze)},Ze=>{Ce(Ne,Ze)});return Ne=new ne({objectMode:!0,readable:!1,write:kt,final(Ze){Te(async()=>{try{await Fe,k.nextTick(Ze,null)}catch(Ue){k.nextTick(Ze,Ue)}})},destroy:Xe})}throw new be("Iterable, AsyncIterable or AsyncFunction",Be,Ke)}if(Oe(ae))return re(ae.arrayBuffer());if(M(ae))return me(ne,ae,{objectMode:!0,writable:!1});if(ue(ae?.readable)&&se(ae?.writable))return ne.fromWeb(ae);if(typeof ae?.writable=="object"||typeof ae?.readable=="object"){let Ke=ae!=null&&ae.readable?B(ae?.readable)?ae?.readable:re(ae.readable):void 0,kt=ae!=null&&ae.writable?G(ae?.writable)?ae?.writable:re(ae.writable):void 0;return $({readable:Ke,writable:kt})}let Ie=ae?.then;if(typeof Ie=="function"){let Ke;return Q(Ie,ae,kt=>{kt!=null&&Ke.push(kt),Ke.push(null)},kt=>{Ce(Ke,kt)}),Ke=new ne({objectMode:!0,writable:!1,read(){}})}throw new Ee(Be,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ae)},"X");function q(re){let{promise:ae,resolve:Be}=ie(),Ie=new de,Ke=Ie.signal;return{value:re((async function*(){for(;;){let kt=ae;ae=null;let{chunk:Te,done:Xe,cb:we}=await kt;if(k.nextTick(we),Xe)return;if(Ke.aborted)throw new Pe(void 0,{cause:Ke.reason});({promise:ae,resolve:Be}=ie()),yield Te}})(),{signal:Ke}),write(kt,Te,Xe){let we=Be;Be=null,we({chunk:kt,done:!1,cb:Xe})},final(kt){let Te=Be;Be=null,Te({done:!0,cb:kt})},destroy(kt,Te){Ie.abort(),Te(kt)}}}a(q,"j");function $(re){let ae=re.readable&&typeof re.readable.read!="function"?ce.wrap(re.readable):re.readable,Be=re.writable,Ie=!!S(ae),Ke=!!C(Be),kt,Te,Xe,we,Ne;function Fe(Ze){let Ue=we;we=null,Ue?Ue(Ze):Ze&&Ne.destroy(Ze)}return a(Fe,"b"),Ne=new ne({readableObjectMode:!!(ae!=null&&ae.readableObjectMode),writableObjectMode:!!(Be!=null&&Be.writableObjectMode),readable:Ie,writable:Ke}),Ke&&(oe(Be,Ze=>{Ke=!1,Ze&&Ce(ae,Ze),Fe(Ze)}),Ne._write=function(Ze,Ue,qe){Be.write(Ze,Ue)?qe():kt=qe},Ne._final=function(Ze){Be.end(),Te=Ze},Be.on("drain",function(){if(kt){let Ze=kt;kt=null,Ze()}}),Be.on("finish",function(){if(Te){let Ze=Te;Te=null,Ze()}})),Ie&&(oe(ae,Ze=>{Ie=!1,Ze&&Ce(ae,Ze),Fe(Ze)}),ae.on("readable",function(){if(Xe){let Ze=Xe;Xe=null,Ze()}}),ae.on("end",function(){Ne.push(null)}),Ne._read=function(){for(;;){let Ze=ae.read();if(Ze===null){Xe=Ne._read;return}if(!Ne.push(Ze))return}}),Ne._destroy=function(Ze,Ue){!Ze&&we!==null&&(Ze=new Pe),Xe=null,kt=null,Te=null,we===null?Ue(Ze):(we=Ue,Ce(Be,Ze),Ce(ae,Ze))},Ne}a($,"J")}),V=r((T,N)=>{var{ObjectDefineProperties:k,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:S,ObjectSetPrototypeOf:C}=n();N.exports=B;var M=D(),U=P();C(B.prototype,M.prototype),C(B,M);{let se=S(U.prototype);for(let oe=0;oe<se.length;oe++){let Pe=se[oe];B.prototype[Pe]||(B.prototype[Pe]=U.prototype[Pe])}}function B(se){if(!(this instanceof B))return new B(se);M.call(this,se),U.call(this,se),se?(this.allowHalfOpen=se.allowHalfOpen!==!1,se.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),se.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(B,"H"),k(B.prototype,{writable:{__proto__:null,...p(U.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(U.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(U.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(U.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(U.prototype,"writableLength")},writableFinished:{__proto__:null,...p(U.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(U.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(U.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(U.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(se){this._readableState&&this._writableState&&(this._readableState.destroyed=se,this._writableState.destroyed=se)}}});var G;function J(){return G===void 0&&(G={}),G}a(J,"f"),B.fromWeb=function(se,oe){return J().newStreamDuplexFromReadableWritablePair(se,oe)},B.toWeb=function(se){return J().newReadableWritablePairFromDuplex(se)};var ue;B.from=function(se){return ue||(ue=Z()),ue(se,"body")}}),W=r((T,N)=>{var{ObjectSetPrototypeOf:k,Symbol:p}=n();N.exports=B;var{ERR_METHOD_NOT_IMPLEMENTED:S}=s().codes,C=V(),{getHighWaterMark:M}=I();k(B.prototype,C.prototype),k(B,C);var U=p("kCallback");function B(ue){if(!(this instanceof B))return new B(ue);let se=ue?M(this,ue,"readableHighWaterMark",!0):null;se===0&&(ue={...ue,highWaterMark:null,readableHighWaterMark:se,writableHighWaterMark:ue.writableHighWaterMark||0}),C.call(this,ue),this._readableState.sync=!1,this[U]=null,ue&&(typeof ue.transform=="function"&&(this._transform=ue.transform),typeof ue.flush=="function"&&(this._flush=ue.flush)),this.on("prefinish",J)}a(B,"H");function G(ue){typeof this._flush=="function"&&!this.destroyed?this._flush((se,oe)=>{if(se){ue?ue(se):this.destroy(se);return}oe!=null&&this.push(oe),this.push(null),ue&&ue()}):(this.push(null),ue&&ue())}a(G,"T");function J(){this._final!==G&&G.call(this)}a(J,"f"),B.prototype._final=G,B.prototype._transform=function(ue,se,oe){throw new S("_transform()")},B.prototype._write=function(ue,se,oe){let Pe=this._readableState,Ee=this._writableState,be=Pe.length;this._transform(ue,se,(Ce,X)=>{if(Ce){oe(Ce);return}X!=null&&this.push(X),Ee.ended||be===Pe.length||Pe.length<Pe.highWaterMark?oe():this[U]=oe})},B.prototype._read=function(){if(this[U]){let ue=this[U];this[U]=null,ue()}}}),F=r((T,N)=>{var{ObjectSetPrototypeOf:k}=n();N.exports=S;var p=W();k(S.prototype,p.prototype),k(S,p);function S(C){if(!(this instanceof S))return new S(C);p.call(this,C)}a(S,"P"),S.prototype._transform=function(C,M,U){U(null,C)}}),Y=r((T,N)=>{var k=d(),{ArrayIsArray:p,Promise:S,SymbolAsyncIterator:C,SymbolDispose:M}=n(),U=g(),{once:B}=u(),G=m(),J=V(),{aggregateTwoErrors:ue,codes:{ERR_INVALID_ARG_TYPE:se,ERR_INVALID_RETURN_VALUE:oe,ERR_MISSING_ARGS:Pe,ERR_STREAM_DESTROYED:Ee,ERR_STREAM_PREMATURE_CLOSE:be},AbortError:Ce}=s(),{validateFunction:X,validateAbortSignal:ce}=c(),{isIterable:te,isReadable:ie,isReadableNodeStream:me,isNodeStream:xe,isTransformStream:Oe,isWebStream:de,isReadableStream:Q,isReadableFinished:ne}=f(),q=globalThis.AbortController||l().AbortController,$,re,ae;function Be(Ze,Ue,qe){let Rt=!1;Ze.on("close",()=>{Rt=!0});let Je=U(Ze,{readable:Ue,writable:qe},Re=>{Rt=!Re});return{destroy:a(Re=>{Rt||(Rt=!0,G.destroyer(Ze,Re||new Ee("pipe")))},"destroy"),cleanup:Je}}a(Be,"Z");function Ie(Ze){return X(Ze[Ze.length-1],"streams[stream.length - 1]"),Ze.pop()}a(Ie,"V");function Ke(Ze){if(te(Ze))return Ze;if(me(Ze))return kt(Ze);throw new se("val",["Readable","Iterable","AsyncIterable"],Ze)}a(Ke,"M");async function*kt(Ze){re||(re=D()),yield*re.prototype[C].call(Ze)}a(kt,"A");async function Te(Ze,Ue,qe,{end:Rt}){let Je,Re=null,et=a(Tt=>{if(Tt&&(Je=Tt),Re){let pe=Re;Re=null,pe()}},"v$"),ze=a(()=>new S((Tt,pe)=>{Je?pe(Je):Re=a(()=>{Je?pe(Je):Tt()},"B")}),"e");Ue.on("drain",et);let rt=U(Ue,{readable:!1},et);try{Ue.writableNeedDrain&&await ze();for await(let Tt of Ze)Ue.write(Tt)||await ze();Rt&&(Ue.end(),await ze()),qe()}catch(Tt){qe(Je!==Tt?ue(Je,Tt):Tt)}finally{rt(),Ue.off("drain",et)}}a(Te,"v");async function Xe(Ze,Ue,qe,{end:Rt}){Oe(Ue)&&(Ue=Ue.writable);let Je=Ue.getWriter();try{for await(let Re of Ze)await Je.ready,Je.write(Re).catch(()=>{});await Je.ready,Rt&&await Je.close(),qe()}catch(Re){try{await Je.abort(Re),qe(Re)}catch(et){qe(et)}}}a(Xe,"G");function we(...Ze){return Ne(Ze,B(Ie(Ze)))}a(we,"R");function Ne(Ze,Ue,qe){if(Ze.length===1&&p(Ze[0])&&(Ze=Ze[0]),Ze.length<2)throw new Pe("streams");let Rt=new q,Je=Rt.signal,Re=qe?.signal,et=[];ce(Re,"options.signal");function ze(){He(new Ce)}a(ze,"e"),ae=ae||u().addAbortListener;let rt;Re&&(rt=ae(Re,ze));let Tt,pe,ye=[],$e=0;function Le(lt){He(lt,--$e===0)}a(Le,"$$");function He(lt,Me){var ot;if(lt&&(!Tt||Tt.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Tt=lt),!(!Tt&&!Me)){for(;ye.length;)ye.shift()(Tt);(ot=rt)===null||ot===void 0||ot[M](),Rt.abort(),Me&&(Tt||et.forEach(Ft=>Ft()),k.nextTick(Ue,Tt,pe))}}a(He,"_$");let ut;for(let lt=0;lt<Ze.length;lt++){let Me=Ze[lt],ot=lt<Ze.length-1,Ft=lt>0,at=ot||qe?.end!==!1,mt=lt===Ze.length-1;if(xe(Me)){let Kt=a(function(Qt){Qt&&Qt.name!=="AbortError"&&Qt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Le(Qt)},"X$");if(at){let{destroy:Qt,cleanup:nt}=Be(Me,ot,Ft);ye.push(Qt),ie(Me)&&mt&&et.push(nt)}Me.on("error",Kt),ie(Me)&&mt&&et.push(()=>{Me.removeListener("error",Kt)})}if(lt===0)if(typeof Me=="function"){if(ut=Me({signal:Je}),!te(ut))throw new oe("Iterable, AsyncIterable or Stream","source",ut)}else te(Me)||me(Me)||Oe(Me)?ut=Me:ut=J.from(Me);else if(typeof Me=="function"){if(Oe(ut)){var he;ut=Ke((he=ut)===null||he===void 0?void 0:he.readable)}else ut=Ke(ut);if(ut=Me(ut,{signal:Je}),ot){if(!te(ut,!0))throw new oe("AsyncIterable",`transform[${lt-1}]`,ut)}else{var je;$||($=F());let Kt=new $({objectMode:!0}),Qt=(je=ut)===null||je===void 0?void 0:je.then;if(typeof Qt=="function")$e++,Qt.call(ut,Mt=>{pe=Mt,Mt!=null&&Kt.write(Mt),at&&Kt.end(),k.nextTick(Le)},Mt=>{Kt.destroy(Mt),k.nextTick(Le,Mt)});else if(te(ut,!0))$e++,Te(ut,Kt,Le,{end:at});else if(Q(ut)||Oe(ut)){let Mt=ut.readable||ut;$e++,Te(Mt,Kt,Le,{end:at})}else throw new oe("AsyncIterable or Promise","destination",ut);ut=Kt;let{destroy:nt,cleanup:ft}=Be(ut,!1,!0);ye.push(nt),mt&&et.push(ft)}}else if(xe(Me)){if(me(ut)){$e+=2;let Kt=Fe(ut,Me,Le,{end:at});ie(Me)&&mt&&et.push(Kt)}else if(Oe(ut)||Q(ut)){let Kt=ut.readable||ut;$e++,Te(Kt,Me,Le,{end:at})}else if(te(ut))$e++,Te(ut,Me,Le,{end:at});else throw new se("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ut);ut=Me}else if(de(Me)){if(me(ut))$e++,Xe(Ke(ut),Me,Le,{end:at});else if(Q(ut)||te(ut))$e++,Xe(ut,Me,Le,{end:at});else if(Oe(ut))$e++,Xe(ut.readable,Me,Le,{end:at});else throw new se("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ut);ut=Me}else ut=J.from(Me)}return(Je!=null&&Je.aborted||Re!=null&&Re.aborted)&&k.nextTick(ze),ut}a(Ne,"C");function Fe(Ze,Ue,qe,{end:Rt}){let Je=!1;if(Ue.on("close",()=>{Je||qe(new be)}),Ze.pipe(Ue,{end:!1}),Rt){let Re=a(function(){Je=!0,Ue.end()},"v$");ne(Ze)?k.nextTick(Re):Ze.once("end",Re)}else qe();return U(Ze,{readable:!0,writable:!1},Re=>{let et=Ze._readableState;Re&&Re.code==="ERR_STREAM_PREMATURE_CLOSE"&&et&&et.ended&&!et.errored&&!et.errorEmitted?Ze.once("end",qe).once("error",qe):qe(Re)}),U(Ue,{readable:!1,writable:!0},qe)}a(Fe,"b"),N.exports={pipelineImpl:Ne,pipeline:we}}),h=r((T,N)=>{var{pipeline:k}=Y(),p=V(),{destroyer:S}=m(),{isNodeStream:C,isReadable:M,isWritable:U,isWebStream:B,isTransformStream:G,isWritableStream:J,isReadableStream:ue}=f(),{AbortError:se,codes:{ERR_INVALID_ARG_VALUE:oe,ERR_MISSING_ARGS:Pe}}=s(),Ee=g();N.exports=function(...be){if(be.length===0)throw new Pe("streams");if(be.length===1)return p.from(be[0]);let Ce=[...be];if(typeof be[0]=="function"&&(be[0]=p.from(be[0])),typeof be[be.length-1]=="function"){let q=be.length-1;be[q]=p.from(be[q])}for(let q=0;q<be.length;++q)if(!(!C(be[q])&&!B(be[q]))){if(q<be.length-1&&!(M(be[q])||ue(be[q])||G(be[q])))throw new oe(`streams[${q}]`,Ce[q],"must be readable");if(q>0&&!(U(be[q])||J(be[q])||G(be[q])))throw new oe(`streams[${q}]`,Ce[q],"must be writable")}let X,ce,te,ie,me;function xe(q){let $=ie;ie=null,$?$(q):q?me.destroy(q):!ne&&!Q&&me.destroy()}a(xe,"o");let Oe=be[0],de=k(be,xe),Q=!!(U(Oe)||J(Oe)||G(Oe)),ne=!!(M(de)||ue(de)||G(de));if(me=new p({writableObjectMode:!!(Oe!=null&&Oe.writableObjectMode),readableObjectMode:!!(de!=null&&de.readableObjectMode),writable:Q,readable:ne}),Q){if(C(Oe))me._write=function($,re,ae){Oe.write($,re)?ae():X=ae},me._final=function($){Oe.end(),ce=$},Oe.on("drain",function(){if(X){let $=X;X=null,$()}});else if(B(Oe)){let $=(G(Oe)?Oe.writable:Oe).getWriter();me._write=async function(re,ae,Be){try{await $.ready,$.write(re).catch(()=>{}),Be()}catch(Ie){Be(Ie)}},me._final=async function(re){try{await $.ready,$.close().catch(()=>{}),ce=re}catch(ae){re(ae)}}}let q=G(de)?de.readable:de;Ee(q,()=>{if(ce){let $=ce;ce=null,$()}})}if(ne){if(C(de))de.on("readable",function(){if(te){let q=te;te=null,q()}}),de.on("end",function(){me.push(null)}),me._read=function(){for(;;){let q=de.read();if(q===null){te=me._read;return}if(!me.push(q))return}};else if(B(de)){let q=(G(de)?de.readable:de).getReader();me._read=async function(){for(;;)try{let{value:$,done:re}=await q.read();if(!me.push($))return;if(re){me.push(null);return}}catch{return}}}}return me._destroy=function(q,$){!q&&ie!==null&&(q=new se),te=null,X=null,ce=null,ie===null?$(q):(ie=$,C(de)&&S(de,q))},me}}),w=r((T,N)=>{var k=globalThis.AbortController||l().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:S,ERR_MISSING_ARGS:C,ERR_OUT_OF_RANGE:M},AbortError:U}=s(),{validateAbortSignal:B,validateInteger:G,validateObject:J}=c(),ue=n().Symbol("kWeak"),se=n().Symbol("kResistStopPropagation"),{finished:oe}=g(),Pe=h(),{addAbortSignalNoValidate:Ee}=_(),{isWritable:be,isNodeStream:Ce}=f(),{deprecate:X}=u(),{ArrayPrototypePush:ce,Boolean:te,MathFloor:ie,Number:me,NumberIsNaN:xe,Promise:Oe,PromiseReject:de,PromiseResolve:Q,PromisePrototypeThen:ne,Symbol:q}=n(),$=q("kEmpty"),re=q("kEof");function ae(Re,et){if(et!=null&&J(et,"options"),et?.signal!=null&&B(et.signal,"options.signal"),Ce(Re)&&!be(Re))throw new p("stream",Re,"must be writable");let ze=Pe(this,Re);return et!=null&&et.signal&&Ee(et.signal,ze),ze}a(ae,"W");function Be(Re,et){if(typeof Re!="function")throw new S("fn",["Function","AsyncFunction"],Re);et!=null&&J(et,"options"),et?.signal!=null&&B(et.signal,"options.signal");let ze=1;et?.concurrency!=null&&(ze=ie(et.concurrency));let rt=ze-1;return et?.highWaterMark!=null&&(rt=ie(et.highWaterMark)),G(ze,"options.concurrency",1),G(rt,"options.highWaterMark",0),rt+=ze,async function*(){let Tt=u().AbortSignalAny([et?.signal].filter(te)),pe=this,ye=[],$e={signal:Tt},Le,He,ut=!1,he=0;function je(){ut=!0,lt()}a(je,"n");function lt(){he-=1,Me()}a(lt,"H$");function Me(){He&&!ut&&he<ze&&ye.length<rt&&(He(),He=null)}a(Me,"t");async function ot(){try{for await(let Ft of pe){if(ut)return;if(Tt.aborted)throw new U;try{if(Ft=Re(Ft,$e),Ft===$)continue;Ft=Q(Ft)}catch(at){Ft=de(at)}he+=1,ne(Ft,lt,je),ye.push(Ft),Le&&(Le(),Le=null),!ut&&(ye.length>=rt||he>=ze)&&await new Oe(at=>{He=at})}ye.push(re)}catch(Ft){let at=de(Ft);ne(at,lt,je),ye.push(at)}finally{ut=!0,Le&&(Le(),Le=null)}}a(ot,"F"),ot();try{for(;;){for(;ye.length>0;){let Ft=await ye[0];if(Ft===re)return;if(Tt.aborted)throw new U;Ft!==$&&(yield Ft),ye.shift(),Me()}await new Oe(Ft=>{Le=Ft})}}finally{ut=!0,He&&(He(),He=null)}}.call(this)}a(Be,"Z");function Ie(Re=void 0){return Re!=null&&J(Re,"options"),Re?.signal!=null&&B(Re.signal,"options.signal"),async function*(){let et=0;for await(let rt of this){var ze;if(Re!=null&&(ze=Re.signal)!==null&&ze!==void 0&&ze.aborted)throw new U({cause:Re.signal.reason});yield[et++,rt]}}.call(this)}a(Ie,"V");async function Ke(Re,et=void 0){for await(let ze of we.call(this,Re,et))return!0;return!1}a(Ke,"M");async function kt(Re,et=void 0){if(typeof Re!="function")throw new S("fn",["Function","AsyncFunction"],Re);return!await Ke.call(this,async(...ze)=>!await Re(...ze),et)}a(kt,"A");async function Te(Re,et){for await(let ze of we.call(this,Re,et))return ze}a(Te,"v");async function Xe(Re,et){if(typeof Re!="function")throw new S("fn",["Function","AsyncFunction"],Re);async function ze(rt,Tt){return await Re(rt,Tt),$}a(ze,"e");for await(let rt of Be.call(this,ze,et));}a(Xe,"G");function we(Re,et){if(typeof Re!="function")throw new S("fn",["Function","AsyncFunction"],Re);async function ze(rt,Tt){return await Re(rt,Tt)?rt:$}return a(ze,"e"),Be.call(this,ze,et)}a(we,"R");class Ne extends C{static{a(this,"C")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Fe(Re,et,ze){var rt;if(typeof Re!="function")throw new S("reducer",["Function","AsyncFunction"],Re);ze!=null&&J(ze,"options"),ze?.signal!=null&&B(ze.signal,"options.signal");let Tt=arguments.length>1;if(ze!=null&&(rt=ze.signal)!==null&&rt!==void 0&&rt.aborted){let He=new U(void 0,{cause:ze.signal.reason});throw this.once("error",()=>{}),await oe(this.destroy(He)),He}let pe=new k,ye=pe.signal;if(ze!=null&&ze.signal){let He={once:!0,[ue]:this,[se]:!0};ze.signal.addEventListener("abort",()=>pe.abort(),He)}let $e=!1;try{for await(let He of this){var Le;if($e=!0,ze!=null&&(Le=ze.signal)!==null&&Le!==void 0&&Le.aborted)throw new U;Tt?et=await Re(et,He,{signal:ye}):(et=He,Tt=!0)}if(!$e&&!Tt)throw new Ne}finally{pe.abort()}return et}a(Fe,"b");async function Ze(Re){Re!=null&&J(Re,"options"),Re?.signal!=null&&B(Re.signal,"options.signal");let et=[];for await(let rt of this){var ze;if(Re!=null&&(ze=Re.signal)!==null&&ze!==void 0&&ze.aborted)throw new U(void 0,{cause:Re.signal.reason});ce(et,rt)}return et}a(Ze,"x");function Ue(Re,et){let ze=Be.call(this,Re,et);return async function*(){for await(let rt of ze)yield*rt}.call(this)}a(Ue,"l");function qe(Re){if(Re=me(Re),xe(Re))return 0;if(Re<0)throw new M("number",">= 0",Re);return Re}a(qe,"a");function Rt(Re,et=void 0){return et!=null&&J(et,"options"),et?.signal!=null&&B(et.signal,"options.signal"),Re=qe(Re),async function*(){var ze;if(et!=null&&(ze=et.signal)!==null&&ze!==void 0&&ze.aborted)throw new U;for await(let Tt of this){var rt;if(et!=null&&(rt=et.signal)!==null&&rt!==void 0&&rt.aborted)throw new U;Re--<=0&&(yield Tt)}}.call(this)}a(Rt,"f$");function Je(Re,et=void 0){return et!=null&&J(et,"options"),et?.signal!=null&&B(et.signal,"options.signal"),Re=qe(Re),async function*(){var ze;if(et!=null&&(ze=et.signal)!==null&&ze!==void 0&&ze.aborted)throw new U;for await(let Tt of this){var rt;if(et!=null&&(rt=et.signal)!==null&&rt!==void 0&&rt.aborted)throw new U;if(Re-- >0&&(yield Tt),Re<=0)return}}.call(this)}a(Je,"q$"),N.exports.streamReturningOperators={asIndexedPairs:X(Ie,"readable.asIndexedPairs will be removed in a future version."),drop:Rt,filter:we,flatMap:Ue,map:Be,take:Je,compose:ae},N.exports.promiseReturningOperators={every:kt,forEach:Xe,reduce:Fe,toArray:Ze,some:Ke,find:Te}}),b=r((T,N)=>{var{ArrayPrototypePop:k,Promise:p}=n(),{isIterable:S,isNodeStream:C,isWebStream:M}=f(),{pipelineImpl:U}=Y(),{finished:B}=g();x();function G(...J){return new p((ue,se)=>{let oe,Pe,Ee=J[J.length-1];if(Ee&&typeof Ee=="object"&&!C(Ee)&&!S(Ee)&&!M(Ee)){let be=k(J);oe=be.signal,Pe=be.end}U(J,(be,Ce)=>{be?se(be):ue(Ce)},{signal:oe,end:Pe})})}a(G,"T"),N.exports={finished:B,pipeline:G}}),x=r((T,N)=>{var{Buffer:k}=(Dn(),mr(An)),{ObjectDefineProperty:p,ObjectKeys:S,ReflectApply:C}=n(),{promisify:{custom:M}}=u(),{streamReturningOperators:U,promiseReturningOperators:B}=w(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:G}}=s(),J=h(),{setDefaultHighWaterMark:ue,getDefaultHighWaterMark:se}=I(),{pipeline:oe}=Y(),{destroyer:Pe}=m(),Ee=g(),be=b(),Ce=f(),X=N.exports=y().Stream;X.isDestroyed=Ce.isDestroyed,X.isDisturbed=Ce.isDisturbed,X.isErrored=Ce.isErrored,X.isReadable=Ce.isReadable,X.isWritable=Ce.isWritable,X.Readable=D();for(let te of S(U)){let ie=a(function(...xe){if(new.target)throw G();return X.Readable.from(C(me,this,xe))},"y"),me=U[te];p(ie,"name",{__proto__:null,value:me.name}),p(ie,"length",{__proto__:null,value:me.length}),p(X.Readable.prototype,te,{__proto__:null,value:ie,enumerable:!1,configurable:!0,writable:!0})}for(let te of S(B)){let ie=a(function(...xe){if(new.target)throw G();return C(me,this,xe)},"y"),me=B[te];p(ie,"name",{__proto__:null,value:me.name}),p(ie,"length",{__proto__:null,value:me.length}),p(X.Readable.prototype,te,{__proto__:null,value:ie,enumerable:!1,configurable:!0,writable:!0})}X.Writable=P(),X.Duplex=V(),X.Transform=W(),X.PassThrough=F(),X.pipeline=oe;var{addAbortSignal:ce}=_();X.addAbortSignal=ce,X.finished=Ee,X.destroy=Pe,X.compose=J,X.setDefaultHighWaterMark=ue,X.getDefaultHighWaterMark=se,p(X,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return be}}),p(oe,M,{__proto__:null,enumerable:!0,get(){return be.pipeline}}),p(Ee,M,{__proto__:null,enumerable:!0,get(){return be.finished}}),X.Stream=X,X._isUint8Array=function(te){return te instanceof Uint8Array},X._uint8ArrayToBuffer=function(te){return k.from(te.buffer,te.byteOffset,te.byteLength)}}),E=r((T,N)=>{wN();{let k=x(),p=b(),S=k.Readable.destroy;N.exports=k.Readable,N.exports._uint8ArrayToBuffer=k._uint8ArrayToBuffer,N.exports._isUint8Array=k._isUint8Array,N.exports.isDisturbed=k.isDisturbed,N.exports.isErrored=k.isErrored,N.exports.isReadable=k.isReadable,N.exports.Readable=k.Readable,N.exports.Writable=k.Writable,N.exports.Duplex=k.Duplex,N.exports.Transform=k.Transform,N.exports.PassThrough=k.PassThrough,N.exports.addAbortSignal=k.addAbortSignal,N.exports.finished=k.finished,N.exports.destroy=k.destroy,N.exports.destroy=S,N.exports.pipeline=k.pipeline,N.exports.compose=k.compose,Object.defineProperty(k,"promises",{configurable:!0,enumerable:!0,get(){return p}}),N.exports.Stream=k.Stream}N.exports.default=N.exports});t.exports=E()}),di={};yi(di,{webcrypto:a(()=>dI,"webcrypto"),rng:a(()=>TN,"rng"),randomUUID:a(()=>iZ,"randomUUID"),randomFillSync:a(()=>oI,"randomFillSync"),randomFill:a(()=>sI,"randomFill"),randomBytes:a(()=>NN,"randomBytes"),publicEncrypt:a(()=>rI,"publicEncrypt"),publicDecrypt:a(()=>iI,"publicDecrypt"),pseudoRandomBytes:a(()=>AN,"pseudoRandomBytes"),prng:a(()=>kN,"prng"),privateEncrypt:a(()=>nI,"privateEncrypt"),privateDecrypt:a(()=>aI,"privateDecrypt"),pbkdf2Sync:a(()=>DN,"pbkdf2Sync"),pbkdf2:a(()=>LN,"pbkdf2"),listCiphers:a(()=>KN,"listCiphers"),getRandomValues:a(()=>nZ,"getRandomValues"),getHashes:a(()=>RN,"getHashes"),getDiffieHellman:a(()=>$N,"getDiffieHellman"),getCurves:a(()=>eZ,"getCurves"),getCiphers:a(()=>VN,"getCiphers"),default:a(()=>fI,"default"),createVerify:a(()=>qN,"createVerify"),createSign:a(()=>XN,"createSign"),createHmac:a(()=>ON,"createHmac"),createHash:a(()=>CN,"createHash"),createECDH:a(()=>tI,"createECDH"),createDiffieHellmanGroup:a(()=>YN,"createDiffieHellmanGroup"),createDiffieHellman:a(()=>QN,"createDiffieHellman"),createDecipheriv:a(()=>GN,"createDecipheriv"),createDecipher:a(()=>UN,"createDecipher"),createCredentials:a(()=>lI,"createCredentials"),createCipheriv:a(()=>BN,"createCipheriv"),createCipher:a(()=>PN,"createCipher"),constants:a(()=>uI,"constants"),Verify:a(()=>eI,"Verify"),Sign:a(()=>JN,"Sign"),Hmac:a(()=>MN,"Hmac"),Hash:a(()=>IN,"Hash"),DiffieHellmanGroup:a(()=>ZN,"DiffieHellmanGroup"),DiffieHellman:a(()=>WN,"DiffieHellman"),Decipheriv:a(()=>HN,"Decipheriv"),Decipher:a(()=>FN,"Decipher"),DEFAULT_ENCODING:a(()=>rZ,"DEFAULT_ENCODING"),Cipheriv:a(()=>zN,"Cipheriv"),Cipher:a(()=>jN,"Cipher")});function eZ(){return cI}a(eZ,"FB");var xN,_N,zy,EN,SN,tZ=a((e,t,r)=>{r=e!=null?xN(_N(e)):{};let n=t||!e||!e.__esModule?zy(r,"default",{value:e,enumerable:!0}):r;for(let i of EN(e))SN.call(n,i)||zy(n,i,{get:a(()=>e[i],"get"),enumerable:!0});return n},"hn"),tt=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"T$"),ic,ac,Eg,sx,$f,Qf,Un,ox,Vl,Sg,lx,ux,cx,dx,kg,fx,hx,px,mx,gx,bx,vx,yx,wx,xx,Kl,sc,Ag,_x,Tg,Ng,Ex,Zl,Wf,Xf,Sx,Ig,Jf,kx,Cg,Ax,Mg,Og,Tx,Nx,Ix,Cx,Mx,Ox,Rx,Lx,Dx,jx,Px,zx,Bx,Fx,qf,Rg,Ux,Lg,Hx,Gx,Vx,Kx,Oa,hs,Dg,Ei,jg,oc,Zx,oi,Yx,$x,Qx,Pg,Ji,Yl,zg,Wx,Bg,Xx,Fg,Jx,qx,e5,t5,eh,r5,th,n5,i5,a5,s5,o5,l5,u5,c5,d5,f5,h5,p5,m5,g5,Ug,b5,$l,v5,Hg,Gg,y5,w5,Vg,x5,_5,Ql,E5,S5,k5,A5,T5,N5,Kg,I5,Zg,Yg,$g,rh,Qg,C5,Wg,M5,O5,nh,R5,L5,D5,j5,or,kN,AN,TN,NN,IN,CN,MN,ON,RN,LN,DN,jN,PN,zN,BN,FN,UN,HN,GN,VN,KN,ZN,YN,$N,QN,WN,XN,JN,qN,eI,tI,rI,nI,iI,aI,sI,oI,lI,uI,rZ="buffer",nZ=a(e=>crypto.getRandomValues(e),"BB"),iZ=a(()=>crypto.randomUUID(),"tB"),cI,dI,fI,Ai=lf(()=>{xN=Object.create,{getPrototypeOf:_N,defineProperty:zy,getOwnPropertyNames:EN}=Object,SN=Object.prototype.hasOwnProperty,ic=tt((e,t)=>{t.exports=(Ai(),mr(di)).randomBytes}),ac=tt((e,t)=>{t.exports=(Ai(),mr(di)).createHash}),Eg=tt((e,t)=>{t.exports=(Ai(),mr(di)).createHmac}),sx=tt((e,t)=>{t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),$f=tt((e,t)=>{var r=isFinite,n=Math.pow(2,30)-1;t.exports=function(i,s){if(typeof i!="number")throw TypeError("Iterations not a number");if(i<0||!r(i))throw TypeError("Bad iterations");if(typeof s!="number")throw TypeError("Key length not a number");if(s<0||s>n||s!==s)throw TypeError("Bad key length")}}),Qf=tt((e,t)=>{var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(n=parseInt(process.version.split(".")[0].slice(1),10),r=n>=6?"utf-8":"binary"):r="utf-8";var n;t.exports=r}),Un=tt((e,t)=>{var r=(Dn(),mr(An)),n=r.Buffer;function i(o,l){for(var u in o)l[u]=o[u]}a(i,"P"),n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,l,u){return n(o,l,u)}a(s,"O"),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,u){if(typeof o=="number")throw TypeError("Argument must not be a number");return n(o,l,u)},s.alloc=function(o,l,u){if(typeof o!="number")throw TypeError("Argument must be a number");var c=n(o);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return r.SlowBuffer(o)}}),ox=tt((e,t)=>{var r={}.toString;t.exports=Array.isArray||function(n){return r.call(n)=="[object Array]"}}),Vl=tt((e,t)=>{t.exports=TypeError}),Sg=tt((e,t)=>{t.exports=Object}),lx=tt((e,t)=>{t.exports=Error}),ux=tt((e,t)=>{t.exports=EvalError}),cx=tt((e,t)=>{t.exports=RangeError}),dx=tt((e,t)=>{t.exports=ReferenceError}),kg=tt((e,t)=>{t.exports=SyntaxError}),fx=tt((e,t)=>{t.exports=URIError}),hx=tt((e,t)=>{t.exports=Math.abs}),px=tt((e,t)=>{t.exports=Math.floor}),mx=tt((e,t)=>{t.exports=Math.max}),gx=tt((e,t)=>{t.exports=Math.min}),bx=tt((e,t)=>{t.exports=Math.pow}),vx=tt((e,t)=>{t.exports=Math.round}),yx=tt((e,t)=>{t.exports=Number.isNaN||function(r){return r!==r}}),wx=tt((e,t)=>{var r=yx();t.exports=function(n){return r(n)||n===0?n:n<0?-1:1}}),xx=tt((e,t)=>{t.exports=Object.getOwnPropertyDescriptor}),Kl=tt((e,t)=>{var r=xx();if(r)try{r([],"length")}catch{r=null}t.exports=r}),sc=tt((e,t)=>{var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}t.exports=r}),Ag=tt((e,t)=>{t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;r[n]=s;for(var o in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var l=Object.getOwnPropertySymbols(r);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(r,n);if(u.value!==s||u.enumerable!==!0)return!1}return!0}}),_x=tt((e,t)=>{var r=typeof Symbol<"u"&&Symbol,n=Ag();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),Tg=tt((e,t)=>{t.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null}),Ng=tt((e,t)=>{var r=Sg();t.exports=r.getPrototypeOf||null}),Ex=tt((e,t)=>{var r="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,i=Math.max,s="[object Function]",o=a(function(c,d){for(var f=[],g=0;g<c.length;g+=1)f[g]=c[g];for(var m=0;m<d.length;m+=1)f[m+c.length]=d[m];return f},"Y"),l=a(function(c,d){for(var f=[],g=d,m=0;g<c.length;g+=1,m+=1)f[m]=c[g];return f},"z"),u=a(function(c,d){for(var f="",g=0;g<c.length;g+=1)f+=c[g],g+1<c.length&&(f+=d);return f},"H");t.exports=function(c){var d=this;if(typeof d!="function"||n.apply(d)!==s)throw TypeError(r+d);for(var f=l(arguments,1),g,m=a(function(){if(this instanceof g){var O=d.apply(this,o(f,arguments));return Object(O)===O?O:this}return d.apply(c,o(f,arguments))},"S"),y=i(0,d.length-f.length),_=[],A=0;A<y;A++)_[A]="$"+A;if(g=Function("binder","return function ("+u(_,",")+"){ return binder.apply(this,arguments); }")(m),d.prototype){var I=a(function(){},"D");I.prototype=d.prototype,g.prototype=new I,I.prototype=null}return g}}),Zl=tt((e,t)=>{var r=Ex();t.exports=Function.prototype.bind||r}),Wf=tt((e,t)=>{t.exports=Function.prototype.call}),Xf=tt((e,t)=>{t.exports=Function.prototype.apply}),Sx=tt((e,t)=>{t.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply}),Ig=tt((e,t)=>{var r=Zl(),n=Xf(),i=Wf(),s=Sx();t.exports=s||r.call(i,n)}),Jf=tt((e,t)=>{var r=Zl(),n=Vl(),i=Wf(),s=Ig();t.exports=function(o){if(o.length<1||typeof o[0]!="function")throw new n("a function is required");return s(r,i,o)}}),kx=tt((e,t)=>{var r=Jf(),n=Kl(),i;try{i=[].__proto__===Array.prototype}catch(u){if(!u||typeof u!="object"||!("code"in u)||u.code!=="ERR_PROTO_ACCESS")throw u}var s=!!i&&n&&n(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;t.exports=s&&typeof s.get=="function"?r([s.get]):typeof l=="function"?function(u){return l(u==null?u:o(u))}:!1}),Cg=tt((e,t)=>{var r=Tg(),n=Ng(),i=kx();t.exports=r?function(s){return r(s)}:n?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw TypeError("getProto: not an object");return n(s)}:i?function(s){return i(s)}:null}),Ax=tt((e,t)=>{var r=Function.prototype.call,n=Object.prototype.hasOwnProperty,i=Zl();t.exports=i.call(r,n)}),Mg=tt((e,t)=>{var r,n=Sg(),i=lx(),s=ux(),o=cx(),l=dx(),u=kg(),c=Vl(),d=fx(),f=hx(),g=px(),m=mx(),y=gx(),_=bx(),A=vx(),I=wx(),O=Function,R=a(function(Pe){try{return O('"use strict"; return ('+Pe+").constructor;")()}catch{}},"L"),L=Kl(),D=sc(),P=a(function(){throw new c},"c"),Z=L?(function(){try{return arguments.callee,P}catch{try{return L(arguments,"callee").get}catch{return P}}})():P,V=_x()(),W=Cg(),F=Ng(),Y=Tg(),h=Xf(),w=Wf(),b={},x=typeof Uint8Array>"u"||!W?r:W(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":V&&W?W([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&W?W(W([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!W?r:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":n,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!W?r:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&W?W(""[Symbol.iterator]()):r,"%Symbol%":V?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":Z,"%TypedArray%":x,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":w,"%Function.prototype.apply%":h,"%Object.defineProperty%":D,"%Object.getPrototypeOf%":F,"%Math.abs%":f,"%Math.floor%":g,"%Math.max%":m,"%Math.min%":y,"%Math.pow%":_,"%Math.round%":A,"%Math.sign%":I,"%Reflect.getPrototypeOf%":Y};if(W)try{null.error}catch(Pe){T=W(W(Pe)),E["%Error.prototype%"]=T}var T,N=a(function Pe(Ee){var be;if(Ee==="%AsyncFunction%")be=R("async function () {}");else if(Ee==="%GeneratorFunction%")be=R("function* () {}");else if(Ee==="%AsyncGeneratorFunction%")be=R("async function* () {}");else if(Ee==="%AsyncGenerator%"){var Ce=Pe("%AsyncGeneratorFunction%");Ce&&(be=Ce.prototype)}else if(Ee==="%AsyncIteratorPrototype%"){var X=Pe("%AsyncGenerator%");X&&W&&(be=W(X.prototype))}return E[Ee]=be,be},"v$"),k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},p=Zl(),S=Ax(),C=p.call(w,Array.prototype.concat),M=p.call(h,Array.prototype.splice),U=p.call(w,String.prototype.replace),B=p.call(w,String.prototype.slice),G=p.call(w,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,se=a(function(Pe){var Ee=B(Pe,0,1),be=B(Pe,-1);if(Ee==="%"&&be!=="%")throw new u("invalid intrinsic syntax, expected closing `%`");if(be==="%"&&Ee!=="%")throw new u("invalid intrinsic syntax, expected opening `%`");var Ce=[];return U(Pe,J,function(X,ce,te,ie){Ce[Ce.length]=te?U(ie,ue,"$1"):ce||X}),Ce},"q$"),oe=a(function(Pe,Ee){var be=Pe,Ce;if(S(k,be)&&(Ce=k[be],be="%"+Ce[0]+"%"),S(E,be)){var X=E[be];if(X===b&&(X=N(be)),typeof X>"u"&&!Ee)throw new c("intrinsic "+Pe+" exists, but is not available. Please file an issue!");return{alias:Ce,name:be,value:X}}throw new u("intrinsic "+Pe+" does not exist!")},"B");t.exports=function(Pe,Ee){if(typeof Pe!="string"||Pe.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ee!="boolean")throw new c('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,Pe)===null)throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var be=se(Pe),Ce=be.length>0?be[0]:"",X=oe("%"+Ce+"%",Ee),ce=X.name,te=X.value,ie=!1,me=X.alias;me&&(Ce=me[0],M(be,C([0,1],me)));for(var xe=1,Oe=!0;xe<be.length;xe+=1){var de=be[xe],Q=B(de,0,1),ne=B(de,-1);if((Q==='"'||Q==="'"||Q==="`"||ne==='"'||ne==="'"||ne==="`")&&Q!==ne)throw new u("property names with quotes must have matching quotes");if((de==="constructor"||!Oe)&&(ie=!0),Ce+="."+de,ce="%"+Ce+"%",S(E,ce))te=E[ce];else if(te!=null){if(!(de in te)){if(!Ee)throw new c("base intrinsic for "+Pe+" exists, but the property is not available.");return}if(L&&xe+1>=be.length){var q=L(te,de);Oe=!!q,Oe&&"get"in q&&!("originalValue"in q.get)?te=q.get:te=te[de]}else Oe=S(te,de),te=te[de];Oe&&!ie&&(E[ce]=te)}}return te}}),Og=tt((e,t)=>{var r=Mg(),n=Jf(),i=n([r("%String.prototype.indexOf%")]);t.exports=function(s,o){var l=r(s,!!o);return typeof l=="function"&&i(s,".prototype.")>-1?n([l]):l}}),Tx=tt((e,t)=>{var r=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,i,s;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{i=Object.defineProperty({},"length",{get:a(function(){throw s},"get")}),s={},n(function(){throw 42},null,i)}catch(L){L!==s&&(n=null)}else n=null;var o=/^\s*class\b/,l=a(function(L){try{var D=r.call(L);return o.test(D)}catch{return!1}},"z"),u=a(function(L){try{return l(L)?!1:(r.call(L),!0)}catch{return!1}},"H"),c=Object.prototype.toString,d="[object Object]",f="[object Function]",g="[object GeneratorFunction]",m="[object HTMLAllCollection]",y="[object HTML document.all class]",_="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,I=!(0 in[,]),O=a(function(){return!1},"I");typeof document=="object"&&(R=document.all,c.call(R)===c.call(document.all)&&(O=a(function(L){if((I||!L)&&(typeof L>"u"||typeof L=="object"))try{var D=c.call(L);return(D===m||D===y||D===_||D===d)&&L("")==null}catch{}return!1},"I")));var R;t.exports=n?function(L){if(O(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;try{n(L,null,i)}catch(D){if(D!==s)return!1}return!l(L)&&u(L)}:function(L){if(O(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(A)return u(L);if(l(L))return!1;var D=c.call(L);return D!==f&&D!==g&&!/^\[object HTML/.test(D)?!1:u(L)}}),Nx=tt((e,t)=>{var r=Tx(),n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,s=a(function(c,d,f){for(var g=0,m=c.length;g<m;g++)i.call(c,g)&&(f==null?d(c[g],g,c):d.call(f,c[g],g,c))},"O"),o=a(function(c,d,f){for(var g=0,m=c.length;g<m;g++)f==null?d(c.charAt(g),g,c):d.call(f,c.charAt(g),g,c)},"Y"),l=a(function(c,d,f){for(var g in c)i.call(c,g)&&(f==null?d(c[g],g,c):d.call(f,c[g],g,c))},"z");function u(c){return n.call(c)==="[object Array]"}a(u,"H"),t.exports=function(c,d,f){if(!r(d))throw TypeError("iterator must be a function");var g;arguments.length>=3&&(g=f),u(c)?s(c,d,g):typeof c=="string"?o(c,d,g):l(c,d,g)}}),Ix=tt((e,t)=>{t.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),Cx=tt((e,t)=>{var r=Ix(),n=globalThis;t.exports=function(){for(var i=[],s=0;s<r.length;s++)typeof n[r[s]]=="function"&&(i[i.length]=r[s]);return i}}),Mx=tt((e,t)=>{var r=sc(),n=kg(),i=Vl(),s=Kl();t.exports=function(o,l,u){if(!o||typeof o!="object"&&typeof o!="function")throw new i("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,m=!!s&&s(o,l);if(r)r(o,l,{configurable:f===null&&m?m.configurable:!f,enumerable:c===null&&m?m.enumerable:!c,value:u,writable:d===null&&m?m.writable:!d});else if(g||!c&&!d&&!f)o[l]=u;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),Ox=tt((e,t)=>{var r=sc(),n=a(function(){return!!r},"K");n.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},t.exports=n}),Rx=tt((e,t)=>{var r=Mg(),n=Mx(),i=Ox()(),s=Kl(),o=Vl(),l=r("%Math.floor%");t.exports=function(u,c){if(typeof u!="function")throw new o("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||l(c)!==c)throw new o("`length` must be a positive 32-bit integer");var d=arguments.length>2&&!!arguments[2],f=!0,g=!0;if("length"in u&&s){var m=s(u,"length");m&&!m.configurable&&(f=!1),m&&!m.writable&&(g=!1)}return(f||g||!d)&&(i?n(u,"length",c,!0,!0):n(u,"length",c)),u}}),Lx=tt((e,t)=>{var r=Zl(),n=Xf(),i=Ig();t.exports=function(){return i(r,n,arguments)}}),Dx=tt((e,t)=>{var r=Rx(),n=sc(),i=Jf(),s=Lx();t.exports=function(o){var l=i(arguments),u=o.length-(arguments.length-1);return r(l,1+(u>0?u:0),!0)},n?n(t.exports,"apply",{value:s}):t.exports.apply=s}),jx=tt((e,t)=>{var r=Ag();t.exports=function(){return r()&&!!Symbol.toStringTag}}),Px=tt((e,t)=>{var r=Nx(),n=Cx(),i=Dx(),s=Og(),o=Kl(),l=Cg(),u=s("Object.prototype.toString"),c=jx()(),d=globalThis,f=n(),g=s("String.prototype.slice"),m=s("Array.prototype.indexOf",!0)||function(I,O){for(var R=0;R<I.length;R+=1)if(I[R]===O)return R;return-1},y={__proto__:null};c&&o&&l?r(f,function(I){var O=new d[I];if(Symbol.toStringTag in O&&l){var R=l(O),L=o(R,Symbol.toStringTag);if(!L&&R){var D=l(R);L=o(D,Symbol.toStringTag)}y["$"+I]=i(L.get)}}):r(f,function(I){var O=new d[I],R=O.slice||O.set;R&&(y["$"+I]=i(R))});var _=a(function(I){var O=!1;return r(y,function(R,L){if(!O)try{"$"+R(I)===L&&(O=g(L,1))}catch{}}),O},"h"),A=a(function(I){var O=!1;return r(y,function(R,L){if(!O)try{R(I),O=g(L,1)}catch{}}),O},"E");t.exports=function(I){if(!I||typeof I!="object")return!1;if(!c){var O=g(u(I),8,-1);return m(f,O)>-1?O:O!=="Object"?!1:A(I)}return o?_(I):null}}),zx=tt((e,t)=>{var r=Px();t.exports=function(n){return!!r(n)}}),Bx=tt((e,t)=>{var r=Vl(),n=Og(),i=n("TypedArray.prototype.buffer",!0),s=zx();t.exports=i||function(o){if(!s(o))throw new r("Not a Typed Array");return o.buffer}}),Fx=tt((e,t)=>{var r=Un().Buffer,n=ox(),i=Bx(),s=ArrayBuffer.isView||function(c){try{return i(c),!0}catch{return!1}},o=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u=l&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);t.exports=function(c,d){if(r.isBuffer(c))return c.constructor&&!("isBuffer"in c)?r.from(c):c;if(typeof c=="string")return r.from(c,d);if(l&&s(c)){if(c.byteLength===0)return r.alloc(0);if(u){var f=r.from(c.buffer,c.byteOffset,c.byteLength);if(f.byteLength===c.byteLength)return f}var g=c instanceof Uint8Array?c:new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m=r.from(g);if(m.length===c.byteLength)return m}if(o&&c instanceof Uint8Array)return r.from(c);var y=n(c);if(y)for(var _=0;_<c.length;_+=1){var A=c[_];if(typeof A!="number"||A<0||A>255||~~A!==A)throw RangeError("Array items must be numbers in the range 0-255.")}if(y||r.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return r.from(c);throw TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}}),qf=tt((e,t)=>{var r=Un().Buffer,n=Fx(),i=typeof Uint8Array<"u",s=i&&typeof ArrayBuffer<"u",o=s&&ArrayBuffer.isView;t.exports=function(l,u,c){if(typeof l=="string"||r.isBuffer(l)||i&&l instanceof Uint8Array||o&&o(l))return n(l,u);throw TypeError(c+" must be a string, a Buffer, a Uint8Array, or a DataView")}}),Rg=tt((e,t)=>{var r={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,rmd160:20,ripemd160:20},n={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"},i=Eg(),s=Un().Buffer,o=$f(),l=Qf(),u=qf();function c(d,f,g,m,y){o(g,m),d=u(d,l,"Password"),f=u(f,l,"Salt");var _=(y||"sha1").toLowerCase(),A=n[_]||_,I=r[A];if(typeof I!="number"||!I)throw TypeError("Digest algorithm not supported: "+y);var O=s.allocUnsafe(m),R=s.allocUnsafe(f.length+4);f.copy(R,0,0,f.length);for(var L=0,D=I,P=Math.ceil(m/D),Z=1;Z<=P;Z++){R.writeUInt32BE(Z,f.length);for(var V=i(A,d).update(R).digest(),W=V,F=1;F<g;F++){W=i(A,d).update(W).digest();for(var Y=0;Y<D;Y++)V[Y]^=W[Y]}V.copy(O,L),L+=D}return O}a(c,"T"),t.exports=c}),Ux=tt((e,t)=>{var r=Un().Buffer,n=$f(),i=Qf(),s=Rg(),o=qf(),l,u=globalThis.crypto&&globalThis.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[],f;function g(){return f||(globalThis.process&&globalThis.process.nextTick?f=globalThis.process.nextTick:globalThis.queueMicrotask?f=globalThis.queueMicrotask:globalThis.setImmediate?f=globalThis.setImmediate:f=globalThis.setTimeout,f)}a(g,"k");function m(A,I,O,R,L){return u.importKey("raw",A,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return u.deriveBits({name:"PBKDF2",salt:I,iterations:O,hash:{name:L}},D,R<<3)}).then(function(D){return r.from(D)})}a(m,"S");function y(A){if(globalThis.process&&!globalThis.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(d[A]!==void 0)return d[A];l=l||r.alloc(8);var I=m(l,l,10,128,A).then(function(){return!0},function(){return!1});return d[A]=I,I}a(y,"N");function _(A,I){A.then(function(O){g()(function(){I(null,O)})},function(O){g()(function(){I(O)})})}a(_,"h"),t.exports=function(A,I,O,R,L,D){if(typeof L=="function"&&(D=L,L=void 0),n(O,R),A=o(A,i,"Password"),I=o(I,i,"Salt"),typeof D!="function")throw Error("No callback provided to pbkdf2");L=L||"sha1";var P=c[L.toLowerCase()];if(!P||typeof globalThis.Promise!="function"){g()(function(){var Z;try{Z=s(A,I,O,R,L)}catch(V){D(V);return}D(null,Z)});return}_(y(P).then(function(Z){return Z?m(A,I,O,R,P):s(A,I,O,R,L)}),D)}}),Lg=tt(e=>{var t=(Ai(),mr(di)),r=$f(),n=Qf(),i=qf();function s(l,u,c,d,f,g){if(r(c,d),l=i(l,n,"Password"),u=i(u,n,"Salt"),typeof f=="function"&&(g=f,f="sha1"),typeof g!="function")throw Error("No callback provided to pbkdf2");return t.pbkdf2(l,u,c,d,f,g)}a(s,"O");function o(l,u,c,d,f){return r(c,d),l=i(l,n,"Password"),u=i(u,n,"Salt"),f=f||"sha1",t.pbkdf2Sync(l,u,c,d,f)}a(o,"Y"),!t.pbkdf2Sync||t.pbkdf2Sync.toString().indexOf("keylen, digest")===-1?(e.pbkdf2Sync=Rg(),e.pbkdf2=Ux()):(e.pbkdf2Sync=o,e.pbkdf2=s)}),Hx=tt(e=>{var t=(Ai(),mr(di));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),Gx=tt(e=>{var t=(Ai(),mr(di));e.DiffieHellmanGroup=t.DiffieHellmanGroup,e.createDiffieHellmanGroup=t.createDiffieHellmanGroup,e.getDiffieHellman=t.getDiffieHellman,e.createDiffieHellman=t.createDiffieHellman,e.DiffieHellman=t.DiffieHellman}),Vx=tt(e=>{var t=(Ai(),mr(di));e.createSign=t.createSign,e.Sign=t.Sign,e.createVerify=t.createVerify,e.Verify=t.Verify}),Kx=tt((e,t)=>{t.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),Oa=tt((e,t)=>{(function(r,n){function i(h,w){if(!h)throw Error(w||"Assertion failed")}a(i,"P");function s(h,w){h.super_=w;var b=a(function(){},"X");b.prototype=w.prototype,h.prototype=new b,h.prototype.constructor=h}a(s,"O");function o(h,w,b){if(o.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(h||0,w||10,b||"be"))}a(o,"Y"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Dn(),mr(An)).Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,b){if(typeof h=="number")return this._initNumber(h,w,b);if(typeof h=="object")return this._initArray(h,w,b);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(w===16?this._parseHex(h,x,b):(this._parseBase(h,w,x),b==="le"&&this._initArray(this.toArray(),w,b)))},o.prototype._initNumber=function(h,w,b){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),w,b)},o.prototype._initArray=function(h,w,b){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(b==="be")for(x=h.length-1,E=0;x>=0;x-=3)T=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(b==="le")for(x=0,E=0;x<h.length;x+=3)T=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(h,w){var b=h.charCodeAt(w);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}a(u,"H");function c(h,w,b){var x=u(h,b);return b-1>=w&&(x|=u(h,b-1)<<4),x}a(c,"T"),o.prototype._parseHex=function(h,w,b){this.length=Math.ceil((h.length-w)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(b==="be")for(x=h.length-1;x>=w;x-=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=h.length-w;for(x=k%2===0?w+1:w;x<h.length;x+=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function d(h,w,b,x){for(var E=0,T=Math.min(h.length,b),N=w;N<T;N++){var k=h.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}a(d,"f"),o.prototype._parseBase=function(h,w,b){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=w)x++;x--,E=E/w|0;for(var T=h.length-b,N=T%x,k=Math.min(T,T-N)+b,p=0,S=b;S<k;S+=x)p=d(h,S,S+x,w),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=d(h,S,h.length,w),S=0;S<N;S++)C*=w;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(h){h.words=Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var b;if(h===16||h==="hex"){b="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?b=f[6-k.length]+k+b:b=k+b}for(E!==0&&(b=E.toString(16)+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(h===(h|0)&&h>=2&&h<=36){var p=g[h],S=m[h];b="";var C=this.clone();for(C.negative=0;!C.isZero();){var M=C.modn(S).toString(h);C=C.idivn(S),C.isZero()?b=M+b:b=f[p-M.length]+M+b}for(this.isZero()&&(b="0"+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(h,w){return i(typeof l<"u"),this.toArrayLike(l,h,w)},o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)},o.prototype.toArrayLike=function(h,w,b){var x=this.byteLength(),E=b||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new h(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,b=0;return w>=4096&&(b+=13,w>>>=13),w>=64&&(b+=7,w>>>=7),w>=8&&(b+=4,w>>>=4),w>=2&&(b+=2,w>>>=2),b+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,b=0;return(w&8191)===0&&(b+=13,w>>>=13),(w&127)===0&&(b+=7,w>>>=7),(w&15)===0&&(b+=4,w>>>=4),(w&3)===0&&(b+=2,w>>>=2),(w&1)===0&&b++,b},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function y(h){for(var w=Array(h.bitLength()),b=0;b<w.length;b++){var x=b/26|0,E=b%26;w[b]=(h.words[x]&1<<E)>>>E}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var b=this._zeroBits(this.words[w]);if(h+=b,b!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this.strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]&h.words[b];return this.length=w.length,this.strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,b;this.length>h.length?(w=this,b=h):(w=h,b=this);for(var x=0;x<b.length;x++)this.words[x]=w.words[x]^b.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this.strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,b=h%26;this._expand(w),b>0&&w--;for(var x=0;x<w;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var b=h/26|0,x=h%26;return this._expand(b+1),w?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var b,x;this.length>h.length?(b=this,x=h):(b=h,x=this);for(var E=0,T=0;T<x.length;T++)w=(b.words[T]|0)+(x.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;for(;E!==0&&T<b.length;T++)w=(b.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;T<b.length;T++)this.words[T]=b.words[T];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var b=this.cmp(h);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;b>0?(x=this,E=h):(x=h,E=this);for(var T=0,N=0;N<E.length;N++)w=(x.words[N]|0)-(E.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<x.length;N++)w=(x.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function _(h,w,b){b.negative=w.negative^h.negative;var x=h.length+w.length|0;b.length=x,x=x-1|0;var E=h.words[0]|0,T=w.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;b.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,M=p&67108863,U=Math.min(S,w.length-1),B=Math.max(0,S-h.length+1);B<=U;B++){var G=S-B|0;E=h.words[G]|0,T=w.words[B]|0,N=E*T+M,C+=N/67108864|0,M=N&67108863}b.words[S]=M|0,p=C|0}return p!==0?b.words[S]=p|0:b.length--,b.strip()}a(_,"h");var A=a(function(h,w,b){var x=h.words,E=w.words,T=b.words,N=0,k,p,S,C=x[0]|0,M=C&8191,U=C>>>13,B=x[1]|0,G=B&8191,J=B>>>13,ue=x[2]|0,se=ue&8191,oe=ue>>>13,Pe=x[3]|0,Ee=Pe&8191,be=Pe>>>13,Ce=x[4]|0,X=Ce&8191,ce=Ce>>>13,te=x[5]|0,ie=te&8191,me=te>>>13,xe=x[6]|0,Oe=xe&8191,de=xe>>>13,Q=x[7]|0,ne=Q&8191,q=Q>>>13,$=x[8]|0,re=$&8191,ae=$>>>13,Be=x[9]|0,Ie=Be&8191,Ke=Be>>>13,kt=E[0]|0,Te=kt&8191,Xe=kt>>>13,we=E[1]|0,Ne=we&8191,Fe=we>>>13,Ze=E[2]|0,Ue=Ze&8191,qe=Ze>>>13,Rt=E[3]|0,Je=Rt&8191,Re=Rt>>>13,et=E[4]|0,ze=et&8191,rt=et>>>13,Tt=E[5]|0,pe=Tt&8191,ye=Tt>>>13,$e=E[6]|0,Le=$e&8191,He=$e>>>13,ut=E[7]|0,he=ut&8191,je=ut>>>13,lt=E[8]|0,Me=lt&8191,ot=lt>>>13,Ft=E[9]|0,at=Ft&8191,mt=Ft>>>13;b.negative=h.negative^w.negative,b.length=19,k=Math.imul(M,Te),p=Math.imul(M,Xe),p=p+Math.imul(U,Te)|0,S=Math.imul(U,Xe);var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(G,Te),p=Math.imul(G,Xe),p=p+Math.imul(J,Te)|0,S=Math.imul(J,Xe),k=k+Math.imul(M,Ne)|0,p=p+Math.imul(M,Fe)|0,p=p+Math.imul(U,Ne)|0,S=S+Math.imul(U,Fe)|0;var Qt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,k=Math.imul(se,Te),p=Math.imul(se,Xe),p=p+Math.imul(oe,Te)|0,S=Math.imul(oe,Xe),k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,Fe)|0,p=p+Math.imul(J,Ne)|0,S=S+Math.imul(J,Fe)|0,k=k+Math.imul(M,Ue)|0,p=p+Math.imul(M,qe)|0,p=p+Math.imul(U,Ue)|0,S=S+Math.imul(U,qe)|0;var nt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,k=Math.imul(Ee,Te),p=Math.imul(Ee,Xe),p=p+Math.imul(be,Te)|0,S=Math.imul(be,Xe),k=k+Math.imul(se,Ne)|0,p=p+Math.imul(se,Fe)|0,p=p+Math.imul(oe,Ne)|0,S=S+Math.imul(oe,Fe)|0,k=k+Math.imul(G,Ue)|0,p=p+Math.imul(G,qe)|0,p=p+Math.imul(J,Ue)|0,S=S+Math.imul(J,qe)|0,k=k+Math.imul(M,Je)|0,p=p+Math.imul(M,Re)|0,p=p+Math.imul(U,Je)|0,S=S+Math.imul(U,Re)|0;var ft=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(X,Te),p=Math.imul(X,Xe),p=p+Math.imul(ce,Te)|0,S=Math.imul(ce,Xe),k=k+Math.imul(Ee,Ne)|0,p=p+Math.imul(Ee,Fe)|0,p=p+Math.imul(be,Ne)|0,S=S+Math.imul(be,Fe)|0,k=k+Math.imul(se,Ue)|0,p=p+Math.imul(se,qe)|0,p=p+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,qe)|0,k=k+Math.imul(G,Je)|0,p=p+Math.imul(G,Re)|0,p=p+Math.imul(J,Je)|0,S=S+Math.imul(J,Re)|0,k=k+Math.imul(M,ze)|0,p=p+Math.imul(M,rt)|0,p=p+Math.imul(U,ze)|0,S=S+Math.imul(U,rt)|0;var Mt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(ie,Te),p=Math.imul(ie,Xe),p=p+Math.imul(me,Te)|0,S=Math.imul(me,Xe),k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,Fe)|0,p=p+Math.imul(ce,Ne)|0,S=S+Math.imul(ce,Fe)|0,k=k+Math.imul(Ee,Ue)|0,p=p+Math.imul(Ee,qe)|0,p=p+Math.imul(be,Ue)|0,S=S+Math.imul(be,qe)|0,k=k+Math.imul(se,Je)|0,p=p+Math.imul(se,Re)|0,p=p+Math.imul(oe,Je)|0,S=S+Math.imul(oe,Re)|0,k=k+Math.imul(G,ze)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,ze)|0,S=S+Math.imul(J,rt)|0,k=k+Math.imul(M,pe)|0,p=p+Math.imul(M,ye)|0,p=p+Math.imul(U,pe)|0,S=S+Math.imul(U,ye)|0;var cr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(cr>>>26)|0,cr&=67108863,k=Math.imul(Oe,Te),p=Math.imul(Oe,Xe),p=p+Math.imul(de,Te)|0,S=Math.imul(de,Xe),k=k+Math.imul(ie,Ne)|0,p=p+Math.imul(ie,Fe)|0,p=p+Math.imul(me,Ne)|0,S=S+Math.imul(me,Fe)|0,k=k+Math.imul(X,Ue)|0,p=p+Math.imul(X,qe)|0,p=p+Math.imul(ce,Ue)|0,S=S+Math.imul(ce,qe)|0,k=k+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,Re)|0,p=p+Math.imul(be,Je)|0,S=S+Math.imul(be,Re)|0,k=k+Math.imul(se,ze)|0,p=p+Math.imul(se,rt)|0,p=p+Math.imul(oe,ze)|0,S=S+Math.imul(oe,rt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,ye)|0,p=p+Math.imul(J,pe)|0,S=S+Math.imul(J,ye)|0,k=k+Math.imul(M,Le)|0,p=p+Math.imul(M,He)|0,p=p+Math.imul(U,Le)|0,S=S+Math.imul(U,He)|0;var tr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(tr>>>26)|0,tr&=67108863,k=Math.imul(ne,Te),p=Math.imul(ne,Xe),p=p+Math.imul(q,Te)|0,S=Math.imul(q,Xe),k=k+Math.imul(Oe,Ne)|0,p=p+Math.imul(Oe,Fe)|0,p=p+Math.imul(de,Ne)|0,S=S+Math.imul(de,Fe)|0,k=k+Math.imul(ie,Ue)|0,p=p+Math.imul(ie,qe)|0,p=p+Math.imul(me,Ue)|0,S=S+Math.imul(me,qe)|0,k=k+Math.imul(X,Je)|0,p=p+Math.imul(X,Re)|0,p=p+Math.imul(ce,Je)|0,S=S+Math.imul(ce,Re)|0,k=k+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,rt)|0,p=p+Math.imul(be,ze)|0,S=S+Math.imul(be,rt)|0,k=k+Math.imul(se,pe)|0,p=p+Math.imul(se,ye)|0,p=p+Math.imul(oe,pe)|0,S=S+Math.imul(oe,ye)|0,k=k+Math.imul(G,Le)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(J,Le)|0,S=S+Math.imul(J,He)|0,k=k+Math.imul(M,he)|0,p=p+Math.imul(M,je)|0,p=p+Math.imul(U,he)|0,S=S+Math.imul(U,je)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(re,Te),p=Math.imul(re,Xe),p=p+Math.imul(ae,Te)|0,S=Math.imul(ae,Xe),k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,Fe)|0,p=p+Math.imul(q,Ne)|0,S=S+Math.imul(q,Fe)|0,k=k+Math.imul(Oe,Ue)|0,p=p+Math.imul(Oe,qe)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,qe)|0,k=k+Math.imul(ie,Je)|0,p=p+Math.imul(ie,Re)|0,p=p+Math.imul(me,Je)|0,S=S+Math.imul(me,Re)|0,k=k+Math.imul(X,ze)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(ce,ze)|0,S=S+Math.imul(ce,rt)|0,k=k+Math.imul(Ee,pe)|0,p=p+Math.imul(Ee,ye)|0,p=p+Math.imul(be,pe)|0,S=S+Math.imul(be,ye)|0,k=k+Math.imul(se,Le)|0,p=p+Math.imul(se,He)|0,p=p+Math.imul(oe,Le)|0,S=S+Math.imul(oe,He)|0,k=k+Math.imul(G,he)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,he)|0,S=S+Math.imul(J,je)|0,k=k+Math.imul(M,Me)|0,p=p+Math.imul(M,ot)|0,p=p+Math.imul(U,Me)|0,S=S+Math.imul(U,ot)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(Ie,Te),p=Math.imul(Ie,Xe),p=p+Math.imul(Ke,Te)|0,S=Math.imul(Ke,Xe),k=k+Math.imul(re,Ne)|0,p=p+Math.imul(re,Fe)|0,p=p+Math.imul(ae,Ne)|0,S=S+Math.imul(ae,Fe)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,qe)|0,p=p+Math.imul(q,Ue)|0,S=S+Math.imul(q,qe)|0,k=k+Math.imul(Oe,Je)|0,p=p+Math.imul(Oe,Re)|0,p=p+Math.imul(de,Je)|0,S=S+Math.imul(de,Re)|0,k=k+Math.imul(ie,ze)|0,p=p+Math.imul(ie,rt)|0,p=p+Math.imul(me,ze)|0,S=S+Math.imul(me,rt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,ye)|0,p=p+Math.imul(ce,pe)|0,S=S+Math.imul(ce,ye)|0,k=k+Math.imul(Ee,Le)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(be,Le)|0,S=S+Math.imul(be,He)|0,k=k+Math.imul(se,he)|0,p=p+Math.imul(se,je)|0,p=p+Math.imul(oe,he)|0,S=S+Math.imul(oe,je)|0,k=k+Math.imul(G,Me)|0,p=p+Math.imul(G,ot)|0,p=p+Math.imul(J,Me)|0,S=S+Math.imul(J,ot)|0,k=k+Math.imul(M,at)|0,p=p+Math.imul(M,mt)|0,p=p+Math.imul(U,at)|0,S=S+Math.imul(U,mt)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Ie,Ne),p=Math.imul(Ie,Fe),p=p+Math.imul(Ke,Ne)|0,S=Math.imul(Ke,Fe),k=k+Math.imul(re,Ue)|0,p=p+Math.imul(re,qe)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(ne,Je)|0,p=p+Math.imul(ne,Re)|0,p=p+Math.imul(q,Je)|0,S=S+Math.imul(q,Re)|0,k=k+Math.imul(Oe,ze)|0,p=p+Math.imul(Oe,rt)|0,p=p+Math.imul(de,ze)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(ie,pe)|0,p=p+Math.imul(ie,ye)|0,p=p+Math.imul(me,pe)|0,S=S+Math.imul(me,ye)|0,k=k+Math.imul(X,Le)|0,p=p+Math.imul(X,He)|0,p=p+Math.imul(ce,Le)|0,S=S+Math.imul(ce,He)|0,k=k+Math.imul(Ee,he)|0,p=p+Math.imul(Ee,je)|0,p=p+Math.imul(be,he)|0,S=S+Math.imul(be,je)|0,k=k+Math.imul(se,Me)|0,p=p+Math.imul(se,ot)|0,p=p+Math.imul(oe,Me)|0,S=S+Math.imul(oe,ot)|0,k=k+Math.imul(G,at)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,at)|0,S=S+Math.imul(J,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Ie,Ue),p=Math.imul(Ie,qe),p=p+Math.imul(Ke,Ue)|0,S=Math.imul(Ke,qe),k=k+Math.imul(re,Je)|0,p=p+Math.imul(re,Re)|0,p=p+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Re)|0,k=k+Math.imul(ne,ze)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(q,ze)|0,S=S+Math.imul(q,rt)|0,k=k+Math.imul(Oe,pe)|0,p=p+Math.imul(Oe,ye)|0,p=p+Math.imul(de,pe)|0,S=S+Math.imul(de,ye)|0,k=k+Math.imul(ie,Le)|0,p=p+Math.imul(ie,He)|0,p=p+Math.imul(me,Le)|0,S=S+Math.imul(me,He)|0,k=k+Math.imul(X,he)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(ce,he)|0,S=S+Math.imul(ce,je)|0,k=k+Math.imul(Ee,Me)|0,p=p+Math.imul(Ee,ot)|0,p=p+Math.imul(be,Me)|0,S=S+Math.imul(be,ot)|0,k=k+Math.imul(se,at)|0,p=p+Math.imul(se,mt)|0,p=p+Math.imul(oe,at)|0,S=S+Math.imul(oe,mt)|0;var Kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,k=Math.imul(Ie,Je),p=Math.imul(Ie,Re),p=p+Math.imul(Ke,Je)|0,S=Math.imul(Ke,Re),k=k+Math.imul(re,ze)|0,p=p+Math.imul(re,rt)|0,p=p+Math.imul(ae,ze)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,ye)|0,p=p+Math.imul(q,pe)|0,S=S+Math.imul(q,ye)|0,k=k+Math.imul(Oe,Le)|0,p=p+Math.imul(Oe,He)|0,p=p+Math.imul(de,Le)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(ie,he)|0,p=p+Math.imul(ie,je)|0,p=p+Math.imul(me,he)|0,S=S+Math.imul(me,je)|0,k=k+Math.imul(X,Me)|0,p=p+Math.imul(X,ot)|0,p=p+Math.imul(ce,Me)|0,S=S+Math.imul(ce,ot)|0,k=k+Math.imul(Ee,at)|0,p=p+Math.imul(Ee,mt)|0,p=p+Math.imul(be,at)|0,S=S+Math.imul(be,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Ie,ze),p=Math.imul(Ie,rt),p=p+Math.imul(Ke,ze)|0,S=Math.imul(Ke,rt),k=k+Math.imul(re,pe)|0,p=p+Math.imul(re,ye)|0,p=p+Math.imul(ae,pe)|0,S=S+Math.imul(ae,ye)|0,k=k+Math.imul(ne,Le)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(q,Le)|0,S=S+Math.imul(q,He)|0,k=k+Math.imul(Oe,he)|0,p=p+Math.imul(Oe,je)|0,p=p+Math.imul(de,he)|0,S=S+Math.imul(de,je)|0,k=k+Math.imul(ie,Me)|0,p=p+Math.imul(ie,ot)|0,p=p+Math.imul(me,Me)|0,S=S+Math.imul(me,ot)|0,k=k+Math.imul(X,at)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(ce,at)|0,S=S+Math.imul(ce,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Ie,pe),p=Math.imul(Ie,ye),p=p+Math.imul(Ke,pe)|0,S=Math.imul(Ke,ye),k=k+Math.imul(re,Le)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ae,Le)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(ne,he)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(q,he)|0,S=S+Math.imul(q,je)|0,k=k+Math.imul(Oe,Me)|0,p=p+Math.imul(Oe,ot)|0,p=p+Math.imul(de,Me)|0,S=S+Math.imul(de,ot)|0,k=k+Math.imul(ie,at)|0,p=p+Math.imul(ie,mt)|0,p=p+Math.imul(me,at)|0,S=S+Math.imul(me,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Ie,Le),p=Math.imul(Ie,He),p=p+Math.imul(Ke,Le)|0,S=Math.imul(Ke,He),k=k+Math.imul(re,he)|0,p=p+Math.imul(re,je)|0,p=p+Math.imul(ae,he)|0,S=S+Math.imul(ae,je)|0,k=k+Math.imul(ne,Me)|0,p=p+Math.imul(ne,ot)|0,p=p+Math.imul(q,Me)|0,S=S+Math.imul(q,ot)|0,k=k+Math.imul(Oe,at)|0,p=p+Math.imul(Oe,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var Ar=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,k=Math.imul(Ie,he),p=Math.imul(Ie,je),p=p+Math.imul(Ke,he)|0,S=Math.imul(Ke,je),k=k+Math.imul(re,Me)|0,p=p+Math.imul(re,ot)|0,p=p+Math.imul(ae,Me)|0,S=S+Math.imul(ae,ot)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(q,at)|0,S=S+Math.imul(q,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Ie,Me),p=Math.imul(Ie,ot),p=p+Math.imul(Ke,Me)|0,S=Math.imul(Ke,ot),k=k+Math.imul(re,at)|0,p=p+Math.imul(re,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var Jr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(Ie,at),p=Math.imul(Ie,mt),p=p+Math.imul(Ke,at)|0,S=Math.imul(Ke,mt);var Yr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,T[0]=Kt,T[1]=Qt,T[2]=nt,T[3]=ft,T[4]=Mt,T[5]=cr,T[6]=tr,T[7]=xr,T[8]=Pr,T[9]=kr,T[10]=br,T[11]=Kr,T[12]=$r,T[13]=zr,T[14]=Zr,T[15]=Ar,T[16]=Br,T[17]=Jr,T[18]=Yr,N!==0&&(T[19]=N,b.length++),b},"E");Math.imul||(A=_);function I(h,w,b){b.negative=w.negative^h.negative,b.length=h.length+w.length;for(var x=0,E=0,T=0;T<b.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,w.length-1),S=Math.max(0,T-h.length+1);S<=p;S++){var C=T-S,M=h.words[C]|0,U=w.words[S]|0,B=M*U,G=B&67108863;N=N+(B/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,E+=N>>>26,N&=67108863}b.words[T]=k,x=N,N=E}return x!==0?b.words[T]=x:b.length--,b.strip()}a(I,"D");function O(h,w,b){var x=new R;return x.mulp(h,w,b)}a(O,"I"),o.prototype.mulTo=function(h,w){var b,x=this.length+h.length;return this.length===10&&h.length===10?b=A(this,h,w):x<63?b=_(this,h,w):x<1024?b=I(this,h,w):b=O(this,h,w),b};function R(h,w){this.x=h,this.y=w}a(R,"L"),R.prototype.makeRBT=function(h){for(var w=Array(h),b=o.prototype._countBits(h)-1,x=0;x<h;x++)w[x]=this.revBin(x,b,h);return w},R.prototype.revBin=function(h,w,b){if(h===0||h===b-1)return h;for(var x=0,E=0;E<w;E++)x|=(h&1)<<w-E-1,h>>=1;return x},R.prototype.permute=function(h,w,b,x,E,T){for(var N=0;N<T;N++)x[N]=w[h[N]],E[N]=b[h[N]]},R.prototype.transform=function(h,w,b,x,E,T){this.permute(T,h,w,b,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var M=p,U=S,B=0;B<N;B++){var G=b[C+B],J=x[C+B],ue=b[C+B+N],se=x[C+B+N],oe=M*ue-U*se;se=M*se+U*ue,ue=oe,b[C+B]=G+ue,x[C+B]=J+se,b[C+B+N]=G-ue,x[C+B+N]=J-se,B!==k&&(oe=p*M-S*U,U=p*U+S*M,M=oe)}},R.prototype.guessLen13b=function(h,w){var b=Math.max(w,h)|1,x=b&1,E=0;for(b=b/2|0;b;b=b>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(h,w,b){if(!(b<=1))for(var x=0;x<b/2;x++){var E=h[x];h[x]=h[b-x-1],h[b-x-1]=E,E=w[x],w[x]=-w[b-x-1],w[b-x-1]=-E}},R.prototype.normalize13b=function(h,w){for(var b=0,x=0;x<w/2;x++){var E=Math.round(h[2*x+1]/w)*8192+Math.round(h[2*x]/w)+b;h[x]=E&67108863,E<67108864?b=0:b=E/67108864|0}return h},R.prototype.convert13b=function(h,w,b,x){for(var E=0,T=0;T<w;T++)E=E+(h[T]|0),b[2*T]=E&8191,E=E>>>13,b[2*T+1]=E&8191,E=E>>>13;for(T=2*w;T<x;++T)b[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(h){for(var w=Array(h),b=0;b<h;b++)w[b]=0;return w},R.prototype.mulp=function(h,w,b){var x=2*this.guessLen13b(h.length,w.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),M=Array(x),U=b.words;U.length=x,this.convert13b(h.words,h.length,N,x),this.convert13b(w.words,w.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,M,x,E);for(var B=0;B<x;B++){var G=k[B]*C[B]-p[B]*M[B];p[B]=k[B]*M[B]+p[B]*C[B],k[B]=G}return this.conjugate(k,p,x),this.transform(k,p,U,T,x,E),this.conjugate(U,T,x),this.normalize13b(U,x),b.negative=h.negative^w.negative,b.length=h.length+w.length,b.strip()},o.prototype.mul=function(h){var w=new o(null);return w.words=Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=Array(this.length+h.length),O(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){i(typeof h=="number"),i(h<67108864);for(var w=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*h,E=(x&67108863)+(w&67108863);w>>=26,w+=x/67108864|0,w+=E>>>26,this.words[b]=E&67108863}return w!==0&&(this.words[b]=w,this.length++),this.length=h===0?1:this.length,this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=y(h);if(w.length===0)return new o(1);for(var b=this,x=0;x<w.length&&w[x]===0;x++,b=b.sqr());if(++x<w.length)for(var E=b.sqr();x<w.length;x++,E=E.sqr())w[x]!==0&&(b=b.mul(E));return b},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=67108863>>>26-w<<26-w,E;if(w!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<w;this.words[E]=k|T,T=N>>>26-w}T&&(this.words[E]=T,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,b){i(typeof h=="number"&&h>=0);var x;w?x=(w-w%26)/26:x=0;var E=h%26,T=Math.min((h-E)/26,this.length),N=67108863^67108863>>>E<<E,k=b;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(h,w,b){return i(this.negative===0),this.iushrn(h,w,b)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return!1;var E=this.words[b];return!!(E&x)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(w!==0&&b++,this.length=Math.min(b,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,b){var x=h.length+b,E;this._expand(x);var T,N=0;for(E=0;E<h.length;E++){T=(this.words[E+b]|0)+N;var k=(h.words[E]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+b]=T&67108863}for(;E<this.length-b;E++)T=(this.words[E+b]|0)+N,N=T>>26,this.words[E+b]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(h,w){var b=this.length-h.length,x=this.clone(),E=h,T=E.words[E.length-1]|0,N=this._countBits(T);b=26-N,b!==0&&(E=E.ushln(b),x.iushln(b),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var M=k-1;M>=0;M--){var U=(x.words[E.length+M]|0)*67108864+(x.words[E.length+M-1]|0);for(U=Math.min(U/T|0,67108863),x._ishlnsubmul(E,U,M);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(E,1,M),!x.isZero()&&(x.negative^=1);p&&(p.words[M]=U)}return p&&p.strip(),x.strip(),w!=="div"&&b!==0&&x.iushrn(b),{div:p||null,mod:x}},o.prototype.divmod=function(h,w,b){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,E,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,w),w!=="mod"&&(x=T.div.neg()),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.iadd(h)),{div:x,mod:E}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),w),w!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&h.negative)!==0?(T=this.neg().divmod(h.neg(),w),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.isub(h)),{div:T.div,mod:E}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var b=w.div.negative!==0?w.mod.isub(h):w.mod,x=h.ushrn(1),E=h.andln(1),T=b.cmp(x);return T<0||E===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(h){i(h<=67108863);for(var w=67108864%h,b=0,x=this.length-1;x>=0;x--)b=(w*b+(this.words[x]|0))%h;return b},o.prototype.idivn=function(h){i(h<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+w*67108864;this.words[b]=x/h|0,w=x%h}return this.strip()},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&b.isEven();)w.iushrn(1),b.iushrn(1),++k;for(var p=b.clone(),S=w.clone();!w.isZero();){for(var C=0,M=1;(w.words[0]&M)===0&&C<26;++C,M<<=1);if(C>0)for(w.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var U=0,B=1;(b.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(T),E.isub(N)):(b.isub(w),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:b.iushln(k)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=b.clone();w.cmpn(1)>0&&b.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(b.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(b.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(E)):(b.isub(w),E.isub(x))}var C;return w.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(h),C},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),b=h.clone();w.negative=0,b.negative=0;for(var x=0;w.isEven()&&b.isEven();x++)w.iushrn(1),b.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=w.cmp(b);if(E<0){var T=w;w=b,b=T}else if(E===0||b.cmpn(1)===0)break;w.isub(b)}while(!0);return b.iushln(x)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var E=x,T=b;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var b;if(this.length>1)b=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var x=this.words[0]|0;b=x===h?0:x<h?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,E=h.words[b]|0;if(x!==E){x<E?w=-1:x>E&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new F(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function D(h,w){this.name=h,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(D,"y"),D.prototype._tmp=function(){var h=new o(null);return h.words=Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var w=h,b;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),b=w.bitLength();while(b>this.n);var x=b<this.n?-1:w.ucmp(this.p);return x===0?(w.words[0]=0,w.length=1):x>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(h,w){h.iushrn(this.n,0,w)},D.prototype.imulK=function(h){return h.imul(this.k)};function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(P,"c"),s(P,D),P.prototype.split=function(h,w){for(var b=4194303,x=Math.min(h.length,9),E=0;E<x;E++)w.words[E]=h.words[E];if(w.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(w.words[w.length++]=T&b,E=10;E<h.length;E++){var N=h.words[E]|0;h.words[E-10]=(N&b)<<4|T>>>22,T=N}T>>>=22,h.words[E-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},P.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,b=0;b<h.length;b++){var x=h.words[b]|0;w+=x*977,h.words[b]=w&67108863,w=x*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function Z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"o"),s(Z,D);function V(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(V,"Q"),s(V,D);function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(W,"U"),s(W,D),W.prototype.imulK=function(h){for(var w=0,b=0;b<h.length;b++){var x=(h.words[b]|0)*19+w,E=x&67108863;x>>>=26,h.words[b]=E,w=x}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(L[h])return L[h];var w;if(h==="k256")w=new P;else if(h==="p224")w=new Z;else if(h==="p192")w=new V;else if(h==="p25519")w=new W;else throw Error("Unknown prime "+h);return L[h]=w,w};function F(h){if(typeof h=="string"){var w=o._prime(h);this.m=w.p,this.prime=w}else i(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}a(F,"p"),F.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},F.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},F.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},F.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},F.prototype.add=function(h,w){this._verify2(h,w);var b=h.add(w);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},F.prototype.iadd=function(h,w){this._verify2(h,w);var b=h.iadd(w);return b.cmp(this.m)>=0&&b.isub(this.m),b},F.prototype.sub=function(h,w){this._verify2(h,w);var b=h.sub(w);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},F.prototype.isub=function(h,w){this._verify2(h,w);var b=h.isub(w);return b.cmpn(0)<0&&b.iadd(this.m),b},F.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},F.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},F.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},F.prototype.isqr=function(h){return this.imul(h,h.clone())},F.prototype.sqr=function(h){return this.mul(h,h)},F.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(h,b)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(h,x.addn(1).iushrn(1)),M=this.pow(h,x),U=E;M.cmp(T)!==0;){for(var B=M,G=0;B.cmp(T)!==0;G++)B=B.redSqr();i(G<U);var J=this.pow(S,new o(1).iushln(U-G-1));C=C.redMul(J),S=J.redSqr(),M=M.redMul(S),U=G}return C},F.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var b=4,x=Array(1<<b);x[0]=new o(1).toRed(this),x[1]=h;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],h);var T=x[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),E=w.length-1;E>=0;E--){for(var S=w.words[E],C=p-1;C>=0;C--){var M=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),M===0&&N===0){k=0;continue}N<<=1,N|=M,k++,!(k!==b&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},F.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new Y(h)};function Y(h){F.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Y,"s"),s(Y,F),Y.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Y.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},Y.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var b=h.imul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var b=h.mul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),hs=tt((e,t)=>{t.exports=r;function r(n,i){if(!n)throw Error(i||"Assertion failed")}a(r,"_"),r.equal=function(n,i,s){if(n!=i)throw Error(s||"Assertion failed: "+n+" != "+i)}}),Dg=tt(e=>{var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)l[u]=s[u]|0;return l}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)l.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),d=c>>8,f=c&255;d?l.push(d,f):l.push(f)}return l}a(r,"_"),t.toArray=r;function n(s){return s.length===1?"0"+s:s}a(n,"K"),t.zero2=n;function i(s){for(var o="",l=0;l<s.length;l++)o+=n(s[l].toString(16));return o}a(i,"P"),t.toHex=i,t.encode=function(s,o){return o==="hex"?i(s):s}}),Ei=tt(e=>{var t=e,r=Oa(),n=hs(),i=Dg();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function s(d,f,g){var m=Array(Math.max(d.bitLength(),g)+1),y;for(y=0;y<m.length;y+=1)m[y]=0;var _=1<<f+1,A=d.clone();for(y=0;y<m.length;y++){var I,O=A.andln(_-1);A.isOdd()?(O>(_>>1)-1?I=(_>>1)-O:I=O,A.isubn(I)):I=0,m[y]=I,A.iushrn(1)}return m}a(s,"O"),t.getNAF=s;function o(d,f){var g=[[],[]];d=d.clone(),f=f.clone();for(var m=0,y=0,_;d.cmpn(-m)>0||f.cmpn(-y)>0;){var A=d.andln(3)+m&3,I=f.andln(3)+y&3;A===3&&(A=-1),I===3&&(I=-1);var O;(A&1)===0?O=0:(_=d.andln(7)+m&7,(_===3||_===5)&&I===2?O=-A:O=A),g[0].push(O);var R;(I&1)===0?R=0:(_=f.andln(7)+y&7,(_===3||_===5)&&A===2?R=-I:R=I),g[1].push(R),2*m===O+1&&(m=1-m),2*y===R+1&&(y=1-y),d.iushrn(1),f.iushrn(1)}return g}a(o,"Y"),t.getJSF=o;function l(d,f,g){var m="_"+f;d.prototype[f]=function(){return this[m]!==void 0?this[m]:this[m]=g.call(this)}}a(l,"z"),t.cachedProperty=l;function u(d){return typeof d=="string"?t.toArray(d,"hex"):d}a(u,"H"),t.parseBytes=u;function c(d){return new r(d,"hex","le")}a(c,"T"),t.intFromLE=c}),jg=tt((e,t)=>{var r;t.exports=function(s){return r||(r=new n(null)),r.generate(s)};function n(s){this.rand=s}if(a(n,"K"),t.exports.Rand=n,n.prototype.generate=function(s){return this._rand(s)},n.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var o=new Uint8Array(s),l=0;l<o.length;l++)o[l]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(s){var o=new Uint8Array(s);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(s){var o=new Uint8Array(s);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(n.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(i=(Ai(),mr(di)),typeof i.randomBytes!="function")throw Error("Not supported");n.prototype._rand=function(s){return i.randomBytes(s)}}catch{}var i}),oc=tt((e,t)=>{var r=Oa(),n=Ei(),i=n.getNAF,s=n.getJSF,o=n.assert;function l(c,d){this.type=c,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a(l,"z"),t.exports=l,l.prototype.point=function(){throw Error("Not implemented")},l.prototype.validate=function(){throw Error("Not implemented")},l.prototype._fixedNafMul=function(c,d){o(c.precomputed);var f=c._getDoubles(),g=i(d,1,this._bitLength),m=(1<<f.step+1)-(f.step%2===0?2:1);m/=3;var y=[],_,A;for(_=0;_<g.length;_+=f.step){A=0;for(var I=_+f.step-1;I>=_;I--)A=(A<<1)+g[I];y.push(A)}for(var O=this.jpoint(null,null,null),R=this.jpoint(null,null,null),L=m;L>0;L--){for(_=0;_<y.length;_++)A=y[_],A===L?R=R.mixedAdd(f.points[_]):A===-L&&(R=R.mixedAdd(f.points[_].neg()));O=O.add(R)}return O.toP()},l.prototype._wnafMul=function(c,d){var f=4,g=c._getNAFPoints(f);f=g.wnd;for(var m=g.points,y=i(d,f,this._bitLength),_=this.jpoint(null,null,null),A=y.length-1;A>=0;A--){for(var I=0;A>=0&&y[A]===0;A--)I++;if(A>=0&&I++,_=_.dblp(I),A<0)break;var O=y[A];o(O!==0),c.type==="affine"?O>0?_=_.mixedAdd(m[O-1>>1]):_=_.mixedAdd(m[-O-1>>1].neg()):O>0?_=_.add(m[O-1>>1]):_=_.add(m[-O-1>>1].neg())}return c.type==="affine"?_.toP():_},l.prototype._wnafMulAdd=function(c,d,f,g,m){var y=this._wnafT1,_=this._wnafT2,A=this._wnafT3,I=0,O,R,L;for(O=0;O<g;O++){L=d[O];var D=L._getNAFPoints(c);y[O]=D.wnd,_[O]=D.points}for(O=g-1;O>=1;O-=2){var P=O-1,Z=O;if(y[P]!==1||y[Z]!==1){A[P]=i(f[P],y[P],this._bitLength),A[Z]=i(f[Z],y[Z],this._bitLength),I=Math.max(A[P].length,I),I=Math.max(A[Z].length,I);continue}var V=[d[P],null,null,d[Z]];d[P].y.cmp(d[Z].y)===0?(V[1]=d[P].add(d[Z]),V[2]=d[P].toJ().mixedAdd(d[Z].neg())):d[P].y.cmp(d[Z].y.redNeg())===0?(V[1]=d[P].toJ().mixedAdd(d[Z]),V[2]=d[P].add(d[Z].neg())):(V[1]=d[P].toJ().mixedAdd(d[Z]),V[2]=d[P].toJ().mixedAdd(d[Z].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],F=s(f[P],f[Z]);for(I=Math.max(F[0].length,I),A[P]=Array(I),A[Z]=Array(I),R=0;R<I;R++){var Y=F[0][R]|0,h=F[1][R]|0;A[P][R]=W[(Y+1)*3+(h+1)],A[Z][R]=0,_[P]=V}}var w=this.jpoint(null,null,null),b=this._wnafT4;for(O=I;O>=0;O--){for(var x=0;O>=0;){var E=!0;for(R=0;R<g;R++)b[R]=A[R][O]|0,b[R]!==0&&(E=!1);if(!E)break;x++,O--}if(O>=0&&x++,w=w.dblp(x),O<0)break;for(R=0;R<g;R++){var T=b[R];T!==0&&(T>0?L=_[R][T-1>>1]:T<0&&(L=_[R][-T-1>>1].neg()),L.type==="affine"?w=w.mixedAdd(L):w=w.add(L))}}for(O=0;O<g;O++)_[O]=null;return m?w:w.toP()};function u(c,d){this.curve=c,this.type=d,this.precomputed=null}a(u,"H"),l.BasePoint=u,u.prototype.eq=function(){throw Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,d){c=n.toArray(c,d);var f=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*f){c[0]===6?o(c[c.length-1]%2===0):c[0]===7&&o(c[c.length-1]%2===1);var g=this.point(c.slice(1,1+f),c.slice(1+f,1+2*f));return g}else if((c[0]===2||c[0]===3)&&c.length-1===f)return this.pointFromX(c.slice(1,1+f),c[0]===3);throw Error("Unknown point format")},u.prototype.encodeCompressed=function(c){return this.encode(c,!0)},u.prototype._encode=function(c){var d=this.curve.p.byteLength(),f=this.getX().toArray("be",d);return c?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",d))},u.prototype.encode=function(c,d){return n.encode(this._encode(d),c)},u.prototype.precompute=function(c){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,c),d.beta=this._getBeta(),this.precomputed=d,this},u.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((c.bitLength()+1)/d.step):!1},u.prototype._getDoubles=function(c,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],g=this,m=0;m<d;m+=c){for(var y=0;y<c;y++)g=g.dbl();f.push(g)}return{step:c,points:f}},u.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],f=(1<<c)-1,g=f===1?null:this.dbl(),m=1;m<f;m++)d[m]=d[m-1].add(g);return{wnd:c,points:d}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(c){for(var d=this,f=0;f<c;f++)d=d.dbl();return d}}),Zx=tt((e,t)=>{typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=a(function(){},"P");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),oi=tt((e,t)=>{try{if(r=(YK(),mr(eN)),typeof r.inherits!="function")throw"";t.exports=r.inherits}catch{t.exports=Zx()}var r}),Yx=tt((e,t)=>{var r=Ei(),n=Oa(),i=oi(),s=oc(),o=r.assert;function l(d){s.call(this,"short",d),this.a=new n(d.a,16).toRed(this.red),this.b=new n(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}a(l,"z"),i(l,s),t.exports=l,l.prototype._getEndomorphism=function(d){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,g;if(d.beta)f=new n(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);f=m[0].cmp(m[1])<0?m[0]:m[1],f=f.toRed(this.red)}if(d.lambda)g=new n(d.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?g=y[0]:(g=y[1],o(this.g.mul(g).x.cmp(this.g.x.redMul(f))===0))}var _;return d.basis?_=d.basis.map(function(A){return{a:new n(A.a,16),b:new n(A.b,16)}}):_=this._getEndoBasis(g),{beta:f,lambda:g,basis:_}}},l.prototype._getEndoRoots=function(d){var f=d===this.p?this.red:n.mont(d),g=new n(2).toRed(f).redInvm(),m=g.redNeg(),y=new n(3).toRed(f).redNeg().redSqrt().redMul(g),_=m.redAdd(y).fromRed(),A=m.redSub(y).fromRed();return[_,A]},l.prototype._getEndoBasis=function(d){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=d,m=this.n.clone(),y=new n(1),_=new n(0),A=new n(0),I=new n(1),O,R,L,D,P,Z,V,W=0,F,Y;g.cmpn(0)!==0;){var h=m.div(g);F=m.sub(h.mul(g)),Y=A.sub(h.mul(y));var w=I.sub(h.mul(_));if(!L&&F.cmp(f)<0)O=V.neg(),R=y,L=F.neg(),D=Y;else if(L&&++W===2)break;V=F,m=g,g=F,A=y,y=Y,I=_,_=w}P=F.neg(),Z=Y;var b=L.sqr().add(D.sqr()),x=P.sqr().add(Z.sqr());return x.cmp(b)>=0&&(P=O,Z=R),L.negative&&(L=L.neg(),D=D.neg()),P.negative&&(P=P.neg(),Z=Z.neg()),[{a:L,b:D},{a:P,b:Z}]},l.prototype._endoSplit=function(d){var f=this.endo.basis,g=f[0],m=f[1],y=m.b.mul(d).divRound(this.n),_=g.b.neg().mul(d).divRound(this.n),A=y.mul(g.a),I=_.mul(m.a),O=y.mul(g.b),R=_.mul(m.b),L=d.sub(A).sub(I),D=O.add(R).neg();return{k1:L,k2:D}},l.prototype.pointFromX=function(d,f){d=new n(d,16),!d.red&&(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw Error("invalid point");var y=m.fromRed().isOdd();return(f&&!y||!f&&y)&&(m=m.redNeg()),this.point(d,m)},l.prototype.validate=function(d){if(d.inf)return!0;var{x:f,y:g}=d,m=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(y).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(d,f,g){for(var m=this._endoWnafT1,y=this._endoWnafT2,_=0;_<d.length;_++){var A=this._endoSplit(f[_]),I=d[_],O=I._getBeta();A.k1.negative&&(A.k1.ineg(),I=I.neg(!0)),A.k2.negative&&(A.k2.ineg(),O=O.neg(!0)),m[_*2]=I,m[_*2+1]=O,y[_*2]=A.k1,y[_*2+1]=A.k2}for(var R=this._wnafMulAdd(1,m,y,_*2,g),L=0;L<_*2;L++)m[L]=null,y[L]=null;return R};function u(d,f,g,m){s.BasePoint.call(this,d,"affine"),f===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(f,16),this.y=new n(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(u,"H"),i(u,s.BasePoint),l.prototype.point=function(d,f,g){return new u(this,d,f,g)},l.prototype.pointFromJSON=function(d,f){return u.fromJSON(this,d,f)},u.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,m=a(function(y){return g.point(y.x.redMul(g.endo.beta),y.y)},"S");d.beta=f,f.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return f}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(d,f,g){typeof f=="string"&&(f=JSON.parse(f));var m=d.point(f[0],f[1],g);if(!f[2])return m;function y(A){return d.point(A[0],A[1],g)}a(y,"N");var _=f[2];return m.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[m].concat(_.doubles.points.map(y))},naf:_.naf&&{wnd:_.naf.wnd,points:[m].concat(_.naf.points.map(y))}},m},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var f=this.y.redSub(d.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(d.x).redInvm()));var g=f.redSqr().redISub(this.x).redISub(d.x),m=f.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},u.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,g=this.x.redSqr(),m=d.redInvm(),y=g.redAdd(g).redIAdd(g).redIAdd(f).redMul(m),_=y.redSqr().redISub(this.x.redAdd(this.x)),A=y.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,A)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(d){return d=new n(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},u.prototype.mulAdd=function(d,f,g){var m=[this,f],y=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,y):this.curve._wnafMulAdd(1,m,y,2)},u.prototype.jmulAdd=function(d,f,g){var m=[this,f],y=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,y,!0):this.curve._wnafMulAdd(1,m,y,2,!0)},u.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},u.prototype.neg=function(d){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,m=a(function(y){return y.neg()},"S");f.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return f},u.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var d=this.curve.jpoint(this.x,this.y,this.curve.one);return d};function c(d,f,g,m){s.BasePoint.call(this,d,"jacobian"),f===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(f,16),this.y=new n(g,16),this.z=new n(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,"T"),i(c,s.BasePoint),l.prototype.jpoint=function(d,f,g){return new c(this,d,f,g)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),f=d.redSqr(),g=this.x.redMul(f),m=this.y.redMul(f).redMul(d);return this.curve.point(g,m)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var f=d.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(f),y=d.x.redMul(g),_=this.y.redMul(f.redMul(d.z)),A=d.y.redMul(g.redMul(this.z)),I=m.redSub(y),O=_.redSub(A);if(I.cmpn(0)===0)return O.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=I.redSqr(),L=R.redMul(I),D=m.redMul(R),P=O.redSqr().redIAdd(L).redISub(D).redISub(D),Z=O.redMul(D.redISub(P)).redISub(_.redMul(L)),V=this.z.redMul(d.z).redMul(I);return this.curve.jpoint(P,Z,V)},c.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var f=this.z.redSqr(),g=this.x,m=d.x.redMul(f),y=this.y,_=d.y.redMul(f).redMul(this.z),A=g.redSub(m),I=y.redSub(_);if(A.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=A.redSqr(),R=O.redMul(A),L=g.redMul(O),D=I.redSqr().redIAdd(R).redISub(L).redISub(L),P=I.redMul(L.redISub(D)).redISub(y.redMul(R)),Z=this.z.redMul(A);return this.curve.jpoint(D,P,Z)},c.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var g=this;for(f=0;f<d;f++)g=g.dbl();return g}var m=this.curve.a,y=this.curve.tinv,_=this.x,A=this.y,I=this.z,O=I.redSqr().redSqr(),R=A.redAdd(A);for(f=0;f<d;f++){var L=_.redSqr(),D=R.redSqr(),P=D.redSqr(),Z=L.redAdd(L).redIAdd(L).redIAdd(m.redMul(O)),V=_.redMul(D),W=Z.redSqr().redISub(V.redAdd(V)),F=V.redISub(W),Y=Z.redMul(F);Y=Y.redIAdd(Y).redISub(P);var h=R.redMul(I);f+1<d&&(O=O.redMul(P)),_=W,I=h,R=Y}return this.curve.jpoint(_,R.redMul(y),I)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var d,f,g;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),_=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(m).redISub(_);A=A.redIAdd(A);var I=m.redAdd(m).redIAdd(m),O=I.redSqr().redISub(A).redISub(A),R=_.redIAdd(_);R=R.redIAdd(R),R=R.redIAdd(R),d=O,f=I.redMul(A.redISub(O)).redISub(R),g=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),D=this.y.redSqr(),P=D.redSqr(),Z=this.x.redAdd(D).redSqr().redISub(L).redISub(P);Z=Z.redIAdd(Z);var V=L.redAdd(L).redIAdd(L),W=V.redSqr(),F=P.redIAdd(P);F=F.redIAdd(F),F=F.redIAdd(F),d=W.redISub(Z).redISub(Z),f=V.redMul(Z.redISub(d)).redISub(F),g=this.y.redMul(this.z),g=g.redIAdd(g)}return this.curve.jpoint(d,f,g)},c.prototype._threeDbl=function(){var d,f,g;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),_=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(m).redISub(_);A=A.redIAdd(A);var I=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),O=I.redSqr().redISub(A).redISub(A);d=O;var R=_.redIAdd(_);R=R.redIAdd(R),R=R.redIAdd(R),f=I.redMul(A.redISub(O)).redISub(R),g=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),D=this.y.redSqr(),P=this.x.redMul(D),Z=this.x.redSub(L).redMul(this.x.redAdd(L));Z=Z.redAdd(Z).redIAdd(Z);var V=P.redIAdd(P);V=V.redIAdd(V);var W=V.redAdd(V);d=Z.redSqr().redISub(W),g=this.y.redAdd(this.z).redSqr().redISub(D).redISub(L);var F=D.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),f=Z.redMul(V.redISub(d)).redISub(F)}return this.curve.jpoint(d,f,g)},c.prototype._dbl=function(){var d=this.curve.a,f=this.x,g=this.y,m=this.z,y=m.redSqr().redSqr(),_=f.redSqr(),A=g.redSqr(),I=_.redAdd(_).redIAdd(_).redIAdd(d.redMul(y)),O=f.redAdd(f);O=O.redIAdd(O);var R=O.redMul(A),L=I.redSqr().redISub(R.redAdd(R)),D=R.redISub(L),P=A.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var Z=I.redMul(D).redISub(P),V=g.redAdd(g).redMul(m);return this.curve.jpoint(L,Z,V)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),f=this.y.redSqr(),g=this.z.redSqr(),m=f.redSqr(),y=d.redAdd(d).redIAdd(d),_=y.redSqr(),A=this.x.redAdd(f).redSqr().redISub(d).redISub(m);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(_);var I=A.redSqr(),O=m.redIAdd(m);O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var R=y.redIAdd(A).redSqr().redISub(_).redISub(I).redISub(O),L=f.redMul(R);L=L.redIAdd(L),L=L.redIAdd(L);var D=this.x.redMul(I).redISub(L);D=D.redIAdd(D),D=D.redIAdd(D);var P=this.y.redMul(R.redMul(O.redISub(R)).redISub(A.redMul(I)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var Z=this.z.redAdd(A).redSqr().redISub(g).redISub(I);return this.curve.jpoint(D,P,Z)},c.prototype.mul=function(d,f){return d=new n(d,f),this.curve._wnafMul(this,d)},c.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var f=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(f)).cmpn(0)!==0)return!1;var m=f.redMul(this.z),y=g.redMul(d.z);return this.y.redMul(y).redISub(d.y.redMul(m)).cmpn(0)===0},c.prototype.eqXToP=function(d){var f=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(f);if(this.x.cmp(g)===0)return!0;for(var m=d.clone(),y=this.curve.redN.redMul(f);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(y),this.x.cmp(g)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),$x=tt((e,t)=>{var r=Oa(),n=oi(),i=oc(),s=Ei();function o(u){i.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(o,"Y"),n(o,i),t.exports=o,o.prototype.validate=function(u){var c=u.normalize().x,d=c.redSqr(),f=d.redMul(c).redAdd(d.redMul(this.a)).redAdd(c),g=f.redSqrt();return g.redSqr().cmp(f)===0};function l(u,c,d){i.BasePoint.call(this,u,"projective"),c===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(d,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(l,"z"),n(l,i.BasePoint),o.prototype.decodePoint=function(u,c){return this.point(s.toArray(u,c),1)},o.prototype.point=function(u,c){return new l(this,u,c)},o.prototype.pointFromJSON=function(u){return l.fromJSON(this,u)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(u,c){return new l(u,c[0],c[1]||u.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var u=this.x.redAdd(this.z),c=u.redSqr(),d=this.x.redSub(this.z),f=d.redSqr(),g=c.redSub(f),m=c.redMul(f),y=g.redMul(f.redAdd(this.curve.a24.redMul(g)));return this.curve.point(m,y)},l.prototype.add=function(){throw Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(u,c){var d=this.x.redAdd(this.z),f=this.x.redSub(this.z),g=u.x.redAdd(u.z),m=u.x.redSub(u.z),y=m.redMul(d),_=g.redMul(f),A=c.z.redMul(y.redAdd(_).redSqr()),I=c.x.redMul(y.redISub(_).redSqr());return this.curve.point(A,I)},l.prototype.mul=function(u){for(var c=u.clone(),d=this,f=this.curve.point(null,null),g=this,m=[];c.cmpn(0)!==0;c.iushrn(1))m.push(c.andln(1));for(var y=m.length-1;y>=0;y--)m[y]===0?(d=d.diffAdd(f,g),f=f.dbl()):(f=d.diffAdd(f,g),d=d.dbl());return f},l.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},l.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),Qx=tt((e,t)=>{var r=Ei(),n=Oa(),i=oi(),s=oc(),o=r.assert;function l(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",c),this.a=new n(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}a(l,"z"),i(l,s),t.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,d,f,g){return this.point(c,d,f,g)},l.prototype.pointFromX=function(c,d){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var f=c.redSqr(),g=this.c2.redSub(this.a.redMul(f)),m=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=g.redMul(m.redInvm()),_=y.redSqrt();if(_.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");var A=_.fromRed().isOdd();return(d&&!A||!d&&A)&&(_=_.redNeg()),this.point(c,_)},l.prototype.pointFromY=function(c,d){c=new n(c,16),!c.red&&(c=c.toRed(this.red));var f=c.redSqr(),g=f.redSub(this.c2),m=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=g.redMul(m.redInvm());if(y.cmp(this.zero)===0){if(d)throw Error("invalid point");return this.point(this.zero,c)}var _=y.redSqrt();if(_.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");return _.fromRed().isOdd()!==d&&(_=_.redNeg()),this.point(_,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var d=c.x.redSqr(),f=c.y.redSqr(),g=d.redMul(this.a).redAdd(f),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(f)));return g.cmp(m)===0};function u(c,d,f,g,m){s.BasePoint.call(this,c,"projective"),d===null&&f===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(d,16),this.y=new n(f,16),this.z=g?new n(g,16):this.curve.one,this.t=m&&new n(m,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}a(u,"H"),i(u,s.BasePoint),l.prototype.pointFromJSON=function(c){return u.fromJSON(this,c)},l.prototype.point=function(c,d,f,g){return new u(this,c,d,f,g)},u.fromJSON=function(c,d){return new u(c,d[0],d[1],d[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var c=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var g=this.curve._mulA(c),m=this.x.redAdd(this.y).redSqr().redISub(c).redISub(d),y=g.redAdd(d),_=y.redSub(f),A=g.redSub(d),I=m.redMul(_),O=y.redMul(A),R=m.redMul(A),L=_.redMul(y);return this.curve.point(I,O,L,R)},u.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),f=this.y.redSqr(),g,m,y,_,A,I;if(this.curve.twisted){_=this.curve._mulA(d);var O=_.redAdd(f);this.zOne?(g=c.redSub(d).redSub(f).redMul(O.redSub(this.curve.two)),m=O.redMul(_.redSub(f)),y=O.redSqr().redSub(O).redSub(O)):(A=this.z.redSqr(),I=O.redSub(A).redISub(A),g=c.redSub(d).redISub(f).redMul(I),m=O.redMul(_.redSub(f)),y=O.redMul(I))}else _=d.redAdd(f),A=this.curve._mulC(this.z).redSqr(),I=_.redSub(A).redSub(A),g=this.curve._mulC(c.redISub(_)).redMul(I),m=this.curve._mulC(_).redMul(d.redISub(f)),y=_.redMul(I);return this.curve.point(g,m,y)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(c){var d=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),f=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),g=this.t.redMul(this.curve.dd).redMul(c.t),m=this.z.redMul(c.z.redAdd(c.z)),y=f.redSub(d),_=m.redSub(g),A=m.redAdd(g),I=f.redAdd(d),O=y.redMul(_),R=A.redMul(I),L=y.redMul(I),D=_.redMul(A);return this.curve.point(O,R,D,L)},u.prototype._projAdd=function(c){var d=this.z.redMul(c.z),f=d.redSqr(),g=this.x.redMul(c.x),m=this.y.redMul(c.y),y=this.curve.d.redMul(g).redMul(m),_=f.redSub(y),A=f.redAdd(y),I=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(g).redISub(m),O=d.redMul(_).redMul(I),R,L;return this.curve.twisted?(R=d.redMul(A).redMul(m.redSub(this.curve._mulA(g))),L=_.redMul(A)):(R=d.redMul(A).redMul(m.redSub(g)),L=this.curve._mulC(_).redMul(A)),this.curve.point(O,R,L)},u.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},u.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},u.prototype.mulAdd=function(c,d,f){return this.curve._wnafMulAdd(1,[this,d],[c,f],2,!1)},u.prototype.jmulAdd=function(c,d,f){return this.curve._wnafMulAdd(1,[this,d],[c,f],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},u.prototype.eqXToP=function(c){var d=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var f=c.clone(),g=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add}),Pg=tt(e=>{var t=e;t.base=oc(),t.short=Yx(),t.mont=$x(),t.edwards=Qx()}),Ji=tt(e=>{var t=hs(),r=oi();e.inherits=r;function n(w,b){return(w.charCodeAt(b)&64512)!==55296||b<0||b+1>=w.length?!1:(w.charCodeAt(b+1)&64512)===56320}a(n,"K");function i(w,b){if(Array.isArray(w))return w.slice();if(!w)return[];var x=[];if(typeof w=="string")if(b){if(b==="hex")for(w=w.replace(/[^a-z0-9]+/ig,""),w.length%2!==0&&(w="0"+w),T=0;T<w.length;T+=2)x.push(parseInt(w[T]+w[T+1],16))}else for(var E=0,T=0;T<w.length;T++){var N=w.charCodeAt(T);N<128?x[E++]=N:N<2048?(x[E++]=N>>6|192,x[E++]=N&63|128):n(w,T)?(N=65536+((N&1023)<<10)+(w.charCodeAt(++T)&1023),x[E++]=N>>18|240,x[E++]=N>>12&63|128,x[E++]=N>>6&63|128,x[E++]=N&63|128):(x[E++]=N>>12|224,x[E++]=N>>6&63|128,x[E++]=N&63|128)}else for(T=0;T<w.length;T++)x[T]=w[T]|0;return x}a(i,"P"),e.toArray=i;function s(w){for(var b="",x=0;x<w.length;x++)b+=u(w[x].toString(16));return b}a(s,"O"),e.toHex=s;function o(w){var b=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return b>>>0}a(o,"Y"),e.htonl=o;function l(w,b){for(var x="",E=0;E<w.length;E++){var T=w[E];b==="little"&&(T=o(T)),x+=c(T.toString(16))}return x}a(l,"z"),e.toHex32=l;function u(w){return w.length===1?"0"+w:w}a(u,"H"),e.zero2=u;function c(w){return w.length===7?"0"+w:w.length===6?"00"+w:w.length===5?"000"+w:w.length===4?"0000"+w:w.length===3?"00000"+w:w.length===2?"000000"+w:w.length===1?"0000000"+w:w}a(c,"T"),e.zero8=c;function d(w,b,x,E){var T=x-b;t(T%4===0);for(var N=Array(T/4),k=0,p=b;k<N.length;k++,p+=4){var S;E==="big"?S=w[p]<<24|w[p+1]<<16|w[p+2]<<8|w[p+3]:S=w[p+3]<<24|w[p+2]<<16|w[p+1]<<8|w[p],N[k]=S>>>0}return N}a(d,"f"),e.join32=d;function f(w,b){for(var x=Array(w.length*4),E=0,T=0;E<w.length;E++,T+=4){var N=w[E];b==="big"?(x[T]=N>>>24,x[T+1]=N>>>16&255,x[T+2]=N>>>8&255,x[T+3]=N&255):(x[T+3]=N>>>24,x[T+2]=N>>>16&255,x[T+1]=N>>>8&255,x[T]=N&255)}return x}a(f,"w"),e.split32=f;function g(w,b){return w>>>b|w<<32-b}a(g,"k"),e.rotr32=g;function m(w,b){return w<<b|w>>>32-b}a(m,"S"),e.rotl32=m;function y(w,b){return w+b>>>0}a(y,"N"),e.sum32=y;function _(w,b,x){return w+b+x>>>0}a(_,"h"),e.sum32_3=_;function A(w,b,x,E){return w+b+x+E>>>0}a(A,"E"),e.sum32_4=A;function I(w,b,x,E,T){return w+b+x+E+T>>>0}a(I,"D"),e.sum32_5=I;function O(w,b,x,E){var T=w[b],N=w[b+1],k=E+N>>>0,p=(k<E?1:0)+x+T;w[b]=p>>>0,w[b+1]=k}a(O,"I"),e.sum64=O;function R(w,b,x,E){var T=b+E>>>0,N=(T<b?1:0)+w+x;return N>>>0}a(R,"L"),e.sum64_hi=R;function L(w,b,x,E){var T=b+E;return T>>>0}a(L,"g"),e.sum64_lo=L;function D(w,b,x,E,T,N,k,p){var S=0,C=b;C=C+E>>>0,S+=C<b?1:0,C=C+N>>>0,S+=C<N?1:0,C=C+p>>>0,S+=C<p?1:0;var M=w+x+T+k+S;return M>>>0}a(D,"y"),e.sum64_4_hi=D;function P(w,b,x,E,T,N,k,p){var S=b+E+N+p;return S>>>0}a(P,"c"),e.sum64_4_lo=P;function Z(w,b,x,E,T,N,k,p,S,C){var M=0,U=b;U=U+E>>>0,M+=U<b?1:0,U=U+N>>>0,M+=U<N?1:0,U=U+p>>>0,M+=U<p?1:0,U=U+C>>>0,M+=U<C?1:0;var B=w+x+T+k+S+M;return B>>>0}a(Z,"o"),e.sum64_5_hi=Z;function V(w,b,x,E,T,N,k,p,S,C){var M=b+E+N+p+C;return M>>>0}a(V,"Q"),e.sum64_5_lo=V;function W(w,b,x){var E=b<<32-x|w>>>x;return E>>>0}a(W,"U"),e.rotr64_hi=W;function F(w,b,x){var E=w<<32-x|b>>>x;return E>>>0}a(F,"p"),e.rotr64_lo=F;function Y(w,b,x){return w>>>x}a(Y,"s"),e.shr64_hi=Y;function h(w,b,x){var E=w<<32-x|b>>>x;return E>>>0}a(h,"j"),e.shr64_lo=h}),Yl=tt(e=>{var t=Ji(),r=hs();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a(n,"K"),e.BlockHash=n,n.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},n.prototype.digest=function(i){return this.update(this._pad()),r(this.pending===null),this._digest(i)},n.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,l=Array(o+this.padLength);l[0]=128;for(var u=1;u<o;u++)l[u]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)l[u++]=0;l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=i>>>24&255,l[u++]=i>>>16&255,l[u++]=i>>>8&255,l[u++]=i&255}else for(l[u++]=i&255,l[u++]=i>>>8&255,l[u++]=i>>>16&255,l[u++]=i>>>24&255,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,c=8;c<this.padLength;c++)l[u++]=0;return l}}),zg=tt(e=>{var t=Ji(),r=t.rotr32;function n(f,g,m,y){if(f===0)return i(g,m,y);if(f===1||f===3)return o(g,m,y);if(f===2)return s(g,m,y)}a(n,"K"),e.ft_1=n;function i(f,g,m){return f&g^~f&m}a(i,"P"),e.ch32=i;function s(f,g,m){return f&g^f&m^g&m}a(s,"O"),e.maj32=s;function o(f,g,m){return f^g^m}a(o,"Y"),e.p32=o;function l(f){return r(f,2)^r(f,13)^r(f,22)}a(l,"z"),e.s0_256=l;function u(f){return r(f,6)^r(f,11)^r(f,25)}a(u,"H"),e.s1_256=u;function c(f){return r(f,7)^r(f,18)^f>>>3}a(c,"T"),e.g0_256=c;function d(f){return r(f,17)^r(f,19)^f>>>10}a(d,"f"),e.g1_256=d}),Wx=tt((e,t)=>{var r=Ji(),n=Yl(),i=zg(),s=r.rotl32,o=r.sum32,l=r.sum32_5,u=i.ft_1,c=n.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}a(f,"w"),r.inherits(f,c),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(g,m){for(var y=this.W,_=0;_<16;_++)y[_]=g[m+_];for(;_<y.length;_++)y[_]=s(y[_-3]^y[_-8]^y[_-14]^y[_-16],1);var A=this.h[0],I=this.h[1],O=this.h[2],R=this.h[3],L=this.h[4];for(_=0;_<y.length;_++){var D=~~(_/20),P=l(s(A,5),u(D,I,O,R),L,y[_],d[D]);L=R,R=O,O=s(I,30),I=A,A=P}this.h[0]=o(this.h[0],A),this.h[1]=o(this.h[1],I),this.h[2]=o(this.h[2],O),this.h[3]=o(this.h[3],R),this.h[4]=o(this.h[4],L)},f.prototype._digest=function(g){return g==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Bg=tt((e,t)=>{var r=Ji(),n=Yl(),i=zg(),s=hs(),o=r.sum32,l=r.sum32_4,u=r.sum32_5,c=i.ch32,d=i.maj32,f=i.s0_256,g=i.s1_256,m=i.g0_256,y=i.g1_256,_=n.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function I(){if(!(this instanceof I))return new I;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=Array(64)}a(I,"D"),r.inherits(I,_),t.exports=I,I.blockSize=512,I.outSize=256,I.hmacStrength=192,I.padLength=64,I.prototype._update=function(O,R){for(var L=this.W,D=0;D<16;D++)L[D]=O[R+D];for(;D<L.length;D++)L[D]=l(y(L[D-2]),L[D-7],m(L[D-15]),L[D-16]);var P=this.h[0],Z=this.h[1],V=this.h[2],W=this.h[3],F=this.h[4],Y=this.h[5],h=this.h[6],w=this.h[7];for(s(this.k.length===L.length),D=0;D<L.length;D++){var b=u(w,g(F),c(F,Y,h),this.k[D],L[D]),x=o(f(P),d(P,Z,V));w=h,h=Y,Y=F,F=o(W,b),W=V,V=Z,Z=P,P=o(b,x)}this.h[0]=o(this.h[0],P),this.h[1]=o(this.h[1],Z),this.h[2]=o(this.h[2],V),this.h[3]=o(this.h[3],W),this.h[4]=o(this.h[4],F),this.h[5]=o(this.h[5],Y),this.h[6]=o(this.h[6],h),this.h[7]=o(this.h[7],w)},I.prototype._digest=function(O){return O==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Xx=tt((e,t)=>{var r=Ji(),n=Bg();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a(i,"P"),r.inherits(i,n),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),Fg=tt((e,t)=>{var r=Ji(),n=Yl(),i=hs(),s=r.rotr64_hi,o=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,d=r.sum64_hi,f=r.sum64_lo,g=r.sum64_4_hi,m=r.sum64_4_lo,y=r.sum64_5_hi,_=r.sum64_5_lo,A=n.BlockHash,I=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function O(){if(!(this instanceof O))return new O;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I,this.W=Array(160)}a(O,"I"),r.inherits(O,A),t.exports=O,O.blockSize=1024,O.outSize=512,O.hmacStrength=192,O.padLength=128,O.prototype._prepareBlock=function(x,E){for(var T=this.W,N=0;N<32;N++)T[N]=x[E+N];for(;N<T.length;N+=2){var k=w(T[N-4],T[N-3]),p=b(T[N-4],T[N-3]),S=T[N-14],C=T[N-13],M=Y(T[N-30],T[N-29]),U=h(T[N-30],T[N-29]),B=T[N-32],G=T[N-31];T[N]=g(k,p,S,C,M,U,B,G),T[N+1]=m(k,p,S,C,M,U,B,G)}},O.prototype._update=function(x,E){this._prepareBlock(x,E);var T=this.W,N=this.h[0],k=this.h[1],p=this.h[2],S=this.h[3],C=this.h[4],M=this.h[5],U=this.h[6],B=this.h[7],G=this.h[8],J=this.h[9],ue=this.h[10],se=this.h[11],oe=this.h[12],Pe=this.h[13],Ee=this.h[14],be=this.h[15];i(this.k.length===T.length);for(var Ce=0;Ce<T.length;Ce+=2){var X=Ee,ce=be,te=W(G,J),ie=F(G,J),me=R(G,J,ue,se,oe),xe=L(G,J,ue,se,oe,Pe),Oe=this.k[Ce],de=this.k[Ce+1],Q=T[Ce],ne=T[Ce+1],q=y(X,ce,te,ie,me,xe,Oe,de,Q,ne),$=_(X,ce,te,ie,me,xe,Oe,de,Q,ne);X=Z(N,k),ce=V(N,k),te=D(N,k,p,S,C),ie=P(N,k,p,S,C,M);var re=d(X,ce,te,ie),ae=f(X,ce,te,ie);Ee=oe,be=Pe,oe=ue,Pe=se,ue=G,se=J,G=d(U,B,q,$),J=f(B,B,q,$),U=C,B=M,C=p,M=S,p=N,S=k,N=d(q,$,re,ae),k=f(q,$,re,ae)}c(this.h,0,N,k),c(this.h,2,p,S),c(this.h,4,C,M),c(this.h,6,U,B),c(this.h,8,G,J),c(this.h,10,ue,se),c(this.h,12,oe,Pe),c(this.h,14,Ee,be)},O.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function R(x,E,T,N,k){var p=x&T^~x&k;return p<0&&(p+=4294967296),p}a(R,"L");function L(x,E,T,N,k,p){var S=E&N^~E&p;return S<0&&(S+=4294967296),S}a(L,"g");function D(x,E,T,N,k){var p=x&T^x&k^T&k;return p<0&&(p+=4294967296),p}a(D,"y");function P(x,E,T,N,k,p){var S=E&N^E&p^N&p;return S<0&&(S+=4294967296),S}a(P,"c");function Z(x,E){var T=s(x,E,28),N=s(E,x,2),k=s(E,x,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(Z,"o");function V(x,E){var T=o(x,E,28),N=o(E,x,2),k=o(E,x,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(V,"Q");function W(x,E){var T=s(x,E,14),N=s(x,E,18),k=s(E,x,9),p=T^N^k;return p<0&&(p+=4294967296),p}a(W,"U");function F(x,E){var T=o(x,E,14),N=o(x,E,18),k=o(E,x,9),p=T^N^k;return p<0&&(p+=4294967296),p}a(F,"p");function Y(x,E){var T=s(x,E,1),N=s(x,E,8),k=l(x,E,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(Y,"s");function h(x,E){var T=o(x,E,1),N=o(x,E,8),k=u(x,E,7),p=T^N^k;return p<0&&(p+=4294967296),p}a(h,"j");function w(x,E){var T=s(x,E,19),N=s(E,x,29),k=l(x,E,6),p=T^N^k;return p<0&&(p+=4294967296),p}a(w,"J");function b(x,E){var T=o(x,E,19),N=o(E,x,29),k=u(x,E,6),p=T^N^k;return p<0&&(p+=4294967296),p}a(b,"X")}),Jx=tt((e,t)=>{var r=Ji(),n=Fg();function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a(i,"P"),r.inherits(i,n),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),qx=tt(e=>{e.sha1=Wx(),e.sha224=Xx(),e.sha256=Bg(),e.sha384=Jx(),e.sha512=Fg()}),e5=tt(e=>{var t=Ji(),r=Yl(),n=t.rotl32,i=t.sum32,s=t.sum32_3,o=t.sum32_4,l=r.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a(u,"H"),t.inherits(u,l),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(A,I){for(var O=this.h[0],R=this.h[1],L=this.h[2],D=this.h[3],P=this.h[4],Z=O,V=R,W=L,F=D,Y=P,h=0;h<80;h++){var w=i(n(o(O,c(h,R,L,D),A[g[h]+I],d(h)),y[h]),P);O=P,P=D,D=n(L,10),L=R,R=w,w=i(n(o(Z,c(79-h,V,W,F),A[m[h]+I],f(h)),_[h]),Y),Z=Y,Y=F,F=n(W,10),W=V,V=w}w=s(this.h[1],L,F),this.h[1]=s(this.h[2],D,Y),this.h[2]=s(this.h[3],P,Z),this.h[3]=s(this.h[4],O,V),this.h[4]=s(this.h[0],R,W),this.h[0]=w},u.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(A,I,O,R){return A<=15?I^O^R:A<=31?I&O|~I&R:A<=47?(I|~O)^R:A<=63?I&R|O&~R:I^(O|~R)}a(c,"T");function d(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}a(d,"f");function f(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}a(f,"w");var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),t5=tt((e,t)=>{var r=Ji(),n=hs();function i(s,o,l){if(!(this instanceof i))return new i(s,o,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(o,l))}a(i,"P"),t.exports=i,i.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),n(s.length<=this.blockSize);for(var o=s.length;o<this.blockSize;o++)s.push(0);for(o=0;o<s.length;o++)s[o]^=54;for(this.inner=new this.Hash().update(s),o=0;o<s.length;o++)s[o]^=106;this.outer=new this.Hash().update(s)},i.prototype.update=function(s,o){return this.inner.update(s,o),this},i.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}}),eh=tt(e=>{var t=e;t.utils=Ji(),t.common=Yl(),t.sha=qx(),t.ripemd=e5(),t.hmac=t5(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}),r5=tt((e,t)=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),th=tt(e=>{var t=e,r=eh(),n=Pg(),i=Ei(),s=i.assert;function o(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a(o,"Y"),t.PresetCurve=o;function l(c,d){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:a(function(){var f=new o(d);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:f}),f},"get")})}a(l,"z"),l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=r5()}catch{u=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}),n5=tt((e,t)=>{var r=eh(),n=Dg(),i=hs();function s(o){if(!(this instanceof s))return new s(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=n.toArray(o.entropy,o.entropyEnc||"hex"),u=n.toArray(o.nonce,o.nonceEnc||"hex"),c=n.toArray(o.pers,o.persEnc||"hex");i(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,u,c)}a(s,"O"),t.exports=s,s.prototype._init=function(o,l,u){var c=o.concat(l).concat(u);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(o){var l=this._hmac().update(this.V).update([0]);o&&(l=l.update(o)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(o,l,u,c){typeof l!="string"&&(c=u,u=l,l=null),o=n.toArray(o,l),u=n.toArray(u,c),i(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(u||[])),this._reseed=1},s.prototype.generate=function(o,l,u,c){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof l!="string"&&(c=u,u=l,l=null),u&&(u=n.toArray(u,c||"hex"),this._update(u));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var f=d.slice(0,o);return this._update(u),this._reseed++,n.encode(f,l)}}),i5=tt((e,t)=>{var r=Oa(),n=Ei(),i=n.assert;function s(o,l){this.ec=o,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}a(s,"O"),t.exports=s,s.fromPublic=function(o,l,u){return l instanceof s?l:new s(o,{pub:l,pubEnc:u})},s.fromPrivate=function(o,l,u){return l instanceof s?l:new s(o,{priv:l,privEnc:u})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,l){return typeof o=="string"&&(l=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,l){this.priv=new r(o,l||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,l){if(o.x||o.y){this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,l)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,l,u){return this.ec.sign(o,this,l,u)},s.prototype.verify=function(o,l,u){return this.ec.verify(o,l,this,void 0,u)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),a5=tt((e,t)=>{var r=Oa(),n=Ei(),i=n.assert;function s(d,f){if(d instanceof s)return d;this._importDER(d,f)||(i(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}a(s,"O"),t.exports=s;function o(){this.place=0}a(o,"Y");function l(d,f){var g=d[f.place++];if(!(g&128))return g;var m=g&15;if(m===0||m>4||d[f.place]===0)return!1;for(var y=0,_=0,A=f.place;_<m;_++,A++)y<<=8,y|=d[A],y>>>=0;return y<=127?!1:(f.place=A,y)}a(l,"z");function u(d){for(var f=0,g=d.length-1;!d[f]&&!(d[f+1]&128)&&f<g;)f++;return f===0?d:d.slice(f)}a(u,"H"),s.prototype._importDER=function(d,f){d=n.toArray(d,f);var g=new o;if(d[g.place++]!==48)return!1;var m=l(d,g);if(m===!1||m+g.place!==d.length||d[g.place++]!==2)return!1;var y=l(d,g);if(y===!1||(d[g.place]&128)!==0)return!1;var _=d.slice(g.place,y+g.place);if(g.place+=y,d[g.place++]!==2)return!1;var A=l(d,g);if(A===!1||d.length!==A+g.place||(d[g.place]&128)!==0)return!1;var I=d.slice(g.place,A+g.place);if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;if(I[0]===0)if(I[1]&128)I=I.slice(1);else return!1;return this.r=new r(_),this.s=new r(I),this.recoveryParam=null,!0};function c(d,f){if(f<128){d.push(f);return}var g=1+(Math.log(f)/Math.LN2>>>3);for(d.push(g|128);--g;)d.push(f>>>(g<<3)&255);d.push(f)}a(c,"T"),s.prototype.toDER=function(d){var f=this.r.toArray(),g=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),g[0]&128&&(g=[0].concat(g)),f=u(f),g=u(g);!g[0]&&!(g[1]&128);)g=g.slice(1);var m=[2];c(m,f.length),m=m.concat(f),m.push(2),c(m,g.length);var y=m.concat(g),_=[48];return c(_,y.length),_=_.concat(y),n.encode(_,d)}}),s5=tt((e,t)=>{var r=Oa(),n=n5(),i=Ei(),s=th(),o=jg(),l=i.assert,u=i5(),c=a5();function d(f){if(!(this instanceof d))return new d(f);typeof f=="string"&&(l(Object.prototype.hasOwnProperty.call(s,f),"Unknown curve "+f),f=s[f]),f instanceof s.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}a(d,"f"),t.exports=d,d.prototype.keyPair=function(f){return new u(this,f)},d.prototype.keyFromPrivate=function(f,g){return u.fromPrivate(this,f,g)},d.prototype.keyFromPublic=function(f,g){return u.fromPublic(this,f,g)},d.prototype.genKeyPair=function(f){f||(f={});for(var g=new n({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||o(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),y=this.n.sub(new r(2));;){var _=new r(g.generate(m));if(!(_.cmp(y)>0))return _.iaddn(1),this.keyFromPrivate(_)}},d.prototype._truncateToN=function(f,g,m){var y;if(r.isBN(f)||typeof f=="number")f=new r(f,16),y=f.byteLength();else if(typeof f=="object")y=f.length,f=new r(f,16);else{var _=f.toString();y=_.length+1>>>1,f=new r(_,16)}typeof m!="number"&&(m=y*8);var A=m-this.n.bitLength();return A>0&&(f=f.ushrn(A)),!g&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,g,m,y){if(typeof m=="object"&&(y=m,m=null),y||(y={}),typeof f!="string"&&typeof f!="number"&&!r.isBN(f)){l(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),l(f.length>>>0===f.length);for(var _=0;_<f.length;_++)l((f[_]&255)===f[_])}g=this.keyFromPrivate(g,m),f=this._truncateToN(f,!1,y.msgBitLength),l(!f.isNeg(),"Can not sign a negative message");var A=this.n.byteLength(),I=g.getPrivate().toArray("be",A),O=f.toArray("be",A);l(new r(O).eq(f),"Can not sign message");for(var R=new n({hash:this.hash,entropy:I,nonce:O,pers:y.pers,persEnc:y.persEnc||"utf8"}),L=this.n.sub(new r(1)),D=0;;D++){var P=y.k?y.k(D):new r(R.generate(this.n.byteLength()));if(P=this._truncateToN(P,!0),!(P.cmpn(1)<=0||P.cmp(L)>=0)){var Z=this.g.mul(P);if(!Z.isInfinity()){var V=Z.getX(),W=V.umod(this.n);if(W.cmpn(0)!==0){var F=P.invm(this.n).mul(W.mul(g.getPrivate()).iadd(f));if(F=F.umod(this.n),F.cmpn(0)!==0){var Y=(Z.getY().isOdd()?1:0)|(V.cmp(W)!==0?2:0);return y.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),Y^=1),new c({r:W,s:F,recoveryParam:Y})}}}}}},d.prototype.verify=function(f,g,m,y,_){_||(_={}),f=this._truncateToN(f,!1,_.msgBitLength),m=this.keyFromPublic(m,y),g=new c(g,"hex");var{r:A,s:I}=g;if(A.cmpn(1)<0||A.cmp(this.n)>=0||I.cmpn(1)<0||I.cmp(this.n)>=0)return!1;var O=I.invm(this.n),R=O.mul(f).umod(this.n),L=O.mul(A).umod(this.n),D;return this.curve._maxwellTrick?(D=this.g.jmulAdd(R,m.getPublic(),L),D.isInfinity()?!1:D.eqXToP(A)):(D=this.g.mulAdd(R,m.getPublic(),L),D.isInfinity()?!1:D.getX().umod(this.n).cmp(A)===0)},d.prototype.recoverPubKey=function(f,g,m,y){l((3&m)===m,"The recovery param is more than two bits"),g=new c(g,y);var _=this.n,A=new r(f),I=g.r,O=g.s,R=m&1,L=m>>1;if(I.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw Error("Unable to find sencond key candinate");L?I=this.curve.pointFromX(I.add(this.curve.n),R):I=this.curve.pointFromX(I,R);var D=g.r.invm(_),P=_.sub(A).mul(D).umod(_),Z=O.mul(D).umod(_);return this.g.mulAdd(P,I,Z)},d.prototype.getKeyRecoveryParam=function(f,g,m,y){if(g=new c(g,y),g.recoveryParam!==null)return g.recoveryParam;for(var _=0;_<4;_++){var A;try{A=this.recoverPubKey(f,g,_)}catch{continue}if(A.eq(m))return _}throw Error("Unable to find valid recovery factor")}}),o5=tt((e,t)=>{var r=Ei(),n=r.assert,i=r.parseBytes,s=r.cachedProperty;function o(l,u){this.eddsa=l,this._secret=i(u.secret),l.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=i(u.pub)}a(o,"Y"),o.fromPublic=function(l,u){return u instanceof o?u:new o(l,{pub:u})},o.fromSecret=function(l,u){return u instanceof o?u:new o(l,{secret:u})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var l=this.eddsa,u=this.hash(),c=l.encodingLength-1,d=u.slice(0,l.encodingLength);return d[0]&=248,d[c]&=127,d[c]|=64,d}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(l){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},o.prototype.verify=function(l,u){return this.eddsa.verify(l,u,this)},o.prototype.getSecret=function(l){return n(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},o.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},t.exports=o}),l5=tt((e,t)=>{var r=Oa(),n=Ei(),i=n.assert,s=n.cachedProperty,o=n.parseBytes;function l(u,c){this.eddsa=u,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(i(c.length===u.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,u.encodingLength),S:c.slice(u.encodingLength)}),i(c.R&&c.S,"Signature without R or S"),u.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}a(l,"z"),s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l}),u5=tt((e,t)=>{var r=eh(),n=th(),i=Ei(),s=i.assert,o=i.parseBytes,l=o5(),u=l5();function c(d){if(s(d==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(d);d=n[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}a(c,"T"),t.exports=c,c.prototype.sign=function(d,f){d=o(d);var g=this.keyFromSecret(f),m=this.hashInt(g.messagePrefix(),d),y=this.g.mul(m),_=this.encodePoint(y),A=this.hashInt(_,g.pubBytes(),d).mul(g.priv()),I=m.add(A).umod(this.curve.n);return this.makeSignature({R:y,S:I,Rencoded:_})},c.prototype.verify=function(d,f,g){if(d=o(d),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var m=this.keyFromPublic(g),y=this.hashInt(f.Rencoded(),m.pubBytes(),d),_=this.g.mul(f.S()),A=f.R().add(m.pub().mul(y));return A.eq(_)},c.prototype.hashInt=function(){for(var d=this.hash(),f=0;f<arguments.length;f++)d.update(arguments[f]);return i.intFromLE(d.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(d){return l.fromPublic(this,d)},c.prototype.keyFromSecret=function(d){return l.fromSecret(this,d)},c.prototype.makeSignature=function(d){return d instanceof u?d:new u(this,d)},c.prototype.encodePoint=function(d){var f=d.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=d.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(d){d=i.parseBytes(d);var f=d.length-1,g=d.slice(0,f).concat(d[f]&-129),m=(d[f]&128)!==0,y=i.intFromLE(g);return this.curve.pointFromY(y,m)},c.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(d){return i.intFromLE(d)},c.prototype.isPoint=function(d){return d instanceof this.pointClass}}),c5=tt(e=>{var t=e;t.version=Kx().version,t.utils=Ei(),t.rand=jg(),t.curve=Pg(),t.curves=th(),t.ec=s5(),t.eddsa=u5()}),d5=tt((e,t)=>{(function(r,n){function i(h,w){if(!h)throw Error(w||"Assertion failed")}a(i,"P");function s(h,w){h.super_=w;var b=a(function(){},"X");b.prototype=w.prototype,h.prototype=new b,h.prototype.constructor=h}a(s,"O");function o(h,w,b){if(o.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(h||0,w||10,b||"be"))}a(o,"Y"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Dn(),mr(An)).Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,b){if(typeof h=="number")return this._initNumber(h,w,b);if(typeof h=="object")return this._initArray(h,w,b);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(w===16?this._parseHex(h,x,b):(this._parseBase(h,w,x),b==="le"&&this._initArray(this.toArray(),w,b)))},o.prototype._initNumber=function(h,w,b){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),w,b)},o.prototype._initArray=function(h,w,b){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(b==="be")for(x=h.length-1,E=0;x>=0;x-=3)T=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(b==="le")for(x=0,E=0;x<h.length;x+=3)T=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(h,w){var b=h.charCodeAt(w);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}a(u,"H");function c(h,w,b){var x=u(h,b);return b-1>=w&&(x|=u(h,b-1)<<4),x}a(c,"T"),o.prototype._parseHex=function(h,w,b){this.length=Math.ceil((h.length-w)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(b==="be")for(x=h.length-1;x>=w;x-=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=h.length-w;for(x=k%2===0?w+1:w;x<h.length;x+=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function d(h,w,b,x){for(var E=0,T=Math.min(h.length,b),N=w;N<T;N++){var k=h.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}a(d,"f"),o.prototype._parseBase=function(h,w,b){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=w)x++;x--,E=E/w|0;for(var T=h.length-b,N=T%x,k=Math.min(T,T-N)+b,p=0,S=b;S<k;S+=x)p=d(h,S,S+x,w),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=d(h,S,h.length,w),S=0;S<N;S++)C*=w;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(h){h.words=Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var b;if(h===16||h==="hex"){b="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?b=f[6-k.length]+k+b:b=k+b}for(E!==0&&(b=E.toString(16)+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(h===(h|0)&&h>=2&&h<=36){var p=g[h],S=m[h];b="";var C=this.clone();for(C.negative=0;!C.isZero();){var M=C.modn(S).toString(h);C=C.idivn(S),C.isZero()?b=M+b:b=f[p-M.length]+M+b}for(this.isZero()&&(b="0"+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(h,w){return i(typeof l<"u"),this.toArrayLike(l,h,w)},o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)},o.prototype.toArrayLike=function(h,w,b){var x=this.byteLength(),E=b||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new h(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,b=0;return w>=4096&&(b+=13,w>>>=13),w>=64&&(b+=7,w>>>=7),w>=8&&(b+=4,w>>>=4),w>=2&&(b+=2,w>>>=2),b+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,b=0;return(w&8191)===0&&(b+=13,w>>>=13),(w&127)===0&&(b+=7,w>>>=7),(w&15)===0&&(b+=4,w>>>=4),(w&3)===0&&(b+=2,w>>>=2),(w&1)===0&&b++,b},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function y(h){for(var w=Array(h.bitLength()),b=0;b<w.length;b++){var x=b/26|0,E=b%26;w[b]=(h.words[x]&1<<E)>>>E}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var b=this._zeroBits(this.words[w]);if(h+=b,b!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this.strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]&h.words[b];return this.length=w.length,this.strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,b;this.length>h.length?(w=this,b=h):(w=h,b=this);for(var x=0;x<b.length;x++)this.words[x]=w.words[x]^b.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this.strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,b=h%26;this._expand(w),b>0&&w--;for(var x=0;x<w;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var b=h/26|0,x=h%26;return this._expand(b+1),w?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var b,x;this.length>h.length?(b=this,x=h):(b=h,x=this);for(var E=0,T=0;T<x.length;T++)w=(b.words[T]|0)+(x.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;for(;E!==0&&T<b.length;T++)w=(b.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;T<b.length;T++)this.words[T]=b.words[T];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var b=this.cmp(h);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;b>0?(x=this,E=h):(x=h,E=this);for(var T=0,N=0;N<E.length;N++)w=(x.words[N]|0)-(E.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<x.length;N++)w=(x.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function _(h,w,b){b.negative=w.negative^h.negative;var x=h.length+w.length|0;b.length=x,x=x-1|0;var E=h.words[0]|0,T=w.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;b.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,M=p&67108863,U=Math.min(S,w.length-1),B=Math.max(0,S-h.length+1);B<=U;B++){var G=S-B|0;E=h.words[G]|0,T=w.words[B]|0,N=E*T+M,C+=N/67108864|0,M=N&67108863}b.words[S]=M|0,p=C|0}return p!==0?b.words[S]=p|0:b.length--,b.strip()}a(_,"h");var A=a(function(h,w,b){var x=h.words,E=w.words,T=b.words,N=0,k,p,S,C=x[0]|0,M=C&8191,U=C>>>13,B=x[1]|0,G=B&8191,J=B>>>13,ue=x[2]|0,se=ue&8191,oe=ue>>>13,Pe=x[3]|0,Ee=Pe&8191,be=Pe>>>13,Ce=x[4]|0,X=Ce&8191,ce=Ce>>>13,te=x[5]|0,ie=te&8191,me=te>>>13,xe=x[6]|0,Oe=xe&8191,de=xe>>>13,Q=x[7]|0,ne=Q&8191,q=Q>>>13,$=x[8]|0,re=$&8191,ae=$>>>13,Be=x[9]|0,Ie=Be&8191,Ke=Be>>>13,kt=E[0]|0,Te=kt&8191,Xe=kt>>>13,we=E[1]|0,Ne=we&8191,Fe=we>>>13,Ze=E[2]|0,Ue=Ze&8191,qe=Ze>>>13,Rt=E[3]|0,Je=Rt&8191,Re=Rt>>>13,et=E[4]|0,ze=et&8191,rt=et>>>13,Tt=E[5]|0,pe=Tt&8191,ye=Tt>>>13,$e=E[6]|0,Le=$e&8191,He=$e>>>13,ut=E[7]|0,he=ut&8191,je=ut>>>13,lt=E[8]|0,Me=lt&8191,ot=lt>>>13,Ft=E[9]|0,at=Ft&8191,mt=Ft>>>13;b.negative=h.negative^w.negative,b.length=19,k=Math.imul(M,Te),p=Math.imul(M,Xe),p=p+Math.imul(U,Te)|0,S=Math.imul(U,Xe);var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(G,Te),p=Math.imul(G,Xe),p=p+Math.imul(J,Te)|0,S=Math.imul(J,Xe),k=k+Math.imul(M,Ne)|0,p=p+Math.imul(M,Fe)|0,p=p+Math.imul(U,Ne)|0,S=S+Math.imul(U,Fe)|0;var Qt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,k=Math.imul(se,Te),p=Math.imul(se,Xe),p=p+Math.imul(oe,Te)|0,S=Math.imul(oe,Xe),k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,Fe)|0,p=p+Math.imul(J,Ne)|0,S=S+Math.imul(J,Fe)|0,k=k+Math.imul(M,Ue)|0,p=p+Math.imul(M,qe)|0,p=p+Math.imul(U,Ue)|0,S=S+Math.imul(U,qe)|0;var nt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,k=Math.imul(Ee,Te),p=Math.imul(Ee,Xe),p=p+Math.imul(be,Te)|0,S=Math.imul(be,Xe),k=k+Math.imul(se,Ne)|0,p=p+Math.imul(se,Fe)|0,p=p+Math.imul(oe,Ne)|0,S=S+Math.imul(oe,Fe)|0,k=k+Math.imul(G,Ue)|0,p=p+Math.imul(G,qe)|0,p=p+Math.imul(J,Ue)|0,S=S+Math.imul(J,qe)|0,k=k+Math.imul(M,Je)|0,p=p+Math.imul(M,Re)|0,p=p+Math.imul(U,Je)|0,S=S+Math.imul(U,Re)|0;var ft=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(X,Te),p=Math.imul(X,Xe),p=p+Math.imul(ce,Te)|0,S=Math.imul(ce,Xe),k=k+Math.imul(Ee,Ne)|0,p=p+Math.imul(Ee,Fe)|0,p=p+Math.imul(be,Ne)|0,S=S+Math.imul(be,Fe)|0,k=k+Math.imul(se,Ue)|0,p=p+Math.imul(se,qe)|0,p=p+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,qe)|0,k=k+Math.imul(G,Je)|0,p=p+Math.imul(G,Re)|0,p=p+Math.imul(J,Je)|0,S=S+Math.imul(J,Re)|0,k=k+Math.imul(M,ze)|0,p=p+Math.imul(M,rt)|0,p=p+Math.imul(U,ze)|0,S=S+Math.imul(U,rt)|0;var Mt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(ie,Te),p=Math.imul(ie,Xe),p=p+Math.imul(me,Te)|0,S=Math.imul(me,Xe),k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,Fe)|0,p=p+Math.imul(ce,Ne)|0,S=S+Math.imul(ce,Fe)|0,k=k+Math.imul(Ee,Ue)|0,p=p+Math.imul(Ee,qe)|0,p=p+Math.imul(be,Ue)|0,S=S+Math.imul(be,qe)|0,k=k+Math.imul(se,Je)|0,p=p+Math.imul(se,Re)|0,p=p+Math.imul(oe,Je)|0,S=S+Math.imul(oe,Re)|0,k=k+Math.imul(G,ze)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,ze)|0,S=S+Math.imul(J,rt)|0,k=k+Math.imul(M,pe)|0,p=p+Math.imul(M,ye)|0,p=p+Math.imul(U,pe)|0,S=S+Math.imul(U,ye)|0;var cr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(cr>>>26)|0,cr&=67108863,k=Math.imul(Oe,Te),p=Math.imul(Oe,Xe),p=p+Math.imul(de,Te)|0,S=Math.imul(de,Xe),k=k+Math.imul(ie,Ne)|0,p=p+Math.imul(ie,Fe)|0,p=p+Math.imul(me,Ne)|0,S=S+Math.imul(me,Fe)|0,k=k+Math.imul(X,Ue)|0,p=p+Math.imul(X,qe)|0,p=p+Math.imul(ce,Ue)|0,S=S+Math.imul(ce,qe)|0,k=k+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,Re)|0,p=p+Math.imul(be,Je)|0,S=S+Math.imul(be,Re)|0,k=k+Math.imul(se,ze)|0,p=p+Math.imul(se,rt)|0,p=p+Math.imul(oe,ze)|0,S=S+Math.imul(oe,rt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,ye)|0,p=p+Math.imul(J,pe)|0,S=S+Math.imul(J,ye)|0,k=k+Math.imul(M,Le)|0,p=p+Math.imul(M,He)|0,p=p+Math.imul(U,Le)|0,S=S+Math.imul(U,He)|0;var tr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(tr>>>26)|0,tr&=67108863,k=Math.imul(ne,Te),p=Math.imul(ne,Xe),p=p+Math.imul(q,Te)|0,S=Math.imul(q,Xe),k=k+Math.imul(Oe,Ne)|0,p=p+Math.imul(Oe,Fe)|0,p=p+Math.imul(de,Ne)|0,S=S+Math.imul(de,Fe)|0,k=k+Math.imul(ie,Ue)|0,p=p+Math.imul(ie,qe)|0,p=p+Math.imul(me,Ue)|0,S=S+Math.imul(me,qe)|0,k=k+Math.imul(X,Je)|0,p=p+Math.imul(X,Re)|0,p=p+Math.imul(ce,Je)|0,S=S+Math.imul(ce,Re)|0,k=k+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,rt)|0,p=p+Math.imul(be,ze)|0,S=S+Math.imul(be,rt)|0,k=k+Math.imul(se,pe)|0,p=p+Math.imul(se,ye)|0,p=p+Math.imul(oe,pe)|0,S=S+Math.imul(oe,ye)|0,k=k+Math.imul(G,Le)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(J,Le)|0,S=S+Math.imul(J,He)|0,k=k+Math.imul(M,he)|0,p=p+Math.imul(M,je)|0,p=p+Math.imul(U,he)|0,S=S+Math.imul(U,je)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(re,Te),p=Math.imul(re,Xe),p=p+Math.imul(ae,Te)|0,S=Math.imul(ae,Xe),k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,Fe)|0,p=p+Math.imul(q,Ne)|0,S=S+Math.imul(q,Fe)|0,k=k+Math.imul(Oe,Ue)|0,p=p+Math.imul(Oe,qe)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,qe)|0,k=k+Math.imul(ie,Je)|0,p=p+Math.imul(ie,Re)|0,p=p+Math.imul(me,Je)|0,S=S+Math.imul(me,Re)|0,k=k+Math.imul(X,ze)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(ce,ze)|0,S=S+Math.imul(ce,rt)|0,k=k+Math.imul(Ee,pe)|0,p=p+Math.imul(Ee,ye)|0,p=p+Math.imul(be,pe)|0,S=S+Math.imul(be,ye)|0,k=k+Math.imul(se,Le)|0,p=p+Math.imul(se,He)|0,p=p+Math.imul(oe,Le)|0,S=S+Math.imul(oe,He)|0,k=k+Math.imul(G,he)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,he)|0,S=S+Math.imul(J,je)|0,k=k+Math.imul(M,Me)|0,p=p+Math.imul(M,ot)|0,p=p+Math.imul(U,Me)|0,S=S+Math.imul(U,ot)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(Ie,Te),p=Math.imul(Ie,Xe),p=p+Math.imul(Ke,Te)|0,S=Math.imul(Ke,Xe),k=k+Math.imul(re,Ne)|0,p=p+Math.imul(re,Fe)|0,p=p+Math.imul(ae,Ne)|0,S=S+Math.imul(ae,Fe)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,qe)|0,p=p+Math.imul(q,Ue)|0,S=S+Math.imul(q,qe)|0,k=k+Math.imul(Oe,Je)|0,p=p+Math.imul(Oe,Re)|0,p=p+Math.imul(de,Je)|0,S=S+Math.imul(de,Re)|0,k=k+Math.imul(ie,ze)|0,p=p+Math.imul(ie,rt)|0,p=p+Math.imul(me,ze)|0,S=S+Math.imul(me,rt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,ye)|0,p=p+Math.imul(ce,pe)|0,S=S+Math.imul(ce,ye)|0,k=k+Math.imul(Ee,Le)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(be,Le)|0,S=S+Math.imul(be,He)|0,k=k+Math.imul(se,he)|0,p=p+Math.imul(se,je)|0,p=p+Math.imul(oe,he)|0,S=S+Math.imul(oe,je)|0,k=k+Math.imul(G,Me)|0,p=p+Math.imul(G,ot)|0,p=p+Math.imul(J,Me)|0,S=S+Math.imul(J,ot)|0,k=k+Math.imul(M,at)|0,p=p+Math.imul(M,mt)|0,p=p+Math.imul(U,at)|0,S=S+Math.imul(U,mt)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Ie,Ne),p=Math.imul(Ie,Fe),p=p+Math.imul(Ke,Ne)|0,S=Math.imul(Ke,Fe),k=k+Math.imul(re,Ue)|0,p=p+Math.imul(re,qe)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(ne,Je)|0,p=p+Math.imul(ne,Re)|0,p=p+Math.imul(q,Je)|0,S=S+Math.imul(q,Re)|0,k=k+Math.imul(Oe,ze)|0,p=p+Math.imul(Oe,rt)|0,p=p+Math.imul(de,ze)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(ie,pe)|0,p=p+Math.imul(ie,ye)|0,p=p+Math.imul(me,pe)|0,S=S+Math.imul(me,ye)|0,k=k+Math.imul(X,Le)|0,p=p+Math.imul(X,He)|0,p=p+Math.imul(ce,Le)|0,S=S+Math.imul(ce,He)|0,k=k+Math.imul(Ee,he)|0,p=p+Math.imul(Ee,je)|0,p=p+Math.imul(be,he)|0,S=S+Math.imul(be,je)|0,k=k+Math.imul(se,Me)|0,p=p+Math.imul(se,ot)|0,p=p+Math.imul(oe,Me)|0,S=S+Math.imul(oe,ot)|0,k=k+Math.imul(G,at)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,at)|0,S=S+Math.imul(J,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Ie,Ue),p=Math.imul(Ie,qe),p=p+Math.imul(Ke,Ue)|0,S=Math.imul(Ke,qe),k=k+Math.imul(re,Je)|0,p=p+Math.imul(re,Re)|0,p=p+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Re)|0,k=k+Math.imul(ne,ze)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(q,ze)|0,S=S+Math.imul(q,rt)|0,k=k+Math.imul(Oe,pe)|0,p=p+Math.imul(Oe,ye)|0,p=p+Math.imul(de,pe)|0,S=S+Math.imul(de,ye)|0,k=k+Math.imul(ie,Le)|0,p=p+Math.imul(ie,He)|0,p=p+Math.imul(me,Le)|0,S=S+Math.imul(me,He)|0,k=k+Math.imul(X,he)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(ce,he)|0,S=S+Math.imul(ce,je)|0,k=k+Math.imul(Ee,Me)|0,p=p+Math.imul(Ee,ot)|0,p=p+Math.imul(be,Me)|0,S=S+Math.imul(be,ot)|0,k=k+Math.imul(se,at)|0,p=p+Math.imul(se,mt)|0,p=p+Math.imul(oe,at)|0,S=S+Math.imul(oe,mt)|0;var Kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,k=Math.imul(Ie,Je),p=Math.imul(Ie,Re),p=p+Math.imul(Ke,Je)|0,S=Math.imul(Ke,Re),k=k+Math.imul(re,ze)|0,p=p+Math.imul(re,rt)|0,p=p+Math.imul(ae,ze)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,ye)|0,p=p+Math.imul(q,pe)|0,S=S+Math.imul(q,ye)|0,k=k+Math.imul(Oe,Le)|0,p=p+Math.imul(Oe,He)|0,p=p+Math.imul(de,Le)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(ie,he)|0,p=p+Math.imul(ie,je)|0,p=p+Math.imul(me,he)|0,S=S+Math.imul(me,je)|0,k=k+Math.imul(X,Me)|0,p=p+Math.imul(X,ot)|0,p=p+Math.imul(ce,Me)|0,S=S+Math.imul(ce,ot)|0,k=k+Math.imul(Ee,at)|0,p=p+Math.imul(Ee,mt)|0,p=p+Math.imul(be,at)|0,S=S+Math.imul(be,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Ie,ze),p=Math.imul(Ie,rt),p=p+Math.imul(Ke,ze)|0,S=Math.imul(Ke,rt),k=k+Math.imul(re,pe)|0,p=p+Math.imul(re,ye)|0,p=p+Math.imul(ae,pe)|0,S=S+Math.imul(ae,ye)|0,k=k+Math.imul(ne,Le)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(q,Le)|0,S=S+Math.imul(q,He)|0,k=k+Math.imul(Oe,he)|0,p=p+Math.imul(Oe,je)|0,p=p+Math.imul(de,he)|0,S=S+Math.imul(de,je)|0,k=k+Math.imul(ie,Me)|0,p=p+Math.imul(ie,ot)|0,p=p+Math.imul(me,Me)|0,S=S+Math.imul(me,ot)|0,k=k+Math.imul(X,at)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(ce,at)|0,S=S+Math.imul(ce,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Ie,pe),p=Math.imul(Ie,ye),p=p+Math.imul(Ke,pe)|0,S=Math.imul(Ke,ye),k=k+Math.imul(re,Le)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ae,Le)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(ne,he)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(q,he)|0,S=S+Math.imul(q,je)|0,k=k+Math.imul(Oe,Me)|0,p=p+Math.imul(Oe,ot)|0,p=p+Math.imul(de,Me)|0,S=S+Math.imul(de,ot)|0,k=k+Math.imul(ie,at)|0,p=p+Math.imul(ie,mt)|0,p=p+Math.imul(me,at)|0,S=S+Math.imul(me,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Ie,Le),p=Math.imul(Ie,He),p=p+Math.imul(Ke,Le)|0,S=Math.imul(Ke,He),k=k+Math.imul(re,he)|0,p=p+Math.imul(re,je)|0,p=p+Math.imul(ae,he)|0,S=S+Math.imul(ae,je)|0,k=k+Math.imul(ne,Me)|0,p=p+Math.imul(ne,ot)|0,p=p+Math.imul(q,Me)|0,S=S+Math.imul(q,ot)|0,k=k+Math.imul(Oe,at)|0,p=p+Math.imul(Oe,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var Ar=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,k=Math.imul(Ie,he),p=Math.imul(Ie,je),p=p+Math.imul(Ke,he)|0,S=Math.imul(Ke,je),k=k+Math.imul(re,Me)|0,p=p+Math.imul(re,ot)|0,p=p+Math.imul(ae,Me)|0,S=S+Math.imul(ae,ot)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(q,at)|0,S=S+Math.imul(q,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Ie,Me),p=Math.imul(Ie,ot),p=p+Math.imul(Ke,Me)|0,S=Math.imul(Ke,ot),k=k+Math.imul(re,at)|0,p=p+Math.imul(re,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var Jr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(Ie,at),p=Math.imul(Ie,mt),p=p+Math.imul(Ke,at)|0,S=Math.imul(Ke,mt);var Yr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,T[0]=Kt,T[1]=Qt,T[2]=nt,T[3]=ft,T[4]=Mt,T[5]=cr,T[6]=tr,T[7]=xr,T[8]=Pr,T[9]=kr,T[10]=br,T[11]=Kr,T[12]=$r,T[13]=zr,T[14]=Zr,T[15]=Ar,T[16]=Br,T[17]=Jr,T[18]=Yr,N!==0&&(T[19]=N,b.length++),b},"E");Math.imul||(A=_);function I(h,w,b){b.negative=w.negative^h.negative,b.length=h.length+w.length;for(var x=0,E=0,T=0;T<b.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,w.length-1),S=Math.max(0,T-h.length+1);S<=p;S++){var C=T-S,M=h.words[C]|0,U=w.words[S]|0,B=M*U,G=B&67108863;N=N+(B/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,E+=N>>>26,N&=67108863}b.words[T]=k,x=N,N=E}return x!==0?b.words[T]=x:b.length--,b.strip()}a(I,"D");function O(h,w,b){var x=new R;return x.mulp(h,w,b)}a(O,"I"),o.prototype.mulTo=function(h,w){var b,x=this.length+h.length;return this.length===10&&h.length===10?b=A(this,h,w):x<63?b=_(this,h,w):x<1024?b=I(this,h,w):b=O(this,h,w),b};function R(h,w){this.x=h,this.y=w}a(R,"L"),R.prototype.makeRBT=function(h){for(var w=Array(h),b=o.prototype._countBits(h)-1,x=0;x<h;x++)w[x]=this.revBin(x,b,h);return w},R.prototype.revBin=function(h,w,b){if(h===0||h===b-1)return h;for(var x=0,E=0;E<w;E++)x|=(h&1)<<w-E-1,h>>=1;return x},R.prototype.permute=function(h,w,b,x,E,T){for(var N=0;N<T;N++)x[N]=w[h[N]],E[N]=b[h[N]]},R.prototype.transform=function(h,w,b,x,E,T){this.permute(T,h,w,b,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var M=p,U=S,B=0;B<N;B++){var G=b[C+B],J=x[C+B],ue=b[C+B+N],se=x[C+B+N],oe=M*ue-U*se;se=M*se+U*ue,ue=oe,b[C+B]=G+ue,x[C+B]=J+se,b[C+B+N]=G-ue,x[C+B+N]=J-se,B!==k&&(oe=p*M-S*U,U=p*U+S*M,M=oe)}},R.prototype.guessLen13b=function(h,w){var b=Math.max(w,h)|1,x=b&1,E=0;for(b=b/2|0;b;b=b>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(h,w,b){if(!(b<=1))for(var x=0;x<b/2;x++){var E=h[x];h[x]=h[b-x-1],h[b-x-1]=E,E=w[x],w[x]=-w[b-x-1],w[b-x-1]=-E}},R.prototype.normalize13b=function(h,w){for(var b=0,x=0;x<w/2;x++){var E=Math.round(h[2*x+1]/w)*8192+Math.round(h[2*x]/w)+b;h[x]=E&67108863,E<67108864?b=0:b=E/67108864|0}return h},R.prototype.convert13b=function(h,w,b,x){for(var E=0,T=0;T<w;T++)E=E+(h[T]|0),b[2*T]=E&8191,E=E>>>13,b[2*T+1]=E&8191,E=E>>>13;for(T=2*w;T<x;++T)b[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(h){for(var w=Array(h),b=0;b<h;b++)w[b]=0;return w},R.prototype.mulp=function(h,w,b){var x=2*this.guessLen13b(h.length,w.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),M=Array(x),U=b.words;U.length=x,this.convert13b(h.words,h.length,N,x),this.convert13b(w.words,w.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,M,x,E);for(var B=0;B<x;B++){var G=k[B]*C[B]-p[B]*M[B];p[B]=k[B]*M[B]+p[B]*C[B],k[B]=G}return this.conjugate(k,p,x),this.transform(k,p,U,T,x,E),this.conjugate(U,T,x),this.normalize13b(U,x),b.negative=h.negative^w.negative,b.length=h.length+w.length,b.strip()},o.prototype.mul=function(h){var w=new o(null);return w.words=Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=Array(this.length+h.length),O(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){i(typeof h=="number"),i(h<67108864);for(var w=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*h,E=(x&67108863)+(w&67108863);w>>=26,w+=x/67108864|0,w+=E>>>26,this.words[b]=E&67108863}return w!==0&&(this.words[b]=w,this.length++),this.length=h===0?1:this.length,this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=y(h);if(w.length===0)return new o(1);for(var b=this,x=0;x<w.length&&w[x]===0;x++,b=b.sqr());if(++x<w.length)for(var E=b.sqr();x<w.length;x++,E=E.sqr())w[x]!==0&&(b=b.mul(E));return b},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=67108863>>>26-w<<26-w,E;if(w!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<w;this.words[E]=k|T,T=N>>>26-w}T&&(this.words[E]=T,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,b){i(typeof h=="number"&&h>=0);var x;w?x=(w-w%26)/26:x=0;var E=h%26,T=Math.min((h-E)/26,this.length),N=67108863^67108863>>>E<<E,k=b;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(h,w,b){return i(this.negative===0),this.iushrn(h,w,b)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return!1;var E=this.words[b];return!!(E&x)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(w!==0&&b++,this.length=Math.min(b,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,b){var x=h.length+b,E;this._expand(x);var T,N=0;for(E=0;E<h.length;E++){T=(this.words[E+b]|0)+N;var k=(h.words[E]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+b]=T&67108863}for(;E<this.length-b;E++)T=(this.words[E+b]|0)+N,N=T>>26,this.words[E+b]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(h,w){var b=this.length-h.length,x=this.clone(),E=h,T=E.words[E.length-1]|0,N=this._countBits(T);b=26-N,b!==0&&(E=E.ushln(b),x.iushln(b),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var M=k-1;M>=0;M--){var U=(x.words[E.length+M]|0)*67108864+(x.words[E.length+M-1]|0);for(U=Math.min(U/T|0,67108863),x._ishlnsubmul(E,U,M);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(E,1,M),!x.isZero()&&(x.negative^=1);p&&(p.words[M]=U)}return p&&p.strip(),x.strip(),w!=="div"&&b!==0&&x.iushrn(b),{div:p||null,mod:x}},o.prototype.divmod=function(h,w,b){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,E,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,w),w!=="mod"&&(x=T.div.neg()),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.iadd(h)),{div:x,mod:E}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),w),w!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&h.negative)!==0?(T=this.neg().divmod(h.neg(),w),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.isub(h)),{div:T.div,mod:E}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var b=w.div.negative!==0?w.mod.isub(h):w.mod,x=h.ushrn(1),E=h.andln(1),T=b.cmp(x);return T<0||E===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(h){i(h<=67108863);for(var w=67108864%h,b=0,x=this.length-1;x>=0;x--)b=(w*b+(this.words[x]|0))%h;return b},o.prototype.idivn=function(h){i(h<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+w*67108864;this.words[b]=x/h|0,w=x%h}return this.strip()},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&b.isEven();)w.iushrn(1),b.iushrn(1),++k;for(var p=b.clone(),S=w.clone();!w.isZero();){for(var C=0,M=1;(w.words[0]&M)===0&&C<26;++C,M<<=1);if(C>0)for(w.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var U=0,B=1;(b.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(T),E.isub(N)):(b.isub(w),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:b.iushln(k)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=b.clone();w.cmpn(1)>0&&b.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(b.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(b.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(E)):(b.isub(w),E.isub(x))}var C;return w.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(h),C},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),b=h.clone();w.negative=0,b.negative=0;for(var x=0;w.isEven()&&b.isEven();x++)w.iushrn(1),b.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=w.cmp(b);if(E<0){var T=w;w=b,b=T}else if(E===0||b.cmpn(1)===0)break;w.isub(b)}while(!0);return b.iushln(x)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var E=x,T=b;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var b;if(this.length>1)b=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var x=this.words[0]|0;b=x===h?0:x<h?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,E=h.words[b]|0;if(x!==E){x<E?w=-1:x>E&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new F(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function D(h,w){this.name=h,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(D,"y"),D.prototype._tmp=function(){var h=new o(null);return h.words=Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var w=h,b;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),b=w.bitLength();while(b>this.n);var x=b<this.n?-1:w.ucmp(this.p);return x===0?(w.words[0]=0,w.length=1):x>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(h,w){h.iushrn(this.n,0,w)},D.prototype.imulK=function(h){return h.imul(this.k)};function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(P,"c"),s(P,D),P.prototype.split=function(h,w){for(var b=4194303,x=Math.min(h.length,9),E=0;E<x;E++)w.words[E]=h.words[E];if(w.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(w.words[w.length++]=T&b,E=10;E<h.length;E++){var N=h.words[E]|0;h.words[E-10]=(N&b)<<4|T>>>22,T=N}T>>>=22,h.words[E-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},P.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,b=0;b<h.length;b++){var x=h.words[b]|0;w+=x*977,h.words[b]=w&67108863,w=x*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function Z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"o"),s(Z,D);function V(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(V,"Q"),s(V,D);function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(W,"U"),s(W,D),W.prototype.imulK=function(h){for(var w=0,b=0;b<h.length;b++){var x=(h.words[b]|0)*19+w,E=x&67108863;x>>>=26,h.words[b]=E,w=x}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(L[h])return L[h];var w;if(h==="k256")w=new P;else if(h==="p224")w=new Z;else if(h==="p192")w=new V;else if(h==="p25519")w=new W;else throw Error("Unknown prime "+h);return L[h]=w,w};function F(h){if(typeof h=="string"){var w=o._prime(h);this.m=w.p,this.prime=w}else i(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}a(F,"p"),F.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},F.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},F.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},F.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},F.prototype.add=function(h,w){this._verify2(h,w);var b=h.add(w);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},F.prototype.iadd=function(h,w){this._verify2(h,w);var b=h.iadd(w);return b.cmp(this.m)>=0&&b.isub(this.m),b},F.prototype.sub=function(h,w){this._verify2(h,w);var b=h.sub(w);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},F.prototype.isub=function(h,w){this._verify2(h,w);var b=h.isub(w);return b.cmpn(0)<0&&b.iadd(this.m),b},F.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},F.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},F.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},F.prototype.isqr=function(h){return this.imul(h,h.clone())},F.prototype.sqr=function(h){return this.mul(h,h)},F.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(h,b)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(h,x.addn(1).iushrn(1)),M=this.pow(h,x),U=E;M.cmp(T)!==0;){for(var B=M,G=0;B.cmp(T)!==0;G++)B=B.redSqr();i(G<U);var J=this.pow(S,new o(1).iushln(U-G-1));C=C.redMul(J),S=J.redSqr(),M=M.redMul(S),U=G}return C},F.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var b=4,x=Array(1<<b);x[0]=new o(1).toRed(this),x[1]=h;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],h);var T=x[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),E=w.length-1;E>=0;E--){for(var S=w.words[E],C=p-1;C>=0;C--){var M=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),M===0&&N===0){k=0;continue}N<<=1,N|=M,k++,!(k!==b&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},F.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new Y(h)};function Y(h){F.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Y,"s"),s(Y,F),Y.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Y.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},Y.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var b=h.imul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var b=h.mul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),f5=tt((e,t)=>{var r=c5(),n=d5();t.exports=function(l){return new s(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1;function s(l){this.curveType=i[l],!this.curveType&&(this.curveType={name:l}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}a(s,"O"),s.prototype.generateKeys=function(l,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,u)},s.prototype.computeSecret=function(l,u,c){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var d=this.curve.keyFromPublic(l).getPublic(),f=d.mul(this.keys.getPrivate()).getX();return o(f,c,this.curveType.byteLength)},s.prototype.getPublicKey=function(l,u){var c=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,l)},s.prototype.getPrivateKey=function(l){return o(this.keys.getPrivate(),l)},s.prototype.setPublicKey=function(l,u){return u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u)),this.keys._importPublic(l),this},s.prototype.setPrivateKey=function(l,u){u=u||"utf8",!Buffer.isBuffer(l)&&(l=new Buffer(l,u));var c=new n(l);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(l,u,c){Array.isArray(l)||(l=l.toArray());var d=new Buffer(l);if(c&&d.length<c){var f=new Buffer(c-d.length);f.fill(0),d=Buffer.concat([f,d])}return u?d.toString(u):d}a(o,"Y")}),h5=tt((e,t)=>{var r=(Ai(),mr(di)).createECDH;t.exports=r||f5()}),p5=tt((e,t)=>{(function(r,n){function i(h,w){if(!h)throw Error(w||"Assertion failed")}a(i,"P");function s(h,w){h.super_=w;var b=a(function(){},"X");b.prototype=w.prototype,h.prototype=new b,h.prototype.constructor=h}a(s,"O");function o(h,w,b){if(o.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(h||0,w||10,b||"be"))}a(o,"Y"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Dn(),mr(An)).Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,b){if(typeof h=="number")return this._initNumber(h,w,b);if(typeof h=="object")return this._initArray(h,w,b);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(w===16?this._parseHex(h,x,b):(this._parseBase(h,w,x),b==="le"&&this._initArray(this.toArray(),w,b)))},o.prototype._initNumber=function(h,w,b){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),w,b)},o.prototype._initArray=function(h,w,b){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(b==="be")for(x=h.length-1,E=0;x>=0;x-=3)T=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(b==="le")for(x=0,E=0;x<h.length;x+=3)T=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(h,w){var b=h.charCodeAt(w);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}a(u,"H");function c(h,w,b){var x=u(h,b);return b-1>=w&&(x|=u(h,b-1)<<4),x}a(c,"T"),o.prototype._parseHex=function(h,w,b){this.length=Math.ceil((h.length-w)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(b==="be")for(x=h.length-1;x>=w;x-=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=h.length-w;for(x=k%2===0?w+1:w;x<h.length;x+=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function d(h,w,b,x){for(var E=0,T=Math.min(h.length,b),N=w;N<T;N++){var k=h.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}a(d,"f"),o.prototype._parseBase=function(h,w,b){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=w)x++;x--,E=E/w|0;for(var T=h.length-b,N=T%x,k=Math.min(T,T-N)+b,p=0,S=b;S<k;S+=x)p=d(h,S,S+x,w),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=d(h,S,h.length,w),S=0;S<N;S++)C*=w;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(h){h.words=Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var b;if(h===16||h==="hex"){b="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?b=f[6-k.length]+k+b:b=k+b}for(E!==0&&(b=E.toString(16)+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(h===(h|0)&&h>=2&&h<=36){var p=g[h],S=m[h];b="";var C=this.clone();for(C.negative=0;!C.isZero();){var M=C.modn(S).toString(h);C=C.idivn(S),C.isZero()?b=M+b:b=f[p-M.length]+M+b}for(this.isZero()&&(b="0"+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(h,w){return i(typeof l<"u"),this.toArrayLike(l,h,w)},o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)},o.prototype.toArrayLike=function(h,w,b){var x=this.byteLength(),E=b||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new h(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,b=0;return w>=4096&&(b+=13,w>>>=13),w>=64&&(b+=7,w>>>=7),w>=8&&(b+=4,w>>>=4),w>=2&&(b+=2,w>>>=2),b+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,b=0;return(w&8191)===0&&(b+=13,w>>>=13),(w&127)===0&&(b+=7,w>>>=7),(w&15)===0&&(b+=4,w>>>=4),(w&3)===0&&(b+=2,w>>>=2),(w&1)===0&&b++,b},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function y(h){for(var w=Array(h.bitLength()),b=0;b<w.length;b++){var x=b/26|0,E=b%26;w[b]=(h.words[x]&1<<E)>>>E}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var b=this._zeroBits(this.words[w]);if(h+=b,b!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this.strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]&h.words[b];return this.length=w.length,this.strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,b;this.length>h.length?(w=this,b=h):(w=h,b=this);for(var x=0;x<b.length;x++)this.words[x]=w.words[x]^b.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this.strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,b=h%26;this._expand(w),b>0&&w--;for(var x=0;x<w;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var b=h/26|0,x=h%26;return this._expand(b+1),w?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var b,x;this.length>h.length?(b=this,x=h):(b=h,x=this);for(var E=0,T=0;T<x.length;T++)w=(b.words[T]|0)+(x.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;for(;E!==0&&T<b.length;T++)w=(b.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;T<b.length;T++)this.words[T]=b.words[T];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var b=this.cmp(h);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;b>0?(x=this,E=h):(x=h,E=this);for(var T=0,N=0;N<E.length;N++)w=(x.words[N]|0)-(E.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<x.length;N++)w=(x.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function _(h,w,b){b.negative=w.negative^h.negative;var x=h.length+w.length|0;b.length=x,x=x-1|0;var E=h.words[0]|0,T=w.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;b.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,M=p&67108863,U=Math.min(S,w.length-1),B=Math.max(0,S-h.length+1);B<=U;B++){var G=S-B|0;E=h.words[G]|0,T=w.words[B]|0,N=E*T+M,C+=N/67108864|0,M=N&67108863}b.words[S]=M|0,p=C|0}return p!==0?b.words[S]=p|0:b.length--,b.strip()}a(_,"h");var A=a(function(h,w,b){var x=h.words,E=w.words,T=b.words,N=0,k,p,S,C=x[0]|0,M=C&8191,U=C>>>13,B=x[1]|0,G=B&8191,J=B>>>13,ue=x[2]|0,se=ue&8191,oe=ue>>>13,Pe=x[3]|0,Ee=Pe&8191,be=Pe>>>13,Ce=x[4]|0,X=Ce&8191,ce=Ce>>>13,te=x[5]|0,ie=te&8191,me=te>>>13,xe=x[6]|0,Oe=xe&8191,de=xe>>>13,Q=x[7]|0,ne=Q&8191,q=Q>>>13,$=x[8]|0,re=$&8191,ae=$>>>13,Be=x[9]|0,Ie=Be&8191,Ke=Be>>>13,kt=E[0]|0,Te=kt&8191,Xe=kt>>>13,we=E[1]|0,Ne=we&8191,Fe=we>>>13,Ze=E[2]|0,Ue=Ze&8191,qe=Ze>>>13,Rt=E[3]|0,Je=Rt&8191,Re=Rt>>>13,et=E[4]|0,ze=et&8191,rt=et>>>13,Tt=E[5]|0,pe=Tt&8191,ye=Tt>>>13,$e=E[6]|0,Le=$e&8191,He=$e>>>13,ut=E[7]|0,he=ut&8191,je=ut>>>13,lt=E[8]|0,Me=lt&8191,ot=lt>>>13,Ft=E[9]|0,at=Ft&8191,mt=Ft>>>13;b.negative=h.negative^w.negative,b.length=19,k=Math.imul(M,Te),p=Math.imul(M,Xe),p=p+Math.imul(U,Te)|0,S=Math.imul(U,Xe);var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(G,Te),p=Math.imul(G,Xe),p=p+Math.imul(J,Te)|0,S=Math.imul(J,Xe),k=k+Math.imul(M,Ne)|0,p=p+Math.imul(M,Fe)|0,p=p+Math.imul(U,Ne)|0,S=S+Math.imul(U,Fe)|0;var Qt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,k=Math.imul(se,Te),p=Math.imul(se,Xe),p=p+Math.imul(oe,Te)|0,S=Math.imul(oe,Xe),k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,Fe)|0,p=p+Math.imul(J,Ne)|0,S=S+Math.imul(J,Fe)|0,k=k+Math.imul(M,Ue)|0,p=p+Math.imul(M,qe)|0,p=p+Math.imul(U,Ue)|0,S=S+Math.imul(U,qe)|0;var nt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,k=Math.imul(Ee,Te),p=Math.imul(Ee,Xe),p=p+Math.imul(be,Te)|0,S=Math.imul(be,Xe),k=k+Math.imul(se,Ne)|0,p=p+Math.imul(se,Fe)|0,p=p+Math.imul(oe,Ne)|0,S=S+Math.imul(oe,Fe)|0,k=k+Math.imul(G,Ue)|0,p=p+Math.imul(G,qe)|0,p=p+Math.imul(J,Ue)|0,S=S+Math.imul(J,qe)|0,k=k+Math.imul(M,Je)|0,p=p+Math.imul(M,Re)|0,p=p+Math.imul(U,Je)|0,S=S+Math.imul(U,Re)|0;var ft=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(X,Te),p=Math.imul(X,Xe),p=p+Math.imul(ce,Te)|0,S=Math.imul(ce,Xe),k=k+Math.imul(Ee,Ne)|0,p=p+Math.imul(Ee,Fe)|0,p=p+Math.imul(be,Ne)|0,S=S+Math.imul(be,Fe)|0,k=k+Math.imul(se,Ue)|0,p=p+Math.imul(se,qe)|0,p=p+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,qe)|0,k=k+Math.imul(G,Je)|0,p=p+Math.imul(G,Re)|0,p=p+Math.imul(J,Je)|0,S=S+Math.imul(J,Re)|0,k=k+Math.imul(M,ze)|0,p=p+Math.imul(M,rt)|0,p=p+Math.imul(U,ze)|0,S=S+Math.imul(U,rt)|0;var Mt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(ie,Te),p=Math.imul(ie,Xe),p=p+Math.imul(me,Te)|0,S=Math.imul(me,Xe),k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,Fe)|0,p=p+Math.imul(ce,Ne)|0,S=S+Math.imul(ce,Fe)|0,k=k+Math.imul(Ee,Ue)|0,p=p+Math.imul(Ee,qe)|0,p=p+Math.imul(be,Ue)|0,S=S+Math.imul(be,qe)|0,k=k+Math.imul(se,Je)|0,p=p+Math.imul(se,Re)|0,p=p+Math.imul(oe,Je)|0,S=S+Math.imul(oe,Re)|0,k=k+Math.imul(G,ze)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,ze)|0,S=S+Math.imul(J,rt)|0,k=k+Math.imul(M,pe)|0,p=p+Math.imul(M,ye)|0,p=p+Math.imul(U,pe)|0,S=S+Math.imul(U,ye)|0;var cr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(cr>>>26)|0,cr&=67108863,k=Math.imul(Oe,Te),p=Math.imul(Oe,Xe),p=p+Math.imul(de,Te)|0,S=Math.imul(de,Xe),k=k+Math.imul(ie,Ne)|0,p=p+Math.imul(ie,Fe)|0,p=p+Math.imul(me,Ne)|0,S=S+Math.imul(me,Fe)|0,k=k+Math.imul(X,Ue)|0,p=p+Math.imul(X,qe)|0,p=p+Math.imul(ce,Ue)|0,S=S+Math.imul(ce,qe)|0,k=k+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,Re)|0,p=p+Math.imul(be,Je)|0,S=S+Math.imul(be,Re)|0,k=k+Math.imul(se,ze)|0,p=p+Math.imul(se,rt)|0,p=p+Math.imul(oe,ze)|0,S=S+Math.imul(oe,rt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,ye)|0,p=p+Math.imul(J,pe)|0,S=S+Math.imul(J,ye)|0,k=k+Math.imul(M,Le)|0,p=p+Math.imul(M,He)|0,p=p+Math.imul(U,Le)|0,S=S+Math.imul(U,He)|0;var tr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(tr>>>26)|0,tr&=67108863,k=Math.imul(ne,Te),p=Math.imul(ne,Xe),p=p+Math.imul(q,Te)|0,S=Math.imul(q,Xe),k=k+Math.imul(Oe,Ne)|0,p=p+Math.imul(Oe,Fe)|0,p=p+Math.imul(de,Ne)|0,S=S+Math.imul(de,Fe)|0,k=k+Math.imul(ie,Ue)|0,p=p+Math.imul(ie,qe)|0,p=p+Math.imul(me,Ue)|0,S=S+Math.imul(me,qe)|0,k=k+Math.imul(X,Je)|0,p=p+Math.imul(X,Re)|0,p=p+Math.imul(ce,Je)|0,S=S+Math.imul(ce,Re)|0,k=k+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,rt)|0,p=p+Math.imul(be,ze)|0,S=S+Math.imul(be,rt)|0,k=k+Math.imul(se,pe)|0,p=p+Math.imul(se,ye)|0,p=p+Math.imul(oe,pe)|0,S=S+Math.imul(oe,ye)|0,k=k+Math.imul(G,Le)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(J,Le)|0,S=S+Math.imul(J,He)|0,k=k+Math.imul(M,he)|0,p=p+Math.imul(M,je)|0,p=p+Math.imul(U,he)|0,S=S+Math.imul(U,je)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(re,Te),p=Math.imul(re,Xe),p=p+Math.imul(ae,Te)|0,S=Math.imul(ae,Xe),k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,Fe)|0,p=p+Math.imul(q,Ne)|0,S=S+Math.imul(q,Fe)|0,k=k+Math.imul(Oe,Ue)|0,p=p+Math.imul(Oe,qe)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,qe)|0,k=k+Math.imul(ie,Je)|0,p=p+Math.imul(ie,Re)|0,p=p+Math.imul(me,Je)|0,S=S+Math.imul(me,Re)|0,k=k+Math.imul(X,ze)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(ce,ze)|0,S=S+Math.imul(ce,rt)|0,k=k+Math.imul(Ee,pe)|0,p=p+Math.imul(Ee,ye)|0,p=p+Math.imul(be,pe)|0,S=S+Math.imul(be,ye)|0,k=k+Math.imul(se,Le)|0,p=p+Math.imul(se,He)|0,p=p+Math.imul(oe,Le)|0,S=S+Math.imul(oe,He)|0,k=k+Math.imul(G,he)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,he)|0,S=S+Math.imul(J,je)|0,k=k+Math.imul(M,Me)|0,p=p+Math.imul(M,ot)|0,p=p+Math.imul(U,Me)|0,S=S+Math.imul(U,ot)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(Ie,Te),p=Math.imul(Ie,Xe),p=p+Math.imul(Ke,Te)|0,S=Math.imul(Ke,Xe),k=k+Math.imul(re,Ne)|0,p=p+Math.imul(re,Fe)|0,p=p+Math.imul(ae,Ne)|0,S=S+Math.imul(ae,Fe)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,qe)|0,p=p+Math.imul(q,Ue)|0,S=S+Math.imul(q,qe)|0,k=k+Math.imul(Oe,Je)|0,p=p+Math.imul(Oe,Re)|0,p=p+Math.imul(de,Je)|0,S=S+Math.imul(de,Re)|0,k=k+Math.imul(ie,ze)|0,p=p+Math.imul(ie,rt)|0,p=p+Math.imul(me,ze)|0,S=S+Math.imul(me,rt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,ye)|0,p=p+Math.imul(ce,pe)|0,S=S+Math.imul(ce,ye)|0,k=k+Math.imul(Ee,Le)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(be,Le)|0,S=S+Math.imul(be,He)|0,k=k+Math.imul(se,he)|0,p=p+Math.imul(se,je)|0,p=p+Math.imul(oe,he)|0,S=S+Math.imul(oe,je)|0,k=k+Math.imul(G,Me)|0,p=p+Math.imul(G,ot)|0,p=p+Math.imul(J,Me)|0,S=S+Math.imul(J,ot)|0,k=k+Math.imul(M,at)|0,p=p+Math.imul(M,mt)|0,p=p+Math.imul(U,at)|0,S=S+Math.imul(U,mt)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Ie,Ne),p=Math.imul(Ie,Fe),p=p+Math.imul(Ke,Ne)|0,S=Math.imul(Ke,Fe),k=k+Math.imul(re,Ue)|0,p=p+Math.imul(re,qe)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(ne,Je)|0,p=p+Math.imul(ne,Re)|0,p=p+Math.imul(q,Je)|0,S=S+Math.imul(q,Re)|0,k=k+Math.imul(Oe,ze)|0,p=p+Math.imul(Oe,rt)|0,p=p+Math.imul(de,ze)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(ie,pe)|0,p=p+Math.imul(ie,ye)|0,p=p+Math.imul(me,pe)|0,S=S+Math.imul(me,ye)|0,k=k+Math.imul(X,Le)|0,p=p+Math.imul(X,He)|0,p=p+Math.imul(ce,Le)|0,S=S+Math.imul(ce,He)|0,k=k+Math.imul(Ee,he)|0,p=p+Math.imul(Ee,je)|0,p=p+Math.imul(be,he)|0,S=S+Math.imul(be,je)|0,k=k+Math.imul(se,Me)|0,p=p+Math.imul(se,ot)|0,p=p+Math.imul(oe,Me)|0,S=S+Math.imul(oe,ot)|0,k=k+Math.imul(G,at)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,at)|0,S=S+Math.imul(J,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Ie,Ue),p=Math.imul(Ie,qe),p=p+Math.imul(Ke,Ue)|0,S=Math.imul(Ke,qe),k=k+Math.imul(re,Je)|0,p=p+Math.imul(re,Re)|0,p=p+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Re)|0,k=k+Math.imul(ne,ze)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(q,ze)|0,S=S+Math.imul(q,rt)|0,k=k+Math.imul(Oe,pe)|0,p=p+Math.imul(Oe,ye)|0,p=p+Math.imul(de,pe)|0,S=S+Math.imul(de,ye)|0,k=k+Math.imul(ie,Le)|0,p=p+Math.imul(ie,He)|0,p=p+Math.imul(me,Le)|0,S=S+Math.imul(me,He)|0,k=k+Math.imul(X,he)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(ce,he)|0,S=S+Math.imul(ce,je)|0,k=k+Math.imul(Ee,Me)|0,p=p+Math.imul(Ee,ot)|0,p=p+Math.imul(be,Me)|0,S=S+Math.imul(be,ot)|0,k=k+Math.imul(se,at)|0,p=p+Math.imul(se,mt)|0,p=p+Math.imul(oe,at)|0,S=S+Math.imul(oe,mt)|0;var Kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,k=Math.imul(Ie,Je),p=Math.imul(Ie,Re),p=p+Math.imul(Ke,Je)|0,S=Math.imul(Ke,Re),k=k+Math.imul(re,ze)|0,p=p+Math.imul(re,rt)|0,p=p+Math.imul(ae,ze)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,ye)|0,p=p+Math.imul(q,pe)|0,S=S+Math.imul(q,ye)|0,k=k+Math.imul(Oe,Le)|0,p=p+Math.imul(Oe,He)|0,p=p+Math.imul(de,Le)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(ie,he)|0,p=p+Math.imul(ie,je)|0,p=p+Math.imul(me,he)|0,S=S+Math.imul(me,je)|0,k=k+Math.imul(X,Me)|0,p=p+Math.imul(X,ot)|0,p=p+Math.imul(ce,Me)|0,S=S+Math.imul(ce,ot)|0,k=k+Math.imul(Ee,at)|0,p=p+Math.imul(Ee,mt)|0,p=p+Math.imul(be,at)|0,S=S+Math.imul(be,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Ie,ze),p=Math.imul(Ie,rt),p=p+Math.imul(Ke,ze)|0,S=Math.imul(Ke,rt),k=k+Math.imul(re,pe)|0,p=p+Math.imul(re,ye)|0,p=p+Math.imul(ae,pe)|0,S=S+Math.imul(ae,ye)|0,k=k+Math.imul(ne,Le)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(q,Le)|0,S=S+Math.imul(q,He)|0,k=k+Math.imul(Oe,he)|0,p=p+Math.imul(Oe,je)|0,p=p+Math.imul(de,he)|0,S=S+Math.imul(de,je)|0,k=k+Math.imul(ie,Me)|0,p=p+Math.imul(ie,ot)|0,p=p+Math.imul(me,Me)|0,S=S+Math.imul(me,ot)|0,k=k+Math.imul(X,at)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(ce,at)|0,S=S+Math.imul(ce,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Ie,pe),p=Math.imul(Ie,ye),p=p+Math.imul(Ke,pe)|0,S=Math.imul(Ke,ye),k=k+Math.imul(re,Le)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ae,Le)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(ne,he)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(q,he)|0,S=S+Math.imul(q,je)|0,k=k+Math.imul(Oe,Me)|0,p=p+Math.imul(Oe,ot)|0,p=p+Math.imul(de,Me)|0,S=S+Math.imul(de,ot)|0,k=k+Math.imul(ie,at)|0,p=p+Math.imul(ie,mt)|0,p=p+Math.imul(me,at)|0,S=S+Math.imul(me,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Ie,Le),p=Math.imul(Ie,He),p=p+Math.imul(Ke,Le)|0,S=Math.imul(Ke,He),k=k+Math.imul(re,he)|0,p=p+Math.imul(re,je)|0,p=p+Math.imul(ae,he)|0,S=S+Math.imul(ae,je)|0,k=k+Math.imul(ne,Me)|0,p=p+Math.imul(ne,ot)|0,p=p+Math.imul(q,Me)|0,S=S+Math.imul(q,ot)|0,k=k+Math.imul(Oe,at)|0,p=p+Math.imul(Oe,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var Ar=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,k=Math.imul(Ie,he),p=Math.imul(Ie,je),p=p+Math.imul(Ke,he)|0,S=Math.imul(Ke,je),k=k+Math.imul(re,Me)|0,p=p+Math.imul(re,ot)|0,p=p+Math.imul(ae,Me)|0,S=S+Math.imul(ae,ot)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(q,at)|0,S=S+Math.imul(q,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Ie,Me),p=Math.imul(Ie,ot),p=p+Math.imul(Ke,Me)|0,S=Math.imul(Ke,ot),k=k+Math.imul(re,at)|0,p=p+Math.imul(re,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var Jr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(Ie,at),p=Math.imul(Ie,mt),p=p+Math.imul(Ke,at)|0,S=Math.imul(Ke,mt);var Yr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,T[0]=Kt,T[1]=Qt,T[2]=nt,T[3]=ft,T[4]=Mt,T[5]=cr,T[6]=tr,T[7]=xr,T[8]=Pr,T[9]=kr,T[10]=br,T[11]=Kr,T[12]=$r,T[13]=zr,T[14]=Zr,T[15]=Ar,T[16]=Br,T[17]=Jr,T[18]=Yr,N!==0&&(T[19]=N,b.length++),b},"E");Math.imul||(A=_);function I(h,w,b){b.negative=w.negative^h.negative,b.length=h.length+w.length;for(var x=0,E=0,T=0;T<b.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,w.length-1),S=Math.max(0,T-h.length+1);S<=p;S++){var C=T-S,M=h.words[C]|0,U=w.words[S]|0,B=M*U,G=B&67108863;N=N+(B/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,E+=N>>>26,N&=67108863}b.words[T]=k,x=N,N=E}return x!==0?b.words[T]=x:b.length--,b.strip()}a(I,"D");function O(h,w,b){var x=new R;return x.mulp(h,w,b)}a(O,"I"),o.prototype.mulTo=function(h,w){var b,x=this.length+h.length;return this.length===10&&h.length===10?b=A(this,h,w):x<63?b=_(this,h,w):x<1024?b=I(this,h,w):b=O(this,h,w),b};function R(h,w){this.x=h,this.y=w}a(R,"L"),R.prototype.makeRBT=function(h){for(var w=Array(h),b=o.prototype._countBits(h)-1,x=0;x<h;x++)w[x]=this.revBin(x,b,h);return w},R.prototype.revBin=function(h,w,b){if(h===0||h===b-1)return h;for(var x=0,E=0;E<w;E++)x|=(h&1)<<w-E-1,h>>=1;return x},R.prototype.permute=function(h,w,b,x,E,T){for(var N=0;N<T;N++)x[N]=w[h[N]],E[N]=b[h[N]]},R.prototype.transform=function(h,w,b,x,E,T){this.permute(T,h,w,b,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var M=p,U=S,B=0;B<N;B++){var G=b[C+B],J=x[C+B],ue=b[C+B+N],se=x[C+B+N],oe=M*ue-U*se;se=M*se+U*ue,ue=oe,b[C+B]=G+ue,x[C+B]=J+se,b[C+B+N]=G-ue,x[C+B+N]=J-se,B!==k&&(oe=p*M-S*U,U=p*U+S*M,M=oe)}},R.prototype.guessLen13b=function(h,w){var b=Math.max(w,h)|1,x=b&1,E=0;for(b=b/2|0;b;b=b>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(h,w,b){if(!(b<=1))for(var x=0;x<b/2;x++){var E=h[x];h[x]=h[b-x-1],h[b-x-1]=E,E=w[x],w[x]=-w[b-x-1],w[b-x-1]=-E}},R.prototype.normalize13b=function(h,w){for(var b=0,x=0;x<w/2;x++){var E=Math.round(h[2*x+1]/w)*8192+Math.round(h[2*x]/w)+b;h[x]=E&67108863,E<67108864?b=0:b=E/67108864|0}return h},R.prototype.convert13b=function(h,w,b,x){for(var E=0,T=0;T<w;T++)E=E+(h[T]|0),b[2*T]=E&8191,E=E>>>13,b[2*T+1]=E&8191,E=E>>>13;for(T=2*w;T<x;++T)b[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(h){for(var w=Array(h),b=0;b<h;b++)w[b]=0;return w},R.prototype.mulp=function(h,w,b){var x=2*this.guessLen13b(h.length,w.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),M=Array(x),U=b.words;U.length=x,this.convert13b(h.words,h.length,N,x),this.convert13b(w.words,w.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,M,x,E);for(var B=0;B<x;B++){var G=k[B]*C[B]-p[B]*M[B];p[B]=k[B]*M[B]+p[B]*C[B],k[B]=G}return this.conjugate(k,p,x),this.transform(k,p,U,T,x,E),this.conjugate(U,T,x),this.normalize13b(U,x),b.negative=h.negative^w.negative,b.length=h.length+w.length,b.strip()},o.prototype.mul=function(h){var w=new o(null);return w.words=Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=Array(this.length+h.length),O(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){i(typeof h=="number"),i(h<67108864);for(var w=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*h,E=(x&67108863)+(w&67108863);w>>=26,w+=x/67108864|0,w+=E>>>26,this.words[b]=E&67108863}return w!==0&&(this.words[b]=w,this.length++),this.length=h===0?1:this.length,this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=y(h);if(w.length===0)return new o(1);for(var b=this,x=0;x<w.length&&w[x]===0;x++,b=b.sqr());if(++x<w.length)for(var E=b.sqr();x<w.length;x++,E=E.sqr())w[x]!==0&&(b=b.mul(E));return b},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=67108863>>>26-w<<26-w,E;if(w!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<w;this.words[E]=k|T,T=N>>>26-w}T&&(this.words[E]=T,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,b){i(typeof h=="number"&&h>=0);var x;w?x=(w-w%26)/26:x=0;var E=h%26,T=Math.min((h-E)/26,this.length),N=67108863^67108863>>>E<<E,k=b;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(h,w,b){return i(this.negative===0),this.iushrn(h,w,b)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return!1;var E=this.words[b];return!!(E&x)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(w!==0&&b++,this.length=Math.min(b,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,b){var x=h.length+b,E;this._expand(x);var T,N=0;for(E=0;E<h.length;E++){T=(this.words[E+b]|0)+N;var k=(h.words[E]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+b]=T&67108863}for(;E<this.length-b;E++)T=(this.words[E+b]|0)+N,N=T>>26,this.words[E+b]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(h,w){var b=this.length-h.length,x=this.clone(),E=h,T=E.words[E.length-1]|0,N=this._countBits(T);b=26-N,b!==0&&(E=E.ushln(b),x.iushln(b),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var M=k-1;M>=0;M--){var U=(x.words[E.length+M]|0)*67108864+(x.words[E.length+M-1]|0);for(U=Math.min(U/T|0,67108863),x._ishlnsubmul(E,U,M);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(E,1,M),!x.isZero()&&(x.negative^=1);p&&(p.words[M]=U)}return p&&p.strip(),x.strip(),w!=="div"&&b!==0&&x.iushrn(b),{div:p||null,mod:x}},o.prototype.divmod=function(h,w,b){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,E,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,w),w!=="mod"&&(x=T.div.neg()),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.iadd(h)),{div:x,mod:E}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),w),w!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&h.negative)!==0?(T=this.neg().divmod(h.neg(),w),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.isub(h)),{div:T.div,mod:E}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var b=w.div.negative!==0?w.mod.isub(h):w.mod,x=h.ushrn(1),E=h.andln(1),T=b.cmp(x);return T<0||E===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(h){i(h<=67108863);for(var w=67108864%h,b=0,x=this.length-1;x>=0;x--)b=(w*b+(this.words[x]|0))%h;return b},o.prototype.idivn=function(h){i(h<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+w*67108864;this.words[b]=x/h|0,w=x%h}return this.strip()},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&b.isEven();)w.iushrn(1),b.iushrn(1),++k;for(var p=b.clone(),S=w.clone();!w.isZero();){for(var C=0,M=1;(w.words[0]&M)===0&&C<26;++C,M<<=1);if(C>0)for(w.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var U=0,B=1;(b.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(T),E.isub(N)):(b.isub(w),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:b.iushln(k)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=b.clone();w.cmpn(1)>0&&b.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(b.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(b.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(E)):(b.isub(w),E.isub(x))}var C;return w.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(h),C},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),b=h.clone();w.negative=0,b.negative=0;for(var x=0;w.isEven()&&b.isEven();x++)w.iushrn(1),b.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=w.cmp(b);if(E<0){var T=w;w=b,b=T}else if(E===0||b.cmpn(1)===0)break;w.isub(b)}while(!0);return b.iushln(x)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var E=x,T=b;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var b;if(this.length>1)b=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var x=this.words[0]|0;b=x===h?0:x<h?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,E=h.words[b]|0;if(x!==E){x<E?w=-1:x>E&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new F(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function D(h,w){this.name=h,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(D,"y"),D.prototype._tmp=function(){var h=new o(null);return h.words=Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var w=h,b;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),b=w.bitLength();while(b>this.n);var x=b<this.n?-1:w.ucmp(this.p);return x===0?(w.words[0]=0,w.length=1):x>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(h,w){h.iushrn(this.n,0,w)},D.prototype.imulK=function(h){return h.imul(this.k)};function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(P,"c"),s(P,D),P.prototype.split=function(h,w){for(var b=4194303,x=Math.min(h.length,9),E=0;E<x;E++)w.words[E]=h.words[E];if(w.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(w.words[w.length++]=T&b,E=10;E<h.length;E++){var N=h.words[E]|0;h.words[E-10]=(N&b)<<4|T>>>22,T=N}T>>>=22,h.words[E-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},P.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,b=0;b<h.length;b++){var x=h.words[b]|0;w+=x*977,h.words[b]=w&67108863,w=x*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function Z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"o"),s(Z,D);function V(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(V,"Q"),s(V,D);function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(W,"U"),s(W,D),W.prototype.imulK=function(h){for(var w=0,b=0;b<h.length;b++){var x=(h.words[b]|0)*19+w,E=x&67108863;x>>>=26,h.words[b]=E,w=x}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(L[h])return L[h];var w;if(h==="k256")w=new P;else if(h==="p224")w=new Z;else if(h==="p192")w=new V;else if(h==="p25519")w=new W;else throw Error("Unknown prime "+h);return L[h]=w,w};function F(h){if(typeof h=="string"){var w=o._prime(h);this.m=w.p,this.prime=w}else i(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}a(F,"p"),F.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},F.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},F.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},F.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},F.prototype.add=function(h,w){this._verify2(h,w);var b=h.add(w);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},F.prototype.iadd=function(h,w){this._verify2(h,w);var b=h.iadd(w);return b.cmp(this.m)>=0&&b.isub(this.m),b},F.prototype.sub=function(h,w){this._verify2(h,w);var b=h.sub(w);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},F.prototype.isub=function(h,w){this._verify2(h,w);var b=h.isub(w);return b.cmpn(0)<0&&b.iadd(this.m),b},F.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},F.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},F.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},F.prototype.isqr=function(h){return this.imul(h,h.clone())},F.prototype.sqr=function(h){return this.mul(h,h)},F.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(h,b)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(h,x.addn(1).iushrn(1)),M=this.pow(h,x),U=E;M.cmp(T)!==0;){for(var B=M,G=0;B.cmp(T)!==0;G++)B=B.redSqr();i(G<U);var J=this.pow(S,new o(1).iushln(U-G-1));C=C.redMul(J),S=J.redSqr(),M=M.redMul(S),U=G}return C},F.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var b=4,x=Array(1<<b);x[0]=new o(1).toRed(this),x[1]=h;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],h);var T=x[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),E=w.length-1;E>=0;E--){for(var S=w.words[E],C=p-1;C>=0;C--){var M=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),M===0&&N===0){k=0;continue}N<<=1,N|=M,k++,!(k!==b&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},F.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new Y(h)};function Y(h){F.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Y,"s"),s(Y,F),Y.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Y.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},Y.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var b=h.imul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var b=h.mul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),m5=tt(e=>{var t=Ql(),r=oi(),n=e;n.define=function(s,o){return new i(s,o)};function i(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}a(i,"P"),i.prototype._createNamed=function(s){var o;try{o=(()=>{throw new Error("Cannot require module vm")})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{o=a(function(u){this._initNamed(u)},"Y")}return r(o,s),o.prototype._initNamed=function(l){s.call(this,l)},new o(this)},i.prototype._getDecoder=function(s){return s=s||"der",!this.decoders.hasOwnProperty(s)&&(this.decoders[s]=this._createNamed(t.decoders[s])),this.decoders[s]},i.prototype.decode=function(s,o,l){return this._getDecoder(o).decode(s,l)},i.prototype._getEncoder=function(s){return s=s||"der",!this.encoders.hasOwnProperty(s)&&(this.encoders[s]=this._createNamed(t.encoders[s])),this.encoders[s]},i.prototype.encode=function(s,o,l){return this._getEncoder(o).encode(s,l)}}),g5=tt(e=>{var t=oi();function r(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}a(r,"_"),e.Reporter=r,r.prototype.isError=function(i){return i instanceof n},r.prototype.save=function(){var i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},r.prototype.restore=function(i){var s=this._reporterState;s.obj=i.obj,s.path=s.path.slice(0,i.pathLen)},r.prototype.enterKey=function(i){return this._reporterState.path.push(i)},r.prototype.exitKey=function(i){var s=this._reporterState;s.path=s.path.slice(0,i-1)},r.prototype.leaveKey=function(i,s,o){var l=this._reporterState;this.exitKey(i),l.obj!==null&&(l.obj[s]=o)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var i=this._reporterState,s=i.obj;return i.obj={},s},r.prototype.leaveObject=function(i){var s=this._reporterState,o=s.obj;return s.obj=i,o},r.prototype.error=function(i){var s,o=this._reporterState,l=i instanceof n;if(l?s=i:s=new n(o.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),i.message||i,i.stack),!o.options.partial)throw s;return l||o.errors.push(s),s},r.prototype.wrapResult=function(i){var s=this._reporterState;return s.options.partial?{result:this.isError(i)?null:i,errors:s.errors}:i};function n(i,s){this.path=i,this.rethrow(s)}a(n,"K"),t(n,Error),n.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw Error(this.message)}catch(s){this.stack=s.stack}return this}}),Ug=tt(e=>{var t=oi(),r=$l().Reporter,n=(Dn(),mr(An)).Buffer;function i(o,l){if(r.call(this,l),!n.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}a(i,"P"),t(i,r),e.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},i.prototype.restore=function(o){var l=new i(this.base);return l.offset=o.offset,l.length=this.offset,this.offset=o.offset,r.prototype.restore.call(this,o.reporter),l},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},i.prototype.skip=function(o,l){if(!(this.offset+o<=this.length))return this.error(l||"DecoderBuffer overrun");var u=new i(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},i.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function s(o,l){if(Array.isArray(o))this.length=0,this.value=o.map(function(u){return u instanceof s||(u=new s(u,l)),this.length+=u.length,u},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return l.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=n.byteLength(o);else if(n.isBuffer(o))this.value=o,this.length=o.length;else return l.error("Unsupported type: "+typeof o)}a(s,"O"),e.EncoderBuffer=s,s.prototype.join=function(o,l){return o||(o=new n(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,l),l+=u.length}):(typeof this.value=="number"?o[l]=this.value:typeof this.value=="string"?o.write(this.value,l):n.isBuffer(this.value)&&this.value.copy(o,l),l+=this.length)),o}}),b5=tt((e,t)=>{var r=$l().Reporter,n=$l().EncoderBuffer,i=$l().DecoderBuffer,s=hs(),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(f,g){var m={};this._baseState=m,m.enc=f,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,!m.parent&&(m.children=[],this._wrap())}a(c,"T"),t.exports=c;var d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var f=this._baseState,g={};d.forEach(function(y){g[y]=f[y]});var m=new this.constructor(g.parent);return m._baseState=g,m},c.prototype._wrap=function(){var f=this._baseState;l.forEach(function(g){this[g]=function(){var m=new this.constructor(this);return f.children.push(m),m[g].apply(m,arguments)}},this)},c.prototype._init=function(f){var g=this._baseState;s(g.parent===null),f.call(this),g.children=g.children.filter(function(m){return m._baseState.parent===this},this),s.equal(g.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){var g=this._baseState,m=f.filter(function(y){return y instanceof this.constructor},this);f=f.filter(function(y){return!(y instanceof this.constructor)},this),m.length!==0&&(s(g.children===null),g.children=m,m.forEach(function(y){y._baseState.parent=this},this)),f.length!==0&&(s(g.args===null),g.args=f,g.reverseArgs=f.map(function(y){if(typeof y!="object"||y.constructor!==Object)return y;var _={};return Object.keys(y).forEach(function(A){A==(A|0)&&(A|=0);var I=y[A];_[I]=A}),_}))},u.forEach(function(f){c.prototype[f]=function(){var g=this._baseState;throw Error(f+" not implemented for encoding: "+g.enc)}}),o.forEach(function(f){c.prototype[f]=function(){var g=this._baseState,m=Array.prototype.slice.call(arguments);return s(g.tag===null),g.tag=f,this._useArgs(m),this}}),c.prototype.use=function(f){s(f);var g=this._baseState;return s(g.use===null),g.use=f,this},c.prototype.optional=function(){var f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){var g=this._baseState;return s(g.default===null),g.default=f,g.optional=!0,this},c.prototype.explicit=function(f){var g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.explicit=f,this},c.prototype.implicit=function(f){var g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.implicit=f,this},c.prototype.obj=function(){var f=this._baseState,g=Array.prototype.slice.call(arguments);return f.obj=!0,g.length!==0&&this._useArgs(g),this},c.prototype.key=function(f){var g=this._baseState;return s(g.key===null),g.key=f,this},c.prototype.any=function(){var f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){var g=this._baseState;return s(g.choice===null),g.choice=f,this._useArgs(Object.keys(f).map(function(m){return f[m]})),this},c.prototype.contains=function(f){var g=this._baseState;return s(g.use===null),g.contains=f,this},c.prototype._decode=function(f,g){var m=this._baseState;if(m.parent===null)return f.wrapResult(m.children[0]._decode(f,g));var y=m.default,_=!0,A=null;if(m.key!==null&&(A=f.enterKey(m.key)),m.optional){var I=null;if(m.explicit!==null?I=m.explicit:m.implicit!==null?I=m.implicit:m.tag!==null&&(I=m.tag),I===null&&!m.any){var O=f.save();try{m.choice===null?this._decodeGeneric(m.tag,f,g):this._decodeChoice(f,g),_=!0}catch{_=!1}f.restore(O)}else if(_=this._peekTag(f,I,m.any),f.isError(_))return _}var R;if(m.obj&&_&&(R=f.enterObject()),_){if(m.explicit!==null){var L=this._decodeTag(f,m.explicit);if(f.isError(L))return L;f=L}var D=f.offset;if(m.use===null&&m.choice===null){if(m.any)var O=f.save();var P=this._decodeTag(f,m.implicit!==null?m.implicit:m.tag,m.any);if(f.isError(P))return P;m.any?y=f.raw(O):f=P}if(g&&g.track&&m.tag!==null&&g.track(f.path(),D,f.length,"tagged"),g&&g.track&&m.tag!==null&&g.track(f.path(),f.offset,f.length,"content"),m.any?y=y:m.choice===null?y=this._decodeGeneric(m.tag,f,g):y=this._decodeChoice(f,g),f.isError(y))return y;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(V){V._decode(f,g)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){var Z=new i(y);y=this._getUse(m.contains,f._reporterState.obj)._decode(Z,g)}}return m.obj&&_&&(y=f.leaveObject(R)),m.key!==null&&(y!==null||_===!0)?f.leaveKey(A,m.key,y):A!==null&&f.exitKey(A),y},c.prototype._decodeGeneric=function(f,g,m){var y=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(g,f,y.args[0],m):/str$/.test(f)?this._decodeStr(g,f,m):f==="objid"&&y.args?this._decodeObjid(g,y.args[0],y.args[1],m):f==="objid"?this._decodeObjid(g,null,null,m):f==="gentime"||f==="utctime"?this._decodeTime(g,f,m):f==="null_"?this._decodeNull(g,m):f==="bool"?this._decodeBool(g,m):f==="objDesc"?this._decodeStr(g,f,m):f==="int"||f==="enum"?this._decodeInt(g,y.args&&y.args[0],m):y.use!==null?this._getUse(y.use,g._reporterState.obj)._decode(g,m):g.error("unknown tag: "+f)},c.prototype._getUse=function(f,g){var m=this._baseState;return m.useDecoder=this._use(f,g),s(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},c.prototype._decodeChoice=function(f,g){var m=this._baseState,y=null,_=!1;return Object.keys(m.choice).some(function(A){var I=f.save(),O=m.choice[A];try{var R=O._decode(f,g);if(f.isError(R))return!1;y={type:A,value:R},_=!0}catch{return f.restore(I),!1}return!0},this),_?y:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new n(f,this.reporter)},c.prototype._encode=function(f,g,m){var y=this._baseState;if(!(y.default!==null&&y.default===f)){var _=this._encodeValue(f,g,m);if(_!==void 0&&!this._skipDefault(_,g,m))return _}},c.prototype._encodeValue=function(f,g,m){var y=this._baseState;if(y.parent===null)return y.children[0]._encode(f,g||new r);var O=null;if(this.reporter=g,y.optional&&f===void 0)if(y.default!==null)f=y.default;else return;var _=null,A=!1;if(y.any)O=this._createEncoderBuffer(f);else if(y.choice)O=this._encodeChoice(f,g);else if(y.contains)_=this._getUse(y.contains,m)._encode(f,g),A=!0;else if(y.children)_=y.children.map(function(D){if(D._baseState.tag==="null_")return D._encode(null,g,f);if(D._baseState.key===null)return g.error("Child should have a key");var P=g.enterKey(D._baseState.key);if(typeof f!="object")return g.error("Child expected, but input is not object");var Z=D._encode(f[D._baseState.key],g,f);return g.leaveKey(P),Z},this).filter(function(D){return D}),_=this._createEncoderBuffer(_);else if(y.tag==="seqof"||y.tag==="setof"){if(!(y.args&&y.args.length===1))return g.error("Too many args for : "+y.tag);if(!Array.isArray(f))return g.error("seqof/setof, but data is not Array");var I=this.clone();I._baseState.implicit=null,_=this._createEncoderBuffer(f.map(function(D){var P=this._baseState;return this._getUse(P.args[0],f)._encode(D,g)},I))}else y.use!==null?O=this._getUse(y.use,m)._encode(f,g):(_=this._encodePrimitive(y.tag,f),A=!0);var O;if(!y.any&&y.choice===null){var R=y.implicit!==null?y.implicit:y.tag,L=y.implicit===null?"universal":"context";R===null?y.use===null&&g.error("Tag could be omitted only for .use()"):y.use===null&&(O=this._encodeComposite(R,A,L,_))}return y.explicit!==null&&(O=this._encodeComposite(y.explicit,!1,"context",O)),O},c.prototype._encodeChoice=function(f,g){var m=this._baseState,y=m.choice[f.type];return y||s(!1,f.type+" not found in "+JSON.stringify(Object.keys(m.choice))),y._encode(f.value,g)},c.prototype._encodePrimitive=function(f,g){var m=this._baseState;if(/str$/.test(f))return this._encodeStr(g,f);if(f==="objid"&&m.args)return this._encodeObjid(g,m.reverseArgs[0],m.args[1]);if(f==="objid")return this._encodeObjid(g,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(g,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(g,m.args&&m.reverseArgs[0]);if(f==="bool")return this._encodeBool(g);if(f==="objDesc")return this._encodeStr(g,f);throw Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(f)}}),$l=tt(e=>{var t=e;t.Reporter=g5().Reporter,t.DecoderBuffer=Ug().DecoderBuffer,t.EncoderBuffer=Ug().EncoderBuffer,t.Node=b5()}),v5=tt(e=>{var t=Hg();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}),Hg=tt(e=>{var t=e;t._reverse=function(r){var n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);var s=r[i];n[s]=i}),n},t.der=v5()}),Gg=tt((e,t)=>{var r=oi(),n=Ql(),i=n.base,s=n.bignum,o=n.constants.der;function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}a(l,"z"),t.exports=l,l.prototype.decode=function(f,g){return f instanceof i.DecoderBuffer||(f=new i.DecoderBuffer(f,g)),this.tree._decode(f,g)};function u(f){i.Node.call(this,"der",f)}a(u,"H"),r(u,i.Node),u.prototype._peekTag=function(f,g,m){if(f.isEmpty())return!1;var y=f.save(),_=c(f,'Failed to peek tag: "'+g+'"');return f.isError(_)?_:(f.restore(y),_.tag===g||_.tagStr===g||_.tagStr+"of"===g||m)},u.prototype._decodeTag=function(f,g,m){var y=c(f,'Failed to decode tag of "'+g+'"');if(f.isError(y))return y;var _=d(f,y.primitive,'Failed to get length of "'+g+'"');if(f.isError(_))return _;if(!m&&y.tag!==g&&y.tagStr!==g&&y.tagStr+"of"!==g)return f.error('Failed to match tag: "'+g+'"');if(y.primitive||_!==null)return f.skip(_,'Failed to match body of: "'+g+'"');var A=f.save(),I=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(I)?I:(_=f.offset-A.offset,f.restore(A),f.skip(_,'Failed to match body of: "'+g+'"'))},u.prototype._skipUntilEnd=function(f,g){for(;;){var m=c(f,g);if(f.isError(m))return m;var y=d(f,m.primitive,g);if(f.isError(y))return y;var _;if(m.primitive||y!==null?_=f.skip(y):_=this._skipUntilEnd(f,g),f.isError(_))return _;if(m.tagStr==="end")break}},u.prototype._decodeList=function(f,g,m,y){for(var _=[];!f.isEmpty();){var A=this._peekTag(f,"end");if(f.isError(A))return A;var I=m.decode(f,"der",y);if(f.isError(I)&&A)break;_.push(I)}return _},u.prototype._decodeStr=function(f,g){if(g==="bitstr"){var m=f.readUInt8();return f.isError(m)?m:{unused:m,data:f.raw()}}else if(g==="bmpstr"){var y=f.raw();if(y.length%2===1)return f.error("Decoding of string type: bmpstr length mismatch");for(var _="",A=0;A<y.length/2;A++)_+=String.fromCharCode(y.readUInt16BE(A*2));return _}else if(g==="numstr"){var I=f.raw().toString("ascii");return this._isNumstr(I)?I:f.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return f.raw();if(g==="objDesc")return f.raw();if(g==="printstr"){var O=f.raw().toString("ascii");return this._isPrintstr(O)?O:f.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?f.raw().toString():f.error("Decoding of string type: "+g+" unsupported")}},u.prototype._decodeObjid=function(f,g,m){for(var y,_=[],A=0;!f.isEmpty();){var I=f.readUInt8();A<<=7,A|=I&127,(I&128)===0&&(_.push(A),A=0)}I&128&&_.push(A);var O=_[0]/40|0,R=_[0]%40;if(m?y=_:y=[O,R].concat(_.slice(1)),g){var L=g[y.join(" ")];L===void 0&&(L=g[y.join(".")]),L!==void 0&&(y=L)}return y},u.prototype._decodeTime=function(f,g){var m=f.raw().toString();if(g==="gentime")var y=m.slice(0,4)|0,_=m.slice(4,6)|0,A=m.slice(6,8)|0,I=m.slice(8,10)|0,O=m.slice(10,12)|0,R=m.slice(12,14)|0;else if(g==="utctime"){var y=m.slice(0,2)|0,_=m.slice(2,4)|0,A=m.slice(4,6)|0,I=m.slice(6,8)|0,O=m.slice(8,10)|0,R=m.slice(10,12)|0;y<70?y=2e3+y:y=1900+y}else return f.error("Decoding "+g+" time is not supported yet");return Date.UTC(y,_-1,A,I,O,R,0)},u.prototype._decodeNull=function(f){return null},u.prototype._decodeBool=function(f){var g=f.readUInt8();return f.isError(g)?g:g!==0},u.prototype._decodeInt=function(f,g){var m=f.raw(),y=new s(m);return g&&(y=g[y.toString(10)]||y),y},u.prototype._use=function(f,g){return typeof f=="function"&&(f=f(g)),f._getDecoder("der").tree};function c(f,g){var m=f.readUInt8(g);if(f.isError(m))return m;var y=o.tagClass[m>>6],_=(m&32)===0;if((m&31)===31){var A=m;for(m=0;(A&128)===128;){if(A=f.readUInt8(g),f.isError(A))return A;m<<=7,m|=A&127}}else m&=31;var I=o.tag[m];return{cls:y,primitive:_,tag:m,tagStr:I}}a(c,"T");function d(f,g,m){var y=f.readUInt8(m);if(f.isError(y))return y;if(!g&&y===128)return null;if((y&128)===0)return y;var _=y&127;if(_>4)return f.error("length octect is too long");y=0;for(var A=0;A<_;A++){y<<=8;var I=f.readUInt8(m);if(f.isError(I))return I;y|=I}return y}a(d,"f")}),y5=tt((e,t)=>{var r=oi(),n=(Dn(),mr(An)).Buffer,i=Gg();function s(o){i.call(this,o),this.enc="pem"}a(s,"O"),r(s,i),t.exports=s,s.prototype.decode=function(o,l){for(var u=o.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,g=-1,m=0;m<u.length;m++){var y=u[m].match(d);if(y!==null&&y[2]===c)if(f===-1){if(y[1]!=="BEGIN")break;f=m}else{if(y[1]!=="END")break;g=m;break}}if(f===-1||g===-1)throw Error("PEM section not found for: "+c);var _=u.slice(f+1,g).join("");_.replace(/[^a-z0-9\+\/=]+/gi,"");var A=new n(_,"base64");return i.prototype.decode.call(this,A,l)}}),w5=tt(e=>{var t=e;t.der=Gg(),t.pem=y5()}),Vg=tt((e,t)=>{var r=oi(),n=(Dn(),mr(An)).Buffer,i=Ql(),s=i.base,o=i.constants.der;function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}a(l,"z"),t.exports=l,l.prototype.encode=function(f,g){return this.tree._encode(f,g).join()};function u(f){s.Node.call(this,"der",f)}a(u,"H"),r(u,s.Node),u.prototype._encodeComposite=function(f,g,m,y){var _=d(f,g,m,this.reporter);if(y.length<128){var O=new n(2);return O[0]=_,O[1]=y.length,this._createEncoderBuffer([O,y])}for(var A=1,I=y.length;I>=256;I>>=8)A++;var O=new n(2+A);O[0]=_,O[1]=128|A;for(var I=1+A,R=y.length;R>0;I--,R>>=8)O[I]=R&255;return this._createEncoderBuffer([O,y])},u.prototype._encodeStr=function(f,g){if(g==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(g==="bmpstr"){for(var m=new n(f.length*2),y=0;y<f.length;y++)m.writeUInt16BE(f.charCodeAt(y),y*2);return this._createEncoderBuffer(m)}else return g==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):g==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(g)?this._createEncoderBuffer(f):g==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+g+" unsupported")},u.prototype._encodeObjid=function(f,g,m){if(typeof f=="string"){if(!g)return this.reporter.error("string objid given, but no values map found");if(!g.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=g[f].split(/[\s\.]+/g);for(var y=0;y<f.length;y++)f[y]|=0}else if(Array.isArray(f)){f=f.slice();for(var y=0;y<f.length;y++)f[y]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!m){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}for(var _=0,y=0;y<f.length;y++){var A=f[y];for(_++;A>=128;A>>=7)_++}for(var I=new n(_),O=I.length-1,y=f.length-1;y>=0;y--){var A=f[y];for(I[O--]=A&127;(A>>=7)>0;)I[O--]=128|A&127}return this._createEncoderBuffer(I)};function c(f){return f<10?"0"+f:f}a(c,"T"),u.prototype._encodeTime=function(f,g){var m,y=new Date(f);return g==="gentime"?m=[c(y.getFullYear()),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):g==="utctime"?m=[c(y.getFullYear()%100),c(y.getUTCMonth()+1),c(y.getUTCDate()),c(y.getUTCHours()),c(y.getUTCMinutes()),c(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+g+" time is not supported yet"),this._encodeStr(m,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,g){if(typeof f=="string"){if(!g)return this.reporter.error("String int or enum given, but no values map");if(!g.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=g[f]}if(typeof f!="number"&&!n.isBuffer(f)){var m=f.toArray();!f.sign&&m[0]&128&&m.unshift(0),f=new n(m)}if(n.isBuffer(f)){var y=f.length;f.length===0&&y++;var A=new n(y);return f.copy(A),f.length===0&&(A[0]=0),this._createEncoderBuffer(A)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);for(var y=1,_=f;_>=256;_>>=8)y++;for(var A=Array(y),_=A.length-1;_>=0;_--)A[_]=f&255,f>>=8;return A[0]&128&&A.unshift(0),this._createEncoderBuffer(new n(A))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,g){return typeof f=="function"&&(f=f(g)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,g,m){var y=this._baseState,_;if(y.default===null)return!1;var A=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,g,m).join()),A.length!==y.defaultBuffer.length)return!1;for(_=0;_<A.length;_++)if(A[_]!==y.defaultBuffer[_])return!1;return!0};function d(f,g,m,y){var _;if(f==="seqof"?f="seq":f==="setof"&&(f="set"),o.tagByName.hasOwnProperty(f))_=o.tagByName[f];else if(typeof f=="number"&&(f|0)===f)_=f;else return y.error("Unknown tag: "+f);return _>=31?y.error("Multi-octet tag encoding unsupported"):(g||(_|=32),_|=o.tagClassByName[m||"universal"]<<6,_)}a(d,"f")}),x5=tt((e,t)=>{var r=oi(),n=Vg();function i(s){n.call(this,s),this.enc="pem"}a(i,"P"),r(i,n),t.exports=i,i.prototype.encode=function(s,o){for(var l=n.prototype.encode.call(this,s),u=l.toString("base64"),c=["-----BEGIN "+o.label+"-----"],d=0;d<u.length;d+=64)c.push(u.slice(d,d+64));return c.push("-----END "+o.label+"-----"),c.join(`
`)}}),_5=tt(e=>{var t=e;t.der=Vg(),t.pem=x5()}),Ql=tt(e=>{var t=e;t.bignum=p5(),t.define=m5().define,t.base=$l(),t.constants=Hg(),t.decoders=w5(),t.encoders=_5()}),E5=tt((e,t)=>{var r=Ql(),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(i)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(d),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),m=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=m}),S5=tt(e=>{var t=Ql();e.certificate=E5();var r=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=r;var n=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=n;var i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var o=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});e.PrivateKey=o;var l=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=l;var u=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=u,e.DSAparam=t.define("DSAparam",function(){this.int()});var c=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),d=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(c),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=d,e.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),k5=tt((e,t)=>{t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),A5=tt((e,t)=>{var r=Un().Buffer,n=wN().Transform,i=oi();function s(c){n.call(this),this._block=r.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(s,"O"),i(s,n),s.prototype._transform=function(c,d,f){var g=null;try{this.update(c,d)}catch(m){g=m}f(g)},s.prototype._flush=function(c){var d=null;try{this.push(this.digest())}catch(f){d=f}c(d)};var o=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);function u(c,d){if(c instanceof r)return c;if(typeof c=="string")return r.from(c,d);if(l&&ArrayBuffer.isView(c)){if(c.byteLength===0)return r.alloc(0);var f=r.from(c.buffer,c.byteOffset,c.byteLength);if(f.byteLength===c.byteLength)return f}if(o&&c instanceof Uint8Array||r.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return r.from(c);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}a(u,"H"),s.prototype.update=function(c,d){if(this._finalized)throw Error("Digest already called");c=u(c,d);for(var f=this._block,g=0;this._blockOffset+c.length-g>=this._blockSize;){for(var m=this._blockOffset;m<this._blockSize;)f[m++]=c[g++];this._update(),this._blockOffset=0}for(;g<c.length;)f[this._blockOffset++]=c[g++];for(var y=0,_=c.length*8;_>0;++y)this._length[y]+=_,_=this._length[y]/4294967296|0,_>0&&(this._length[y]-=4294967296*_);return this},s.prototype._update=function(){throw Error("_update is not implemented")},s.prototype.digest=function(c){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var d=this._digest();c!==void 0&&(d=d.toString(c)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return d},s.prototype._digest=function(){throw Error("_digest is not implemented")},t.exports=s}),T5=tt((e,t)=>{var r=oi(),n=A5(),i=Un().Buffer,s=Array(16);function o(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}a(o,"Y"),r(o,n),o.prototype._update=function(){for(var g=s,m=0;m<16;++m)g[m]=this._block.readInt32LE(m*4);var y=this._a,_=this._b,A=this._c,I=this._d;y=u(y,_,A,I,g[0],3614090360,7),I=u(I,y,_,A,g[1],3905402710,12),A=u(A,I,y,_,g[2],606105819,17),_=u(_,A,I,y,g[3],3250441966,22),y=u(y,_,A,I,g[4],4118548399,7),I=u(I,y,_,A,g[5],1200080426,12),A=u(A,I,y,_,g[6],2821735955,17),_=u(_,A,I,y,g[7],4249261313,22),y=u(y,_,A,I,g[8],1770035416,7),I=u(I,y,_,A,g[9],2336552879,12),A=u(A,I,y,_,g[10],4294925233,17),_=u(_,A,I,y,g[11],2304563134,22),y=u(y,_,A,I,g[12],1804603682,7),I=u(I,y,_,A,g[13],4254626195,12),A=u(A,I,y,_,g[14],2792965006,17),_=u(_,A,I,y,g[15],1236535329,22),y=c(y,_,A,I,g[1],4129170786,5),I=c(I,y,_,A,g[6],3225465664,9),A=c(A,I,y,_,g[11],643717713,14),_=c(_,A,I,y,g[0],3921069994,20),y=c(y,_,A,I,g[5],3593408605,5),I=c(I,y,_,A,g[10],38016083,9),A=c(A,I,y,_,g[15],3634488961,14),_=c(_,A,I,y,g[4],3889429448,20),y=c(y,_,A,I,g[9],568446438,5),I=c(I,y,_,A,g[14],3275163606,9),A=c(A,I,y,_,g[3],4107603335,14),_=c(_,A,I,y,g[8],1163531501,20),y=c(y,_,A,I,g[13],2850285829,5),I=c(I,y,_,A,g[2],4243563512,9),A=c(A,I,y,_,g[7],1735328473,14),_=c(_,A,I,y,g[12],2368359562,20),y=d(y,_,A,I,g[5],4294588738,4),I=d(I,y,_,A,g[8],2272392833,11),A=d(A,I,y,_,g[11],1839030562,16),_=d(_,A,I,y,g[14],4259657740,23),y=d(y,_,A,I,g[1],2763975236,4),I=d(I,y,_,A,g[4],1272893353,11),A=d(A,I,y,_,g[7],4139469664,16),_=d(_,A,I,y,g[10],3200236656,23),y=d(y,_,A,I,g[13],681279174,4),I=d(I,y,_,A,g[0],3936430074,11),A=d(A,I,y,_,g[3],3572445317,16),_=d(_,A,I,y,g[6],76029189,23),y=d(y,_,A,I,g[9],3654602809,4),I=d(I,y,_,A,g[12],3873151461,11),A=d(A,I,y,_,g[15],530742520,16),_=d(_,A,I,y,g[2],3299628645,23),y=f(y,_,A,I,g[0],4096336452,6),I=f(I,y,_,A,g[7],1126891415,10),A=f(A,I,y,_,g[14],2878612391,15),_=f(_,A,I,y,g[5],4237533241,21),y=f(y,_,A,I,g[12],1700485571,6),I=f(I,y,_,A,g[3],2399980690,10),A=f(A,I,y,_,g[10],4293915773,15),_=f(_,A,I,y,g[1],2240044497,21),y=f(y,_,A,I,g[8],1873313359,6),I=f(I,y,_,A,g[15],4264355552,10),A=f(A,I,y,_,g[6],2734768916,15),_=f(_,A,I,y,g[13],1309151649,21),y=f(y,_,A,I,g[4],4149444226,6),I=f(I,y,_,A,g[11],3174756917,10),A=f(A,I,y,_,g[2],718787259,15),_=f(_,A,I,y,g[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+_|0,this._c=this._c+A|0,this._d=this._d+I|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=i.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g};function l(g,m){return g<<m|g>>>32-m}a(l,"z");function u(g,m,y,_,A,I,O){return l(g+(m&y|~m&_)+A+I|0,O)+m|0}a(u,"H");function c(g,m,y,_,A,I,O){return l(g+(m&_|y&~_)+A+I|0,O)+m|0}a(c,"T");function d(g,m,y,_,A,I,O){return l(g+(m^y^_)+A+I|0,O)+m|0}a(d,"f");function f(g,m,y,_,A,I,O){return l(g+(y^(m|~_))+A+I|0,O)+m|0}a(f,"w"),t.exports=o}),N5=tt((e,t)=>{var r=Un().Buffer,n=T5();function i(s,o,l,u){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw RangeError("salt should be Buffer with 8 byte length");for(var c=l/8,d=r.alloc(c),f=r.alloc(u||0),g=r.alloc(0);c>0||u>0;){var m=new n;m.update(g),m.update(s),o&&m.update(o),g=m.digest();var y=0;if(c>0){var _=d.length-c;y=Math.min(c,g.length),g.copy(d,_,0,y),c-=y}if(y<g.length&&u>0){var A=f.length-u,I=Math.min(u,g.length-y);g.copy(f,A,y,y+I),u-=I}}return g.fill(0),{key:d,iv:f}}a(i,"P"),t.exports=i}),Kg=tt(e=>{var t=(Ai(),mr(di));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),I5=tt((e,t)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=N5(),o=Kg(),l=Un().Buffer;t.exports=function(u,c){var d=u.toString(),f=d.match(r),g;if(f){var y="aes"+f[1],_=l.from(f[2],"hex"),A=l.from(f[3].replace(/[\r\n]/g,""),"base64"),I=s(c,_.slice(0,8),parseInt(f[1],10)).key,O=[],R=o.createDecipheriv(y,I,_);O.push(R.update(A)),O.push(R.final()),g=l.concat(O)}else{var m=d.match(i);g=l.from(m[2].replace(/[\r\n]/g,""),"base64")}var L=d.match(n)[1];return{tag:L,data:g}}}),Zg=tt((e,t)=>{var r=S5(),n=k5(),i=I5(),s=Kg(),o=Lg().pbkdf2Sync,l=Un().Buffer;function u(d,f){var g=d.algorithm.decrypt.kde.kdeparams.salt,m=parseInt(d.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=n[d.algorithm.decrypt.cipher.algo.join(".")],_=d.algorithm.decrypt.cipher.iv,A=d.subjectPrivateKey,I=parseInt(y.split("-")[1],10)/8,O=o(f,g,m,I,"sha1"),R=s.createDecipheriv(y,O,_),L=[];return L.push(R.update(A)),L.push(R.final()),l.concat(L)}a(u,"H");function c(d){var f;typeof d=="object"&&!l.isBuffer(d)&&(f=d.passphrase,d=d.key),typeof d=="string"&&(d=l.from(d));var g=i(d,f),m=g.tag,y=g.data,_,A;switch(m){case"CERTIFICATE":A=r.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(A||(A=r.PublicKey.decode(y,"der")),_=A.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(A.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return A.subjectPrivateKey=A.subjectPublicKey,{type:"ec",data:A};case"1.2.840.10040.4.1":return A.algorithm.params.pub_key=r.DSAparam.decode(A.subjectPublicKey.data,"der"),{type:"dsa",data:A.algorithm.params};default:throw Error("unknown key id "+_)}case"ENCRYPTED PRIVATE KEY":y=r.EncryptedPrivateKey.decode(y,"der"),y=u(y,f);case"PRIVATE KEY":switch(A=r.PrivateKey.decode(y,"der"),_=A.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(A.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:A.algorithm.curve,privateKey:r.ECPrivateKey.decode(A.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return A.algorithm.params.priv_key=r.DSAparam.decode(A.subjectPrivateKey,"der"),{type:"dsa",params:A.algorithm.params};default:throw Error("unknown key id "+_)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=r.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw Error("unknown key type "+m)}}a(c,"T"),c.signature=r.signature,t.exports=c}),Yg=tt((e,t)=>{var r=ac(),n=Un().Buffer;t.exports=function(s,o){for(var l=n.alloc(0),u=0,c;l.length<o;)c=i(u++),l=n.concat([l,r("sha1").update(s).update(c).digest()]);return l.slice(0,o)};function i(s){var o=n.allocUnsafe(4);return o.writeUInt32BE(s,0),o}a(i,"P")}),$g=tt((e,t)=>{t.exports=function(r,n){for(var i=r.length,s=-1;++s<i;)r[s]^=n[s];return r}}),rh=tt((e,t)=>{(function(r,n){function i(h,w){if(!h)throw Error(w||"Assertion failed")}a(i,"P");function s(h,w){h.super_=w;var b=a(function(){},"X");b.prototype=w.prototype,h.prototype=new b,h.prototype.constructor=h}a(s,"O");function o(h,w,b){if(o.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(h||0,w||10,b||"be"))}a(o,"Y"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Dn(),mr(An)).Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,b){if(typeof h=="number")return this._initNumber(h,w,b);if(typeof h=="object")return this._initArray(h,w,b);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(w===16?this._parseHex(h,x,b):(this._parseBase(h,w,x),b==="le"&&this._initArray(this.toArray(),w,b)))},o.prototype._initNumber=function(h,w,b){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),w,b)},o.prototype._initArray=function(h,w,b){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,T,N=0;if(b==="be")for(x=h.length-1,E=0;x>=0;x-=3)T=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);else if(b==="le")for(x=0,E=0;x<h.length;x+=3)T=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[E]|=T<<N&67108863,this.words[E+1]=T>>>26-N&67108863,N+=24,N>=26&&(N-=26,E++);return this.strip()};function u(h,w){var b=h.charCodeAt(w);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}a(u,"H");function c(h,w,b){var x=u(h,b);return b-1>=w&&(x|=u(h,b-1)<<4),x}a(c,"T"),o.prototype._parseHex=function(h,w,b){this.length=Math.ceil((h.length-w)/6),this.words=Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,T=0,N;if(b==="be")for(x=h.length-1;x>=w;x-=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8;else{var k=h.length-w;for(x=k%2===0?w+1:w;x<h.length;x+=2)N=c(h,w,x)<<E,this.words[T]|=N&67108863,E>=18?(E-=18,T+=1,this.words[T]|=N>>>26):E+=8}this.strip()};function d(h,w,b,x){for(var E=0,T=Math.min(h.length,b),N=w;N<T;N++){var k=h.charCodeAt(N)-48;E*=x,k>=49?E+=k-49+10:k>=17?E+=k-17+10:E+=k}return E}a(d,"f"),o.prototype._parseBase=function(h,w,b){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=w)x++;x--,E=E/w|0;for(var T=h.length-b,N=T%x,k=Math.min(T,T-N)+b,p=0,S=b;S<k;S+=x)p=d(h,S,S+x,w),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(N!==0){var C=1;for(p=d(h,S,h.length,w),S=0;S<N;S++)C*=w;this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},o.prototype.copy=function(h){h.words=Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var b;if(h===16||h==="hex"){b="";for(var x=0,E=0,T=0;T<this.length;T++){var N=this.words[T],k=((N<<x|E)&16777215).toString(16);E=N>>>24-x&16777215,x+=2,x>=26&&(x-=26,T--),E!==0||T!==this.length-1?b=f[6-k.length]+k+b:b=k+b}for(E!==0&&(b=E.toString(16)+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(h===(h|0)&&h>=2&&h<=36){var p=g[h],S=m[h];b="";var C=this.clone();for(C.negative=0;!C.isZero();){var M=C.modn(S).toString(h);C=C.idivn(S),C.isZero()?b=M+b:b=f[p-M.length]+M+b}for(this.isZero()&&(b="0"+b);b.length%w!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(h,w){return i(typeof l<"u"),this.toArrayLike(l,h,w)},o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)},o.prototype.toArrayLike=function(h,w,b){var x=this.byteLength(),E=b||Math.max(1,x);i(x<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0"),this.strip();var T=w==="le",N=new h(E),k,p,S=this.clone();if(T){for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[p]=k;for(;p<E;p++)N[p]=0}else{for(p=0;p<E-x;p++)N[p]=0;for(p=0;!S.isZero();p++)k=S.andln(255),S.iushrn(8),N[E-p-1]=k}return N},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,b=0;return w>=4096&&(b+=13,w>>>=13),w>=64&&(b+=7,w>>>=7),w>=8&&(b+=4,w>>>=4),w>=2&&(b+=2,w>>>=2),b+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,b=0;return(w&8191)===0&&(b+=13,w>>>=13),(w&127)===0&&(b+=7,w>>>=7),(w&15)===0&&(b+=4,w>>>=4),(w&3)===0&&(b+=2,w>>>=2),(w&1)===0&&b++,b},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function y(h){for(var w=Array(h.bitLength()),b=0;b<w.length;b++){var x=b/26|0,E=b%26;w[b]=(h.words[x]&1<<E)>>>E}return w}a(y,"N"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var b=this._zeroBits(this.words[w]);if(h+=b,b!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this.strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]&h.words[b];return this.length=w.length,this.strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,b;this.length>h.length?(w=this,b=h):(w=h,b=this);for(var x=0;x<b.length;x++)this.words[x]=w.words[x]^b.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this.strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,b=h%26;this._expand(w),b>0&&w--;for(var x=0;x<w;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var b=h/26|0,x=h%26;return this._expand(b+1),w?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var b,x;this.length>h.length?(b=this,x=h):(b=h,x=this);for(var E=0,T=0;T<x.length;T++)w=(b.words[T]|0)+(x.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;for(;E!==0&&T<b.length;T++)w=(b.words[T]|0)+E,this.words[T]=w&67108863,E=w>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;T<b.length;T++)this.words[T]=b.words[T];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var b=this.cmp(h);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;b>0?(x=this,E=h):(x=h,E=this);for(var T=0,N=0;N<E.length;N++)w=(x.words[N]|0)-(E.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;for(;T!==0&&N<x.length;N++)w=(x.words[N]|0)+T,T=w>>26,this.words[N]=w&67108863;if(T===0&&N<x.length&&x!==this)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=Math.max(this.length,N),x!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function _(h,w,b){b.negative=w.negative^h.negative;var x=h.length+w.length|0;b.length=x,x=x-1|0;var E=h.words[0]|0,T=w.words[0]|0,N=E*T,k=N&67108863,p=N/67108864|0;b.words[0]=k;for(var S=1;S<x;S++){for(var C=p>>>26,M=p&67108863,U=Math.min(S,w.length-1),B=Math.max(0,S-h.length+1);B<=U;B++){var G=S-B|0;E=h.words[G]|0,T=w.words[B]|0,N=E*T+M,C+=N/67108864|0,M=N&67108863}b.words[S]=M|0,p=C|0}return p!==0?b.words[S]=p|0:b.length--,b.strip()}a(_,"h");var A=a(function(h,w,b){var x=h.words,E=w.words,T=b.words,N=0,k,p,S,C=x[0]|0,M=C&8191,U=C>>>13,B=x[1]|0,G=B&8191,J=B>>>13,ue=x[2]|0,se=ue&8191,oe=ue>>>13,Pe=x[3]|0,Ee=Pe&8191,be=Pe>>>13,Ce=x[4]|0,X=Ce&8191,ce=Ce>>>13,te=x[5]|0,ie=te&8191,me=te>>>13,xe=x[6]|0,Oe=xe&8191,de=xe>>>13,Q=x[7]|0,ne=Q&8191,q=Q>>>13,$=x[8]|0,re=$&8191,ae=$>>>13,Be=x[9]|0,Ie=Be&8191,Ke=Be>>>13,kt=E[0]|0,Te=kt&8191,Xe=kt>>>13,we=E[1]|0,Ne=we&8191,Fe=we>>>13,Ze=E[2]|0,Ue=Ze&8191,qe=Ze>>>13,Rt=E[3]|0,Je=Rt&8191,Re=Rt>>>13,et=E[4]|0,ze=et&8191,rt=et>>>13,Tt=E[5]|0,pe=Tt&8191,ye=Tt>>>13,$e=E[6]|0,Le=$e&8191,He=$e>>>13,ut=E[7]|0,he=ut&8191,je=ut>>>13,lt=E[8]|0,Me=lt&8191,ot=lt>>>13,Ft=E[9]|0,at=Ft&8191,mt=Ft>>>13;b.negative=h.negative^w.negative,b.length=19,k=Math.imul(M,Te),p=Math.imul(M,Xe),p=p+Math.imul(U,Te)|0,S=Math.imul(U,Xe);var Kt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,k=Math.imul(G,Te),p=Math.imul(G,Xe),p=p+Math.imul(J,Te)|0,S=Math.imul(J,Xe),k=k+Math.imul(M,Ne)|0,p=p+Math.imul(M,Fe)|0,p=p+Math.imul(U,Ne)|0,S=S+Math.imul(U,Fe)|0;var Qt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,k=Math.imul(se,Te),p=Math.imul(se,Xe),p=p+Math.imul(oe,Te)|0,S=Math.imul(oe,Xe),k=k+Math.imul(G,Ne)|0,p=p+Math.imul(G,Fe)|0,p=p+Math.imul(J,Ne)|0,S=S+Math.imul(J,Fe)|0,k=k+Math.imul(M,Ue)|0,p=p+Math.imul(M,qe)|0,p=p+Math.imul(U,Ue)|0,S=S+Math.imul(U,qe)|0;var nt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,k=Math.imul(Ee,Te),p=Math.imul(Ee,Xe),p=p+Math.imul(be,Te)|0,S=Math.imul(be,Xe),k=k+Math.imul(se,Ne)|0,p=p+Math.imul(se,Fe)|0,p=p+Math.imul(oe,Ne)|0,S=S+Math.imul(oe,Fe)|0,k=k+Math.imul(G,Ue)|0,p=p+Math.imul(G,qe)|0,p=p+Math.imul(J,Ue)|0,S=S+Math.imul(J,qe)|0,k=k+Math.imul(M,Je)|0,p=p+Math.imul(M,Re)|0,p=p+Math.imul(U,Je)|0,S=S+Math.imul(U,Re)|0;var ft=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(ft>>>26)|0,ft&=67108863,k=Math.imul(X,Te),p=Math.imul(X,Xe),p=p+Math.imul(ce,Te)|0,S=Math.imul(ce,Xe),k=k+Math.imul(Ee,Ne)|0,p=p+Math.imul(Ee,Fe)|0,p=p+Math.imul(be,Ne)|0,S=S+Math.imul(be,Fe)|0,k=k+Math.imul(se,Ue)|0,p=p+Math.imul(se,qe)|0,p=p+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,qe)|0,k=k+Math.imul(G,Je)|0,p=p+Math.imul(G,Re)|0,p=p+Math.imul(J,Je)|0,S=S+Math.imul(J,Re)|0,k=k+Math.imul(M,ze)|0,p=p+Math.imul(M,rt)|0,p=p+Math.imul(U,ze)|0,S=S+Math.imul(U,rt)|0;var Mt=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(ie,Te),p=Math.imul(ie,Xe),p=p+Math.imul(me,Te)|0,S=Math.imul(me,Xe),k=k+Math.imul(X,Ne)|0,p=p+Math.imul(X,Fe)|0,p=p+Math.imul(ce,Ne)|0,S=S+Math.imul(ce,Fe)|0,k=k+Math.imul(Ee,Ue)|0,p=p+Math.imul(Ee,qe)|0,p=p+Math.imul(be,Ue)|0,S=S+Math.imul(be,qe)|0,k=k+Math.imul(se,Je)|0,p=p+Math.imul(se,Re)|0,p=p+Math.imul(oe,Je)|0,S=S+Math.imul(oe,Re)|0,k=k+Math.imul(G,ze)|0,p=p+Math.imul(G,rt)|0,p=p+Math.imul(J,ze)|0,S=S+Math.imul(J,rt)|0,k=k+Math.imul(M,pe)|0,p=p+Math.imul(M,ye)|0,p=p+Math.imul(U,pe)|0,S=S+Math.imul(U,ye)|0;var cr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(cr>>>26)|0,cr&=67108863,k=Math.imul(Oe,Te),p=Math.imul(Oe,Xe),p=p+Math.imul(de,Te)|0,S=Math.imul(de,Xe),k=k+Math.imul(ie,Ne)|0,p=p+Math.imul(ie,Fe)|0,p=p+Math.imul(me,Ne)|0,S=S+Math.imul(me,Fe)|0,k=k+Math.imul(X,Ue)|0,p=p+Math.imul(X,qe)|0,p=p+Math.imul(ce,Ue)|0,S=S+Math.imul(ce,qe)|0,k=k+Math.imul(Ee,Je)|0,p=p+Math.imul(Ee,Re)|0,p=p+Math.imul(be,Je)|0,S=S+Math.imul(be,Re)|0,k=k+Math.imul(se,ze)|0,p=p+Math.imul(se,rt)|0,p=p+Math.imul(oe,ze)|0,S=S+Math.imul(oe,rt)|0,k=k+Math.imul(G,pe)|0,p=p+Math.imul(G,ye)|0,p=p+Math.imul(J,pe)|0,S=S+Math.imul(J,ye)|0,k=k+Math.imul(M,Le)|0,p=p+Math.imul(M,He)|0,p=p+Math.imul(U,Le)|0,S=S+Math.imul(U,He)|0;var tr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(tr>>>26)|0,tr&=67108863,k=Math.imul(ne,Te),p=Math.imul(ne,Xe),p=p+Math.imul(q,Te)|0,S=Math.imul(q,Xe),k=k+Math.imul(Oe,Ne)|0,p=p+Math.imul(Oe,Fe)|0,p=p+Math.imul(de,Ne)|0,S=S+Math.imul(de,Fe)|0,k=k+Math.imul(ie,Ue)|0,p=p+Math.imul(ie,qe)|0,p=p+Math.imul(me,Ue)|0,S=S+Math.imul(me,qe)|0,k=k+Math.imul(X,Je)|0,p=p+Math.imul(X,Re)|0,p=p+Math.imul(ce,Je)|0,S=S+Math.imul(ce,Re)|0,k=k+Math.imul(Ee,ze)|0,p=p+Math.imul(Ee,rt)|0,p=p+Math.imul(be,ze)|0,S=S+Math.imul(be,rt)|0,k=k+Math.imul(se,pe)|0,p=p+Math.imul(se,ye)|0,p=p+Math.imul(oe,pe)|0,S=S+Math.imul(oe,ye)|0,k=k+Math.imul(G,Le)|0,p=p+Math.imul(G,He)|0,p=p+Math.imul(J,Le)|0,S=S+Math.imul(J,He)|0,k=k+Math.imul(M,he)|0,p=p+Math.imul(M,je)|0,p=p+Math.imul(U,he)|0,S=S+Math.imul(U,je)|0;var xr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(xr>>>26)|0,xr&=67108863,k=Math.imul(re,Te),p=Math.imul(re,Xe),p=p+Math.imul(ae,Te)|0,S=Math.imul(ae,Xe),k=k+Math.imul(ne,Ne)|0,p=p+Math.imul(ne,Fe)|0,p=p+Math.imul(q,Ne)|0,S=S+Math.imul(q,Fe)|0,k=k+Math.imul(Oe,Ue)|0,p=p+Math.imul(Oe,qe)|0,p=p+Math.imul(de,Ue)|0,S=S+Math.imul(de,qe)|0,k=k+Math.imul(ie,Je)|0,p=p+Math.imul(ie,Re)|0,p=p+Math.imul(me,Je)|0,S=S+Math.imul(me,Re)|0,k=k+Math.imul(X,ze)|0,p=p+Math.imul(X,rt)|0,p=p+Math.imul(ce,ze)|0,S=S+Math.imul(ce,rt)|0,k=k+Math.imul(Ee,pe)|0,p=p+Math.imul(Ee,ye)|0,p=p+Math.imul(be,pe)|0,S=S+Math.imul(be,ye)|0,k=k+Math.imul(se,Le)|0,p=p+Math.imul(se,He)|0,p=p+Math.imul(oe,Le)|0,S=S+Math.imul(oe,He)|0,k=k+Math.imul(G,he)|0,p=p+Math.imul(G,je)|0,p=p+Math.imul(J,he)|0,S=S+Math.imul(J,je)|0,k=k+Math.imul(M,Me)|0,p=p+Math.imul(M,ot)|0,p=p+Math.imul(U,Me)|0,S=S+Math.imul(U,ot)|0;var Pr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,k=Math.imul(Ie,Te),p=Math.imul(Ie,Xe),p=p+Math.imul(Ke,Te)|0,S=Math.imul(Ke,Xe),k=k+Math.imul(re,Ne)|0,p=p+Math.imul(re,Fe)|0,p=p+Math.imul(ae,Ne)|0,S=S+Math.imul(ae,Fe)|0,k=k+Math.imul(ne,Ue)|0,p=p+Math.imul(ne,qe)|0,p=p+Math.imul(q,Ue)|0,S=S+Math.imul(q,qe)|0,k=k+Math.imul(Oe,Je)|0,p=p+Math.imul(Oe,Re)|0,p=p+Math.imul(de,Je)|0,S=S+Math.imul(de,Re)|0,k=k+Math.imul(ie,ze)|0,p=p+Math.imul(ie,rt)|0,p=p+Math.imul(me,ze)|0,S=S+Math.imul(me,rt)|0,k=k+Math.imul(X,pe)|0,p=p+Math.imul(X,ye)|0,p=p+Math.imul(ce,pe)|0,S=S+Math.imul(ce,ye)|0,k=k+Math.imul(Ee,Le)|0,p=p+Math.imul(Ee,He)|0,p=p+Math.imul(be,Le)|0,S=S+Math.imul(be,He)|0,k=k+Math.imul(se,he)|0,p=p+Math.imul(se,je)|0,p=p+Math.imul(oe,he)|0,S=S+Math.imul(oe,je)|0,k=k+Math.imul(G,Me)|0,p=p+Math.imul(G,ot)|0,p=p+Math.imul(J,Me)|0,S=S+Math.imul(J,ot)|0,k=k+Math.imul(M,at)|0,p=p+Math.imul(M,mt)|0,p=p+Math.imul(U,at)|0,S=S+Math.imul(U,mt)|0;var kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Ie,Ne),p=Math.imul(Ie,Fe),p=p+Math.imul(Ke,Ne)|0,S=Math.imul(Ke,Fe),k=k+Math.imul(re,Ue)|0,p=p+Math.imul(re,qe)|0,p=p+Math.imul(ae,Ue)|0,S=S+Math.imul(ae,qe)|0,k=k+Math.imul(ne,Je)|0,p=p+Math.imul(ne,Re)|0,p=p+Math.imul(q,Je)|0,S=S+Math.imul(q,Re)|0,k=k+Math.imul(Oe,ze)|0,p=p+Math.imul(Oe,rt)|0,p=p+Math.imul(de,ze)|0,S=S+Math.imul(de,rt)|0,k=k+Math.imul(ie,pe)|0,p=p+Math.imul(ie,ye)|0,p=p+Math.imul(me,pe)|0,S=S+Math.imul(me,ye)|0,k=k+Math.imul(X,Le)|0,p=p+Math.imul(X,He)|0,p=p+Math.imul(ce,Le)|0,S=S+Math.imul(ce,He)|0,k=k+Math.imul(Ee,he)|0,p=p+Math.imul(Ee,je)|0,p=p+Math.imul(be,he)|0,S=S+Math.imul(be,je)|0,k=k+Math.imul(se,Me)|0,p=p+Math.imul(se,ot)|0,p=p+Math.imul(oe,Me)|0,S=S+Math.imul(oe,ot)|0,k=k+Math.imul(G,at)|0,p=p+Math.imul(G,mt)|0,p=p+Math.imul(J,at)|0,S=S+Math.imul(J,mt)|0;var br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(br>>>26)|0,br&=67108863,k=Math.imul(Ie,Ue),p=Math.imul(Ie,qe),p=p+Math.imul(Ke,Ue)|0,S=Math.imul(Ke,qe),k=k+Math.imul(re,Je)|0,p=p+Math.imul(re,Re)|0,p=p+Math.imul(ae,Je)|0,S=S+Math.imul(ae,Re)|0,k=k+Math.imul(ne,ze)|0,p=p+Math.imul(ne,rt)|0,p=p+Math.imul(q,ze)|0,S=S+Math.imul(q,rt)|0,k=k+Math.imul(Oe,pe)|0,p=p+Math.imul(Oe,ye)|0,p=p+Math.imul(de,pe)|0,S=S+Math.imul(de,ye)|0,k=k+Math.imul(ie,Le)|0,p=p+Math.imul(ie,He)|0,p=p+Math.imul(me,Le)|0,S=S+Math.imul(me,He)|0,k=k+Math.imul(X,he)|0,p=p+Math.imul(X,je)|0,p=p+Math.imul(ce,he)|0,S=S+Math.imul(ce,je)|0,k=k+Math.imul(Ee,Me)|0,p=p+Math.imul(Ee,ot)|0,p=p+Math.imul(be,Me)|0,S=S+Math.imul(be,ot)|0,k=k+Math.imul(se,at)|0,p=p+Math.imul(se,mt)|0,p=p+Math.imul(oe,at)|0,S=S+Math.imul(oe,mt)|0;var Kr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,k=Math.imul(Ie,Je),p=Math.imul(Ie,Re),p=p+Math.imul(Ke,Je)|0,S=Math.imul(Ke,Re),k=k+Math.imul(re,ze)|0,p=p+Math.imul(re,rt)|0,p=p+Math.imul(ae,ze)|0,S=S+Math.imul(ae,rt)|0,k=k+Math.imul(ne,pe)|0,p=p+Math.imul(ne,ye)|0,p=p+Math.imul(q,pe)|0,S=S+Math.imul(q,ye)|0,k=k+Math.imul(Oe,Le)|0,p=p+Math.imul(Oe,He)|0,p=p+Math.imul(de,Le)|0,S=S+Math.imul(de,He)|0,k=k+Math.imul(ie,he)|0,p=p+Math.imul(ie,je)|0,p=p+Math.imul(me,he)|0,S=S+Math.imul(me,je)|0,k=k+Math.imul(X,Me)|0,p=p+Math.imul(X,ot)|0,p=p+Math.imul(ce,Me)|0,S=S+Math.imul(ce,ot)|0,k=k+Math.imul(Ee,at)|0,p=p+Math.imul(Ee,mt)|0,p=p+Math.imul(be,at)|0,S=S+Math.imul(be,mt)|0;var $r=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+($r>>>26)|0,$r&=67108863,k=Math.imul(Ie,ze),p=Math.imul(Ie,rt),p=p+Math.imul(Ke,ze)|0,S=Math.imul(Ke,rt),k=k+Math.imul(re,pe)|0,p=p+Math.imul(re,ye)|0,p=p+Math.imul(ae,pe)|0,S=S+Math.imul(ae,ye)|0,k=k+Math.imul(ne,Le)|0,p=p+Math.imul(ne,He)|0,p=p+Math.imul(q,Le)|0,S=S+Math.imul(q,He)|0,k=k+Math.imul(Oe,he)|0,p=p+Math.imul(Oe,je)|0,p=p+Math.imul(de,he)|0,S=S+Math.imul(de,je)|0,k=k+Math.imul(ie,Me)|0,p=p+Math.imul(ie,ot)|0,p=p+Math.imul(me,Me)|0,S=S+Math.imul(me,ot)|0,k=k+Math.imul(X,at)|0,p=p+Math.imul(X,mt)|0,p=p+Math.imul(ce,at)|0,S=S+Math.imul(ce,mt)|0;var zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(zr>>>26)|0,zr&=67108863,k=Math.imul(Ie,pe),p=Math.imul(Ie,ye),p=p+Math.imul(Ke,pe)|0,S=Math.imul(Ke,ye),k=k+Math.imul(re,Le)|0,p=p+Math.imul(re,He)|0,p=p+Math.imul(ae,Le)|0,S=S+Math.imul(ae,He)|0,k=k+Math.imul(ne,he)|0,p=p+Math.imul(ne,je)|0,p=p+Math.imul(q,he)|0,S=S+Math.imul(q,je)|0,k=k+Math.imul(Oe,Me)|0,p=p+Math.imul(Oe,ot)|0,p=p+Math.imul(de,Me)|0,S=S+Math.imul(de,ot)|0,k=k+Math.imul(ie,at)|0,p=p+Math.imul(ie,mt)|0,p=p+Math.imul(me,at)|0,S=S+Math.imul(me,mt)|0;var Zr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,k=Math.imul(Ie,Le),p=Math.imul(Ie,He),p=p+Math.imul(Ke,Le)|0,S=Math.imul(Ke,He),k=k+Math.imul(re,he)|0,p=p+Math.imul(re,je)|0,p=p+Math.imul(ae,he)|0,S=S+Math.imul(ae,je)|0,k=k+Math.imul(ne,Me)|0,p=p+Math.imul(ne,ot)|0,p=p+Math.imul(q,Me)|0,S=S+Math.imul(q,ot)|0,k=k+Math.imul(Oe,at)|0,p=p+Math.imul(Oe,mt)|0,p=p+Math.imul(de,at)|0,S=S+Math.imul(de,mt)|0;var Ar=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,k=Math.imul(Ie,he),p=Math.imul(Ie,je),p=p+Math.imul(Ke,he)|0,S=Math.imul(Ke,je),k=k+Math.imul(re,Me)|0,p=p+Math.imul(re,ot)|0,p=p+Math.imul(ae,Me)|0,S=S+Math.imul(ae,ot)|0,k=k+Math.imul(ne,at)|0,p=p+Math.imul(ne,mt)|0,p=p+Math.imul(q,at)|0,S=S+Math.imul(q,mt)|0;var Br=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Br>>>26)|0,Br&=67108863,k=Math.imul(Ie,Me),p=Math.imul(Ie,ot),p=p+Math.imul(Ke,Me)|0,S=Math.imul(Ke,ot),k=k+Math.imul(re,at)|0,p=p+Math.imul(re,mt)|0,p=p+Math.imul(ae,at)|0,S=S+Math.imul(ae,mt)|0;var Jr=(N+k|0)+((p&8191)<<13)|0;N=(S+(p>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,k=Math.imul(Ie,at),p=Math.imul(Ie,mt),p=p+Math.imul(Ke,at)|0,S=Math.imul(Ke,mt);var Yr=(N+k|0)+((p&8191)<<13)|0;return N=(S+(p>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,T[0]=Kt,T[1]=Qt,T[2]=nt,T[3]=ft,T[4]=Mt,T[5]=cr,T[6]=tr,T[7]=xr,T[8]=Pr,T[9]=kr,T[10]=br,T[11]=Kr,T[12]=$r,T[13]=zr,T[14]=Zr,T[15]=Ar,T[16]=Br,T[17]=Jr,T[18]=Yr,N!==0&&(T[19]=N,b.length++),b},"E");Math.imul||(A=_);function I(h,w,b){b.negative=w.negative^h.negative,b.length=h.length+w.length;for(var x=0,E=0,T=0;T<b.length-1;T++){var N=E;E=0;for(var k=x&67108863,p=Math.min(T,w.length-1),S=Math.max(0,T-h.length+1);S<=p;S++){var C=T-S,M=h.words[C]|0,U=w.words[S]|0,B=M*U,G=B&67108863;N=N+(B/67108864|0)|0,G=G+k|0,k=G&67108863,N=N+(G>>>26)|0,E+=N>>>26,N&=67108863}b.words[T]=k,x=N,N=E}return x!==0?b.words[T]=x:b.length--,b.strip()}a(I,"D");function O(h,w,b){var x=new R;return x.mulp(h,w,b)}a(O,"I"),o.prototype.mulTo=function(h,w){var b,x=this.length+h.length;return this.length===10&&h.length===10?b=A(this,h,w):x<63?b=_(this,h,w):x<1024?b=I(this,h,w):b=O(this,h,w),b};function R(h,w){this.x=h,this.y=w}a(R,"L"),R.prototype.makeRBT=function(h){for(var w=Array(h),b=o.prototype._countBits(h)-1,x=0;x<h;x++)w[x]=this.revBin(x,b,h);return w},R.prototype.revBin=function(h,w,b){if(h===0||h===b-1)return h;for(var x=0,E=0;E<w;E++)x|=(h&1)<<w-E-1,h>>=1;return x},R.prototype.permute=function(h,w,b,x,E,T){for(var N=0;N<T;N++)x[N]=w[h[N]],E[N]=b[h[N]]},R.prototype.transform=function(h,w,b,x,E,T){this.permute(T,h,w,b,x,E);for(var N=1;N<E;N<<=1)for(var k=N<<1,p=Math.cos(2*Math.PI/k),S=Math.sin(2*Math.PI/k),C=0;C<E;C+=k)for(var M=p,U=S,B=0;B<N;B++){var G=b[C+B],J=x[C+B],ue=b[C+B+N],se=x[C+B+N],oe=M*ue-U*se;se=M*se+U*ue,ue=oe,b[C+B]=G+ue,x[C+B]=J+se,b[C+B+N]=G-ue,x[C+B+N]=J-se,B!==k&&(oe=p*M-S*U,U=p*U+S*M,M=oe)}},R.prototype.guessLen13b=function(h,w){var b=Math.max(w,h)|1,x=b&1,E=0;for(b=b/2|0;b;b=b>>>1)E++;return 1<<E+1+x},R.prototype.conjugate=function(h,w,b){if(!(b<=1))for(var x=0;x<b/2;x++){var E=h[x];h[x]=h[b-x-1],h[b-x-1]=E,E=w[x],w[x]=-w[b-x-1],w[b-x-1]=-E}},R.prototype.normalize13b=function(h,w){for(var b=0,x=0;x<w/2;x++){var E=Math.round(h[2*x+1]/w)*8192+Math.round(h[2*x]/w)+b;h[x]=E&67108863,E<67108864?b=0:b=E/67108864|0}return h},R.prototype.convert13b=function(h,w,b,x){for(var E=0,T=0;T<w;T++)E=E+(h[T]|0),b[2*T]=E&8191,E=E>>>13,b[2*T+1]=E&8191,E=E>>>13;for(T=2*w;T<x;++T)b[T]=0;i(E===0),i((E&-8192)===0)},R.prototype.stub=function(h){for(var w=Array(h),b=0;b<h;b++)w[b]=0;return w},R.prototype.mulp=function(h,w,b){var x=2*this.guessLen13b(h.length,w.length),E=this.makeRBT(x),T=this.stub(x),N=Array(x),k=Array(x),p=Array(x),S=Array(x),C=Array(x),M=Array(x),U=b.words;U.length=x,this.convert13b(h.words,h.length,N,x),this.convert13b(w.words,w.length,S,x),this.transform(N,T,k,p,x,E),this.transform(S,T,C,M,x,E);for(var B=0;B<x;B++){var G=k[B]*C[B]-p[B]*M[B];p[B]=k[B]*M[B]+p[B]*C[B],k[B]=G}return this.conjugate(k,p,x),this.transform(k,p,U,T,x,E),this.conjugate(U,T,x),this.normalize13b(U,x),b.negative=h.negative^w.negative,b.length=h.length+w.length,b.strip()},o.prototype.mul=function(h){var w=new o(null);return w.words=Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=Array(this.length+h.length),O(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){i(typeof h=="number"),i(h<67108864);for(var w=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*h,E=(x&67108863)+(w&67108863);w>>=26,w+=x/67108864|0,w+=E>>>26,this.words[b]=E&67108863}return w!==0&&(this.words[b]=w,this.length++),this.length=h===0?1:this.length,this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=y(h);if(w.length===0)return new o(1);for(var b=this,x=0;x<w.length&&w[x]===0;x++,b=b.sqr());if(++x<w.length)for(var E=b.sqr();x<w.length;x++,E=E.sqr())w[x]!==0&&(b=b.mul(E));return b},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=67108863>>>26-w<<26-w,E;if(w!==0){var T=0;for(E=0;E<this.length;E++){var N=this.words[E]&x,k=(this.words[E]|0)-N<<w;this.words[E]=k|T,T=N>>>26-w}T&&(this.words[E]=T,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,b){i(typeof h=="number"&&h>=0);var x;w?x=(w-w%26)/26:x=0;var E=h%26,T=Math.min((h-E)/26,this.length),N=67108863^67108863>>>E<<E,k=b;if(x-=T,x=Math.max(0,x),k){for(var p=0;p<T;p++)k.words[p]=this.words[p];k.length=T}if(T!==0)if(this.length>T)for(this.length-=T,p=0;p<this.length;p++)this.words[p]=this.words[p+T];else this.words[0]=0,this.length=1;var S=0;for(p=this.length-1;p>=0&&(S!==0||p>=x);p--){var C=this.words[p]|0;this.words[p]=S<<26-E|C>>>E,S=C&N}return k&&S!==0&&(k.words[k.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(h,w,b){return i(this.negative===0),this.iushrn(h,w,b)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return!1;var E=this.words[b];return!!(E&x)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,b=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(w!==0&&b++,this.length=Math.min(b,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,b){var x=h.length+b,E;this._expand(x);var T,N=0;for(E=0;E<h.length;E++){T=(this.words[E+b]|0)+N;var k=(h.words[E]|0)*w;T-=k&67108863,N=(T>>26)-(k/67108864|0),this.words[E+b]=T&67108863}for(;E<this.length-b;E++)T=(this.words[E+b]|0)+N,N=T>>26,this.words[E+b]=T&67108863;if(N===0)return this.strip();for(i(N===-1),N=0,E=0;E<this.length;E++)T=-(this.words[E]|0)+N,N=T>>26,this.words[E]=T&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(h,w){var b=this.length-h.length,x=this.clone(),E=h,T=E.words[E.length-1]|0,N=this._countBits(T);b=26-N,b!==0&&(E=E.ushln(b),x.iushln(b),T=E.words[E.length-1]|0);var k=x.length-E.length,p;if(w!=="mod"){p=new o(null),p.length=k+1,p.words=Array(p.length);for(var S=0;S<p.length;S++)p.words[S]=0}var C=x.clone()._ishlnsubmul(E,1,k);C.negative===0&&(x=C,p&&(p.words[k]=1));for(var M=k-1;M>=0;M--){var U=(x.words[E.length+M]|0)*67108864+(x.words[E.length+M-1]|0);for(U=Math.min(U/T|0,67108863),x._ishlnsubmul(E,U,M);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(E,1,M),!x.isZero()&&(x.negative^=1);p&&(p.words[M]=U)}return p&&p.strip(),x.strip(),w!=="div"&&b!==0&&x.iushrn(b),{div:p||null,mod:x}},o.prototype.divmod=function(h,w,b){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,E,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,w),w!=="mod"&&(x=T.div.neg()),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.iadd(h)),{div:x,mod:E}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),w),w!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&h.negative)!==0?(T=this.neg().divmod(h.neg(),w),w!=="div"&&(E=T.mod.neg(),b&&E.negative!==0&&E.isub(h)),{div:T.div,mod:E}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var b=w.div.negative!==0?w.mod.isub(h):w.mod,x=h.ushrn(1),E=h.andln(1),T=b.cmp(x);return T<0||E===1&&T===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(h){i(h<=67108863);for(var w=67108864%h,b=0,x=this.length-1;x>=0;x--)b=(w*b+(this.words[x]|0))%h;return b},o.prototype.idivn=function(h){i(h<=67108863);for(var w=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+w*67108864;this.words[b]=x/h|0,w=x%h}return this.strip()},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=new o(0),N=new o(1),k=0;w.isEven()&&b.isEven();)w.iushrn(1),b.iushrn(1),++k;for(var p=b.clone(),S=w.clone();!w.isZero();){for(var C=0,M=1;(w.words[0]&M)===0&&C<26;++C,M<<=1);if(C>0)for(w.iushrn(C);C-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(S)),x.iushrn(1),E.iushrn(1);for(var U=0,B=1;(b.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(p),N.isub(S)),T.iushrn(1),N.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(T),E.isub(N)):(b.isub(w),T.isub(x),N.isub(E))}return{a:T,b:N,gcd:b.iushln(k)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,b=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var x=new o(1),E=new o(0),T=b.clone();w.cmpn(1)>0&&b.cmpn(1)>0;){for(var N=0,k=1;(w.words[0]&k)===0&&N<26;++N,k<<=1);if(N>0)for(w.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var p=0,S=1;(b.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(b.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);w.cmp(b)>=0?(w.isub(b),x.isub(E)):(b.isub(w),E.isub(x))}var C;return w.cmpn(1)===0?C=x:C=E,C.cmpn(0)<0&&C.iadd(h),C},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),b=h.clone();w.negative=0,b.negative=0;for(var x=0;w.isEven()&&b.isEven();x++)w.iushrn(1),b.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=w.cmp(b);if(E<0){var T=w;w=b,b=T}else if(E===0||b.cmpn(1)===0)break;w.isub(b)}while(!0);return b.iushln(x)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,b=(h-w)/26,x=1<<w;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var E=x,T=b;E!==0&&T<this.length;T++){var N=this.words[T]|0;N+=E,E=N>>>26,N&=67108863,this.words[T]=N}return E!==0&&(this.words[T]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var b;if(this.length>1)b=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var x=this.words[0]|0;b=x===h?0:x<h?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,E=h.words[b]|0;if(x!==E){x<E?w=-1:x>E&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new F(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function D(h,w){this.name=h,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(D,"y"),D.prototype._tmp=function(){var h=new o(null);return h.words=Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var w=h,b;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),b=w.bitLength();while(b>this.n);var x=b<this.n?-1:w.ucmp(this.p);return x===0?(w.words[0]=0,w.length=1):x>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(h,w){h.iushrn(this.n,0,w)},D.prototype.imulK=function(h){return h.imul(this.k)};function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(P,"c"),s(P,D),P.prototype.split=function(h,w){for(var b=4194303,x=Math.min(h.length,9),E=0;E<x;E++)w.words[E]=h.words[E];if(w.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(w.words[w.length++]=T&b,E=10;E<h.length;E++){var N=h.words[E]|0;h.words[E-10]=(N&b)<<4|T>>>22,T=N}T>>>=22,h.words[E-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},P.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,b=0;b<h.length;b++){var x=h.words[b]|0;w+=x*977,h.words[b]=w&67108863,w=x*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function Z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Z,"o"),s(Z,D);function V(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(V,"Q"),s(V,D);function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(W,"U"),s(W,D),W.prototype.imulK=function(h){for(var w=0,b=0;b<h.length;b++){var x=(h.words[b]|0)*19+w,E=x&67108863;x>>>=26,h.words[b]=E,w=x}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(L[h])return L[h];var w;if(h==="k256")w=new P;else if(h==="p224")w=new Z;else if(h==="p192")w=new V;else if(h==="p25519")w=new W;else throw Error("Unknown prime "+h);return L[h]=w,w};function F(h){if(typeof h=="string"){var w=o._prime(h);this.m=w.p,this.prime=w}else i(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}a(F,"p"),F.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},F.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},F.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},F.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},F.prototype.add=function(h,w){this._verify2(h,w);var b=h.add(w);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},F.prototype.iadd=function(h,w){this._verify2(h,w);var b=h.iadd(w);return b.cmp(this.m)>=0&&b.isub(this.m),b},F.prototype.sub=function(h,w){this._verify2(h,w);var b=h.sub(w);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},F.prototype.isub=function(h,w){this._verify2(h,w);var b=h.isub(w);return b.cmpn(0)<0&&b.iadd(this.m),b},F.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},F.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},F.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},F.prototype.isqr=function(h){return this.imul(h,h.clone())},F.prototype.sqr=function(h){return this.mul(h,h)},F.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(h,b)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);i(!x.isZero());var T=new o(1).toRed(this),N=T.redNeg(),k=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,k).cmp(N)!==0;)p.redIAdd(N);for(var S=this.pow(p,x),C=this.pow(h,x.addn(1).iushrn(1)),M=this.pow(h,x),U=E;M.cmp(T)!==0;){for(var B=M,G=0;B.cmp(T)!==0;G++)B=B.redSqr();i(G<U);var J=this.pow(S,new o(1).iushln(U-G-1));C=C.redMul(J),S=J.redSqr(),M=M.redMul(S),U=G}return C},F.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var b=4,x=Array(1<<b);x[0]=new o(1).toRed(this),x[1]=h;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],h);var T=x[0],N=0,k=0,p=w.bitLength()%26;for(p===0&&(p=26),E=w.length-1;E>=0;E--){for(var S=w.words[E],C=p-1;C>=0;C--){var M=S>>C&1;if(T!==x[0]&&(T=this.sqr(T)),M===0&&N===0){k=0;continue}N<<=1,N|=M,k++,!(k!==b&&(E!==0||C!==0))&&(T=this.mul(T,x[N]),k=0,N=0)}p=26}return T},F.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},F.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new Y(h)};function Y(h){F.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Y,"s"),s(Y,F),Y.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Y.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},Y.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var b=h.imul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var b=h.mul(w),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),T=E;return E.cmp(this.m)>=0?T=E.isub(this.m):E.cmpn(0)<0&&(T=E.iadd(this.m)),T._forceRed(this)},Y.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof t>"u"||t,e)}),Qg=tt((e,t)=>{var r=rh(),n=Un().Buffer;function i(s,o){return n.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}a(i,"P"),t.exports=i}),C5=tt((e,t)=>{(function(r,n){function i(b,x){if(!b)throw Error(x||"Assertion failed")}a(i,"P");function s(b,x){b.super_=x;var E=a(function(){},"V");E.prototype=x.prototype,b.prototype=new E,b.prototype.constructor=b}a(s,"O");function o(b,x,E){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((x==="le"||x==="be")&&(E=x,x=10),this._init(b||0,x||10,E||"be"))}a(o,"Y"),typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=(Dn(),mr(An)).Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,x){return b.cmp(x)>0?b:x},o.min=function(b,x){return b.cmp(x)<0?b:x},o.prototype._init=function(b,x,E){if(typeof b=="number")return this._initNumber(b,x,E);if(typeof b=="object")return this._initArray(b,x,E);x==="hex"&&(x=16),i(x===(x|0)&&x>=2&&x<=36),b=b.toString().replace(/\s+/g,"");var T=0;b[0]==="-"&&(T++,this.negative=1),T<b.length&&(x===16?this._parseHex(b,T,E):(this._parseBase(b,x,T),E==="le"&&this._initArray(this.toArray(),x,E)))},o.prototype._initNumber=function(b,x,E){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(i(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),x,E)},o.prototype._initArray=function(b,x,E){if(i(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N,k,p=0;if(E==="be")for(T=b.length-1,N=0;T>=0;T-=3)k=b[T]|b[T-1]<<8|b[T-2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);else if(E==="le")for(T=0,N=0;T<b.length;T+=3)k=b[T]|b[T+1]<<8|b[T+2]<<16,this.words[N]|=k<<p&67108863,this.words[N+1]=k>>>26-p&67108863,p+=24,p>=26&&(p-=26,N++);return this._strip()};function u(b,x){var E=b.charCodeAt(x);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;i(!1,"Invalid character in "+b)}a(u,"H");function c(b,x,E){var T=u(b,E);return E-1>=x&&(T|=u(b,E-1)<<4),T}a(c,"T"),o.prototype._parseHex=function(b,x,E){this.length=Math.ceil((b.length-x)/6),this.words=Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var N=0,k=0,p;if(E==="be")for(T=b.length-1;T>=x;T-=2)p=c(b,x,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8;else{var S=b.length-x;for(T=S%2===0?x+1:x;T<b.length;T+=2)p=c(b,x,T)<<N,this.words[k]|=p&67108863,N>=18?(N-=18,k+=1,this.words[k]|=p>>>26):N+=8}this._strip()};function d(b,x,E,T){for(var N=0,k=0,p=Math.min(b.length,E),S=x;S<p;S++){var C=b.charCodeAt(S)-48;N*=T,C>=49?k=C-49+10:C>=17?k=C-17+10:k=C,i(C>=0&&k<T,"Invalid character"),N+=k}return N}a(d,"f"),o.prototype._parseBase=function(b,x,E){this.words=[0],this.length=1;for(var T=0,N=1;N<=67108863;N*=x)T++;T--,N=N/x|0;for(var k=b.length-E,p=k%T,S=Math.min(k,k-p)+E,C=0,M=E;M<S;M+=T)C=d(b,M,M+T,x),this.imuln(N),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(p!==0){var U=1;for(C=d(b,M,b.length,x),M=0;M<p;M++)U*=x;this.imuln(U),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this._strip()},o.prototype.copy=function(b){b.words=Array(this.length);for(var x=0;x<this.length;x++)b.words[x]=this.words[x];b.length=this.length,b.negative=this.negative,b.red=this.red};function f(b,x){b.words=x.words,b.length=x.length,b.negative=x.negative,b.red=x.red}if(a(f,"w"),o.prototype._move=function(b){f(b,this)},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a(g,"k");var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,x){b=b||10,x=x|0||1;var E;if(b===16||b==="hex"){E="";for(var T=0,N=0,k=0;k<this.length;k++){var p=this.words[k],S=((p<<T|N)&16777215).toString(16);N=p>>>24-T&16777215,T+=2,T>=26&&(T-=26,k--),N!==0||k!==this.length-1?E=m[6-S.length]+S+E:E=S+E}for(N!==0&&(E=N.toString(16)+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(b===(b|0)&&b>=2&&b<=36){var C=y[b],M=_[b];E="";var U=this.clone();for(U.negative=0;!U.isZero();){var B=U.modrn(M).toString(b);U=U.idivn(M),U.isZero()?E=B+E:E=m[C-B.length]+B+E}for(this.isZero()&&(E="0"+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(b,x){return this.toArrayLike(l,b,x)}),o.prototype.toArray=function(b,x){return this.toArrayLike(Array,b,x)};var A=a(function(b,x){return b.allocUnsafe?b.allocUnsafe(x):new b(x)},"E");o.prototype.toArrayLike=function(b,x,E){this._strip();var T=this.byteLength(),N=E||Math.max(1,T);i(T<=N,"byte array longer than desired length"),i(N>0,"Requested array length <= 0");var k=A(b,N),p=x==="le"?"LE":"BE";return this["_toArrayLike"+p](k,T),k},o.prototype._toArrayLikeLE=function(b,x){for(var E=0,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;b[E++]=p&255,E<b.length&&(b[E++]=p>>8&255),E<b.length&&(b[E++]=p>>16&255),k===6?(E<b.length&&(b[E++]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(E<b.length)for(b[E++]=T;E<b.length;)b[E++]=0},o.prototype._toArrayLikeBE=function(b,x){for(var E=b.length-1,T=0,N=0,k=0;N<this.length;N++){var p=this.words[N]<<k|T;b[E--]=p&255,E>=0&&(b[E--]=p>>8&255),E>=0&&(b[E--]=p>>16&255),k===6?(E>=0&&(b[E--]=p>>24&255),T=0,k=0):(T=p>>>24,k+=2)}if(E>=0)for(b[E--]=T;E>=0;)b[E--]=0},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var x=b,E=0;return x>=4096&&(E+=13,x>>>=13),x>=64&&(E+=7,x>>>=7),x>=8&&(E+=4,x>>>=4),x>=2&&(E+=2,x>>>=2),E+x},o.prototype._zeroBits=function(b){if(b===0)return 26;var x=b,E=0;return(x&8191)===0&&(E+=13,x>>>=13),(x&127)===0&&(E+=7,x>>>=7),(x&15)===0&&(E+=4,x>>>=4),(x&3)===0&&(E+=2,x>>>=2),(x&1)===0&&E++,E},o.prototype.bitLength=function(){var b=this.words[this.length-1],x=this._countBits(b);return(this.length-1)*26+x};function I(b){for(var x=Array(b.bitLength()),E=0;E<x.length;E++){var T=E/26|0,N=E%26;x[E]=b.words[T]>>>N&1}return x}a(I,"D"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,x=0;x<this.length;x++){var E=this._zeroBits(this.words[x]);if(b+=E,E!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var x=0;x<b.length;x++)this.words[x]=this.words[x]|b.words[x];return this._strip()},o.prototype.ior=function(b){return i((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var x;this.length>b.length?x=b:x=this;for(var E=0;E<x.length;E++)this.words[E]=this.words[E]&b.words[E];return this.length=x.length,this._strip()},o.prototype.iand=function(b){return i((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var x,E;this.length>b.length?(x=this,E=b):(x=b,E=this);for(var T=0;T<E.length;T++)this.words[T]=x.words[T]^E.words[T];if(this!==x)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=x.length,this._strip()},o.prototype.ixor=function(b){return i((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){i(typeof b=="number"&&b>=0);var x=Math.ceil(b/26)|0,E=b%26;this._expand(x),E>0&&x--;for(var T=0;T<x;T++)this.words[T]=~this.words[T]&67108863;return E>0&&(this.words[T]=~this.words[T]&67108863>>26-E),this._strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,x){i(typeof b=="number"&&b>=0);var E=b/26|0,T=b%26;return this._expand(E+1),x?this.words[E]=this.words[E]|1<<T:this.words[E]=this.words[E]&~(1<<T),this._strip()},o.prototype.iadd=function(b){var x;if(this.negative!==0&&b.negative===0)return this.negative=0,x=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,x=this.isub(b),b.negative=1,x._normSign();var E,T;this.length>b.length?(E=this,T=b):(E=b,T=this);for(var N=0,k=0;k<T.length;k++)x=(E.words[k]|0)+(T.words[k]|0)+N,this.words[k]=x&67108863,N=x>>>26;for(;N!==0&&k<E.length;k++)x=(E.words[k]|0)+N,this.words[k]=x&67108863,N=x>>>26;if(this.length=E.length,N!==0)this.words[this.length]=N,this.length++;else if(E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this},o.prototype.add=function(b){var x;return b.negative!==0&&this.negative===0?(b.negative=0,x=this.sub(b),b.negative^=1,x):b.negative===0&&this.negative!==0?(this.negative=0,x=b.sub(this),this.negative=1,x):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var x=this.iadd(b);return b.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var E=this.cmp(b);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,N;E>0?(T=this,N=b):(T=b,N=this);for(var k=0,p=0;p<N.length;p++)x=(T.words[p]|0)-(N.words[p]|0)+k,k=x>>26,this.words[p]=x&67108863;for(;k!==0&&p<T.length;p++)x=(T.words[p]|0)+k,k=x>>26,this.words[p]=x&67108863;if(k===0&&p<T.length&&T!==this)for(;p<T.length;p++)this.words[p]=T.words[p];return this.length=Math.max(this.length,p),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function O(b,x,E){E.negative=x.negative^b.negative;var T=b.length+x.length|0;E.length=T,T=T-1|0;var N=b.words[0]|0,k=x.words[0]|0,p=N*k,S=p&67108863,C=p/67108864|0;E.words[0]=S;for(var M=1;M<T;M++){for(var U=C>>>26,B=C&67108863,G=Math.min(M,x.length-1),J=Math.max(0,M-b.length+1);J<=G;J++){var ue=M-J|0;N=b.words[ue]|0,k=x.words[J]|0,p=N*k+B,U+=p/67108864|0,B=p&67108863}E.words[M]=B|0,C=U|0}return C!==0?E.words[M]=C|0:E.length--,E._strip()}a(O,"I");var R=a(function(b,x,E){var T=b.words,N=x.words,k=E.words,p=0,S,C,M,U=T[0]|0,B=U&8191,G=U>>>13,J=T[1]|0,ue=J&8191,se=J>>>13,oe=T[2]|0,Pe=oe&8191,Ee=oe>>>13,be=T[3]|0,Ce=be&8191,X=be>>>13,ce=T[4]|0,te=ce&8191,ie=ce>>>13,me=T[5]|0,xe=me&8191,Oe=me>>>13,de=T[6]|0,Q=de&8191,ne=de>>>13,q=T[7]|0,$=q&8191,re=q>>>13,ae=T[8]|0,Be=ae&8191,Ie=ae>>>13,Ke=T[9]|0,kt=Ke&8191,Te=Ke>>>13,Xe=N[0]|0,we=Xe&8191,Ne=Xe>>>13,Fe=N[1]|0,Ze=Fe&8191,Ue=Fe>>>13,qe=N[2]|0,Rt=qe&8191,Je=qe>>>13,Re=N[3]|0,et=Re&8191,ze=Re>>>13,rt=N[4]|0,Tt=rt&8191,pe=rt>>>13,ye=N[5]|0,$e=ye&8191,Le=ye>>>13,He=N[6]|0,ut=He&8191,he=He>>>13,je=N[7]|0,lt=je&8191,Me=je>>>13,ot=N[8]|0,Ft=ot&8191,at=ot>>>13,mt=N[9]|0,Kt=mt&8191,Qt=mt>>>13;E.negative=b.negative^x.negative,E.length=19,S=Math.imul(B,we),C=Math.imul(B,Ne),C=C+Math.imul(G,we)|0,M=Math.imul(G,Ne);var nt=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ue,we),C=Math.imul(ue,Ne),C=C+Math.imul(se,we)|0,M=Math.imul(se,Ne),S=S+Math.imul(B,Ze)|0,C=C+Math.imul(B,Ue)|0,C=C+Math.imul(G,Ze)|0,M=M+Math.imul(G,Ue)|0;var ft=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(ft>>>26)|0,ft&=67108863,S=Math.imul(Pe,we),C=Math.imul(Pe,Ne),C=C+Math.imul(Ee,we)|0,M=Math.imul(Ee,Ne),S=S+Math.imul(ue,Ze)|0,C=C+Math.imul(ue,Ue)|0,C=C+Math.imul(se,Ze)|0,M=M+Math.imul(se,Ue)|0,S=S+Math.imul(B,Rt)|0,C=C+Math.imul(B,Je)|0,C=C+Math.imul(G,Rt)|0,M=M+Math.imul(G,Je)|0;var Mt=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(Ce,we),C=Math.imul(Ce,Ne),C=C+Math.imul(X,we)|0,M=Math.imul(X,Ne),S=S+Math.imul(Pe,Ze)|0,C=C+Math.imul(Pe,Ue)|0,C=C+Math.imul(Ee,Ze)|0,M=M+Math.imul(Ee,Ue)|0,S=S+Math.imul(ue,Rt)|0,C=C+Math.imul(ue,Je)|0,C=C+Math.imul(se,Rt)|0,M=M+Math.imul(se,Je)|0,S=S+Math.imul(B,et)|0,C=C+Math.imul(B,ze)|0,C=C+Math.imul(G,et)|0,M=M+Math.imul(G,ze)|0;var cr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(cr>>>26)|0,cr&=67108863,S=Math.imul(te,we),C=Math.imul(te,Ne),C=C+Math.imul(ie,we)|0,M=Math.imul(ie,Ne),S=S+Math.imul(Ce,Ze)|0,C=C+Math.imul(Ce,Ue)|0,C=C+Math.imul(X,Ze)|0,M=M+Math.imul(X,Ue)|0,S=S+Math.imul(Pe,Rt)|0,C=C+Math.imul(Pe,Je)|0,C=C+Math.imul(Ee,Rt)|0,M=M+Math.imul(Ee,Je)|0,S=S+Math.imul(ue,et)|0,C=C+Math.imul(ue,ze)|0,C=C+Math.imul(se,et)|0,M=M+Math.imul(se,ze)|0,S=S+Math.imul(B,Tt)|0,C=C+Math.imul(B,pe)|0,C=C+Math.imul(G,Tt)|0,M=M+Math.imul(G,pe)|0;var tr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(tr>>>26)|0,tr&=67108863,S=Math.imul(xe,we),C=Math.imul(xe,Ne),C=C+Math.imul(Oe,we)|0,M=Math.imul(Oe,Ne),S=S+Math.imul(te,Ze)|0,C=C+Math.imul(te,Ue)|0,C=C+Math.imul(ie,Ze)|0,M=M+Math.imul(ie,Ue)|0,S=S+Math.imul(Ce,Rt)|0,C=C+Math.imul(Ce,Je)|0,C=C+Math.imul(X,Rt)|0,M=M+Math.imul(X,Je)|0,S=S+Math.imul(Pe,et)|0,C=C+Math.imul(Pe,ze)|0,C=C+Math.imul(Ee,et)|0,M=M+Math.imul(Ee,ze)|0,S=S+Math.imul(ue,Tt)|0,C=C+Math.imul(ue,pe)|0,C=C+Math.imul(se,Tt)|0,M=M+Math.imul(se,pe)|0,S=S+Math.imul(B,$e)|0,C=C+Math.imul(B,Le)|0,C=C+Math.imul(G,$e)|0,M=M+Math.imul(G,Le)|0;var xr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(xr>>>26)|0,xr&=67108863,S=Math.imul(Q,we),C=Math.imul(Q,Ne),C=C+Math.imul(ne,we)|0,M=Math.imul(ne,Ne),S=S+Math.imul(xe,Ze)|0,C=C+Math.imul(xe,Ue)|0,C=C+Math.imul(Oe,Ze)|0,M=M+Math.imul(Oe,Ue)|0,S=S+Math.imul(te,Rt)|0,C=C+Math.imul(te,Je)|0,C=C+Math.imul(ie,Rt)|0,M=M+Math.imul(ie,Je)|0,S=S+Math.imul(Ce,et)|0,C=C+Math.imul(Ce,ze)|0,C=C+Math.imul(X,et)|0,M=M+Math.imul(X,ze)|0,S=S+Math.imul(Pe,Tt)|0,C=C+Math.imul(Pe,pe)|0,C=C+Math.imul(Ee,Tt)|0,M=M+Math.imul(Ee,pe)|0,S=S+Math.imul(ue,$e)|0,C=C+Math.imul(ue,Le)|0,C=C+Math.imul(se,$e)|0,M=M+Math.imul(se,Le)|0,S=S+Math.imul(B,ut)|0,C=C+Math.imul(B,he)|0,C=C+Math.imul(G,ut)|0,M=M+Math.imul(G,he)|0;var Pr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,S=Math.imul($,we),C=Math.imul($,Ne),C=C+Math.imul(re,we)|0,M=Math.imul(re,Ne),S=S+Math.imul(Q,Ze)|0,C=C+Math.imul(Q,Ue)|0,C=C+Math.imul(ne,Ze)|0,M=M+Math.imul(ne,Ue)|0,S=S+Math.imul(xe,Rt)|0,C=C+Math.imul(xe,Je)|0,C=C+Math.imul(Oe,Rt)|0,M=M+Math.imul(Oe,Je)|0,S=S+Math.imul(te,et)|0,C=C+Math.imul(te,ze)|0,C=C+Math.imul(ie,et)|0,M=M+Math.imul(ie,ze)|0,S=S+Math.imul(Ce,Tt)|0,C=C+Math.imul(Ce,pe)|0,C=C+Math.imul(X,Tt)|0,M=M+Math.imul(X,pe)|0,S=S+Math.imul(Pe,$e)|0,C=C+Math.imul(Pe,Le)|0,C=C+Math.imul(Ee,$e)|0,M=M+Math.imul(Ee,Le)|0,S=S+Math.imul(ue,ut)|0,C=C+Math.imul(ue,he)|0,C=C+Math.imul(se,ut)|0,M=M+Math.imul(se,he)|0,S=S+Math.imul(B,lt)|0,C=C+Math.imul(B,Me)|0,C=C+Math.imul(G,lt)|0,M=M+Math.imul(G,Me)|0;var kr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(kr>>>26)|0,kr&=67108863,S=Math.imul(Be,we),C=Math.imul(Be,Ne),C=C+Math.imul(Ie,we)|0,M=Math.imul(Ie,Ne),S=S+Math.imul($,Ze)|0,C=C+Math.imul($,Ue)|0,C=C+Math.imul(re,Ze)|0,M=M+Math.imul(re,Ue)|0,S=S+Math.imul(Q,Rt)|0,C=C+Math.imul(Q,Je)|0,C=C+Math.imul(ne,Rt)|0,M=M+Math.imul(ne,Je)|0,S=S+Math.imul(xe,et)|0,C=C+Math.imul(xe,ze)|0,C=C+Math.imul(Oe,et)|0,M=M+Math.imul(Oe,ze)|0,S=S+Math.imul(te,Tt)|0,C=C+Math.imul(te,pe)|0,C=C+Math.imul(ie,Tt)|0,M=M+Math.imul(ie,pe)|0,S=S+Math.imul(Ce,$e)|0,C=C+Math.imul(Ce,Le)|0,C=C+Math.imul(X,$e)|0,M=M+Math.imul(X,Le)|0,S=S+Math.imul(Pe,ut)|0,C=C+Math.imul(Pe,he)|0,C=C+Math.imul(Ee,ut)|0,M=M+Math.imul(Ee,he)|0,S=S+Math.imul(ue,lt)|0,C=C+Math.imul(ue,Me)|0,C=C+Math.imul(se,lt)|0,M=M+Math.imul(se,Me)|0,S=S+Math.imul(B,Ft)|0,C=C+Math.imul(B,at)|0,C=C+Math.imul(G,Ft)|0,M=M+Math.imul(G,at)|0;var br=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(br>>>26)|0,br&=67108863,S=Math.imul(kt,we),C=Math.imul(kt,Ne),C=C+Math.imul(Te,we)|0,M=Math.imul(Te,Ne),S=S+Math.imul(Be,Ze)|0,C=C+Math.imul(Be,Ue)|0,C=C+Math.imul(Ie,Ze)|0,M=M+Math.imul(Ie,Ue)|0,S=S+Math.imul($,Rt)|0,C=C+Math.imul($,Je)|0,C=C+Math.imul(re,Rt)|0,M=M+Math.imul(re,Je)|0,S=S+Math.imul(Q,et)|0,C=C+Math.imul(Q,ze)|0,C=C+Math.imul(ne,et)|0,M=M+Math.imul(ne,ze)|0,S=S+Math.imul(xe,Tt)|0,C=C+Math.imul(xe,pe)|0,C=C+Math.imul(Oe,Tt)|0,M=M+Math.imul(Oe,pe)|0,S=S+Math.imul(te,$e)|0,C=C+Math.imul(te,Le)|0,C=C+Math.imul(ie,$e)|0,M=M+Math.imul(ie,Le)|0,S=S+Math.imul(Ce,ut)|0,C=C+Math.imul(Ce,he)|0,C=C+Math.imul(X,ut)|0,M=M+Math.imul(X,he)|0,S=S+Math.imul(Pe,lt)|0,C=C+Math.imul(Pe,Me)|0,C=C+Math.imul(Ee,lt)|0,M=M+Math.imul(Ee,Me)|0,S=S+Math.imul(ue,Ft)|0,C=C+Math.imul(ue,at)|0,C=C+Math.imul(se,Ft)|0,M=M+Math.imul(se,at)|0,S=S+Math.imul(B,Kt)|0,C=C+Math.imul(B,Qt)|0,C=C+Math.imul(G,Kt)|0,M=M+Math.imul(G,Qt)|0;var Kr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,S=Math.imul(kt,Ze),C=Math.imul(kt,Ue),C=C+Math.imul(Te,Ze)|0,M=Math.imul(Te,Ue),S=S+Math.imul(Be,Rt)|0,C=C+Math.imul(Be,Je)|0,C=C+Math.imul(Ie,Rt)|0,M=M+Math.imul(Ie,Je)|0,S=S+Math.imul($,et)|0,C=C+Math.imul($,ze)|0,C=C+Math.imul(re,et)|0,M=M+Math.imul(re,ze)|0,S=S+Math.imul(Q,Tt)|0,C=C+Math.imul(Q,pe)|0,C=C+Math.imul(ne,Tt)|0,M=M+Math.imul(ne,pe)|0,S=S+Math.imul(xe,$e)|0,C=C+Math.imul(xe,Le)|0,C=C+Math.imul(Oe,$e)|0,M=M+Math.imul(Oe,Le)|0,S=S+Math.imul(te,ut)|0,C=C+Math.imul(te,he)|0,C=C+Math.imul(ie,ut)|0,M=M+Math.imul(ie,he)|0,S=S+Math.imul(Ce,lt)|0,C=C+Math.imul(Ce,Me)|0,C=C+Math.imul(X,lt)|0,M=M+Math.imul(X,Me)|0,S=S+Math.imul(Pe,Ft)|0,C=C+Math.imul(Pe,at)|0,C=C+Math.imul(Ee,Ft)|0,M=M+Math.imul(Ee,at)|0,S=S+Math.imul(ue,Kt)|0,C=C+Math.imul(ue,Qt)|0,C=C+Math.imul(se,Kt)|0,M=M+Math.imul(se,Qt)|0;var $r=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+($r>>>26)|0,$r&=67108863,S=Math.imul(kt,Rt),C=Math.imul(kt,Je),C=C+Math.imul(Te,Rt)|0,M=Math.imul(Te,Je),S=S+Math.imul(Be,et)|0,C=C+Math.imul(Be,ze)|0,C=C+Math.imul(Ie,et)|0,M=M+Math.imul(Ie,ze)|0,S=S+Math.imul($,Tt)|0,C=C+Math.imul($,pe)|0,C=C+Math.imul(re,Tt)|0,M=M+Math.imul(re,pe)|0,S=S+Math.imul(Q,$e)|0,C=C+Math.imul(Q,Le)|0,C=C+Math.imul(ne,$e)|0,M=M+Math.imul(ne,Le)|0,S=S+Math.imul(xe,ut)|0,C=C+Math.imul(xe,he)|0,C=C+Math.imul(Oe,ut)|0,M=M+Math.imul(Oe,he)|0,S=S+Math.imul(te,lt)|0,C=C+Math.imul(te,Me)|0,C=C+Math.imul(ie,lt)|0,M=M+Math.imul(ie,Me)|0,S=S+Math.imul(Ce,Ft)|0,C=C+Math.imul(Ce,at)|0,C=C+Math.imul(X,Ft)|0,M=M+Math.imul(X,at)|0,S=S+Math.imul(Pe,Kt)|0,C=C+Math.imul(Pe,Qt)|0,C=C+Math.imul(Ee,Kt)|0,M=M+Math.imul(Ee,Qt)|0;var zr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(zr>>>26)|0,zr&=67108863,S=Math.imul(kt,et),C=Math.imul(kt,ze),C=C+Math.imul(Te,et)|0,M=Math.imul(Te,ze),S=S+Math.imul(Be,Tt)|0,C=C+Math.imul(Be,pe)|0,C=C+Math.imul(Ie,Tt)|0,M=M+Math.imul(Ie,pe)|0,S=S+Math.imul($,$e)|0,C=C+Math.imul($,Le)|0,C=C+Math.imul(re,$e)|0,M=M+Math.imul(re,Le)|0,S=S+Math.imul(Q,ut)|0,C=C+Math.imul(Q,he)|0,C=C+Math.imul(ne,ut)|0,M=M+Math.imul(ne,he)|0,S=S+Math.imul(xe,lt)|0,C=C+Math.imul(xe,Me)|0,C=C+Math.imul(Oe,lt)|0,M=M+Math.imul(Oe,Me)|0,S=S+Math.imul(te,Ft)|0,C=C+Math.imul(te,at)|0,C=C+Math.imul(ie,Ft)|0,M=M+Math.imul(ie,at)|0,S=S+Math.imul(Ce,Kt)|0,C=C+Math.imul(Ce,Qt)|0,C=C+Math.imul(X,Kt)|0,M=M+Math.imul(X,Qt)|0;var Zr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(kt,Tt),C=Math.imul(kt,pe),C=C+Math.imul(Te,Tt)|0,M=Math.imul(Te,pe),S=S+Math.imul(Be,$e)|0,C=C+Math.imul(Be,Le)|0,C=C+Math.imul(Ie,$e)|0,M=M+Math.imul(Ie,Le)|0,S=S+Math.imul($,ut)|0,C=C+Math.imul($,he)|0,C=C+Math.imul(re,ut)|0,M=M+Math.imul(re,he)|0,S=S+Math.imul(Q,lt)|0,C=C+Math.imul(Q,Me)|0,C=C+Math.imul(ne,lt)|0,M=M+Math.imul(ne,Me)|0,S=S+Math.imul(xe,Ft)|0,C=C+Math.imul(xe,at)|0,C=C+Math.imul(Oe,Ft)|0,M=M+Math.imul(Oe,at)|0,S=S+Math.imul(te,Kt)|0,C=C+Math.imul(te,Qt)|0,C=C+Math.imul(ie,Kt)|0,M=M+Math.imul(ie,Qt)|0;var Ar=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,S=Math.imul(kt,$e),C=Math.imul(kt,Le),C=C+Math.imul(Te,$e)|0,M=Math.imul(Te,Le),S=S+Math.imul(Be,ut)|0,C=C+Math.imul(Be,he)|0,C=C+Math.imul(Ie,ut)|0,M=M+Math.imul(Ie,he)|0,S=S+Math.imul($,lt)|0,C=C+Math.imul($,Me)|0,C=C+Math.imul(re,lt)|0,M=M+Math.imul(re,Me)|0,S=S+Math.imul(Q,Ft)|0,C=C+Math.imul(Q,at)|0,C=C+Math.imul(ne,Ft)|0,M=M+Math.imul(ne,at)|0,S=S+Math.imul(xe,Kt)|0,C=C+Math.imul(xe,Qt)|0,C=C+Math.imul(Oe,Kt)|0,M=M+Math.imul(Oe,Qt)|0;var Br=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(kt,ut),C=Math.imul(kt,he),C=C+Math.imul(Te,ut)|0,M=Math.imul(Te,he),S=S+Math.imul(Be,lt)|0,C=C+Math.imul(Be,Me)|0,C=C+Math.imul(Ie,lt)|0,M=M+Math.imul(Ie,Me)|0,S=S+Math.imul($,Ft)|0,C=C+Math.imul($,at)|0,C=C+Math.imul(re,Ft)|0,M=M+Math.imul(re,at)|0,S=S+Math.imul(Q,Kt)|0,C=C+Math.imul(Q,Qt)|0,C=C+Math.imul(ne,Kt)|0,M=M+Math.imul(ne,Qt)|0;var Jr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,S=Math.imul(kt,lt),C=Math.imul(kt,Me),C=C+Math.imul(Te,lt)|0,M=Math.imul(Te,Me),S=S+Math.imul(Be,Ft)|0,C=C+Math.imul(Be,at)|0,C=C+Math.imul(Ie,Ft)|0,M=M+Math.imul(Ie,at)|0,S=S+Math.imul($,Kt)|0,C=C+Math.imul($,Qt)|0,C=C+Math.imul(re,Kt)|0,M=M+Math.imul(re,Qt)|0;var Yr=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,S=Math.imul(kt,Ft),C=Math.imul(kt,at),C=C+Math.imul(Te,Ft)|0,M=Math.imul(Te,at),S=S+Math.imul(Be,Kt)|0,C=C+Math.imul(Be,Qt)|0,C=C+Math.imul(Ie,Kt)|0,M=M+Math.imul(Ie,Qt)|0;var qs=(p+S|0)+((C&8191)<<13)|0;p=(M+(C>>>13)|0)+(qs>>>26)|0,qs&=67108863,S=Math.imul(kt,Kt),C=Math.imul(kt,Qt),C=C+Math.imul(Te,Kt)|0,M=Math.imul(Te,Qt);var ge=(p+S|0)+((C&8191)<<13)|0;return p=(M+(C>>>13)|0)+(ge>>>26)|0,ge&=67108863,k[0]=nt,k[1]=ft,k[2]=Mt,k[3]=cr,k[4]=tr,k[5]=xr,k[6]=Pr,k[7]=kr,k[8]=br,k[9]=Kr,k[10]=$r,k[11]=zr,k[12]=Zr,k[13]=Ar,k[14]=Br,k[15]=Jr,k[16]=Yr,k[17]=qs,k[18]=ge,p!==0&&(k[19]=p,E.length++),E},"L");Math.imul||(R=O);function L(b,x,E){E.negative=x.negative^b.negative,E.length=b.length+x.length;for(var T=0,N=0,k=0;k<E.length-1;k++){var p=N;N=0;for(var S=T&67108863,C=Math.min(k,x.length-1),M=Math.max(0,k-b.length+1);M<=C;M++){var U=k-M,B=b.words[U]|0,G=x.words[M]|0,J=B*G,ue=J&67108863;p=p+(J/67108864|0)|0,ue=ue+S|0,S=ue&67108863,p=p+(ue>>>26)|0,N+=p>>>26,p&=67108863}E.words[k]=S,T=p,p=N}return T!==0?E.words[k]=T:E.length--,E._strip()}a(L,"g");function D(b,x,E){return L(b,x,E)}a(D,"y"),o.prototype.mulTo=function(b,x){var E,T=this.length+b.length;return this.length===10&&b.length===10?E=R(this,b,x):T<63?E=O(this,b,x):T<1024?E=L(this,b,x):E=D(this,b,x),E},o.prototype.mul=function(b){var x=new o(null);return x.words=Array(this.length+b.length),this.mulTo(b,x)},o.prototype.mulf=function(b){var x=new o(null);return x.words=Array(this.length+b.length),D(this,b,x)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){var x=b<0;x&&(b=-b),i(typeof b=="number"),i(b<67108864);for(var E=0,T=0;T<this.length;T++){var N=(this.words[T]|0)*b,k=(N&67108863)+(E&67108863);E>>=26,E+=N/67108864|0,E+=k>>>26,this.words[T]=k&67108863}return E!==0&&(this.words[T]=E,this.length++),this.length=b===0?1:this.length,x?this.ineg():this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var x=I(b);if(x.length===0)return new o(1);for(var E=this,T=0;T<x.length&&x[T]===0;T++,E=E.sqr());if(++T<x.length)for(var N=E.sqr();T<x.length;T++,N=N.sqr())x[T]!==0&&(E=E.mul(N));return E},o.prototype.iushln=function(b){i(typeof b=="number"&&b>=0);var x=b%26,E=(b-x)/26,T=67108863>>>26-x<<26-x,N;if(x!==0){var k=0;for(N=0;N<this.length;N++){var p=this.words[N]&T,S=(this.words[N]|0)-p<<x;this.words[N]=S|k,k=p>>>26-x}k&&(this.words[N]=k,this.length++)}if(E!==0){for(N=this.length-1;N>=0;N--)this.words[N+E]=this.words[N];for(N=0;N<E;N++)this.words[N]=0;this.length+=E}return this._strip()},o.prototype.ishln=function(b){return i(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,x,E){i(typeof b=="number"&&b>=0);var T;x?T=(x-x%26)/26:T=0;var N=b%26,k=Math.min((b-N)/26,this.length),p=67108863^67108863>>>N<<N,S=E;if(T-=k,T=Math.max(0,T),S){for(var C=0;C<k;C++)S.words[C]=this.words[C];S.length=k}if(k!==0)if(this.length>k)for(this.length-=k,C=0;C<this.length;C++)this.words[C]=this.words[C+k];else this.words[0]=0,this.length=1;var M=0;for(C=this.length-1;C>=0&&(M!==0||C>=T);C--){var U=this.words[C]|0;this.words[C]=M<<26-N|U>>>N,M=U&p}return S&&M!==0&&(S.words[S.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(b,x,E){return i(this.negative===0),this.iushrn(b,x,E)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){i(typeof b=="number"&&b>=0);var x=b%26,E=(b-x)/26,T=1<<x;if(this.length<=E)return!1;var N=this.words[E];return!!(N&T)},o.prototype.imaskn=function(b){i(typeof b=="number"&&b>=0);var x=b%26,E=(b-x)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(x!==0&&E++,this.length=Math.min(E,this.length),x!==0){var T=67108863^67108863>>>x<<x;this.words[this.length-1]&=T}return this._strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return i(typeof b=="number"),i(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(b){if(i(typeof b=="number"),i(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,x,E){var T=b.length+E,N;this._expand(T);var k,p=0;for(N=0;N<b.length;N++){k=(this.words[N+E]|0)+p;var S=(b.words[N]|0)*x;k-=S&67108863,p=(k>>26)-(S/67108864|0),this.words[N+E]=k&67108863}for(;N<this.length-E;N++)k=(this.words[N+E]|0)+p,p=k>>26,this.words[N+E]=k&67108863;if(p===0)return this._strip();for(i(p===-1),p=0,N=0;N<this.length;N++)k=-(this.words[N]|0)+p,p=k>>26,this.words[N]=k&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(b,x){var E=this.length-b.length,T=this.clone(),N=b,k=N.words[N.length-1]|0,p=this._countBits(k);E=26-p,E!==0&&(N=N.ushln(E),T.iushln(E),k=N.words[N.length-1]|0);var S=T.length-N.length,C;if(x!=="mod"){C=new o(null),C.length=S+1,C.words=Array(C.length);for(var M=0;M<C.length;M++)C.words[M]=0}var U=T.clone()._ishlnsubmul(N,1,S);U.negative===0&&(T=U,C&&(C.words[S]=1));for(var B=S-1;B>=0;B--){var G=(T.words[N.length+B]|0)*67108864+(T.words[N.length+B-1]|0);for(G=Math.min(G/k|0,67108863),T._ishlnsubmul(N,G,B);T.negative!==0;)G--,T.negative=0,T._ishlnsubmul(N,1,B),!T.isZero()&&(T.negative^=1);C&&(C.words[B]=G)}return C&&C._strip(),T._strip(),x!=="div"&&E!==0&&T.iushrn(E),{div:C||null,mod:T}},o.prototype.divmod=function(b,x,E){if(i(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,N,k;return this.negative!==0&&b.negative===0?(k=this.neg().divmod(b,x),x!=="mod"&&(T=k.div.neg()),x!=="div"&&(N=k.mod.neg(),E&&N.negative!==0&&N.iadd(b)),{div:T,mod:N}):this.negative===0&&b.negative!==0?(k=this.divmod(b.neg(),x),x!=="mod"&&(T=k.div.neg()),{div:T,mod:k.mod}):(this.negative&b.negative)!==0?(k=this.neg().divmod(b.neg(),x),x!=="div"&&(N=k.mod.neg(),E&&N.negative!==0&&N.isub(b)),{div:k.div,mod:N}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?x==="div"?{div:this.divn(b.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modrn(b.words[0]))}:this._wordDiv(b,x)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var x=this.divmod(b);if(x.mod.isZero())return x.div;var E=x.div.negative!==0?x.mod.isub(b):x.mod,T=b.ushrn(1),N=b.andln(1),k=E.cmp(T);return k<0||N===1&&k===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modrn=function(b){var x=b<0;x&&(b=-b),i(b<=67108863);for(var E=67108864%b,T=0,N=this.length-1;N>=0;N--)T=(E*T+(this.words[N]|0))%b;return x?-T:T},o.prototype.modn=function(b){return this.modrn(b)},o.prototype.idivn=function(b){var x=b<0;x&&(b=-b),i(b<=67108863);for(var E=0,T=this.length-1;T>=0;T--){var N=(this.words[T]|0)+E*67108864;this.words[T]=N/b|0,E=N%b}return this._strip(),x?this.ineg():this},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){i(b.negative===0),i(!b.isZero());var x=this,E=b.clone();x.negative!==0?x=x.umod(b):x=x.clone();for(var T=new o(1),N=new o(0),k=new o(0),p=new o(1),S=0;x.isEven()&&E.isEven();)x.iushrn(1),E.iushrn(1),++S;for(var C=E.clone(),M=x.clone();!x.isZero();){for(var U=0,B=1;(x.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(x.iushrn(U);U-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(C),N.isub(M)),T.iushrn(1),N.iushrn(1);for(var G=0,J=1;(E.words[0]&J)===0&&G<26;++G,J<<=1);if(G>0)for(E.iushrn(G);G-- >0;)(k.isOdd()||p.isOdd())&&(k.iadd(C),p.isub(M)),k.iushrn(1),p.iushrn(1);x.cmp(E)>=0?(x.isub(E),T.isub(k),N.isub(p)):(E.isub(x),k.isub(T),p.isub(N))}return{a:k,b:p,gcd:E.iushln(S)}},o.prototype._invmp=function(b){i(b.negative===0),i(!b.isZero());var x=this,E=b.clone();x.negative!==0?x=x.umod(b):x=x.clone();for(var T=new o(1),N=new o(0),k=E.clone();x.cmpn(1)>0&&E.cmpn(1)>0;){for(var p=0,S=1;(x.words[0]&S)===0&&p<26;++p,S<<=1);if(p>0)for(x.iushrn(p);p-- >0;)T.isOdd()&&T.iadd(k),T.iushrn(1);for(var C=0,M=1;(E.words[0]&M)===0&&C<26;++C,M<<=1);if(C>0)for(E.iushrn(C);C-- >0;)N.isOdd()&&N.iadd(k),N.iushrn(1);x.cmp(E)>=0?(x.isub(E),T.isub(N)):(E.isub(x),N.isub(T))}var U;return x.cmpn(1)===0?U=T:U=N,U.cmpn(0)<0&&U.iadd(b),U},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var x=this.clone(),E=b.clone();x.negative=0,E.negative=0;for(var T=0;x.isEven()&&E.isEven();T++)x.iushrn(1),E.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;E.isEven();)E.iushrn(1);var N=x.cmp(E);if(N<0){var k=x;x=E,E=k}else if(N===0||E.cmpn(1)===0)break;x.isub(E)}while(!0);return E.iushln(T)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){i(typeof b=="number");var x=b%26,E=(b-x)/26,T=1<<x;if(this.length<=E)return this._expand(E+1),this.words[E]|=T,this;for(var N=T,k=E;N!==0&&k<this.length;k++){var p=this.words[k]|0;p+=N,N=p>>>26,p&=67108863,this.words[k]=p}return N!==0&&(this.words[k]=N,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var x=b<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var E;if(this.length>1)E=1;else{x&&(b=-b),i(b<=67108863,"Number is too big");var T=this.words[0]|0;E=T===b?0:T<b?-1:1}return this.negative!==0?-E|0:E},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var x=this.ucmp(b);return this.negative!==0?-x|0:x},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var x=0,E=this.length-1;E>=0;E--){var T=this.words[E]|0,N=b.words[E]|0;if(T!==N){T<N?x=-1:T>N&&(x=1);break}}return x},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new h(b)},o.prototype.toRed=function(b){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return i(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return i(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var P={k256:null,p224:null,p192:null,p25519:null};function Z(b,x){this.name=b,this.p=new o(x,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}a(Z,"Q"),Z.prototype._tmp=function(){var b=new o(null);return b.words=Array(Math.ceil(this.n/13)),b},Z.prototype.ireduce=function(b){var x=b,E;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),E=x.bitLength();while(E>this.n);var T=E<this.n?-1:x.ucmp(this.p);return T===0?(x.words[0]=0,x.length=1):T>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},Z.prototype.split=function(b,x){b.iushrn(this.n,0,x)},Z.prototype.imulK=function(b){return b.imul(this.k)};function V(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(V,"U"),s(V,Z),V.prototype.split=function(b,x){for(var E=4194303,T=Math.min(b.length,9),N=0;N<T;N++)x.words[N]=b.words[N];if(x.length=T,b.length<=9){b.words[0]=0,b.length=1;return}var k=b.words[9];for(x.words[x.length++]=k&E,N=10;N<b.length;N++){var p=b.words[N]|0;b.words[N-10]=(p&E)<<4|k>>>22,k=p}k>>>=22,b.words[N-10]=k,k===0&&b.length>10?b.length-=10:b.length-=9},V.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var x=0,E=0;E<b.length;E++){var T=b.words[E]|0;x+=T*977,b.words[E]=x&67108863,x=T*64+(x/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function W(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(W,"p"),s(W,Z);function F(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(F,"s"),s(F,Z);function Y(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Y,"j"),s(Y,Z),Y.prototype.imulK=function(b){for(var x=0,E=0;E<b.length;E++){var T=(b.words[E]|0)*19+x,N=T&67108863;T>>>=26,b.words[E]=N,x=T}return x!==0&&(b.words[b.length++]=x),b},o._prime=function(b){if(P[b])return P[b];var x;if(b==="k256")x=new V;else if(b==="p224")x=new W;else if(b==="p192")x=new F;else if(b==="p25519")x=new Y;else throw Error("Unknown prime "+b);return P[b]=x,x};function h(b){if(typeof b=="string"){var x=o._prime(b);this.m=x.p,this.prime=x}else i(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}a(h,"J"),h.prototype._verify1=function(b){i(b.negative===0,"red works only with positives"),i(b.red,"red works only with red numbers")},h.prototype._verify2=function(b,x){i((b.negative|x.negative)===0,"red works only with positives"),i(b.red&&b.red===x.red,"red works only with red numbers")},h.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(f(b,b.umod(this.m)._forceRed(this)),b)},h.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},h.prototype.add=function(b,x){this._verify2(b,x);var E=b.add(x);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},h.prototype.iadd=function(b,x){this._verify2(b,x);var E=b.iadd(x);return E.cmp(this.m)>=0&&E.isub(this.m),E},h.prototype.sub=function(b,x){this._verify2(b,x);var E=b.sub(x);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},h.prototype.isub=function(b,x){this._verify2(b,x);var E=b.isub(x);return E.cmpn(0)<0&&E.iadd(this.m),E},h.prototype.shl=function(b,x){return this._verify1(b),this.imod(b.ushln(x))},h.prototype.imul=function(b,x){return this._verify2(b,x),this.imod(b.imul(x))},h.prototype.mul=function(b,x){return this._verify2(b,x),this.imod(b.mul(x))},h.prototype.isqr=function(b){return this.imul(b,b.clone())},h.prototype.sqr=function(b){return this.mul(b,b)},h.prototype.sqrt=function(b){if(b.isZero())return b.clone();var x=this.m.andln(3);if(i(x%2===1),x===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(b,E)}for(var T=this.m.subn(1),N=0;!T.isZero()&&T.andln(1)===0;)N++,T.iushrn(1);i(!T.isZero());var k=new o(1).toRed(this),p=k.redNeg(),S=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new o(2*C*C).toRed(this);this.pow(C,S).cmp(p)!==0;)C.redIAdd(p);for(var M=this.pow(C,T),U=this.pow(b,T.addn(1).iushrn(1)),B=this.pow(b,T),G=N;B.cmp(k)!==0;){for(var J=B,ue=0;J.cmp(k)!==0;ue++)J=J.redSqr();i(ue<G);var se=this.pow(M,new o(1).iushln(G-ue-1));U=U.redMul(se),M=se.redSqr(),B=B.redMul(M),G=ue}return U},h.prototype.invm=function(b){var x=b._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},h.prototype.pow=function(b,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return b.clone();var E=4,T=Array(1<<E);T[0]=new o(1).toRed(this),T[1]=b;for(var N=2;N<T.length;N++)T[N]=this.mul(T[N-1],b);var k=T[0],p=0,S=0,C=x.bitLength()%26;for(C===0&&(C=26),N=x.length-1;N>=0;N--){for(var M=x.words[N],U=C-1;U>=0;U--){var B=M>>U&1;if(k!==T[0]&&(k=this.sqr(k)),B===0&&p===0){S=0;continue}p<<=1,p|=B,S++,!(S!==E&&(N!==0||U!==0))&&(k=this.mul(k,T[p]),S=0,p=0)}C=26}return k},h.prototype.convertTo=function(b){var x=b.umod(this.m);return x===b?x.clone():x},h.prototype.convertFrom=function(b){var x=b.clone();return x.red=null,x},o.mont=function(b){return new w(b)};function w(b){h.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(w,"X"),s(w,h),w.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},w.prototype.convertFrom=function(b){var x=this.imod(b.mul(this.rinv));return x.red=null,x},w.prototype.imul=function(b,x){if(b.isZero()||x.isZero())return b.words[0]=0,b.length=1,b;var E=b.imul(x),T=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=E.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},w.prototype.mul=function(b,x){if(b.isZero()||x.isZero())return new o(0)._forceRed(this);var E=b.mul(x),T=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=E.isub(T).iushrn(this.shift),k=N;return N.cmp(this.m)>=0?k=N.isub(this.m):N.cmpn(0)<0&&(k=N.iadd(this.m)),k._forceRed(this)},w.prototype.invm=function(b){var x=this.imod(b._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof t>"u"||t,e)}),Wg=tt((e,t)=>{var r=C5(),n=ic(),i=Un().Buffer;function s(u){var c=u.modulus.byteLength(),d;do d=new r(n(c));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}a(s,"O");function o(u){var c=s(u),d=c.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed();return{blinder:d,unblinder:c.invm(u.modulus)}}a(o,"Y");function l(u,c){var d=o(c),f=c.modulus.byteLength(),g=new r(u).mul(d.blinder).umod(c.modulus),m=g.toRed(r.mont(c.prime1)),y=g.toRed(r.mont(c.prime2)),_=c.coefficient,A=c.prime1,I=c.prime2,O=m.redPow(c.exponent1).fromRed(),R=y.redPow(c.exponent2).fromRed(),L=O.isub(R).imul(_).umod(A).imul(I);return R.iadd(L).imul(d.unblinder).umod(c.modulus).toArrayLike(i,"be",f)}a(l,"z"),l.getr=s,t.exports=l}),M5=tt((e,t)=>{var r=Zg(),n=ic(),i=ac(),s=Yg(),o=$g(),l=rh(),u=Qg(),c=Wg(),d=Un().Buffer;t.exports=function(y,_,A){var I;y.padding?I=y.padding:A?I=1:I=4;var O=r(y),R;if(I===4)R=f(O,_);else if(I===1)R=g(O,_,A);else if(I===3){if(R=new l(_),R.cmp(O.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return A?c(R,O):u(R,O)};function f(y,_){var A=y.modulus.byteLength(),I=_.length,O=i("sha1").update(d.alloc(0)).digest(),R=O.length,L=2*R;if(I>A-L-2)throw Error("message too long");var D=d.alloc(A-I-L-2),P=A-R-1,Z=n(R),V=o(d.concat([O,D,d.alloc(1,1),_],P),s(Z,P)),W=o(Z,s(V,R));return new l(d.concat([d.alloc(1),W,V],A))}a(f,"w");function g(y,_,A){var I=_.length,O=y.modulus.byteLength();if(I>O-11)throw Error("message too long");var R;return A?R=d.alloc(O-I-3,255):R=m(O-I-3),new l(d.concat([d.from([0,A?1:2]),R,d.alloc(1),_],O))}a(g,"k");function m(y){for(var _=d.allocUnsafe(y),A=0,I=n(y*2),O=0,R;A<y;)O===I.length&&(I=n(y*2),O=0),R=I[O++],R&&(_[A++]=R);return _}a(m,"S")}),O5=tt((e,t)=>{var r=Zg(),n=Yg(),i=$g(),s=rh(),o=Wg(),l=ac(),u=Qg(),c=Un().Buffer;t.exports=function(m,y,_){var A;m.padding?A=m.padding:_?A=1:A=4;var I=r(m),O=I.modulus.byteLength();if(y.length>O||new s(y).cmp(I.modulus)>=0)throw Error("decryption error");var R;_?R=u(new s(y),I):R=o(y,I);var L=c.alloc(O-R.length);if(R=c.concat([L,R],O),A===4)return d(I,R);if(A===1)return f(I,R,_);if(A===3)return R;throw Error("unknown padding")};function d(m,y){var _=m.modulus.byteLength(),A=l("sha1").update(c.alloc(0)).digest(),I=A.length;if(y[0]!==0)throw Error("decryption error");var O=y.slice(1,I+1),R=y.slice(I+1),L=i(O,n(R,I)),D=i(R,n(L,_-I-1));if(g(A,D.slice(0,I)))throw Error("decryption error");for(var P=I;D[P]===0;)P++;if(D[P++]!==1)throw Error("decryption error");return D.slice(P)}a(d,"f");function f(m,y,_){for(var A=y.slice(0,2),I=2,O=0;y[I++]!==0;)if(I>=y.length){O++;break}var R=y.slice(2,I-1);if((A.toString("hex")!=="0002"&&!_||A.toString("hex")!=="0001"&&_)&&O++,R.length<8&&O++,O)throw Error("decryption error");return y.slice(I)}a(f,"w");function g(m,y){m=c.from(m),y=c.from(y);var _=0,A=m.length;m.length!==y.length&&(_++,A=Math.min(m.length,y.length));for(var I=-1;++I<A;)_+=m[I]^y[I];return _}a(g,"k")}),nh=tt(e=>{e.publicEncrypt=M5(),e.privateDecrypt=O5(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}),R5=tt(e=>{var t=(Ai(),mr(di));typeof t.publicEncrypt!="function"&&(t=nh()),e.publicEncrypt=t.publicEncrypt,e.privateDecrypt=t.privateDecrypt,typeof t.privateEncrypt!="function"?e.privateEncrypt=nh().privateEncrypt:e.privateEncrypt=t.privateEncrypt,typeof t.publicDecrypt!="function"?e.publicDecrypt=nh().publicDecrypt:e.publicDecrypt=t.publicDecrypt}),L5=tt(e=>{var t=Un(),r=ic(),n=t.Buffer,i=t.kMaxLength,s=globalThis.crypto||globalThis.msCrypto,o=Math.pow(2,32)-1;function l(g,m){if(typeof g!="number"||g!==g)throw TypeError("offset must be a number");if(g>o||g<0)throw TypeError("offset must be a uint32");if(g>i||g>m)throw RangeError("offset out of range")}a(l,"z");function u(g,m,y){if(typeof g!="number"||g!==g)throw TypeError("size must be a number");if(g>o||g<0)throw TypeError("size must be a uint32");if(g+m>y||g>i)throw RangeError("buffer too small")}a(u,"H"),s&&s.getRandomValues,e.randomFill=c,e.randomFillSync=f;function c(g,m,y,_){if(!n.isBuffer(g)&&!(g instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")_=m,m=0,y=g.length;else if(typeof y=="function")_=y,y=g.length-m;else if(typeof _!="function")throw TypeError('"cb" argument must be a function');return l(m,g.length),u(y,m,g.length),d(g,m,y,_)}a(c,"T");function d(g,m,y,_){if(_){r(y,function(I,O){if(I)return _(I);O.copy(g,m),_(null,g)});return}var A=r(y);return A.copy(g,m),g}a(d,"f");function f(g,m,y){if(typeof m>"u"&&(m=0),!n.isBuffer(g)&&!(g instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return l(m,g.length),y===void 0&&(y=g.length-m),u(y,m,g.length),d(g,m,y)}a(f,"w")}),D5=tt((e,t)=>{var r=(Ai(),mr(di));typeof r.randomFill=="function"&&typeof r.randomFillSync=="function"?(e.randomFill=r.randomFill,e.randomFillSync=r.randomFillSync):t.exports=L5()}),j5=tt(e=>{e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=ic(),e.createHash=e.Hash=ac(),e.createHmac=e.Hmac=Eg();var t=sx(),r=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return n};var i=Lg();e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync;var s=Hx();e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var o=Gx();e.DiffieHellmanGroup=o.DiffieHellmanGroup,e.createDiffieHellmanGroup=o.createDiffieHellmanGroup,e.getDiffieHellman=o.getDiffieHellman,e.createDiffieHellman=o.createDiffieHellman,e.DiffieHellman=o.DiffieHellman;var l=Vx();e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=h5();var u=R5();e.publicEncrypt=u.publicEncrypt,e.privateEncrypt=u.privateEncrypt,e.publicDecrypt=u.publicDecrypt,e.privateDecrypt=u.privateDecrypt;var c=D5();e.randomFill=c.randomFill,e.randomFillSync=c.randomFillSync,e.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),or=tZ(j5(),1),kN=or.prng,AN=or.pseudoRandomBytes,TN=or.rng,NN=or.randomBytes,IN=or.Hash,CN=or.createHash,MN=or.Hmac,ON=or.createHmac,RN=or.getHashes,LN=or.pbkdf2,DN=or.pbkdf2Sync,jN=or.Cipher,PN=or.createCipher,zN=or.Cipheriv,BN=or.createCipheriv,FN=or.Decipher,UN=or.createDecipher,HN=or.Decipheriv,GN=or.createDecipheriv,VN=or.getCiphers,KN=or.listCiphers,ZN=or.DiffieHellmanGroup,YN=or.createDiffieHellmanGroup,$N=or.getDiffieHellman,QN=or.createDiffieHellman,WN=or.DiffieHellman,XN=or.createSign,JN=or.Sign,qN=or.createVerify,eI=or.Verify,tI=or.createECDH,rI=or.publicEncrypt,nI=or.privateEncrypt,iI=or.publicDecrypt,aI=or.privateDecrypt,sI=or.randomFill,oI=or.randomFillSync,lI=or.createCredentials,uI=or.constants,cI=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],dI=crypto,fI=crypto}),aZ=dt((e,t)=>{var r=String,n=a(function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}},"yM");t.exports=n(),t.exports.createColors=n}),sZ=dt((e,t)=>{t.exports=r;function r(n={}){let{ERR_PATHS_MUST_BE_STRINGS:i=a(()=>"fast-redact - Paths must be (non-empty) strings","q"),ERR_INVALID_PATH:s=a(o=>`fast-redact  Invalid path (${o})`,"_")}=n;return function({paths:o}){o.forEach(l=>{if(typeof l!="string")throw Error(i());try{if(//.test(l))throw Error();let u=(l[0]==="["?"":".")+l.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(u)||/\/\*/.test(u))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${u}
            if ([o${u}].length !== 1) throw Error()`)()}catch{throw Error(s(l))}})}}a(r,"lt")}),z2=dt((e,t)=>{t.exports=/[^.[\]]+|\[((?:.)*?)\]/g}),oZ=dt((e,t)=>{var r=z2();t.exports=n;function n({paths:i}){let s=[];var o=0;let l=i.reduce(function(u,c,d){var f=c.match(r).map(y=>y.replace(/'|"|`/g,""));let g=c[0]==="[";f=f.map(y=>y[0]==="["?y.substr(1,y.length-2):y);let m=f.indexOf("*");if(m>-1){let y=f.slice(0,m),_=y.join("."),A=f.slice(m+1,f.length),I=A.length>0;o++,s.push({before:y,beforeStr:_,after:A,nested:I})}else u[c]={path:f,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(c),leadingBracket:g};return u},{});return{wildcards:s,wcLen:o,secret:l}}a(n,"ot")}),lZ=dt((e,t)=>{var r=z2();t.exports=n;function n({secret:u,serialize:c,wcLen:d,strict:f,isCensorFct:g,censorFctTakesPath:m},y){let _=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${l(f,c)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${i(u,g,m)}
    this.compileRestore()
    ${s(d>0,g,m)}
    this.secret = originalSecret
    ${o(c)}
  `).bind(y);return _.state=y,c===!1&&(_.restore=A=>y.restore(A)),_}a(n,"it");function i(u,c,d){return Object.keys(u).map(f=>{let{escPath:g,leadingBracket:m,path:y}=u[f],_=m?1:0,A=m?"":".",I=[];for(var O;(O=r.exec(f))!==null;){let[,P]=O,{index:Z,input:V}=O;Z>_&&I.push(V.substring(0,Z-(P?0:1)))}var R=I.map(P=>`o${A}${P}`).join(" && ");R.length===0?R+=`o${A}${f} != null`:R+=` && o${A}${f} != null`;let L=`
      switch (true) {
        ${I.reverse().map(P=>`
          case o${A}${P} === censor:
            secret[${g}].circle = ${JSON.stringify(P)}
            break
        `).join(`
`)}
      }
    `,D=d?`val, ${JSON.stringify(y)}`:"val";return`
      if (${R}) {
        const val = o${A}${f}
        if (val === censor) {
          secret[${g}].precensored = true
        } else {
          secret[${g}].val = val
          o${A}${f} = ${c?`censor(${D})`:"censor"}
          ${L}
        }
      }
    `}).join(`
`)}a(i,"Bt");function s(u,c,d){return u===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${c}, ${d})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${c}, ${d})
      }
    }
  `:""}a(s,"tt");function o(u){return u===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}a(o,"Ut");function l(u,c){return u===!0?"throw Error('fast-redact: primitives cannot be redacted')":c===!1?"return o":"return this.serialize(o)"}a(l,"Ft")}),hI=dt((e,t)=>{t.exports={groupRedact:n,groupRestore:r,nestedRedact:s,nestedRestore:i};function r({keys:m,values:y,target:_}){if(_==null||typeof _=="string")return;let A=m.length;for(var I=0;I<A;I++){let O=m[I];_[O]=y[I]}}a(r,"at");function n(m,y,_,A,I){let O=u(m,y);if(O==null||typeof O=="string")return{keys:null,values:null,target:O,flat:!0};let R=Object.keys(O),L=R.length,D=y.length,P=I?[...y]:void 0,Z=Array(L);for(var V=0;V<L;V++){let W=R[V];Z[V]=O[W],I?(P[D]=W,O[W]=_(O[W],P)):A?O[W]=_(O[W]):O[W]=_}return{keys:R,values:Z,target:O,flat:!0}}a(n,"Qt");function i(m){for(let y=0;y<m.length;y++){let{target:_,path:A,value:I}=m[y],O=_;for(let R=A.length-1;R>0;R--)O=O[A[R]];O[A[0]]=I}}a(i,"et");function s(m,y,_,A,I,O,R){let L=u(y,_);if(L==null)return;let D=Object.keys(L),P=D.length;for(var Z=0;Z<P;Z++){let V=D[Z];l(m,L,V,_,A,I,O,R)}return m}a(s,"st");function o(m,y){return m!=null?"hasOwn"in Object?Object.hasOwn(m,y):Object.prototype.hasOwnProperty.call(m,y):!1}a(o,"FH");function l(m,y,_,A,I,O,R,L){let D=I.length,P=D-1,Z=_;var V=-1,W,F,Y,h=null,w,b,x=!1,E=0,T=0,N=d();if(Y=W=y[_],typeof W=="object"){for(;W!=null&&++V<D&&(T+=1,_=I[V],!(_!=="*"&&!h&&!(typeof W=="object"&&_ in W)));)if(!(_==="*"&&(h==="*"&&(x=!0),h=_,V!==P))){if(h){let p=Object.keys(W);for(var k=0;k<p.length;k++){let S=p[k];if(b=W[S],w=_==="*",x)N=f(N,S,T),E=V,Y=c(b,E-1,_,A,I,O,R,L,Z,W,F,Y,w,S,V,P,N,m,y[Z],T+1);else if(w||typeof b=="object"&&b!==null&&_ in b){if(w?Y=b:Y=b[_],F=V!==P?Y:R?L?O(Y,[...A,Z,...I]):O(Y):O,w){let C=g(f(N,S,T),Y,y[Z]);m.push(C),W[S]=F}else if(b[_]!==F)if(F===void 0&&O!==void 0||o(b,_)&&F===Y)N=f(N,S,T);else{N=f(N,S,T);let C=g(f(N,_,T+1),Y,y[Z]);m.push(C),b[_]=F}}}h=null}else{if(Y=W[_],N=f(N,_,T),F=V!==P?Y:R?L?O(Y,[...A,Z,...I]):O(Y):O,!(o(W,_)&&F===Y||F===void 0&&O!==void 0)){let p=g(N,Y,y[Z]);m.push(p),W[_]=F}W=W[_]}if(typeof W!="object")break}}}a(l,"$U");function u(m,y){for(var _=-1,A=y.length,I=m;I!=null&&++_<A;)I=I[y[_]];return I}a(u,"qN");function c(m,y,_,A,I,O,R,L,D,P,Z,V,W,F,Y,h,w,b,x,E){if(y===0&&(W||typeof m=="object"&&m!==null&&_ in m)){if(W?V=m:V=m[_],Z=Y!==h?V:R?L?O(V,[...A,D,...I]):O(V):O,W){let T=g(w,V,x);b.push(T),P[F]=Z}else if(m[_]!==Z){if(!(Z===void 0&&O!==void 0||o(m,_)&&Z===V)){let T=g(f(w,_,E+1),V,x);b.push(T),m[_]=Z}}}for(let T in m)typeof m[T]=="object"&&(w=f(w,T,E),c(m[T],y-1,_,A,I,O,R,L,D,P,Z,V,W,F,Y,h,w,b,x,E+1))}a(c,"_N");function d(){return{parent:null,key:null,children:[],depth:0}}a(d,"qU");function f(m,y,_){if(m.depth===_)return f(m.parent,y,_);var A={parent:m,key:y,depth:_,children:[]};return m.children.push(A),A}a(f,"R_");function g(m,y,_){let A=m,I=[];do I.push(A.key),A=A.parent;while(A.parent!=null);return{path:I,value:y,target:_}}a(g,"f1")}),uZ=dt((e,t)=>{var{groupRestore:r,nestedRestore:n}=hI();t.exports=i;function i(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:l,wcLen:u}=this,c=Object.keys(l),d=s(l,c),f=u>0,g=f?{secret:l,groupRestore:r,nestedRestore:n}:{secret:l};this.restore=Function("o",o(d,c,f)).bind(g),this.restore.state=g}}a(i,"PU");function s(l,u){return u.map(c=>{let{circle:d,escPath:f,leadingBracket:g}=l[c],m=d?`o.${d} = secret[${f}].val`:`o${g?"":"."}${c} = secret[${f}].val`,y=`secret[${f}].val = undefined`;return`
      if (secret[${f}].val !== undefined) {
        try { ${m} } catch (e) {}
        ${y}
      }
    `}).join("")}a(s,"OU");function o(l,u,c){return`
    const secret = this.secret
    ${c===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${u.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${l}
    return o
  `}a(o,"YU")}),cZ=dt((e,t)=>{t.exports=r;function r(n){let{secret:i,censor:s,compileRestore:o,serialize:l,groupRedact:u,nestedRedact:c,wildcards:d,wcLen:f}=n,g=[{secret:i,censor:s,compileRestore:o}];return l!==!1&&g.push({serialize:l}),f>0&&g.push({groupRedact:u,nestedRedact:c,wildcards:d,wcLen:f}),Object.assign(...g)}a(r,"jU")}),dZ=dt((e,t)=>{var r=sZ(),n=oZ(),i=lZ(),s=uZ(),{groupRedact:o,nestedRedact:l}=hI(),u=cZ(),c=z2(),d=r(),f=a(y=>y,"QH");f.restore=f;var g="[REDACTED]";m.rx=c,m.validator=r,t.exports=m;function m(y={}){let _=Array.from(new Set(y.paths||[])),A="serialize"in y&&(y.serialize===!1||typeof y.serialize=="function")?y.serialize:JSON.stringify,I=y.remove;if(I===!0&&A!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");let O=I===!0?void 0:"censor"in y?y.censor:g,R=typeof O=="function",L=R&&O.length>1;if(_.length===0)return A||f;d({paths:_,serialize:A,censor:O});let{wildcards:D,wcLen:P,secret:Z}=n({paths:_,censor:O}),V=s(),W="strict"in y?y.strict:!0;return i({secret:Z,wcLen:P,serialize:A,strict:W,isCensorFct:R,censorFctTakesPath:L},u({secret:Z,censor:O,compileRestore:V,serialize:A,groupRedact:o,nestedRedact:l,wildcards:D,wcLen:P}))}a(m,"eH")}),E0;(e=>{e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.DOCUMENT="document",e.LINK="link"})(E0||={});var fZ;(e=>{e.DOCUMENT="document",e.FRAGMENT="fragment",e.MESSAGE="message",e.DESCRIPTION="description",e.CUSTOM="custom"})(fZ||={});var hZ;(e=>{e.OWNER="OWNER",e.ADMIN="ADMIN",e.NONE="NONE"})(hZ||={});var Gt;(e=>{e.SELF="SELF",e.DM="DM",e.GROUP="GROUP",e.VOICE_DM="VOICE_DM",e.VOICE_GROUP="VOICE_GROUP",e.FEED="FEED",e.THREAD="THREAD",e.WORLD="WORLD",e.FORUM="FORUM",e.API="API"})(Gt||={});var bn;(e=>{e.ACTIVE="active",e.INACTIVE="inactive"})(bn||={});var pZ;(e=>{e.WORLD_JOINED="WORLD_JOINED",e.WORLD_CONNECTED="WORLD_CONNECTED",e.WORLD_LEFT="WORLD_LEFT",e.ENTITY_JOINED="ENTITY_JOINED",e.ENTITY_LEFT="ENTITY_LEFT",e.ENTITY_UPDATED="ENTITY_UPDATED",e.ROOM_JOINED="ROOM_JOINED",e.ROOM_LEFT="ROOM_LEFT",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.MESSAGE_DELETED="MESSAGE_DELETED",e.CHANNEL_CLEARED="CHANNEL_CLEARED",e.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED",e.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT",e.REACTION_RECEIVED="REACTION_RECEIVED",e.POST_GENERATED="POST_GENERATED",e.INTERACTION_RECEIVED="INTERACTION_RECEIVED",e.RUN_STARTED="RUN_STARTED",e.RUN_ENDED="RUN_ENDED",e.RUN_TIMEOUT="RUN_TIMEOUT",e.ACTION_STARTED="ACTION_STARTED",e.ACTION_COMPLETED="ACTION_COMPLETED",e.EVALUATOR_STARTED="EVALUATOR_STARTED",e.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED",e.MODEL_USED="MODEL_USED",e.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED",e.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED",e.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(pZ||={});var mZ;(e=>{e.DISCORD="DISCORD",e.TELEGRAM="TELEGRAM",e.TWITTER="TWITTER"})(mZ||={});var gZ;(e=>{e.OFF="OFF",e.LOCAL="LOCAL",e.DOCKER="DOCKER",e.PRODUCTION="PRODUCTION"})(gZ||={});var bZ;(e=>e.TDX_DSTACK="tdx_dstack")(bZ||={});var By;(e=>{e[e.ROOM_JOINING=1]="ROOM_JOINING",e[e.SEND_MESSAGE=2]="SEND_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.ACK=4]="ACK",e[e.THINKING=5]="THINKING",e[e.CONTROL=6]="CONTROL"})(By||={});var vZ=Object.defineProperty,En=a((e,t)=>{for(var r in t)vZ(e,r,{get:t[r],enumerable:!0})},"f6"),yZ=class{static{a(this,"S1")}pageContent;metadata;id;constructor(e){this.pageContent=e.pageContent!==void 0?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}},wZ=Ea(xG(),1);Ea(_G(),1);function xZ(e,t){return t?.[e]||wZ.default(e)}a(xZ,"ET");function _Z(e,t,r){let n={};for(let i in e)Object.hasOwn(e,i)&&(n[t(i,r)]=e[i]);return n}a(_Z,"hT");var EZ={};En(EZ,{Serializable:a(()=>Sd,"Serializable"),get_lc_unique_name:a(()=>B2,"get_lc_unique_name")});function P5(e){return Array.isArray(e)?[...e]:{...e}}a(P5,"RT");function SZ(e,t){let r=P5(e);for(let[n,i]of Object.entries(t)){let[s,...o]=n.split(".").reverse(),l=r;for(let u of o.reverse()){if(l[u]===void 0)break;l[u]=P5(l[u]),l=l[u]}l[s]!==void 0&&(l[s]={lc:1,type:"secret",id:[i]})}return r}a(SZ,"fC");function B2(e){let t=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof t.lc_name!="function"||e.lc_name()!==t.lc_name())?e.lc_name():e.name}a(B2,"M1");var Sd=class pI{static{a(this,"$")}lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,B2(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(t,...r){this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(t||{}).filter(([n])=>this.lc_serializable_keys?.includes(n))):this.lc_kwargs=t??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof pI||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let t={},r={},n=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(t,Reflect.get(i,"lc_aliases",this)),Object.assign(r,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(r).forEach(i=>{let s=this,o=n,[l,...u]=i.split(".").reverse();for(let c of u.reverse()){if(!(c in s)||s[c]===void 0)return;(!(c in o)||o[c]===void 0)&&(typeof s[c]=="object"&&s[c]!=null?o[c]={}:Array.isArray(s[c])&&(o[c]=[])),s=s[c],o=o[c]}l in s&&s[l]!==void 0&&(o[l]=o[l]||s[l])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:_Z(Object.keys(r).length?SZ(n,r):n,xZ,t)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function kZ(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="tool_call")}a(kZ,"U2");var AZ=class extends Error{static{a(this,"IT")}output;constructor(e,t){super(e),this.output=t}},mI=Symbol.for("ls:tracing_async_local_storage"),td=Symbol.for("lc:context_variables"),TZ=a(e=>{globalThis[mI]=e},"LT"),kd=a(()=>globalThis[mI],"b_");function Ad(e){return typeof e=="object"&&e!==null&&"type"in e&&typeof e.type=="string"&&"source_type"in e&&(e.source_type==="url"||e.source_type==="base64"||e.source_type==="text"||e.source_type==="id")}a(Ad,"rK");function NZ(e){return Ad(e)&&e.source_type==="url"&&"url"in e&&typeof e.url=="string"}a(NZ,"gT");function IZ(e){return Ad(e)&&e.source_type==="base64"&&"data"in e&&typeof e.data=="string"}a(IZ,"bT");function CZ(e){return Ad(e)&&e.source_type==="id"&&"id"in e&&typeof e.id=="string"}a(CZ,"yT");function z5({dataUrl:e,asTypedArray:t=!1}){let r=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/),n;if(r){n=r[1].toLowerCase();let i=t?Uint8Array.from(atob(r[2]),s=>s.charCodeAt(0)):r[2];return{mime_type:n,data:i}}}a(z5,"F2");function Zt(e,t){return qt(e)&&e.type===t}a(Zt,"e$");function qt(e){return typeof e=="object"&&e!==null}a(qt,"K6");function Qa(e){return Array.isArray(e)}a(Qa,"nq");function jt(e){return typeof e=="string"}a(jt,"U$");function aa(e){return typeof e=="number"}a(aa,"_8");function F2(e){return e instanceof Uint8Array}a(F2,"N1");function B5(e){try{return JSON.parse(e)}catch{return}}a(B5,"a2");var Td=a(e=>e(),"P_");function MZ(e){if(e.type==="char_location"&&jt(e.document_title)&&aa(e.start_char_index)&&aa(e.end_char_index)&&jt(e.cited_text)){let{document_title:t,start_char_index:r,end_char_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"char",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="page_location"&&jt(e.document_title)&&aa(e.start_page_number)&&aa(e.end_page_number)&&jt(e.cited_text)){let{document_title:t,start_page_number:r,end_page_number:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"page",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="content_block_location"&&jt(e.document_title)&&aa(e.start_block_index)&&aa(e.end_block_index)&&jt(e.cited_text)){let{document_title:t,start_block_index:r,end_block_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"block",title:t??void 0,startIndex:r,endIndex:n,citedText:i}}if(e.type==="web_search_result_location"&&jt(e.url)&&jt(e.title)&&jt(e.encrypted_index)&&jt(e.cited_text)){let{url:t,title:r,encrypted_index:n,cited_text:i,...s}=e;return{...s,type:"citation",source:"url",url:t,title:r,startIndex:Number(n),endIndex:Number(n),citedText:i}}if(e.type==="search_result_location"&&jt(e.source)&&jt(e.title)&&aa(e.start_block_index)&&aa(e.end_block_index)&&jt(e.cited_text)){let{source:t,title:r,start_block_index:n,end_block_index:i,cited_text:s,...o}=e;return{...o,type:"citation",source:"search",url:t,title:r??void 0,startIndex:n,endIndex:i,citedText:s}}}a(MZ,"ZC");function gI(e){if(Zt(e,"document")&&qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&jt(e.source.media_type)&&jt(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&jt(e.source.url))return{type:"file",url:e.source.url};if(e.source.type==="file"&&jt(e.source.file_id))return{type:"file",fileId:e.source.file_id};if(e.source.type==="text"&&jt(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(Zt(e,"image")&&qt(e.source)&&"type"in e.source){if(e.source.type==="base64"&&jt(e.source.media_type)&&jt(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};if(e.source.type==="url"&&jt(e.source.url))return{type:"image",url:e.source.url};if(e.source.type==="file"&&jt(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}a(gI,"xT");function OZ(e){function*t(){for(let r of e){let n=gI(r);n?yield n:yield r}}return a(t,"q"),Array.from(t())}a(OZ,"pT");function F5(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"text")&&jt(n.text)){let{text:i,citations:s,...o}=n;if(Qa(s)&&s.length){let l=s.reduce((u,c)=>{let d=MZ(c);return d?[...u,d]:u},[]);yield{...o,type:"text",text:i,annotations:l};continue}else{yield{...o,type:"text",text:i};continue}}else if(Zt(n,"thinking")&&jt(n.thinking)){let{thinking:i,signature:s,...o}=n;yield{...o,type:"reasoning",reasoning:i,signature:s};continue}else if(Zt(n,"redacted_thinking")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"tool_use")&&jt(n.name)&&jt(n.id)){yield{type:"tool_call",id:n.id,name:n.name,args:n.input};continue}else if(Zt(n,"input_json_delta")){if(LZ(e)&&e.tool_call_chunks?.length){let i=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:i.id,name:i.name,args:i.args,index:i.index};continue}}else if(Zt(n,"server_tool_use")&&jt(n.name)&&jt(n.id)){let{name:i,id:s}=n;if(i==="web_search"){let o=Td(()=>{if(typeof n.input=="string")return n.input;if(qt(n.input)&&jt(n.input.query))return n.input.query;if(jt(n.partial_json)){let l=B5(n.partial_json);if(l?.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(n.name==="code_execution"){let o=Td(()=>{if(typeof n.input=="string")return n.input;if(qt(n.input)&&jt(n.input.code))return n.input.code;if(jt(n.partial_json)){let l=B5(n.partial_json);if(l?.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(Zt(n,"web_search_tool_result")&&jt(n.tool_use_id)&&Qa(n.content)){let{content:i,tool_use_id:s}=n,o=i.reduce((l,u)=>Zt(u,"web_search_result")?[...l,u.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if(Zt(n,"code_execution_tool_result")&&jt(n.tool_use_id)&&qt(n.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:n.tool_use_id,status:"success",output:n.content};continue}else if(Zt(n,"mcp_tool_use")){yield{id:n.id,type:"server_tool_call",name:"mcp_tool_use",args:n.input};continue}else if(Zt(n,"mcp_tool_result")&&jt(n.tool_use_id)&&qt(n.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:n.tool_use_id,status:"success",output:n.content};continue}else if(Zt(n,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:n.input};continue}else if(Zt(n,"search_result")){yield{id:n.id,type:"non_standard",value:n};continue}else if(Zt(n,"tool_result")){yield{id:n.id,type:"non_standard",value:n};continue}else{let i=gI(n);if(i){yield i;continue}}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(F5,"uT");var RZ={translateContent:F5,translateContentChunk:F5};function LZ(e){return typeof e?._getType=="function"&&typeof e.concat=="function"&&e._getType()==="ai"}a(LZ,"XC");function DZ(e){return NZ(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:IZ(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:CZ(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}a(DZ,"AC");function jZ(e){return e.map(DZ)}a(jZ,"mT");function PZ(e){return!!(Zt(e,"image_url")&&qt(e.image_url)||Zt(e,"input_audio")&&qt(e.input_audio)||Zt(e,"file")&&qt(e.file))}a(PZ,"dT");function zZ(e){if(Zt(e,"image_url")&&qt(e.image_url)&&jt(e.image_url.url)){let t=z5({dataUrl:e.image_url.url});return t?{type:"image",mimeType:t.mime_type,data:t.data}:{type:"image",url:e.image_url.url}}else{if(Zt(e,"input_audio")&&qt(e.input_audio)&&jt(e.input_audio.data)&&jt(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(Zt(e,"file")&&qt(e.file)&&jt(e.file.data)){let t=z5({dataUrl:e.file.data});if(t)return{type:"file",data:t.data,mimeType:t.mime_type};if(jt(e.file.file_id))return{type:"file",fileId:e.file.file_id}}}return e}a(zZ,"lT");function BZ(e){let t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...U2(e.content));for(let r of e.tool_calls??[])t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}a(BZ,"kC");function FZ(e){let t=[];typeof e.content=="string"?t.push({type:"text",text:e.content}):t.push(...U2(e.content));for(let r of e.tool_calls??[])t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}a(FZ,"GC");function U2(e){let t=[];for(let r of e)PZ(r)?t.push(zZ(r)):t.push(r);return t}a(U2,"C1");function UZ(e){if(e.type==="url_citation"){let{url:t,title:r,start_index:n,end_index:i}=e;return{type:"citation",url:t,title:r,startIndex:n,endIndex:i}}if(e.type==="file_citation"){let{file_id:t,filename:r,index:n}=e;return{type:"citation",title:r,startIndex:n,endIndex:n,fileId:t}}return e}a(UZ,"VC");function bI(e){function*t(){qt(e.additional_kwargs?.reasoning)&&Qa(e.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:e.additional_kwargs.reasoning.summary.reduce((n,i)=>qt(i)&&jt(i.text)?`${n}${i.text}`:n,"")});let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r)if(Zt(n,"text")){let{text:i,annotations:s,...o}=n;Array.isArray(s)?yield{...o,type:"text",text:String(i),annotations:s.map(UZ)}:yield{...o,type:"text",text:String(i)}}for(let n of e.tool_calls??[])yield{type:"tool_call",id:n.id,name:n.name,args:n.args};if(qt(e.additional_kwargs)&&Qa(e.additional_kwargs.tool_outputs))for(let n of e.additional_kwargs.tool_outputs){if(Zt(n,"web_search_call")){yield{id:n.id,type:"server_tool_call",name:"web_search",args:{query:n.query}};continue}else if(Zt(n,"file_search_call")){yield{id:n.id,type:"server_tool_call",name:"file_search",args:{query:n.query}};continue}else if(Zt(n,"computer_call")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"code_interpreter_call")){if(jt(n.code)&&(yield{id:n.id,type:"server_tool_call",name:"code_interpreter",args:{code:n.code}}),Qa(n.outputs)){let i=Td(()=>{if(n.status!=="in_progress"){if(n.status==="completed")return 0;if(n.status==="incomplete")return 127;if(n.status!=="interpreting"&&n.status==="failed")return 1}});for(let s of n.outputs)if(Zt(s,"logs")){yield{type:"server_tool_call_result",toolCallId:n.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:i??0,stderr:[0,void 0].includes(i)?void 0:String(s.logs),stdout:[0,void 0].includes(i)?String(s.logs):void 0}};continue}}continue}else if(Zt(n,"mcp_call")){yield{id:n.id,type:"server_tool_call",name:"mcp_call",args:n.input};continue}else if(Zt(n,"mcp_list_tools")){yield{id:n.id,type:"server_tool_call",name:"mcp_list_tools",args:n.input};continue}else if(Zt(n,"mcp_approval_request")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"image_generation_call")){yield{type:"non_standard",value:n};continue}qt(n)&&(yield{type:"non_standard",value:n})}}return a(t,"q"),Array.from(t())}a(bI,"rT");function HZ(e){function*t(){yield*bI(e);for(let r of e.tool_call_chunks??[])yield{type:"tool_call_chunk",id:r.id,name:r.name,args:r.args}}return a(t,"q"),Array.from(t())}a(HZ,"SC");var GZ={translateContent:a(e=>typeof e.content=="string"?BZ(e):bI(e),"translateContent"),translateContentChunk:a(e=>typeof e.content=="string"?FZ(e):HZ(e),"translateContentChunk")};function VZ(e){return typeof e=="object"&&e!==null&&"type"in e&&"content"in e&&(typeof e.content=="string"||Array.isArray(e.content))}a(VZ,"nT");function KZ(e,t="pretty"){return t==="pretty"?ZZ(e):JSON.stringify(e)}a(KZ,"iT");function ZZ(e){let t=[],r=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,n=Math.floor((80-r.length)/2),i="=".repeat(n),s=r.length%2===0?i:`${i}=`;if(t.push(`${i}${r}${s}`),e.type==="ai"){let o=e;if(o.tool_calls&&o.tool_calls.length>0){t.push("Tool Calls:");for(let l of o.tool_calls){t.push(`  ${l.name} (${l.id})`),t.push(` Call ID: ${l.id}`),t.push("  Args:");for(let[u,c]of Object.entries(l.args))t.push(`    ${u}: ${c}`)}}}if(e.type==="tool"){let o=e;o.name&&t.push(`Name: ${o.name}`)}return typeof e.content=="string"&&e.content.trim()&&(t.length>1&&t.push(""),t.push(e.content)),t.join(`
`)}a(ZZ,"MC");var Xg=Symbol.for("langchain.message");function vI(e,t){return typeof e=="string"?e===""?t:typeof t=="string"?e+t:Array.isArray(t)&&t.length===0?e:Array.isArray(t)&&t.some(r=>Ad(r))?[{type:"text",source_type:"text",text:e},...t]:[{type:"text",text:e},...t]:Array.isArray(t)?em(e,t)??[...e,...t]:t===""?e:Array.isArray(e)&&e.some(r=>Ad(r))?[...e,{type:"file",source_type:"text",text:t}]:[...e,{type:"text",text:t}]}a(vI,"y_");function YZ(e,t){return e==="error"||t==="error"?"error":"success"}a(YZ,"BT");function $Z(e,t){function r(n,i){if(typeof n!="object"||n===null||n===void 0)return n;if(i>=t)return Array.isArray(n)?"[Array]":"[Object]";if(Array.isArray(n))return n.map(o=>r(o,i+1));let s={};for(let o of Object.keys(n))s[o]=r(n[o],i+1);return s}return a(r,"_"),JSON.stringify(r(e,0),null,2)}a($Z,"NC");var yI=class extends Sd{static{a(this,"O_")}lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[Xg]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){let t=typeof e=="string"||Array.isArray(e)?{content:e}:e;t.additional_kwargs||(t.additional_kwargs={}),t.response_metadata||(t.response_metadata={}),super(t),this.name=t.name,t.content===void 0&&t.contentBlocks!==void 0?(this.content=t.contentBlocks,this.response_metadata={output_version:"v1",...t.response_metadata}):t.content!==void 0?(this.content=t.content??[],this.response_metadata=t.response_metadata):(this.content=[],this.response_metadata=t.response_metadata),this.additional_kwargs=t.additional_kwargs,this.id=t.id}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){let e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[jZ,U2,OZ].reduce((t,r)=>r(t),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&Xg in e&&e[Xg]===!0&&VZ(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;let t=$Z(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${t}`}toFormattedString(e="pretty"){return KZ(this,e)}};function vl(e={},t={}){let r={...e};for(let[n,i]of Object.entries(t))if(r[n]==null)r[n]=i;else{if(i==null)continue;if(typeof r[n]!=typeof i||Array.isArray(r[n])!==Array.isArray(i))throw Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string"){if(n==="type")continue;["id","name","output_version","model_provider"].includes(n)?i&&(r[n]=i):r[n]+=i}else if(typeof r[n]=="object"&&!Array.isArray(r[n]))r[n]=vl(r[n],i);else if(Array.isArray(r[n]))r[n]=em(r[n],i);else{if(r[n]===i)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}a(vl,"iq");function em(e,t){if(!(e===void 0&&t===void 0)){if(e===void 0||t===void 0)return e||t;{let r=[...e];for(let n of t)if(typeof n=="object"&&n!==null&&"index"in n&&typeof n.index=="number"){let i=r.findIndex(s=>{let o=typeof s=="object",l="index"in s&&s.index===n.index,u="id"in s&&"id"in n&&s?.id===n?.id,c=!("id"in s)||!s?.id||!("id"in n)||!n?.id;return o&&l&&(u||c)});i!==-1&&typeof r[i]=="object"&&r[i]!==null?r[i]=vl(r[i],n):r.push(n)}else{if(typeof n=="object"&&n!==null&&"text"in n&&n.text==="")continue;r.push(n)}return r}}}a(em,"zP");function QZ(e,t){if(!e&&!t)throw Error("Cannot merge two undefined objects.");if(!e||!t)return e||t;if(typeof e!=typeof t)throw Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof t}`);if(typeof e=="string"&&typeof t=="string")return e+t;if(Array.isArray(e)&&Array.isArray(t))return em(e,t);if(typeof e=="object"&&typeof t=="object")return vl(e,t);if(e===t)return e;throw Error(`Can not merge objects of different types.
Left ${e}
Right ${t}`)}a(QZ,"tT");var wI=class xI extends yI{static{a(this,"$2")}static isInstance(t){if(!super.isInstance(t))return!1;let r=Object.getPrototypeOf(t);for(;r!==null;){if(r===xI.prototype)return!0;r=Object.getPrototypeOf(r)}return!1}},WZ={};En(WZ,{ToolMessage:a(()=>JZ,"ToolMessage"),ToolMessageChunk:a(()=>qZ,"ToolMessageChunk"),defaultToolCallParser:a(()=>eY,"defaultToolCallParser"),isDirectToolOutput:a(()=>XZ,"isDirectToolOutput"),isToolMessage:a(()=>tY,"isToolMessage"),isToolMessageChunk:a(()=>rY,"isToolMessageChunk")});function XZ(e){return e!=null&&typeof e=="object"&&"lc_direct_tool_output"in e&&e.lc_direct_tool_output===!0}a(XZ,"EC");var JZ=class extends yI{static{a(this,"UT")}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,t,r){let n=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:t}:e;super(n),this.tool_call_id=n.tool_call_id,this.artifact=n.artifact,this.status=n.status,this.metadata=n.metadata}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},qZ=class extends wI{static{a(this,"hC")}type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){return new this.constructor({content:vI(this.content,e.content),additional_kwargs:vl(this.additional_kwargs,e.additional_kwargs),response_metadata:vl(this.response_metadata,e.response_metadata),artifact:QZ(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:YZ(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function eY(e){let t=[],r=[];for(let n of e)if(n.function){let i=n.function.name;try{let s=JSON.parse(n.function.arguments);t.push({name:i||"",args:s||{},id:n.id})}catch{r.push({name:i,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[t,r]}a(eY,"FT");function tY(e){return typeof e=="object"&&e!==null&&"getType"in e&&typeof e.getType=="function"&&e.getType()==="tool"}a(tY,"RC");function rY(e){return e._getType()==="tool"}a(rY,"IC");function nY(e){try{return JSON.parse(e)}catch{}let t=e.trim();if(t.length===0)throw Error("Unexpected end of JSON input");let r=0;function n(){for(;r<t.length&&/\s/.test(t[r]);)r+=1}a(n,"K");function i(){if(t[r]!=='"')throw Error(`Expected '"' at position ${r}, got '${t[r]}'`);r+=1;let d="",f=!1;for(;r<t.length;){let g=t[r];if(f){if(g==="n")d+=`
`;else if(g==="t")d+="	";else if(g==="r")d+="\r";else if(g==="\\")d+="\\";else if(g==='"')d+='"';else if(g==="b")d+="\b";else if(g==="f")d+="\f";else if(g==="/")d+="/";else if(g==="u"){let m=t.substring(r+1,r+5);if(/^[0-9A-Fa-f]{0,4}$/.test(m))m.length===4?d+=String.fromCharCode(Number.parseInt(m,16)):d+=`u${m}`,r+=m.length;else throw Error(`Invalid unicode escape sequence '\\u${m}' at position ${r}`)}else throw Error(`Invalid escape sequence '\\${g}' at position ${r}`);f=!1}else if(g==="\\")f=!0;else{if(g==='"')return r+=1,d;d+=g}r+=1}return f&&(d+="\\"),d}a(i,"P");function s(){let d=r,f="";if(t[r]==="-"&&(f+="-",r+=1),r<t.length&&t[r]==="0"&&(f+="0",r+=1,t[r]>="0"&&t[r]<="9"))throw Error(`Invalid number at position ${d}`);if(r<t.length&&t[r]>="1"&&t[r]<="9")for(;r<t.length&&t[r]>="0"&&t[r]<="9";)f+=t[r],r+=1;if(r<t.length&&t[r]===".")for(f+=".",r+=1;r<t.length&&t[r]>="0"&&t[r]<="9";)f+=t[r],r+=1;if(r<t.length&&(t[r]==="e"||t[r]==="E"))for(f+=t[r],r+=1,r<t.length&&(t[r]==="+"||t[r]==="-")&&(f+=t[r],r+=1);r<t.length&&t[r]>="0"&&t[r]<="9";)f+=t[r],r+=1;if(f==="-")return-0;let g=Number.parseFloat(f);if(Number.isNaN(g))throw r=d,Error(`Invalid number '${f}' at position ${d}`);return g}a(s,"O");function o(){if(n(),r>=t.length)throw Error(`Unexpected end of input at position ${r}`);let d=t[r];if(d==="{")return u();if(d==="[")return l();if(d==='"')return i();if("null".startsWith(t.substring(r,r+4)))return r+=Math.min(4,t.length-r),null;if("true".startsWith(t.substring(r,r+4)))return r+=Math.min(4,t.length-r),!0;if("false".startsWith(t.substring(r,r+5)))return r+=Math.min(5,t.length-r),!1;if(d==="-"||d>="0"&&d<="9")return s();throw Error(`Unexpected character '${d}' at position ${r}`)}a(o,"Y");function l(){if(t[r]!=="[")throw Error(`Expected '[' at position ${r}, got '${t[r]}'`);let d=[];if(r+=1,n(),r>=t.length)return d;if(t[r]==="]")return r+=1,d;for(;r<t.length;){if(n(),r>=t.length||(d.push(o()),n(),r>=t.length))return d;if(t[r]==="]")return r+=1,d;if(t[r]===","){r+=1;continue}throw Error(`Expected ',' or ']' at position ${r}, got '${t[r]}'`)}return d}a(l,"z");function u(){if(t[r]!=="{")throw Error(`Expected '{' at position ${r}, got '${t[r]}'`);let d={};if(r+=1,n(),r>=t.length)return d;if(t[r]==="}")return r+=1,d;for(;r<t.length;){if(n(),r>=t.length)return d;let f=i();if(n(),r>=t.length)return d;if(t[r]!==":")throw Error(`Expected ':' at position ${r}, got '${t[r]}'`);if(r+=1,n(),r>=t.length||(d[f]=o(),n(),r>=t.length))return d;if(t[r]==="}")return r+=1,d;if(t[r]===","){r+=1;continue}throw Error(`Expected ',' or '}' at position ${r}, got '${t[r]}'`)}return d}a(u,"H");let c=o();if(n(),r<t.length)throw Error(`Unexpected character '${t[r]}' at position ${r}`);return c}a(nY,"DC");function iY(e){try{return typeof e>"u"?null:nY(e)}catch{return null}}a(iY,"aT");function H2(e){switch(e){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}a(H2,"e2");function aY(e){if(qt(e.document)&&qt(e.document.source)){let t=qt(e.document)&&jt(e.document.format)?e.document.format:"",r=H2(t);if(qt(e.document.source)){if(qt(e.document.source.s3Location)&&jt(e.document.source.s3Location.uri))return{type:"file",mimeType:r,fileId:e.document.source.s3Location.uri};if(F2(e.document.source.bytes))return{type:"file",mimeType:r,data:e.document.source.bytes};if(jt(e.document.source.text))return{type:"file",mimeType:r,data:Buffer.from(e.document.source.text).toString("base64")};if(Qa(e.document.source.content)){let n=e.document.source.content.reduce((i,s)=>qt(s)&&jt(s.text)?i+s.text:i,"");return{type:"file",mimeType:r,data:n}}}}return{type:"non_standard",value:e}}a(aY,"LC");function sY(e){if(Zt(e,"image")&&qt(e.image)){let t=qt(e.image)&&jt(e.image.format)?e.image.format:"",r=H2(t);if(qt(e.image.source)){if(qt(e.image.source.s3Location)&&jt(e.image.source.s3Location.uri))return{type:"image",mimeType:r,fileId:e.image.source.s3Location.uri};if(F2(e.image.source.bytes))return{type:"image",mimeType:r,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}a(sY,"gC");function oY(e){if(Zt(e,"video")&&qt(e.video)){let t=qt(e.video)&&jt(e.video.format)?e.video.format:"",r=H2(t);if(qt(e.video.source)){if(qt(e.video.source.s3Location)&&jt(e.video.source.s3Location.uri))return{type:"video",mimeType:r,fileId:e.video.source.s3Location.uri};if(F2(e.video.source.bytes))return{type:"video",mimeType:r,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}a(oY,"bC");function U5(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"cache_point")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"citations_content")&&qt(n.citationsContent)){let i=Qa(n.citationsContent.content)?n.citationsContent.content.reduce((o,l)=>qt(l)&&jt(l.text)?o+l.text:o,""):"",s=Qa(n.citationsContent.citations)?n.citationsContent.citations.reduce((o,l)=>{if(qt(l)){let u=Qa(l.sourceContent)?l.sourceContent.reduce((d,f)=>qt(f)&&jt(f.text)?d+f.text:d,""):"",c=Td(()=>{if(qt(l.location)){let d=l.location.documentChar||l.location.documentPage||l.location.documentChunk;if(qt(d))return{source:aa(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:aa(d.start)?d.start:void 0,endIndex:aa(d.end)?d.end:void 0}}return{}});o.push({type:"citation",citedText:u,...c})}return o},[]):[];yield{type:"text",text:i,annotations:s};continue}else if(Zt(n,"document")&&qt(n.document)){yield aY(n);continue}else if(Zt(n,"guard_content")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"image")&&qt(n.image)){yield sY(n);continue}else if(Zt(n,"reasoning_content")&&jt(n.reasoningText)){yield{type:"reasoning",reasoning:n.reasoningText};continue}else if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"tool_result")){yield{type:"non_standard",value:n};continue}else{if(Zt(n,"tool_call"))continue;if(Zt(n,"video")&&qt(n.video)){yield oY(n);continue}}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(U5,"QT");var lY={translateContent:U5,translateContentChunk:U5};function H5(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"inlineData")&&qt(n.inlineData)&&jt(n.inlineData.mimeType)&&jt(n.inlineData.data)){yield{type:"file",mimeType:n.inlineData.mimeType,data:n.inlineData.data};continue}else if(Zt(n,"functionCall")&&qt(n.functionCall)&&jt(n.functionCall.name)&&qt(n.functionCall.args)){yield{type:"tool_call",id:e.id,name:n.functionCall.name,args:n.functionCall.args};continue}else if(Zt(n,"functionResponse")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"fileData")&&qt(n.fileData)&&jt(n.fileData.mimeType)&&jt(n.fileData.fileUri)){yield{type:"file",mimeType:n.fileData.mimeType,fileId:n.fileData.fileUri};continue}else if(Zt(n,"executableCode")){yield{type:"non_standard",value:n};continue}else if(Zt(n,"codeExecutionResult")){yield{type:"non_standard",value:n};continue}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(H5,"sT");var uY={translateContent:H5,translateContentChunk:H5};function G5(e){function*t(){let r=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content;for(let n of r){if(Zt(n,"reasoning")&&jt(n.reasoning)){let i=Td(()=>{let s=r.indexOf(n);if(Qa(e.additional_kwargs?.signatures)&&s>=0)return e.additional_kwargs.signatures.at(s)});jt(i)?yield{type:"reasoning",reasoning:n.reasoning,signature:i}:yield{type:"reasoning",reasoning:n.reasoning};continue}else if(Zt(n,"text")&&jt(n.text)){yield{type:"text",text:n.text};continue}else if(Zt(n,"image_url")){if(jt(n.image_url))if(n.image_url.startsWith("data:")){let i=/^data:([^;]+);base64,(.+)$/,s=n.image_url.match(i);s?yield{type:"image",data:s[2],mimeType:s[1]}:yield{type:"image",url:n.image_url}}else yield{type:"image",url:n.image_url};continue}else if(Zt(n,"media")&&jt(n.mimeType)&&jt(n.data)){yield{type:"file",mimeType:n.mimeType,data:n.data};continue}yield{type:"non_standard",value:n}}}return a(t,"q"),Array.from(t())}a(G5,"qw");var cY={translateContent:G5,translateContentChunk:G5};globalThis.lc_block_translators_registry??=new Map([["anthropic",RZ],["bedrock-converse",lY],["google-genai",uY],["google-vertexai",cY],["openai",GZ]]);function dY(e){return globalThis.lc_block_translators_registry.get(e)}a(dY,"Kw");function fY(e,t){return vl(e??{},t??{})}a(fY,"Pw");function _I(e,t){let r={};return(e?.audio!==void 0||t?.audio!==void 0)&&(r.audio=(e?.audio??0)+(t?.audio??0)),(e?.image!==void 0||t?.image!==void 0)&&(r.image=(e?.image??0)+(t?.image??0)),(e?.video!==void 0||t?.video!==void 0)&&(r.video=(e?.video??0)+(t?.video??0)),(e?.document!==void 0||t?.document!==void 0)&&(r.document=(e?.document??0)+(t?.document??0)),(e?.text!==void 0||t?.text!==void 0)&&(r.text=(e?.text??0)+(t?.text??0)),r}a(_I,"Ow");function hY(e,t){let r={..._I(e,t)};return(e?.cache_read!==void 0||t?.cache_read!==void 0)&&(r.cache_read=(e?.cache_read??0)+(t?.cache_read??0)),(e?.cache_creation!==void 0||t?.cache_creation!==void 0)&&(r.cache_creation=(e?.cache_creation??0)+(t?.cache_creation??0)),r}a(hY,"yC");function pY(e,t){let r={..._I(e,t)};return(e?.reasoning!==void 0||t?.reasoning!==void 0)&&(r.reasoning=(e?.reasoning??0)+(t?.reasoning??0)),r}a(pY,"uC");function mY(e,t){return{input_tokens:(e?.input_tokens??0)+(t?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(t?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(t?.total_tokens??0),input_token_details:hY(e?.input_token_details,t?.input_token_details),output_token_details:pY(e?.output_token_details,t?.output_token_details)}}a(mY,"Yw");var EI=class extends wI{static{a(this,"WP")}type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let t;typeof e=="string"||Array.isArray(e)?t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]}:e.tool_call_chunks===void 0||e.tool_call_chunks.length===0?t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}:t={...e,...bY(e.tool_call_chunks??[]),usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0},super(t),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){let t=dY(this.response_metadata.model_provider);if(t)return t.translateContent(this)}let e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){let t=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(let r of this.tool_calls)r.id&&!t.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){let t={content:vI(this.content,e.content),additional_kwargs:vl(this.additional_kwargs,e.additional_kwargs),response_metadata:fY(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){let r=em(this.tool_call_chunks,e.tool_call_chunks);r!==void 0&&r.length>0&&(t.tool_call_chunks=r)}return(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(t.usage_metadata=mY(this.usage_metadata,e.usage_metadata)),new this.constructor(t)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function gY(e,t="Human",r="AI"){let n=[];for(let i of e){let s;if(i._getType()==="human")s=t;else if(i._getType()==="ai")s=r;else if(i._getType()==="system")s="System";else if(i._getType()==="tool")s="Tool";else if(i._getType()==="generic")s=i.role;else throw Error(`Got unsupported message type: ${i._getType()}`);let o=i.name?`${i.name}, `:"",l=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);n.push(`${s}: ${o}${l}`)}return n.join(`
`)}a(gY,"vw");function bY(e){let t=e.reduce((i,s)=>{let o=i.findIndex(([l])=>"id"in s&&s.id&&"index"in s&&s.index!==void 0?s.id===l.id&&s.index===l.index:"id"in s&&s.id?s.id===l.id:"index"in s&&s.index!==void 0?s.index===l.index:!1);return o!==-1?i[o].push(s):i.push([s]),i},[]),r=[],n=[];for(let i of t){let s=null,o=i[0]?.name??"",l=i.map(d=>d.args||"").join("").trim(),u=l.length?l:"{}",c=i[0]?.id;try{if(s=iY(u),!c||s===null||typeof s!="object"||Array.isArray(s))throw Error("Malformed tool call chunk args.");r.push({name:o,args:s,id:c,type:"tool_call"})}catch{n.push({name:o,args:u,id:c,error:"Malformed args.",type:"invalid_tool_call"})}}return{tool_call_chunks:e,tool_calls:r,invalid_tool_calls:n}}a(bY,"jw");var vY={};En(vY,{getEnv:a(()=>NI,"getEnv"),getEnvironmentVariable:a(()=>ll,"getEnvironmentVariable"),getRuntimeEnvironment:a(()=>II,"getRuntimeEnvironment"),isBrowser:a(()=>SI,"isBrowser"),isDeno:a(()=>tm,"isDeno"),isJsDom:a(()=>AI,"isJsDom"),isNode:a(()=>TI,"isNode"),isWebWorker:a(()=>kI,"isWebWorker")});var SI=a(()=>typeof window<"u"&&typeof window.document<"u","zw"),kI=a(()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope","Ww"),AI=a(()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),"Jw"),tm=a(()=>typeof Deno<"u","E1"),TI=a(()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!tm(),"Hw"),NI=a(()=>{let e;return SI()?e="browser":TI()?e="node":kI()?e="webworker":AI()?e="jsdom":tm()?e="deno":e="other",e},"Tw"),Jg;function II(){return Jg===void 0&&(Jg={library:"langchain-js",runtime:NI()}),Jg}a(II,"$O");function ll(e){try{return typeof process<"u"?mi?.[e]:tm()?Deno?.env.get(e):void 0}catch{return}}a(ll,"C8");var yY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function wY(e){return typeof e=="string"&&yY.test(e)}a(wY,"pC");var n0=wY,Rn=[];for(ih=0;ih<256;++ih)Rn.push((ih+256).toString(16).slice(1));var ih;function xY(e,t=0){return(Rn[e[t+0]]+Rn[e[t+1]]+Rn[e[t+2]]+Rn[e[t+3]]+"-"+Rn[e[t+4]]+Rn[e[t+5]]+"-"+Rn[e[t+6]]+Rn[e[t+7]]+"-"+Rn[e[t+8]]+Rn[e[t+9]]+"-"+Rn[e[t+10]]+Rn[e[t+11]]+Rn[e[t+12]]+Rn[e[t+13]]+Rn[e[t+14]]+Rn[e[t+15]]).toLowerCase()}a(xY,"fw");var ah,_Y=new Uint8Array(16);function EY(){if(!ah&&(ah=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ah))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ah(_Y)}a(EY,"qO");var SY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),V5={randomUUID:SY};function kY(e,t,r){if(V5.randomUUID&&!t&&!e)return V5.randomUUID();e=e||{};var n=e.random||(e.rng||EY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return xY(n)}a(kY,"dC");var Ts=kY,AY={};En(AY,{BaseCallbackHandler:a(()=>df,"BaseCallbackHandler"),callbackHandlerPrefersStreaming:a(()=>NY,"callbackHandlerPrefersStreaming"),isBaseCallbackHandler:a(()=>CI,"isBaseCallbackHandler")});var TY=class{static{a(this,"oC")}};function NY(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}a(NY,"nC");var df=class extends TY{static{a(this,"YK")}lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,B2(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers=ll("LANGCHAIN_CALLBACKS_BACKGROUND")==="false";constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Sd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Sd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends df{static{a(this,"q")}name=Ts();constructor(){super(),Object.assign(this,e)}}return new t}},CI=a(e=>{let t=e;return t!==void 0&&typeof t.copy=="function"&&typeof t.name=="string"&&typeof t.awaitHandlers=="boolean"},"KO"),IY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function CY(e){return typeof e=="string"&&IY.test(e)}a(CY,"iC");var MY=CY;function OY(e){if(!MY(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}a(OY,"BC");var RY=OY,Ln=[];for(sh=0;sh<256;++sh)Ln.push((sh+256).toString(16).slice(1));var sh;function G2(e,t=0){return(Ln[e[t+0]]+Ln[e[t+1]]+Ln[e[t+2]]+Ln[e[t+3]]+"-"+Ln[e[t+4]]+Ln[e[t+5]]+"-"+Ln[e[t+6]]+Ln[e[t+7]]+"-"+Ln[e[t+8]]+Ln[e[t+9]]+"-"+Ln[e[t+10]]+Ln[e[t+11]]+Ln[e[t+12]]+Ln[e[t+13]]+Ln[e[t+14]]+Ln[e[t+15]]).toLowerCase()}a(G2,"nK");var oh,LY=new Uint8Array(16);function MI(){if(!oh&&(oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oh))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oh(LY)}a(MI,"TP");function DY(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}a(DY,"UC");var jY="6ba7b810-9dad-11d1-80b4-00c04fd430c8",PY="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function zY(e,t,r){function n(i,s,o,l){var u;if(typeof i=="string"&&(i=DY(i)),typeof s=="string"&&(s=RY(s)),((u=s)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){l=l||0;for(var d=0;d<16;++d)o[l+d]=c[d];return o}return G2(c)}a(n,"K");try{n.name=e}catch{}return n.DNS=jY,n.URL=PY,n}a(zY,"PO");var BY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K5={randomUUID:BY};function FY(e,t,r){if(K5.randomUUID&&!t&&!e)return K5.randomUUID();e=e||{};var n=e.random||(e.rng||MI)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return G2(n)}a(FY,"eC");var lc=FY;function UY(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}a(UY,"sC");function qg(e,t){return e<<t|e>>>32-t}a(qg,"YO");function HY(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),l=Array(o),u=0;u<o;++u){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[u*64+d*4]<<24|e[u*64+d*4+1]<<16|e[u*64+d*4+2]<<8|e[u*64+d*4+3];l[u]=c}l[o-1][14]=(e.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var g=new Uint32Array(80),m=0;m<16;++m)g[m]=l[f][m];for(var y=16;y<80;++y)g[y]=qg(g[y-3]^g[y-8]^g[y-14]^g[y-16],1);for(var _=r[0],A=r[1],I=r[2],O=r[3],R=r[4],L=0;L<80;++L){var D=Math.floor(L/20),P=qg(_,5)+UY(D,A,I,O)+R+t[D]+g[L]>>>0;R=O,O=I,I=qg(A,30)>>>0,A=_,_=P}r[0]=r[0]+_>>>0,r[1]=r[1]+A>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+R>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}a(HY,"$E");var GY=HY,VY=zY("v5",80,GY),Gc=VY,Z5=null,Y5=null,qi=0;function KY(e,t,r){e=e||{};var n=t&&r||0,i=t||new Uint8Array(16),s=e.random||(e.rng||MI)(),o=e.msecs!==void 0?e.msecs:Date.now(),l=e.seq!==void 0?e.seq:null,u=Y5,c=Z5;return o>qi&&e.msecs===void 0&&(qi=o,l!==null&&(u=null,c=null)),l!==null&&(l>2147483647&&(l=2147483647),u=l>>>19&4095,c=l&524287),(u===null||c===null)&&(u=s[6]&127,u=u<<8|s[7],c=s[8]&63,c=c<<8|s[9],c=c<<5|s[10]>>>3),o+1e4>qi&&l===null?++c>524287&&(c=0,++u>4095&&(u=0,qi++)):qi=o,Y5=u,Z5=c,i[n++]=qi/1099511627776&255,i[n++]=qi/4294967296&255,i[n++]=qi/16777216&255,i[n++]=qi/65536&255,i[n++]=qi/256&255,i[n++]=qi&255,i[n++]=u>>>4&15|112,i[n++]=u&255,i[n++]=c>>>13&63|128,i[n++]=c>>>5&255,i[n++]=c<<3&255|s[10]&7,i[n++]=s[11],i[n++]=s[12],i[n++]=s[13],i[n++]=s[14],i[n++]=s[15],t||G2(i)}a(KY,"_E");var ZY=KY,YY="gen_ai.operation.name",$Y="gen_ai.system",$5="gen_ai.request.model",QY="gen_ai.response.model",Q5="gen_ai.usage.input_tokens",W5="gen_ai.usage.output_tokens",X5="gen_ai.usage.total_tokens",WY="gen_ai.request.max_tokens",XY="gen_ai.request.temperature",JY="gen_ai.request.top_p",qY="gen_ai.request.frequency_penalty",e$="gen_ai.request.presence_penalty",t$="gen_ai.response.finish_reasons",r$="gen_ai.prompt",n$="gen_ai.completion",i$="gen_ai.request.extra_query",a$="gen_ai.request.extra_body",s$="gen_ai.serialized.name",o$="gen_ai.serialized.signature",l$="gen_ai.serialized.doc",u$="gen_ai.response.id",c$="gen_ai.response.service_tier",d$="gen_ai.response.system_fingerprint",f$="gen_ai.usage.input_token_details",h$="gen_ai.usage.output_token_details",p$="langsmith.trace.session_id",m$="langsmith.trace.session_name",g$="langsmith.span.kind",b$="langsmith.trace.name",v$="langsmith.metadata",J5="langsmith.span.tags",y$="langsmith.request.streaming",w$="langsmith.request.headers",x$=a((...e)=>fetch(...e),"OE"),OI=Symbol.for("ls:fetch_implementation"),_$=a(()=>{let e=globalThis[OI];return e?typeof e=="function"&&"Headers"in e&&"Request"in e&&"Response"in e:!1},"Qw"),E$=a(e=>async(...t)=>{if(e||gi("DEBUG")==="true"){let[n,i]=t;console.log(` ${i?.method||"GET"} ${n}`)}let r=await(globalThis[OI]??x$)(...t);return(e||gi("DEBUG")==="true")&&console.log(` ${r.status} ${r.statusText} ${r.url}`),r},"ew"),RI=a(()=>gi("PROJECT")??es("LANGCHAIN_SESSION")??"default","wP"),q5={};function Fy(e){q5[e]||(console.warn(e),q5[e]=!0)}a(Fy,"iK");var S$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function rr(e,t){if(!S$.test(e)){let r=t!==void 0?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`;throw Error(r)}return e}a(rr,"O6");function k$(e){let t=typeof e=="string"?Date.parse(e):e;return ZY({msecs:t,seq:0})}a(k$,"I1");var LI="0.3.82",Ra,A$=a(()=>typeof window<"u"&&typeof window.document<"u","jE"),T$=a(()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope","vE"),N$=a(()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),"zE"),DI=a(()=>typeof Deno<"u","$f"),I$=a(()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!DI(),"WE"),jI=a(()=>Ra||(typeof Bun<"u"?Ra="bun":A$()?Ra="browser":I$()?Ra="node":T$()?Ra="webworker":N$()?Ra="jsdom":DI()?Ra="deno":Ra="other",Ra),"fO"),eb;function PI(){if(eb===void 0){let e=jI(),t=M$();eb={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:LI,...t}}return eb}a(PI,"L1");function zI(){let e=C$(),t={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[n,i]of Object.entries(e))typeof i=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?t.revision_id=i:t[n]=i);return t}a(zI,"ZO");function C$(){let e={};try{if(typeof process<"u"&&mi)for(let[t,r]of Object.entries(mi))(t.startsWith("LANGCHAIN_")||t.startsWith("LANGSMITH_"))&&r!=null&&((t.toLowerCase().includes("key")||t.toLowerCase().includes("secret")||t.toLowerCase().includes("token"))&&typeof r=="string"?e[t]=r.slice(0,2)+"*".repeat(r.length-4)+r.slice(-2):e[t]=r)}catch{}return e}a(C$,"JE");function es(e){try{return typeof process<"u"?mi?.[e]:void 0}catch{return}}a(es,"K8");function gi(e){return es(`LANGSMITH_${e}`)||es(`LANGCHAIN_${e}`)}a(gi,"n6");var tb;function M$(){if(tb!==void 0)return tb;let e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(let r of e){let n=es(r);n!==void 0&&(t[r]=n)}return tb=t,t}a(M$,"HE");function BI(){return es("OTEL_ENABLED")==="true"||gi("OTEL_ENABLED")==="true"}a(BI,"g1");class O${static{a(this,"_f")}constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(t,...r){!this.hasWarned&&BI()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let n;if(r.length===1&&typeof r[0]=="function"?n=r[0]:r.length===2&&typeof r[1]=="function"?n=r[1]:r.length===3&&typeof r[2]=="function"&&(n=r[2]),typeof n=="function")return n()}}class R${static{a(this,"Kf")}constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new O$})}getTracer(t,r){return this.mockTracer}getActiveSpan(){}setSpan(t,r){return t}getSpan(t){}setSpanContext(t,r){return t}getTracerProvider(){}setGlobalTracerProvider(t){return!1}}class L${static{a(this,"Pf")}active(){return{}}with(t,r){return r()}}var rb=Symbol.for("ls:otel_trace"),nb=Symbol.for("ls:otel_context"),e_=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),D$=new R$,j$=new L$;class P${static{a(this,"Of")}getTraceInstance(){return globalThis[rb]??D$}getContextInstance(){return globalThis[nb]??j$}initializeGlobalInstances(t){globalThis[rb]===void 0&&(globalThis[rb]=t.trace),globalThis[nb]===void 0&&(globalThis[nb]=t.context)}setDefaultOTLPTracerComponents(t){globalThis[e_]=t}getDefaultOTLPTracerComponents(){return globalThis[e_]??void 0}}var V2=new P$;function FI(){return V2.getTraceInstance()}a(FI,"b1");function z$(){return V2.getContextInstance()}a(z$,"Yf");function B$(){return V2.getDefaultOTLPTracerComponents()}a(B$,"jf");var F$={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function U$(e){return F$[e]||e}a(U$,"ZE");class H${static{a(this,"GO")}constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(t,r){for(let n of t)try{if(!n.run)continue;if(n.operation==="post"){let i=this.createSpanForRun(n,n.run,r.get(n.id));i&&!n.run.end_time&&this.spans.set(n.id,i)}else this.updateSpanForRun(n,n.run)}catch(i){console.error(`Error processing operation ${n.id}:`,i)}}createSpanForRun(t,r,n){let i=n&&FI().getSpan(n);if(i)try{return this.finishSpanSetup(i,r,t)}catch(s){console.error(`Failed to create span for run ${t.id}:`,s);return}}finishSpanSetup(t,r,n){return this.setSpanAttributes(t,r,n),r.error?(t.setStatus({code:2}),t.recordException(Error(r.error))):t.setStatus({code:1}),r.end_time&&t.end(new Date(r.end_time)),t}updateSpanForRun(t,r){try{let n=this.spans.get(t.id);if(!n){console.debug(`No span found for run ${t.id} during update`);return}this.setSpanAttributes(n,r,t),r.error?(n.setStatus({code:2}),n.recordException(Error(r.error))):n.setStatus({code:1});let i=r.end_time;i&&(n.end(new Date(i)),this.spans.delete(t.id))}catch(n){console.error(`Failed to update span for run ${t.id}:`,n)}}extractModelName(t){if(t.extra?.metadata){let r=t.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){let n=r.invocation_params;if(n.model)return n.model;if(n.model_name)return n.model_name}}}setSpanAttributes(t,r,n){if("run_type"in r&&r.run_type){t.setAttribute(g$,r.run_type);let l=U$(r.run_type||"chain");t.setAttribute(YY,l)}"name"in r&&r.name&&t.setAttribute(b$,r.name),"session_id"in r&&r.session_id&&t.setAttribute(p$,r.session_id),"session_name"in r&&r.session_name&&t.setAttribute(m$,r.session_name),this.setGenAiSystem(t,r);let i=this.extractModelName(r);i&&t.setAttribute($5,i),"prompt_tokens"in r&&typeof r.prompt_tokens=="number"&&t.setAttribute(Q5,r.prompt_tokens),"completion_tokens"in r&&typeof r.completion_tokens=="number"&&t.setAttribute(W5,r.completion_tokens),"total_tokens"in r&&typeof r.total_tokens=="number"&&t.setAttribute(X5,r.total_tokens),this.setInvocationParameters(t,r);let s=r.extra?.metadata||{};for(let[l,u]of Object.entries(s))u!=null&&t.setAttribute(`${v$}.${l}`,String(u));let o=r.tags;if(o&&Array.isArray(o)?t.setAttribute(J5,o.join(", ")):o&&t.setAttribute(J5,String(o)),"serialized"in r&&typeof r.serialized=="object"){let l=r.serialized;l.name&&t.setAttribute(s$,String(l.name)),l.signature&&t.setAttribute(o$,String(l.signature)),l.doc&&t.setAttribute(l$,String(l.doc))}this.setIOAttributes(t,n)}setGenAiSystem(t,r){let n="langchain",i=this.extractModelName(r);if(i){let s=i.toLowerCase();s.includes("anthropic")||s.startsWith("claude")?n="anthropic":s.includes("bedrock")?n="aws.bedrock":s.includes("azure")&&s.includes("openai")?n="az.ai.openai":s.includes("azure")&&s.includes("inference")?n="az.ai.inference":s.includes("cohere")?n="cohere":s.includes("deepseek")?n="deepseek":s.includes("gemini")?n="gemini":s.includes("groq")?n="groq":s.includes("watson")||s.includes("ibm")?n="ibm.watsonx.ai":s.includes("mistral")?n="mistral_ai":s.includes("gpt")||s.includes("openai")?n="openai":s.includes("perplexity")||s.includes("sonar")?n="perplexity":s.includes("vertex")?n="vertex_ai":(s.includes("xai")||s.includes("grok"))&&(n="xai")}t.setAttribute($Y,n)}setInvocationParameters(t,r){if(!r.extra?.metadata?.invocation_params)return;let n=r.extra.metadata.invocation_params;n.max_tokens!==void 0&&t.setAttribute(WY,n.max_tokens),n.temperature!==void 0&&t.setAttribute(XY,n.temperature),n.top_p!==void 0&&t.setAttribute(JY,n.top_p),n.frequency_penalty!==void 0&&t.setAttribute(qY,n.frequency_penalty),n.presence_penalty!==void 0&&t.setAttribute(e$,n.presence_penalty)}setIOAttributes(t,r){if(r.run.inputs)try{let n=r.run.inputs;typeof n=="object"&&n!==null&&(n.model&&Array.isArray(n.messages)&&t.setAttribute($5,n.model),n.stream!==void 0&&t.setAttribute(y$,n.stream),n.extra_headers&&t.setAttribute(w$,JSON.stringify(n.extra_headers)),n.extra_query&&t.setAttribute(i$,JSON.stringify(n.extra_query)),n.extra_body&&t.setAttribute(a$,JSON.stringify(n.extra_body))),t.setAttribute(r$,JSON.stringify(n))}catch(n){console.debug(`Failed to process inputs for run ${r.id}`,n)}if(r.run.outputs)try{let n=r.run.outputs,i=this.getUnifiedRunTokens(n);if(i&&(t.setAttribute(Q5,i[0]),t.setAttribute(W5,i[1]),t.setAttribute(X5,i[0]+i[1])),n&&typeof n=="object"){if(n.model&&t.setAttribute(QY,String(n.model)),n.id&&t.setAttribute(u$,n.id),n.choices&&Array.isArray(n.choices)){let s=n.choices.map(o=>o.finish_reason).filter(o=>o).map(String);s.length>0&&t.setAttribute(t$,s.join(", "))}if(n.service_tier&&t.setAttribute(c$,n.service_tier),n.system_fingerprint&&t.setAttribute(d$,n.system_fingerprint),n.usage_metadata&&typeof n.usage_metadata=="object"){let s=n.usage_metadata;s.input_token_details&&t.setAttribute(f$,JSON.stringify(s.input_token_details)),s.output_token_details&&t.setAttribute(h$,JSON.stringify(s.output_token_details))}}t.setAttribute(n$,JSON.stringify(n))}catch(n){console.debug(`Failed to process outputs for run ${r.id}`,n)}}getUnifiedRunTokens(t){if(!t)return null;let r=this.extractUnifiedRunTokens(t.usage_metadata);if(r)return r;let n=Object.keys(t);for(let o of n){let l=t[o];if(!(!l||typeof l!="object")&&(r=this.extractUnifiedRunTokens(l.usage_metadata),r||l.lc===1&&l.kwargs&&typeof l.kwargs=="object"&&(r=this.extractUnifiedRunTokens(l.kwargs.usage_metadata),r)))return r}let i=t.generations||[];if(!Array.isArray(i))return null;let s=Array.isArray(i[0])?i.flat():i;for(let o of s)if(typeof o=="object"&&o.message&&typeof o.message=="object"&&o.message.kwargs&&typeof o.message.kwargs=="object"&&(r=this.extractUnifiedRunTokens(o.message.kwargs.usage_metadata),r))return r;return null}extractUnifiedRunTokens(t){return!t||typeof t!="object"||typeof t.input_tokens!="number"||typeof t.output_tokens!="number"?null:[t.input_tokens,t.output_tokens]}}var G$=Object.prototype.toString,V$=a(e=>G$.call(e)==="[object Error]","AE"),K$=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Z$(e){if(!(e&&V$(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;let{message:t,stack:r}=e;return t==="Load failed"?r===void 0||"__sentry_captured__"in e:t.startsWith("error sending request for url")?!0:K$.has(t)}a(Z$,"VO");function Y$(e){if(typeof e=="number"){if(e<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}a(Y$,"GE");function lh(e,t,{min:r=0,allowInfinity:n=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw TypeError(`Expected \`${e}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(t))throw TypeError(`Expected \`${e}\` to be a finite number.`);if(t<r)throw TypeError(`Expected \`${e}\` to be  ${r}.`)}}a(lh,"y1");class $$ extends Error{static{a(this,"zf")}constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function Q$(e,t){let r=Math.max(1,e+1),n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*t.factor**(r-1));return i=Math.min(i,t.maxTimeout),i}a(Q$,"VE");function t_(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}a(t_,"vf");async function W$({error:e,attemptNumber:t,retriesConsumed:r,startTime:n,options:i}){let s=e instanceof Error?e:TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(s instanceof $$)throw s.originalError;let o=Number.isFinite(i.retries)?Math.max(0,i.retries-r):i.retries,l=i.maxRetryTime??Number.POSITIVE_INFINITY,u=Object.freeze({error:s,attemptNumber:t,retriesLeft:o,retriesConsumed:r});if(await i.onFailedAttempt(u),t_(n,l)<=0)throw s;let c=await i.shouldConsumeRetry(u),d=t_(n,l);if(d<=0||o<=0)throw s;if(s instanceof TypeError&&!Z$(s)){if(c)throw s;return i.signal?.throwIfAborted(),!1}if(!await i.shouldRetry(u))throw s;if(!c)return i.signal?.throwIfAborted(),!1;let f=Q$(r,i),g=Math.min(f,d);return g>0&&await new Promise((m,y)=>{let _=a(()=>{clearTimeout(A),i.signal?.removeEventListener("abort",_),y(i.signal.reason)},"h"),A=setTimeout(()=>{i.signal?.removeEventListener("abort",_),m()},g);i.unref&&A.unref?.(),i.signal?.addEventListener("abort",_,{once:!0})}),i.signal?.throwIfAborted(),!0}a(W$,"SE");async function X$(e,t={}){if(t={...t},Y$(t.retries),Object.hasOwn(t,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=Number.POSITIVE_INFINITY,t.maxRetryTime??=Number.POSITIVE_INFINITY,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,lh("factor",t.factor,{min:0,allowInfinity:!1}),lh("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),lh("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),lh("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),!(t.factor>0)&&(t.factor=1),t.signal?.throwIfAborted();let r=0,n=0,i=performance.now();for(;!Number.isFinite(t.retries)||n<=t.retries;){r++;try{t.signal?.throwIfAborted();let s=await e(r);return t.signal?.throwIfAborted(),s}catch(s){await W$({error:s,attemptNumber:r,retriesConsumed:n,startTime:i,options:t})&&n++}}throw Error("Retry attempts exhausted without throwing an error.")}a(X$,"SO");var ib=Ea(S2(),1),J$=[408,425,429,500,502,503,504];class r_{static{a(this,"d1")}constructor(t){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.maxQueueSizeBytes=t.maxQueueSizeBytes,"default"in ib.default?this.queue=new ib.default.default({concurrency:this.maxConcurrency}):this.queue=new ib.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=t?.onFailedResponseHook}call(t,...r){return this.callWithOptions({},t,...r)}callWithOptions(t,r,...n){let i=t.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);let s=this.onFailedResponseHook,o=this.queue.add(()=>X$(()=>r(...n).catch(l=>{throw l instanceof Error?l:Error(l)}),{async onFailedAttempt({error:l}){if(l.message.startsWith("Cancel")||l.message.startsWith("TimeoutError")||l.name==="TimeoutError"||l.message.startsWith("AbortError")||l?.code==="ECONNABORTED")throw l;let u=l?.response;if(s&&await s(u))return;let c=u?.status??l?.status;if(c&&!J$.includes(+c))throw l},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(o=o.finally(()=>{this.queueSizeBytes-=i})),t.signal?Promise.race([o,new Promise((l,u)=>{t.signal?.addEventListener("abort",()=>{u(Error("AbortError"))})})]):o}}function n_(e){return typeof e?._getType=="function"}a(n_,"CO");function i_(e){let t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}a(i_,"EO");Ea(JG(),1);function ro(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw Error(`Invalid identifier format: ${e}`);let[t,r]=e.split(":"),n=r||"latest";if(t.includes("/")){let[i,s]=t.split("/",2);if(!i||!s)throw Error(`Invalid identifier format: ${e}`);return[i,s,n]}else{if(!t)throw Error(`Invalid identifier format: ${e}`);return["-",t,n]}}a(ro,"Y_");class q$ extends Error{static{a(this,"fX")}constructor(t){super(t),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Vt(e,t,r){let n;if(e.ok){r&&(n=await e.text());return}if(e.status===403)try{(await e.json())?.error==="org_scoped_key_requires_workspace"&&(n="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{let l=Error(`${e.status} ${e.statusText}`);throw l.status=e?.status,l}if(n===void 0)try{n=await e.text()}catch{n=""}let i=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Message: ${n}`;if(e.status===409)throw new q$(i);let s=Error(i);throw s.status=e.status,s}a(Vt,"$6");var UI="ERR_CONFLICTING_ENDPOINTS";class eQ extends Error{static{a(this,"rO")}constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:UI}),this.name="ConflictingEndpointsError"}}function tQ(e){return typeof e=="object"&&e!==null&&e.code===UI}a(tQ,"XX");var a_="[...]",rQ={result:"[Circular]"},S0=[],su=[],nQ=new TextEncoder;function iQ(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}a(iQ,"DI");function uh(e){return nQ.encode(e)}a(uh,"$9");function HI(e){if(e&&typeof e=="object"&&e!==null){if(e instanceof Map)return Object.fromEntries(e);if(e instanceof Set)return Array.from(e);if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message}}else if(typeof e=="bigint")return e.toString();return e}a(HI,"kX");function aQ(e){return function(t,r){return HI(r)}}a(aQ,"LI");function Ti(e,t,r,n,i){try{let s=JSON.stringify(e,aQ(r),n);return uh(s)}catch(s){if(!s.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${t?`
Context: ${t}`:""}`),uh("[Unserializable]");gi("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${t?`
Context: ${t}`:""}`),typeof i>"u"&&(i=iQ()),Uy(e,"",0,[],void 0,0,i);let o;try{su.length===0?o=JSON.stringify(e,r,n):o=JSON.stringify(e,sQ(r),n)}catch{return uh("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;S0.length!==0;){let l=S0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return uh(o)}}a(Ti,"tq");function ab(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),S0.push([n,r,t,i])):su.push([t,r,e]):(n[r]=e,S0.push([n,r,t]))}a(ab,"oO");function Uy(e,t,r,n,i,s,o){s+=1;var l;if(typeof e=="object"&&e!==null){for(l=0;l<n.length;l++)if(n[l]===e){ab(rQ,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){ab(a_,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){ab(a_,e,t,i);return}if(n.push(e),Array.isArray(e))for(l=0;l<e.length;l++)Uy(e[l],l,l,n,e,s,o);else{e=HI(e);var u=Object.keys(e);for(l=0;l<u.length;l++){var c=u[l];Uy(e[c],c,l,n,e,s,o)}}n.pop()}}a(Uy,"nO");function sQ(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(su.length>0)for(var n=0;n<su.length;n++){var i=su[n];if(i[1]===t&&i[0]===r){r=i[2],su.splice(n,1);break}}return e.call(this,t,r)}}a(sQ,"gI");function s_(e,t){let r=PI(),n=t??zI(),i=e.extra??{},s=i.metadata;return e.extra={...i,runtime:{...r,...i?.runtime},metadata:{...n,...n.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??n.revision_id}:{},...s}},e}a(s_,"GX");var oQ=a(e=>{let t=e?.toString()??gi("TRACING_SAMPLING_RATE");if(t===void 0)return;let r=parseFloat(t);if(r<0||r>1)throw Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${r}`);return r},"bI"),lQ=a(e=>{let t=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},"yI");async function uQ(e){let t=[];for await(let r of e)t.push(r);return t}a(uQ,"uI");function ch(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}a(ch,"_9");var cQ=a(async e=>{if(e?.status===429){let t=parseInt(e.headers.get("retry-after")??"10",10)*1e3;if(t>0)return await new Promise(r=>setTimeout(r,t)),!0}return!1},"xI");function o_(e){return typeof e=="number"?Number(e.toFixed(4)):e}a(o_,"VX");var dQ=25165824,GI=1073741824,fQ=1e4,hQ=100,l_="https://api.smith.langchain.com";class pQ{static{a(this,"CX")}constructor(t){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=t??GI}peek(){return this.items[0]}push(t){let r,n=new Promise(s=>{r=s}),i=Ti(t.item,`Serializing run with id: ${t.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${t.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),r(),n):(this.items.push({action:t.action,payload:t.item,otelContext:t.otelContext,apiKey:t.apiKey,apiUrl:t.apiUrl,itemPromiseResolve:r,itemPromise:n,size:i}),this.sizeBytes+=i,n)}pop({upToSizeBytes:t,upToSize:r}){if(t<1)throw Error("Number of bytes to pop off may not be less than 1.");let n=[],i=0;for(;i+(this.peek()?.size??0)<t&&this.items.length>0&&n.length<r;){let s=this.items.shift();s&&(n.push(s),i+=s.size,this.sizeBytes-=s.size)}if(n.length===0&&this.items.length>0){let s=this.items.shift();n.push(s),i+=s.size,this.sizeBytes-=s.size}return[n.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>n.forEach(s=>s.itemPromiseResolve())]}}class Nd{static{a(this,"x_")}get _fetch(){return this.fetchImplementation||E$(this.debug)}constructor(t={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:es("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:es("LANGSMITH_DEBUG")==="true"});let r=Nd.getDefaultClientConfig();if(this.tracingSampleRate=oQ(t.tracingSamplingRate),this.apiUrl=ch(t.apiUrl??r.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=ch(t.apiKey??r.apiKey),this.webUrl=ch(t.webUrl??r.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=ch(t.workspaceId??gi("WORKSPACE_ID")),this.timeout_ms=t.timeout_ms??9e4,this.caller=new r_({...t.callerOptions??{},maxRetries:4,debug:t.debug??this.debug}),this.traceBatchConcurrency=t.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw Error("Trace batch concurrency must be positive.");this.debug=t.debug??this.debug,this.fetchImplementation=t.fetchImplementation;let n=t.maxIngestMemoryBytes??GI;this.batchIngestCaller=new r_({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:n,...t.callerOptions??{},onFailedResponseHook:cQ,debug:t.debug??this.debug}),this.hideInputs=t.hideInputs??t.anonymizer??r.hideInputs,this.hideOutputs=t.hideOutputs??t.anonymizer??r.hideOutputs,this.autoBatchTracing=t.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new pQ(n),this.blockOnRootRunFinalization=t.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=t.batchSizeBytesLimit,this.batchSizeLimit=t.batchSizeLimit,this.fetchOptions=t.fetchOptions||{},this.manualFlushMode=t.manualFlushMode??this.manualFlushMode,BI()&&(this.langSmithToOTELTranslator=new H$),this.cachedLSEnvVarsForMetadata=zI()}static getDefaultClientConfig(){let t=gi("API_KEY"),r=gi("ENDPOINT")??l_,n=gi("HIDE_INPUTS")==="true",i=gi("HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:t,webUrl:void 0,hideInputs:n,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:lQ(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){let t={"User-Agent":`langsmith-js/${LI}`};return this.apiKey&&(t["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(t["x-tenant-id"]=this.workspaceId),t}_getPlatformEndpointPath(t){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${t}`:`/platform/${t}`}async processInputs(t){return this.hideInputs===!1?t:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(t):t}async processOutputs(t){return this.hideOutputs===!1?t:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(t):t}async prepareRunCreateOrUpdateInputs(t){let r={...t};return r.inputs!==void 0&&(r.inputs=await this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=await this.processOutputs(r.outputs)),r}async _getResponse(t,r){let n=r?.toString()??"",i=`${this.apiUrl}${t}?${n}`;return await this.caller.call(async()=>{let s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,`fetch ${t}`),s})}async _get(t,r){return(await this._getResponse(t,r)).json()}async*_getPaginated(t,r=new URLSearchParams,n){let i=Number(r.get("offset"))||0,s=Number(r.get("limit"))||100;for(;;){r.set("offset",String(i)),r.set("limit",String(s));let o=`${this.apiUrl}${t}?${r}`,l=await this.caller.call(async()=>{let c=await this._fetch(o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(c,`fetch ${t}`),c}),u=n?n(await l.json()):await l.json();if(u.length===0||(yield u,u.length<s))break;i+=u.length}}async*_getCursorPaginatedList(t,r=null,n="POST",i="runs"){let s=r?{...r}:{};for(;;){let o=JSON.stringify(s),l=await(await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}${t}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(c,`fetch ${t}`),c})).json();if(!l||!l[i])break;yield l[i];let u=l.cursors;if(!u||!u.next)break;s.cursor=u.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(t,r=!1){if(this.tracingSampleRate===void 0)return t;if(r){let n=[];for(let i of t)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):n.push(i);return n}else{let n=[];for(let i of t){let s=i.trace_id??i.id;this.filteredPostUuids.has(s)||(i.id===s?this._shouldSample()?n.push(i):this.filteredPostUuids.add(s):n.push(i))}return n}}async _getBatchSizeLimitBytes(){let t=await this._ensureServerInfo();return this.batchSizeBytesLimit??t.batch_ingest_config?.size_limit_bytes??dQ}async _getBatchSizeLimit(){let t=await this._ensureServerInfo();return this.batchSizeLimit??t.batch_ingest_config?.size_limit??hQ}async _getDatasetExamplesMultiPartSupport(){return(await this._ensureServerInfo()).instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:r}){let n=[];for(;this.autoBatchQueue.items.length>0;){let[i,s]=this.autoBatchQueue.pop({upToSizeBytes:t,upToSize:r});if(!i.length){s();break}let o=i.reduce((c,d)=>{let f=d.apiUrl??this.apiUrl,g=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${g}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),l=[];for(let[c,d]of Object.entries(o)){let f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});l.push(f)}let u=Promise.all(l).finally(s);n.push(u)}return Promise.all(n)}async _processBatch(t,r){if(!t.length)return;let n=t.reduce((i,s)=>i+(s.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(t);else{let i={runCreates:t.filter(o=>o.action==="create").map(o=>o.item),runUpdates:t.filter(o=>o.action==="update").map(o=>o.item)},s=await this._ensureServerInfo();if(s?.batch_ingest_config?.use_multipart_endpoint){let o=s?.instance_flags?.gzip_body_enabled;await this.multipartIngestRuns(i,{...r,useGzip:o,sizeBytes:n})}else await this.batchIngestRuns(i,{...r,sizeBytes:n})}}catch(i){console.error("Error exporting batch:",i)}}_sendBatchToOTELTranslator(t){if(this.langSmithToOTELTranslator!==void 0){let r=new Map,n=[];for(let i of t)i.item.id&&i.otelContext&&(r.set(i.item.id,i.otelContext),i.action==="create"?n.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):n.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(n,r)}}async processRunOperation(t){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,t.item=s_(t.item,this.cachedLSEnvVarsForMetadata);let r=this.autoBatchQueue.push(t);if(this.manualFlushMode)return r;let n=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>n||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:n,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),r}async _getServerInfo(){let t=await(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(fQ),...this.fetchOptions});return await Vt(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(t,null,2)+`
`),t}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(t){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${t.status??"Unspecified status code"} ${t.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(t=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),t))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){let t=await this._getBatchSizeLimitBytes(),r=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:t,batchSizeLimit:r})}_cloneCurrentOTELContext(){let t=FI(),r=z$();if(this.langSmithToOTELTranslator!==void 0){let n=t.getActiveSpan();if(n)return t.setSpan(r.active(),n)}}async createRun(t,r){if(!this._filterForSampling([t]).length)return;let n={...this.headers,"Content-Type":"application/json"},i=t.project_name;delete t.project_name;let s=await this.prepareRunCreateOrUpdateInputs({session_name:i,...t,start_time:t.start_time??Date.now()});if(this.autoBatchTracing&&s.trace_id!==void 0&&s.dotted_order!==void 0){let u=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:s,otelContext:u,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error);return}let o=s_(s,this.cachedLSEnvVarsForMetadata);r?.apiKey!==void 0&&(n["x-api-key"]=r.apiKey),r?.workspaceId!==void 0&&(n["x-tenant-id"]=r.workspaceId);let l=Ti(o,`Creating run with id: ${o.id}`);await this.caller.call(async()=>{let u=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:n,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"create run",!0),u})}async batchIngestRuns({runCreates:t,runUpdates:r},n){if(t===void 0&&r===void 0)return;let i=await Promise.all(t?.map(u=>this.prepareRunCreateOrUpdateInputs(u))??[]),s=await Promise.all(r?.map(u=>this.prepareRunCreateOrUpdateInputs(u))??[]);if(i.length>0&&s.length>0){let u=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(let d of s)d.id!==void 0&&u[d.id]?u[d.id]={...u[d.id],...d}:c.push(d);i=Object.values(u),s=c}let o={post:i,patch:s};if(!o.post.length&&!o.patch.length)return;let l={post:[],patch:[]};for(let u of["post","patch"]){let c=u,d=o[c].reverse(),f=d.pop();for(;f!==void 0;)l[c].push(f),f=d.pop()}if(l.post.length>0||l.patch.length>0){let u=l.post.map(c=>c.id).concat(l.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Ti(l,`Ingesting runs with ids: ${u}`),n)}}async _postBatchIngestRuns(t,r){let n={...this.headers,"Content-Type":"application/json",Accept:"application/json"};r?.apiKey!==void 0&&(n["x-api-key"]=r.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:r?.sizeBytes},async()=>{let i=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:n,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:t});return await Vt(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:t,runUpdates:r},n){if(t===void 0&&r===void 0)return;let i={},s=[];for(let c of t??[]){let d=await this.prepareRunCreateOrUpdateInputs(c);d.id!==void 0&&d.attachments!==void 0&&(i[d.id]=d.attachments),delete d.attachments,s.push(d)}let o=[];for(let c of r??[])o.push(await this.prepareRunCreateOrUpdateInputs(c));if(s.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(s.length>0&&o.length>0){let c=s.reduce((f,g)=>(g.id&&(f[g.id]=g),f),{}),d=[];for(let f of o)f.id!==void 0&&c[f.id]?c[f.id]={...c[f.id],...f}:d.push(f);s=Object.values(c),o=d}if(s.length===0&&o.length===0)return;let l=[],u=[];for(let[c,d]of[["post",s],["patch",o]])for(let f of d){let{inputs:g,outputs:m,events:y,extra:_,error:A,serialized:I,attachments:O,...R}=f,L={inputs:g,outputs:m,events:y,extra:_,error:A,serialized:I},D=Ti(R,`Serializing for multipart ingestion of run with id: ${R.id}`);u.push({name:`${c}.${R.id}`,payload:new Blob([D],{type:`application/json; length=${D.length}`})});for(let[P,Z]of Object.entries(L)){if(Z===void 0)continue;let V=Ti(Z,`Serializing ${P} for multipart ingestion of run with id: ${R.id}`);u.push({name:`${c}.${R.id}.${P}`,payload:new Blob([V],{type:`application/json; length=${V.length}`})})}if(R.id!==void 0){let P=i[R.id];if(P){delete i[R.id];for(let[Z,V]of Object.entries(P)){let W,F;if(Array.isArray(V)?[W,F]=V:(W=V.mimeType,F=V.data),Z.includes(".")){console.warn(`Skipping attachment '${Z}' for run ${R.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}u.push({name:`attachment.${R.id}.${Z}`,payload:new Blob([F],{type:`${W}; length=${F.byteLength}`})})}}}l.push(`trace=${R.trace_id},id=${R.id}`)}await this._sendMultipartRequest(u,l.join("; "),n)}async _createNodeFetchBody(t,r){let n=[];for(let i of t)n.push(new Blob([`--${r}\r
`])),n.push(new Blob([`Content-Disposition: form-data; name="${i.name}"\r
`,`Content-Type: ${i.payload.type}\r
\r
`])),n.push(i.payload),n.push(new Blob([`\r
`]));return n.push(new Blob([`--${r}--\r
`])),await new Blob(n).arrayBuffer()}async _createMultipartStream(t,r){let n=new TextEncoder;return new ReadableStream({async start(i){let s=a(async o=>{typeof o=="string"?i.enqueue(n.encode(o)):i.enqueue(o)},"O");for(let o of t){await s(`--${r}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);let l=o.payload.stream().getReader();try{let u;for(;!(u=await l.read()).done;)i.enqueue(u.value)}finally{l.releaseLock()}await s(`\r
`)}await s(`--${r}--\r
`),i.close()}})}async _sendMultipartRequest(t,r,n){let i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),s=_$(),o=a(()=>this._createNodeFetchBody(t,i),"O"),l=a(()=>this._createMultipartStream(t,i),"Y"),u=a(async c=>this.batchIngestCaller.callWithOptions({sizeBytes:n?.sizeBytes},async()=>{let d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};n?.apiKey!==void 0&&(f["x-api-key"]=n.apiKey);let g=d;n?.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(g=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");let m=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:g,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(m,"Failed to send multipart request",!0),m}),"z");try{let c,d=!1;!s&&!this.multipartStreamingDisabled&&jI()!=="bun"?(d=!0,c=await u(l)):c=await u(o),(!this.multipartStreamingDisabled||d)&&c.status===422&&(n?.apiUrl??this.apiUrl)!==l_&&(console.warn(`Streaming multipart upload to ${n?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${r}".`),this.multipartStreamingDisabled=!0,c=await u(o))}catch(c){console.warn(`${c.message.trim()}

Context: ${r}`)}}async updateRun(t,r,n){rr(t),r.inputs&&(r.inputs=await this.processInputs(r.inputs)),r.outputs&&(r.outputs=await this.processOutputs(r.outputs));let i={...r,id:t};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){let l=this._cloneCurrentOTELContext();if(r.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:l,apiKey:n?.apiKey,apiUrl:n?.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:l,apiKey:n?.apiKey,apiUrl:n?.apiUrl}).catch(console.error);return}let s={...this.headers,"Content-Type":"application/json"};n?.apiKey!==void 0&&(s["x-api-key"]=n.apiKey),n?.workspaceId!==void 0&&(s["x-tenant-id"]=n.workspaceId);let o=Ti(r,`Serializing payload to update run with id: ${t}`);await this.caller.call(async()=>{let l=await this._fetch(`${n?.apiUrl??this.apiUrl}/runs/${t}`,{method:"PATCH",headers:s,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update run",!0),l})}async readRun(t,{loadChildRuns:r}={loadChildRuns:!1}){rr(t);let n=await this._get(`/runs/${t}`);return r&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:t,run:r,projectOpts:n}){if(r!==void 0){let i;r.session_id?i=r.session_id:n?.projectName?i=(await this.readProject({projectName:n?.projectName})).id:n?.projectId?i=n?.projectId:i=(await this.readProject({projectName:gi("PROJECT")||"default"})).id;let s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${r.id}?poll=true`}else if(t!==void 0){let i=await this.readRun(t);if(!i.app_path)throw Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw Error("Must provide either runId or run")}async _loadChildRuns(t){let r=await uQ(this.listRuns({isRoot:!1,projectId:t.session_id,traceId:t.trace_id})),n={},i={};r.sort((s,o)=>(s?.dotted_order??"").localeCompare(o?.dotted_order??""));for(let s of r){if(s.parent_run_id===null||s.parent_run_id===void 0)throw Error(`Child run ${s.id} has no parent`);s.dotted_order?.startsWith(t.dotted_order??"")&&s.id!==t.id&&(s.parent_run_id in n||(n[s.parent_run_id]=[]),n[s.parent_run_id].push(s),i[s.id]=s)}t.child_runs=n[t.id]||[];for(let s in n)s!==t.id&&(i[s].child_runs=n[s]);return t}async*listRuns(t){let{projectId:r,projectName:n,parentRunId:i,traceId:s,referenceExampleId:o,startTime:l,executionOrder:u,isRoot:c,runType:d,error:f,id:g,query:m,filter:y,traceFilter:_,treeFilter:A,limit:I,select:O,order:R}=t,L=[];if(r&&(L=Array.isArray(r)?r:[r]),n){let V=Array.isArray(n)?n:[n],W=await Promise.all(V.map(F=>this.readProject({projectName:F}).then(Y=>Y.id)));L.push(...W)}let D=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],P={session:L.length?L:null,run_type:d,reference_example:o,query:m,filter:y,trace_filter:_,tree_filter:A,execution_order:u,parent_run:i,start_time:l?l.toISOString():null,error:f,id:g,limit:I,trace:s,select:O||D,is_root:c,order:R};P.select.includes("child_run_ids")&&Fy("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let Z=0;for await(let V of this._getCursorPaginatedList("/runs/query",P))if(I){if(Z>=I)break;if(V.length+Z>I){yield*V.slice(0,I-Z);break}Z+=V.length,yield*V}else yield*V}async*listGroupRuns(t){let{projectId:r,projectName:n,groupBy:i,filter:s,startTime:o,endTime:l,limit:u,offset:c}=t,d={session_id:r||(await this.readProject({projectName:n})).id,group_by:i,filter:s,start_time:o?o.toISOString():null,end_time:l?l.toISOString():null,limit:Number(u)||100},f=Number(c)||0,g="/runs/group",m=`${this.apiUrl}${g}`;for(;;){let y={...d,offset:f},_=Object.fromEntries(Object.entries(y).filter(([L,D])=>D!==void 0)),A=JSON.stringify(_),I=await(await this.caller.call(async()=>{let L=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Vt(L,`Failed to fetch ${g}`),L})).json(),{groups:O,total:R}=I;if(O.length===0)break;for(let L of O)yield L;if(f+=O.length,f>=R)break}}async getRunStats({id:t,trace:r,parentRun:n,runType:i,projectNames:s,projectIds:o,referenceExampleIds:l,startTime:u,endTime:c,error:d,query:f,filter:g,traceFilter:m,treeFilter:y,isRoot:_,dataSourceType:A}){let I=o||[];s&&(I=[...o||[],...await Promise.all(s.map(L=>this.readProject({projectName:L}).then(D=>D.id)))]);let O=Object.fromEntries(Object.entries({id:t,trace:r,parent_run:n,run_type:i,session:I,reference_example:l,start_time:u,end_time:c,error:d,query:f,filter:g,trace_filter:m,tree_filter:y,is_root:_,data_source_type:A}).filter(([L,D])=>D!==void 0)),R=JSON.stringify(O);return await(await this.caller.call(async()=>{let L=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:R});return await Vt(L,"get run stats"),L})).json()}async shareRun(t,{shareId:r}={}){let n={run_id:t,share_token:r||lc()};rr(t);let i=JSON.stringify(n),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Vt(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(t){rr(t),await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"unshare run",!0),r})}async readRunSharedLink(t){rr(t);let r=await(await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/runs/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"read run shared link"),n})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(t,{runIds:r}={}){let n=new URLSearchParams({share_token:t});if(r!==void 0)for(let i of r)n.append("id",i);return rr(t),await(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/public/${t}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"list shared runs"),i})).json()}async readDatasetSharedSchema(t,r){if(!t&&!r)throw Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id),rr(t);let n=await(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"read dataset shared schema"),i})).json();return n.url=`${this.getHostUrl()}/public/${n.share_token}/d`,n}async shareDataset(t,r){if(!t&&!r)throw Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id);let n={dataset_id:t};rr(t);let i=JSON.stringify(n),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Vt(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(t){rr(t),await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/datasets/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"unshare dataset",!0),r})}async readSharedDataset(t){return rr(t),await(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/public/${t}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"read shared dataset"),r})).json()}async listSharedExamples(t,r){let n={};r?.exampleIds&&(n.id=r.exampleIds);let i=new URLSearchParams;Object.entries(n).forEach(([l,u])=>{Array.isArray(u)?u.forEach(c=>i.append(l,c)):i.append(l,u)});let s=await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/public/${t}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"list shared examples"),l}),o=await s.json();if(!s.ok)throw"detail"in o?Error(`Failed to list shared examples.
Status: ${s.status}
Message: ${Array.isArray(o.detail)?o.detail.join(`
`):"Unspecified error"}`):Error(`Failed to list shared examples: ${s.status} ${s.statusText}`);return o.map(l=>({...l,_hostUrl:this.getHostUrl()}))}async createProject({projectName:t,description:r=null,metadata:n=null,upsert:i=!1,projectExtra:s=null,referenceDatasetId:o=null}){let l=i?"?upsert=true":"",u=`${this.apiUrl}/sessions${l}`,c=s||{};n&&(c.metadata=n);let d={name:t,extra:c,description:r};o!==null&&(d.reference_dataset_id=o);let f=JSON.stringify(d);return await(await this.caller.call(async()=>{let g=await this._fetch(u,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Vt(g,"create project"),g})).json()}async updateProject(t,{name:r=null,description:n=null,metadata:i=null,projectExtra:s=null,endTime:o=null}){let l=`${this.apiUrl}/sessions/${t}`,u=s;i&&(u={...u||{},metadata:i});let c=JSON.stringify({name:r,extra:u,description:n,end_time:o?new Date(o).toISOString():null});return await(await this.caller.call(async()=>{let d=await this._fetch(l,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(d,"update project"),d})).json()}async hasProject({projectId:t,projectName:r}){let n="/sessions",i=new URLSearchParams;if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");if(t!==void 0)rr(t),n+=`/${t}`;else if(r!==void 0)i.append("name",r);else throw Error("Must provide projectName or projectId");let s=await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}${n}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(o,"has project"),o});try{let o=await s.json();return s.ok?Array.isArray(o)?o.length>0:!0:!1}catch{return!1}}async readProject({projectId:t,projectName:r,includeStats:n}){let i="/sessions",s=new URLSearchParams;if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");if(t!==void 0)rr(t),i+=`/${t}`;else if(r!==void 0)s.append("name",r);else throw Error("Must provide projectName or projectId");n!==void 0&&s.append("include_stats",n.toString());let o=await this._get(i,s),l;if(Array.isArray(o)){if(o.length===0)throw Error(`Project[id=${t}, name=${r}] not found`);l=o[0]}else l=o;return l}async getProjectUrl({projectId:t,projectName:r}){if(t===void 0&&r===void 0)throw Error("Must provide either projectName or projectId");let n=await this.readProject({projectId:t,projectName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${n.id}`}async getDatasetUrl({datasetId:t,datasetName:r}){if(t===void 0&&r===void 0)throw Error("Must provide either datasetName or datasetId");let n=await this.readDataset({datasetId:t,datasetName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${n.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let t=new URLSearchParams({limit:"1"});for await(let r of this._getPaginated("/sessions",t))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw Error("No projects found to resolve tenant.")}async*listProjects({projectIds:t,name:r,nameContains:n,referenceDatasetId:i,referenceDatasetName:s,includeStats:o,datasetVersion:l,referenceFree:u,metadata:c}={}){let d=new URLSearchParams;if(t!==void 0)for(let f of t)d.append("id",f);if(r!==void 0&&d.append("name",r),n!==void 0&&d.append("name_contains",n),i!==void 0)d.append("reference_dataset",i);else if(s!==void 0){let f=await this.readDataset({datasetName:s});d.append("reference_dataset",f.id)}o!==void 0&&d.append("include_stats",o.toString()),l!==void 0&&d.append("dataset_version",l),u!==void 0&&d.append("reference_free",u.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(let f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:t,projectName:r}){let n;if(t===void 0&&r===void 0)throw Error("Must provide projectName or projectId");if(t!==void 0&&r!==void 0)throw Error("Must provide either projectName or projectId, not both");t===void 0?n=(await this.readProject({projectName:r})).id:n=t,rr(n),await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,`delete session ${n} (${r})`,!0),i})}async uploadCsv({csvFile:t,fileName:r,inputKeys:n,outputKeys:i,description:s,dataType:o,name:l}){let u=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",t,r),n.forEach(d=>{c.append("input_keys",d)}),i.forEach(d=>{c.append("output_keys",d)}),s&&c.append("description",s),o&&c.append("data_type",o),l&&c.append("name",l),await(await this.caller.call(async()=>{let d=await this._fetch(u,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(d,"upload CSV"),d})).json()}async createDataset(t,{description:r,dataType:n,inputsSchema:i,outputsSchema:s,metadata:o}={}){let l={name:t,description:r,extra:o?{metadata:o}:void 0};n&&(l.data_type=n),i&&(l.inputs_schema_definition=i),s&&(l.outputs_schema_definition=s);let u=JSON.stringify(l);return await(await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(c,"create dataset"),c})).json()}async readDataset({datasetId:t,datasetName:r}){let n="/datasets",i=new URLSearchParams({limit:"1"});if(t&&r)throw Error("Must provide either datasetName or datasetId, not both");if(t)rr(t),n+=`/${t}`;else if(r)i.append("name",r);else throw Error("Must provide datasetName or datasetId");let s=await this._get(n,i),o;if(Array.isArray(s)){if(s.length===0)throw Error(`Dataset[id=${t}, name=${r}] not found`);o=s[0]}else o=s;return o}async hasDataset({datasetId:t,datasetName:r}){try{return await this.readDataset({datasetId:t,datasetName:r}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:t,datasetName:r,fromVersion:n,toVersion:i}){let s=t;if(s===void 0&&r===void 0)throw Error("Must provide either datasetName or datasetId");if(s!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");s===void 0&&(s=(await this.readDataset({datasetName:r})).id);let o=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${s}/versions/diff`,o)}async readDatasetOpenaiFinetuning({datasetId:t,datasetName:r}){if(t===void 0)if(r!==void 0)t=(await this.readDataset({datasetName:r})).id;else throw Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`/datasets/${t}/openai_ft`)).text()).trim().split(`
`).map(n=>JSON.parse(n))}async*listDatasets({limit:t=100,offset:r=0,datasetIds:n,datasetName:i,datasetNameContains:s,metadata:o}={}){let l=new URLSearchParams({limit:t.toString(),offset:r.toString()});if(n!==void 0)for(let u of n)l.append("id",u);i!==void 0&&l.append("name",i),s!==void 0&&l.append("name_contains",s),o!==void 0&&l.append("metadata",JSON.stringify(o));for await(let u of this._getPaginated("/datasets",l))yield*u}async updateDataset(t){let{datasetId:r,datasetName:n,...i}=t;if(!r&&!n)throw Error("Must provide either datasetName or datasetId");let s=r??(await this.readDataset({datasetName:n})).id;rr(s);let o=JSON.stringify(i);return await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${s}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update dataset"),l})).json()}async updateDatasetTag(t){let{datasetId:r,datasetName:n,asOf:i,tag:s}=t;if(!r&&!n)throw Error("Must provide either datasetName or datasetId");let o=r??(await this.readDataset({datasetName:n})).id;rr(o);let l=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:s});await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/datasets/${o}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"update dataset tags",!0),u})}async deleteDataset({datasetId:t,datasetName:r}){let n="/datasets",i=t;if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(i=(await this.readDataset({datasetName:r})).id),i!==void 0)rr(i),n+=`/${i}`;else throw Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{let s=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,`delete ${n}`,!0),s})}async indexDataset({datasetId:t,datasetName:r,tag:n}){let i=t;if(!i&&!r)throw Error("Must provide either datasetName or datasetId");if(i&&r)throw Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:r})).id),rr(i);let s=JSON.stringify({tag:n});await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Vt(o,"index dataset"),o})).json()}async similarExamples(t,r,n,{filter:i}={}){let s={limit:n,inputs:t};i!==void 0&&(s.filter=i),rr(r);let o=JSON.stringify(s);return(await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${r}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:o});return await Vt(l,"fetch similar examples"),l})).json()).examples}async createExample(t,r,n){if(u_(t)&&(r!==void 0||n!==void 0))throw Error("Cannot provide outputs or options when using ExampleCreate object");let i=r?n?.datasetId:t.dataset_id,s=r?n?.datasetName:t.dataset_name;if(i===void 0&&s===void 0)throw Error("Must provide either datasetName or datasetId");if(i!==void 0&&s!==void 0)throw Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:s})).id);let o=(r?n?.createdAt:t.created_at)||new Date,l;u_(t)?l=t:l={inputs:t,outputs:r,created_at:o?.toISOString(),id:n?.exampleId,metadata:n?.metadata,split:n?.split,source_run_id:n?.sourceRunId,use_source_run_io:n?.useSourceRunIO,use_source_run_attachments:n?.useSourceRunAttachments,attachments:n?.attachments};let u=await this._uploadExamplesMultipart(i,[l]);return await this.readExample(u.example_ids?.[0]??lc())}async createExamples(t){if(Array.isArray(t)){if(t.length===0)return[];let I=t,O=I[0].dataset_id,R=I[0].dataset_name;if(O===void 0&&R===void 0)throw Error("Must provide either datasetName or datasetId");if(O!==void 0&&R!==void 0)throw Error("Must provide either datasetName or datasetId, not both");O===void 0&&(O=(await this.readDataset({datasetName:R})).id);let L=await this._uploadExamplesMultipart(O,I);return await Promise.all(L.example_ids.map(D=>this.readExample(D)))}let{inputs:r,outputs:n,metadata:i,splits:s,sourceRunIds:o,useSourceRunIOs:l,useSourceRunAttachments:u,attachments:c,exampleIds:d,datasetId:f,datasetName:g}=t;if(r===void 0)throw Error("Must provide inputs when using legacy parameters");let m=f,y=g;if(m===void 0&&y===void 0)throw Error("Must provide either datasetName or datasetId");if(m!==void 0&&y!==void 0)throw Error("Must provide either datasetName or datasetId, not both");m===void 0&&(m=(await this.readDataset({datasetName:y})).id);let _=r.map((I,O)=>({dataset_id:m,inputs:I,outputs:n?.[O],metadata:i?.[O],split:s?.[O],id:d?.[O],attachments:c?.[O],source_run_id:o?.[O],use_source_run_io:l?.[O],use_source_run_attachments:u?.[O]})),A=await this._uploadExamplesMultipart(m,_);return await Promise.all(A.example_ids.map(I=>this.readExample(I)))}async createLLMExample(t,r,n){return this.createExample({input:t},{output:r},n)}async createChatExample(t,r,n){let i=t.map(o=>n_(o)?i_(o):o),s=n_(r)?i_(r):r;return this.createExample({input:i},{output:s},n)}async readExample(t){rr(t);let r=`/examples/${t}`,n=await this._get(r),{attachment_urls:i,...s}=n,o=s;return i&&(o.attachments=Object.entries(i).reduce((l,[u,c])=>(l[u.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},l),{})),o}async*listExamples({datasetId:t,datasetName:r,exampleIds:n,asOf:i,splits:s,inlineS3Urls:o,metadata:l,limit:u,offset:c,filter:d,includeAttachments:f}={}){let g;if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)g=t;else if(r!==void 0)g=(await this.readDataset({datasetName:r})).id;else throw Error("Must provide a datasetName or datasetId");let m=new URLSearchParams({dataset:g}),y=i?typeof i=="string"?i:i?.toISOString():void 0;y&&m.append("as_of",y);let _=o??!0;if(m.append("inline_s3_urls",_.toString()),n!==void 0)for(let I of n)m.append("id",I);if(s!==void 0)for(let I of s)m.append("splits",I);if(l!==void 0){let I=JSON.stringify(l);m.append("metadata",I)}u!==void 0&&m.append("limit",u.toString()),c!==void 0&&m.append("offset",c.toString()),d!==void 0&&m.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(I=>m.append("select",I));let A=0;for await(let I of this._getPaginated("/examples",m)){for(let O of I){let{attachment_urls:R,...L}=O,D=L;R&&(D.attachments=Object.entries(R).reduce((P,[Z,V])=>(P[Z.slice(11)]={presigned_url:V.presigned_url,mime_type:V.mime_type||void 0},P),{})),yield D,A++}if(u!==void 0&&A>=u)break}}async deleteExample(t){rr(t);let r=`/examples/${t}`;await this.caller.call(async()=>{let n=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,`delete ${r}`,!0),n})}async updateExample(t,r){let n;r?n=t:n=t.id,rr(n);let i;r?i={id:n,...r}:i=t;let s;return i.dataset_id!==void 0?s=i.dataset_id:s=(await this.readExample(n)).dataset_id,this._updateExamplesMultipart(s,[i])}async updateExamples(t){let r;return t[0].dataset_id===void 0?r=(await this.readExample(t[0].id)).dataset_id:r=t[0].dataset_id,this._updateExamplesMultipart(r,t)}async readDatasetVersion({datasetId:t,datasetName:r,asOf:n,tag:i}){let s;if(t?s=t:s=(await this.readDataset({datasetName:r})).id,rr(s),n&&i||!n&&!i)throw Error("Exactly one of asOf and tag must be specified.");let o=new URLSearchParams;return n!==void 0&&o.append("as_of",typeof n=="string"?n:n.toISOString()),i!==void 0&&o.append("tag",i),await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/datasets/${s}/version?${o.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:t,datasetName:r,asOf:n}){let i;if(t===void 0&&r===void 0)throw Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");t===void 0?i=(await this.readDataset({datasetName:r})).id:i=t,rr(i);let s=new URLSearchParams,o=n?typeof n=="string"?n:n?.toISOString():void 0;return o&&s.append("as_of",o),await this._get(`/datasets/${i}/splits`,s)}async updateDatasetSplits({datasetId:t,datasetName:r,splitName:n,exampleIds:i,remove:s=!1}){let o;if(t===void 0&&r===void 0)throw Error("Must provide dataset name or ID");if(t!==void 0&&r!==void 0)throw Error("Must provide either datasetName or datasetId, not both");t===void 0?o=(await this.readDataset({datasetName:r})).id:o=t,rr(o);let l={split_name:n,examples:i.map(c=>(rr(c),c)),remove:s},u=JSON.stringify(l);await this.caller.call(async()=>{let c=await this._fetch(`${this.apiUrl}/datasets/${o}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(c,"update dataset splits",!0),c})}async evaluateRun(t,r,{sourceInfo:n,loadChildRuns:i,referenceExample:s}={loadChildRuns:!1}){Fy("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let o;if(typeof t=="string")o=await this.readRun(t,{loadChildRuns:i});else if(typeof t=="object"&&"id"in t)o=t;else throw Error(`Invalid run type: ${typeof t}`);o.reference_example_id!==null&&o.reference_example_id!==void 0&&(s=await this.readExample(o.reference_example_id));let l=await r.evaluateRun(o,s),[u,c]=await this._logEvaluationFeedback(l,o,n);return c[0]}async createFeedback(t,r,{score:n,value:i,correction:s,comment:o,sourceInfo:l,feedbackSourceType:u="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:g,comparativeExperimentId:m}){if(!t&&!g)throw Error("One of runId or projectId must be provided");if(t&&g)throw Error("Only one of runId or projectId can be provided");let y={type:u??"api",metadata:l??{}};c!==void 0&&y?.metadata!==void 0&&!y.metadata.__run&&(y.metadata.__run={run_id:c}),y?.metadata!==void 0&&y.metadata.__run?.run_id!==void 0&&rr(y.metadata.__run.run_id);let _={id:d??lc(),run_id:t,key:r,score:o_(n),value:i,correction:s,comment:o,feedback_source:y,comparative_experiment_id:m,feedbackConfig:f,session_id:g},A=JSON.stringify(_),I=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{let O=await this._fetch(I,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:A});return await Vt(O,"create feedback",!0),O}),_}async updateFeedback(t,{score:r,value:n,correction:i,comment:s}){let o={};r!=null&&(o.score=o_(r)),n!=null&&(o.value=n),i!=null&&(o.correction=i),s!=null&&(o.comment=s),rr(t);let l=JSON.stringify(o);await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/feedback/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"update feedback",!0),u})}async readFeedback(t){rr(t);let r=`/feedback/${t}`;return await this._get(r)}async deleteFeedback(t){rr(t);let r=`/feedback/${t}`;await this.caller.call(async()=>{let n=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,`delete ${r}`,!0),n})}async*listFeedback({runIds:t,feedbackKeys:r,feedbackSourceTypes:n}={}){let i=new URLSearchParams;if(t)for(let s of t)rr(s),i.append("run",s);if(r)for(let s of r)i.append("key",s);if(n)for(let s of n)i.append("source",s);for await(let s of this._getPaginated("/feedback",i))yield*s}async createPresignedFeedbackToken(t,r,{expiration:n,feedbackConfig:i}={}){let s={run_id:t,feedback_key:r,feedback_config:i};n?typeof n=="string"?s.expires_at=n:(n?.hours||n?.minutes||n?.days)&&(s.expires_in=n):s.expires_in={hours:3};let o=JSON.stringify(s);return await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:t,experimentIds:r,referenceDatasetId:n,createdAt:i,description:s,metadata:o,id:l}){if(r.length===0)throw Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:r[0]})).reference_dataset_id),!n==null)throw Error("A reference dataset is required");let u={id:l,name:t,experiment_ids:r,reference_dataset_id:n,description:s,created_at:(i??new Date)?.toISOString(),extra:{}};o&&(u.extra.metadata=o);let c=JSON.stringify(u);return(await this.caller.call(async()=>{let d=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(d,"create comparative experiment"),d})).json()}async*listPresignedFeedbackTokens(t){rr(t);let r=new URLSearchParams({run_id:t});for await(let n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(t){let r;return"results"in t?r=t.results:Array.isArray(t)?r=t:r=[t],r}async _logEvaluationFeedback(t,r,n){let i=this._selectEvalResults(t),s=[];for(let o of i){let l=n||{};o.evaluatorInfo&&(l={...o.evaluatorInfo,...l});let u=null;o.targetRunId?u=o.targetRunId:r&&(u=r.id),s.push(await this.createFeedback(u,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:l,sourceRunId:o.sourceRunId,feedbackConfig:o.feedbackConfig,feedbackSourceType:"model"}))}return[i,s]}async logEvaluationFeedback(t,r,n){let[i]=await this._logEvaluationFeedback(t,r,n);return i}async*listAnnotationQueues(t={}){let{queueIds:r,name:n,nameContains:i,limit:s}=t,o=new URLSearchParams;r&&r.forEach((u,c)=>{rr(u,`queueIds[${c}]`),o.append("ids",u)}),n&&o.append("name",n),i&&o.append("name_contains",i),o.append("limit",(s!==void 0?Math.min(s,100):100).toString());let l=0;for await(let u of this._getPaginated("/annotation-queues",o))if(yield*u,l++,s!==void 0&&l>=s)break}async createAnnotationQueue(t){let{name:r,description:n,queueId:i,rubricInstructions:s}=t,o={name:r,description:n,id:i||lc(),rubric_instructions:s},l=JSON.stringify(Object.fromEntries(Object.entries(o).filter(([u,c])=>c!==void 0)));return(await this.caller.call(async()=>{let u=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Vt(u,"create annotation queue"),u})).json()}async readAnnotationQueue(t){return(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(t,r){let{name:n,description:i,rubricInstructions:s}=r,o=JSON.stringify({name:n,description:i,rubric_instructions:s});await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update annotation queue",!0),l})}async deleteAnnotationQueue(t){await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"delete annotation queue",!0),r})}async addRunsToAnnotationQueue(t,r){let n=JSON.stringify(r.map((i,s)=>rr(i,`runIds[${s}]`).toString()));await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(t,r){let n=`/annotation-queues/${rr(t,"queueId")}/run`;return(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(i,"get run from annotation queue"),i})).json()}async deleteRunFromAnnotationQueue(t,r){await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}/runs/${rr(r,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"delete run from annotation queue",!0),n})}async getSizeFromAnnotationQueue(t){return(await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${rr(t,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(t){let r=await this._getSettings();return t=="-"||r.tenant_handle===t}async _ownerConflictError(t,r){let n=await this._getSettings();return Error(`Cannot ${t} for another tenant.

      Current tenant: ${n.tenant_handle}

      Requested tenant: ${r}`)}async _getLatestCommitHash(t){let r=await(await this.caller.call(async()=>{let n=await this._fetch(`${this.apiUrl}/commits/${t}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(n,"get latest commit hash"),n})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(t,r){let[n,i,s]=ro(t),o=JSON.stringify({like:r});return(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/likes/${n}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,`${r?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(t){let[r,n,i]=ro(t);if(await this._currentTenantIsOwner(r)){let s=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${n}/${i.substring(0,8)}?organizationId=${s.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${s.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${r}/${n}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${r}/${n}`}async promptExists(t){return!!await this.getPrompt(t)}async likePrompt(t){return this._likeOrUnlikePrompt(t,!0)}async unlikePrompt(t){return this._likeOrUnlikePrompt(t,!1)}async*listCommits(t){for await(let r of this._getPaginated(`/commits/${t}/`,new URLSearchParams,n=>n.commits))yield*r}async*listPrompts(t){let r=new URLSearchParams;r.append("sort_field",t?.sortField??"updated_at"),r.append("sort_direction","desc"),r.append("is_archived",(!!t?.isArchived).toString()),t?.isPublic!==void 0&&r.append("is_public",t.isPublic.toString()),t?.query&&r.append("query",t.query);for await(let n of this._getPaginated("/repos",r,i=>i.repos))yield*n}async getPrompt(t){let[r,n,i]=ro(t),s=await(await this.caller.call(async()=>{let o=await this._fetch(`${this.apiUrl}/repos/${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return o?.status===404?null:(await Vt(o,"get prompt"),o)}))?.json();return s?.repo?s.repo:null}async createPrompt(t,r){let n=await this._getSettings();if(r?.isPublic&&!n.tenant_handle)throw Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[i,s,o]=ro(t);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);let l={repo_handle:s,...r?.description&&{description:r.description},...r?.readme&&{readme:r.readme},...r?.tags&&{tags:r.tags},is_public:!!r?.isPublic},u=JSON.stringify(l),c=await this.caller.call(async()=>{let f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await Vt(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(t,r,n){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[i,s,o]=ro(t),l=n?.parentCommitHash==="latest"||!n?.parentCommitHash?await this._getLatestCommitHash(`${i}/${s}`):n?.parentCommitHash,u={manifest:JSON.parse(JSON.stringify(r)),parent_commit:l},c=JSON.stringify(u),d=await(await this.caller.call(async()=>{let f=await this._fetch(`${this.apiUrl}/commits/${i}/${s}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Vt(f,"create commit"),f})).json();return this._getPromptUrl(`${i}/${s}${d.commit_hash?`:${d.commit_hash}`:""}`)}async updateExamplesMultipart(t,r=[]){return this._updateExamplesMultipart(t,r)}async _updateExamplesMultipart(t,r=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let n=new FormData;for(let s of r){let o=s.id,l={...s.metadata&&{metadata:s.metadata},...s.split&&{split:s.split}},u=Ti(l,`Serializing body for example with id: ${o}`),c=new Blob([u],{type:"application/json"});if(n.append(o,c),s.inputs){let d=Ti(s.inputs,`Serializing inputs for example with id: ${o}`),f=new Blob([d],{type:"application/json"});n.append(`${o}.inputs`,f)}if(s.outputs){let d=Ti(s.outputs,`Serializing outputs whle updating example with id: ${o}`),f=new Blob([d],{type:"application/json"});n.append(`${o}.outputs`,f)}if(s.attachments)for(let[d,f]of Object.entries(s.attachments)){let g,m;Array.isArray(f)?[g,m]=f:(g=f.mimeType,m=f.data);let y=new Blob([m],{type:`${g}; length=${m.byteLength}`});n.append(`${o}.attachment.${d}`,y)}if(s.attachments_operations){let d=Ti(s.attachments_operations,`Serializing attachments while updating example with id: ${o}`),f=new Blob([d],{type:"application/json"});n.append(`${o}.attachments_operations`,f)}}let i=t??r[0]?.dataset_id;return(await this.caller.call(async()=>{let s=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(s,"update examples"),s})).json()}async uploadExamplesMultipart(t,r=[]){return this._uploadExamplesMultipart(t,r)}async _uploadExamplesMultipart(t,r=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let n=new FormData;for(let i of r){let s=(i.id??lc()).toString(),o={created_at:i.created_at,...i.metadata&&{metadata:i.metadata},...i.split&&{split:i.split},...i.source_run_id&&{source_run_id:i.source_run_id},...i.use_source_run_io&&{use_source_run_io:i.use_source_run_io},...i.use_source_run_attachments&&{use_source_run_attachments:i.use_source_run_attachments}},l=Ti(o,`Serializing body for uploaded example with id: ${s}`),u=new Blob([l],{type:"application/json"});if(n.append(s,u),i.inputs){let c=Ti(i.inputs,`Serializing inputs for uploaded example with id: ${s}`),d=new Blob([c],{type:"application/json"});n.append(`${s}.inputs`,d)}if(i.outputs){let c=Ti(i.outputs,`Serializing outputs for uploaded example with id: ${s}`),d=new Blob([c],{type:"application/json"});n.append(`${s}.outputs`,d)}if(i.attachments)for(let[c,d]of Object.entries(i.attachments)){let f,g;Array.isArray(d)?[f,g]=d:(f=d.mimeType,g=d.data);let m=new Blob([g],{type:`${f}; length=${g.byteLength}`});n.append(`${s}.attachment.${c}`,m)}}return(await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${t}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await Vt(i,"upload examples"),i})).json()}async updatePrompt(t,r){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[n,i]=ro(t);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);let s={};if(r?.description!==void 0&&(s.description=r.description),r?.readme!==void 0&&(s.readme=r.readme),r?.tags!==void 0&&(s.tags=r.tags),r?.isPublic!==void 0&&(s.is_public=r.isPublic),r?.isArchived!==void 0&&(s.is_archived=r.isArchived),Object.keys(s).length===0)throw Error("No valid update options provided");let o=JSON.stringify(s);return(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/repos/${n}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Vt(l,"update prompt"),l})).json()}async deletePrompt(t){if(!await this.promptExists(t))throw Error("Prompt does not exist, you must create it first.");let[r,n,i]=ro(t);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("delete a prompt",r);return(await this.caller.call(async()=>{let s=await this._fetch(`${this.apiUrl}/repos/${r}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(s,"delete prompt"),s})).json()}async pullPromptCommit(t,r){let[n,i,s]=ro(t),o=await(await this.caller.call(async()=>{let l=await this._fetch(`${this.apiUrl}/commits/${n}/${i}/${s}${r?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Vt(l,"pull prompt commit"),l})).json();return{owner:n,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(t,r){let n=await this.pullPromptCommit(t,{includeModel:r?.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(t,r){return await this.promptExists(t)?r&&Object.keys(r).some(n=>n!=="object")&&await this.updatePrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}):await this.createPrompt(t,{description:r?.description,readme:r?.readme,tags:r?.tags,isPublic:r?.isPublic}),r?.object?await this.createCommit(t,r?.object,{parentCommitHash:r?.parentCommitHash}):await this._getPromptUrl(t)}async clonePublicDataset(t,r={}){let{sourceApiUrl:n=this.apiUrl,datasetName:i}=r,[s,o]=this.parseTokenOrUrl(t,n),l=new Nd({apiUrl:s,apiKey:"placeholder"}),u=await l.readSharedDataset(o),c=i||u.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}let d=await l.listSharedExamples(o),f=await this.createDataset(c,{description:u.description,dataType:u.data_type||"kv",inputsSchema:u.inputs_schema_definition??void 0,outputsSchema:u.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(g=>g.inputs),outputs:d.flatMap(g=>g.outputs?[g.outputs]:[]),datasetId:f.id})}catch(g){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),g}}parseTokenOrUrl(t,r,n=2,i="dataset"){try{return rr(t),[r,t]}catch{}try{let s=new URL(t).pathname.split("/").filter(o=>o!=="");if(s.length>=n){let o=s[s.length-n];return[r,o]}else throw Error(`Invalid public ${i} URL: ${t}`)}catch{throw Error(`Invalid public ${i} URL or token: ${t}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:t})=>t),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await B$()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function u_(e){return"dataset_id"in e||"dataset_name"in e}a(u_,"MX");var mQ=a(e=>!!["TRACING_V2","TRACING"].find(t=>gi(t)==="true"),"EX"),bo=Symbol.for("lc:context_variables"),sb=Symbol.for("langsmith:replica_trace_roots");function c_(e,t){if(bo in e)return e[bo][t]}a(c_,"iO");function gQ(e,t,r){let n=bo in e?e[bo]:{};n[t]=r,e[bo]=n}a(gQ,"hX");var Vc="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function d_(e){let t=Object.keys(e).sort().map(r=>`${r}:${e[r]??""}`).join("|");return Gc(t,Vc)}a(d_,"RX");function bQ(e){return e.replace(/[-:.]/g,"")}a(bQ,"dI");function VI(e,t=1){let r=t.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`}a(VI,"DX");function KI(e,t,r=1){let n=VI(e,r);return{dottedOrder:bQ(n)+t,microsecondPrecisionDatestring:n}}a(KI,"BO");class k0{static{a(this,"P9")}constructor(t,r,n,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=t,this.tags=r,this.project_name=n,this.replicas=i}static fromHeader(t){let r=t.split(","),n={},i=[],s,o;for(let l of r){let[u,c]=l.split("="),d=decodeURIComponent(c);u==="langsmith-metadata"?n=JSON.parse(d):u==="langsmith-tags"?i=d.split(","):u==="langsmith-project"?s=d:u==="langsmith-replicas"&&(o=JSON.parse(d))}return new k0(n,i,s,o)}toHeader(){let t=[];return this.metadata&&Object.keys(this.metadata).length>0&&t.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&t.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&t.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),t.join(",")}}class hi{static{a(this,"jq")}constructor(t){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),vQ(t)){Object.assign(this,{...t});return}let r=hi.getDefaultConfig(),{metadata:n,...i}=t,s=i.client??hi.getSharedClient(),o={...n,...i?.extra?.metadata};if(i.extra={...i.extra,metadata:o},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...r,...i,client:s}),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order&&(this._serialized_start_time=VI(this.start_time,this.execution_order)),this.id||(this.id=k$(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=_Q(this.replicas),!this.dotted_order){let{dottedOrder:l}=KI(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(t){this.extra={...this.extra,metadata:{...this.extra?.metadata,...t}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){let t=Date.now();return{run_type:"chain",project_name:RI(),child_runs:[],api_url:es("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:es("LANGCHAIN_API_KEY"),caller_options:{},start_time:t,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return hi.sharedClient||(hi.sharedClient=new Nd),hi.sharedClient}createChild(t){let r=this.child_execution_order+1,n=this.replicas?.map(d=>{let{reroot:f,...g}=d;return g}),i=t.replicas??n,s=new hi({...t,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:r,child_execution_order:r});bo in this&&(s[bo]=this[bo]);let o=Symbol.for("lc:child_config"),l=t.extra?.[o]??this.extra[o];if(wQ(l)){let d={...l},f=yQ(d.callbacks)?d.callbacks.copy?.():void 0;f&&(Object.assign(f,{_parentRunId:s.id}),f.handlers?.find(ZI)?.updateFromRunTree?.(s),d.callbacks=f),s.extra[o]=d}let u=new Set,c=this;for(;c!=null&&!u.has(c.id);)u.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,r),c=c.parent_run;return this.child_runs.push(s),s}async end(t,r,n=Date.now(),i){this.outputs=this.outputs??t,this.error=this.error??r,this.end_time=this.end_time??n,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(t,r,n=!0){let i=t.extra??{};if(i?.runtime?.library===void 0&&(i.runtime||(i.runtime={}),r))for(let[l,u]of Object.entries(r))i.runtime[l]||(i.runtime[l]=u);let s,o;return n?(o=t.parent_run?.id??t.parent_run_id,s=[]):(s=t.child_runs.map(l=>this._convertToCreate(l,r,n)),o=void 0),{id:t.id,name:t.name,start_time:t._serialized_start_time??t.start_time,end_time:t.end_time,run_type:t.run_type,reference_example_id:t.reference_example_id,extra:i,serialized:t.serialized,error:t.error,inputs:t.inputs,outputs:t.outputs,session_name:t.project_name,child_runs:s,parent_run_id:o,trace_id:t.trace_id,dotted_order:t.dotted_order,tags:t.tags,attachments:t.attachments,events:t.events}}_sliceParentId(t,r){if(r.dotted_order){let n=r.dotted_order.split("."),i=null;for(let s=0;s<n.length;s++)if(n[s].slice(-36)===t){i=s;break}if(i!==null){let s=n.slice(i+1);r.dotted_order=s.join("."),s.length>0?r.trace_id=s[0].slice(-36):r.trace_id=r.id}}r.parent_run_id===t&&(r.parent_run_id=void 0)}_setReplicaTraceRoot(t,r){let n=c_(this,sb)??{};n[t]=r,gQ(this,sb,n);for(let i of this.child_runs)i._setReplicaTraceRoot(t,r)}_remapForProject(t){let{projectName:r,runtimeEnv:n,excludeChildRuns:i=!0,reroot:s=!1,distributedParentId:o,apiUrl:l,apiKey:u,workspaceId:c}=t,d=this._convertToCreate(this,n,i);if(r===this.project_name)return{...d,session_name:r};if(s){if(o)this._sliceParentId(o,d);else if(d.parent_run_id=void 0,d.dotted_order){let O=d.dotted_order.split(".");O.length>0&&(d.dotted_order=O[O.length-1],d.trace_id=d.id)}let I=d_({projectName:r,apiUrl:l,apiKey:u,workspaceId:c});this._setReplicaTraceRoot(I,d.id)}let f;if(!s){let I=c_(this,sb)??{},O=d_({projectName:r,apiUrl:l,apiKey:u,workspaceId:c});if(f=I[O],f&&(d.trace_id=f,d.dotted_order)){let R=d.dotted_order.split("."),L=null;for(let D=0;D<R.length;D++)if(R[D].slice(-36)===f){L=D;break}if(L!==null){let D=R.slice(L);d.dotted_order=D.join(".")}}}let g=d.id,m=Gc(`${g}:${r}`,Vc),y;d.trace_id?y=Gc(`${d.trace_id}:${r}`,Vc):y=m;let _;d.parent_run_id&&(_=Gc(`${d.parent_run_id}:${r}`,Vc));let A;return d.dotted_order&&(A=d.dotted_order.split(".").map(I=>{let O=I.slice(-36),R=Gc(`${O}:${r}`,Vc);return I.slice(0,-36)+R}).join(".")),{...d,id:m,trace_id:y,parent_run_id:_,dotted_order:A,session_name:r}}async postRun(t=!0){try{let r=PI();if(this.replicas&&this.replicas.length>0)for(let{projectName:n,apiKey:i,apiUrl:s,workspaceId:o,reroot:l}of this.replicas){let u=this._remapForProject({projectName:n??this.project_name,runtimeEnv:r,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:s,apiKey:i,workspaceId:o});await this.client.createRun(u,{apiKey:i,apiUrl:s,workspaceId:o})}else{let n=this._convertToCreate(this,r,t);await this.client.createRun(n)}if(!t){Fy("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let n of this.child_runs)await n.postRun(!1)}}catch(r){console.error(`Error in postRun for run ${this.id}:`,r)}}async patchRun(t){if(this.replicas&&this.replicas.length>0)for(let{projectName:r,apiKey:n,apiUrl:i,workspaceId:s,updates:o,reroot:l}of this.replicas){let u=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:i,apiKey:n,workspaceId:s}),c={id:u.id,name:u.name,run_type:u.run_type,start_time:u.start_time,outputs:u.outputs,error:u.error,parent_run_id:u.parent_run_id,session_name:u.session_name,reference_example_id:u.reference_example_id,end_time:u.end_time,dotted_order:u.dotted_order,trace_id:u.trace_id,events:u.events,tags:u.tags,extra:u.extra,attachments:this.attachments,...o};t?.excludeInputs||(c.inputs=u.inputs),await this.client.updateRun(u.id,c,{apiKey:n,apiUrl:i,workspaceId:s})}else try{let r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};t?.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(t){this.events||(this.events=[]),typeof t=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:t}):this.events.push({...t,time:t.time??new Date().toISOString()})}static fromRunnableConfig(t,r){let n=t?.callbacks,i,s,o,l=mQ();if(n){let u=n?.getParentRunId?.()??"",c=n?.handlers?.find(d=>d?.name=="langchain_tracer");i=c?.getRun?.(u),s=c?.projectName,o=c?.client,l=l||!!c}return i?new hi({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:o,tracingEnabled:l,project_name:s,tags:[...new Set((i?.tags??[]).concat(t?.tags??[]))],extra:{metadata:{...i?.extra?.metadata,...t?.metadata}}}).createChild(r):new hi({...r,client:o,tracingEnabled:l,project_name:s})}static fromDottedOrder(t){return this.fromHeaders({"langsmith-trace":t})}static fromHeaders(t,r){let n="get"in t&&typeof t.get=="function"?{"langsmith-trace":t.get("langsmith-trace"),baggage:t.get("baggage")}:t,i=n["langsmith-trace"];if(!i||typeof i!="string")return;let s=i.trim(),o=s.split(".").map(d=>{let[f,g]=d.split("Z");return{strTime:f,time:Date.parse(f+"Z"),uuid:g}}),l=o[0].uuid,u={...r,name:r?.name??"parent",run_type:r?.run_type??"chain",start_time:r?.start_time??Date.now(),id:o.at(-1)?.uuid,trace_id:l,dotted_order:s};if(n.baggage&&typeof n.baggage=="string"){let d=k0.fromHeader(n.baggage);u.metadata=d.metadata,u.tags=d.tags,u.project_name=d.project_name,u.replicas=d.replicas}let c=new hi(u);return c.distributedParentId=c.id,c}toHeaders(t){let r={"langsmith-trace":this.dotted_order,baggage:new k0(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(t)for(let[n,i]of Object.entries(r))t.set(n,i);return r}}Object.defineProperty(hi,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function vQ(e){return e!=null&&typeof e.createChild=="function"&&typeof e.postRun=="function"}a(vQ,"LX");function ZI(e){return typeof e=="object"&&e!=null&&typeof e.name=="string"&&e.name==="langchain_tracer"}a(ZI,"gX");function f_(e){return Array.isArray(e)&&e.some(t=>ZI(t))}a(f_,"IX");function yQ(e){return typeof e=="object"&&e!=null&&Array.isArray(e.handlers)}a(yQ,"lI");function wQ(e){return e!=null&&typeof e.callbacks=="object"&&(f_(e.callbacks?.handlers)||f_(e.callbacks))}a(wQ,"rI");function xQ(){let e=es("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{let t=JSON.parse(e);if(Array.isArray(t)){let r=[];for(let n of t){if(typeof n!="object"||n===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof n}`);continue}if(typeof n.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof n.api_url}`);continue}if(typeof n.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof n.api_key}`);continue}r.push({apiUrl:n.api_url.replace(/\/$/,""),apiKey:n.api_key})}return r}else if(typeof t=="object"&&t!==null){EQ(t);let r=[];for(let[n,i]of Object.entries(t)){let s=n.replace(/\/$/,"");if(typeof i=="string")r.push({apiUrl:s,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${n}: expected string, got ${typeof i}`);continue}}return r}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof t}`),[]}catch(t){if(tQ(t))throw t;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}a(xQ,"oI");function _Q(e){return e?e.map(t=>Array.isArray(t)?{projectName:t[0],updates:t[1]}:t):xQ()}a(_Q,"nI");function EQ(e){if(Object.keys(e).length>0&&gi("ENDPOINT"))throw new eQ}a(EQ,"iI");var SQ={};En(SQ,{BaseTracer:a(()=>Uu,"BaseTracer"),isBaseTracer:a(()=>tu,"isBaseTracer")});var kQ=a(e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e},"tI");function Hy(e,t){if(e)return new hi({...e,start_time:e._serialized_start_time??e.start_time,parent_run:Hy(t),child_runs:e.child_runs.map(r=>Hy(r)).filter(r=>r!==void 0),extra:{...e.extra,runtime:II()},tracingEnabled:!1})}a(Hy,"UO");function ob(e,t){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[t]:e}}a(ob,"tO");function tu(e){return typeof e._addRunToRunMap=="function"}a(tu,"WK");var Uu=class extends df{static{a(this,"R8")}runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?kQ(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){let{dottedOrder:t,microsecondPrecisionDatestring:r}=KI(new Date(e.start_time).getTime(),e.id,e.execution_order),n={...e},i=this.getRunById(n.parent_run_id);if(n.parent_run_id!==void 0?i&&(this._addChildRun(i,n),i.child_execution_order=Math.max(i.child_execution_order,n.child_execution_order),n.trace_id=i.trace_id,i.dotted_order!==void 0&&(n.dotted_order=[i.dotted_order,t].join("."),n._serialized_start_time=r)):(n.trace_id=n.id,n.dotted_order=t,n._serialized_start_time=r),this.usesRunTreeMap){let s=Hy(n,i);s!==void 0&&this.runTreeMap.set(n.id,s)}else this.runMap.set(n.id,n);return n}async _endTrace(e){let t=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){let t=e!==void 0&&this.getRunById(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),d=o?{...i,metadata:o}:i,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:s||[]};return this._addRunToRunMap(f)}async handleLLMStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForLLMStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}_createRunForChatModelStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),d=o?{...i,metadata:o}:i,f={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:d??{},tags:s||[]};return this._addRunToRunMap(f)}async handleChatModelStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForChatModelStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onLLMStart?.(u),u}async handleLLMEnd(e,t,r,n,i){let s=this.getRunById(t);if(!s||s?.run_type!=="llm")throw Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...i},await this.onLLMEnd?.(s),await this._endTrace(s),s}async handleLLMError(e,t,r,n,i){let s=this.getRunById(t);if(!s||s?.run_type!=="llm")throw Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...i},await this.onLLMError?.(s),await this._endTrace(s),s}_createRunForChainStart(e,t,r,n,i,s,o,l){let u=this._getExecutionOrder(n),c=Date.now(),d={id:r,name:l??e.id[e.id.length-1],parent_run_id:n,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:u,child_execution_order:u,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(d)}async handleChainStart(e,t,r,n,i,s,o,l){let u=this.getRunById(r)??this._createRunForChainStart(e,t,r,n,i,s,o,l);return await this.onRunCreate?.(u),await this.onChainStart?.(u),u}async handleChainEnd(e,t,r,n,i){let s=this.getRunById(t);if(!s)throw Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=ob(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),i?.inputs!==void 0&&(s.inputs=ob(i.inputs,"input")),await this.onChainEnd?.(s),await this._endTrace(s),s}async handleChainError(e,t,r,n,i){let s=this.getRunById(t);if(!s)throw Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),i?.inputs!==void 0&&(s.inputs=ob(i.inputs,"input")),await this.onChainError?.(s),await this._endTrace(s),s}_createRunForToolStart(e,t,r,n,i,s,o){let l=this._getExecutionOrder(n),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:n,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:t},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleToolStart(e,t,r,n,i,s,o){let l=this.getRunById(r)??this._createRunForToolStart(e,t,r,n,i,s,o);return await this.onRunCreate?.(l),await this.onToolStart?.(l),l}async handleToolEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onToolEnd?.(r),await this._endTrace(r),r}async handleToolError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onToolError?.(r),await this._endTrace(r),r}async handleAgentAction(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="chain")return;let n=r;n.actions=n.actions||[],n.actions.push(e),n.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(r)}async handleAgentEnd(e,t){let r=this.getRunById(t);!r||r?.run_type!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(r))}_createRunForRetrieverStart(e,t,r,n,i,s,o){let l=this._getExecutionOrder(n),u=Date.now(),c={id:r,name:o??e.id[e.id.length-1],parent_run_id:n,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:t},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:i||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,t,r,n,i,s,o){let l=this.getRunById(r)??this._createRunForRetrieverStart(e,t,r,n,i,s,o);return await this.onRunCreate?.(l),await this.onRetrieverStart?.(l),l}async handleRetrieverEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onRetrieverEnd?.(r),await this._endTrace(r),r}async handleRetrieverError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onRetrieverError?.(r),await this._endTrace(r),r}async handleText(e,t){let r=this.getRunById(t);!r||r?.run_type!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(r))}async handleLLMNewToken(e,t,r,n,i,s){let o=this.getRunById(r);if(!o||o?.run_type!=="llm")throw Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:s?.chunk}}),await this.onLLMNewToken?.(o,e,{chunk:s?.chunk}),o}},YI=Ea(qG(),1),AQ={};En(AQ,{ConsoleCallbackHandler:a(()=>Gy,"ConsoleCallbackHandler")});function Yn(e,t){return`${e.open}${t}${e.close}`}a(Yn,"bq");function Gi(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}a(Gi,"H8");function h_(e){return typeof e=="string"?e.trim():e==null?e:Gi(e,e.toString())}a(h_,"pX");function no(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}a(no,"p_");var{color:li}=YI.default,Gy=class extends Uu{static{a(this,"O9")}name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){let t=[],r=e;for(;r.parent_run_id;){let n=this.runMap.get(r.parent_run_id);if(n)t.push(n),r=n;else break}return t}getBreadcrumbs(e){let t=[...this.getParents(e).reverse(),e].map((r,n,i)=>{let s=`${r.execution_order}:${r.run_type}:${r.name}`;return n===i.length-1?Yn(YI.default.bold,s):s}).join(" > ");return Yn(li.grey,t)}onChainStart(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.green,"[chain/start]")} [${t}] Entering Chain run with input: ${Gi(e.inputs,"[inputs]")}`)}onChainEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.cyan,"[chain/end]")} [${t}] [${no(e)}] Exiting Chain run with output: ${Gi(e.outputs,"[outputs]")}`)}onChainError(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.red,"[chain/error]")} [${t}] [${no(e)}] Chain run errored with error: ${Gi(e.error,"[error]")}`)}onLLMStart(e){let t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(n=>n.trim())}:e.inputs;console.log(`${Yn(li.green,"[llm/start]")} [${t}] Entering LLM run with input: ${Gi(r,"[inputs]")}`)}onLLMEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.cyan,"[llm/end]")} [${t}] [${no(e)}] Exiting LLM run with output: ${Gi(e.outputs,"[response]")}`)}onLLMError(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.red,"[llm/error]")} [${t}] [${no(e)}] LLM run errored with error: ${Gi(e.error,"[error]")}`)}onToolStart(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.green,"[tool/start]")} [${t}] Entering Tool run with input: "${h_(e.inputs.input)}"`)}onToolEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.cyan,"[tool/end]")} [${t}] [${no(e)}] Exiting Tool run with output: "${h_(e.outputs?.output)}"`)}onToolError(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.red,"[tool/error]")} [${t}] [${no(e)}] Tool run errored with error: ${Gi(e.error,"[error]")}`)}onRetrieverStart(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${Gi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.cyan,"[retriever/end]")} [${t}] [${no(e)}] Exiting Retriever run with output: ${Gi(e.outputs,"[outputs]")}`)}onRetrieverError(e){let t=this.getBreadcrumbs(e);console.log(`${Yn(li.red,"[retriever/error]")} [${t}] [${no(e)}] Retriever run errored with error: ${Gi(e.error,"[error]")}`)}onAgentAction(e){let t=e,r=this.getBreadcrumbs(e);console.log(`${Yn(li.blue,"[agent/action]")} [${r}] Agent selected action: ${Gi(t.actions[t.actions.length-1],"[action]")}`)}},lb,$I=a(()=>{if(lb===void 0){let e=ll("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};lb=new Nd(e)}return lb},"Y9");class TQ{static{a(this,"cX")}getStore(){}run(t,r){return r()}}var ub=Symbol.for("ls:tracing_async_local_storage"),NQ=new TQ;class IQ{static{a(this,"mX")}getInstance(){return globalThis[ub]??NQ}initializeGlobalInstance(t){globalThis[ub]===void 0&&(globalThis[ub]=t)}}var CQ=new IQ;function MQ(e=!1){let t=CQ.getInstance().getStore();if(!e&&t===void 0)throw Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return t}a(MQ,"dX");function K2(e){return typeof e=="function"&&"langsmith:traceable"in e}a(K2,"j9");var OQ={};En(OQ,{LangChainTracer:a(()=>i0,"LangChainTracer")});var i0=class QI extends Uu{static{a(this,"$3")}name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(t={}){super(t);let{exampleId:r,projectName:n,client:i,replicas:s}=t;this.projectName=n??RI(),this.replicas=s,this.exampleId=r,this.client=i??$I();let o=QI.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(t){}async onRunCreate(t){await this.getRunTreeWithTracingConfig(t.id)?.postRun()}async onRunUpdate(t){await this.getRunTreeWithTracingConfig(t.id)?.patchRun()}getRun(t){return this.runTreeMap.get(t)}updateFromRunTree(t){this.runTreeMap.set(t.id,t);let r=t,n=new Set;for(;r.parent_run&&!(n.has(r.id)||(n.add(r.id),!r.parent_run));)r=r.parent_run;n.clear();let i=[r];for(;i.length>0;){let s=i.shift();!s||n.has(s.id)||(n.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&i.push(...s.child_runs))}this.client=t.client??this.client,this.replicas=t.replicas??this.replicas,this.projectName=t.project_name??this.projectName,this.exampleId=t.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(t){let r=this.runTreeMap.get(t);if(r)return new hi({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return MQ(!0)}catch{return}}},cb=Ea(S2(),1),ul;function RQ(){return new("default"in cb.default?cb.default.default:cb.default)({autoStart:!0,concurrency:1})}a(RQ,"sI");function LQ(){return typeof ul>"u"&&(ul=RQ()),ul}a(LQ,"$D");async function gn(e,t){if(t===!0){let r=kd();r!==void 0?await r.run(void 0,async()=>e()):await e()}else ul=LQ(),ul.add(async()=>{let r=kd();r!==void 0?await r.run(void 0,async()=>e()):await e()})}a(gn,"m6");async function DQ(){let e=$I();await Promise.allSettled([typeof ul<"u"?ul.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}a(DQ,"lX");var jQ={};En(jQ,{awaitAllCallbacks:a(()=>DQ,"awaitAllCallbacks"),consumeCallback:a(()=>gn,"consumeCallback")});var PQ=a(e=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(t=>ll(t)==="true"),"rX");function WI(e){let t=kd();if(t!==void 0)return t.getStore()?.[td]?.[e]}a(WI,"eO");var zQ=Symbol("lc:configure_hooks"),BQ=a(()=>WI(zQ)||[],"oX"),FQ={};En(FQ,{BaseCallbackManager:a(()=>XI,"BaseCallbackManager"),BaseRunManager:a(()=>ff,"BaseRunManager"),CallbackManager:a(()=>Il,"CallbackManager"),CallbackManagerForChainRun:a(()=>qI,"CallbackManagerForChainRun"),CallbackManagerForLLMRun:a(()=>Vy,"CallbackManagerForLLMRun"),CallbackManagerForRetrieverRun:a(()=>JI,"CallbackManagerForRetrieverRun"),CallbackManagerForToolRun:a(()=>eC,"CallbackManagerForToolRun"),ensureHandler:a(()=>Id,"ensureHandler"),parseCallbackConfigArg:a(()=>UQ,"parseCallbackConfigArg")});function UQ(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}a(UQ,"PD");var XI=class{static{a(this,"nX")}setHandler(e){return this.setHandlers([e])}},ff=class{static{a(this,"hP")}constructor(e,t,r,n,i,s,o,l){this.runId=e,this.handlers=t,this.inheritableHandlers=r,this.tags=n,this.inheritableTags=i,this.metadata=s,this.inheritableMetadata=o,this._parentRunId=l}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(t=>gn(async()=>{try{await t.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleCustomEvent(e,t,r,n,i){await Promise.all(this.handlers.map(s=>gn(async()=>{try{await s.handleCustomEvent?.(e,t,this.runId,this.tags,this.metadata)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleCustomEvent: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}},JI=class extends ff{static{a(this,"iX")}getChild(e){let t=new Il(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw r}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${r}`),t.raiseError)throw e}},t.awaitHandlers)))}},Vy=class extends ff{static{a(this,"sO")}async handleLLMNewToken(e,t,r,n,i,s){await Promise.all(this.handlers.map(o=>gn(async()=>{if(!o.ignoreLLM)try{await o.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,s)}catch(l){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMNewToken: ${l}`),o.raiseError)throw l}},o.awaitHandlers)))}async handleLLMError(e,t,r,n,i){await Promise.all(this.handlers.map(s=>gn(async()=>{if(!s.ignoreLLM)try{await s.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleLLMEnd(e,t,r,n,i){await Promise.all(this.handlers.map(s=>gn(async()=>{if(!s.ignoreLLM)try{await s.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}},qI=class extends ff{static{a(this,"BX")}getChild(e){let t=new Il(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,r,n,i){await Promise.all(this.handlers.map(s=>gn(async()=>{if(!s.ignoreChain)try{await s.handleChainError?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainError: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleChainEnd(e,t,r,n,i){await Promise.all(this.handlers.map(s=>gn(async()=>{if(!s.ignoreChain)try{await s.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,i)}catch(o){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainEnd: ${o}`),s.raiseError)throw o}},s.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreAgent)try{await t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreAgent)try{await t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},eC=class extends ff{static{a(this,"tX")}getChild(e){let t=new Il(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreAgent)try{await t.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>gn(async()=>{if(!t.ignoreAgent)try{await t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${r}`),t.raiseError)throw r}},t.awaitHandlers)))}},Il=class Kc extends XI{static{a(this,"$4")}handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(t,r){super(),this.handlers=r?.handlers??this.handlers,this.inheritableHandlers=r?.inheritableHandlers??this.inheritableHandlers,this.tags=r?.tags??this.tags,this.inheritableTags=r?.inheritableTags??this.inheritableTags,this.metadata=r?.metadata??this.metadata,this.inheritableMetadata=r?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=t}getParentRunId(){return this._parentRunId}async handleLLMStart(t,r,n=void 0,i=void 0,s=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{let f=d===0&&n?n:Ts();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return tu(g)&&g._createRunForLLMStart(t,[c],f,this._parentRunId,s,this.tags,this.metadata,u),gn(async()=>{try{await g.handleLLMStart?.(t,[c],f,this._parentRunId,s,this.tags,this.metadata,u)}catch(m){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${m}`),g.raiseError)throw m}},g.awaitHandlers)})),new Vy(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(t,r,n=void 0,i=void 0,s=void 0,o=void 0,l=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{let f=d===0&&n?n:Ts();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return tu(g)&&g._createRunForChatModelStart(t,[c],f,this._parentRunId,s,this.tags,this.metadata,u),gn(async()=>{try{if(g.handleChatModelStart)await g.handleChatModelStart?.(t,[c],f,this._parentRunId,s,this.tags,this.metadata,u);else if(g.handleLLMStart){let m=gY(c);await g.handleLLMStart?.(t,[m],f,this._parentRunId,s,this.tags,this.metadata,u)}}catch(m){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${m}`),g.raiseError)throw m}},g.awaitHandlers)})),new Vy(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(t,r,n=Ts(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreChain)return tu(u)&&u._createRunForChainStart(t,r,n,this._parentRunId,this.tags,this.metadata,i,l),gn(async()=>{try{await u.handleChainStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,i,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new qI(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(t,r,n=Ts(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreAgent)return tu(u)&&u._createRunForToolStart(t,r,n,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{try{await u.handleToolStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleToolStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new eC(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(t,r,n=Ts(),i=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(u=>{if(!u.ignoreRetriever)return tu(u)&&u._createRunForRetrieverStart(t,r,n,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{try{await u.handleRetrieverStart?.(t,r,n,this._parentRunId,this.tags,this.metadata,l)}catch(c){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${c}`),u.raiseError)throw c}},u.awaitHandlers)})),new JI(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(t,r,n,i,s){await Promise.all(this.handlers.map(o=>gn(async()=>{if(!o.ignoreCustomEvent)try{await o.handleCustomEvent?.(t,r,n,this.tags,this.metadata)}catch(l){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${l}`),o.raiseError)throw l}},o.awaitHandlers)))}addHandler(t,r=!0){this.handlers.push(t),r&&this.inheritableHandlers.push(t)}removeHandler(t){this.handlers=this.handlers.filter(r=>r!==t),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==t)}setHandlers(t,r=!0){this.handlers=[],this.inheritableHandlers=[];for(let n of t)this.addHandler(n,r)}addTags(t,r=!0){this.removeTags(t),this.tags.push(...t),r&&this.inheritableTags.push(...t)}removeTags(t){this.tags=this.tags.filter(r=>!t.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!t.includes(r))}addMetadata(t,r=!0){this.metadata={...this.metadata,...t},r&&(this.inheritableMetadata={...this.inheritableMetadata,...t})}removeMetadata(t){for(let r of Object.keys(t))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(t=[],r=!0){let n=new Kc(this._parentRunId);for(let i of this.handlers){let s=this.inheritableHandlers.includes(i);n.addHandler(i,s)}for(let i of this.tags){let s=this.inheritableTags.includes(i);n.addTags([i],s)}for(let i of Object.keys(this.metadata)){let s=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},s)}for(let i of t)n.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||n.addHandler(i,r);return n}static fromHandlers(t){class r extends df{static{a(this,"_")}name=Ts();constructor(){super(),Object.assign(this,t)}}let n=new this;return n.addHandler(new r),n}static configure(t,r,n,i,s,o,l){return this._configureSync(t,r,n,i,s,o,l)}static _configureSync(t,r,n,i,s,o,l){let u;(t||r)&&(Array.isArray(t)||!t?(u=new Kc,u.setHandlers(t?.map(Id)??[],!0)):u=t,u=u.copy(Array.isArray(r)?r.map(Id):r?.handlers,!1));let c=ll("LANGCHAIN_VERBOSE")==="true"||l?.verbose,d=i0.getTraceableRunTree()?.tracingEnabled||PQ(),f=d||(ll("LANGCHAIN_TRACING")??!1);if(c||f){if(u||(u=new Kc),c&&!u.handlers.some(g=>g.name===Gy.prototype.name)){let g=new Gy;u.addHandler(g,!0)}if(f&&!u.handlers.some(g=>g.name==="langchain_tracer")&&d){let g=new i0;u.addHandler(g,!0)}if(d){let g=i0.getTraceableRunTree();g&&u._parentRunId===void 0&&(u._parentRunId=g.id,u.handlers.find(m=>m.name==="langchain_tracer")?.updateFromRunTree(g))}}for(let{contextVar:g,inheritable:m=!0,handlerClass:y,envVar:_}of BQ()){let A=_&&ll(_)==="true"&&y,I,O=g!==void 0?WI(g):void 0;O&&CI(O)?I=O:A&&(I=new y({})),I!==void 0&&(u||(u=new Kc),u.handlers.some(R=>R.name===I.name)||u.addHandler(I,m))}return(n||i)&&u&&(u.addTags(n??[]),u.addTags(i??[],!1)),(s||o)&&u&&(u.addMetadata(s??{}),u.addMetadata(o??{},!1)),u}};function Id(e){return"name"in e?e:df.fromMethods(e)}a(Id,"UK");var tC=class{static{a(this,"$Y")}getStore(){}run(e,t){return t()}enterWith(e){}},HQ=new tC,p_=Symbol.for("lc:child_config"),GQ=class{static{a(this,"YD")}getInstance(){return kd()??HQ}getRunnableConfig(){return this.getInstance().getStore()?.extra?.[p_]}runWithConfig(e,t,r){let n=Il._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),i=this.getInstance(),s=i.getStore(),o=n?.getParentRunId(),l=n?.handlers?.find(c=>c?.name==="langchain_tracer"),u;return l&&o?u=l.getRunTreeWithTracingConfig(o):r||(u=new hi({name:"<runnable_lambda>",tracingEnabled:!1})),u&&(u.extra={...u.extra,[p_]:e}),s!==void 0&&s[td]!==void 0&&(u===void 0&&(u={}),u[td]=s[td]),i.run(u,t)}initializeGlobalInstance(e){kd()===void 0&&TZ(e)}},Hs=new GQ,VQ={};En(VQ,{AsyncLocalStorageProviderSingleton:a(()=>Hs,"AsyncLocalStorageProviderSingleton"),MockAsyncLocalStorage:a(()=>tC,"MockAsyncLocalStorage"),_CONTEXT_VARIABLES_KEY:a(()=>td,"_CONTEXT_VARIABLES_KEY")});var db=25;async function pa(e){return Il._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}a(pa,"T8");function m_(...e){let t={};for(let r of e.filter(n=>!!n))for(let n of Object.keys(r))if(n==="metadata")t[n]={...t[n],...r[n]};else if(n==="tags"){let i=t[n]??[];t[n]=[...new Set(i.concat(r[n]??[]))]}else if(n==="configurable")t[n]={...t[n],...r[n]};else if(n==="timeout")t.timeout===void 0?t.timeout=r.timeout:r.timeout!==void 0&&(t.timeout=Math.min(t.timeout,r.timeout));else if(n==="signal")t.signal===void 0?t.signal=r.signal:r.signal!==void 0&&("any"in AbortSignal?t.signal=AbortSignal.any([t.signal,r.signal]):t.signal=r.signal);else if(n==="callbacks"){let i=t.callbacks,s=r.callbacks;if(Array.isArray(s))if(!i)t.callbacks=s;else if(Array.isArray(i))t.callbacks=i.concat(s);else{let o=i.copy();for(let l of s)o.addHandler(Id(l),!0);t.callbacks=o}else if(s)if(!i)t.callbacks=s;else if(Array.isArray(i)){let o=s.copy();for(let l of i)o.addHandler(Id(l),!0);t.callbacks=o}else t.callbacks=new Il(s._parentRunId,{handlers:i.handlers.concat(s.handlers),inheritableHandlers:i.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(s.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(s.inheritableTags))),metadata:{...i.metadata,...s.metadata}})}else{let i=n;t[i]=r[i]??t[i]}return t}a(m_,"qY");var KQ=new Set(["string","number","boolean"]);function Rr(e){let t=Hs.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){let{runId:n,runName:i,...s}=t;r=Object.entries(s).reduce((o,[l,u])=>(u!==void 0&&(o[l]=u),o),r)}if(e&&(r=Object.entries(e).reduce((n,[i,s])=>(s!==void 0&&(n[i]=s),n),r)),r?.configurable)for(let n of Object.keys(r.configurable))KQ.has(typeof r.configurable[n])&&!r.metadata?.[n]&&(r.metadata||(r.metadata={}),r.metadata[n]=r.configurable[n]);if(r.timeout!==void 0){if(r.timeout<=0)throw Error("Timeout must be a positive number");let n=AbortSignal.timeout(r.timeout);r.signal!==void 0?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,n])):r.signal=n,delete r.timeout}return r}a(Rr,"N6");function Xn(e={},{callbacks:t,maxConcurrency:r,recursionLimit:n,runName:i,configurable:s,runId:o}={}){let l=Rr(e);return t!==void 0&&(delete l.runName,l.callbacks=t),n!==void 0&&(l.recursionLimit=n),r!==void 0&&(l.maxConcurrency=r),i!==void 0&&(l.runName=i),s!==void 0&&(l.configurable={...l.configurable,...s}),o!==void 0&&delete l.runId,l}a(Xn,"hq");function xu(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}a(xu,"v_");async function wo(e,t){if(t===void 0)return e;let r;return Promise.race([e.catch(n=>{if(!t?.aborted)throw n}),new Promise((n,i)=>{r=a(()=>{i(A0(t))},"_"),t.addEventListener("abort",r),t.aborted&&i(A0(t))})]).finally(()=>t.removeEventListener("abort",r))}a(wo,"o8");function A0(e){return e?.reason instanceof Error?e.reason:typeof e?.reason=="string"?Error(e.reason):Error("Aborted")}a(A0,"FK");var ZQ={};En(ZQ,{AsyncGeneratorWithSetup:a(()=>Cl,"AsyncGeneratorWithSetup"),IterableReadableStream:a(()=>ya,"IterableReadableStream"),atee:a(()=>Z2,"atee"),concat:a(()=>Y2,"concat"),pipeGeneratorWithSetup:a(()=>rC,"pipeGeneratorWithSetup")});var ya=class Ky extends ReadableStream{static{a(this,"$5")}reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let t=await this.reader.read();return t.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:t.value}}catch(t){throw this.reader.releaseLock(),t}}async return(){if(this.ensureReader(),this.locked){let t=this.reader.cancel();this.reader.releaseLock(),await t}return{done:!0,value:void 0}}async throw(t){if(this.ensureReader(),this.locked){let r=this.reader.cancel();this.reader.releaseLock(),await r}throw t}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(t){let r=t.getReader();return new Ky({start(n){return i();function i(){return r.read().then(({done:s,value:o})=>{if(s){n.close();return}return n.enqueue(o),i()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(t){return new Ky({async pull(r){let{value:n,done:i}=await t.next();i&&r.close(),r.enqueue(n)},async cancel(r){await t.return(r)}})}};function Z2(e,t=2){let r=Array.from({length:t},()=>[]);return r.map(async function*(n){for(;;)if(n.length===0){let i=await e.next();for(let s of r)s.push(i)}else{if(n[0].done)return;yield n.shift().value}})}a(Z2,"W9");function Y2(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(typeof e=="string"&&typeof t=="string")return e+t;if(typeof e=="number"&&typeof t=="number")return e+t;if("concat"in e&&typeof e.concat=="function")return e.concat(t);if(typeof e=="object"&&typeof t=="object"){let r={...e};for(let[n,i]of Object.entries(t))n in r&&!Array.isArray(r[n])?r[n]=Y2(r[n],i):r[n]=i;return r}else throw Error(`Cannot concat ${typeof e} and ${typeof t}`)}a(Y2,"J9");var Cl=class{static{a(this,"c_")}generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((t,r)=>{Hs.runWithConfig(xu(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,r):this.firstResult.then(n=>t(void 0),r)},!0)})}async next(...e){return this.signal?.throwIfAborted(),this.firstResultUsed?Hs.runWithConfig(xu(this.config),this.signal?async()=>wo(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function rC(e,t,r,n,...i){let s=new Cl({generator:t,startSetup:r,signal:n}),o=await s.setup;return{output:e(s,o,...i),setup:o}}a(rC,"_Y");var YQ=Object.prototype.hasOwnProperty;function $Q(e,t){return YQ.call(e,t)}a($Q,"aX");function QQ(e){if(Array.isArray(e)){let r=Array(e.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)$Q(e,r)&&t.push(r);return t}a(QQ,"QX");function yl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}a(yl,"I8");function Zy(e){let t=0,r=e.length,n;for(;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}a(Zy,"T9");function WQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}a(WQ,"w9");function Yy(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Yy(e[r]))return!0}else if(typeof e=="object"){let r=QQ(e),n=r.length;for(var t=0;t<n;t++)if(Yy(e[r[t]]))return!0}}return!1}a(Yy,"H9");function g_(e,t){let r=[e];for(let n in t){let i=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof i<"u"&&r.push(`${n}: ${i}`)}return r.join(`
`)}a(g_,"FX");var XQ=class extends Error{static{a(this,"f9")}constructor(e,t,r,n,i){super(g_(e,{name:t,index:r,operation:n,tree:i})),this.name=t,this.index=r,this.operation=n,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=g_(e,{name:t,index:r,operation:n,tree:i})}},nC={};En(nC,{JsonPatchError:a(()=>sn,"JsonPatchError"),_areEquals:a(()=>Md,"_areEquals"),applyOperation:a(()=>cl,"applyOperation"),applyPatch:a(()=>Cd,"applyPatch"),applyReducer:a(()=>eW,"applyReducer"),deepClone:a(()=>JQ,"deepClone"),getValueByPointer:a(()=>T0,"getValueByPointer"),validate:a(()=>iC,"validate"),validator:a(()=>N0,"validator")});var sn=XQ,JQ=yl,ou={add:a(function(e,t,r){return e[t]=this.value,{newDocument:r}},"add"),remove:a(function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},"remove"),replace:a(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:a(function(e,t,r){let n=T0(r,this.path);n&&(n=yl(n));let i=cl(r,{op:"remove",path:this.from}).removed;return cl(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},"move"),copy:a(function(e,t,r){let n=T0(r,this.from);return cl(r,{op:"add",path:this.path,value:yl(n)}),{newDocument:r}},"copy"),test:a(function(e,t,r){return{newDocument:r,test:Md(e[t],this.value)}},"test"),_get:a(function(e,t,r){return this.value=e[t],{newDocument:r}},"_get")},qQ={add:a(function(e,t,r){return Zy(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},"add"),remove:a(function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},"remove"),replace:a(function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},"replace"),move:ou.move,copy:ou.copy,test:ou.test,_get:ou._get};function T0(e,t){if(t=="")return e;var r={op:"_get",path:t};return cl(e,r),r.value}a(T0,"RP");function cl(e,t,r=!1,n=!0,i=!0,s=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):N0(t,0)),t.path===""){let o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=T0(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Md(e,t.value),o.test===!1)throw new sn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(r)throw new sn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{n||(e=yl(e));let o=(t.path||"").split("/"),l=e,u=1,c=o.length,d,f,g;for(typeof r=="function"?g=r:g=N0;;){if(f=o[u],f&&f.indexOf("~")!=-1&&(f=WQ(f)),i&&(f=="__proto__"||f=="prototype"&&u>0&&o[u-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(l[f]===void 0?d=o.slice(0,u).join("/"):u==c-1&&(d=t.path),d!==void 0&&g(t,0,e,d)),u++,Array.isArray(l)){if(f==="-")f=l.length;else{if(r&&!Zy(f))throw new sn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);Zy(f)&&(f=~~f)}if(u>=c){if(r&&t.op==="add"&&f>l.length)throw new sn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);let m=qQ[t.op].call(t,l,f,e);if(m.test===!1)throw new sn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return m}}else if(u>=c){let m=ou[t.op].call(t,l,f,e);if(m.test===!1)throw new sn("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return m}if(l=l[f],r&&u<c&&(!l||typeof l!="object"))throw new sn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}a(cl,"m_");function Cd(e,t,r,n=!0,i=!0){if(r&&!Array.isArray(t))throw new sn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=yl(e));let s=Array(t.length);for(let o=0,l=t.length;o<l;o++)s[o]=cl(e,t[o],r,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}a(Cd,"HK");function eW(e,t,r){let n=cl(e,t);if(n.test===!1)throw new sn("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}a(eW,"eX");function N0(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new sn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(ou[e.op]){if(typeof e.path!="string")throw new sn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new sn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new sn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new sn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Yy(e.value))throw new sn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var i=e.path.split("/").length,s=n.split("/").length;if(i!==s+1&&i!==s)throw new sn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new sn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},l=iC([o],r);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new sn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new sn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}a(N0,"IP");function iC(e,t,r){try{if(!Array.isArray(e))throw new sn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Cd(yl(t),yl(e),r||!0);else{r=r||N0;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(i){if(i instanceof sn)return i;throw i}}a(iC,"OY");function Md(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),i,s,o;if(r&&n){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Md(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var l=Object.keys(e);if(s=l.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(l[i]))return!1;for(i=s;i--!==0;)if(o=l[i],!Md(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}a(Md,"QK");({...nC});var tW={};En(tW,{LogStreamCallbackHandler:a(()=>Qy,"LogStreamCallbackHandler"),RunLog:a(()=>$2,"RunLog"),RunLogPatch:a(()=>Ns,"RunLogPatch"),isLogStreamHandler:a(()=>aC,"isLogStreamHandler")});var Ns=class{static{a(this,"n8")}ops;constructor(e){this.ops=e.ops??[]}concat(e){let t=this.ops.concat(e.ops),r=Cd({},t);return new $2({ops:t,state:r[r.length-1].newDocument})}},$2=class $y extends Ns{static{a(this,"$7")}state;constructor(t){super(t),this.state=t.state}concat(t){let r=this.ops.concat(t.ops),n=Cd(this.state,t.ops);return new $y({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(t){let r=Cd({},t.ops);return new $y({ops:t.ops,state:r[r.length-1].newDocument})}},aC=a(e=>e.name==="log_stream_tracer","YY");async function b_(e,t){if(t==="original")throw Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=e;if(["retriever","llm","prompt"].includes(e.run_type))return r;if(!(Object.keys(r).length===1&&r?.input===""))return r.input}a(b_,"sX");async function v_(e,t){let{outputs:r}=e;return t==="original"||["retriever","llm","prompt"].includes(e.run_type)?r:r!==void 0&&Object.keys(r).length===1&&r?.output!==void 0?r.output:r}a(v_,"$A");function rW(e){return e!==void 0&&e.message!==void 0}a(rW,"wD");var Qy=class extends Uu{static{a(this,"X9")}autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ya.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;let t=e.tags??[],r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||t.find(n=>this.includeTags?.includes(n))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&t.every(n=>!this.excludeTags?.includes(n))),r}async*tapOutputIterable(e,t){for await(let r of t){if(e!==this.rootId){let n=this.keyMapByRunId[e];n&&await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${n}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ns({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;let t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;let r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await b_(e,this._schemaFormat)),await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{let t=this.keyMapByRunId[e.id];if(t===void 0)return;let r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${t}/inputs`,value:await b_(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${t}/final_output`,value:await v_(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});let n=new Ns({ops:r});await this.writer.write(n)}finally{if(e.id===this.rootId){let t=new Ns({ops:[{op:"replace",path:"/final_output",value:await v_(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,r){let n=this.keyMapByRunId[e.id];if(n===void 0)return;let i=e.inputs.messages!==void 0,s;i?rW(r?.chunk)?s=r?.chunk:s=new EI({id:`run-${e.id}`,content:t}):s=t;let o=new Ns({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${n}/streamed_output/-`,value:s}]});await this.writer.write(o)}},nW={};En(nW,{ChatGenerationChunk:a(()=>aW,"ChatGenerationChunk"),GenerationChunk:a(()=>I0,"GenerationChunk"),RUN_KEY:a(()=>iW,"RUN_KEY")});var iW="__run",I0=class sC{static{a(this,"$10")}text;generationInfo;constructor(t){this.text=t.text,this.generationInfo=t.generationInfo}concat(t){return new sC({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}},aW=class oC extends I0{static{a(this,"$11")}message;constructor(t){super(t),this.message=t.message}concat(t){return new oC({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo},message:this.message.concat(t.message)})}};function dh({name:e,serialized:t}){return e!==void 0?e:t?.name!==void 0?t.name:t?.id!==void 0&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}a(dh,"A9");var sW=a(e=>e.name==="event_stream_tracer","qA"),oW=class extends Uu{static{a(this,"_A")}autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ya.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){let t=e.tags??[],r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||t.find(n=>this.includeTags?.includes(n))!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&t.every(n=>!this.excludeTags?.includes(n))),r}async*tapOutputIterable(e,t){let r=await t.next();if(r.done)return;let n=this.runInfoMap.get(e);if(n===void 0){yield r.value;return}function i(o,l){return o==="llm"&&typeof l=="string"?new I0({text:l}):l}a(i,"P");let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{let l={event:`on_${n.runType}_stream`,run_id:e,name:n.name,tags:n.tags,metadata:n.metadata,data:{}};await this.send({...l,data:{chunk:i(n.runType,r.value)}},n),yield r.value;for await(let u of t)n.runType!=="tool"&&n.runType!=="retriever"&&await this.send({...l,data:{chunk:i(n.runType,u)}},n),yield u}finally{o?.()}}else{yield r.value;for await(let o of t)yield o}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){let r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,t)}):await this.send(e,t)}async onLLMStart(e){let t=dh(e),r=e.inputs.messages!==void 0?"chat_model":"llm",n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,n);let i=`on_${r}_start`;await this.send({event:i,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onLLMNewToken(e,t,r){let n=this.runInfoMap.get(e.id),i,s;if(n===void 0)throw Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(n.runType==="chat_model")s="on_chat_model_stream",r?.chunk===void 0?i=new EI({content:t,id:`run-${e.id}`}):i=r.chunk.message;else if(n.runType==="llm")s="on_llm_stream",r?.chunk===void 0?i=new I0({text:t}):i=r.chunk;else throw Error(`Unexpected run type ${n.runType}`);await this.send({event:s,data:{chunk:i},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}}async onLLMEnd(e){let t=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(t===void 0)throw Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);let n=e.outputs?.generations,i;if(t.runType==="chat_model"){for(let s of n??[]){if(i!==void 0)break;i=s[0]?.message}r="on_chat_model_end"}else if(t.runType==="llm")i={generations:n?.map(s=>s.map(o=>({text:o.text,generationInfo:o.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},r="on_llm_end";else throw Error(`onLLMEnd: Unexpected run type: ${t.runType}`);await this.sendEndEvent({event:r,data:{output:i,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){let t=dh(e),r=e.run_type??"chain",n={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type},i={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(i={},n.inputs={}):e.inputs.input!==void 0?(i.input=e.inputs.input,n.inputs=e.inputs.input):(i.input=e.inputs,n.inputs=e.inputs),this.runInfoMap.set(e.id,n),await this.send({event:`on_${r}_start`,data:i,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},n)}async onChainEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onChainEnd: Run ID ${e.id} not found in run map.`);let r=`on_${e.run_type}_end`,n=e.inputs??t.inputs??{},i={output:e.outputs?.output??e.outputs,input:n};n.input&&Object.keys(n).length===1&&(i.input=n.input,t.inputs=n.input),await this.sendEndEvent({event:r,data:i,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){let t=dh(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},r)}async onToolEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(t.inputs===void 0)throw Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);let r=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){let t=dh(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,r),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onRetrieverEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),t===void 0)throw Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,r){let n=this.runInfoMap.get(r);if(n===void 0)throw Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:n.tags,metadata:n.metadata,data:t},n)}async finish(){let e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}},lW=Object.prototype.toString,uW=a(e=>lW.call(e)==="[object Error]","kD"),cW=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function dW(e){if(!(e&&uW(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;let{message:t,stack:r}=e;return t==="Load failed"?r===void 0||"__sentry_captured__"in e:t.startsWith("error sending request for url")?!0:cW.has(t)}a(dW,"KA");function fW(e){if(typeof e=="number"){if(e<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw TypeError("Expected `retries` to be a number or Infinity.")}a(fW,"VD");function fh(e,t,{min:r=0,allowInfinity:n=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw TypeError(`Expected \`${e}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(t))throw TypeError(`Expected \`${e}\` to be a finite number.`);if(t<r)throw TypeError(`Expected \`${e}\` to be  ${r}.`)}}a(fh,"k9");var hW=class extends Error{static{a(this,"SD")}constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function pW(e,t){let r=Math.max(1,e+1),n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*t.factor**(r-1));return i=Math.min(i,t.maxTimeout),i}a(pW,"MD");function y_(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}a(y_,"PA");async function mW({error:e,attemptNumber:t,retriesConsumed:r,startTime:n,options:i}){let s=e instanceof Error?e:TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(s instanceof hW)throw s.originalError;let o=Number.isFinite(i.retries)?Math.max(0,i.retries-r):i.retries,l=i.maxRetryTime??Number.POSITIVE_INFINITY,u=Object.freeze({error:s,attemptNumber:t,retriesLeft:o,retriesConsumed:r});if(await i.onFailedAttempt(u),y_(n,l)<=0)throw s;let c=await i.shouldConsumeRetry(u),d=y_(n,l);if(d<=0||o<=0)throw s;if(s instanceof TypeError&&!dW(s)){if(c)throw s;return i.signal?.throwIfAborted(),!1}if(!await i.shouldRetry(u))throw s;if(!c)return i.signal?.throwIfAborted(),!1;let f=pW(r,i),g=Math.min(f,d);return g>0&&await new Promise((m,y)=>{let _=a(()=>{clearTimeout(A),i.signal?.removeEventListener("abort",_),y(i.signal.reason)},"h"),A=setTimeout(()=>{i.signal?.removeEventListener("abort",_),m()},g);i.unref&&A.unref?.(),i.signal?.addEventListener("abort",_,{once:!0})}),i.signal?.throwIfAborted(),!0}a(mW,"ND");async function Wy(e,t={}){if(t={...t},fW(t.retries),Object.hasOwn(t,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=Number.POSITIVE_INFINITY,t.maxRetryTime??=Number.POSITIVE_INFINITY,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,fh("factor",t.factor,{min:0,allowInfinity:!1}),fh("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),fh("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),fh("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),!(t.factor>0)&&(t.factor=1),t.signal?.throwIfAborted();let r=0,n=0,i=performance.now();for(;!Number.isFinite(t.retries)||n<=t.retries;){r++;try{t.signal?.throwIfAborted();let s=await e(r);return t.signal?.throwIfAborted(),s}catch(s){await mW({error:s,attemptNumber:r,retriesConsumed:n,startTime:i,options:t})&&n++}}throw Error("Retry attempts exhausted without throwing an error.")}a(Wy,"LP");var fb=Ea(S2(),1),gW={};En(gW,{AsyncCaller:a(()=>Q2,"AsyncCaller")});var bW=[400,401,402,403,404,405,406,407,409],vW=a(e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status??e?.status;if(t&&bW.includes(+t))throw e;if(e?.error?.code==="insufficient_quota"){let r=Error(e?.message);throw r.name="InsufficientQuotaError",r}},"hD"),Q2=class{static{a(this,"gP")}maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??vW;let t="default"in fb.default?fb.default.default:fb.default;this.queue=new t({concurrency:this.maxConcurrency})}async call(e,...t){return this.queue.add(()=>Wy(()=>e(...t).catch(r=>{throw r instanceof Error?r:Error(r)}),{onFailedAttempt:a(({error:r})=>this.onFailedAttempt?.(r),"onFailedAttempt"),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){if(e.signal){let n;return Promise.race([this.call(t,...r),new Promise((i,s)=>{n=a(()=>{s(A0(e.signal))},"K"),e.signal?.addEventListener("abort",n)})]).finally(()=>{e.signal&&n&&e.signal.removeEventListener("abort",n)})}return this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}},lC=class extends Uu{static{a(this,"jY")}name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:t,onEnd:r,onError:n}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=t,this.argOnEnd=r,this.argOnError=n}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function W2(e){return e?e.lc_runnable:!1}a(W2,"bP");var yW=class{static{a(this,"OA")}includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,n=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(t)),this.includeTags!==void 0&&(r=r||n.some(i=>this.includeTags?.includes(i))),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(t)),this.excludeTags!==void 0&&(r=r&&n.every(i=>!this.excludeTags?.includes(i))),r}},wW=a(e=>btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),"YA"),uC={};yi(uC,{version:a(()=>AM,"version"),util:a(()=>yr,"util"),treeifyError:a(()=>EC,"treeifyError"),toJSONSchema:a(()=>P0,"toJSONSchema"),toDotPath:a(()=>SC,"toDotPath"),safeParseAsync:a(()=>TC,"safeParseAsync"),safeParse:a(()=>AC,"safeParse"),safeEncodeAsync:a(()=>qW,"safeEncodeAsync"),safeEncode:a(()=>XW,"safeEncode"),safeDecodeAsync:a(()=>eX,"safeDecodeAsync"),safeDecode:a(()=>JW,"safeDecode"),registry:a(()=>E4,"registry"),regexes:a(()=>Ol,"regexes"),prettifyError:a(()=>kC,"prettifyError"),parseAsync:a(()=>L0,"parseAsync"),parse:a(()=>Jy,"parse"),meta:a(()=>MR,"meta"),locales:a(()=>x4,"locales"),isValidJWT:a(()=>XM,"isValidJWT"),isValidBase64URL:a(()=>$M,"isValidBase64URL"),isValidBase64:a(()=>h4,"isValidBase64"),globalRegistry:a(()=>Cn,"globalRegistry"),globalConfig:a(()=>C0,"globalConfig"),formatError:a(()=>t4,"formatError"),flattenError:a(()=>e4,"flattenError"),encodeAsync:a(()=>QW,"encodeAsync"),encode:a(()=>YW,"encode"),describe:a(()=>CR,"describe"),decodeAsync:a(()=>WW,"decodeAsync"),decode:a(()=>$W,"decode"),config:a(()=>ti,"config"),clone:a(()=>In,"clone"),_xid:a(()=>L4,"_xid"),_void:a(()=>mR,"_void"),_uuidv7:a(()=>N4,"_uuidv7"),_uuidv6:a(()=>T4,"_uuidv6"),_uuidv4:a(()=>A4,"_uuidv4"),_uuid:a(()=>k4,"_uuid"),_url:a(()=>sm,"_url"),_uppercase:a(()=>$4,"_uppercase"),_unknown:a(()=>pR,"_unknown"),_union:a(()=>gq,"_union"),_undefined:a(()=>dR,"_undefined"),_ulid:a(()=>R4,"_ulid"),_uint64:a(()=>uR,"_uint64"),_uint32:a(()=>nR,"_uint32"),_tuple:a(()=>yq,"_tuple"),_trim:a(()=>e6,"_trim"),_transform:a(()=>Aq,"_transform"),_toUpperCase:a(()=>r6,"_toUpperCase"),_toLowerCase:a(()=>t6,"_toLowerCase"),_templateLiteral:a(()=>Dq,"_templateLiteral"),_symbol:a(()=>cR,"_symbol"),_superRefine:a(()=>NR,"_superRefine"),_success:a(()=>Mq,"_success"),_stringbool:a(()=>OR,"_stringbool"),_stringFormat:a(()=>_f,"_stringFormat"),_string:a(()=>GO,"_string"),_startsWith:a(()=>W4,"_startsWith"),_slugify:a(()=>n6,"_slugify"),_size:a(()=>K4,"_size"),_set:a(()=>_q,"_set"),_safeParseAsync:a(()=>bf,"_safeParseAsync"),_safeParse:a(()=>gf,"_safeParse"),_safeEncodeAsync:a(()=>l4,"_safeEncodeAsync"),_safeEncode:a(()=>s4,"_safeEncode"),_safeDecodeAsync:a(()=>u4,"_safeDecodeAsync"),_safeDecode:a(()=>o4,"_safeDecode"),_regex:a(()=>Z4,"_regex"),_refine:a(()=>TR,"_refine"),_record:a(()=>wq,"_record"),_readonly:a(()=>Lq,"_readonly"),_property:a(()=>ER,"_property"),_promise:a(()=>Pq,"_promise"),_positive:a(()=>yR,"_positive"),_pipe:a(()=>Rq,"_pipe"),_parseAsync:a(()=>mf,"_parseAsync"),_parse:a(()=>pf,"_parse"),_overwrite:a(()=>Oo,"_overwrite"),_optional:a(()=>Tq,"_optional"),_number:a(()=>XO,"_number"),_nullable:a(()=>Nq,"_nullable"),_null:a(()=>fR,"_null"),_normalize:a(()=>q4,"_normalize"),_nonpositive:a(()=>xR,"_nonpositive"),_nonoptional:a(()=>Cq,"_nonoptional"),_nonnegative:a(()=>_R,"_nonnegative"),_never:a(()=>V4,"_never"),_negative:a(()=>wR,"_negative"),_nativeEnum:a(()=>Sq,"_nativeEnum"),_nanoid:a(()=>C4,"_nanoid"),_nan:a(()=>vR,"_nan"),_multipleOf:a(()=>Od,"_multipleOf"),_minSize:a(()=>Rd,"_minSize"),_minLength:a(()=>Su,"_minLength"),_min:a(()=>Mi,"_min"),_mime:a(()=>J4,"_mime"),_maxSize:a(()=>om,"_maxSize"),_maxLength:a(()=>lm,"_maxLength"),_max:a(()=>ma,"_max"),_map:a(()=>xq,"_map"),_mac:a(()=>KO,"_mac"),_lte:a(()=>ma,"_lte"),_lt:a(()=>xl,"_lt"),_lowercase:a(()=>Y4,"_lowercase"),_literal:a(()=>kq,"_literal"),_length:a(()=>um,"_length"),_lazy:a(()=>jq,"_lazy"),_ksuid:a(()=>D4,"_ksuid"),_jwt:a(()=>G4,"_jwt"),_isoTime:a(()=>QO,"_isoTime"),_isoDuration:a(()=>WO,"_isoDuration"),_isoDateTime:a(()=>YO,"_isoDateTime"),_isoDate:a(()=>$O,"_isoDate"),_ipv6:a(()=>P4,"_ipv6"),_ipv4:a(()=>j4,"_ipv4"),_intersection:a(()=>vq,"_intersection"),_int64:a(()=>lR,"_int64"),_int32:a(()=>rR,"_int32"),_int:a(()=>qO,"_int"),_includes:a(()=>Q4,"_includes"),_guid:a(()=>j0,"_guid"),_gte:a(()=>Mi,"_gte"),_gt:a(()=>_l,"_gt"),_float64:a(()=>tR,"_float64"),_float32:a(()=>eR,"_float32"),_file:a(()=>kR,"_file"),_enum:a(()=>Eq,"_enum"),_endsWith:a(()=>X4,"_endsWith"),_encodeAsync:a(()=>i4,"_encodeAsync"),_encode:a(()=>r4,"_encode"),_emoji:a(()=>I4,"_emoji"),_email:a(()=>S4,"_email"),_e164:a(()=>H4,"_e164"),_discriminatedUnion:a(()=>bq,"_discriminatedUnion"),_default:a(()=>Iq,"_default"),_decodeAsync:a(()=>a4,"_decodeAsync"),_decode:a(()=>n4,"_decode"),_date:a(()=>gR,"_date"),_custom:a(()=>AR,"_custom"),_cuid2:a(()=>O4,"_cuid2"),_cuid:a(()=>M4,"_cuid"),_coercedString:a(()=>VO,"_coercedString"),_coercedNumber:a(()=>JO,"_coercedNumber"),_coercedDate:a(()=>bR,"_coercedDate"),_coercedBoolean:a(()=>aR,"_coercedBoolean"),_coercedBigint:a(()=>oR,"_coercedBigint"),_cidrv6:a(()=>B4,"_cidrv6"),_cidrv4:a(()=>z4,"_cidrv4"),_check:a(()=>IR,"_check"),_catch:a(()=>Oq,"_catch"),_boolean:a(()=>iR,"_boolean"),_bigint:a(()=>sR,"_bigint"),_base64url:a(()=>U4,"_base64url"),_base64:a(()=>F4,"_base64"),_array:a(()=>SR,"_array"),_any:a(()=>hR,"_any"),TimePrecision:a(()=>ZO,"TimePrecision"),NEVER:a(()=>cC,"NEVER"),JSONSchemaGenerator:a(()=>e1,"JSONSchemaGenerator"),JSONSchema:a(()=>zq,"JSONSchema"),Doc:a(()=>kM,"Doc"),$output:a(()=>UO,"$output"),$input:a(()=>HO,"$input"),$constructor:a(()=>Ge,"$constructor"),$brand:a(()=>dC,"$brand"),$ZodXID:a(()=>jM,"$ZodXID"),$ZodVoid:a(()=>oO,"$ZodVoid"),$ZodUnknown:a(()=>sO,"$ZodUnknown"),$ZodUnion:a(()=>v4,"$ZodUnion"),$ZodUndefined:a(()=>nO,"$ZodUndefined"),$ZodUUID:a(()=>NM,"$ZodUUID"),$ZodURL:a(()=>CM,"$ZodURL"),$ZodULID:a(()=>DM,"$ZodULID"),$ZodType:a(()=>er,"$ZodType"),$ZodTuple:a(()=>y4,"$ZodTuple"),$ZodTransform:a(()=>_O,"$ZodTransform"),$ZodTemplateLiteral:a(()=>RO,"$ZodTemplateLiteral"),$ZodSymbol:a(()=>rO,"$ZodSymbol"),$ZodSuccess:a(()=>NO,"$ZodSuccess"),$ZodStringFormat:a(()=>jr,"$ZodStringFormat"),$ZodString:a(()=>xf,"$ZodString"),$ZodSet:a(()=>vO,"$ZodSet"),$ZodRegistry:a(()=>_4,"$ZodRegistry"),$ZodRecord:a(()=>gO,"$ZodRecord"),$ZodRealError:a(()=>Bi,"$ZodRealError"),$ZodReadonly:a(()=>OO,"$ZodReadonly"),$ZodPromise:a(()=>DO,"$ZodPromise"),$ZodPrefault:a(()=>AO,"$ZodPrefault"),$ZodPipe:a(()=>MO,"$ZodPipe"),$ZodOptional:a(()=>EO,"$ZodOptional"),$ZodObjectJIT:a(()=>hO,"$ZodObjectJIT"),$ZodObject:a(()=>fO,"$ZodObject"),$ZodNumberFormat:a(()=>eO,"$ZodNumberFormat"),$ZodNumber:a(()=>p4,"$ZodNumber"),$ZodNullable:a(()=>SO,"$ZodNullable"),$ZodNull:a(()=>iO,"$ZodNull"),$ZodNonOptional:a(()=>TO,"$ZodNonOptional"),$ZodNever:a(()=>b4,"$ZodNever"),$ZodNanoID:a(()=>OM,"$ZodNanoID"),$ZodNaN:a(()=>CO,"$ZodNaN"),$ZodMap:a(()=>bO,"$ZodMap"),$ZodMAC:a(()=>VM,"$ZodMAC"),$ZodLiteral:a(()=>wO,"$ZodLiteral"),$ZodLazy:a(()=>jO,"$ZodLazy"),$ZodKSUID:a(()=>PM,"$ZodKSUID"),$ZodJWT:a(()=>JM,"$ZodJWT"),$ZodIntersection:a(()=>mO,"$ZodIntersection"),$ZodISOTime:a(()=>FM,"$ZodISOTime"),$ZodISODuration:a(()=>UM,"$ZodISODuration"),$ZodISODateTime:a(()=>zM,"$ZodISODateTime"),$ZodISODate:a(()=>BM,"$ZodISODate"),$ZodIPv6:a(()=>GM,"$ZodIPv6"),$ZodIPv4:a(()=>HM,"$ZodIPv4"),$ZodGUID:a(()=>TM,"$ZodGUID"),$ZodFunction:a(()=>LO,"$ZodFunction"),$ZodFile:a(()=>xO,"$ZodFile"),$ZodError:a(()=>q2,"$ZodError"),$ZodEnum:a(()=>yO,"$ZodEnum"),$ZodEncodeError:a(()=>rm,"$ZodEncodeError"),$ZodEmoji:a(()=>MM,"$ZodEmoji"),$ZodEmail:a(()=>IM,"$ZodEmail"),$ZodE164:a(()=>WM,"$ZodE164"),$ZodDiscriminatedUnion:a(()=>pO,"$ZodDiscriminatedUnion"),$ZodDefault:a(()=>kO,"$ZodDefault"),$ZodDate:a(()=>lO,"$ZodDate"),$ZodCustomStringFormat:a(()=>qM,"$ZodCustomStringFormat"),$ZodCustom:a(()=>PO,"$ZodCustom"),$ZodCodec:a(()=>w4,"$ZodCodec"),$ZodCheckUpperCase:a(()=>vM,"$ZodCheckUpperCase"),$ZodCheckStringFormat:a(()=>wf,"$ZodCheckStringFormat"),$ZodCheckStartsWith:a(()=>wM,"$ZodCheckStartsWith"),$ZodCheckSizeEquals:a(()=>fM,"$ZodCheckSizeEquals"),$ZodCheckRegex:a(()=>gM,"$ZodCheckRegex"),$ZodCheckProperty:a(()=>_M,"$ZodCheckProperty"),$ZodCheckOverwrite:a(()=>SM,"$ZodCheckOverwrite"),$ZodCheckNumberFormat:a(()=>lM,"$ZodCheckNumberFormat"),$ZodCheckMultipleOf:a(()=>oM,"$ZodCheckMultipleOf"),$ZodCheckMinSize:a(()=>dM,"$ZodCheckMinSize"),$ZodCheckMinLength:a(()=>pM,"$ZodCheckMinLength"),$ZodCheckMimeType:a(()=>EM,"$ZodCheckMimeType"),$ZodCheckMaxSize:a(()=>cM,"$ZodCheckMaxSize"),$ZodCheckMaxLength:a(()=>hM,"$ZodCheckMaxLength"),$ZodCheckLowerCase:a(()=>bM,"$ZodCheckLowerCase"),$ZodCheckLessThan:a(()=>d4,"$ZodCheckLessThan"),$ZodCheckLengthEquals:a(()=>mM,"$ZodCheckLengthEquals"),$ZodCheckIncludes:a(()=>yM,"$ZodCheckIncludes"),$ZodCheckGreaterThan:a(()=>f4,"$ZodCheckGreaterThan"),$ZodCheckEndsWith:a(()=>xM,"$ZodCheckEndsWith"),$ZodCheckBigIntFormat:a(()=>uM,"$ZodCheckBigIntFormat"),$ZodCheck:a(()=>Wr,"$ZodCheck"),$ZodCatch:a(()=>IO,"$ZodCatch"),$ZodCUID2:a(()=>LM,"$ZodCUID2"),$ZodCUID:a(()=>RM,"$ZodCUID"),$ZodCIDRv6:a(()=>ZM,"$ZodCIDRv6"),$ZodCIDRv4:a(()=>KM,"$ZodCIDRv4"),$ZodBoolean:a(()=>m4,"$ZodBoolean"),$ZodBigIntFormat:a(()=>tO,"$ZodBigIntFormat"),$ZodBigInt:a(()=>g4,"$ZodBigInt"),$ZodBase64URL:a(()=>QM,"$ZodBase64URL"),$ZodBase64:a(()=>YM,"$ZodBase64"),$ZodAsyncError:a(()=>dl,"$ZodAsyncError"),$ZodArray:a(()=>uO,"$ZodArray"),$ZodAny:a(()=>aO,"$ZodAny")});var cC=Object.freeze({status:"aborted"});function Ge(e,t,r){function n(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);let c=o.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){let g=d[f];g in l||(l[g]=c[g].bind(l))}}a(n,"K");let i=r?.Parent??Object;class s extends i{static{a(this,"O")}}Object.defineProperty(s,"name",{value:e});function o(l){var u;let c=r?.Parent?new s:this;n(c,l),(u=c._zod).deferred??(u.deferred=[]);for(let d of c._zod.deferred)d();return c}return a(o,"Y"),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a(l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(e),"value")}),Object.defineProperty(o,"name",{value:e}),o}a(Ge,"j$");var dC=Symbol("zod_brand");class dl extends Error{static{a(this,"i8")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class rm extends Error{static{a(this,"TK")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}var C0={};function ti(e){return e&&Object.assign(C0,e),C0}a(ti,"i6");var yr={};yi(yr,{unwrapMessage:a(()=>Zc,"unwrapMessage"),uint8ArrayToHex:a(()=>KW,"uint8ArrayToHex"),uint8ArrayToBase64url:a(()=>GW,"uint8ArrayToBase64url"),uint8ArrayToBase64:a(()=>xC,"uint8ArrayToBase64"),stringifyPrimitive:a(()=>Jt,"stringifyPrimitive"),slugify:a(()=>hC,"slugify"),shallowClone:a(()=>mC,"shallowClone"),safeExtend:a(()=>PW,"safeExtend"),required:a(()=>FW,"required"),randomString:a(()=>CW,"randomString"),propertyKeyTypes:a(()=>O0,"propertyKeyTypes"),promiseAllObject:a(()=>IW,"promiseAllObject"),primitiveTypes:a(()=>gC,"primitiveTypes"),prefixIssues:a(()=>fa,"prefixIssues"),pick:a(()=>LW,"pick"),partial:a(()=>BW,"partial"),optionalKeys:a(()=>bC,"optionalKeys"),omit:a(()=>DW,"omit"),objectClone:a(()=>AW,"objectClone"),numKeys:a(()=>MW,"numKeys"),nullish:a(()=>Ml,"nullish"),normalizeParams:a(()=>St,"normalizeParams"),mergeDefs:a(()=>Mo,"mergeDefs"),merge:a(()=>zW,"merge"),jsonStringifyReplacer:a(()=>M0,"jsonStringifyReplacer"),joinValues:a(()=>_t,"joinValues"),issue:a(()=>R0,"issue"),isPlainObject:a(()=>wl,"isPlainObject"),isObject:a(()=>_u,"isObject"),hexToUint8Array:a(()=>VW,"hexToUint8Array"),getSizableOrigin:a(()=>im,"getSizableOrigin"),getParsedType:a(()=>OW,"getParsedType"),getLengthableOrigin:a(()=>am,"getLengthableOrigin"),getEnumValues:a(()=>X2,"getEnumValues"),getElementAtPath:a(()=>NW,"getElementAtPath"),floatSafeRemainder:a(()=>fC,"floatSafeRemainder"),finalizeIssue:a(()=>wa,"finalizeIssue"),extend:a(()=>jW,"extend"),escapeRegex:a(()=>Gs,"escapeRegex"),esc:a(()=>Xy,"esc"),defineLazy:a(()=>gr,"defineLazy"),createTransparentProxy:a(()=>RW,"createTransparentProxy"),cloneDef:a(()=>TW,"cloneDef"),clone:a(()=>In,"clone"),cleanRegex:a(()=>nm,"cleanRegex"),cleanEnum:a(()=>UW,"cleanEnum"),captureStackTrace:a(()=>J2,"captureStackTrace"),cached:a(()=>hf,"cached"),base64urlToUint8Array:a(()=>HW,"base64urlToUint8Array"),base64ToUint8Array:a(()=>wC,"base64ToUint8Array"),assignProp:a(()=>Co,"assignProp"),assertNotEqual:a(()=>_W,"assertNotEqual"),assertNever:a(()=>SW,"assertNever"),assertIs:a(()=>EW,"assertIs"),assertEqual:a(()=>xW,"assertEqual"),assert:a(()=>kW,"assert"),allowsEval:a(()=>pC,"allowsEval"),aborted:a(()=>tl,"aborted"),NUMBER_FORMAT_RANGES:a(()=>vC,"NUMBER_FORMAT_RANGES"),Class:a(()=>ZW,"Class"),BIGINT_FORMAT_RANGES:a(()=>yC,"BIGINT_FORMAT_RANGES")});function xW(e){return e}a(xW,"RD");function _W(e){return e}a(_W,"ID");function EW(e){}a(EW,"DD");function SW(e){throw Error()}a(SW,"LD");function kW(e){}a(kW,"gD");function X2(e){let t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,n])=>t.indexOf(+r)===-1).map(([r,n])=>n)}a(X2,"xP");function _t(e,t="|"){return e.map(r=>Jt(r)).join(t)}a(_t,"w$");function M0(e,t){return typeof t=="bigint"?t.toString():t}a(M0,"eK");function hf(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}a(hf,"sK");function Ml(e){return e==null}a(Ml,"d_");function nm(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}a(nm,"pP");function fC(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let u=n.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}let s=r>i?r:i,o=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return o%l/10**s}a(fC,"JY");var w_=Symbol("evaluating");function gr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==w_)return n===void 0&&(n=w_,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}a(gr,"X6");function AW(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}a(AW,"bD");function Co(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}a(Co,"l_");function Mo(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}a(Mo,"r_");function TW(e){return Mo(e._zod.def)}a(TW,"yD");function NW(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}a(NW,"uD");function IW(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let i={};for(let s=0;s<t.length;s++)i[t[s]]=n[s];return i})}a(IW,"xD");function CW(e=10){let t="";for(let r=0;r<e;r++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return t}a(CW,"pD");function Xy(e){return JSON.stringify(e)}a(Xy,"V9");function hC(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}a(hC,"HY");var J2="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function _u(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}a(_u,"wK");var pC=hf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch{return!1}});function wl(e){if(_u(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let r=t.prototype;return!(_u(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}a(wl,"o_");function mC(e){return wl(e)?{...e}:Array.isArray(e)?[...e]:e}a(mC,"wY");function MW(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}a(MW,"cD");var OW=a(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw Error(`Unknown data type: ${t}`)}},"mD"),O0=new Set(["string","number","symbol"]),gC=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Gs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(Gs,"w8");function In(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}a(In,"l6");function St(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:a(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:a(()=>t.error,"error")}:t}a(St,"r$");function RW(e){let t;return new Proxy({},{get(r,n,i){return t??(t=e()),Reflect.get(t,n,i)},set(r,n,i,s){return t??(t=e()),Reflect.set(t,n,i,s)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,i){return t??(t=e()),Reflect.defineProperty(t,n,i)}})}a(RW,"dD");function Jt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}a(Jt,"d$");function bC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}a(bC,"ZY");var vC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},yC={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function LW(e,t){let r=e._zod.def,n=Mo(e._zod.def,{get shape(){let i={};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=r.shape[s])}return Co(this,"shape",i),i},checks:[]});return In(e,n)}a(LW,"lD");function DW(e,t){let r=e._zod.def,n=Mo(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return Co(this,"shape",i),i},checks:[]});return In(e,n)}a(DW,"rD");function jW(e,t){if(!wl(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=Mo(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return Co(this,"shape",i),i},checks:[]});return In(e,n)}a(jW,"oD");function PW(e,t){if(!wl(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Co(this,"shape",n),n},checks:e._zod.def.checks};return In(e,r)}a(PW,"nD");function zW(e,t){let r=Mo(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Co(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return In(e,r)}a(zW,"iD");function BW(e,t,r){let n=Mo(t._zod.def,{get shape(){let i=t._zod.def.shape,s={...i};if(r)for(let o in r){if(!(o in i))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(let o in i)s[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return Co(this,"shape",s),s},checks:[]});return In(t,n)}a(BW,"BD");function FW(e,t,r){let n=Mo(t._zod.def,{get shape(){let i=t._zod.def.shape,s={...i};if(r)for(let o in r){if(!(o in s))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(let o in i)s[o]=new e({type:"nonoptional",innerType:i[o]});return Co(this,"shape",s),s},checks:[]});return In(t,n)}a(FW,"tD");function tl(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}a(tl,"n_");function fa(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}a(fa,"P8");function Zc(e){return typeof e=="string"?e:e?.message}a(Zc,"uP");function wa(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let i=Zc(e.inst?._zod.def?.error?.(e))??Zc(t?.error?.(e))??Zc(r.customError?.(e))??Zc(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,!t?.reportInput&&delete n.input,n}a(wa,"O8");function im(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}a(im,"mP");function am(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}a(am,"dP");function R0(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}a(R0,"$42");function UW(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}a(UW,"UD");function wC(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}a(wC,"vA");function xC(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}a(xC,"zA");function HW(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return wC(t+r)}a(HW,"FD");function GW(e){return xC(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}a(GW,"aD");function VW(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}a(VW,"QD");function KW(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}a(KW,"eD");class ZW{static{a(this,"WA")}constructor(...t){}}var _C=a((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,M0,2),Object.defineProperty(e,"toString",{value:a(()=>e.message,"value"),enumerable:!1})},"JA"),q2=Ge("$ZodError",_C),Bi=Ge("$ZodError",_C,{Parent:Error});function e4(e,t=r=>r.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}a(e4,"rP");function t4(e,t=r=>r.message){let r={_errors:[]},n=a(i=>{for(let s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>n({issues:o}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let o=r,l=0;for(;l<s.path.length;){let u=s.path[l];l!==s.path.length-1?o[u]=o[u]||{_errors:[]}:(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))),o=o[u],l++}}},"K");return n(e),r}a(t4,"oP");function EC(e,t=r=>r.message){let r={errors:[]},n=a((i,s=[])=>{var o,l;for(let u of i.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>n({issues:c},u.path));else if(u.code==="invalid_key")n({issues:u.issues},u.path);else if(u.code==="invalid_element")n({issues:u.issues},u.path);else{let c=[...s,...u.path];if(c.length===0){r.errors.push(t(u));continue}let d=r,f=0;for(;f<c.length;){let g=c[f],m=f===c.length-1;typeof g=="string"?(d.properties??(d.properties={}),(o=d.properties)[g]??(o[g]={errors:[]}),d=d.properties[g]):(d.items??(d.items=[]),(l=d.items)[g]??(l[g]={errors:[]}),d=d.items[g]),m&&d.errors.push(t(u)),f++}}},"K");return n(e),r}a(EC,"kY");function SC(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}a(SC,"HA");function kC(e){let t=[],r=[...e.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${SC(n.path)}`);return t.join(`
`)}a(kC,"GY");var pf=a(e=>(t,r,n,i)=>{let s=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new dl;if(o.issues.length){let l=new(i?.Err??e)(o.issues.map(u=>wa(u,s,ti())));throw J2(l,i?.callee),l}return o.value},"q4"),Jy=pf(Bi),mf=a(e=>async(t,r,n,i)=>{let s=n?Object.assign(n,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){let l=new(i?.Err??e)(o.issues.map(u=>wa(u,s,ti())));throw J2(l,i?.callee),l}return o.value},"_4"),L0=mf(Bi),gf=a(e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new dl;return s.issues.length?{success:!1,error:new(e??q2)(s.issues.map(o=>wa(o,i,ti())))}:{success:!0,data:s.value}},"P4"),AC=gf(Bi),bf=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>wa(o,i,ti())))}:{success:!0,data:s.value}},"O4"),TC=bf(Bi),r4=a(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return pf(e)(t,r,i)},"M9"),YW=r4(Bi),n4=a(e=>(t,r,n)=>pf(e)(t,r,n),"N9"),$W=n4(Bi),i4=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return mf(e)(t,r,i)},"C9"),QW=i4(Bi),a4=a(e=>async(t,r,n)=>mf(e)(t,r,n),"E9"),WW=a4(Bi),s4=a(e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return gf(e)(t,r,i)},"h9"),XW=s4(Bi),o4=a(e=>(t,r,n)=>gf(e)(t,r,n),"R9"),JW=o4(Bi),l4=a(e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return bf(e)(t,r,i)},"I9"),qW=l4(Bi),u4=a(e=>async(t,r,n)=>bf(e)(t,r,n),"D9"),eX=u4(Bi),Ol={};yi(Ol,{xid:a(()=>MC,"xid"),uuid7:a(()=>iX,"uuid7"),uuid6:a(()=>nX,"uuid6"),uuid4:a(()=>rX,"uuid4"),uuid:a(()=>Eu,"uuid"),uppercase:a(()=>aM,"uppercase"),unicodeEmail:a(()=>PC,"unicodeEmail"),undefined:a(()=>nM,"undefined"),ulid:a(()=>CC,"ulid"),time:a(()=>QC,"time"),string:a(()=>XC,"string"),sha512_hex:a(()=>kX,"sha512_hex"),sha512_base64url:a(()=>TX,"sha512_base64url"),sha512_base64:a(()=>AX,"sha512_base64"),sha384_hex:a(()=>_X,"sha384_hex"),sha384_base64url:a(()=>SX,"sha384_base64url"),sha384_base64:a(()=>EX,"sha384_base64"),sha256_hex:a(()=>yX,"sha256_hex"),sha256_base64url:a(()=>xX,"sha256_base64url"),sha256_base64:a(()=>wX,"sha256_base64"),sha1_hex:a(()=>gX,"sha1_hex"),sha1_base64url:a(()=>vX,"sha1_base64url"),sha1_base64:a(()=>bX,"sha1_base64"),rfc5322Email:a(()=>sX,"rfc5322Email"),number:a(()=>eM,"number"),null:a(()=>rM,"null"),nanoid:a(()=>RC,"nanoid"),md5_hex:a(()=>hX,"md5_hex"),md5_base64url:a(()=>mX,"md5_base64url"),md5_base64:a(()=>pX,"md5_base64"),mac:a(()=>UC,"mac"),lowercase:a(()=>iM,"lowercase"),ksuid:a(()=>OC,"ksuid"),ipv6:a(()=>FC,"ipv6"),ipv4:a(()=>BC,"ipv4"),integer:a(()=>qC,"integer"),idnEmail:a(()=>oX,"idnEmail"),html5Email:a(()=>aX,"html5Email"),hostname:a(()=>cX,"hostname"),hex:a(()=>fX,"hex"),guid:a(()=>DC,"guid"),extendedDuration:a(()=>tX,"extendedDuration"),emoji:a(()=>zC,"emoji"),email:a(()=>jC,"email"),e164:a(()=>KC,"e164"),duration:a(()=>LC,"duration"),domain:a(()=>dX,"domain"),datetime:a(()=>WC,"datetime"),date:a(()=>YC,"date"),cuid2:a(()=>IC,"cuid2"),cuid:a(()=>NC,"cuid"),cidrv6:a(()=>GC,"cidrv6"),cidrv4:a(()=>HC,"cidrv4"),browserEmail:a(()=>lX,"browserEmail"),boolean:a(()=>tM,"boolean"),bigint:a(()=>JC,"bigint"),base64url:a(()=>c4,"base64url"),base64:a(()=>VC,"base64")});var NC=/^[cC][^\s-]{8,}$/,IC=/^[0-9a-z]+$/,CC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,MC=/^[0-9a-vA-V]{20}$/,OC=/^[A-Za-z0-9]{27}$/,RC=/^[a-zA-Z0-9_-]{21}$/,LC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,tX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Eu=a(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"fK"),rX=Eu(4),nX=Eu(6),iX=Eu(7),jC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,aX=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,PC=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,oX=PC,lX=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,uX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function zC(){return new RegExp(uX,"u")}a(zC,"gY");var BC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,UC=a(e=>{let t=Gs(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},"uY"),HC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,GC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,c4=/^[A-Za-z0-9_-]*$/,cX=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,dX=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,KC=/^\+(?:[0-9]){6,14}[0-9]$/,ZC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",YC=new RegExp(`^${ZC}$`);function $C(e){return typeof e.precision=="number"?e.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":e.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${e.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}a($C,"fA");function QC(e){return new RegExp(`^${$C(e)}$`)}a(QC,"lY");function WC(e){let t=$C({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${ZC}T(?:${n})$`)}a(WC,"rY");var XC=a(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"oY"),JC=/^-?\d+n?$/,qC=/^-?\d+$/,eM=/^-?\d+(?:\.\d+)?/,tM=/^(?:true|false)$/i,rM=/^null$/i,nM=/^undefined$/i,iM=/^[^A-Z]*$/,aM=/^[^a-z]*$/,fX=/^[0-9a-fA-F]*$/;function vf(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}a(vf,"iP");function yf(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}a(yf,"BP");var hX=/^[0-9a-fA-F]{32}$/,pX=vf(22,"=="),mX=yf(22),gX=/^[0-9a-fA-F]{40}$/,bX=vf(27,"="),vX=yf(27),yX=/^[0-9a-fA-F]{64}$/,wX=vf(43,"="),xX=yf(43),_X=/^[0-9a-fA-F]{96}$/,EX=vf(64,""),SX=yf(64),kX=/^[0-9a-fA-F]{128}$/,AX=vf(86,"=="),TX=yf(86),Wr=Ge("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),sM={number:"number",bigint:"bigint",object:"date"},d4=Ge("$ZodCheckLessThan",(e,t)=>{Wr.init(e,t);let r=sM[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),f4=Ge("$ZodCheckGreaterThan",(e,t)=>{Wr.init(e,t);let r=sM[typeof t.value];e._zod.onattach.push(n=>{let i=n._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),oM=Ge("$ZodCheckMultipleOf",(e,t)=>{Wr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):fC(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),lM=Ge("$ZodCheckNumberFormat",(e,t)=>{Wr.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,s]=vC[t.format];e._zod.onattach.push(o=>{let l=o._zod.bag;l.format=t.format,l.minimum=i,l.maximum=s,r&&(l.pattern=qC)}),e._zod.check=o=>{let l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<i&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),uM=Ge("$ZodCheckBigIntFormat",(e,t)=>{Wr.init(e,t);let[r,n]=yC[t.format];e._zod.onattach.push(i=>{let s=i._zod.bag;s.format=t.format,s.minimum=r,s.maximum=n}),e._zod.check=i=>{let s=i.value;s<r&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),s>n&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:n,inst:e})}}),cM=Ge("$ZodCheckMaxSize",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;i.size<=t.maximum||n.issues.push({origin:im(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),dM=Ge("$ZodCheckMinSize",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;i.size>=t.minimum||n.issues.push({origin:im(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),fM=Ge("$ZodCheckSizeEquals",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.size!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.size,i.maximum=t.size,i.size=t.size}),e._zod.check=n=>{let i=n.value,s=i.size;if(s===t.size)return;let o=s>t.size;n.issues.push({origin:im(i),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),hM=Ge("$ZodCheckMaxLength",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let i=n.value;if(i.length<=t.maximum)return;let s=am(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),pM=Ge("$ZodCheckMinLength",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let i=n.value;if(i.length>=t.minimum)return;let s=am(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),mM=Ge("$ZodCheckLengthEquals",(e,t)=>{var r;Wr.init(e,t),(r=e._zod.def).when??(r.when=n=>{let i=n.value;return!Ml(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{let i=n.value,s=i.length;if(s===t.length)return;let o=am(i),l=s>t.length;n.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),wf=Ge("$ZodCheckStringFormat",(e,t)=>{var r,n;Wr.init(e,t),e._zod.onattach.push(i=>{let s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),gM=Ge("$ZodCheckRegex",(e,t)=>{wf.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),bM=Ge("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=iM),wf.init(e,t)}),vM=Ge("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=aM),wf.init(e,t)}),yM=Ge("$ZodCheckIncludes",(e,t)=>{Wr.init(e,t);let r=Gs(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{let s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),wM=Ge("$ZodCheckStartsWith",(e,t)=>{Wr.init(e,t);let r=new RegExp(`^${Gs(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),xM=Ge("$ZodCheckEndsWith",(e,t)=>{Wr.init(e,t);let r=new RegExp(`.*${Gs(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function x_(e,t,r){e.issues.length&&t.issues.push(...fa(r,e.issues))}a(x_,"ZA");var _M=Ge("$ZodCheckProperty",(e,t)=>{Wr.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>x_(i,r,t.property));x_(n,r,t.property)}}),EM=Ge("$ZodCheckMimeType",(e,t)=>{Wr.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),SM=Ge("$ZodCheckOverwrite",(e,t)=>{Wr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class kM{static{a(this,"y9")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let r=t.split(`
`).filter(s=>s),n=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(n)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let t=Function,r=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,n.join(`
`))}}var AM={major:4,minor:1,patch:13},er=Ge("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=AM;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let i of n)for(let s of i._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let i=a((o,l,u)=>{let c=tl(o),d;for(let f of l){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(c)continue;let g=o.issues.length,m=f._zod.check(o);if(m instanceof Promise&&u?.async===!1)throw new dl;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,o.issues.length!==g&&(c||(c=tl(o,g)))});else{if(o.issues.length===g)continue;c||(c=tl(o,g))}}return d?d.then(()=>o):o},"P"),s=a((o,l,u)=>{if(tl(o))return o.aborted=!0,o;let c=i(l,n,u);if(c instanceof Promise){if(u.async===!1)throw new dl;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)},"O");e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){let c=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(d=>s(d,o,l)):s(c,o,l)}let u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new dl;return u.then(c=>i(c,n,l))}return i(u,n,l)}}e["~standard"]={validate:a(i=>{try{let s=AC(e,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return TC(e,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},"validate"),vendor:"zod",version:1}}),xf=Ge("$ZodString",(e,t)=>{er.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??XC(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jr=Ge("$ZodStringFormat",(e,t)=>{wf.init(e,t),xf.init(e,t)}),TM=Ge("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=DC),jr.init(e,t)}),NM=Ge("$ZodUUID",(e,t)=>{if(t.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Eu(r))}else t.pattern??(t.pattern=Eu());jr.init(e,t)}),IM=Ge("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=jC),jr.init(e,t)}),CM=Ge("$ZodURL",(e,t)=>{jr.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,!t.hostname.test(i.hostname)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,!t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),MM=Ge("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=zC()),jr.init(e,t)}),OM=Ge("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=RC),jr.init(e,t)}),RM=Ge("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=NC),jr.init(e,t)}),LM=Ge("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IC),jr.init(e,t)}),DM=Ge("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CC),jr.init(e,t)}),jM=Ge("$ZodXID",(e,t)=>{t.pattern??(t.pattern=MC),jr.init(e,t)}),PM=Ge("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=OC),jr.init(e,t)}),zM=Ge("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WC(t)),jr.init(e,t)}),BM=Ge("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=YC),jr.init(e,t)}),FM=Ge("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=QC(t)),jr.init(e,t)}),UM=Ge("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=LC),jr.init(e,t)}),HM=Ge("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=BC),jr.init(e,t),e._zod.bag.format="ipv4"}),GM=Ge("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=FC),jr.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),VM=Ge("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=UC(t.delimiter)),jr.init(e,t),e._zod.bag.format="mac"}),KM=Ge("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=HC),jr.init(e,t)}),ZM=Ge("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=GC),jr.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw Error();let[i,s]=n;if(!s)throw Error();let o=Number(s);if(`${o}`!==s||o<0||o>128)throw Error();new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function h4(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}a(h4,"c3");var YM=Ge("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=VC),jr.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{h4(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function $M(e){if(!c4.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return h4(r)}a($M,"IA");var QM=Ge("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=c4),jr.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{$M(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),WM=Ge("$ZodE164",(e,t)=>{t.pattern??(t.pattern=KC),jr.init(e,t)});function XM(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}a(XM,"DA");var JM=Ge("$ZodJWT",(e,t)=>{jr.init(e,t),e._zod.check=r=>{XM(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),qM=Ge("$ZodCustomStringFormat",(e,t)=>{jr.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),p4=Ge("$ZodNumber",(e,t)=>{er.init(e,t),e._zod.pattern=e._zod.bag.pattern??eM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),r}}),eO=Ge("$ZodNumberFormat",(e,t)=>{lM.init(e,t),p4.init(e,t)}),m4=Ge("$ZodBoolean",(e,t)=>{er.init(e,t),e._zod.pattern=tM,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),g4=Ge("$ZodBigInt",(e,t)=>{er.init(e,t),e._zod.pattern=JC,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),tO=Ge("$ZodBigIntFormat",(e,t)=>{uM.init(e,t),g4.init(e,t)}),rO=Ge("$ZodSymbol",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),r}}),nO=Ge("$ZodUndefined",(e,t)=>{er.init(e,t),e._zod.pattern=nM,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),r}}),iO=Ge("$ZodNull",(e,t)=>{er.init(e,t),e._zod.pattern=rM,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}}),aO=Ge("$ZodAny",(e,t)=>{er.init(e,t),e._zod.parse=r=>r}),sO=Ge("$ZodUnknown",(e,t)=>{er.init(e,t),e._zod.parse=r=>r}),b4=Ge("$ZodNever",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),oO=Ge("$ZodVoid",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),r}}),lO=Ge("$ZodDate",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),r}});function __(e,t,r){e.issues.length&&t.issues.push(...fa(r,e.issues)),t.value[r]=e.value}a(__,"kA");var uO=Ge("$ZodArray",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let s=[];for(let o=0;o<i.length;o++){let l=i[o],u=t.element._zod.run({value:l,issues:[]},n);u instanceof Promise?s.push(u.then(c=>__(c,r,o))):__(u,r,o)}return s.length?Promise.all(s).then(()=>r):r}});function D0(e,t,r,n){e.issues.length&&t.issues.push(...fa(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}a(D0,"m9");function cO(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let r=bC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}a(cO,"LA");function dO(e,t,r,n,i,s){let o=[],l=i.keySet,u=i.catchall._zod,c=u.def.type;for(let d in t){if(l.has(d))continue;if(c==="never"){o.push(d);continue}let f=u.run({value:t[d],issues:[]},n);f instanceof Promise?e.push(f.then(g=>D0(g,r,d,t))):D0(f,r,d,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}a(dO,"gA");var fO=Ge("$ZodObject",(e,t)=>{if(er.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let o=t.shape;Object.defineProperty(t,"shape",{get:a(()=>{let l={...o};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let r=hf(()=>cO(t));gr(e._zod,"propValues",()=>{let o=t.shape,l={};for(let u in o){let c=o[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(let d of c.values)l[u].add(d)}}return l});let n=_u,i=t.catchall,s;e._zod.parse=(o,l)=>{s??(s=r.value);let u=o.value;if(!n(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};let c=[],d=s.shape;for(let f of s.keys){let g=d[f]._zod.run({value:u[f],issues:[]},l);g instanceof Promise?c.push(g.then(m=>D0(m,o,f,u))):D0(g,o,f,u)}return i?dO(c,u,o,l,r.value,e):c.length?Promise.all(c).then(()=>o):o}}),hO=Ge("$ZodObjectJIT",(e,t)=>{fO.init(e,t);let r=e._zod.parse,n=hf(()=>cO(t)),i=a(f=>{let g=new kM(["shape","payload","ctx"]),m=n.value,y=a(O=>{let R=Xy(O);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`},"h");g.write("const input = payload.value;");let _=Object.create(null),A=0;for(let O of m.keys)_[O]=`key_${A++}`;g.write("const newResult = {};");for(let O of m.keys){let R=_[O],L=Xy(O);g.write(`const ${R} = ${y(O)};`),g.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${R}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");let I=g.compile();return(O,R)=>I(f,O,R)},"P"),s,o=_u,l=!C0.jitless,u=l&&pC.value,c=t.catchall,d;e._zod.parse=(f,g)=>{d??(d=n.value);let m=f.value;return o(m)?l&&u&&g?.async===!1&&g.jitless!==!0?(s||(s=i(t.shape)),f=s(f,g),c?dO([],m,f,g,d,e):f):r(f,g):(f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f)}});function E_(e,t,r,n){for(let s of e)if(s.issues.length===0)return t.value=s.value,t;let i=e.filter(s=>!tl(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(o=>wa(o,n,ti())))}),t)}a(E_,"GA");var v4=Ge("$ZodUnion",(e,t)=>{er.init(e,t),gr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),gr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),gr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),gr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){let i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>nm(s.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(r)return n(i,s);let o=!1,l=[];for(let u of t.options){let c=u._zod.run({value:i.value,issues:[]},s);if(c instanceof Promise)l.push(c),o=!0;else{if(c.issues.length===0)return c;l.push(c)}}return o?Promise.all(l).then(u=>E_(u,i,e,s)):E_(l,i,e,s)}}),pO=Ge("$ZodDiscriminatedUnion",(e,t)=>{v4.init(e,t);let r=e._zod.parse;gr(e._zod,"propValues",()=>{let i={};for(let s of t.options){let o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let[l,u]of Object.entries(o)){i[l]||(i[l]=new Set);for(let c of u)i[l].add(c)}}return i});let n=hf(()=>{let i=t.options,s=new Map;for(let o of i){let l=o._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(let u of l){if(s.has(u))throw Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(i,s)=>{let o=i.value;if(!_u(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;let l=n.value.get(o?.[t.discriminator]);return l?l._zod.run(i,s):t.unionFallback?r(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),mO=Ge("$ZodIntersection",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value,s=t.left._zod.run({value:i,issues:[]},n),o=t.right._zod.run({value:i,issues:[]},n);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,u])=>S_(r,l,u)):S_(r,s,o)}});function qy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(wl(e)&&wl(t)){let r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),i={...e,...t};for(let s of n){let o=qy(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t[n],o=qy(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}a(qy,"X3");function S_(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),tl(e))return e;let n=qy(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}a(S_,"VA");var y4=Ge("$ZodTuple",(e,t)=>{er.init(e,t);let r=t.items;e._zod.parse=(n,i)=>{let s=n.value;if(!Array.isArray(s))return n.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let o=[],l=[...r].reverse().findIndex(d=>d._zod.optin!=="optional"),u=l===-1?0:r.length-l;if(!t.rest){let d=s.length>r.length,f=s.length<u-1;if(d||f)return n.issues.push({...d?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:s,inst:e,origin:"array"}),n}let c=-1;for(let d of r){if(c++,c>=s.length&&c>=u)continue;let f=d._zod.run({value:s[c],issues:[]},i);f instanceof Promise?o.push(f.then(g=>hh(g,n,c))):hh(f,n,c)}if(t.rest){let d=s.slice(r.length);for(let f of d){c++;let g=t.rest._zod.run({value:f,issues:[]},i);g instanceof Promise?o.push(g.then(m=>hh(m,n,c))):hh(g,n,c)}}return o.length?Promise.all(o).then(()=>n):n}});function hh(e,t,r){e.issues.length&&t.issues.push(...fa(r,e.issues)),t.value[r]=e.value}a(hh,"u9");var gO=Ge("$ZodRecord",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!wl(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let s=[],o=t.keyType._zod.values;if(o){r.value={};let l=new Set;for(let c of o)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){l.add(typeof c=="number"?c.toString():c);let d=t.valueType._zod.run({value:i[c],issues:[]},n);d instanceof Promise?s.push(d.then(f=>{f.issues.length&&r.issues.push(...fa(c,f.issues)),r.value[c]=f.value})):(d.issues.length&&r.issues.push(...fa(c,d.issues)),r.value[c]=d.value)}let u;for(let c in i)l.has(c)||(u=u??[],u.push(c));u&&u.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:u})}else{r.value={};for(let l of Reflect.ownKeys(i)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},n);if(u instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(u.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>wa(d,n,ti())),input:l,path:[l],inst:e}),r.value[u.value]=u.value;continue}let c=t.valueType._zod.run({value:i[l],issues:[]},n);c instanceof Promise?s.push(c.then(d=>{d.issues.length&&r.issues.push(...fa(l,d.issues)),r.value[u.value]=d.value})):(c.issues.length&&r.issues.push(...fa(l,c.issues)),r.value[u.value]=c.value)}}return s.length?Promise.all(s).then(()=>r):r}}),bO=Ge("$ZodMap",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let s=[];r.value=new Map;for(let[o,l]of i){let u=t.keyType._zod.run({value:o,issues:[]},n),c=t.valueType._zod.run({value:l,issues:[]},n);u instanceof Promise||c instanceof Promise?s.push(Promise.all([u,c]).then(([d,f])=>{k_(d,f,r,o,i,e,n)})):k_(u,c,r,o,i,e,n)}return s.length?Promise.all(s).then(()=>r):r}});function k_(e,t,r,n,i,s,o){e.issues.length&&(O0.has(typeof n)?r.issues.push(...fa(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:e.issues.map(l=>wa(l,o,ti()))})),t.issues.length&&(O0.has(typeof n)?r.issues.push(...fa(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:n,issues:t.issues.map(l=>wa(l,o,ti()))})),r.value.set(e.value,t.value)}a(k_,"SA");var vO=Ge("$ZodSet",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let s=[];r.value=new Set;for(let o of i){let l=t.valueType._zod.run({value:o,issues:[]},n);l instanceof Promise?s.push(l.then(u=>A_(u,r))):A_(l,r)}return s.length?Promise.all(s).then(()=>r):r}});function A_(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}a(A_,"MA");var yO=Ge("$ZodEnum",(e,t)=>{er.init(e,t);let r=X2(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>O0.has(typeof i)).map(i=>typeof i=="string"?Gs(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{let o=i.value;return n.has(o)||i.issues.push({code:"invalid_value",values:r,input:o,inst:e}),i}}),wO=Ge("$ZodLiteral",(e,t)=>{if(er.init(e,t),t.values.length===0)throw Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Gs(n):n?Gs(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{let s=n.value;return r.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),xO=Ge("$ZodFile",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),r}}),_O=Ge("$ZodTransform",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new rm(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new dl;return r.value=i,r}});function T_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}a(T_,"NA");var EO=Ge("$ZodOptional",(e,t)=>{er.init(e,t),e._zod.optin="optional",e._zod.optout="optional",gr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),gr(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${nm(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>T_(s,r.value)):T_(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),SO=Ge("$ZodNullable",(e,t)=>{er.init(e,t),gr(e._zod,"optin",()=>t.innerType._zod.optin),gr(e._zod,"optout",()=>t.innerType._zod.optout),gr(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${nm(r.source)}|null)$`):void 0}),gr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),kO=Ge("$ZodDefault",(e,t)=>{er.init(e,t),e._zod.optin="optional",gr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>N_(s,t)):N_(i,t)}});function N_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}a(N_,"CA");var AO=Ge("$ZodPrefault",(e,t)=>{er.init(e,t),e._zod.optin="optional",gr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),TO=Ge("$ZodNonOptional",(e,t)=>{er.init(e,t),gr(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>I_(s,e)):I_(i,e)}});function I_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}a(I_,"EA");var NO=Ge("$ZodSuccess",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new rm("ZodSuccess");let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>(r.value=s.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),IO=Ge("$ZodCatch",(e,t)=>{er.init(e,t),gr(e._zod,"optin",()=>t.innerType._zod.optin),gr(e._zod,"optout",()=>t.innerType._zod.optout),gr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>wa(o,n,ti()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>wa(s,n,ti()))},input:r.value}),r.issues=[]),r)}}),CO=Ge("$ZodNaN",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),MO=Ge("$ZodPipe",(e,t)=>{er.init(e,t),gr(e._zod,"values",()=>t.in._zod.values),gr(e._zod,"optin",()=>t.in._zod.optin),gr(e._zod,"optout",()=>t.out._zod.optout),gr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let s=t.out._zod.run(r,n);return s instanceof Promise?s.then(o=>ph(o,t.in,n)):ph(s,t.in,n)}let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>ph(s,t.out,n)):ph(i,t.out,n)}});function ph(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}a(ph,"x9");var w4=Ge("$ZodCodec",(e,t)=>{er.init(e,t),gr(e._zod,"values",()=>t.in._zod.values),gr(e._zod,"optin",()=>t.in._zod.optin),gr(e._zod,"optout",()=>t.out._zod.optout),gr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>mh(s,t,n)):mh(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>mh(s,t,n)):mh(i,t,n)}}});function mh(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let n=t.transform(e.value,e);return n instanceof Promise?n.then(i=>gh(e,i,t.out,r)):gh(e,n,t.out,r)}else{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(i=>gh(e,i,t.in,r)):gh(e,n,t.in,r)}}a(mh,"p9");function gh(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}a(gh,"c9");var OO=Ge("$ZodReadonly",(e,t)=>{er.init(e,t),gr(e._zod,"propValues",()=>t.innerType._zod.propValues),gr(e._zod,"values",()=>t.innerType._zod.values),gr(e._zod,"optin",()=>t.innerType?._zod?.optin),gr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(C_):C_(i)}});function C_(e){return e.value=Object.freeze(e.value),e}a(C_,"hA");var RO=Ge("$ZodTemplateLiteral",(e,t)=>{er.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw Error(`Invalid template literal part: ${n._zod.traits}`);let s=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(s,o))}else if(n===null||gC.has(typeof n))r.push(Gs(`${n}`));else throw Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),LO=Ge("$ZodFunction",(e,t)=>(er.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw Error("implement() must be called with a function");return function(...n){let i=e._def.input?Jy(e._def.input,n):n,s=Reflect.apply(r,this,i);return e._def.output?Jy(e._def.output,s):s}},e.implementAsync=r=>{if(typeof r!="function")throw Error("implementAsync() must be called with a function");return async function(...n){let i=e._def.input?await L0(e._def.input,n):n,s=await Reflect.apply(r,this,i);return e._def.output?await L0(e._def.output,s):s}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new y4({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>new e.constructor({type:"function",input:e._def.input,output:r}),e)),DO=Ge("$ZodPromise",(e,t)=>{er.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>t.innerType._zod.run({value:i,issues:[]},n))}),jO=Ge("$ZodLazy",(e,t)=>{er.init(e,t),gr(e._zod,"innerType",()=>t.getter()),gr(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),gr(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),gr(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),gr(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),PO=Ge("$ZodCustom",(e,t)=>{Wr.init(e,t),er.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(s=>M_(s,r,n,e));M_(i,r,n,e)}});function M_(e,t,r,n){if(!e){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(R0(i))}}a(M_,"RA");var x4={};yi(x4,{zhTW:a(()=>hq,"zhTW"),zhCN:a(()=>dq,"zhCN"),yo:a(()=>mq,"yo"),vi:a(()=>uq,"vi"),ur:a(()=>oq,"ur"),uk:a(()=>FO,"uk"),ua:a(()=>aq,"ua"),tr:a(()=>nq,"tr"),th:a(()=>eq,"th"),ta:a(()=>JJ,"ta"),sv:a(()=>WJ,"sv"),sl:a(()=>$J,"sl"),ru:a(()=>ZJ,"ru"),pt:a(()=>VJ,"pt"),ps:a(()=>FJ,"ps"),pl:a(()=>HJ,"pl"),ota:a(()=>zJ,"ota"),no:a(()=>jJ,"no"),nl:a(()=>LJ,"nl"),ms:a(()=>OJ,"ms"),mk:a(()=>CJ,"mk"),lt:a(()=>NJ,"lt"),ko:a(()=>kJ,"ko"),km:a(()=>BO,"km"),kh:a(()=>EJ,"kh"),ka:a(()=>xJ,"ka"),ja:a(()=>vJ,"ja"),it:a(()=>gJ,"it"),is:a(()=>pJ,"is"),id:a(()=>dJ,"id"),hu:a(()=>uJ,"hu"),he:a(()=>oJ,"he"),frCA:a(()=>aJ,"frCA"),fr:a(()=>nJ,"fr"),fi:a(()=>tJ,"fi"),fa:a(()=>qX,"fa"),es:a(()=>XX,"es"),eo:a(()=>QX,"eo"),en:a(()=>zO,"en"),de:a(()=>VX,"de"),da:a(()=>HX,"da"),cs:a(()=>FX,"cs"),ca:a(()=>zX,"ca"),bg:a(()=>jX,"bg"),be:a(()=>RX,"be"),az:a(()=>MX,"az"),ar:a(()=>IX,"ar")});var NX=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :   ${i.expected}    ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :   ${Jt(i.values[0])}`:`  :     : ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`   :    ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`  :    ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`  :   ${i.origin}   ${s} ${i.minimum.toString()} ${o.unit}`:`  :   ${i.origin}   ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`  :     "${i.prefix}"`:s.format==="ends_with"?`  :     "${s.suffix}"`:s.format==="includes"?`  :    "${s.includes}"`:s.format==="regex"?`  :     ${s.pattern}`:`${n[s.format]??i.format}  `}case"not_multiple_of":return`  :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${_t(i.keys," ")}`;case"invalid_key":return`    ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${i.origin}`;default:return"  "}}},"xL");function IX(){return{localeError:NX()}}a(IX,"Mj");var CX=a(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl dyr: gzlniln ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl dyr: gzlniln ${Jt(i.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`ox byk: gzlniln ${i.origin??"dyr"} ${s}${i.maximum.toString()} ${o.unit??"element"}`:`ox byk: gzlniln ${i.origin??"dyr"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`ox kiik: gzlniln ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:`ox kiik: gzlniln ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Yanl mtn: "${s.prefix}" il balamaldr`:s.format==="ends_with"?`Yanl mtn: "${s.suffix}" il bitmlidir`:s.format==="includes"?`Yanl mtn: "${s.includes}" daxil olmaldr`:s.format==="regex"?`Yanl mtn: ${s.pattern} ablonuna uyun olmaldr`:`Yanl ${n[s.format]??i.format}`}case"not_multiple_of":return`Yanl dd: ${i.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${i.keys.length>1?"lar":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${i.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}},"pL");function MX(){return{localeError:CX()}}a(MX,"Nj");function O_(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:s===1?t:s>=2&&s<=4?r:n}a(O_,"yA");var OX=a(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])}`:` :    ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);if(o){let l=Number(i.maximum),u=O_(l,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin??""}  ${o.verb} ${s}${i.maximum.toString()} ${u}`}return` : ,  ${i.origin??""}   ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);if(o){let l=Number(i.minimum),u=O_(l,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin}  ${o.verb} ${s}${i.minimum.toString()} ${u}`}return` : ,  ${i.origin}   ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"cL");function RX(){return{localeError:OX()}}a(RX,"Cj");var LX=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"mL"),DX=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}a(t,"q");let r={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${LX(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${Jt(n.values[0])}`:` :    ${_t(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?` :   ${n.origin??""}   ${i}${n.maximum.toString()} ${s.unit??""}`:` :   ${n.origin??""}   ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?` :   ${n.origin}   ${i}${n.minimum.toString()} ${s.unit}`:` :   ${n.origin}   ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;if(i.format==="starts_with")return` :     "${i.prefix}"`;if(i.format==="ends_with")return` :     "${i.suffix}"`;if(i.format==="includes")return` :    "${i.includes}"`;if(i.format==="regex")return` :     ${i.pattern}`;let s="";return i.format==="emoji"&&(s=""),i.format==="datetime"&&(s=""),i.format==="date"&&(s=""),i.format==="time"&&(s=""),i.format==="duration"&&(s=""),`${s} ${r[i.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${_t(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}},"dL");function jX(){return{localeError:DX()}}a(jX,"Ej");var PX=a(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invlid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invlid: s'esperava ${Jt(i.values[0])}`:`Opci invlida: s'esperava una de ${_t(i.values," o ")}`;case"too_big":{let s=i.inclusive?"com a mxim":"menys de",o=t(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} contingus ${s} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"com a mnim":"ms de",o=t(i.origin);return o?`Massa petit: s'esperava que ${i.origin} contingus ${s} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Format invlid: ha de comenar amb "${s.prefix}"`:s.format==="ends_with"?`Format invlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invlid: ha de coincidir amb el patr ${s.pattern}`:`Format invlid per a ${n[s.format]??i.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`Clau invlida a ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${i.origin}`;default:return"Entrada invlida"}}},"lL");function zX(){return{localeError:PX()}}a(zX,"hj");var BX=a(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn vstup: oekvno ${i.expected}, obdreno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn vstup: oekvno ${Jt(i.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Hodnota je pli velk: ${i.origin??"hodnota"} mus mt ${s}${i.maximum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli velk: ${i.origin??"hodnota"} mus bt ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Hodnota je pli mal: ${i.origin??"hodnota"} mus mt ${s}${i.minimum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli mal: ${i.origin??"hodnota"} mus bt ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Neplatn etzec: mus zanat na "${s.prefix}"`:s.format==="ends_with"?`Neplatn etzec: mus konit na "${s.suffix}"`:s.format==="includes"?`Neplatn etzec: mus obsahovat "${s.includes}"`:s.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${s.pattern}`:`Neplatn formt ${n[s.format]??i.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${i.divisor}`;case"unrecognized_keys":return`Neznm kle: ${_t(i.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${i.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${i.origin}`;default:return"Neplatn vstup"}}},"rL");function FX(){return{localeError:BX()}}a(FX,"Rj");var UX=a(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function r(o){return e[o]??null}a(r,"_");function n(o){return t[o]??o}a(n,"K");let i=a(o=>{let l=typeof o;switch(l){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return l},"P"),s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${n(o.expected)}, fik ${n(i(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vrdi: forventede ${Jt(o.values[0])}`:`Ugyldigt valg: forventede en af flgende ${_t(o.values,"|")}`;case"too_big":{let l=o.inclusive?"<=":"<",u=r(o.origin),c=n(o.origin);return u?`For stor: forventede ${c??"value"} ${u.verb} ${l} ${o.maximum.toString()} ${u.unit??"elementer"}`:`For stor: forventede ${c??"value"} havde ${l} ${o.maximum.toString()}`}case"too_small":{let l=o.inclusive?">=":">",u=r(o.origin),c=n(o.origin);return u?`For lille: forventede ${c} ${u.verb} ${l} ${o.minimum.toString()} ${u.unit}`:`For lille: forventede ${c} havde ${l} ${o.minimum.toString()}`}case"invalid_format":{let l=o;return l.format==="starts_with"?`Ugyldig streng: skal starte med "${l.prefix}"`:l.format==="ends_with"?`Ugyldig streng: skal ende med "${l.suffix}"`:l.format==="includes"?`Ugyldig streng: skal indeholde "${l.includes}"`:l.format==="regex"?`Ugyldig streng: skal matche mnsteret ${l.pattern}`:`Ugyldig ${s[l.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${_t(o.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${o.origin}`;default:return"Ugyldigt input"}}},"oL");function HX(){return{localeError:UX()}}a(HX,"Ij");var GX=a(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ungltige Eingabe: erwartet ${Jt(i.values[0])}`:`Ungltige Option: erwartet eine von ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Zu gro: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${i.origin??"Wert"} ${s}${i.maximum.toString()} ist`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${s}${i.minimum.toString()} ist`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ungltiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungltiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungltiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungltiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungltig: ${n[s.format]??i.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${_t(i.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${i.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${i.origin}`;default:return"Ungltige Eingabe"}}},"nL");function VX(){return{localeError:GX()}}a(VX,"Dj");var KX=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"iL"),ZX=a(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${KX(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${Jt(n.values[0])}`:`Invalid option: expected one of ${_t(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${s.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${_t(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"BL");function zO(){return{localeError:ZX()}}a(zO,"aP");var YX=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"tL"),$X=a(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendiis ${n.expected}, riceviis ${YX(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendiis ${Jt(n.values[0])}`:`Nevalida opcio: atendiis unu el ${_t(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Tro malgranda: atendiis ke ${n.origin} havu ${i}${n.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${_t(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"UL");function QX(){return{localeError:$X()}}a(QX,"Lj");var WX=a(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(o){return e[o]??null}a(r,"_");function n(o){return t[o]??o}a(n,"K");let i=a(o=>{let l=typeof o;switch(l){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return l},"P"),s={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada invlida: se esperaba ${n(o.expected)}, recibido ${n(i(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada invlida: se esperaba ${Jt(o.values[0])}`:`Opcin invlida: se esperaba una de ${_t(o.values,"|")}`;case"too_big":{let l=o.inclusive?"<=":"<",u=r(o.origin),c=n(o.origin);return u?`Demasiado grande: se esperaba que ${c??"valor"} tuviera ${l}${o.maximum.toString()} ${u.unit??"elementos"}`:`Demasiado grande: se esperaba que ${c??"valor"} fuera ${l}${o.maximum.toString()}`}case"too_small":{let l=o.inclusive?">=":">",u=r(o.origin),c=n(o.origin);return u?`Demasiado pequeo: se esperaba que ${c} tuviera ${l}${o.minimum.toString()} ${u.unit}`:`Demasiado pequeo: se esperaba que ${c} fuera ${l}${o.minimum.toString()}`}case"invalid_format":{let l=o;return l.format==="starts_with"?`Cadena invlida: debe comenzar con "${l.prefix}"`:l.format==="ends_with"?`Cadena invlida: debe terminar en "${l.suffix}"`:l.format==="includes"?`Cadena invlida: debe incluir "${l.includes}"`:l.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${l.pattern}`:`Invlido ${s[l.format]??o.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${_t(o.keys,", ")}`;case"invalid_key":return`Llave invlida en ${n(o.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${n(o.origin)}`;default:return"Entrada invlida"}}},"FL");function XX(){return{localeError:WX()}}a(XX,"gj");var JX=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected}  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])} `:` :    ${_t(i.values,"|")} `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${s}${i.maximum.toString()} `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${s}${i.minimum.toString()} `}case"invalid_format":{let s=i;return s.format==="starts_with"?` :   "${s.prefix}"  `:s.format==="ends_with"?` :   "${s.suffix}"  `:s.format==="includes"?` :   "${s.includes}" `:s.format==="regex"?` :    ${s.pattern}   `:`${n[s.format]??i.format} `}case"not_multiple_of":return` :   ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""} : ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"aL");function qX(){return{localeError:JX()}}a(qX,"bj");var eJ=a(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syte: tytyy olla ${Jt(i.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Liian suuri: ${o.subject} tytyy olla ${s}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tytyy olla ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Liian pieni: ${o.subject} tytyy olla ${s}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tytyy olla ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syte: tytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syte: tytyy sislt "${s.includes}"`:s.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${s.pattern}`:`Virheellinen ${n[s.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${_t(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}},"QL");function tJ(){return{localeError:eJ()}}a(tJ,"yj");var rJ=a(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : ${i.expected} attendu, ${r(i.input)} reu`;case"invalid_value":return i.values.length===1?`Entre invalide : ${Jt(i.values[0])} attendu`:`Option invalide : une valeur parmi ${_t(i.values,"|")} attendue`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"lment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit tre ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit tre ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au modle ${s.pattern}`:`${n[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${_t(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"eL");function nJ(){return{localeError:rJ()}}a(nJ,"uj");var iJ=a(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : attendu ${i.expected}, reu ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entre invalide : attendu ${Jt(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"":"<",o=t(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${s}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"":">",o=t(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${s}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au motif ${s.pattern}`:`${n[s.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${_t(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}},"sL");function aJ(){return{localeError:iJ()}}a(aJ,"xj");var sJ=a(()=>{let e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=a(c=>c?e[c]:void 0,"_"),n=a(c=>{let d=r(c);return d?d.label:c??e.unknown.label},"K"),i=a(c=>`${n(c)}`,"P"),s=a(c=>(r(c)?.gender??"m")==="f"?" ":" ","O"),o=a(c=>c?t[c]??null:null,"Y"),l=a(c=>{let d=typeof c;switch(d){case"number":return Number.isNaN(c)?"NaN":"number";case"object":return Array.isArray(c)?"array":c===null?"null":Object.getPrototypeOf(c)!==Object.prototype&&c.constructor?c.constructor.name:"object";default:return d}},"z"),u={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}};return c=>{switch(c.code){case"invalid_type":{let d=c.expected,f=n(d),g=l(c.input),m=e[g]?.label??g;return`  :   ${f},  ${m}`}case"invalid_value":{if(c.values.length===1)return`  :    ${Jt(c.values[0])}`;let d=c.values.map(g=>Jt(g));if(c.values.length===2)return`  :    ${d[0]}  ${d[1]}`;let f=d[d.length-1];return`  :    ${d.slice(0,-1).join(", ")}  ${f}`}case"too_big":{let d=o(c.origin),f=i(c.origin??"value");if(c.origin==="string")return`${d?.longLabel??""} : ${f}   ${c.maximum.toString()} ${d?.unit??""} ${c.inclusive?" ":" "}`.trim();if(c.origin==="number"){let y=c.inclusive?`   -${c.maximum}`:` -${c.maximum}`;return` : ${f}   ${y}`}if(c.origin==="array"||c.origin==="set"){let y=c.origin==="set"?"":"",_=c.inclusive?`${c.maximum} ${d?.unit??""}  `:` -${c.maximum} ${d?.unit??""}`;return` : ${f} ${y}  ${_}`.trim()}let g=c.inclusive?"<=":"<",m=s(c.origin??"value");return d?.unit?`${d.longLabel} : ${f} ${m} ${g}${c.maximum.toString()} ${d.unit}`:`${d?.longLabel??""} : ${f} ${m} ${g}${c.maximum.toString()}`}case"too_small":{let d=o(c.origin),f=i(c.origin??"value");if(c.origin==="string")return`${d?.shortLabel??""} : ${f}   ${c.minimum.toString()} ${d?.unit??""} ${c.inclusive?" ":""}`.trim();if(c.origin==="number"){let y=c.inclusive?`   -${c.minimum}`:` -${c.minimum}`;return` : ${f}   ${y}`}if(c.origin==="array"||c.origin==="set"){let y=c.origin==="set"?"":"";if(c.minimum===1&&c.inclusive){let A=(c.origin==="set","  ");return` : ${f} ${y}  ${A}`}let _=c.inclusive?`${c.minimum} ${d?.unit??""}  `:` -${c.minimum} ${d?.unit??""}`;return` : ${f} ${y}  ${_}`.trim()}let g=c.inclusive?">=":">",m=s(c.origin??"value");return d?.unit?`${d.shortLabel} : ${f} ${m} ${g}${c.minimum.toString()} ${d.unit}`:`${d?.shortLabel??""} : ${f} ${m} ${g}${c.minimum.toString()}`}case"invalid_format":{let d=c;if(d.format==="starts_with")return`    "${d.prefix}"`;if(d.format==="ends_with")return`    "${d.suffix}"`;if(d.format==="includes")return`   "${d.includes}"`;if(d.format==="regex")return`    ${d.pattern}`;let f=u[d.format],g=f?.label??d.format,m=(f?.gender??"m")==="f"?"":"";return`${g}  ${m}`}case"not_multiple_of":return`  :     ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""}  ${c.keys.length>1?"":""}: ${_t(c.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${i(c.origin??"array")}`;default:return"  "}}},"$g");function oJ(){return{localeError:sJ()}}a(oJ,"pj");var lJ=a(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"szm";case"object":{if(Array.isArray(i))return"tmb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${i.expected}, a kapott rtk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`rvnytelen bemenet: a vrt rtk ${Jt(i.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Tl nagy: ${i.origin??"rtk"} mrete tl nagy ${s}${i.maximum.toString()} ${o.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${i.origin??"rtk"} tl nagy: ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Tl kicsi: a bemeneti rtk ${i.origin} mrete tl kicsi ${s}${i.minimum.toString()} ${o.unit}`:`Tl kicsi: a bemeneti rtk ${i.origin} tl kicsi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`rvnytelen string: "${s.prefix}" rtkkel kell kezddnie`:s.format==="ends_with"?`rvnytelen string: "${s.suffix}" rtkkel kell vgzdnie`:s.format==="includes"?`rvnytelen string: "${s.includes}" rtket kell tartalmaznia`:s.format==="regex"?`rvnytelen string: ${s.pattern} mintnak kell megfelelnie`:`rvnytelen ${n[s.format]??i.format}`}case"not_multiple_of":return`rvnytelen szm: ${i.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${i.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${i.origin}`;default:return"rvnytelen bemenet"}}},"qg");function uJ(){return{localeError:lJ()}}a(uJ,"cj");var cJ=a(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Jt(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${n[s.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}},"_g");function dJ(){return{localeError:cJ()}}a(dJ,"mj");var fJ=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"Kg"),hJ=a(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi:  slst inn ${fJ(n.input)} ar sem  a vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r fyrir ${Jt(n.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${_t(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`Of strt: gert er r fyrir a ${n.origin??"gildi"} hafi ${i}${n.maximum.toString()} ${s.unit??"hluti"}`:`Of strt: gert er r fyrir a ${n.origin??"gildi"} s ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`Of lti: gert er r fyrir a ${n.origin} hafi ${i}${n.minimum.toString()} ${s.unit}`:`Of lti: gert er r fyrir a ${n.origin} s ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${r[i.format]??n.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`ekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${_t(n.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${n.origin}`;default:return"Rangt gildi"}}},"Pg");function pJ(){return{localeError:hJ()}}a(pJ,"dj");var mJ=a(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Jt(i.values[0])}`:`Opzione non valida: atteso uno tra ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${s}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${s}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${n[s.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${_t(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}},"Og");function gJ(){return{localeError:mJ()}}a(gJ,"lj");var bJ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`: ${i.expected}${r(i.input)}`;case"invalid_value":return i.values.length===1?`: ${Jt(i.values[0])}`:`: ${_t(i.values,"")}`;case"too_big":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""}${i.maximum.toString()}${o.unit??""}${s}`:`: ${i.origin??""}${i.maximum.toString()}${s}`}case"too_small":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin}${i.minimum.toString()}${o.unit}${s}`:`: ${i.origin}${i.minimum.toString()}${s}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`: "${s.prefix}"`:s.format==="ends_with"?`: "${s.suffix}"`:s.format==="includes"?`: "${s.includes}"`:s.format==="regex"?`: ${s.pattern}`:`${n[s.format]??i.format}`}case"not_multiple_of":return`: ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}: ${_t(i.keys,"")}`;case"invalid_key":return`${i.origin}`;case"invalid_union":return"";case"invalid_element":return`${i.origin}`;default:return""}}},"Yg");function vJ(){return{localeError:bJ()}}a(vJ,"rj");var yJ=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[t]??t},"jg"),wJ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}a(t,"q");let r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${yJ(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${Jt(n.values[0])}`:` :  - ${_t(n.values,"|")}-`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?` :  ${n.origin??""} ${s.verb} ${i}${n.maximum.toString()} ${s.unit}`:` :  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?` :  ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:` :  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${r[i.format]??n.format}`}case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${_t(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return" "}}},"vg");function xJ(){return{localeError:wJ()}}a(xJ,"oj");var _J=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  ${Jt(i.values[0])}`:`  ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`  ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`  ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`  ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`  ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`  "${s.prefix}"`:s.format==="ends_with"?`  "${s.suffix}"`:s.format==="includes"?`  "${s.includes}"`:s.format==="regex"?`  ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return`  ${i.divisor}`;case"unrecognized_keys":return` ${_t(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return"";case"invalid_element":return` ${i.origin}`;default:return""}}},"zg");function BO(){return{localeError:_J()}}a(BO,"QP");function EJ(){return BO()}a(EJ,"nj");var SJ=a(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},   ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])}  `:` : ${_t(i.values," ")}   `;case"too_big":{let s=i.inclusive?"":"",o=s===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.maximum.toString()}${u} ${s}${o}`:`${i.origin??""}  : ${i.maximum.toString()} ${s}${o}`}case"too_small":{let s=i.inclusive?"":"",o=s===""?" ":" ",l=t(i.origin),u=l?.unit??"";return l?`${i.origin??""}  : ${i.minimum.toString()}${u} ${s}${o}`:`${i.origin??""}  : ${i.minimum.toString()} ${s}${o}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"()  `:s.format==="ends_with"?` : "${s.suffix}"()  `:s.format==="includes"?` : "${s.includes}"()  `:s.format==="regex"?` :  ${s.pattern}   `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}  `;case"unrecognized_keys":return`   : ${_t(i.keys,", ")}`;case"invalid_key":return` : ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${i.origin}`;default:return" "}}},"Wg");function kJ(){return{localeError:SJ()}}a(kJ,"ij");var AJ=a(e=>Yc(typeof e,e),"Jg"),Yc=a((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"neinomas objektas":t===null?"nulin reikm":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin reikm"}return e},"sP"),uc=a(e=>e.charAt(0).toUpperCase()+e.slice(1),"eP");function R_(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}a(R_,"uA");var TJ=a(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(n,i,s,o){let l=e[n]??null;return l===null?l:{unit:l.unit[i],verb:l.verb[o][s?"inclusive":"notInclusive"]}}a(t,"q");let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${AJ(n.input)}, o tiktasi - ${Yc(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo bti ${Jt(n.values[0])}`:`Privalo bti vienas i ${_t(n.values,"|")} pasirinkim`;case"too_big":{let i=Yc(n.origin),s=t(n.origin,R_(Number(n.maximum)),n.inclusive??!1,"smaller");if(s?.verb)return`${uc(i??n.origin??"reikm")} ${s.verb} ${n.maximum.toString()} ${s.unit??"element"}`;let o=n.inclusive?"ne didesnis kaip":"maesnis kaip";return`${uc(i??n.origin??"reikm")} turi bti ${o} ${n.maximum.toString()} ${s?.unit}`}case"too_small":{let i=Yc(n.origin),s=t(n.origin,R_(Number(n.minimum)),n.inclusive??!1,"bigger");if(s?.verb)return`${uc(i??n.origin??"reikm")} ${s.verb} ${n.minimum.toString()} ${s.unit??"element"}`;let o=n.inclusive?"ne maesnis kaip":"didesnis kaip";return`${uc(i??n.origin??"reikm")} turi bti ${o} ${n.minimum.toString()} ${s?.unit}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${r[i.format]??n.format}`}case"not_multiple_of":return`Skaiius privalo bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${_t(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let i=Yc(n.origin);return`${uc(i??n.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}},"Hg");function NJ(){return{localeError:TJ()}}a(NJ,"Bj");var IJ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Jt(i.values[0])}`:` :    ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` :   ${i.origin??""}   ${s}${i.maximum.toString()} ${o.unit??""}`:` :   ${i.origin??""}   ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` :   ${i.origin}   ${s}${i.minimum.toString()} ${o.unit}`:` :   ${i.origin}   ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :     "${s.prefix}"`:s.format==="ends_with"?` :     "${s.suffix}"`:s.format==="includes"?` :    "${s.includes}"`:s.format==="regex"?` :      ${s.pattern}`:`Invalid ${n[s.format]??i.format}`}case"not_multiple_of":return` :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?" ":" "}: ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}},"Tg");function CJ(){return{localeError:IJ()}}a(CJ,"tj");var MJ=a(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Jt(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${n[s.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${_t(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}},"wg");function OJ(){return{localeError:MJ()}}a(OJ,"Uj");var RJ=a(()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Jt(i.values[0])}`:`Ongeldige optie: verwacht n van ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Te groot: verwacht dat ${i.origin??"waarde"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"elementen"}`:`Te groot: verwacht dat ${i.origin??"waarde"} ${s}${i.maximum.toString()} is`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Te klein: verwacht dat ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Te klein: verwacht dat ${i.origin} ${s}${i.minimum.toString()} is`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${n[s.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}},"fg");function LJ(){return{localeError:RJ()}}a(LJ,"Fj");var DJ=a(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Jt(i.values[0])}`:`Ugyldig valg: forventet en av ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til  ha ${s}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til  ha ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`For lite(n): forventet ${i.origin} til  ha ${s}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til  ha ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ugyldig streng: m starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: m ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: m inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: m matche mnsteret ${s.pattern}`:`Ugyldig ${n[s.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${_t(i.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}},"Zg");function jJ(){return{localeError:DJ()}}a(jJ,"aj");var PJ=a(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fsit giren: umulan ${i.expected}, alnan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Fsit giren: umulan ${Jt(i.values[0])}`:`Fsit tercih: mteberler ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fazla byk: ${i.origin??"value"}, ${s}${i.maximum.toString()} ${o.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${i.origin??"value"}, ${s}${i.maximum.toString()} olmalyd.`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Fazla kk: ${i.origin}, ${s}${i.minimum.toString()} ${o.unit} sahip olmalyd.`:`Fazla kk: ${i.origin}, ${s}${i.minimum.toString()} olmalyd.`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Fsit metin: "${s.prefix}" ile balamal.`:s.format==="ends_with"?`Fsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fsit metin: "${s.includes}" ihtiv etmeli.`:s.format==="regex"?`Fsit metin: ${s.pattern} nakna uymal.`:`Fsit ${n[s.format]??i.format}`}case"not_multiple_of":return`Fsit say: ${i.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`${i.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${i.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}},"Xg");function zJ(){return{localeError:PJ()}}a(zJ,"Qj");var BJ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected} ,  ${r(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])} `:` :    ${_t(i.values,"|")}  `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${s}${i.maximum.toString()} `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${s}${i.minimum.toString()} `}case"invalid_format":{let s=i;return s.format==="starts_with"?` :   "${s.prefix}"   `:s.format==="ends_with"?` :   "${s.suffix}"    `:s.format==="includes"?` :  "${s.includes}" `:s.format==="regex"?` :   ${s.pattern}   `:`${n[s.format]??i.format}  `}case"not_multiple_of":return` :   ${i.divisor}  `;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin} `;default:return" "}}},"Ag");function FJ(){return{localeError:BJ()}}a(FJ,"ej");var UJ=a(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Jt(i.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Za dua warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${s}${i.maximum.toString()} ${o.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Za maa warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${s}${i.minimum.toString()} ${o.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${s.suffix}"`:s.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${s.includes}"`:s.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${s.pattern}`:`Nieprawidow(y/a/e) ${n[s.format]??i.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${i.origin}`;default:return"Nieprawidowe dane wejciowe"}}},"kg");function HJ(){return{localeError:UJ()}}a(HJ,"sj");var GJ=a(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invlido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: esperado ${Jt(i.values[0])}`:`Opo invlida: esperada uma das ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${s}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${s}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Texto invlido: deve comear com "${s.prefix}"`:s.format==="ends_with"?`Texto invlido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto invlido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto invlido: deve corresponder ao padro ${s.pattern}`:`${n[s.format]??i.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`Chave invlida em ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${i.origin}`;default:return"Campo invlido"}}},"Gg");function VJ(){return{localeError:GJ()}}a(VJ,"$v");function L_(e,t,r,n){let i=Math.abs(e),s=i%10,o=i%100;return o>=11&&o<=19?n:s===1?t:s>=2&&s<=4?r:n}a(L_,"xA");var KJ=a(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])}`:` :    ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);if(o){let l=Number(i.maximum),u=L_(l,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin??""}   ${s}${i.maximum.toString()} ${u}`}return`  : ,  ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);if(o){let l=Number(i.minimum),u=L_(l,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin}   ${s}${i.minimum.toString()} ${u}`}return`  : ,  ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"Vg");function ZJ(){return{localeError:KJ()}}a(ZJ,"qv");var YJ=a(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priakovano ${Jt(i.values[0])}`:`Neveljavna monost: priakovano eno izmed ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Preveliko: priakovano, da bo ${i.origin??"vrednost"} imelo ${s}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priakovano, da bo ${i.origin??"vrednost"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Premajhno: priakovano, da bo ${i.origin} imelo ${s}${i.minimum.toString()} ${o.unit}`:`Premajhno: priakovano, da bo ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se konati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${n[s.format]??i.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljui":" klju"}: ${_t(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}},"Sg");function $J(){return{localeError:YJ()}}a($J,"_v");var QJ=a(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: frvntat ${Jt(i.values[0])}`:`Ogiltigt val: frvntade en av ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fr stor(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.maximum.toString()} ${o.unit??"element"}`:`Fr stor(t): frvntat ${i.origin??"vrdet"} att ha ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.minimum.toString()} ${o.unit}`:`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Ogiltig strng: mste brja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig strng: mste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig strng: mste innehlla "${s.includes}"`:s.format==="regex"?`Ogiltig strng: mste matcha mnstret "${s.pattern}"`:`Ogiltig(t) ${n[s.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${_t(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${i.origin??"vrdet"}`;default:return"Ogiltig input"}}},"Mg");function WJ(){return{localeError:QJ()}}a(WJ,"Kv");var XJ=a(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" ":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Jt(i.values[0])}`:` :  ${_t(i.values,"|")}  `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` :  ${i.origin??""} ${s}${i.maximum.toString()} ${o.unit??""}   `:` :  ${i.origin??""} ${s}${i.maximum.toString()}   `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` :  ${i.origin} ${s}${i.minimum.toString()} ${o.unit}   `:` :  ${i.origin} ${s}${i.minimum.toString()}   `}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"   `:s.format==="ends_with"?` : "${s.suffix}"   `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` : ${s.pattern}   `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`  ${i.keys.length>1?"":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${i.origin}   `;default:return" "}}},"Ng");function JJ(){return{localeError:XJ()}}a(JJ,"Pv");var qJ=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`:  ${i.expected}  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`:  ${Jt(i.values[0])}`:`:  ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""} ${s} ${i.maximum.toString()} ${o.unit??""}`:`: ${i.origin??""} ${s} ${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin} ${s} ${i.minimum.toString()} ${o.unit}`:`: ${i.origin} ${s} ${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`:  "${s.prefix}"`:s.format==="ends_with"?`:  "${s.suffix}"`:s.format==="includes"?`:  "${s.includes}" `:s.format==="regex"?`:  ${s.pattern}`:`: ${n[s.format]??i.format}`}case"not_multiple_of":return`:  ${i.divisor} `;case"unrecognized_keys":return`: ${_t(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${i.origin}`;default:return""}}},"Cg");function eq(){return{localeError:qJ()}}a(eq,"Ov");var tq=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"Eg"),rq=a(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(n){return e[n]??null}a(t,"q");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Geersiz deer: beklenen ${n.expected}, alnan ${tq(n.input)}`;case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${Jt(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${_t(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=t(n.origin);return s?`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()} ${s.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=t(n.origin);return s?`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${s.unit}`:`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${_t(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}},"hg");function nq(){return{localeError:rq()}}a(nq,"Yv");var iq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${r(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Jt(i.values[0])}`:` :    ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ,  ${i.origin??""} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??""}`:` : ,  ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ,  ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:` : ,  ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${_t(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}},"Rg");function FO(){return{localeError:iq()}}a(FO,"$72");function aq(){return FO()}a(aq,"jv");var sq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  : ${i.expected}   ${r(i.input)}  `;case"invalid_value":return i.values.length===1?`  : ${Jt(i.values[0])}  `:` : ${_t(i.values,"|")}     `;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""}   `:` : ${i.origin??""}  ${s}${i.maximum.toString()}   `}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${s}${i.minimum.toString()} ${o.unit}   `:` : ${i.origin}  ${s}${i.minimum.toString()}   `}case"invalid_format":{let s=i;return s.format==="starts_with"?` : "${s.prefix}"    `:s.format==="ends_with"?` : "${s.suffix}"    `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` :  ${s.pattern}    `:` ${n[s.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`   ${i.keys.length>1?"":""}: ${_t(i.keys," ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${i.origin}   `;default:return"  "}}},"Ig");function oq(){return{localeError:sq()}}a(oq,"vv");var lq=a(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"s";case"object":{if(Array.isArray(i))return"mng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return i=>{switch(i.code){case"invalid_type":return`u vo khng hp l: mong i ${i.expected}, nhn c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`u vo khng hp l: mong i ${Jt(i.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`Qu ln: mong i ${i.origin??"gi tr"} ${o.verb} ${s}${i.maximum.toString()} ${o.unit??"phn t"}`:`Qu ln: mong i ${i.origin??"gi tr"} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Qu nh: mong i ${i.origin} ${o.verb} ${s}${i.minimum.toString()} ${o.unit}`:`Qu nh: mong i ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`Chui khng hp l: phi bt u bng "${s.prefix}"`:s.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${s.suffix}"`:s.format==="includes"?`Chui khng hp l: phi bao gm "${s.includes}"`:s.format==="regex"?`Chui khng hp l: phi khp vi mu ${s.pattern}`:`${n[s.format]??i.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${i.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${_t(i.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${i.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${i.origin}`;default:return"u vo khng hp l"}}},"Dg");function uq(){return{localeError:lq()}}a(uq,"zv");var cq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"(NaN)":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Jt(i.values[0])}`:` ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""} ${s}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""} ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin} ${s}${i.minimum.toString()} ${o.unit}`:` ${i.origin} ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:`${n[s.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`(key): ${_t(i.keys,", ")}`;case"invalid_key":return`${i.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${i.origin} (value)`;default:return""}}},"Lg");function dq(){return{localeError:cq()}}a(dq,"Wv");var fq=a(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${r(i.input)}`;case"invalid_value":return i.values.length===1?` ${Jt(i.values[0])}`:` ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""}  ${s}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""}  ${s}${i.maximum.toString()}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin}  ${s}${i.minimum.toString()} ${o.unit}`:` ${i.origin}  ${s}${i.minimum.toString()}`}case"invalid_format":{let s=i;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:` ${n[s.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""}${_t(i.keys,"")}`;case"invalid_key":return`${i.origin} `;case"invalid_union":return"";case"invalid_element":return`${i.origin} `;default:return""}}},"gg");function hq(){return{localeError:fq()}}a(hq,"Jv");var pq=a(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(i){return e[i]??null}a(t,"q");let r=a(i=>{let s=typeof i;switch(s){case"number":return Number.isNaN(i)?"NaN":"nmb";case"object":{if(Array.isArray(i))return"akop";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return s},"_"),n={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return i=>{switch(i.code){case"invalid_type":return`bwl ae: a n lti fi ${i.expected}, m a r ${r(i.input)}`;case"invalid_value":return i.values.length===1?`bwl ae: a n lti fi ${Jt(i.values[0])}`:`yn ae: yan kan lra ${_t(i.values,"|")}`;case"too_big":{let s=i.inclusive?"<=":"<",o=t(i.origin);return o?`T p j: a n lti j p ${i.origin??"iye"} ${o.verb} ${s}${i.maximum} ${o.unit}`:`T p j: a n lti j ${s}${i.maximum}`}case"too_small":{let s=i.inclusive?">=":">",o=t(i.origin);return o?`Kr ju: a n lti j p ${i.origin} ${o.verb} ${s}${i.minimum} ${o.unit}`:`Kr ju: a n lti j ${s}${i.minimum}`}case"invalid_format":{let s=i;return s.format==="starts_with"?`r ae: gbd br pl "${s.prefix}"`:s.format==="ends_with"?`r ae: gbd par pl "${s.suffix}"`:s.format==="includes"?`r ae: gbd n "${s.includes}"`:s.format==="regex"?`r ae: gbd b pr mu ${s.pattern}`:`Ae: ${n[s.format]??i.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${i.divisor}`;case"unrecognized_keys":return`Btn m: ${_t(i.keys,", ")}`;case"invalid_key":return`Btn ae nn ${i.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${i.origin}`;default:return"bwl ae"}}},"bg");function mq(){return{localeError:pq()}}a(mq,"Hv");var D_,UO=Symbol("ZodOutput"),HO=Symbol("ZodInput");class _4{static{a(this,"_7")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function E4(){return new _4}a(E4,"B9");(D_=globalThis).__zod_globalRegistry??(D_.__zod_globalRegistry=E4());var Cn=globalThis.__zod_globalRegistry;function GO(e,t){return new e({type:"string",...St(t)})}a(GO,"fv");function VO(e,t){return new e({type:"string",coerce:!0,...St(t)})}a(VO,"Zv");function S4(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...St(t)})}a(S4,"t9");function j0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...St(t)})}a(j0,"K7");function k4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...St(t)})}a(k4,"U9");function A4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...St(t)})}a(A4,"F9");function T4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...St(t)})}a(T4,"a9");function N4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...St(t)})}a(N4,"Q9");function sm(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...St(t)})}a(sm,"P7");function I4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...St(t)})}a(I4,"e9");function C4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...St(t)})}a(C4,"s9");function M4(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...St(t)})}a(M4,"$52");function O4(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...St(t)})}a(O4,"q5");function R4(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...St(t)})}a(R4,"_5");function L4(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...St(t)})}a(L4,"K5");function D4(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...St(t)})}a(D4,"P5");function j4(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...St(t)})}a(j4,"O5");function P4(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...St(t)})}a(P4,"Y5");function KO(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...St(t)})}a(KO,"Xv");function z4(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...St(t)})}a(z4,"j5");function B4(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...St(t)})}a(B4,"v5");function F4(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...St(t)})}a(F4,"z5");function U4(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...St(t)})}a(U4,"W5");function H4(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...St(t)})}a(H4,"J5");function G4(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...St(t)})}a(G4,"H5");var ZO={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function YO(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...St(t)})}a(YO,"kv");function $O(e,t){return new e({type:"string",format:"date",check:"string_format",...St(t)})}a($O,"Gv");function QO(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...St(t)})}a(QO,"Vv");function WO(e,t){return new e({type:"string",format:"duration",check:"string_format",...St(t)})}a(WO,"Sv");function XO(e,t){return new e({type:"number",checks:[],...St(t)})}a(XO,"Mv");function JO(e,t){return new e({type:"number",coerce:!0,checks:[],...St(t)})}a(JO,"Nv");function qO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...St(t)})}a(qO,"Cv");function eR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...St(t)})}a(eR,"Ev");function tR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...St(t)})}a(tR,"hv");function rR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...St(t)})}a(rR,"Rv");function nR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...St(t)})}a(nR,"Iv");function iR(e,t){return new e({type:"boolean",...St(t)})}a(iR,"Dv");function aR(e,t){return new e({type:"boolean",coerce:!0,...St(t)})}a(aR,"Lv");function sR(e,t){return new e({type:"bigint",...St(t)})}a(sR,"gv");function oR(e,t){return new e({type:"bigint",coerce:!0,...St(t)})}a(oR,"bv");function lR(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...St(t)})}a(lR,"yv");function uR(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...St(t)})}a(uR,"uv");function cR(e,t){return new e({type:"symbol",...St(t)})}a(cR,"xv");function dR(e,t){return new e({type:"undefined",...St(t)})}a(dR,"pv");function fR(e,t){return new e({type:"null",...St(t)})}a(fR,"cv");function hR(e){return new e({type:"any"})}a(hR,"mv");function pR(e){return new e({type:"unknown"})}a(pR,"T5");function V4(e,t){return new e({type:"never",...St(t)})}a(V4,"O7");function mR(e,t){return new e({type:"void",...St(t)})}a(mR,"dv");function gR(e,t){return new e({type:"date",...St(t)})}a(gR,"lv");function bR(e,t){return new e({type:"date",coerce:!0,...St(t)})}a(bR,"rv");function vR(e,t){return new e({type:"nan",...St(t)})}a(vR,"ov");function xl(e,t){return new d4({check:"less_than",...St(t),value:e,inclusive:!1})}a(xl,"z_");function ma(e,t){return new d4({check:"less_than",...St(t),value:e,inclusive:!0})}a(ma,"Z8");function _l(e,t){return new f4({check:"greater_than",...St(t),value:e,inclusive:!1})}a(_l,"W_");function Mi(e,t){return new f4({check:"greater_than",...St(t),value:e,inclusive:!0})}a(Mi,"Qq");function yR(e){return _l(0,e)}a(yR,"nv");function wR(e){return xl(0,e)}a(wR,"iv");function xR(e){return ma(0,e)}a(xR,"Bv");function _R(e){return Mi(0,e)}a(_R,"tv");function Od(e,t){return new oM({check:"multiple_of",...St(t),value:e})}a(Od,"XK");function om(e,t){return new cM({check:"max_size",...St(t),maximum:e})}a(om,"j4");function Rd(e,t){return new dM({check:"min_size",...St(t),minimum:e})}a(Rd,"AK");function K4(e,t){return new fM({check:"size_equals",...St(t),size:e})}a(K4,"Y7");function lm(e,t){return new hM({check:"max_length",...St(t),maximum:e})}a(lm,"v4");function Su(e,t){return new pM({check:"min_length",...St(t),minimum:e})}a(Su,"i_");function um(e,t){return new mM({check:"length_equals",...St(t),length:e})}a(um,"z4");function Z4(e,t){return new gM({check:"string_format",format:"regex",...St(t),pattern:e})}a(Z4,"j7");function Y4(e){return new bM({check:"string_format",format:"lowercase",...St(e)})}a(Y4,"v7");function $4(e){return new vM({check:"string_format",format:"uppercase",...St(e)})}a($4,"z7");function Q4(e,t){return new yM({check:"string_format",format:"includes",...St(t),includes:e})}a(Q4,"W7");function W4(e,t){return new wM({check:"string_format",format:"starts_with",...St(t),prefix:e})}a(W4,"J7");function X4(e,t){return new xM({check:"string_format",format:"ends_with",...St(t),suffix:e})}a(X4,"H7");function ER(e,t,r){return new _M({check:"property",property:e,schema:t,...St(r)})}a(ER,"Uv");function J4(e,t){return new EM({check:"mime_type",mime:e,...St(t)})}a(J4,"T7");function Oo(e){return new SM({check:"overwrite",tx:e})}a(Oo,"B8");function q4(e){return Oo(t=>t.normalize(e))}a(q4,"w7");function e6(){return Oo(e=>e.trim())}a(e6,"f7");function t6(){return Oo(e=>e.toLowerCase())}a(t6,"Z7");function r6(){return Oo(e=>e.toUpperCase())}a(r6,"X7");function n6(){return Oo(e=>hC(e))}a(n6,"A7");function SR(e,t,r){return new e({type:"array",element:t,...St(r)})}a(SR,"Fv");function gq(e,t,r){return new e({type:"union",options:t,...St(r)})}a(gq,"ug");function bq(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...St(n)})}a(bq,"xg");function vq(e,t,r){return new e({type:"intersection",left:t,right:r})}a(vq,"pg");function yq(e,t,r,n){let i=r instanceof er;return new e({type:"tuple",items:t,rest:i?r:null,...St(i?n:r)})}a(yq,"cg");function wq(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...St(n)})}a(wq,"mg");function xq(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...St(n)})}a(xq,"dg");function _q(e,t,r){return new e({type:"set",valueType:t,...St(r)})}a(_q,"lg");function Eq(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:n,...St(r)})}a(Eq,"rg");function Sq(e,t,r){return new e({type:"enum",entries:t,...St(r)})}a(Sq,"og");function kq(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...St(r)})}a(kq,"ng");function kR(e,t){return new e({type:"file",...St(t)})}a(kR,"av");function Aq(e,t){return new e({type:"transform",transform:t})}a(Aq,"ig");function Tq(e,t){return new e({type:"optional",innerType:t})}a(Tq,"Bg");function Nq(e,t){return new e({type:"nullable",innerType:t})}a(Nq,"tg");function Iq(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():mC(r)}})}a(Iq,"Ug");function Cq(e,t,r){return new e({type:"nonoptional",innerType:t,...St(r)})}a(Cq,"Fg");function Mq(e,t){return new e({type:"success",innerType:t})}a(Mq,"ag");function Oq(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}a(Oq,"Qg");function Rq(e,t,r){return new e({type:"pipe",in:t,out:r})}a(Rq,"eg");function Lq(e,t){return new e({type:"readonly",innerType:t})}a(Lq,"sg");function Dq(e,t,r){return new e({type:"template_literal",parts:t,...St(r)})}a(Dq,"$b");function jq(e,t){return new e({type:"lazy",getter:t})}a(jq,"qb");function Pq(e,t){return new e({type:"promise",innerType:t})}a(Pq,"_b");function AR(e,t,r){let n=St(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}a(AR,"Qv");function TR(e,t,r){return new e({type:"custom",check:"custom",fn:t,...St(r)})}a(TR,"ev");function NR(e){let t=IR(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(R0(n,r.value,t._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(R0(i))}},e(r.value,r)));return t}a(NR,"sv");function IR(e,t){let r=new Wr({check:"custom",...St(t)});return r._zod.check=e,r}a(IR,"cA");function CR(e){let t=new Wr({check:"describe"});return t._zod.onattach=[r=>{let n=Cn.get(r)??{};Cn.add(r,{...n,description:e})}],t._zod.check=()=>{},t}a(CR,"$z");function MR(e){let t=new Wr({check:"meta"});return t._zod.onattach=[r=>{let n=Cn.get(r)??{};Cn.add(r,{...n,...e})}],t._zod.check=()=>{},t}a(MR,"qz");function OR(e,t){let r=St(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(g=>typeof g=="string"?g.toLowerCase():g),i=i.map(g=>typeof g=="string"?g.toLowerCase():g));let s=new Set(n),o=new Set(i),l=e.Codec??w4,u=e.Boolean??m4,c=new(e.String??xf)({type:"string",error:r.error}),d=new u({type:"boolean",error:r.error}),f=new l({type:"pipe",in:c,out:d,transform:a((g,m)=>{let y=g;return r.case!=="sensitive"&&(y=y.toLowerCase()),s.has(y)?!0:o.has(y)?!1:(m.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:m.value,inst:f,continue:!1}),{})},"transform"),reverseTransform:a((g,m)=>g===!0?n[0]||"true":i[0]||"false","reverseTransform"),error:r.error});return f}a(OR,"_z");function _f(e,t,r,n={}){let i=St(n),s={...St(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...i};return r instanceof RegExp&&(s.pattern=r),new e(s)}a(_f,"W4");class e1{static{a(this,"w5")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??Cn,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let l={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,l);let u=t._zod.toJSONSchema?.();if(u)l.schema=u;else{let d={...r,schemaPath:[...r.schemaPath,t],path:r.path},f=t._zod.parent;if(f)l.ref=f,this.process(f,d),this.seen.get(f).isParent=!0;else{let g=l.schema;switch(i.type){case"string":{let m=g;m.type="string";let{minimum:y,maximum:_,format:A,patterns:I,contentEncoding:O}=t._zod.bag;if(typeof y=="number"&&(m.minLength=y),typeof _=="number"&&(m.maxLength=_),A&&(m.format=s[A]??A,m.format===""&&delete m.format),O&&(m.contentEncoding=O),I&&I.size>0){let R=[...I];R.length===1?m.pattern=R[0].source:R.length>1&&(l.schema.allOf=[...R.map(L=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:L.source}))])}break}case"number":{let m=g,{minimum:y,maximum:_,format:A,multipleOf:I,exclusiveMaximum:O,exclusiveMinimum:R}=t._zod.bag;typeof A=="string"&&A.includes("int")?m.type="integer":m.type="number",typeof R=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.minimum=R,m.exclusiveMinimum=!0):m.exclusiveMinimum=R),typeof y=="number"&&(m.minimum=y,typeof R=="number"&&this.target!=="draft-4"&&(R>=y?delete m.minimum:delete m.exclusiveMinimum)),typeof O=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(m.maximum=O,m.exclusiveMaximum=!0):m.exclusiveMaximum=O),typeof _=="number"&&(m.maximum=_,typeof O=="number"&&this.target!=="draft-4"&&(O<=_?delete m.maximum:delete m.exclusiveMaximum)),typeof I=="number"&&(m.multipleOf=I);break}case"boolean":{let m=g;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(g.type="string",g.nullable=!0,g.enum=[null]):g.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{g.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let m=g,{minimum:y,maximum:_}=t._zod.bag;typeof y=="number"&&(m.minItems=y),typeof _=="number"&&(m.maxItems=_),m.type="array",m.items=this.process(i.element,{...d,path:[...d.path,"items"]});break}case"object":{let m=g;m.type="object",m.properties={};let y=i.shape;for(let I in y)m.properties[I]=this.process(y[I],{...d,path:[...d.path,"properties",I]});let _=new Set(Object.keys(y)),A=new Set([..._].filter(I=>{let O=i.shape[I]._zod;return this.io==="input"?O.optin===void 0:O.optout===void 0}));A.size>0&&(m.required=Array.from(A)),i.catchall?._zod.def.type==="never"?m.additionalProperties=!1:i.catchall?i.catchall&&(m.additionalProperties=this.process(i.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{let m=g,y=i.discriminator!==void 0,_=i.options.map((A,I)=>this.process(A,{...d,path:[...d.path,y?"oneOf":"anyOf",I]}));y?m.oneOf=_:m.anyOf=_;break}case"intersection":{let m=g,y=this.process(i.left,{...d,path:[...d.path,"allOf",0]}),_=this.process(i.right,{...d,path:[...d.path,"allOf",1]}),A=a(O=>"allOf"in O&&Object.keys(O).length===1,"E"),I=[...A(y)?y.allOf:[y],...A(_)?_.allOf:[_]];m.allOf=I;break}case"tuple":{let m=g;m.type="array";let y=this.target==="draft-2020-12"?"prefixItems":"items",_=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",A=i.items.map((L,D)=>this.process(L,{...d,path:[...d.path,y,D]})),I=i.rest?this.process(i.rest,{...d,path:[...d.path,_,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(m.prefixItems=A,I&&(m.items=I)):this.target==="openapi-3.0"?(m.items={anyOf:A},I&&m.items.anyOf.push(I),m.minItems=A.length,!I&&(m.maxItems=A.length)):(m.items=A,I&&(m.additionalItems=I));let{minimum:O,maximum:R}=t._zod.bag;typeof O=="number"&&(m.minItems=O),typeof R=="number"&&(m.maxItems=R);break}case"record":{let m=g;m.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(m.propertyNames=this.process(i.keyType,{...d,path:[...d.path,"propertyNames"]})),m.additionalProperties=this.process(i.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let m=g,y=X2(i.entries);y.every(_=>typeof _=="number")&&(m.type="number"),y.every(_=>typeof _=="string")&&(m.type="string"),m.enum=y;break}case"literal":{let m=g,y=[];for(let _ of i.values)if(_===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof _=="bigint"){if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(_))}else y.push(_);if(y.length!==0)if(y.length===1){let _=y[0];m.type=_===null?"null":typeof _,this.target==="draft-4"||this.target==="openapi-3.0"?m.enum=[_]:m.const=_}else y.every(_=>typeof _=="number")&&(m.type="number"),y.every(_=>typeof _=="string")&&(m.type="string"),y.every(_=>typeof _=="boolean")&&(m.type="string"),y.every(_=>_===null)&&(m.type="null"),m.enum=y;break}case"file":{let m=g,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:_,maximum:A,mime:I}=t._zod.bag;_!==void 0&&(y.minLength=_),A!==void 0&&(y.maxLength=A),I?I.length===1?(y.contentMediaType=I[0],Object.assign(m,y)):m.anyOf=I.map(O=>({...y,contentMediaType:O})):Object.assign(m,y);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let m=this.process(i.innerType,d);this.target==="openapi-3.0"?(l.ref=i.innerType,g.nullable=!0):g.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,d),l.ref=i.innerType;break}case"success":{let m=g;m.type="boolean";break}case"default":{this.process(i.innerType,d),l.ref=i.innerType,g.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,d),l.ref=i.innerType,this.io==="input"&&(g._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,d),l.ref=i.innerType;let m;try{m=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}g.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let m=g,y=t._zod.pattern;if(!y)throw Error("Pattern not found in template literal");m.type="string",m.pattern=y.source;break}case"pipe":{let m=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(m,d),l.ref=m;break}case"readonly":{this.process(i.innerType,d),l.ref=i.innerType,g.readOnly=!0;break}case"promise":{this.process(i.innerType,d),l.ref=i.innerType;break}case"optional":{this.process(i.innerType,d),l.ref=i.innerType;break}case"lazy":{let m=t._zod.innerType;this.process(m,d),l.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}}}}let c=this.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),this.io==="input"&&Wn(t)&&(delete l.schema.examples,delete l.schema.default),this.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(t);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let s=a(d=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let y=n.external.registry.get(d[0])?.id,_=n.external.uri??(I=>I);if(y)return{ref:_(y)};let A=d[1].defId??d[1].schema.id??`schema${this.counter++}`;return d[1].defId=A,{defId:A,ref:`${_("__shared")}#/${f}/${A}`}}if(d[1]===i)return{ref:"#"};let g=`#/${f}/`,m=d[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:g+m}},"P"),o=a(d=>{if(d[1].schema.$ref)return;let f=d[1],{ref:g,defId:m}=s(d);f.def={...f.schema},m&&(f.defId=m);let y=f.schema;for(let _ in y)delete y[_];y.$ref=g},"O");if(n.cycles==="throw")for(let d of this.seen.entries()){let f=d[1];if(f.cycle)throw Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let d of this.seen.entries()){let f=d[1];if(t===d[0]){o(d);continue}if(n.external){let g=n.external.registry.get(d[0])?.id;if(t!==d[0]&&g){o(d);continue}}if(this.metadataRegistry.get(d[0])?.id){o(d);continue}if(f.cycle){o(d);continue}if(f.count>1&&n.reused==="ref"){o(d);continue}}let l=a((d,f)=>{let g=this.seen.get(d),m=g.def??g.schema,y={...m};if(g.ref===null)return;let _=g.ref;if(g.ref=null,_){l(_,f);let A=this.seen.get(_).schema;A.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(A)):(Object.assign(m,A),Object.assign(m,y))}g.isParent||this.override({zodSchema:d,jsonSchema:m,path:g.path??[]})},"Y");for(let d of[...this.seen.entries()].reverse())l(d[0],{target:this.target});let u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?u.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let d=n.external.registry.get(t)?.id;if(!d)throw Error("Schema is missing an `id` property");u.$id=n.external.uri(d)}Object.assign(u,i.def);let c=n.external?.defs??{};for(let d of this.seen.entries()){let f=d[1];f.def&&f.defId&&(c[f.defId]=f.def)}n.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?u.$defs=c:u.definitions=c);try{return JSON.parse(JSON.stringify(u))}catch{throw Error("Error converting schema to JSON.")}}}function P0(e,t){if(e instanceof _4){let n=new e1(t),i={};for(let l of e._idmap.entries()){let[u,c]=l;n.process(c)}let s={},o={registry:e,uri:t?.uri,defs:i};for(let l of e._idmap.entries()){let[u,c]=l;s[u]=n.emit(c,{...t,external:o})}if(Object.keys(i).length>0){let l=n.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[l]:i}}return{schemas:s}}let r=new e1(t);return r.process(e),r.emit(e,t)}a(P0,"J4");function Wn(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Wn(n.element,r);if(n.type==="set")return Wn(n.valueType,r);if(n.type==="lazy")return Wn(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Wn(n.innerType,r);if(n.type==="intersection")return Wn(n.left,r)||Wn(n.right,r);if(n.type==="record"||n.type==="map")return Wn(n.keyType,r)||Wn(n.valueType,r);if(n.type==="pipe")return Wn(n.in,r)||Wn(n.out,r);if(n.type==="object"){for(let i in n.shape)if(Wn(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(let i of n.options)if(Wn(i,r))return!0;return!1}if(n.type==="tuple"){for(let i of n.items)if(Wn(i,r))return!0;return!!(n.rest&&Wn(n.rest,r))}return!1}a(Wn,"uq");var zq={};function Ta(e){if(typeof e!="object"||e===null)return!1;let t=e;if(!("_zod"in t))return!1;let r=t._zod;return typeof r=="object"&&r!==null&&"def"in r}a(Ta,"X8");function Ro(e){if(typeof e!="object"||e===null)return!1;let t=e;if(!("_def"in t)||"_zod"in t)return!1;let r=t._def;return typeof r=="object"&&r!=null&&"typeName"in r}a(Ro,"H_");function Bq(e){return!e||typeof e!="object"||Array.isArray(e)?!1:!!(Ta(e)||Ro(e))}a(Bq,"Kb");async function Fq(e,t){if(Ta(e))return await L0(e,t);if(Ro(e))return await e.parseAsync(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}a(Fq,"dA");function Uq(e){if(Ta(e))return Cn.get(e)?.description;if(Ro(e)||"description"in e&&typeof e.description=="string")return e.description}a(Uq,"lA");function Hq(e){return Bq(e)?Ro(e)?e._def.typeName==="ZodString":Ta(e)?e._zod.def.type==="string":!1:!1}a(Hq,"rA");function rd(e){return Ta(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="object":!1}a(rd,"H4");function RR(e){return Ta(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="array":!1}a(RR,"oA");function Gq(e){return Ta(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="optional":!1}a(Gq,"Pb");function Vq(e){return Ta(e)?typeof e=="object"&&e!==null&&"_zod"in e&&typeof e._zod=="object"&&e._zod!==null&&"def"in e._zod&&typeof e._zod.def=="object"&&e._zod.def!==null&&"type"in e._zod.def&&e._zod.def.type==="nullable":!1}a(Vq,"Ob");function t1(e,t=!1){if(Ro(e))return e.strict();if(rd(e)){let r=e._zod.def.shape;if(t)for(let[s,o]of Object.entries(e._zod.def.shape)){if(rd(o)){let u=t1(o,t);r[s]=u}else if(RR(o)){let u=o._zod.def.element;rd(u)&&(u=t1(u,t)),r[s]=In(o,{...o._zod.def,element:u})}else r[s]=o;let l=Cn.get(o);l&&Cn.add(r[s],l)}let n=In(e,{...e._zod.def,shape:r,catchall:V4(b4)}),i=Cn.get(e);return i&&Cn.add(n,i),n}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}a(t1,"f5");function Kq(e){return Ro(e)&&"typeName"in e._def&&e._def.typeName==="ZodEffects"}a(Kq,"Yb");function Zq(e){return Ta(e)&&e._zod.def.type==="pipe"}a(Zq,"jb");function qo(e,t,r){let n=r.get(e);if(n!==void 0)return n;if(Ro(e))return Kq(e)?qo(e._def.schema,t,r):e;if(Ta(e)){let i=e;if(Zq(e)&&(i=qo(e._zod.def.in,t,r)),t){if(rd(i)){let o=i._zod.def.shape;for(let[l,u]of Object.entries(i._zod.def.shape))o[l]=qo(u,t,r);i=In(i,{...i._zod.def,shape:o})}else if(RR(i)){let o=qo(i._zod.def.element,t,r);i=In(i,{...i._zod.def,element:o})}else if(Gq(i)){let o=qo(i._zod.def.innerType,t,r);i=In(i,{...i._zod.def,innerType:o})}else if(Vq(i)){let o=qo(i._zod.def.innerType,t,r);i=In(i,{...i._zod.def,innerType:o})}}let s=Cn.get(e);return s&&Cn.add(i,s),r.set(e,i),i}throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}a(qo,"kK");function Yq(e,t=!1){return qo(e,t,new WeakMap)}a(Yq,"nA");function hb(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}a(hb,"Kz");var $q=["*","_","`"];function Qq(e){let t="";for(let[r,n]of Object.entries(e))t+=`	classDef ${r} ${n};
`;return t}a(Qq,"zb");function Wq(e,t,r){let{firstNode:n,lastNode:i,nodeColors:s,withStyles:o=!0,curveStyle:l="linear",wrapLabelNWords:u=9}=r??{},c=o?`%%{init: {'flowchart': {'curve': '${l}'}}}%%
graph TD;
`:`graph TD;
`;if(o){let m={default:"{0}({1})"};n!==void 0&&(m[n]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(let[y,_]of Object.entries(e)){let A=_.name.split(":").pop()??"",I=$q.some(R=>A.startsWith(R)&&A.endsWith(R))?`<p>${A}</p>`:A;Object.keys(_.metadata??{}).length&&(I+=`<hr/><small><em>${Object.entries(_.metadata??{}).map(([R,L])=>`${R} = ${L}`).join(`
`)}</em></small>`);let O=(m[y]??m.default).replace("{0}",hb(y)).replace("{1}",I);c+=`	${O}
`}}let d={};for(let m of t){let y=m.source.split(":"),_=m.target.split(":"),A=y.filter((I,O)=>I===_[O]).join(":");d[A]||(d[A]=[]),d[A].push(m)}let f=new Set;function g(m,y){let _=m.length===1&&m[0].source===m[0].target;if(y&&!_){let A=y.split(":").pop();if(f.has(A))throw Error(`Found duplicate subgraph '${A}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(A),c+=`	subgraph ${A}
`}for(let A of m){let{source:I,target:O,data:R,conditional:L}=A,D="";if(R!==void 0){let P=R,Z=P.split(" ");Z.length>u&&(P=Array.from({length:Math.ceil(Z.length/u)},(V,W)=>Z.slice(W*u,(W+1)*u).join(" ")).join("&nbsp;<br>&nbsp;")),D=L?` -. &nbsp;${P}&nbsp; .-> `:` -- &nbsp;${P}&nbsp; --> `}else D=L?" -.-> ":" --> ";c+=`	${hb(I)}${D}${hb(O)};
`}for(let A in d)A.startsWith(`${y}:`)&&A!==y&&g(d[A],A);y&&!_&&(c+=`	end
`)}a(g,"k"),g(d[""]??[],"");for(let m in d)!m.includes(":")&&m!==""&&g(d[m],m);return o&&(c+=Qq(s??{})),c}a(Wq,"iA");async function Xq(e,t){let r=t?.backgroundColor??"white",n=t?.imageType??"png",i=wW(e);r!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let s=`https://mermaid.ink/img/${i}?bgColor=${r}&type=${n}`,o=await fetch(s);if(!o.ok)throw Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}a(Xq,"BA");var Jq=Symbol("Let zodToJsonSchema decide on which parser to use"),qq={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},eee=a(e=>({...qq,...e}),"Yz"),tee=a(e=>{let t=eee(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"jz"),LR=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"k7");function zi(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?LR(t,e.currentPath):t.join("/")}}a(zi,"D6");function DR(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}a(DR,"Z5");function Nr(e,t,r,n,i){e[t]=r,DR(e,t,n,i)}a(Nr,"G6");var Ld={};yi(Ld,{void:a(()=>Bee,"void"),util:a(()=>wr,"util"),unknown:a(()=>Pee,"unknown"),union:a(()=>Gee,"union"),undefined:a(()=>Lee,"undefined"),tuple:a(()=>Zee,"tuple"),transformer:a(()=>z_,"transformer"),symbol:a(()=>Ree,"symbol"),string:a(()=>HR,"string"),strictObject:a(()=>Hee,"strictObject"),setErrorMap:a(()=>iee,"setErrorMap"),set:a(()=>Qee,"set"),record:a(()=>Yee,"record"),quotelessJson:a(()=>ree,"quotelessJson"),promise:a(()=>tte,"promise"),preprocess:a(()=>ite,"preprocess"),pipeline:a(()=>ate,"pipeline"),ostring:a(()=>ste,"ostring"),optional:a(()=>rte,"optional"),onumber:a(()=>ote,"onumber"),oboolean:a(()=>lte,"oboolean"),objectUtil:a(()=>r1,"objectUtil"),object:a(()=>Uee,"object"),number:a(()=>GR,"number"),nullable:a(()=>nte,"nullable"),null:a(()=>Dee,"null"),never:a(()=>zee,"never"),nativeEnum:a(()=>ete,"nativeEnum"),nan:a(()=>Cee,"nan"),map:a(()=>$ee,"map"),makeIssue:a(()=>B0,"makeIssue"),literal:a(()=>Jee,"literal"),lazy:a(()=>Xee,"lazy"),late:a(()=>Nee,"late"),isValid:a(()=>El,"isValid"),isDirty:a(()=>i1,"isDirty"),isAsync:a(()=>Dd,"isAsync"),isAborted:a(()=>n1,"isAborted"),intersection:a(()=>Kee,"intersection"),instanceof:a(()=>Iee,"instanceof"),getParsedType:a(()=>Is,"getParsedType"),getErrorMap:a(()=>z0,"getErrorMap"),function:a(()=>Wee,"function"),enum:a(()=>qee,"enum"),effect:a(()=>z_,"effect"),discriminatedUnion:a(()=>Vee,"discriminatedUnion"),defaultErrorMap:a(()=>ku,"defaultErrorMap"),datetimeRegex:a(()=>BR,"datetimeRegex"),date:a(()=>Oee,"date"),custom:a(()=>UR,"custom"),coerce:a(()=>ute,"coerce"),boolean:a(()=>VR,"boolean"),bigint:a(()=>Mee,"bigint"),array:a(()=>Fee,"array"),any:a(()=>jee,"any"),addIssueToContext:a(()=>It,"addIssueToContext"),ZodVoid:a(()=>U0,"ZodVoid"),ZodUnknown:a(()=>fl,"ZodUnknown"),ZodUnion:a(()=>Bd,"ZodUnion"),ZodUndefined:a(()=>Pd,"ZodUndefined"),ZodType:a(()=>lr,"ZodType"),ZodTuple:a(()=>rs,"ZodTuple"),ZodTransformer:a(()=>xa,"ZodTransformer"),ZodSymbol:a(()=>F0,"ZodSymbol"),ZodString:a(()=>ha,"ZodString"),ZodSet:a(()=>kl,"ZodSet"),ZodSchema:a(()=>lr,"ZodSchema"),ZodRecord:a(()=>Ud,"ZodRecord"),ZodReadonly:a(()=>Yd,"ZodReadonly"),ZodPromise:a(()=>Tu,"ZodPromise"),ZodPipeline:a(()=>Ef,"ZodPipeline"),ZodParsedType:a(()=>Lt,"ZodParsedType"),ZodOptional:a(()=>Wa,"ZodOptional"),ZodObject:a(()=>rn,"ZodObject"),ZodNumber:a(()=>xo,"ZodNumber"),ZodNullable:a(()=>So,"ZodNullable"),ZodNull:a(()=>zd,"ZodNull"),ZodNever:a(()=>Vs,"ZodNever"),ZodNativeEnum:a(()=>Vd,"ZodNativeEnum"),ZodNaN:a(()=>G0,"ZodNaN"),ZodMap:a(()=>H0,"ZodMap"),ZodLiteral:a(()=>Gd,"ZodLiteral"),ZodLazy:a(()=>Hd,"ZodLazy"),ZodIssueCode:a(()=>vt,"ZodIssueCode"),ZodIntersection:a(()=>Fd,"ZodIntersection"),ZodFunction:a(()=>hu,"ZodFunction"),ZodFirstPartyTypeKind:a(()=>xt,"ZodFirstPartyTypeKind"),ZodError:a(()=>Li,"ZodError"),ZodEnum:a(()=>Eo,"ZodEnum"),ZodEffects:a(()=>xa,"ZodEffects"),ZodDiscriminatedUnion:a(()=>cm,"ZodDiscriminatedUnion"),ZodDefault:a(()=>Kd,"ZodDefault"),ZodDate:a(()=>Sl,"ZodDate"),ZodCatch:a(()=>Zd,"ZodCatch"),ZodBranded:a(()=>i6,"ZodBranded"),ZodBoolean:a(()=>jd,"ZodBoolean"),ZodBigInt:a(()=>_o,"ZodBigInt"),ZodArray:a(()=>ga,"ZodArray"),ZodAny:a(()=>Au,"ZodAny"),Schema:a(()=>lr,"Schema"),ParseStatus:a(()=>Vn,"ParseStatus"),OK:a(()=>ri,"OK"),NEVER:a(()=>cte,"NEVER"),INVALID:a(()=>Wt,"INVALID"),EMPTY_PATH:a(()=>aee,"EMPTY_PATH"),DIRTY:a(()=>lu,"DIRTY"),BRAND:a(()=>Tee,"BRAND")});var wr;(function(e){e.assertEqual=i=>{};function t(i){}a(t,"q"),e.assertIs=t;function r(i){throw Error()}a(r,"_"),e.assertNever=r,e.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},e.getValidEnumValues=i=>{let s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(let l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(let o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}a(n,"K"),e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(wr||(wr={}));var r1;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(r1||(r1={}));var Lt=wr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=a(e=>{switch(typeof e){case"undefined":return Lt.undefined;case"string":return Lt.string;case"number":return Number.isNaN(e)?Lt.nan:Lt.number;case"boolean":return Lt.boolean;case"function":return Lt.function;case"bigint":return Lt.bigint;case"symbol":return Lt.symbol;case"object":return Array.isArray(e)?Lt.array:e===null?Lt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Lt.promise:typeof Map<"u"&&e instanceof Map?Lt.map:typeof Set<"u"&&e instanceof Set?Lt.set:typeof Date<"u"&&e instanceof Date?Lt.date:Lt.object;default:return Lt.unknown}},"t8"),vt=wr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ree=a(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"Wb");class Li extends Error{static{a(this,"eq")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},i=a(s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){let c=o.path[u];u!==o.path.length-1?l[c]=l[c]||{_errors:[]}:(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(o))),l=l[c],u++}}},"K");return i(this),n}static assert(t){if(!(t instanceof Li))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r=Object.create(null),n=[];for(let i of this.issues)if(i.path.length>0){let s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Li.create=e=>new Li(e);var nee=a((e,t)=>{let r;switch(e.code){case vt.invalid_type:e.received===Lt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case vt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,wr.jsonStringifyReplacer)}`;break;case vt.unrecognized_keys:r=`Unrecognized key(s) in object: ${wr.joinValues(e.keys,", ")}`;break;case vt.invalid_union:r="Invalid input";break;case vt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wr.joinValues(e.options)}`;break;case vt.invalid_enum_value:r=`Invalid enum value. Expected ${wr.joinValues(e.options)}, received '${e.received}'`;break;case vt.invalid_arguments:r="Invalid function arguments";break;case vt.invalid_return_type:r="Invalid function return type";break;case vt.invalid_date:r="Invalid date";break;case vt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:wr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case vt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case vt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case vt.custom:r="Invalid input";break;case vt.invalid_intersection_types:r="Intersection results could not be merged";break;case vt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case vt.not_finite:r="Number must be finite";break;default:r=t.defaultError,wr.assertNever(e)}return{message:r}},"Jb"),ku=nee,jR=ku;function iee(e){jR=e}a(iee,"Hb");function z0(){return jR}a(z0,"T4");var B0=a(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)l=c(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}},"G7"),aee=[];function It(e,t){let r=z0(),n=B0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ku?void 0:ku].filter(i=>!!i)});e.common.issues.push(n)}a(It,"t$");class Vn{static{a(this,"kq")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Wt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let s=await i.key,o=await i.value;n.push({key:s,value:o})}return Vn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Wt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}var Wt=Object.freeze({status:"aborted"}),lu=a(e=>({status:"dirty",value:e}),"GK"),ri=a(e=>({status:"valid",value:e}),"Rq"),n1=a(e=>e.status==="aborted","X5"),i1=a(e=>e.status==="dirty","A5"),El=a(e=>e.status==="valid","B_"),Dd=a(e=>typeof Promise<"u"&&e instanceof Promise,"w4"),Ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ut||(Ut={}));class ts{static{a(this,"b8")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var j_=a((e,t)=>{if(El(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Li(e.common.issues);return this._error=r,this._error}}},"UA");function nr(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:a((s,o)=>{let{message:l}=e;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},"errorMap"),description:i}}a(nr,"v6");class lr{static{a(this,"T6")}get description(){return this._def.description}_getType(t){return Is(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vn,ctx:{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Dd(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},i=this._parseSync({data:t,path:n.path,parent:n});return j_(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return El(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>El(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Dd(i)?i:Promise.resolve(i));return j_(n,s)}refine(t,r){let n=a(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"_");return this._refinement((i,s)=>{let o=t(i),l=a(()=>s.addIssue({code:vt.custom,...n(i)}),"Y");return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new xa({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(r=>this["~validate"](r),"validate")}}optional(){return Wa.create(this,this._def)}nullable(){return So.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ga.create(this)}promise(){return Tu.create(this,this._def)}or(t){return Bd.create([this,t],this._def)}and(t){return Fd.create(this,t,this._def)}transform(t){return new xa({...nr(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Kd({...nr(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new i6({typeName:xt.ZodBranded,type:this,...nr(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Zd({...nr(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return Ef.create(this,t)}readonly(){return Yd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var see=/^c[^\s-]{8,}$/i,oee=/^[0-9a-z]+$/,lee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cee=/^[a-z0-9_-]{21}$/i,dee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",pb,mee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xee=new RegExp(`^${PR}$`);function zR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}a(zR,"QA");function _ee(e){return new RegExp(`^${zR(e)}$`)}a(_ee,"Db");function BR(e){let t=`${PR}T${zR(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}a(BR,"eA");function Eee(e,t){return!!((t==="v4"||!t)&&mee.test(e)||(t==="v6"||!t)&&bee.test(e))}a(Eee,"Lb");function See(e,t){if(!dee.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}a(See,"gb");function kee(e,t){return!!((t==="v4"||!t)&&gee.test(e)||(t==="v6"||!t)&&vee.test(e))}a(kee,"bb");class ha extends lr{static{a(this,"D8")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Lt.string){let i=this._getOrReturnCtx(t);return It(i,{code:vt.invalid_type,expected:Lt.string,received:i.parsedType}),Wt}let r=new Vn,n;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:vt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:vt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let s=t.data.length>i.value,o=t.data.length<i.value;(s||o)&&(n=this._getOrReturnCtx(t,n),s?It(n,{code:vt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&It(n,{code:vt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")hee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"email",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")pb||(pb=new RegExp(pee,"u")),pb.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"emoji",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")uee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"uuid",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")cee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"nanoid",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")see.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cuid",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")oee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cuid2",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")lee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"ulid",code:vt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),It(n,{validation:"url",code:vt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,!i.regex.test(t.data)&&(n=this._getOrReturnCtx(t,n),It(n,{validation:"regex",code:vt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?BR(i).test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?xee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?_ee(i).test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:vt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?fee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"duration",code:vt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Eee(t.data,i.version)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"ip",code:vt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?See(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"jwt",code:vt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?kee(t.data,i.version)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"cidr",code:vt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?yee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"base64",code:vt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?wee.test(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{validation:"base64url",code:vt.invalid_string,message:i.message}),r.dirty()):wr.assertNever(i);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:vt.invalid_string,...Ut.errToObj(n)})}_addCheck(t){return new ha({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ut.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ut.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ut.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ut.errToObj(r)})}nonempty(t){return this.min(1,Ut.errToObj(t))}trim(){return new ha({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ha({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ha({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ha.create=e=>new ha({checks:[],typeName:xt.ZodString,coerce:e?.coerce??!1,...nr(e)});function Aee(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}a(Aee,"yb");class xo extends lr{static{a(this,"U_")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Lt.number){let i=this._getOrReturnCtx(t);return It(i,{code:vt.invalid_type,expected:Lt.number,received:i.parsedType}),Wt}let r,n=new Vn;for(let i of this._def.checks)i.kind==="int"?wr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),It(r,{code:vt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?Aee(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),It(r,{code:vt.not_finite,message:i.message}),n.dirty()):wr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ut.toString(r))}setLimit(t,r,n,i){return new xo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ut.toString(i)}]})}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ut.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xo.create=e=>new xo({checks:[],typeName:xt.ZodNumber,coerce:e?.coerce||!1,...nr(e)});class _o extends lr{static{a(this,"F_")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Lt.bigint)return this._getInvalidInput(t);let r,n=new Vn;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),It(r,{code:vt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):wr.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.bigint,received:r.parsedType}),Wt}gte(t,r){return this.setLimit("min",t,!0,Ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ut.toString(r))}setLimit(t,r,n,i){return new _o({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ut.toString(i)}]})}_addCheck(t){return new _o({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ut.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}_o.create=e=>new _o({checks:[],typeName:xt.ZodBigInt,coerce:e?.coerce??!1,...nr(e)});class jd extends lr{static{a(this,"X4")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Lt.boolean){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.boolean,received:r.parsedType}),Wt}return ri(t.data)}}jd.create=e=>new jd({typeName:xt.ZodBoolean,coerce:e?.coerce||!1,...nr(e)});class Sl extends lr{static{a(this,"VK")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Lt.date){let i=this._getOrReturnCtx(t);return It(i,{code:vt.invalid_type,expected:Lt.date,received:i.parsedType}),Wt}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return It(i,{code:vt.invalid_date}),Wt}let r=new Vn,n;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:vt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),It(n,{code:vt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):wr.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Sl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ut.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Sl.create=e=>new Sl({checks:[],coerce:e?.coerce||!1,typeName:xt.ZodDate,...nr(e)});class F0 extends lr{static{a(this,"V7")}_parse(t){if(this._getType(t)!==Lt.symbol){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.symbol,received:r.parsedType}),Wt}return ri(t.data)}}F0.create=e=>new F0({typeName:xt.ZodSymbol,...nr(e)});class Pd extends lr{static{a(this,"A4")}_parse(t){if(this._getType(t)!==Lt.undefined){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.undefined,received:r.parsedType}),Wt}return ri(t.data)}}Pd.create=e=>new Pd({typeName:xt.ZodUndefined,...nr(e)});class zd extends lr{static{a(this,"k4")}_parse(t){if(this._getType(t)!==Lt.null){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.null,received:r.parsedType}),Wt}return ri(t.data)}}zd.create=e=>new zd({typeName:xt.ZodNull,...nr(e)});class Au extends lr{static{a(this,"SK")}constructor(){super(...arguments),this._any=!0}_parse(t){return ri(t.data)}}Au.create=e=>new Au({typeName:xt.ZodAny,...nr(e)});class fl extends lr{static{a(this,"t_")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return ri(t.data)}}fl.create=e=>new fl({typeName:xt.ZodUnknown,...nr(e)});class Vs extends lr{static{a(this,"U8")}_parse(t){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.never,received:r.parsedType}),Wt}}Vs.create=e=>new Vs({typeName:xt.ZodNever,...nr(e)});class U0 extends lr{static{a(this,"S7")}_parse(t){if(this._getType(t)!==Lt.undefined){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.void,received:r.parsedType}),Wt}return ri(t.data)}}U0.create=e=>new U0({typeName:xt.ZodVoid,...nr(e)});class ga extends lr{static{a(this,"L8")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Lt.array)return It(r,{code:vt.invalid_type,expected:Lt.array,received:r.parsedType}),Wt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(It(r,{code:o?vt.too_big:vt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(It(r,{code:vt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(It(r,{code:vt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new ts(r,o,r.path,l)))).then(o=>Vn.mergeArray(n,o));let s=[...r.data].map((o,l)=>i.type._parseSync(new ts(r,o,r.path,l)));return Vn.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new ga({...this._def,minLength:{value:t,message:Ut.toString(r)}})}max(t,r){return new ga({...this._def,maxLength:{value:t,message:Ut.toString(r)}})}length(t,r){return new ga({...this._def,exactLength:{value:t,message:Ut.toString(r)}})}nonempty(t){return this.min(1,t)}}ga.create=(e,t)=>new ga({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...nr(t)});function ru(e){if(e instanceof rn){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Wa.create(ru(n))}return new rn({...e._def,shape:a(()=>t,"shape")})}else return e instanceof ga?new ga({...e._def,type:ru(e.element)}):e instanceof Wa?Wa.create(ru(e.unwrap())):e instanceof So?So.create(ru(e.unwrap())):e instanceof rs?rs.create(e.items.map(t=>ru(t))):e}a(ru,"f4");class rn extends lr{static{a(this,"u6")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=wr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Lt.object){let u=this._getOrReturnCtx(t);return It(u,{code:vt.invalid_type,expected:Lt.object,received:u.parsedType}),Wt}let{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vs&&this._def.unknownKeys==="strip"))for(let u in n.data)s.includes(u)||o.push(u);let l=[];for(let u of s){let c=i[u],d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ts(n,d,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Vs){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(u==="strict")o.length>0&&(It(n,{code:vt.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of o){let d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ts(n,d,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let c of l){let d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>Vn.mergeObjectSync(r,u)):Vn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Ut.errToObj,new rn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:a((r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ut.errToObj(t).message??i}:{message:i}},"errorMap")}:{}})}strip(){return new rn({...this._def,unknownKeys:"strip"})}passthrough(){return new rn({...this._def,unknownKeys:"passthrough"})}extend(t){return new rn({...this._def,shape:a(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new rn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:a(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new rn({...this._def,catchall:t})}pick(t){let r={};for(let n of wr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new rn({...this._def,shape:a(()=>r,"shape")})}omit(t){let r={};for(let n of wr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new rn({...this._def,shape:a(()=>r,"shape")})}deepPartial(){return ru(this)}partial(t){let r={};for(let n of wr.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new rn({...this._def,shape:a(()=>r,"shape")})}required(t){let r={};for(let n of wr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Wa;)i=i._def.innerType;r[n]=i}return new rn({...this._def,shape:a(()=>r,"shape")})}keyof(){return FR(wr.objectKeys(this.shape))}}rn.create=(e,t)=>new rn({shape:a(()=>e,"shape"),unknownKeys:"strip",catchall:Vs.create(),typeName:xt.ZodObject,...nr(t)});rn.strictCreate=(e,t)=>new rn({shape:a(()=>e,"shape"),unknownKeys:"strict",catchall:Vs.create(),typeName:xt.ZodObject,...nr(t)});rn.lazycreate=(e,t)=>new rn({shape:e,unknownKeys:"strip",catchall:Vs.create(),typeName:xt.ZodObject,...nr(t)});class Bd extends lr{static{a(this,"G4")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(let l of s)if(l.result.status==="valid")return l.result;for(let l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let o=s.map(l=>new Li(l.ctx.common.issues));return It(r,{code:vt.invalid_union,unionErrors:o}),Wt}if(a(i,"K"),r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let l=o.map(u=>new Li(u));return It(r,{code:vt.invalid_union,unionErrors:l}),Wt}}get options(){return this._def.options}}Bd.create=(e,t)=>new Bd({options:e,typeName:xt.ZodUnion,...nr(t)});var Ss=a(e=>e instanceof Hd?Ss(e.schema):e instanceof xa?Ss(e.innerType()):e instanceof Gd?[e.value]:e instanceof Eo?e.options:e instanceof Vd?wr.objectValues(e.enum):e instanceof Kd?Ss(e._def.innerType):e instanceof Pd?[void 0]:e instanceof zd?[null]:e instanceof Wa?[void 0,...Ss(e.unwrap())]:e instanceof So?[null,...Ss(e.unwrap())]:e instanceof i6||e instanceof Yd?Ss(e.unwrap()):e instanceof Zd?Ss(e._def.innerType):[],"w_");class cm extends lr{static{a(this,"k5")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Lt.object)return It(r,{code:vt.invalid_type,expected:Lt.object,received:r.parsedType}),Wt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(It(r,{code:vt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let s of r){let o=Ss(s.shape[t]);if(!o.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of o){if(i.has(l))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new cm({typeName:xt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...nr(n)})}}function a1(e,t){let r=Is(e),n=Is(t);if(e===t)return{valid:!0,data:e};if(r===Lt.object&&n===Lt.object){let i=wr.objectKeys(t),s=wr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(let l of s){let u=a1(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===Lt.array&&n===Lt.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let s=0;s<e.length;s++){let o=e[s],l=t[s],u=a1(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Lt.date&&n===Lt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(a1,"Wz");class Fd extends lr{static{a(this,"V4")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=a((s,o)=>{if(n1(s)||n1(o))return Wt;let l=a1(s.value,o.value);return l.valid?((i1(s)||i1(o))&&r.dirty(),{status:r.value,value:l.data}):(It(n,{code:vt.invalid_intersection_types}),Wt)},"K");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fd.create=(e,t,r)=>new Fd({left:e,right:t,typeName:xt.ZodIntersection,...nr(r)});class rs extends lr{static{a(this,"F8")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Lt.array)return It(n,{code:vt.invalid_type,expected:Lt.array,received:n.parsedType}),Wt;if(n.data.length<this._def.items.length)return It(n,{code:vt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&n.data.length>this._def.items.length&&(It(n,{code:vt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new ts(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Vn.mergeArray(r,s)):Vn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new rs({...this._def,rest:t})}}rs.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rs({items:e,typeName:xt.ZodTuple,rest:null,...nr(t)})};class Ud extends lr{static{a(this,"M7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Lt.object)return It(n,{code:vt.invalid_type,expected:Lt.object,received:n.parsedType}),Wt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let l in n.data)i.push({key:s._parse(new ts(n,l,n.path,l)),value:o._parse(new ts(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Vn.mergeObjectAsync(r,i):Vn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof lr?new Ud({keyType:t,valueType:r,typeName:xt.ZodRecord,...nr(n)}):new Ud({keyType:ha.create(),valueType:t,typeName:xt.ZodRecord,...nr(r)})}}class H0 extends lr{static{a(this,"N7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Lt.map)return It(n,{code:vt.invalid_type,expected:Lt.map,received:n.parsedType}),Wt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,u],c)=>({key:i._parse(new ts(n,l,n.path,[c,"key"])),value:s._parse(new ts(n,u,n.path,[c,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Wt;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let u of o){let{key:c,value:d}=u;if(c.status==="aborted"||d.status==="aborted")return Wt;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}H0.create=(e,t,r)=>new H0({valueType:t,keyType:e,typeName:xt.ZodMap,...nr(r)});class kl extends lr{static{a(this,"MK")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Lt.set)return It(n,{code:vt.invalid_type,expected:Lt.set,received:n.parsedType}),Wt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(It(n,{code:vt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(It(n,{code:vt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let d of u){if(d.status==="aborted")return Wt;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}a(o,"O");let l=[...n.data.values()].map((u,c)=>s._parse(new ts(n,u,n.path,c)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,r){return new kl({...this._def,minSize:{value:t,message:Ut.toString(r)}})}max(t,r){return new kl({...this._def,maxSize:{value:t,message:Ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}kl.create=(e,t)=>new kl({valueType:e,minSize:null,maxSize:null,typeName:xt.ZodSet,...nr(t)});class hu extends lr{static{a(this,"Z4")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Lt.function)return It(r,{code:vt.invalid_type,expected:Lt.function,received:r.parsedType}),Wt;function n(l,u){return B0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,z0(),ku].filter(c=>!!c),issueData:{code:vt.invalid_arguments,argumentsError:u}})}a(n,"_");function i(l,u){return B0({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,z0(),ku].filter(c=>!!c),issueData:{code:vt.invalid_return_type,returnTypeError:u}})}a(i,"K");let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Tu){let l=this;return ri(async function(...u){let c=new Li([]),d=await l._def.args.parseAsync(u,s).catch(g=>{throw c.addIssue(n(u,g)),c}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,s).catch(g=>{throw c.addIssue(i(f,g)),c})})}else{let l=this;return ri(function(...u){let c=l._def.args.safeParse(u,s);if(!c.success)throw new Li([n(u,c.error)]);let d=Reflect.apply(o,this,c.data),f=l._def.returns.safeParse(d,s);if(!f.success)throw new Li([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new hu({...this._def,args:rs.create(t).rest(fl.create())})}returns(t){return new hu({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new hu({args:t||rs.create([]).rest(fl.create()),returns:r||fl.create(),typeName:xt.ZodFunction,...nr(n)})}}class Hd extends lr{static{a(this,"S4")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hd.create=(e,t)=>new Hd({getter:e,typeName:xt.ZodLazy,...nr(t)});class Gd extends lr{static{a(this,"M4")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return It(r,{received:r.data,code:vt.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Gd.create=(e,t)=>new Gd({value:e,typeName:xt.ZodLiteral,...nr(t)});function FR(e,t){return new Eo({values:e,typeName:xt.ZodEnum,...nr(t)})}a(FR,"sA");class Eo extends lr{static{a(this,"a_")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{expected:wr.joinValues(n),received:r.parsedType,code:vt.invalid_type}),Wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{received:r.data,code:vt.invalid_enum_value,options:n}),Wt}return ri(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Eo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Eo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Eo.create=FR;class Vd extends lr{static{a(this,"N4")}_parse(t){let r=wr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Lt.string&&n.parsedType!==Lt.number){let i=wr.objectValues(r);return It(n,{expected:wr.joinValues(i),received:n.parsedType,code:vt.invalid_type}),Wt}if(this._cache||(this._cache=new Set(wr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=wr.objectValues(r);return It(n,{received:n.data,code:vt.invalid_enum_value,options:i}),Wt}return ri(t.data)}get enum(){return this._def.values}}Vd.create=(e,t)=>new Vd({values:e,typeName:xt.ZodNativeEnum,...nr(t)});class Tu extends lr{static{a(this,"NK")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Lt.promise&&r.common.async===!1)return It(r,{code:vt.invalid_type,expected:Lt.promise,received:r.parsedType}),Wt;let n=r.parsedType===Lt.promise?r.data:Promise.resolve(r.data);return ri(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Tu.create=(e,t)=>new Tu({type:e,typeName:xt.ZodPromise,...nr(t)});class xa extends lr{static{a(this,"y8")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a(o=>{It(n,o),o.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Wt;let u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?Wt:u.status==="dirty"||r.value==="dirty"?lu(u.value):u});{if(r.value==="aborted")return Wt;let l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Wt:l.status==="dirty"||r.value==="dirty"?lu(l.value):l}}if(i.type==="refinement"){let o=a(l=>{let u=i.refinement(l,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"O");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Wt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Wt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!El(o))return Wt;let l=i.transform(o.value,s);if(l instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>El(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):Wt);wr.assertNever(i)}}xa.create=(e,t,r)=>new xa({schema:e,typeName:xt.ZodEffects,effect:t,...nr(r)});xa.createWithPreprocess=(e,t,r)=>new xa({schema:t,effect:{type:"preprocess",transform:e},typeName:xt.ZodEffects,...nr(r)});class Wa extends lr{static{a(this,"g8")}_parse(t){return this._getType(t)===Lt.undefined?ri(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wa.create=(e,t)=>new Wa({innerType:e,typeName:xt.ZodOptional,...nr(t)});class So extends lr{static{a(this,"f_")}_parse(t){return this._getType(t)===Lt.null?ri(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}So.create=(e,t)=>new So({innerType:e,typeName:xt.ZodNullable,...nr(t)});class Kd extends lr{static{a(this,"C4")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Kd.create=(e,t)=>new Kd({innerType:e,typeName:xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...nr(t)});class Zd extends lr{static{a(this,"E4")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dd(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Li(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zd.create=(e,t)=>new Zd({innerType:e,typeName:xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...nr(t)});class G0 extends lr{static{a(this,"C7")}_parse(t){if(this._getType(t)!==Lt.nan){let r=this._getOrReturnCtx(t);return It(r,{code:vt.invalid_type,expected:Lt.nan,received:r.parsedType}),Wt}return{status:"valid",value:t.data}}}G0.create=e=>new G0({typeName:xt.ZodNaN,...nr(e)});var Tee=Symbol("zod_brand");class i6 extends lr{static{a(this,"G5")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ef extends lr{static{a(this,"E7")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Wt:i.status==="dirty"?(r.dirty(),lu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Wt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Ef({in:t,out:r,typeName:xt.ZodPipeline})}}class Yd extends lr{static{a(this,"h4")}_parse(t){let r=this._def.innerType._parse(t),n=a(i=>(El(i)&&(i.value=Object.freeze(i.value)),i),"_");return Dd(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Yd.create=(e,t)=>new Yd({innerType:e,typeName:xt.ZodReadonly,...nr(t)});function P_(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}a(P_,"FA");function UR(e,t={},r){return e?Au.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(o=>{if(!o){let l=P_(t,n),u=l.fatal??r??!0;i.addIssue({code:"custom",...l,fatal:u})}});if(!s){let o=P_(t,n),l=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:l})}}):Au.create()}a(UR,"$k");var Nee={object:rn.lazycreate},xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xt||(xt={}));var Iee=a((e,t={message:`Input not instance of ${e.name}`})=>UR(r=>r instanceof e,t),"pb"),HR=ha.create,GR=xo.create,Cee=G0.create,Mee=_o.create,VR=jd.create,Oee=Sl.create,Ree=F0.create,Lee=Pd.create,Dee=zd.create,jee=Au.create,Pee=fl.create,zee=Vs.create,Bee=U0.create,Fee=ga.create,Uee=rn.create,Hee=rn.strictCreate,Gee=Bd.create,Vee=cm.create,Kee=Fd.create,Zee=rs.create,Yee=Ud.create,$ee=H0.create,Qee=kl.create,Wee=hu.create,Xee=Hd.create,Jee=Gd.create,qee=Eo.create,ete=Vd.create,tte=Tu.create,z_=xa.create,rte=Wa.create,nte=So.create,ite=xa.createWithPreprocess,ate=Ef.create,ste=a(()=>HR().optional(),"fy"),ote=a(()=>GR().optional(),"Zy"),lte=a(()=>VR().optional(),"Xy"),ute={string:a(e=>ha.create({...e,coerce:!0}),"string"),number:a(e=>xo.create({...e,coerce:!0}),"number"),boolean:a(e=>jd.create({...e,coerce:!0}),"boolean"),bigint:a(e=>_o.create({...e,coerce:!0}),"bigint"),date:a(e=>Sl.create({...e,coerce:!0}),"date")},cte=Wt;function dte(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==xt.ZodAny&&(r.items=Tr(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Nr(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Nr(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Nr(r,"minItems",e.exactLength.value,e.exactLength.message,t),Nr(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}a(dte,"Jz");function fte(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?Nr(r,"minimum",n.value,n.message,t):Nr(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Nr(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Nr(r,"maximum",n.value,n.message,t):Nr(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Nr(r,"maximum",n.value,n.message,t));break;case"multipleOf":Nr(r,"multipleOf",n.value,n.message,t);break}return r}a(fte,"Hz");function hte(){return{type:"boolean"}}a(hte,"Tz");function KR(e,t){return Tr(e.type._def,t)}a(KR,"h7");var pte=a((e,t)=>Tr(e.innerType._def,t),"wz");function ZR(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map(i=>ZR(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return mte(e,t)}}a(ZR,"V5");var mte=a((e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":Nr(r,"minimum",n.value,n.message,t);break;case"max":Nr(r,"maximum",n.value,n.message,t);break}return r},"Gy");function gte(e,t){return{...Tr(e.innerType._def,t),default:e.defaultValue()}}a(gte,"fz");function bte(e,t){return t.effectStrategy==="input"?Tr(e.schema._def,t):zi(t)}a(bte,"Zz");function vte(e){return{type:"string",enum:Array.from(e.values)}}a(vte,"Xz");var yte=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"Vy");function wte(e,t){let r=[Tr(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Tr(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(s=>{if(yte(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(n=void 0);else{let o=s;if("additionalProperties"in s&&s.additionalProperties===!1){let{additionalProperties:l,...u}=s;o=u}else n=void 0;i.push(o)}}),i.length?{allOf:i,...n}:void 0}a(wte,"Az");function xte(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}a(xte,"kz");var mb=void 0,ea={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(mb===void 0&&(mb=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),mb),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function YR(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":Nr(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":Nr(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ta(r,"email",n.message,t);break;case"format:idn-email":ta(r,"idn-email",n.message,t);break;case"pattern:zod":$n(r,ea.email,n.message,t);break}break;case"url":ta(r,"uri",n.message,t);break;case"uuid":ta(r,"uuid",n.message,t);break;case"regex":$n(r,n.regex,n.message,t);break;case"cuid":$n(r,ea.cuid,n.message,t);break;case"cuid2":$n(r,ea.cuid2,n.message,t);break;case"startsWith":$n(r,RegExp(`^${gb(n.value,t)}`),n.message,t);break;case"endsWith":$n(r,RegExp(`${gb(n.value,t)}$`),n.message,t);break;case"datetime":ta(r,"date-time",n.message,t);break;case"date":ta(r,"date",n.message,t);break;case"time":ta(r,"time",n.message,t);break;case"duration":ta(r,"duration",n.message,t);break;case"length":Nr(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),Nr(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":$n(r,RegExp(gb(n.value,t)),n.message,t);break;case"ip":n.version!=="v6"&&ta(r,"ipv4",n.message,t),n.version!=="v4"&&ta(r,"ipv6",n.message,t);break;case"base64url":$n(r,ea.base64url,n.message,t);break;case"jwt":$n(r,ea.jwt,n.message,t);break;case"cidr":n.version!=="v6"&&$n(r,ea.ipv4Cidr,n.message,t),n.version!=="v4"&&$n(r,ea.ipv6Cidr,n.message,t);break;case"emoji":$n(r,ea.emoji(),n.message,t);break;case"ulid":$n(r,ea.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":ta(r,"binary",n.message,t);break;case"contentEncoding:base64":Nr(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":$n(r,ea.base64,n.message,t);break}break;case"nanoid":$n(r,ea.nanoid,n.message,t);break}return r}a(YR,"R7");function gb(e,t){return t.patternStrategy==="escape"?Ete(e):e}a(gb,"Vz");var _te=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Ete(e){let t="";for(let r=0;r<e.length;r++)_te.has(e[r])||(t+="\\"),t+=e[r];return t}a(Ete,"My");function ta(e,t,r,n){e.format||e.anyOf?.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):Nr(e,"format",t,r,n)}a(ta,"u8");function $n(e,t,r,n){e.pattern||e.allOf?.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:B_(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):Nr(e,"pattern",B_(t,n),r,n)}a($n,"xq");function B_(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",s=!1,o=!1,l=!1;for(let u=0;u<n.length;u++){if(s){i+=n[u],s=!1;continue}if(r.i){if(o){if(n[u].match(/[a-z]/)){l?(i+=n[u],i+=`${n[u-2]}-${n[u]}`.toUpperCase(),l=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(i+=n[u],l=!0):i+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){i+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){i+=o?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}i+=n[u],n[u]==="\\"?s=!0:o&&n[u]==="]"?o=!1:!o&&n[u]==="["&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(B_,"Pk");function $R(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===xt.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,i)=>({...n,[i]:Tr(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",i]})??zi(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:Tr(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===xt.ZodString&&e.keyType._def.checks?.length){let{type:n,...i}=YR(e.keyType._def,t);return{...r,propertyNames:i}}else{if(e.keyType?._def.typeName===xt.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===xt.ZodBranded&&e.keyType._def.type._def.typeName===xt.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...i}=KR(e.keyType._def,t);return{...r,propertyNames:i}}}return r}a($R,"I7");function Ste(e,t){if(t.mapStrategy==="record")return $R(e,t);let r=Tr(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||zi(t),n=Tr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||zi(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(Ste,"Sz");function kte(e){let t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),n=Array.from(new Set(r.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:r}}a(kte,"Mz");function Ate(e){return e.target==="openAi"?void 0:{not:zi({...e,currentPath:[...e.currentPath,"not"]})}}a(Ate,"Nz");function Tte(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}a(Tte,"Cz");var V0={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Nte(e,t){if(t.target==="openApi3")return F_(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in V0&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,s)=>{let o=V0[s._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,s)=>{let o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":return s._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((s,o,l)=>l.indexOf(s)===o);return{type:i.length>1?i:i[0],enum:r.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(s=>!n.includes(s))],[])};return F_(e,t)}a(Nte,"Ez");var F_=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>Tr(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"Ok");function Ite(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:V0[e.innerType._def.typeName],nullable:!0}:{type:[V0[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=Tr(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Tr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Ite,"hz");function Cte(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",DR(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?Nr(r,"minimum",n.value,n.message,t):Nr(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Nr(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Nr(r,"maximum",n.value,n.message,t):Nr(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Nr(r,"maximum",n.value,n.message,t));break;case"multipleOf":Nr(r,"multipleOf",n.value,n.message,t);break}return r}a(Cte,"Rz");function Mte(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},i=[],s=e.shape();for(let l in s){let u=s[l];if(u===void 0||u._def===void 0)continue;let c=Rte(u);c&&r&&(u._def.typeName==="ZodOptional"&&(u=u._def.innerType),u.isNullable()||(u=u.nullable()),c=!1);let d=Tr(u._def,{...t,currentPath:[...t.currentPath,"properties",l],propertyPath:[...t.currentPath,"properties",l]});d!==void 0&&(n.properties[l]=d,!c&&i.push(l))}i.length&&(n.required=i);let o=Ote(e,t);return o!==void 0&&(n.additionalProperties=o),n}a(Mte,"Iz");function Ote(e,t){if(e.catchall._def.typeName!=="ZodNever")return Tr(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Ote,"Ny");function Rte(e){try{return e.isOptional()}catch{return!0}}a(Rte,"Cy");var Lte=a((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Tr(e.innerType._def,t);let r=Tr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:zi(t)},r]}:zi(t)},"Dz"),Dte=a((e,t)=>{if(t.pipeStrategy==="input")return Tr(e.in._def,t);if(t.pipeStrategy==="output")return Tr(e.out._def,t);let r=Tr(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Tr(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}},"Lz");function jte(e,t){return Tr(e.type._def,t)}a(jte,"gz");function Pte(e,t){let r={type:"array",uniqueItems:!0,items:Tr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Nr(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Nr(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}a(Pte,"bz");function zte(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Tr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Tr(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Tr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(zte,"yz");function Bte(e){return{not:zi(e)}}a(Bte,"uz");function Fte(e){return zi(e)}a(Fte,"xz");var Ute=a((e,t)=>Tr(e.innerType._def,t),"pz"),Hte=a((e,t,r)=>{switch(t){case xt.ZodString:return YR(e,r);case xt.ZodNumber:return Cte(e,r);case xt.ZodObject:return Mte(e,r);case xt.ZodBigInt:return fte(e,r);case xt.ZodBoolean:return hte();case xt.ZodDate:return ZR(e,r);case xt.ZodUndefined:return Bte(r);case xt.ZodNull:return Tte(r);case xt.ZodArray:return dte(e,r);case xt.ZodUnion:case xt.ZodDiscriminatedUnion:return Nte(e,r);case xt.ZodIntersection:return wte(e,r);case xt.ZodTuple:return zte(e,r);case xt.ZodRecord:return $R(e,r);case xt.ZodLiteral:return xte(e,r);case xt.ZodEnum:return vte(e);case xt.ZodNativeEnum:return kte(e);case xt.ZodNullable:return Ite(e,r);case xt.ZodOptional:return Lte(e,r);case xt.ZodMap:return Ste(e,r);case xt.ZodSet:return Pte(e,r);case xt.ZodLazy:return()=>e.getter()._def;case xt.ZodPromise:return jte(e,r);case xt.ZodNaN:case xt.ZodNever:return Ate(r);case xt.ZodEffects:return bte(e,r);case xt.ZodAny:return zi(r);case xt.ZodUnknown:return Fte(r);case xt.ZodDefault:return gte(e,r);case xt.ZodBranded:return KR(e,r);case xt.ZodReadonly:return Ute(e,r);case xt.ZodCatch:return pte(e,r);case xt.ZodPipeline:return Dte(e,r);case xt.ZodFunction:case xt.ZodVoid:case xt.ZodSymbol:return;default:return(n=>{})()}},"cz");function Tr(e,t,r=!1){let n=t.seen.get(e);if(t.override){let l=t.override?.(e,t,n,r);if(l!==Jq)return l}if(n&&!r){let l=Gte(n,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Hte(e,e.typeName,t),o=typeof s=="function"?Tr(s(),t):s;if(o&&Vte(e,t,o),t.postProcess){let l=t.postProcess(o,e,t);return i.jsonSchema=o,l}return i.jsonSchema=o,o}a(Tr,"_6");var Gte=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:LR(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),zi(t)):t.$refStrategy==="seen"?zi(t):void 0}},"Ey"),Vte=a((e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),"hy"),Kte=a((e,t)=>{let r=tee(t),n,i=Tr(e._def,r,!1)??zi(r);r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let s=n?{...i,[r.definitionPath]:n}:i;return r.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s},"mz");function pu(e,t){let r=typeof e;if(r!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!pu(e[i],t[i]))return!1;return!0}if(r==="object"){if(!e||!t)return e===t;let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let s of n)if(!pu(e[s],t[s]))return!1;return!0}return e===t}a(pu,"Q_");function ia(e){return encodeURI(Zte(e))}a(ia,"Y8");function Zte(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}a(Zte,"Ry");var Yte={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},$te={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Qte={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},Wte=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function ho(e,t=Object.create(null),r=Wte,n=""){if(e&&typeof e=="object"&&!Array.isArray(e)){let s=e.$id||e.id;if(s){let o=new URL(s,r.href);o.hash.length>1?t[o.href]=e:(o.hash="",n===""?r=o:ho(e,t,r))}}else if(e!==!0&&e!==!1)return t;let i=r.href+(n?"#"+n:"");if(t[i]!==void 0)throw Error(`Duplicate schema URI "${i}".`);if(t[i]=e,e===!0||e===!1)return t;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:i}),e.$ref&&e.__absolute_ref__===void 0){let s=new URL(e.$ref,r.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:s.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){let s=new URL(e.$recursiveRef,r.href);s.hash=s.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:s.href})}if(e.$anchor){let s=new URL("#"+e.$anchor,r.href);t[s.href]=e}for(let s in e){if(Qte[s])continue;let o=`${n}/${ia(s)}`,l=e[s];if(Array.isArray(l)){if(Yte[s]){let u=l.length;for(let c=0;c<u;c++)ho(l[c],t,r,`${o}/${c}`)}}else if($te[s])for(let u in l)ho(l[u],t,r,`${o}/${ia(u)}`);else ho(l,t,r,o)}return t}a(ho,"x8");var Xte=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Jte=[0,31,28,31,30,31,30,31,31,30,31,30,31],qte=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ere=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,tre=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,rre=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,nre=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,ire=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,are=/^(?:\/(?:[^~/]|~0|~1)*)*$/,sre=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,ore=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,lre=a(e=>{if(e[0]==='"')return!1;let[t,r,...n]=e.split("@");return!t||!r||n.length!==0||t.length>64||r.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(r)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:r.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},"ny"),ure=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,cre=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,dre=a(e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),"ty");function La(e){return e.test.bind(e)}a(La,"a8");var U_={date:QR,time:WR.bind(void 0,!1),"date-time":pre,duration:dre,uri:bre,"uri-reference":La(tre),"uri-template":La(rre),url:La(nre),email:lre,hostname:La(ere),ipv4:La(ure),ipv6:La(cre),regex:yre,uuid:La(ire),"json-pointer":La(are),"json-pointer-uri-fragment":La(sre),"relative-json-pointer":La(ore)};function fre(e){return e%4===0&&(e%100!==0||e%400===0)}a(fre,"Uy");function QR(e){let t=e.match(Xte);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(n==2&&fre(r)?29:Jte[n])}a(QR,"Yk");function WR(e,t){let r=t.match(qte);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=!!r[5];return(n<=23&&i<=59&&s<=59||n==23&&i==59&&s==60)&&(!e||o)}a(WR,"jk");var hre=/t|\s/i;function pre(e){let t=e.split(hre);return t.length==2&&QR(t[0])&&WR(!0,t[1])}a(pre,"ay");var mre=/\/|:/,gre=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function bre(e){return mre.test(e)&&gre.test(e)}a(bre,"sy");var vre=/[^\\]\\Z/;function yre(e){if(vre.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}a(yre,"qu");function wre(e){let t=0,r=e.length,n=0,i;for(;n<r;)t++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r&&(i=e.charCodeAt(n),(i&64512)==56320&&n++);return t}a(wre,"vk");function en(e,t,r="2019-09",n=ho(t),i=!0,s=null,o="#",l="#",u=Object.create(null)){if(t===!0)return{valid:!0,errors:[]};if(t===!1)return{valid:!1,errors:[{instanceLocation:o,keyword:"false",keywordLocation:o,error:"False boolean schema."}]};let c=typeof e,d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":e===null?d="null":Array.isArray(e)?d="array":d="object";break;default:throw Error(`Instances of "${c}" type are not supported.`)}let{$ref:f,$recursiveRef:g,$recursiveAnchor:m,type:y,const:_,enum:A,required:I,not:O,anyOf:R,allOf:L,oneOf:D,if:P,then:Z,else:V,format:W,properties:F,patternProperties:Y,additionalProperties:h,unevaluatedProperties:w,minProperties:b,maxProperties:x,propertyNames:E,dependentRequired:T,dependentSchemas:N,dependencies:k,prefixItems:p,items:S,additionalItems:C,unevaluatedItems:M,contains:U,minContains:B,maxContains:G,minItems:J,maxItems:ue,uniqueItems:se,minimum:oe,maximum:Pe,exclusiveMinimum:Ee,exclusiveMaximum:be,multipleOf:Ce,minLength:X,maxLength:ce,pattern:te,__absolute_ref__:ie,__absolute_recursive_ref__:me}=t,xe=[];if(m===!0&&s===null&&(s=t),g==="#"){let de=s===null?n[me]:s,Q=`${l}/$recursiveRef`,ne=en(e,s===null?t:s,r,n,i,de,o,Q,u);ne.valid||xe.push({instanceLocation:o,keyword:"$recursiveRef",keywordLocation:Q,error:"A subschema had errors."},...ne.errors)}if(f!==void 0){let de=n[ie||f];if(de===void 0){let q=`Unresolved $ref "${f}".`;throw ie&&ie!==f&&(q+=`  Absolute URI "${ie}".`),q+=`
Known schemas:
- ${Object.keys(n).join(`
- `)}`,Error(q)}let Q=`${l}/$ref`,ne=en(e,de,r,n,i,s,o,Q,u);if(ne.valid||xe.push({instanceLocation:o,keyword:"$ref",keywordLocation:Q,error:"A subschema had errors."},...ne.errors),r==="4"||r==="7")return{valid:xe.length===0,errors:xe}}if(Array.isArray(y)){let de=y.length,Q=!1;for(let ne=0;ne<de;ne++)if(d===y[ne]||y[ne]==="integer"&&d==="number"&&e%1===0&&e===e){Q=!0;break}Q||xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${d}" is invalid. Expected "${y.join('", "')}".`})}else y==="integer"?(d!=="number"||e%1||e!==e)&&xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${d}" is invalid. Expected "${y}".`}):y!==void 0&&d!==y&&xe.push({instanceLocation:o,keyword:"type",keywordLocation:`${l}/type`,error:`Instance type "${d}" is invalid. Expected "${y}".`});if(_!==void 0&&(d==="object"||d==="array"?pu(e,_)||xe.push({instanceLocation:o,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(_)}.`}):e!==_&&xe.push({instanceLocation:o,keyword:"const",keywordLocation:`${l}/const`,error:`Instance does not match ${JSON.stringify(_)}.`})),A!==void 0&&(d==="object"||d==="array"?A.some(de=>pu(e,de))||xe.push({instanceLocation:o,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`}):A.some(de=>e===de)||xe.push({instanceLocation:o,keyword:"enum",keywordLocation:`${l}/enum`,error:`Instance does not match any of ${JSON.stringify(A)}.`})),O!==void 0){let de=`${l}/not`;en(e,O,r,n,i,s,o,de).valid&&xe.push({instanceLocation:o,keyword:"not",keywordLocation:de,error:'Instance matched "not" schema.'})}let Oe=[];if(R!==void 0){let de=`${l}/anyOf`,Q=xe.length,ne=!1;for(let q=0;q<R.length;q++){let $=R[q],re=Object.create(u),ae=en(e,$,r,n,i,m===!0?s:null,o,`${de}/${q}`,re);xe.push(...ae.errors),ne=ne||ae.valid,ae.valid&&Oe.push(re)}ne?xe.length=Q:xe.splice(Q,0,{instanceLocation:o,keyword:"anyOf",keywordLocation:de,error:"Instance does not match any subschemas."})}if(L!==void 0){let de=`${l}/allOf`,Q=xe.length,ne=!0;for(let q=0;q<L.length;q++){let $=L[q],re=Object.create(u),ae=en(e,$,r,n,i,m===!0?s:null,o,`${de}/${q}`,re);xe.push(...ae.errors),ne=ne&&ae.valid,ae.valid&&Oe.push(re)}ne?xe.length=Q:xe.splice(Q,0,{instanceLocation:o,keyword:"allOf",keywordLocation:de,error:"Instance does not match every subschema."})}if(D!==void 0){let de=`${l}/oneOf`,Q=xe.length,ne=D.filter((q,$)=>{let re=Object.create(u),ae=en(e,q,r,n,i,m===!0?s:null,o,`${de}/${$}`,re);return xe.push(...ae.errors),ae.valid&&Oe.push(re),ae.valid}).length;ne===1?xe.length=Q:xe.splice(Q,0,{instanceLocation:o,keyword:"oneOf",keywordLocation:de,error:`Instance does not match exactly one subschema (${ne} matches).`})}if((d==="object"||d==="array")&&Object.assign(u,...Oe),P!==void 0){let de=`${l}/if`;if(en(e,P,r,n,i,s,o,de,u).valid){if(Z!==void 0){let Q=en(e,Z,r,n,i,s,o,`${l}/then`,u);Q.valid||xe.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "then" schema.'},...Q.errors)}}else if(V!==void 0){let Q=en(e,V,r,n,i,s,o,`${l}/else`,u);Q.valid||xe.push({instanceLocation:o,keyword:"if",keywordLocation:de,error:'Instance does not match "else" schema.'},...Q.errors)}}if(d==="object"){if(I!==void 0)for(let q of I)q in e||xe.push({instanceLocation:o,keyword:"required",keywordLocation:`${l}/required`,error:`Instance does not have required property "${q}".`});let de=Object.keys(e);if(b!==void 0&&de.length<b&&xe.push({instanceLocation:o,keyword:"minProperties",keywordLocation:`${l}/minProperties`,error:`Instance does not have at least ${b} properties.`}),x!==void 0&&de.length>x&&xe.push({instanceLocation:o,keyword:"maxProperties",keywordLocation:`${l}/maxProperties`,error:`Instance does not have at least ${x} properties.`}),E!==void 0){let q=`${l}/propertyNames`;for(let $ in e){let re=`${o}/${ia($)}`,ae=en($,E,r,n,i,s,re,q);ae.valid||xe.push({instanceLocation:o,keyword:"propertyNames",keywordLocation:q,error:`Property name "${$}" does not match schema.`},...ae.errors)}}if(T!==void 0){let q=`${l}/dependantRequired`;for(let $ in T)if($ in e){let re=T[$];for(let ae of re)ae in e||xe.push({instanceLocation:o,keyword:"dependentRequired",keywordLocation:q,error:`Instance has "${$}" but does not have "${ae}".`})}}if(N!==void 0)for(let q in N){let $=`${l}/dependentSchemas`;if(q in e){let re=en(e,N[q],r,n,i,s,o,`${$}/${ia(q)}`,u);re.valid||xe.push({instanceLocation:o,keyword:"dependentSchemas",keywordLocation:$,error:`Instance has "${q}" but does not match dependant schema.`},...re.errors)}}if(k!==void 0){let q=`${l}/dependencies`;for(let $ in k)if($ in e){let re=k[$];if(Array.isArray(re))for(let ae of re)ae in e||xe.push({instanceLocation:o,keyword:"dependencies",keywordLocation:q,error:`Instance has "${$}" but does not have "${ae}".`});else{let ae=en(e,re,r,n,i,s,o,`${q}/${ia($)}`);ae.valid||xe.push({instanceLocation:o,keyword:"dependencies",keywordLocation:q,error:`Instance has "${$}" but does not match dependant schema.`},...ae.errors)}}}let Q=Object.create(null),ne=!1;if(F!==void 0){let q=`${l}/properties`;for(let $ in F){if(!($ in e))continue;let re=`${o}/${ia($)}`,ae=en(e[$],F[$],r,n,i,s,re,`${q}/${ia($)}`);if(ae.valid)u[$]=Q[$]=!0;else if(ne=i,xe.push({instanceLocation:o,keyword:"properties",keywordLocation:q,error:`Property "${$}" does not match schema.`},...ae.errors),ne)break}}if(!ne&&Y!==void 0){let q=`${l}/patternProperties`;for(let $ in Y){let re=new RegExp($,"u"),ae=Y[$];for(let Be in e){if(!re.test(Be))continue;let Ie=`${o}/${ia(Be)}`,Ke=en(e[Be],ae,r,n,i,s,Ie,`${q}/${ia($)}`);Ke.valid?u[Be]=Q[Be]=!0:(ne=i,xe.push({instanceLocation:o,keyword:"patternProperties",keywordLocation:q,error:`Property "${Be}" matches pattern "${$}" but does not match associated schema.`},...Ke.errors))}}}if(!ne&&h!==void 0){let q=`${l}/additionalProperties`;for(let $ in e){if(Q[$])continue;let re=`${o}/${ia($)}`,ae=en(e[$],h,r,n,i,s,re,q);ae.valid?u[$]=!0:(ne=i,xe.push({instanceLocation:o,keyword:"additionalProperties",keywordLocation:q,error:`Property "${$}" does not match additional properties schema.`},...ae.errors))}}else if(!ne&&w!==void 0){let q=`${l}/unevaluatedProperties`;for(let $ in e)if(!u[$]){let re=`${o}/${ia($)}`,ae=en(e[$],w,r,n,i,s,re,q);ae.valid?u[$]=!0:xe.push({instanceLocation:o,keyword:"unevaluatedProperties",keywordLocation:q,error:`Property "${$}" does not match unevaluated properties schema.`},...ae.errors)}}}else if(d==="array"){ue!==void 0&&e.length>ue&&xe.push({instanceLocation:o,keyword:"maxItems",keywordLocation:`${l}/maxItems`,error:`Array has too many items (${e.length} > ${ue}).`}),J!==void 0&&e.length<J&&xe.push({instanceLocation:o,keyword:"minItems",keywordLocation:`${l}/minItems`,error:`Array has too few items (${e.length} < ${J}).`});let de=e.length,Q=0,ne=!1;if(p!==void 0){let q=`${l}/prefixItems`,$=Math.min(p.length,de);for(;Q<$;Q++){let re=en(e[Q],p[Q],r,n,i,s,`${o}/${Q}`,`${q}/${Q}`);if(u[Q]=!0,!re.valid&&(ne=i,xe.push({instanceLocation:o,keyword:"prefixItems",keywordLocation:q,error:"Items did not match schema."},...re.errors),ne))break}}if(S!==void 0){let q=`${l}/items`;if(Array.isArray(S)){let $=Math.min(S.length,de);for(;Q<$;Q++){let re=en(e[Q],S[Q],r,n,i,s,`${o}/${Q}`,`${q}/${Q}`);if(u[Q]=!0,!re.valid&&(ne=i,xe.push({instanceLocation:o,keyword:"items",keywordLocation:q,error:"Items did not match schema."},...re.errors),ne))break}}else for(;Q<de;Q++){let $=en(e[Q],S,r,n,i,s,`${o}/${Q}`,q);if(u[Q]=!0,!$.valid&&(ne=i,xe.push({instanceLocation:o,keyword:"items",keywordLocation:q,error:"Items did not match schema."},...$.errors),ne))break}if(!ne&&C!==void 0){let $=`${l}/additionalItems`;for(;Q<de;Q++){let re=en(e[Q],C,r,n,i,s,`${o}/${Q}`,$);u[Q]=!0,!re.valid&&(ne=i,xe.push({instanceLocation:o,keyword:"additionalItems",keywordLocation:$,error:"Items did not match additional items schema."},...re.errors))}}}if(U!==void 0)if(de===0&&B===void 0)xe.push({instanceLocation:o,keyword:"contains",keywordLocation:`${l}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(B!==void 0&&de<B)xe.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array has less items (${de}) than minContains (${B}).`});else{let q=`${l}/contains`,$=xe.length,re=0;for(let ae=0;ae<de;ae++){let Be=en(e[ae],U,r,n,i,s,`${o}/${ae}`,q);Be.valid?(u[ae]=!0,re++):xe.push(...Be.errors)}re>=(B||0)&&(xe.length=$),B===void 0&&G===void 0&&re===0?xe.splice($,0,{instanceLocation:o,keyword:"contains",keywordLocation:q,error:"Array does not contain item matching schema."}):B!==void 0&&re<B?xe.push({instanceLocation:o,keyword:"minContains",keywordLocation:`${l}/minContains`,error:`Array must contain at least ${B} items matching schema. Only ${re} items were found.`}):G!==void 0&&re>G&&xe.push({instanceLocation:o,keyword:"maxContains",keywordLocation:`${l}/maxContains`,error:`Array may contain at most ${G} items matching schema. ${re} items were found.`})}if(!ne&&M!==void 0){let q=`${l}/unevaluatedItems`;for(Q;Q<de;Q++){if(u[Q])continue;let $=en(e[Q],M,r,n,i,s,`${o}/${Q}`,q);u[Q]=!0,!$.valid&&xe.push({instanceLocation:o,keyword:"unevaluatedItems",keywordLocation:q,error:"Items did not match unevaluated items schema."},...$.errors)}}if(se)for(let q=0;q<de;q++){let $=e[q],re=typeof $=="object"&&$!==null;for(let ae=0;ae<de;ae++){if(q===ae)continue;let Be=e[ae];($===Be||re&&typeof Be=="object"&&Be!==null&&pu($,Be))&&(xe.push({instanceLocation:o,keyword:"uniqueItems",keywordLocation:`${l}/uniqueItems`,error:`Duplicate items at indexes ${q} and ${ae}.`}),q=Number.MAX_SAFE_INTEGER,ae=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(r==="4"?(oe!==void 0&&(Ee===!0&&e<=oe||e<oe)&&xe.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${e} is less than ${Ee?"or equal to ":""} ${oe}.`}),Pe!==void 0&&(be===!0&&e>=Pe||e>Pe)&&xe.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${e} is greater than ${be?"or equal to ":""} ${Pe}.`})):(oe!==void 0&&e<oe&&xe.push({instanceLocation:o,keyword:"minimum",keywordLocation:`${l}/minimum`,error:`${e} is less than ${oe}.`}),Pe!==void 0&&e>Pe&&xe.push({instanceLocation:o,keyword:"maximum",keywordLocation:`${l}/maximum`,error:`${e} is greater than ${Pe}.`}),Ee!==void 0&&e<=Ee&&xe.push({instanceLocation:o,keyword:"exclusiveMinimum",keywordLocation:`${l}/exclusiveMinimum`,error:`${e} is less than ${Ee}.`}),be!==void 0&&e>=be&&xe.push({instanceLocation:o,keyword:"exclusiveMaximum",keywordLocation:`${l}/exclusiveMaximum`,error:`${e} is greater than or equal to ${be}.`})),Ce!==void 0){let de=e%Ce;Math.abs(0-de)>=11920929e-14&&Math.abs(Ce-de)>=11920929e-14&&xe.push({instanceLocation:o,keyword:"multipleOf",keywordLocation:`${l}/multipleOf`,error:`${e} is not a multiple of ${Ce}.`})}}else if(d==="string"){let de=X===void 0&&ce===void 0?0:wre(e);X!==void 0&&de<X&&xe.push({instanceLocation:o,keyword:"minLength",keywordLocation:`${l}/minLength`,error:`String is too short (${de} < ${X}).`}),ce!==void 0&&de>ce&&xe.push({instanceLocation:o,keyword:"maxLength",keywordLocation:`${l}/maxLength`,error:`String is too long (${de} > ${ce}).`}),te!==void 0&&!new RegExp(te,"u").test(e)&&xe.push({instanceLocation:o,keyword:"pattern",keywordLocation:`${l}/pattern`,error:"String does not match pattern."}),W!==void 0&&U_[W]&&!U_[W](e)&&xe.push({instanceLocation:o,keyword:"format",keywordLocation:`${l}/format`,error:`String does not match format "${W}".`})}return{valid:xe.length===0,errors:xe}}a(en,"b6");class xre{static{a(this,"lz")}schema;draft;shortCircuit;lookup;constructor(t,r="2019-09",n=!0){this.schema=t,this.draft=r,this.shortCircuit=n,this.lookup=ho(t)}validate(t){return en(t,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(t,r){r&&(t={...t,$id:r}),ho(t,this.lookup)}}var _re={};En(_re,{Validator:a(()=>xre,"Validator"),deepCompareStrict:a(()=>pu,"deepCompareStrict"),toJsonSchema:a(()=>XR,"toJsonSchema"),validatesOnlyStrings:a(()=>a0,"validatesOnlyStrings")});function XR(e){if(Ta(e)){let t=Yq(e,!0);if(rd(t)){let r=t1(t,!0);return P0(r)}else return P0(e)}return Ro(e)?Kte(e):e}a(XR,"rz");function a0(e){if(!e||typeof e!="object"||Object.keys(e).length===0||Array.isArray(e))return!1;if("type"in e)return typeof e.type=="string"?e.type==="string":Array.isArray(e.type)?e.type.every(t=>t==="string"):!1;if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(t=>typeof t=="string");if("const"in e)return typeof e.const=="string";if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(t=>a0(t));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){let t="anyOf"in e?e.anyOf:e.oneOf;return t.length>0&&t.every(r=>a0(r))}if("not"in e)return!1;if("$ref"in e&&typeof e.$ref=="string"){let t=e.$ref,r=ho(e);return r[t]?a0(r[t]):!1}return!1}a(a0,"S5");var Ere={};En(Ere,{Graph:a(()=>a6,"Graph")});function Sre(e,t){if(e!==void 0&&!n0(e))return e;if(W2(t))try{let r=t.getName();return r=r.startsWith("Runnable")?r.slice(8):r,r}catch{return t.getName()}else return t.name??"UnknownSchema"}a(Sre,"Pu");function kre(e){return W2(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...XR(e.data.schema),title:e.data.name}}}a(kre,"Ou");var a6=class JR{static{a(this,"$12")}nodes={};edges=[];constructor(t){this.nodes=t?.nodes??this.nodes,this.edges=t?.edges??this.edges}toJSON(){let t={};return Object.values(this.nodes).forEach((r,n)=>{t[r.id]=n0(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:t[r.id],...kre(r)})),edges:this.edges.map(r=>{let n={source:t[r.source],target:t[r.target]};return typeof r.data<"u"&&(n.data=r.data),typeof r.conditional<"u"&&(n.conditional=r.conditional),n})}}addNode(t,r,n){if(r!==void 0&&this.nodes[r]!==void 0)throw Error(`Node with id ${r} already exists`);let i=r??Ts(),s={id:i,data:t,name:Sre(r,t),metadata:n};return this.nodes[i]=s,s}removeNode(t){delete this.nodes[t.id],this.edges=this.edges.filter(r=>r.source!==t.id&&r.target!==t.id)}addEdge(t,r,n,i){if(this.nodes[t.id]===void 0)throw Error(`Source node ${t.id} not in graph`);if(this.nodes[r.id]===void 0)throw Error(`Target node ${r.id} not in graph`);let s={source:t.id,target:r.id,data:n,conditional:i};return this.edges.push(s),s}firstNode(){return H_(this)}lastNode(){return G_(this)}extend(t,r=""){let n=r;Object.values(t.nodes).map(u=>u.id).every(n0)&&(n="");let i=a(u=>n?`${n}:${u}`:u,"O");Object.entries(t.nodes).forEach(([u,c])=>{this.nodes[i(u)]={...c,id:i(u)}});let s=t.edges.map(u=>({...u,source:i(u.source),target:i(u.target)}));this.edges=[...this.edges,...s];let o=t.firstNode(),l=t.lastNode();return[o?{id:i(o.id),data:o.data}:void 0,l?{id:i(l.id),data:l.data}:void 0]}trimFirstNode(){let t=this.firstNode();t&&H_(this,[t.id])&&this.removeNode(t)}trimLastNode(){let t=this.lastNode();t&&G_(this,[t.id])&&this.removeNode(t)}reid(){let t=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),r=new Map;Object.values(t).forEach(i=>{r.set(i,(r.get(i)||0)+1)});let n=a(i=>{let s=t[i];return n0(i)&&r.get(s)===1?s:i},"K");return new JR({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,s])=>[n(i),{...s,id:n(i)}])),edges:this.edges.map(i=>({...i,source:n(i.source),target:n(i.target)}))})}drawMermaid(t){let{withStyles:r,curveStyle:n,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:s}=t??{},o=this.reid(),l=o.firstNode(),u=o.lastNode();return Wq(o.nodes,o.edges,{firstNode:l?.id,lastNode:u?.id,withStyles:r,curveStyle:n,nodeColors:i,wrapLabelNWords:s})}async drawMermaidPng(t){let r=this.drawMermaid(t);return Xq(r,{backgroundColor:t?.backgroundColor})}};function H_(e,t=[]){let r=new Set(e.edges.filter(i=>!t.includes(i.source)).map(i=>i.target)),n=[];for(let i of Object.values(e.nodes))!t.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}a(H_,"zk");function G_(e,t=[]){let r=new Set(e.edges.filter(i=>!t.includes(i.target)).map(i=>i.source)),n=[];for(let i of Object.values(e.nodes))!t.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}a(G_,"Wk");function Are(e){let t=new TextEncoder,r=new ReadableStream({async start(n){for await(let i of e)n.enqueue(t.encode(`event: data
data: ${JSON.stringify(i)}

`));n.enqueue(t.encode(`event: end

`)),n.close()}});return ya.fromReadableStream(r)}a(Are,"Jk");function V_(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.iterator]=="function"&&typeof e.next=="function"}a(V_,"oz");var Tre=a(e=>e!=null&&typeof e=="object"&&"next"in e&&typeof e.next=="function","Hk");function s1(e){return typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function"}a(s1,"N5");function*K_(e,t){for(;;){let{value:r,done:n}=Hs.runWithConfig(xu(e),t.next.bind(t),!0);if(n)break;yield r}}a(K_,"nz");async function*o1(e,t){let r=t[Symbol.asyncIterator]();for(;;){let{value:n,done:i}=await Hs.runWithConfig(xu(e),r.next.bind(t),!0);if(i)break;yield n}}a(o1,"C5");function Tn(e,t){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[t]:e}}a(Tn,"Jq");var bi=class extends Sd{static{a(this,"pq")}lc_runnable=!0;name;getName(e){let t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}withRetry(e){return new eL({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new K0({bound:this,config:e,kwargs:{}})}withFallbacks(e){let t=Array.isArray(e)?e:e.fallbacks;return new Cre({runnable:this,fallbacks:t})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(Rr);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");let r=Object.fromEntries(Object.entries(e).filter(([n])=>n!=="runId"));return Array.from({length:t},(n,i)=>Rr(i===0?e:r))}return Array.from({length:t},()=>Rr(e))}async batch(e,t,r){let n=this._getOptionsList(t??{},e.length),i=n[0]?.maxConcurrency??r?.maxConcurrency,s=new Q2({maxConcurrency:i,onFailedAttempt:a(l=>{throw l},"onFailedAttempt")}),o=e.map((l,u)=>s.call(async()=>{try{return await this.invoke(l,n[u])}catch(c){if(r?.returnExceptions)return c;throw c}}));return Promise.all(o)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){let r=Rr(t),n=new Cl({generator:this._streamIterator(e,r),config:r});return await n.setup,ya.fromAsyncGenerator(n)}_separateRunnableConfigFromCallOptions(e){let t;e===void 0?t=Rr(e):t=Rr({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});let r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[t,r]}async _callWithConfig(e,t,r){let n=Rr(r),i=await(await pa(n))?.handleChainStart(this.toJSON(),Tn(t,"input"),n.runId,n?.runType,void 0,void 0,n?.runName??this.getName());delete n.runId;let s;try{let o=e.call(this,t,n,i);s=await wo(o,r?.signal)}catch(o){throw await i?.handleChainError(o),o}return await i?.handleChainEnd(Tn(s,"output")),s}async _batchWithConfig(e,t,r,n){let i=this._getOptionsList(r??{},t.length),s=await Promise.all(i.map(pa)),o=await Promise.all(s.map(async(u,c)=>{let d=await u?.handleChainStart(this.toJSON(),Tn(t[c],"input"),i[c].runId,i[c].runType,void 0,void 0,i[c].runName??this.getName());return delete i[c].runId,d})),l;try{let u=e.call(this,t,i,o,n);l=await wo(u,i?.[0]?.signal)}catch(u){throw await Promise.all(o.map(c=>c?.handleChainError(u))),u}return await Promise.all(o.map(u=>u?.handleChainEnd(Tn(l,"output")))),l}_concatOutputChunks(e,t){return Y2(e,t)}async*_transformStreamWithConfig(e,t,r){let n,i=!0,s,o=!0,l=Rr(r),u=await pa(l),c=this;async function*d(){for await(let g of e){if(i)if(n===void 0)n=g;else try{n=c._concatOutputChunks(n,g)}catch{n=void 0,i=!1}yield g}}a(d,"f");let f;try{let g=await rC(t.bind(this),d(),async()=>u?.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r?.signal,l);delete l.runId,f=g.setup;let m=f?.handlers.find(sW),y=g.output;m!==void 0&&f!==void 0&&(y=m.tapOutputIterable(f.runId,y));let _=f?.handlers.find(aC);_!==void 0&&f!==void 0&&(y=_.tapOutputIterable(f.runId,y));for await(let A of y)if(yield A,o)if(s===void 0)s=A;else try{s=this._concatOutputChunks(s,A)}catch{s=void 0,o=!1}}catch(g){throw await f?.handleChainError(g,void 0,void 0,void 0,{inputs:Tn(n,"input")}),g}await f?.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:Tn(n,"input")})}getGraph(e){let t=new a6,r=t.addNode({name:`${this.getName()}Input`,schema:Ld.any()}),n=t.addNode(this),i=t.addNode({name:`${this.getName()}Output`,schema:Ld.any()});return t.addEdge(r,n),t.addEdge(n,i),t}pipe(e){return new tL({first:this,last:rl(e)})}pick(e){return this.pipe(new Ore(e))}assign(e){return this.pipe(new Mre(new s6({steps:e})))}async*transform(e,t){let r;for await(let n of e)r===void 0?r=n:r=this._concatOutputChunks(r,n);yield*this._streamIterator(r,Rr(t))}async*streamLog(e,t,r){let n=new Qy({...r,autoClose:!1,_schemaFormat:"original"}),i=Rr(t);yield*this._streamLog(e,n,i)}async*_streamLog(e,t,r){let{callbacks:n}=r;if(n===void 0)r.callbacks=[t];else if(Array.isArray(n))r.callbacks=n.concat([t]);else{let l=n.copy();l.addHandler(t,!0),r.callbacks=l}let i=this.stream(e,r);async function s(){try{let l=await i;for await(let u of l){let c=new Ns({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await t.writer.write(c)}}finally{await t.writer.close()}}a(s,"O");let o=s();try{for await(let l of t)yield l}finally{await o}}streamEvents(e,t,r){let n;if(t.version==="v1")n=this._streamEventsV1(e,t,r);else if(t.version==="v2")n=this._streamEventsV2(e,t,r);else throw Error('Only versions "v1" and "v2" of the schema are currently supported.');return t.encoding==="text/event-stream"?Are(n):ya.fromAsyncGenerator(n)}async*_streamEventsV2(e,t,r){let n=new oW({...r,autoClose:!1}),i=Rr(t),s=i.runId??Ts();i.runId=s;let o=i.callbacks;if(o===void 0)i.callbacks=[n];else if(Array.isArray(o))i.callbacks=o.concat(n);else{let m=o.copy();m.addHandler(n,!0),i.callbacks=m}let l=new AbortController,u=this;async function c(){let m,y=null;try{t?.signal?"any"in AbortSignal?m=AbortSignal.any([l.signal,t.signal]):(m=t.signal,y=a(()=>{l.abort()},"N"),t.signal.addEventListener("abort",y,{once:!0})):m=l.signal;let _=await u.stream(e,{...i,signal:m}),A=n.tapOutputIterable(s,_);for await(let I of A)if(l.signal.aborted)break}finally{await n.finish(),m&&y&&m.removeEventListener("abort",y)}}a(c,"T");let d=c(),f=!1,g;try{for await(let m of n){if(!f){m.data.input=e,f=!0,g=m.run_id,yield m;continue}m.run_id===g&&m.event.endsWith("_end")&&m.data?.input&&delete m.data.input,yield m}}finally{l.abort(),await d}}async*_streamEventsV1(e,t,r){let n,i=!1,s=Rr(t),o=s.tags??[],l=s.metadata??{},u=s.runName??this.getName(),c=new Qy({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new yW({...r}),f=this._streamLog(e,c,s);for await(let m of f){if(n?n=n.concat(m):n=$2.fromRunLogPatch(m),n.state===void 0)throw Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;let I={...n.state},O={run_id:I.id,event:`on_${I.type}_start`,name:u,tags:o,metadata:l,data:{input:e}};d.includeEvent(O,I.type)&&(yield O)}let y=m.ops.filter(I=>I.path.startsWith("/logs/")).map(I=>I.path.split("/")[2]),_=[...new Set(y)];for(let I of _){let O,R={},L=n.state.logs[I];if(L.end_time===void 0?L.streamed_output.length>0?O="stream":O="start":O="end",O==="start")L.inputs!==void 0&&(R.input=L.inputs);else if(O==="end")L.inputs!==void 0&&(R.input=L.inputs),R.output=L.final_output;else if(O==="stream"){let D=L.streamed_output.length;if(D!==1)throw Error(`Expected exactly one chunk of streamed output, got ${D} instead. Encountered in: "${L.name}"`);R={chunk:L.streamed_output[0]},L.streamed_output=[]}yield{event:`on_${L.type}_${O}`,name:L.name,run_id:L.id,tags:L.tags,metadata:L.metadata,data:R}}let{state:A}=n;if(A.streamed_output.length>0){let I=A.streamed_output.length;if(I!==1)throw Error(`Expected exactly one chunk of streamed output, got ${I} instead. Encountered in: "${A.name}"`);let O={chunk:A.streamed_output[0]};A.streamed_output=[];let R={event:`on_${A.type}_stream`,run_id:A.id,tags:o,metadata:l,name:u,data:O};d.includeEvent(R,A.type)&&(yield R)}}let g=n?.state;if(g!==void 0){let m={event:`on_${g.type}_end`,name:u,run_id:g.id,tags:o,metadata:l,data:{output:g.final_output}};d.includeEvent(m,g.type)&&(yield m)}}static isRunnable(e){return W2(e)}withListeners({onStart:e,onEnd:t,onError:r}){return new K0({bound:this,config:{},configFactories:[n=>({callbacks:[new lC({config:n,onStart:e,onEnd:t,onError:r})]})]})}asTool(e){return Rre(this,e)}},K0=class qR extends bi{static{a(this,"$13")}static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(t){super(t),this.bound=t.bound,this.kwargs=t.kwargs,this.config=t.config,this.configFactories=t.configFactories}getName(t){return this.bound.getName(t)}async _mergeConfig(...t){let r=m_(this.config,...t);return m_(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}withConfig(t){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...t}})}withRetry(t){return new eL({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:t?.stopAfterAttempt,...t})}async invoke(t,r){return this.bound.invoke(t,await this._mergeConfig(r,this.kwargs))}async batch(t,r,n){let i=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(Rr(s),this.kwargs))):await this._mergeConfig(Rr(r),this.kwargs);return this.bound.batch(t,i,n)}_concatOutputChunks(t,r){return this.bound._concatOutputChunks(t,r)}async*_streamIterator(t,r){yield*this.bound._streamIterator(t,await this._mergeConfig(Rr(r),this.kwargs))}async stream(t,r){return this.bound.stream(t,await this._mergeConfig(Rr(r),this.kwargs))}async*transform(t,r){yield*this.bound.transform(t,await this._mergeConfig(Rr(r),this.kwargs))}streamEvents(t,r,n){let i=this,s=a(async function*(){yield*i.bound.streamEvents(t,{...await i._mergeConfig(Rr(r),i.kwargs),version:r.version},n)},"O");return ya.fromAsyncGenerator(s())}static isRunnableBinding(t){return t.bound&&bi.isRunnable(t.bound)}withListeners({onStart:t,onEnd:r,onError:n}){return new qR({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new lC({config:i,onStart:t,onEnd:r,onError:n})]})]})}},eL=class extends K0{static{a(this,"wk")}static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=a(()=>{},"onFailedAttempt");constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,r){let n=e>1?`retry:attempt:${e}`:void 0;return Xn(t,{callbacks:r?.getChild(n)})}async _invoke(e,t,r){return Wy(n=>super.invoke(e,this._patchConfigForRetry(n,t,r)),{onFailedAttempt:a(({error:n})=>this.onFailedAttempt(n,e),"onFailedAttempt"),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,r,n){let i={};try{await Wy(async s=>{let o=e.map((f,g)=>g).filter(f=>i[f.toString()]===void 0||i[f.toString()]instanceof Error),l=o.map(f=>e[f]),u=o.map(f=>this._patchConfigForRetry(s,t?.[f],r?.[f])),c=await super.batch(l,u,{...n,returnExceptions:!0}),d;for(let f=0;f<c.length;f+=1){let g=c[f],m=o[f];g instanceof Error&&d===void 0&&(d=g,d.input=l[f]),i[m.toString()]=g}if(d)throw d;return c},{onFailedAttempt:a(({error:s})=>this.onFailedAttempt(s,s.input),"onFailedAttempt"),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if(n?.returnExceptions!==!0)throw s}return Object.keys(i).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>i[parseInt(s,10)])}async batch(e,t,r){return this._batchWithConfig(this._batch.bind(this),e,t,r)}},tL=class $c extends bi{static{a(this,"$14")}static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(t){super(t),this.first=t.first,this.middle=t.middle??this.middle,this.last=t.last,this.name=t.name,this.omitSequenceTags=t.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(t,r){let n=Rr(r),i=await(await pa(n))?.handleChainStart(this.toJSON(),Tn(t,"input"),n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let s=t,o;try{let l=[this.first,...this.middle];for(let u=0;u<l.length;u+=1){let c=l[u].invoke(s,Xn(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`)}));s=await wo(c,r?.signal)}if(r?.signal?.aborted)throw A0(r.signal);o=await this.last.invoke(s,Xn(n,{callbacks:i?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(l){throw await i?.handleChainError(l),l}return await i?.handleChainEnd(Tn(o,"output")),o}async batch(t,r,n){let i=this._getOptionsList(r??{},t.length),s=await Promise.all(i.map(pa)),o=await Promise.all(s.map(async(u,c)=>{let d=await u?.handleChainStart(this.toJSON(),Tn(t[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName);return delete i[c].runId,d})),l=t;try{for(let u=0;u<this.steps.length;u+=1){let c=this.steps[u].batch(l,o.map((d,f)=>{let g=d?.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`);return Xn(i[f],{callbacks:g})}),n);l=await wo(c,i[0]?.signal)}}catch(u){throw await Promise.all(o.map(c=>c?.handleChainError(u))),u}return await Promise.all(o.map(u=>u?.handleChainEnd(Tn(l,"output")))),l}_concatOutputChunks(t,r){return this.last._concatOutputChunks(t,r)}async*_streamIterator(t,r){let n=await pa(r),{runId:i,...s}=r??{},o=await n?.handleChainStart(this.toJSON(),Tn(t,"input"),i,void 0,void 0,void 0,s?.runName),l=[this.first,...this.middle,this.last],u=!0,c;async function*d(){yield t}a(d,"f");try{let f=l[0].transform(d(),Xn(s,{callbacks:o?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let g=1;g<l.length;g+=1)f=await l[g].transform(f,Xn(s,{callbacks:o?.getChild(this.omitSequenceTags?void 0:`seq:step:${g+1}`)}));for await(let g of f)if(r?.signal?.throwIfAborted(),yield g,u)if(c===void 0)c=g;else try{c=this._concatOutputChunks(c,g)}catch{c=void 0,u=!1}}catch(f){throw await o?.handleChainError(f),f}await o?.handleChainEnd(Tn(c,"output"))}getGraph(t){let r=new a6,n=null;return this.steps.forEach((i,s)=>{let o=i.getGraph(t);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);let l=o.firstNode();if(!l)throw Error(`Runnable ${i} has no first node`);n&&r.addEdge(n,l),n=o.lastNode()}),r}pipe(t){return $c.isRunnableSequence(t)?new $c({first:this.first,middle:this.middle.concat([this.last,t.first,...t.middle]),last:t.last,name:this.name??t.name}):new $c({first:this.first,middle:[...this.middle,this.last],last:rl(t),name:this.name})}static isRunnableSequence(t){return Array.isArray(t.middle)&&bi.isRunnable(t)}static from([t,...r],n){let i={};return typeof n=="string"?i.name=n:n!==void 0&&(i=n),new $c({...i,first:rl(t),middle:r.slice(0,-1).map(rl),last:rl(r[r.length-1])})}},s6=class rL extends bi{static{a(this,"$15")}static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(t){super(t),this.steps={};for(let[r,n]of Object.entries(t.steps))this.steps[r]=rl(n)}static from(t){return new rL({steps:t})}async invoke(t,r){let n=Rr(r),i=await(await pa(n))?.handleChainStart(this.toJSON(),{input:t},n.runId,void 0,void 0,void 0,n?.runName);delete n.runId;let s={};try{let o=Object.entries(this.steps).map(async([l,u])=>{s[l]=await u.invoke(t,Xn(n,{callbacks:i?.getChild(`map:key:${l}`)}))});await wo(Promise.all(o),r?.signal)}catch(o){throw await i?.handleChainError(o),o}return await i?.handleChainEnd(s),s}async*_transform(t,r,n){let i={...this.steps},s=Z2(t,Object.keys(i).length),o=new Map(Object.entries(i).map(([l,u],c)=>{let d=u.transform(s[c],Xn(n,{callbacks:r?.getChild(`map:key:${l}`)}));return[l,d.next().then(f=>({key:l,gen:d,result:f}))]}));for(;o.size;){let l=Promise.race(o.values()),{key:u,result:c,gen:d}=await wo(l,n?.signal);o.delete(u),!c.done&&(yield{[u]:c.value},o.set(u,d.next().then(f=>({key:u,gen:d,result:f}))))}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}a(n,"K");let i=Rr(r),s=new Cl({generator:this.transform(n(),i),config:i});return await s.setup,ya.fromAsyncGenerator(s)}},Nre=class nL extends bi{static{a(this,"$16")}lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(t){if(super(t),!K2(t.func))throw Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=t.func}async invoke(t,r){let[n]=this._getOptionsList(r??{},1),i=await pa(n),s=this.func(Xn(n,{callbacks:i}),t);return wo(s,n?.signal)}async*_streamIterator(t,r){let[n]=this._getOptionsList(r??{},1),i=await this.invoke(t,r);if(s1(i)){for await(let s of i)n?.signal?.throwIfAborted(),yield s;return}if(Tre(i)){for(;;){n?.signal?.throwIfAborted();let s=i.next();if(s.done)break;yield s.value}return}yield i}static from(t){return new nL({func:t})}};function Ire(e){if(K2(e))throw Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}a(Ire,"ju");var iL=class aL extends bi{static{a(this,"$17")}static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(t){if(K2(t.func))return Nre.from(t.func);super(t),Ire(t.func),this.func=t.func}static from(t){return new aL({func:t})}async _invoke(t,r,n){return new Promise((i,s)=>{let o=Xn(r,{callbacks:n?.getChild(),recursionLimit:(r?.recursionLimit??db)-1});Hs.runWithConfig(xu(o),async()=>{try{let l=await this.func(t,{...o});if(l&&bi.isRunnable(l)){if(r?.recursionLimit===0)throw Error("Recursion limit reached.");l=await l.invoke(t,{...o,recursionLimit:(o.recursionLimit??db)-1})}else if(s1(l)){let u;for await(let c of o1(o,l))if(r?.signal?.throwIfAborted(),u===void 0)u=c;else try{u=this._concatOutputChunks(u,c)}catch{u=c}l=u}else if(V_(l)){let u;for(let c of K_(o,l))if(r?.signal?.throwIfAborted(),u===void 0)u=c;else try{u=this._concatOutputChunks(u,c)}catch{u=c}l=u}i(l)}catch(l){s(l)}})})}async invoke(t,r){return this._callWithConfig(this._invoke.bind(this),t,r)}async*_transform(t,r,n){let i;for await(let l of t)if(i===void 0)i=l;else try{i=this._concatOutputChunks(i,l)}catch{i=l}let s=Xn(n,{callbacks:r?.getChild(),recursionLimit:(n?.recursionLimit??db)-1}),o=await new Promise((l,u)=>{Hs.runWithConfig(xu(s),async()=>{try{let c=await this.func(i,{...s,config:s});l(c)}catch(c){u(c)}})});if(o&&bi.isRunnable(o)){if(n?.recursionLimit===0)throw Error("Recursion limit reached.");let l=await o.stream(i,s);for await(let u of l)yield u}else if(s1(o))for await(let l of o1(s,o))n?.signal?.throwIfAborted(),yield l;else if(V_(o))for(let l of K_(s,o))n?.signal?.throwIfAborted(),yield l;else yield o}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}a(n,"K");let i=Rr(r),s=new Cl({generator:this.transform(n(),i),config:i});return await s.setup,ya.fromAsyncGenerator(s)}},Cre=class extends bi{static{a(this,"vu")}static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(let e of this.fallbacks)yield e}async invoke(e,t){let r=Rr(t),n=await pa(r),{runId:i,...s}=r,o=await n?.handleChainStart(this.toJSON(),Tn(e,"input"),i,void 0,void 0,void 0,s?.runName),l=Xn(s,{callbacks:o?.getChild()});return await Hs.runWithConfig(l,async()=>{let u;for(let c of this.runnables()){r?.signal?.throwIfAborted();try{let d=await c.invoke(e,l);return await o?.handleChainEnd(Tn(d,"output")),d}catch(d){u===void 0&&(u=d)}}throw u===void 0?Error("No error stored at end of fallback."):(await o?.handleChainError(u),u)})}async*_streamIterator(e,t){let r=Rr(t),n=await pa(r),{runId:i,...s}=r,o=await n?.handleChainStart(this.toJSON(),Tn(e,"input"),i,void 0,void 0,void 0,s?.runName),l,u;for(let d of this.runnables()){r?.signal?.throwIfAborted();let f=Xn(s,{callbacks:o?.getChild()});try{let g=await d.stream(e,f);u=o1(f,g);break}catch(g){l===void 0&&(l=g)}}if(u===void 0){let d=l??Error("No error stored at end of fallback.");throw await o?.handleChainError(d),d}let c;try{for await(let d of u){yield d;try{c=c===void 0?c:this._concatOutputChunks(c,d)}catch{c=void 0}}}catch(d){throw await o?.handleChainError(d),d}await o?.handleChainEnd(Tn(c,"output"))}async batch(e,t,r){if(r?.returnExceptions)throw Error("Not implemented.");let n=this._getOptionsList(t??{},e.length),i=await Promise.all(n.map(l=>pa(l))),s=await Promise.all(i.map(async(l,u)=>{let c=await l?.handleChainStart(this.toJSON(),Tn(e[u],"input"),n[u].runId,void 0,void 0,void 0,n[u].runName);return delete n[u].runId,c})),o;for(let l of this.runnables()){n[0].signal?.throwIfAborted();try{let u=await l.batch(e,s.map((c,d)=>Xn(n[d],{callbacks:c?.getChild()})),r);return await Promise.all(s.map((c,d)=>c?.handleChainEnd(Tn(u[d],"output")))),u}catch(u){o===void 0&&(o=u)}}throw o?(await Promise.all(s.map(l=>l?.handleChainError(o))),o):Error("No error stored at end of fallbacks.")}};function rl(e){if(typeof e=="function")return new iL({func:e});if(bi.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){let t={};for(let[r,n]of Object.entries(e))t[r]=rl(n);return new s6({steps:t})}else throw Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}a(rl,"EK");var Mre=class extends bi{static{a(this,"zu")}static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof s6&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,t){let r=await this.mapper.invoke(e,t);return{...e,...r}}async*_transform(e,t,r){let n=this.mapper.getStepsKeys(),[i,s]=Z2(e),o=this.mapper.transform(s,Xn(r,{callbacks:t?.getChild()})),l=o.next();for await(let u of i){if(typeof u!="object"||Array.isArray(u))throw Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);let c=Object.fromEntries(Object.entries(u).filter(([d])=>!n.includes(d)));Object.keys(c).length>0&&(yield c)}yield(await l).value;for await(let u of o)yield u}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}a(r,"_");let n=Rr(t),i=new Cl({generator:this.transform(r(),n),config:n});return await i.setup,ya.fromAsyncGenerator(i)}},Ore=class extends bi{static{a(this,"Wu")}static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{let t=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return t.length===0?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(let t of e){let r=await this._pick(t);r!==void 0&&(yield r)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}a(r,"_");let n=Rr(t),i=new Cl({generator:this.transform(r(),n),config:n});return await i.setup,ya.fromAsyncGenerator(i)}},Z_=class extends K0{static{a(this,"Tk")}name;description;schema;constructor(e){let t=tL.from([iL.from(async r=>{let n;if(kZ(r))try{n=await Fq(this.schema,r.args)}catch{throw new AZ("Received tool input did not match expected schema",JSON.stringify(r.args))}else n=r;return n}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:t,config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function Rre(e,t){let r=t.name??e.getName(),n=t.description??Uq(t.schema);return Hq(t.schema)?new Z_({name:r,description:n,schema:Ld.object({input:Ld.string()}).transform(i=>i.input),bound:e}):new Z_({name:r,description:n,schema:t.schema,bound:e})}a(Rre,"Ju");var sL=class extends bi{static{a(this,"D7")}lc_namespace=["langchain_core","documents","transformers"];invoke(e,t){return this.transformDocuments(e)}},Lre=class extends sL{static{a(this,"Xk")}async transformDocuments(e){let t=[];for(let r of e){let n=await this._transformDocument(r);t.push(n)}return t}},Dre={};En(Dre,{BaseDocumentTransformer:a(()=>sL,"BaseDocumentTransformer"),Document:a(()=>yZ,"Document"),MappingDocumentTransformer:a(()=>Lre,"MappingDocumentTransformer")});var jre=Ea(eV(),1),Pre=Object.defineProperty,zre=a((e,t,r)=>t in e?Pre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Cu"),Bre=a((e,t,r)=>(zre(e,t+"",r),r),"Eu");function Fre(e,t){let r=Array.from({length:e.length},(n,i)=>({start:i,end:i+1}));for(;r.length>1;){let n=null;for(let i=0;i<r.length-1;i++){let s=e.slice(r[i].start,r[i+1].end),o=t.get(s.join(","));o!=null&&(n==null||o<n[0])&&(n=[o,i])}if(n!=null){let i=n[1];r[i]={start:r[i].start,end:r[i+1].end},r.splice(i+1,1)}else break}return r}a(Fre,"hu");function Ure(e,t){return e.length===1?[t.get(e.join(","))]:Fre(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}a(Ure,"Ru");function Hre(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}a(Hre,"Iu");var l1=class{static{a(this,"Uz")}specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{let[s,o,...l]=i.split(" "),u=Number.parseInt(o,10);return l.forEach((c,d)=>n[c]=u+d),n},{});for(let[n,i]of Object.entries(r)){let s=jre.default.toByteArray(n);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,s])=>(n[s]=this.textEncoder.encode(i),n),{})}encode(e,t=[],r="all"){let n=new RegExp(this.patStr,"ug"),i=l1.specialTokenRegex(Object.keys(this.specialTokens)),s=[],o=new Set(t==="all"?Object.keys(this.specialTokens):t),l=new Set(r==="all"?Object.keys(this.specialTokens).filter(c=>!o.has(c)):r);if(l.size>0){let c=l1.specialTokenRegex([...l]),d=e.match(c);if(d!=null)throw Error(`The text contains a special token that is not allowed: ${d[0]}`)}let u=0;for(;;){let c=null,d=u;for(;i.lastIndex=d,c=i.exec(e),!(c==null||o.has(c[0]));)d=c.index+1;let f=c?.index??e.length;for(let m of e.substring(u,f).matchAll(n)){let y=this.textEncoder.encode(m[0]),_=this.rankMap.get(y.join(","));if(_!=null){s.push(_);continue}s.push(...Ure(y,this.rankMap))}if(c==null)break;let g=this.specialTokens[c[0]];s.push(g),u=c.index+c[0].length}return s}decode(e){let t=[],r=0;for(let s=0;s<e.length;++s){let o=e[s],l=this.textMap.get(o)??this.inverseSpecialTokens[o];l!=null&&(t.push(l),r+=l.length)}let n=new Uint8Array(r),i=0;for(let s of t)n.set(s,i),i+=s.length;return this.textDecoder.decode(n)}},oL=l1;Bre(oL,"specialTokenRegex",e=>new RegExp(e.map(t=>Hre(t)).join("|"),"g"));function Gre(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw Error("Unknown model")}}a(Gre,"Fz");var Vre={};En(Vre,{encodingForModel:a(()=>Zre,"encodingForModel"),getEncoding:a(()=>lL,"getEncoding")});var bh={},Kre=new Q2({});async function lL(e){return e in bh||(bh[e]=Kre.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(t=>t.json()).then(t=>new oL(t)).catch(t=>{throw delete bh[e],t})),await bh[e]}a(lL,"az");async function Zre(e){return lL(Gre(e))}a(Zre,"gu");Ea(MV(),1);var Nt={};yi(Nt,{xid:a(()=>one,"xid"),void:a(()=>One,"void"),uuidv7:a(()=>qre,"uuidv7"),uuidv6:a(()=>Jre,"uuidv6"),uuidv4:a(()=>Xre,"uuidv4"),uuid:a(()=>Wre,"uuid"),util:a(()=>yr,"util"),url:a(()=>ene,"url"),uppercase:a(()=>$4,"uppercase"),unknown:a(()=>Nu,"unknown"),union:a(()=>O6,"union"),undefined:a(()=>Cne,"undefined"),ulid:a(()=>sne,"ulid"),uint64:a(()=>Nne,"uint64"),uint32:a(()=>kne,"uint32"),tuple:a(()=>GL,"tuple"),trim:a(()=>e6,"trim"),treeifyError:a(()=>EC,"treeifyError"),transform:a(()=>D6,"transform"),toUpperCase:a(()=>r6,"toUpperCase"),toLowerCase:a(()=>t6,"toLowerCase"),toJSONSchema:a(()=>P0,"toJSONSchema"),templateLiteral:a(()=>Qne,"templateLiteral"),symbol:a(()=>Ine,"symbol"),superRefine:a(()=>pD,"superRefine"),success:a(()=>Zne,"success"),stringbool:a(()=>rie,"stringbool"),stringFormat:a(()=>vne,"stringFormat"),string:a(()=>u1,"string"),strictObject:a(()=>jne,"strictObject"),startsWith:a(()=>W4,"startsWith"),slugify:a(()=>n6,"slugify"),size:a(()=>K4,"size"),setErrorMap:a(()=>sie,"setErrorMap"),set:a(()=>Une,"set"),safeParseAsync:a(()=>vL,"safeParseAsync"),safeParse:a(()=>bL,"safeParse"),safeEncodeAsync:a(()=>kL,"safeEncodeAsync"),safeEncode:a(()=>EL,"safeEncode"),safeDecodeAsync:a(()=>AL,"safeDecodeAsync"),safeDecode:a(()=>SL,"safeDecode"),registry:a(()=>E4,"registry"),regexes:a(()=>Ol,"regexes"),regex:a(()=>Z4,"regex"),refine:a(()=>hD,"refine"),record:a(()=>VL,"record"),readonly:a(()=>oD,"readonly"),property:a(()=>ER,"property"),promise:a(()=>Wne,"promise"),prettifyError:a(()=>kC,"prettifyError"),preprocess:a(()=>iie,"preprocess"),prefault:a(()=>eD,"prefault"),positive:a(()=>yR,"positive"),pipe:a(()=>Q0,"pipe"),partialRecord:a(()=>Bne,"partialRecord"),parseAsync:a(()=>gL,"parseAsync"),parse:a(()=>mL,"parse"),overwrite:a(()=>Oo,"overwrite"),optional:a(()=>Y0,"optional"),object:a(()=>Dne,"object"),number:a(()=>NL,"number"),nullish:a(()=>Kne,"nullish"),nullable:a(()=>$0,"nullable"),null:a(()=>RL,"null"),normalize:a(()=>q4,"normalize"),nonpositive:a(()=>xR,"nonpositive"),nonoptional:a(()=>tD,"nonoptional"),nonnegative:a(()=>_R,"nonnegative"),never:a(()=>I6,"never"),negative:a(()=>wR,"negative"),nativeEnum:a(()=>Hne,"nativeEnum"),nanoid:a(()=>nne,"nanoid"),nan:a(()=>Yne,"nan"),multipleOf:a(()=>Od,"multipleOf"),minSize:a(()=>Rd,"minSize"),minLength:a(()=>Su,"minLength"),mime:a(()=>J4,"mime"),meta:a(()=>eie,"meta"),maxSize:a(()=>om,"maxSize"),maxLength:a(()=>lm,"maxLength"),map:a(()=>Fne,"map"),mac:a(()=>cne,"mac"),lte:a(()=>ma,"lte"),lt:a(()=>xl,"lt"),lowercase:a(()=>Y4,"lowercase"),looseObject:a(()=>Pne,"looseObject"),locales:a(()=>x4,"locales"),literal:a(()=>Gne,"literal"),length:a(()=>um,"length"),lazy:a(()=>cD,"lazy"),ksuid:a(()=>lne,"ksuid"),keyof:a(()=>Lne,"keyof"),jwt:a(()=>bne,"jwt"),json:a(()=>nie,"json"),iso:a(()=>uL,"iso"),ipv6:a(()=>dne,"ipv6"),ipv4:a(()=>une,"ipv4"),intersection:a(()=>UL,"intersection"),int64:a(()=>Tne,"int64"),int32:a(()=>Sne,"int32"),int:a(()=>c1,"int"),instanceof:a(()=>tie,"instanceof"),includes:a(()=>Q4,"includes"),httpUrl:a(()=>tne,"httpUrl"),hostname:a(()=>yne,"hostname"),hex:a(()=>wne,"hex"),hash:a(()=>xne,"hash"),guid:a(()=>Qre,"guid"),gte:a(()=>Mi,"gte"),gt:a(()=>_l,"gt"),globalRegistry:a(()=>Cn,"globalRegistry"),getErrorMap:a(()=>oie,"getErrorMap"),function:a(()=>Y_,"function"),formatError:a(()=>t4,"formatError"),float64:a(()=>Ene,"float64"),float32:a(()=>_ne,"float32"),flattenError:a(()=>e4,"flattenError"),file:a(()=>Vne,"file"),enum:a(()=>L6,"enum"),endsWith:a(()=>X4,"endsWith"),encodeAsync:a(()=>xL,"encodeAsync"),encode:a(()=>yL,"encode"),emoji:a(()=>rne,"emoji"),email:a(()=>$re,"email"),e164:a(()=>gne,"e164"),discriminatedUnion:a(()=>zne,"discriminatedUnion"),describe:a(()=>qne,"describe"),decodeAsync:a(()=>_L,"decodeAsync"),decode:a(()=>wL,"decode"),date:a(()=>Rne,"date"),custom:a(()=>Jne,"custom"),cuid2:a(()=>ane,"cuid2"),cuid:a(()=>ine,"cuid"),core:a(()=>uC,"core"),config:a(()=>ti,"config"),coerce:a(()=>mD,"coerce"),codec:a(()=>$ne,"codec"),clone:a(()=>In,"clone"),cidrv6:a(()=>hne,"cidrv6"),cidrv4:a(()=>fne,"cidrv4"),check:a(()=>Xne,"check"),catch:a(()=>iD,"catch"),boolean:a(()=>IL,"boolean"),bigint:a(()=>Ane,"bigint"),base64url:a(()=>mne,"base64url"),base64:a(()=>pne,"base64"),array:a(()=>gm,"array"),any:a(()=>Mne,"any"),_function:a(()=>Y_,"_function"),_default:a(()=>JL,"_default"),_ZodString:a(()=>d6,"_ZodString"),ZodXID:a(()=>v6,"ZodXID"),ZodVoid:a(()=>PL,"ZodVoid"),ZodUnknown:a(()=>DL,"ZodUnknown"),ZodUnion:a(()=>M6,"ZodUnion"),ZodUndefined:a(()=>ML,"ZodUndefined"),ZodUUID:a(()=>Ls,"ZodUUID"),ZodURL:a(()=>fm,"ZodURL"),ZodULID:a(()=>b6,"ZodULID"),ZodType:a(()=>ur,"ZodType"),ZodTuple:a(()=>HL,"ZodTuple"),ZodTransform:a(()=>QL,"ZodTransform"),ZodTemplateLiteral:a(()=>lD,"ZodTemplateLiteral"),ZodSymbol:a(()=>CL,"ZodSymbol"),ZodSuccess:a(()=>rD,"ZodSuccess"),ZodStringFormat:a(()=>Vr,"ZodStringFormat"),ZodString:a(()=>dm,"ZodString"),ZodSet:a(()=>ZL,"ZodSet"),ZodRecord:a(()=>R6,"ZodRecord"),ZodRealError:a(()=>Fi,"ZodRealError"),ZodReadonly:a(()=>sD,"ZodReadonly"),ZodPromise:a(()=>dD,"ZodPromise"),ZodPrefault:a(()=>qL,"ZodPrefault"),ZodPipe:a(()=>z6,"ZodPipe"),ZodOptional:a(()=>j6,"ZodOptional"),ZodObject:a(()=>bm,"ZodObject"),ZodNumberFormat:a(()=>Hu,"ZodNumberFormat"),ZodNumber:a(()=>hm,"ZodNumber"),ZodNullable:a(()=>WL,"ZodNullable"),ZodNull:a(()=>OL,"ZodNull"),ZodNonOptional:a(()=>P6,"ZodNonOptional"),ZodNever:a(()=>jL,"ZodNever"),ZodNanoID:a(()=>p6,"ZodNanoID"),ZodNaN:a(()=>aD,"ZodNaN"),ZodMap:a(()=>KL,"ZodMap"),ZodMAC:a(()=>TL,"ZodMAC"),ZodLiteral:a(()=>YL,"ZodLiteral"),ZodLazy:a(()=>uD,"ZodLazy"),ZodKSUID:a(()=>y6,"ZodKSUID"),ZodJWT:a(()=>T6,"ZodJWT"),ZodIssueCode:a(()=>aie,"ZodIssueCode"),ZodIntersection:a(()=>FL,"ZodIntersection"),ZodISOTime:a(()=>u6,"ZodISOTime"),ZodISODuration:a(()=>c6,"ZodISODuration"),ZodISODateTime:a(()=>o6,"ZodISODateTime"),ZodISODate:a(()=>l6,"ZodISODate"),ZodIPv6:a(()=>x6,"ZodIPv6"),ZodIPv4:a(()=>w6,"ZodIPv4"),ZodGUID:a(()=>Z0,"ZodGUID"),ZodFunction:a(()=>fD,"ZodFunction"),ZodFirstPartyTypeKind:a(()=>d1,"ZodFirstPartyTypeKind"),ZodFile:a(()=>$L,"ZodFile"),ZodError:a(()=>Yre,"ZodError"),ZodEnum:a(()=>$d,"ZodEnum"),ZodEmoji:a(()=>h6,"ZodEmoji"),ZodEmail:a(()=>f6,"ZodEmail"),ZodE164:a(()=>A6,"ZodE164"),ZodDiscriminatedUnion:a(()=>BL,"ZodDiscriminatedUnion"),ZodDefault:a(()=>XL,"ZodDefault"),ZodDate:a(()=>C6,"ZodDate"),ZodCustomStringFormat:a(()=>Sf,"ZodCustomStringFormat"),ZodCustom:a(()=>vm,"ZodCustom"),ZodCodec:a(()=>B6,"ZodCodec"),ZodCatch:a(()=>nD,"ZodCatch"),ZodCUID2:a(()=>g6,"ZodCUID2"),ZodCUID:a(()=>m6,"ZodCUID"),ZodCIDRv6:a(()=>E6,"ZodCIDRv6"),ZodCIDRv4:a(()=>_6,"ZodCIDRv4"),ZodBoolean:a(()=>pm,"ZodBoolean"),ZodBigIntFormat:a(()=>N6,"ZodBigIntFormat"),ZodBigInt:a(()=>mm,"ZodBigInt"),ZodBase64URL:a(()=>k6,"ZodBase64URL"),ZodBase64:a(()=>S6,"ZodBase64"),ZodArray:a(()=>zL,"ZodArray"),ZodAny:a(()=>LL,"ZodAny"),TimePrecision:a(()=>ZO,"TimePrecision"),NEVER:a(()=>cC,"NEVER"),$output:a(()=>UO,"$output"),$input:a(()=>HO,"$input"),$brand:a(()=>dC,"$brand")});var uL={};yi(uL,{time:a(()=>fL,"time"),duration:a(()=>hL,"duration"),datetime:a(()=>cL,"datetime"),date:a(()=>dL,"date"),ZodISOTime:a(()=>u6,"ZodISOTime"),ZodISODuration:a(()=>c6,"ZodISODuration"),ZodISODateTime:a(()=>o6,"ZodISODateTime"),ZodISODate:a(()=>l6,"ZodISODate")});var o6=Ge("ZodISODateTime",(e,t)=>{zM.init(e,t),Vr.init(e,t)});function cL(e){return YO(o6,e)}a(cL,"dW");var l6=Ge("ZodISODate",(e,t)=>{BM.init(e,t),Vr.init(e,t)});function dL(e){return $O(l6,e)}a(dL,"lW");var u6=Ge("ZodISOTime",(e,t)=>{FM.init(e,t),Vr.init(e,t)});function fL(e){return QO(u6,e)}a(fL,"rW");var c6=Ge("ZodISODuration",(e,t)=>{UM.init(e,t),Vr.init(e,t)});function hL(e){return WO(c6,e)}a(hL,"oW");var pL=a((e,t)=>{q2.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:a(r=>t4(e,r),"value")},flatten:{value:a(r=>e4(e,r),"value")},addIssue:{value:a(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,M0,2)},"value")},addIssues:{value:a(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,M0,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"gV"),Yre=Ge("ZodError",pL),Fi=Ge("ZodError",pL,{Parent:Error}),mL=pf(Fi),gL=mf(Fi),bL=gf(Fi),vL=bf(Fi),yL=r4(Fi),wL=n4(Fi),xL=i4(Fi),_L=a4(Fi),EL=s4(Fi),SL=o4(Fi),kL=l4(Fi),AL=u4(Fi),ur=Ge("ZodType",(e,t)=>(er.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(yr.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>In(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>mL(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>bL(e,r,n),e.parseAsync=async(r,n)=>gL(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>vL(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>yL(e,r,n),e.decode=(r,n)=>wL(e,r,n),e.encodeAsync=async(r,n)=>xL(e,r,n),e.decodeAsync=async(r,n)=>_L(e,r,n),e.safeEncode=(r,n)=>EL(e,r,n),e.safeDecode=(r,n)=>SL(e,r,n),e.safeEncodeAsync=async(r,n)=>kL(e,r,n),e.safeDecodeAsync=async(r,n)=>AL(e,r,n),e.refine=(r,n)=>e.check(hD(r,n)),e.superRefine=r=>e.check(pD(r)),e.overwrite=r=>e.check(Oo(r)),e.optional=()=>Y0(e),e.nullable=()=>$0(e),e.nullish=()=>Y0($0(e)),e.nonoptional=r=>tD(e,r),e.array=()=>gm(e),e.or=r=>O6([e,r]),e.and=r=>UL(e,r),e.transform=r=>Q0(e,D6(r)),e.default=r=>JL(e,r),e.prefault=r=>eD(e,r),e.catch=r=>iD(e,r),e.pipe=r=>Q0(e,r),e.readonly=()=>oD(e),e.describe=r=>{let n=e.clone();return Cn.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Cn.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Cn.get(e);let n=e.clone();return Cn.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),d6=Ge("_ZodString",(e,t)=>{xf.init(e,t),ur.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Z4(...n)),e.includes=(...n)=>e.check(Q4(...n)),e.startsWith=(...n)=>e.check(W4(...n)),e.endsWith=(...n)=>e.check(X4(...n)),e.min=(...n)=>e.check(Su(...n)),e.max=(...n)=>e.check(lm(...n)),e.length=(...n)=>e.check(um(...n)),e.nonempty=(...n)=>e.check(Su(1,...n)),e.lowercase=n=>e.check(Y4(n)),e.uppercase=n=>e.check($4(n)),e.trim=()=>e.check(e6()),e.normalize=(...n)=>e.check(q4(...n)),e.toLowerCase=()=>e.check(t6()),e.toUpperCase=()=>e.check(r6()),e.slugify=()=>e.check(n6())}),dm=Ge("ZodString",(e,t)=>{xf.init(e,t),d6.init(e,t),e.email=r=>e.check(S4(f6,r)),e.url=r=>e.check(sm(fm,r)),e.jwt=r=>e.check(G4(T6,r)),e.emoji=r=>e.check(I4(h6,r)),e.guid=r=>e.check(j0(Z0,r)),e.uuid=r=>e.check(k4(Ls,r)),e.uuidv4=r=>e.check(A4(Ls,r)),e.uuidv6=r=>e.check(T4(Ls,r)),e.uuidv7=r=>e.check(N4(Ls,r)),e.nanoid=r=>e.check(C4(p6,r)),e.guid=r=>e.check(j0(Z0,r)),e.cuid=r=>e.check(M4(m6,r)),e.cuid2=r=>e.check(O4(g6,r)),e.ulid=r=>e.check(R4(b6,r)),e.base64=r=>e.check(F4(S6,r)),e.base64url=r=>e.check(U4(k6,r)),e.xid=r=>e.check(L4(v6,r)),e.ksuid=r=>e.check(D4(y6,r)),e.ipv4=r=>e.check(j4(w6,r)),e.ipv6=r=>e.check(P4(x6,r)),e.cidrv4=r=>e.check(z4(_6,r)),e.cidrv6=r=>e.check(B4(E6,r)),e.e164=r=>e.check(H4(A6,r)),e.datetime=r=>e.check(cL(r)),e.date=r=>e.check(dL(r)),e.time=r=>e.check(fL(r)),e.duration=r=>e.check(hL(r))});function u1(e){return GO(dm,e)}a(u1,"_J");var Vr=Ge("ZodStringFormat",(e,t)=>{jr.init(e,t),d6.init(e,t)}),f6=Ge("ZodEmail",(e,t)=>{IM.init(e,t),Vr.init(e,t)});function $re(e){return S4(f6,e)}a($re,"Gl");var Z0=Ge("ZodGUID",(e,t)=>{TM.init(e,t),Vr.init(e,t)});function Qre(e){return j0(Z0,e)}a(Qre,"Vl");var Ls=Ge("ZodUUID",(e,t)=>{NM.init(e,t),Vr.init(e,t)});function Wre(e){return k4(Ls,e)}a(Wre,"Sl");function Xre(e){return A4(Ls,e)}a(Xre,"Ml");function Jre(e){return T4(Ls,e)}a(Jre,"Nl");function qre(e){return N4(Ls,e)}a(qre,"Cl");var fm=Ge("ZodURL",(e,t)=>{CM.init(e,t),Vr.init(e,t)});function ene(e){return sm(fm,e)}a(ene,"El");function tne(e){return sm(fm,{protocol:/^https?$/,hostname:Ol.domain,...yr.normalizeParams(e)})}a(tne,"hl");var h6=Ge("ZodEmoji",(e,t)=>{MM.init(e,t),Vr.init(e,t)});function rne(e){return I4(h6,e)}a(rne,"Rl");var p6=Ge("ZodNanoID",(e,t)=>{OM.init(e,t),Vr.init(e,t)});function nne(e){return C4(p6,e)}a(nne,"Il");var m6=Ge("ZodCUID",(e,t)=>{RM.init(e,t),Vr.init(e,t)});function ine(e){return M4(m6,e)}a(ine,"Dl");var g6=Ge("ZodCUID2",(e,t)=>{LM.init(e,t),Vr.init(e,t)});function ane(e){return O4(g6,e)}a(ane,"Ll");var b6=Ge("ZodULID",(e,t)=>{DM.init(e,t),Vr.init(e,t)});function sne(e){return R4(b6,e)}a(sne,"gl");var v6=Ge("ZodXID",(e,t)=>{jM.init(e,t),Vr.init(e,t)});function one(e){return L4(v6,e)}a(one,"bl");var y6=Ge("ZodKSUID",(e,t)=>{PM.init(e,t),Vr.init(e,t)});function lne(e){return D4(y6,e)}a(lne,"yl");var w6=Ge("ZodIPv4",(e,t)=>{HM.init(e,t),Vr.init(e,t)});function une(e){return j4(w6,e)}a(une,"ul");var TL=Ge("ZodMAC",(e,t)=>{VM.init(e,t),Vr.init(e,t)});function cne(e){return KO(TL,e)}a(cne,"xl");var x6=Ge("ZodIPv6",(e,t)=>{GM.init(e,t),Vr.init(e,t)});function dne(e){return P4(x6,e)}a(dne,"pl");var _6=Ge("ZodCIDRv4",(e,t)=>{KM.init(e,t),Vr.init(e,t)});function fne(e){return z4(_6,e)}a(fne,"cl");var E6=Ge("ZodCIDRv6",(e,t)=>{ZM.init(e,t),Vr.init(e,t)});function hne(e){return B4(E6,e)}a(hne,"ml");var S6=Ge("ZodBase64",(e,t)=>{YM.init(e,t),Vr.init(e,t)});function pne(e){return F4(S6,e)}a(pne,"dl");var k6=Ge("ZodBase64URL",(e,t)=>{QM.init(e,t),Vr.init(e,t)});function mne(e){return U4(k6,e)}a(mne,"ll");var A6=Ge("ZodE164",(e,t)=>{WM.init(e,t),Vr.init(e,t)});function gne(e){return H4(A6,e)}a(gne,"rl");var T6=Ge("ZodJWT",(e,t)=>{JM.init(e,t),Vr.init(e,t)});function bne(e){return G4(T6,e)}a(bne,"ol");var Sf=Ge("ZodCustomStringFormat",(e,t)=>{qM.init(e,t),Vr.init(e,t)});function vne(e,t,r={}){return _f(Sf,e,t,r)}a(vne,"nl");function yne(e){return _f(Sf,"hostname",Ol.hostname,e)}a(yne,"il");function wne(e){return _f(Sf,"hex",Ol.hex,e)}a(wne,"Bl");function xne(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=Ol[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return _f(Sf,n,i,t)}a(xne,"tl");var hm=Ge("ZodNumber",(e,t)=>{p4.init(e,t),ur.init(e,t),e.gt=(n,i)=>e.check(_l(n,i)),e.gte=(n,i)=>e.check(Mi(n,i)),e.min=(n,i)=>e.check(Mi(n,i)),e.lt=(n,i)=>e.check(xl(n,i)),e.lte=(n,i)=>e.check(ma(n,i)),e.max=(n,i)=>e.check(ma(n,i)),e.int=n=>e.check(c1(n)),e.safe=n=>e.check(c1(n)),e.positive=n=>e.check(_l(0,n)),e.nonnegative=n=>e.check(Mi(0,n)),e.negative=n=>e.check(xl(0,n)),e.nonpositive=n=>e.check(ma(0,n)),e.multipleOf=(n,i)=>e.check(Od(n,i)),e.step=(n,i)=>e.check(Od(n,i)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function NL(e){return XO(hm,e)}a(NL,"yV");var Hu=Ge("ZodNumberFormat",(e,t)=>{eO.init(e,t),hm.init(e,t)});function c1(e){return qO(Hu,e)}a(c1,"KJ");function _ne(e){return eR(Hu,e)}a(_ne,"Ul");function Ene(e){return tR(Hu,e)}a(Ene,"Fl");function Sne(e){return rR(Hu,e)}a(Sne,"al");function kne(e){return nR(Hu,e)}a(kne,"Ql");var pm=Ge("ZodBoolean",(e,t)=>{m4.init(e,t),ur.init(e,t)});function IL(e){return iR(pm,e)}a(IL,"uV");var mm=Ge("ZodBigInt",(e,t)=>{g4.init(e,t),ur.init(e,t),e.gte=(n,i)=>e.check(Mi(n,i)),e.min=(n,i)=>e.check(Mi(n,i)),e.gt=(n,i)=>e.check(_l(n,i)),e.gte=(n,i)=>e.check(Mi(n,i)),e.min=(n,i)=>e.check(Mi(n,i)),e.lt=(n,i)=>e.check(xl(n,i)),e.lte=(n,i)=>e.check(ma(n,i)),e.max=(n,i)=>e.check(ma(n,i)),e.positive=n=>e.check(_l(BigInt(0),n)),e.negative=n=>e.check(xl(BigInt(0),n)),e.nonpositive=n=>e.check(ma(BigInt(0),n)),e.nonnegative=n=>e.check(Mi(BigInt(0),n)),e.multipleOf=(n,i)=>e.check(Od(n,i));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function Ane(e){return sR(mm,e)}a(Ane,"el");var N6=Ge("ZodBigIntFormat",(e,t)=>{tO.init(e,t),mm.init(e,t)});function Tne(e){return lR(N6,e)}a(Tne,"sl");function Nne(e){return uR(N6,e)}a(Nne,"$r");var CL=Ge("ZodSymbol",(e,t)=>{rO.init(e,t),ur.init(e,t)});function Ine(e){return cR(CL,e)}a(Ine,"qr");var ML=Ge("ZodUndefined",(e,t)=>{nO.init(e,t),ur.init(e,t)});function Cne(e){return dR(ML,e)}a(Cne,"_r");var OL=Ge("ZodNull",(e,t)=>{iO.init(e,t),ur.init(e,t)});function RL(e){return fR(OL,e)}a(RL,"mV");var LL=Ge("ZodAny",(e,t)=>{aO.init(e,t),ur.init(e,t)});function Mne(){return hR(LL)}a(Mne,"Kr");var DL=Ge("ZodUnknown",(e,t)=>{sO.init(e,t),ur.init(e,t)});function Nu(){return pR(DL)}a(Nu,"c4");var jL=Ge("ZodNever",(e,t)=>{b4.init(e,t),ur.init(e,t)});function I6(e){return V4(jL,e)}a(I6,"SJ");var PL=Ge("ZodVoid",(e,t)=>{oO.init(e,t),ur.init(e,t)});function One(e){return mR(PL,e)}a(One,"Pr");var C6=Ge("ZodDate",(e,t)=>{lO.init(e,t),ur.init(e,t),e.min=(n,i)=>e.check(Mi(n,i)),e.max=(n,i)=>e.check(ma(n,i));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function Rne(e){return gR(C6,e)}a(Rne,"Or");var zL=Ge("ZodArray",(e,t)=>{uO.init(e,t),ur.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Su(r,n)),e.nonempty=r=>e.check(Su(1,r)),e.max=(r,n)=>e.check(lm(r,n)),e.length=(r,n)=>e.check(um(r,n)),e.unwrap=()=>e.element});function gm(e,t){return SR(zL,e,t)}a(gm,"$22");function Lne(e){let t=e._zod.def.shape;return L6(Object.keys(t))}a(Lne,"Yr");var bm=Ge("ZodObject",(e,t)=>{hO.init(e,t),ur.init(e,t),yr.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>L6(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Nu()}),e.loose=()=>e.clone({...e._zod.def,catchall:Nu()}),e.strict=()=>e.clone({...e._zod.def,catchall:I6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>yr.extend(e,r),e.safeExtend=r=>yr.safeExtend(e,r),e.merge=r=>yr.merge(e,r),e.pick=r=>yr.pick(e,r),e.omit=r=>yr.omit(e,r),e.partial=(...r)=>yr.partial(j6,e,r[0]),e.required=(...r)=>yr.required(P6,e,r[0])});function Dne(e,t){let r={type:"object",shape:e??{},...yr.normalizeParams(t)};return new bm(r)}a(Dne,"jr");function jne(e,t){return new bm({type:"object",shape:e,catchall:I6(),...yr.normalizeParams(t)})}a(jne,"vr");function Pne(e,t){return new bm({type:"object",shape:e,catchall:Nu(),...yr.normalizeParams(t)})}a(Pne,"zr");var M6=Ge("ZodUnion",(e,t)=>{v4.init(e,t),ur.init(e,t),e.options=t.options});function O6(e,t){return new M6({type:"union",options:e,...yr.normalizeParams(t)})}a(O6,"NJ");var BL=Ge("ZodDiscriminatedUnion",(e,t)=>{M6.init(e,t),pO.init(e,t)});function zne(e,t,r){return new BL({type:"union",options:t,discriminator:e,...yr.normalizeParams(r)})}a(zne,"Wr");var FL=Ge("ZodIntersection",(e,t)=>{mO.init(e,t),ur.init(e,t)});function UL(e,t){return new FL({type:"intersection",left:e,right:t})}a(UL,"tV");var HL=Ge("ZodTuple",(e,t)=>{y4.init(e,t),ur.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function GL(e,t,r){let n=t instanceof er,i=n?r:t;return new HL({type:"tuple",items:e,rest:n?t:null,...yr.normalizeParams(i)})}a(GL,"FV");var R6=Ge("ZodRecord",(e,t)=>{gO.init(e,t),ur.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function VL(e,t,r){return new R6({type:"record",keyType:e,valueType:t,...yr.normalizeParams(r)})}a(VL,"aV");function Bne(e,t,r){let n=In(e);return n._zod.values=void 0,new R6({type:"record",keyType:n,valueType:t,...yr.normalizeParams(r)})}a(Bne,"Jr");var KL=Ge("ZodMap",(e,t)=>{bO.init(e,t),ur.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Fne(e,t,r){return new KL({type:"map",keyType:e,valueType:t,...yr.normalizeParams(r)})}a(Fne,"Hr");var ZL=Ge("ZodSet",(e,t)=>{vO.init(e,t),ur.init(e,t),e.min=(...r)=>e.check(Rd(...r)),e.nonempty=r=>e.check(Rd(1,r)),e.max=(...r)=>e.check(om(...r)),e.size=(...r)=>e.check(K4(...r))});function Une(e,t){return new ZL({type:"set",valueType:e,...yr.normalizeParams(t)})}a(Une,"Tr");var $d=Ge("ZodEnum",(e,t)=>{yO.init(e,t),ur.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{let s={};for(let o of n)if(r.has(o))s[o]=t.entries[o];else throw Error(`Key ${o} not found in enum`);return new $d({...t,checks:[],...yr.normalizeParams(i),entries:s})},e.exclude=(n,i)=>{let s={...t.entries};for(let o of n)if(r.has(o))delete s[o];else throw Error(`Key ${o} not found in enum`);return new $d({...t,checks:[],...yr.normalizeParams(i),entries:s})}});function L6(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new $d({type:"enum",entries:r,...yr.normalizeParams(t)})}a(L6,"EJ");function Hne(e,t){return new $d({type:"enum",entries:e,...yr.normalizeParams(t)})}a(Hne,"wr");var YL=Ge("ZodLiteral",(e,t)=>{wO.init(e,t),ur.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Gne(e,t){return new YL({type:"literal",values:Array.isArray(e)?e:[e],...yr.normalizeParams(t)})}a(Gne,"fr");var $L=Ge("ZodFile",(e,t)=>{xO.init(e,t),ur.init(e,t),e.min=(r,n)=>e.check(Rd(r,n)),e.max=(r,n)=>e.check(om(r,n)),e.mime=(r,n)=>e.check(J4(Array.isArray(r)?r:[r],n))});function Vne(e){return kR($L,e)}a(Vne,"Zr");var QL=Ge("ZodTransform",(e,t)=>{_O.init(e,t),ur.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new rm(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(yr.issue(s,r.value,t));else{let o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(yr.issue(o))}};let i=t.transform(r.value,r);return i instanceof Promise?i.then(s=>(r.value=s,r)):(r.value=i,r)}});function D6(e){return new QL({type:"transform",transform:e})}a(D6,"hJ");var j6=Ge("ZodOptional",(e,t)=>{EO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Y0(e){return new j6({type:"optional",innerType:e})}a(Y0,"F5");var WL=Ge("ZodNullable",(e,t)=>{SO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $0(e){return new WL({type:"nullable",innerType:e})}a($0,"a5");function Kne(e){return Y0($0(e))}a(Kne,"Xr");var XL=Ge("ZodDefault",(e,t)=>{kO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function JL(e,t){return new XL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():yr.shallowClone(t)}})}a(JL,"PS");var qL=Ge("ZodPrefault",(e,t)=>{AO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function eD(e,t){return new qL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():yr.shallowClone(t)}})}a(eD,"YS");var P6=Ge("ZodNonOptional",(e,t)=>{TO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tD(e,t){return new P6({type:"nonoptional",innerType:e,...yr.normalizeParams(t)})}a(tD,"jS");var rD=Ge("ZodSuccess",(e,t)=>{NO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Zne(e){return new rD({type:"success",innerType:e})}a(Zne,"Ar");var nD=Ge("ZodCatch",(e,t)=>{IO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function iD(e,t){return new nD({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}a(iD,"WS$1");var aD=Ge("ZodNaN",(e,t)=>{CO.init(e,t),ur.init(e,t)});function Yne(e){return vR(aD,e)}a(Yne,"kr");var z6=Ge("ZodPipe",(e,t)=>{MO.init(e,t),ur.init(e,t),e.in=t.in,e.out=t.out});function Q0(e,t){return new z6({type:"pipe",in:e,out:t})}a(Q0,"Q5");var B6=Ge("ZodCodec",(e,t)=>{z6.init(e,t),w4.init(e,t)});function $ne(e,t,r){return new B6({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}a($ne,"Gr");var sD=Ge("ZodReadonly",(e,t)=>{OO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oD(e){return new sD({type:"readonly",innerType:e})}a(oD,"TS");var lD=Ge("ZodTemplateLiteral",(e,t)=>{RO.init(e,t),ur.init(e,t)});function Qne(e,t){return new lD({type:"template_literal",parts:e,...yr.normalizeParams(t)})}a(Qne,"Vr");var uD=Ge("ZodLazy",(e,t)=>{jO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.getter()});function cD(e){return new uD({type:"lazy",getter:e})}a(cD,"ZS");var dD=Ge("ZodPromise",(e,t)=>{DO.init(e,t),ur.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Wne(e){return new dD({type:"promise",innerType:e})}a(Wne,"Sr");var fD=Ge("ZodFunction",(e,t)=>{LO.init(e,t),ur.init(e,t)});function Y_(e){return new fD({type:"function",input:Array.isArray(e?.input)?GL(e?.input):e?.input??gm(Nu()),output:e?.output??Nu()})}a(Y_,"Mr");var vm=Ge("ZodCustom",(e,t)=>{PO.init(e,t),ur.init(e,t)});function Xne(e){let t=new Wr({check:"custom"});return t._zod.check=e,t}a(Xne,"Nr");function Jne(e,t){return AR(vm,e??(()=>!0),t)}a(Jne,"Cr");function hD(e,t={}){return TR(vm,e,t)}a(hD,"kS");function pD(e){return NR(e)}a(pD,"GS");var qne=CR,eie=MR;function tie(e,t={error:`Input not instance of ${e.name}`}){let r=new vm({type:"custom",check:"custom",fn:a(n=>n instanceof e,"fn"),abort:!0,...yr.normalizeParams(t)});return r._zod.bag.Class=e,r}a(tie,"Rr");var rie=a((...e)=>OR({Codec:B6,Boolean:pm,String:dm},...e),"Ir");function nie(e){let t=cD(()=>O6([u1(e),NL(),IL(),RL(),gm(t),VL(u1(),t)]));return t}a(nie,"Dr");function iie(e,t){return Q0(D6(e),t)}a(iie,"Lr");var aie={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function sie(e){ti({customError:e})}a(sie,"br$1");function oie(){return ti().customError}a(oie,"yr");var d1;d1||(d1={});var mD={};yi(mD,{string:a(()=>lie,"string"),number:a(()=>uie,"number"),date:a(()=>fie,"date"),boolean:a(()=>cie,"boolean"),bigint:a(()=>die,"bigint")});function lie(e){return VO(dm,e)}a(lie,"ur");function uie(e){return JO(hm,e)}a(uie,"xr");function cie(e){return aR(pm,e)}a(cie,"pr");function die(e){return oR(mm,e)}a(die,"cr");function fie(e){return bR(C6,e)}a(fie,"mr");ti(zO());function gD(){return typeof process<"u"&&process.versions&&process.versions.node?"node":typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u"?"browser":"unknown"}a(gD,"B4");class hie{static{a(this,"kM")}store={};constructor(){typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV&&(this.store={...globalThis.window.ENV}),typeof globalThis<"u"&&globalThis.__ENV__&&(this.store={...this.store,...globalThis.__ENV__})}get(t){let r=this.store[t];return r!==void 0?String(r):void 0}set(t,r){this.store[t]=r}has(t){return t in this.store}getAll(){return{...this.store}}}class pie{static{a(this,"GM")}runtime;browserStore;cache=new Map;constructor(){this.runtime=gD(),this.runtime==="browser"&&(this.browserStore=new hie)}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get(t,r){if(this.cache.has(t)){let i=this.cache.get(t);return i===void 0&&r!==void 0?r:i}let n;switch(this.runtime){case"node":typeof process<"u"&&mi&&(n=mi[t]);break;case"browser":this.browserStore&&(n=this.browserStore.get(t));break;default:n=void 0}return this.cache.set(t,n),n===void 0&&r!==void 0?r:n}set(t,r){let n=String(r);switch(this.cache.delete(t),this.runtime){case"node":typeof process<"u"&&mi&&(mi[t]=n);break;case"browser":this.browserStore&&this.browserStore.set(t,r);break}}has(t){return this.get(t)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&mi)return{...mi};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean(t,r=!1){let n=this.get(t);return n===void 0?r:["true","1","yes","on"].includes(n.toLowerCase())}getNumber(t,r){let n=this.get(t);if(n===void 0)return r;let i=Number(n);return isNaN(i)?r:i}clearCache(){this.cache.clear()}}var bb=null;function mie(){return bb||(bb=new pie),bb}a(mie,"t4");function kf(e,t){return mie().get(e,t)}a(kf,"E_");gD();class gie{static{a(this,"V2")}globalStore;constructor(t){this.globalStore=t}clear(){console.clear()}filterByLabel(t){Lie(t,this.globalStore.cache).forEach(r=>{vh(r)})}filterByNamespace(...t){Die(t,this.globalStore.cache).forEach(r=>{vh(r)})}filterByLevel(t){jie(t,this.globalStore.cache).forEach(r=>{vh(r)})}renderAll(){this.globalStore.cache.forEach(t=>{vh(t)})}}class F6{static{a(this,"U4")}config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor(t={}){this.config=t}get cache(){return this._cache}get configuration(){return this.config}get pid(){let t=this.pidCounter;return this.pidCounter++,t}get tools(){return new gie(this)}addLogToCache(t){this._cache.length<(this.config.cacheSize??300)&&this._cache.push(t)}clearCache(){this._cache=[]}getLabel(t){return this.labels.get(t)}setLabel(t,r){this.labels.set(t,r)}addListener(t,r){let n=this._listenerCounter+=1;return G6({...na.levels,...this.config.levels??{}},t).forEach(i=>{this._levelsToListeners.has(i)?this._levelsToListeners.get(i).set(n,r):this._levelsToListeners.set(i,new Map([[n,r]]))}),n}removeListener(t){this._levelsToListeners.forEach(r=>{r.delete(t)})}getListeners(t){return Array.from(this._levelsToListeners.get(t)?.values()??[])}}function bie(e){return globalThis.$adzeGlobal=new F6(e),globalThis.$adzeGlobal}a(bie,"MH");function bD(e){let t=globalThis.$adzeGlobal;if(vie(t))return t;let r=new F6(e);return globalThis.$adzeGlobal=r,r}a(bD,"S2");function vie(e){return e instanceof F6}a(vie,"Mt");function U6(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!yie()}a(U6,"h_");function yie(){return typeof Deno<"u"}a(yie,"Nt$1");function wie(e){return U6()}a(wie,"CM");function xie(){let e=!1;return U6()&&(e=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test"),globalThis.$ADZE_ENV==="test"||e}a(xie,"EM");function _ie(){let e=globalThis;return wie()?e.navigator.userAgent.includes("Firefox"):!1}a(_ie,"hM");function W0(e){return Object.prototype.toString.call(e)==="[object String]"}a(W0,"F4");function H6(e){return e!==null&&typeof e=="number"&&!isNaN(Number(e))}a(H6,"a4");function vD(e){return tae.includes(e)}a(vD,"M2");function Eie(e){return nae.includes(e)}a(Eie,"RM");function Sie(e){return SD.includes(e)}a(Sie,"IM");function $_(e){return e.every(t=>W0(t))}a($_,"NH");function kie(e){return Array.isArray(e)&&e.length===3&&e[1]==="-"}a(kie,"DM");function Aie(){return Error().stack?.replace(/^Error\n/,`
`)}a(Aie,"gM");function Tie(e){return H6(e.activeLevel)?e.activeLevel:e.levels[e.activeLevel].level}a(Tie,"bM");var Q_=Ea(aZ(),1),Nie=Q_.default??Q_;function Iie(e){return e.charAt(0).toUpperCase()+e.slice(1)}a(Iie,"DH");function W_(e){return Object.values(e).map(t=>t.level)}a(W_,"LH");function X_(e,t,r){return e.filter(n=>n>=t&&n<=r)}a(X_,"gH");function Cie(e,t=!1,r){let n=(t&&r?9+r.length:9)-e.length,i=e;for(let s=0;s<=n;s+=1)i+=" ";return i}a(Cie,"bH");function Mie(e,t){return t.reduce((r,n)=>Nie[n](r),e)}a(Mie,"yH");function vh(e){e.data&&console[e.data.method](...e.data.message)}a(vh,"j1");function Oie(e){return e.filter(t=>t!=="")}a(Oie,"pM");function Rie(e){return typeof e=="object"&&e!==null}a(Rie,"cM");function G6(e,t){if(t==="*")return Object.values(e).map(r=>r.level);if(W0(t))return[e[t].level];if(H6(t))return[t];if(kie(t)){if($_(t)){let r=e[t[0]].level,n=e[t[2]].level;return X_(W_(e),r,n)}return X_(W_(e),t[0],t[2])}return Array.isArray(t)&&$_(t)?t.map(r=>e[r].level):t}a(G6,"v1");function yD(e,t,r){return t.length===0?!1:e==="include"?!t.includes(r):t.includes(r)}a(yD,"uH");function J_(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:!t.map(r=>e.includes(r)).includes(!0)}a(J_,"xH");function q_(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:t.map(r=>e.includes(r)).includes(!0)}a(q_,"pH");function Lie(e,t){return t.filter(r=>r.data?.label?.name===e)}a(Lie,"SM");function Die(e,t){return t.filter(r=>r.data?.namespace?r.data.namespace.map(n=>e.includes(n)).includes(!0):!1)}a(Die,"MM");function jie(e,t){return t.filter(r=>{let n=G6(r.configuration.levels,e);return r.data?.level===void 0?!1:yD("exclude",n,r.data.level)})}a(jie,"NM");function Pie(e){return e&&e.length>0?e.reduce((t,r)=>`${t}#${r} `,""):""}a(Pie,"cH");function zie(e){return e?`[${e.name}] `:""}a(zie,"mH");function Bie(e){return e!==void 0?`(Count: ${e}) `:""}a(Bie,"dH");function Fie(e,t){return e!==void 0&&!e?`${t?" ":""}Assertion failed:`:""}a(Fie,"lH");function Uie(e,t){return e!==void 0&&e?`${t?" ":""}Expression passed:`:""}a(Uie,"rH");var wD=-1,ym=0,X0=1,J0=2,V6=3,K6=4,Z6=5,Y6=6,xD=7,_D=8,e8=typeof self=="object"?self:globalThis,Hie=a((e,t)=>{let r=a((i,s)=>(e.set(s,i),i),"_"),n=a(i=>{if(e.has(i))return e.get(i);let[s,o]=t[i];switch(s){case ym:case wD:return r(o,i);case X0:{let l=r([],i);for(let u of o)l.push(n(u));return l}case J0:{let l=r({},i);for(let[u,c]of o)l[n(u)]=n(c);return l}case V6:return r(new Date(o),i);case K6:{let{source:l,flags:u}=o;return r(new RegExp(l,u),i)}case Z6:{let l=r(new Map,i);for(let[u,c]of o)l.set(n(u),n(c));return l}case Y6:{let l=r(new Set,i);for(let u of o)l.add(n(u));return l}case xD:{let{name:l,message:u}=o;return r(new e8[l](u),i)}case _D:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i)}return r(new e8[s](o),i)},"K");return n},"Ct$1"),t8=a(e=>Hie(new Map,e)(0),"oH"),Wl="",{toString:Gie}={},{keys:Vie}=Object,cc=a(e=>{let t=typeof e;if(t!=="object"||!e)return[ym,t];let r=Gie.call(e).slice(8,-1);switch(r){case"Array":return[X0,Wl];case"Object":return[J0,Wl];case"Date":return[V6,Wl];case"RegExp":return[K6,Wl];case"Map":return[Z6,Wl];case"Set":return[Y6,Wl]}return r.includes("Array")?[X0,r]:r.includes("Error")?[xD,r]:[J0,r]},"T1"),yh=a(([e,t])=>e===ym&&(t==="function"||t==="symbol"),"h2"),Kie=a((e,t,r,n)=>{let i=a((o,l)=>{let u=n.push(o)-1;return r.set(l,u),u},"P"),s=a(o=>{if(r.has(o))return r.get(o);let[l,u]=cc(o);switch(l){case ym:{let d=o;switch(u){case"bigint":l=_D,d=o.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([wD],o)}return i([l,d],o)}case X0:{if(u)return i([u,[...o]],o);let d=[],f=i([l,d],o);for(let g of o)d.push(s(g));return f}case J0:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());let d=[],f=i([l,d],o);for(let g of Vie(o))(e||!yh(cc(o[g])))&&d.push([s(g),s(o[g])]);return f}case V6:return i([l,o.toISOString()],o);case K6:{let{source:d,flags:f}=o;return i([l,{source:d,flags:f}],o)}case Z6:{let d=[],f=i([l,d],o);for(let[g,m]of o)(e||!(yh(cc(g))||yh(cc(m))))&&d.push([s(g),s(m)]);return f}case Y6:{let d=[],f=i([l,d],o);for(let g of o)(e||!yh(cc(g)))&&d.push(s(g));return f}}let{message:c}=o;return i([l,{name:u,message:c}],o)},"O");return s},"Rt"),r8=a((e,{json:t,lossy:r}={})=>{let n=[];return Kie(!(t||r),!!t,new Map,n)(e),n},"nH"),n8=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?t8(r8(e,t)):structuredClone(e):(e,t)=>t8(r8(e,t));function i8(e,t,r,n){let{formatters:i,middleware:s=[],...o}=t.exportValues();return class extends e{_cfg=new h1({...n8(o),formatters:{...i},middleware:[...s]});_modifierData=n8(r);modifierQueue=[...n]}}a(i8,"BH");function ED([e,t]){return`${e}s ${t/1e6}ms`}a(ED,"tH");function Zie(){return ED(f1())}a(Zie,"dM");function f1(e){let t=performance.now()*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);if(e===void 0)return[r,n];let i=r-e[0],s=n-e[1];return s<0&&(i-=1,s+=1e9),[i,s]}a(f1,"R2");function $6(e){let t=a(i=>`${Math.floor(Math.abs(i))}`.padStart(2,"0"),"q"),r=-e.getTimezoneOffset(),n=`${r>=0?"+":"-"}${t(r/60)}:${t(r%60)}`;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}${n}`}a($6,"_P");function Yie(e){let t=a((y,_=2)=>String(y).padStart(_,"0"),"q"),r=t(e.getDate()),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getFullYear(),s=t(e.getHours()),o=t(e.getMinutes()),l=t(e.getSeconds()),u=-e.getTimezoneOffset(),c=u>=0?"+":"-",d=Math.abs(u),f=t(Math.floor(d/60)),g=t(d%60),m=`${c}${f}${g}`;return`${r}/${n}/${i}:${s}:${o}:${l} ${m}`}a(Yie,"lM");class wm{static{a(this,"c8")}cfg;level;timestampFormatFunction=a(t=>$6(t),"timestampFormatFunction");constructor(t,r){this.cfg=t,this.level=r}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print(t,r,n){if(this.level.level>Tie(this.cfg))return[];if(this.failsFilters(t))return[];if(t.assertion===!0)return[];if(t.if===!1)return[];if(t.method&&!Sie(t.method)&&Eie(t.method)&&vD(t.method))return n;let i=U6()?this.formatBrowser(t,r,n):this.formatServer(t,r,n);return t.stacktrace&&i.push(t.stacktrace),i}failsFilters(t){return!!(this.failsLevelSelector()||this.failsNamespacesFilter(t)||this.failsLabelsFilter(t))}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let t=G6(this.cfg.levels,this.cfg.filters.levels.values);return!!yD(this.cfg.filters.levels.type,t,this.level.level)}failsNamespacesFilter(t){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&t.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let n=t.namespace??[];return J_(this.cfg.filters.namespaces.values,n)}let r=t.namespace??[];return q_(this.cfg.filters.namespaces.values,r)}failsLabelsFilter(t){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&t.label===void 0)return!0;let r=t.label?[t.label.name]:[];return this.cfg.filters.labels.type==="include"?J_(this.cfg.filters.labels.values,r):q_(this.cfg.filters.labels.values,r)}}class $ie extends wm{static{a(this,"I2")}timestampFormatFunction=a(t=>Yie(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){this.cfg.meta.hostname===void 0&&console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let i=this.cfg.meta.hostname,s=this.cfg.meta.ident??"-",o=this.cfg.meta.user??"-",l=n[0];return[`${i} ${s} ${o} [${r}] ${l}`]}}var Qie=$ie;function Wie(e){return typeof e.name=="string"&&typeof e.hostname=="string"}a(Wie,"oM");class Xie extends wm{static{a(this,"D2")}timestampFormatFunction=a(t=>$6(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(t,r,n)}formatServer(t,r,n){return this.formatMessage(t,r,n)}formatMessage(t,r,n){let i=bD(),s=[...n],o=s.shift();if(Wie(this.cfg.meta)){let{src:l,err:u,req_id:c,req:d,res:f,latency:g,hostname:m,name:y,..._}=this.cfg.meta,{namespace:A,label:I}=t,O={v:1,level:this.level.level,levelName:this.level.levelName,name:y,hostname:m,msg:o,args:s,pid:i.pid,time:r,meta:Object.keys(_).length>0?_:void 0,namespace:A,label:I?.name,src:l,err:u,req_id:c,req:d,res:f,latency:g};return[JSON.stringify(O)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...s]}}var Jie=Xie;class qie extends wm{static{a(this,"L2")}formatBrowser(t,r,n){let i=this.formatLeader(),s=this.formatMeta(t,r);return this.cfg.withEmoji?[i,"font-size: 12px;",this.level.style,s,...n]:[i,this.level.style,s,...n]}formatServer(t,r,n){let i=`${Cie(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,s=this.formatMeta(t,r);return[Mie(i,this.level.terminalStyle),s,...n]}formatLeader(t=!0){let r=t?"%c":"",n=" "+Iie(this.level.levelName);return this.cfg.withEmoji?`${r}${this.formatEmoji(t)}${r}${n}`:`${r}${n}`}formatEmoji(t){let r=t?" ":"";return this.level.emoji?`${this.level.emoji}${r}`:""}formatMeta(t,r){let n=this.cfg.showTimestamp?`${r} `:"",i=Pie(t.namespace),s=zie(t.label),o=this.formatTime(t),l=Bie(t.label?.count),u=Fie(t.assertion,this.cfg.withEmoji),c=Uie(t.if,this.cfg.withEmoji),d=u!==""?u:c!==""?c:"";return n+i+s+o+l+d}formatTime(t){let r=this.cfg.withEmoji?" ":"Time elapsed: ";return t.timeNow?`(${r}${t.timeNow})`:t.label?.timeElapsed?`(${r}${t.label.timeElapsed})`:""}}var a8=qie;class eae extends wm{static{a(this,"w1")}timestampFormatFunction=a(t=>$6(t),"timestampFormatFunction");formatBrowser(t,r,n){return this.formatMessage(r,t,n)}formatServer(t,r,n){return this.formatMessage(r,t,n)}formatMessage(t,r,n){let i="",{appname:s,hostname:o,port:l}=this.cfg.meta,u=H6(l)?`/${l}`:"",c=W0(s)?`${s}${u}`:"",d=W0(o)?` on ${o}: `:"",f=this.formatNamespace(r.namespace),g=r.label?`[${r.label.name}] `:"";return i=`${c}${d}${f}${g}`,[`[${t}] ${this.level.levelName.toUpperCase()}: ${i}${n[0]} `,n.map(m=>Rie(m)?JSON.stringify(m):m).slice(1).join(" ")]}formatNamespace(t){return t&&t.length>0?`${t.reduce((r,n,i)=>i===t.length-1?`${r}${n}`:`${r}${n}/`,"")} `:""}}var SD=["group","groupCollapsed"],kD=["dir","dirxml","table",...SD],tae=["error","warn","info","log","debug",...kD],rae=["clear","groupEnd"],nae=[...kD,...rae],na={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:iae(),error:aae(),warn:sae(),info:oae(),fail:lae(),success:uae(),log:cae(),debug:dae(),verbose:fae()},formatters:{default:a8,pretty:a8,standard:eae,common:Qie,json:Jie}};function iae(e={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"",...e}}a(iae,"It");function aae(e={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"",...e}}a(aae,"Dt$1");function sae(e={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${_ie()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"",...e}}a(sae,"Lt");function oae(e={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...e}}a(oae,"gt$1");function lae(e={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...e}}a(lae,"bt$1");function uae(e={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"",...e}}a(uae,"yt$1");function cae(e={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"",...e}}a(cae,"ut$1");function dae(e={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"",...e}}a(dae,"xt");function fae(e={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"",...e}}a(fae,"pt$1");class h1{static{a(this,"qP")}logCfg;glblCfg;constructor(t){this.logCfg=t??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration(t){this.logCfg=t}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??na.activeLevel}set activeLevel(t){this.logCfg.activeLevel=t}get cache(){return this.glblCfg?.cache??this.logCfg.cache??na.cache}set cache(t){this.logCfg.cache=t}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??na.cacheSize}set cacheSize(t){this.logCfg.cacheSize=t}get dump(){return this.glblCfg?.dump??this.logCfg.dump??na.dump}set dump(t){this.logCfg.dump=t}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta(t){this.logCfg.meta=t}get silent(){return this.glblCfg?.silent??this.logCfg.silent??na.silent}set silent(t){this.logCfg.silent=t}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??na.showTimestamp}set showTimestamp(t){this.logCfg.showTimestamp=t}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??na.withEmoji}set withEmoji(t){this.logCfg.withEmoji=t}get format(){return this.glblCfg?.format??this.logCfg.format??na.format}set format(t){this.logCfg.format=t}get levels(){return{...na.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels(t){this.logCfg.levels=t}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware(t){this.logCfg.middleware=t}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters(t){this.logCfg.filters=t}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter(t){this.logCfg.timestampFormatter=t}get formatters(){return{...na.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters(t){this.logCfg.formatters=t}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function hae(e){return typeof e=="function"}a(hae,"ct$1");class q0{static{a(this,"KP")}globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor(t,r){this.globalStore=bD(t),this._modifierData=r??{},this._cfg=new h1(t),this.doHook(n=>{n.constructed&&n.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...t){this.terminate("alert",t)}static alert(...t){new this().alert(...t)}error(...t){this.terminate("error",t)}static error(...t){new this().error(...t)}warn(...t){this.terminate("warn",t)}static warn(...t){new this().warn(...t)}info(...t){this.terminate("info",t)}static info(...t){new this().info(...t)}fail(...t){this.terminate("fail",t)}static fail(...t){new this().fail(...t)}success(...t){this.terminate("success",t)}static success(...t){new this().success(...t)}log(...t){this.terminate("log",t)}static log(t,...r){new this().log(t,...r)}debug(...t){this.terminate("debug",t)}static debug(...t){new this().debug(...t)}verbose(...t){this.terminate("verbose",t)}static verbose(...t){new this().verbose(...t)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom(t,...r){return this._cfg.levels[t]?(this.terminate(t,r),this):(console.warn(Error("Custom log level not found in configuration.")),this)}static custom(t,...r){return new this().custom(t,...r)}seal(t){return t&&this._cfg.updateConfiguration(t),i8(q0,this._cfg,this.modifierData,this.modifierQueue)}static seal(t){return new this().seal(t)}sealTag(t,r){return this._cfg=new h1({...this._cfg.exportValues(),...r}),(n,...i)=>{let s=String.raw({raw:n},...i),o=i8(q0,this._cfg,this.modifierData,this.modifierQueue),l=t;hae(o[l])&&o[l](s)}}static sealTag(t,r){return new this().sealTag(t,r)}thread(t,r){this.runModifierQueue(),this._modifierData.label&&(this._modifierData.label.context||(this._modifierData.label.context={}),this._modifierData.label.context={...this._modifierData.label.context,[t]:r})}static thread(t,r){new this().thread(t,r)}assert(t){return this.modifierQueue.push(["assert",r=>(r.assertion=t,r)]),this}static assert(t){return new this().assert(t)}get closeThread(){return this.modifierQueue.push(["closeThread",t=>(t.label?.context&&(t.label.context=void 0),t)]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",t=>(t.label&&(t.label.count=t.label.count!==void 0?t.label.count+1:1),t)]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",t=>(t.label&&delete t.label.count,t)]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",t=>(t.label&&(t.label.count=0),t)]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",t=>(t.method="dir",t)]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",t=>(t.method="dirxml",t)]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",(t,r)=>(r._cfg.dump=!0,t)]),this}static get dump(){return new this().dump}format(t){return this.modifierQueue.push(["format",(r,n)=>Object.keys(n._cfg.formatters).includes(t)?(n._cfg.format=t,r):(console.warn(Error(`Adze: Formatter "${t}" not found in configuration.`)),r)]),this}static format(t){return new this().format(t)}get group(){return this.modifierQueue.push(["group",t=>(t.method="group",t)]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",t=>(t.method="groupCollapsed",t)]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",t=>(t.method="groupEnd",t)]),this}static get groupEnd(){return new this().groupEnd}if(t){return this.modifierQueue.push(["if",r=>(r.if=t,r)]),this}static if(t){return new this().if(t)}test(t){return this.if(t)}static test(t){return new this().if(t)}label(t){return this.modifierQueue.unshift(["label",r=>{let n=this.globalStore.getLabel(t)??{name:t};return r.label=n,this.globalStore.setLabel(t,n),r}]),this}static label(t){return new this().label(t)}meta(t){return this.modifierQueue.push(["meta",(r,n)=>(n._cfg.meta={...n._cfg.meta,...t},r)]),this}static meta(t){return new this().meta(t)}namespace(...t){return this.modifierQueue.push(["namespace",r=>{let n=r.namespace??[];return r.namespace=n.length>0?[...n,...t]:t,r}]),this}static namespace(...t){return new this().namespace(...t)}ns(...t){return this.namespace(...t)}static ns(...t){return new this().namespace(...t)}get silent(){return this.modifierQueue.push(["silent",(t,r)=>(r._cfg.silent=!0,t)]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",t=>(t.method="table",t)]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",t=>{let r=f1();return t.label&&(t.label.timeStart=r),t}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",t=>(t.label?.timeStart&&(t.label.timeElapsed=ED(f1(t.label.timeStart))),t)]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",t=>(t.timeNow=Zie(),t)]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",(t,r)=>(r._cfg.showTimestamp=!0,t)]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",t=>(t.stacktrace=Aie(),t)]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",(t,r)=>(r._cfg.withEmoji=!0,t)]),this}static get withEmoji(){return new this().withEmoji}print(t){xie()||t.silent||t.message.length<1||(vD(t.method)?console[t.method](...t.message):console[t.method]())}terminate(t,r){this.doHook(I=>{I.beforeTerminated&&I.beforeTerminated(this,t,r)}),this.runModifierQueue();let n=this.getLevelConfig(t),i=new(this.selectFormatter(this._cfg.format))(this._cfg,n),s=i.timestampFormatter(new Date),o=Oie(i.print(this.modifierData,s,r));this._cfg.dump&&this.modifierData.label?.context&&o.push(this.modifierData.label.context),this.doHook(I=>{I.beforeFormatApplied&&(o=I.beforeFormatApplied(this,this._cfg.format,o))});let{activeLevel:l,cache:u,cacheSize:c,dump:d,format:f,meta:g,showTimestamp:m,silent:y,withEmoji:_}=this._cfg,A={activeLevel:l,cache:u,cacheSize:c,dump:d,format:f,meta:g,showTimestamp:m,silent:y,withEmoji:_,...n,...this._modifierData,terminator:t,args:r,timestamp:s,message:o};this.doHook(I=>{I.afterFormatApplied&&I.afterFormatApplied(this,this._cfg.format,o)}),this._data=A,this._cfg.cache&&this.globalStore.addLogToCache(this),this.doHook(I=>{I.beforePrint&&I.beforePrint(this)}),this.print(this._data),this.doHook(I=>{I.afterTerminated&&I.afterTerminated(this,t,r)}),this.globalStore.getListeners(n.level).forEach(I=>{I(this)})}selectFormatter(t){return this._cfg.formatters[t]}getLevelConfig(t){return this._cfg.levels[t]}runModifierQueue(){this.modifierQueue.forEach(([t,r])=>{let n=r(this.modifierData,this);this.doHook(i=>{i.beforeModifierApplied&&i.beforeModifierApplied(this,t,n)}),this._modifierData=n,this.doHook(i=>{i.afterModifierApplied&&i.afterModifierApplied(this,t,n)})})}doHook(t){this._cfg.middleware?.forEach(r=>{t(r)})}}var pae=q0,mae=Ea(dZ(),1),ep={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},gae={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function s8(e,t){let r=ep[e.toLowerCase()]||30,n=ep[t.toLowerCase()]||30;return r>=n}a(s8,"JN");function tp(e){try{let t=new WeakSet;return JSON.stringify(e,(r,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular]";t.add(n)}return n})}catch{return String(e)}}a(tp,"u2");function AD(e){if(!e)return!1;let t=e.toLowerCase().trim();return t==="true"||t==="1"||t==="yes"||t==="on"}a(AD,"wN");function bae(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):e instanceof Error?e.message:tp(e)}a(bae,"AU");function wh(e,t,r){if(r)return t;let n=e.src,i=n?`[${n.toUpperCase()}] `:"",s=["src","agentId","agentName"],o=[];for(let[u,c]of Object.entries(e))s.includes(u)||c!==void 0&&o.push(`${u}=${bae(c)}`);let l=o.length>0?` (${o.join(", ")})`:"";return`${i}${t}${l}`}a(wh,"b2");var vae="info",rp=kf("LOG_LEVEL")||vae,nl=AD(kf("LOG_JSON_FORMAT")),Q6=AD(kf("LOG_TIMESTAMPS")??"true"),yae=kf("SERVER_ID")||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID().slice(0,8):Math.random().toString(36).slice(2,10)),o8=mae.default({paths:["password","passwd","secret","token","apiKey","api_key","apiSecret","api_secret","authorization","auth","credential","credentials","privateKey","private_key","accessToken","access_token","refreshToken","refresh_token","cookie","session","jwt","bearer","*.password","*.secret","*.token","*.apiKey","*.api_key","*.authorization","*.credential","*.credentials","*.privateKey","*.accessToken","*.refreshToken"],serialize:!1,censor:"[REDACTED]"});function wae(e=100){let t=[];return{write(r){t.push(r),t.length>e&&t.shift()},clear(){t.length=0},recentLogs(){return t.map(r=>{let n=Q6?new Date(r.time).toISOString():"",i=gae[r.level??30]||"info";return`${n} ${i} ${r.msg}`.trim()}).join(`
`)}}}a(wae,"VU");var s0=wae(),TD=a(()=>{let e=rp.toLowerCase();return e==="trace"?"verbose":e==="debug"?"debug":e==="log"?"log":e==="info"?"info":e==="warn"?"warn":e==="error"?"error":e==="fatal"?"alert":"info"},"fN"),xae=TD(),ND={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},_ae=bie({activeLevel:xae,format:nl?"json":"pretty",timestampFormatter:Q6?void 0:()=>"",withEmoji:!1,levels:ND});_ae.addListener("*",e=>{try{let t=e.data,r=Array.isArray(t?.message)?t.message.map(i=>typeof i=="string"?i:tp(i)).join(" "):typeof t?.message=="string"?t.message:"",n={time:Date.now(),level:typeof t?.level=="number"?t.level:void 0,msg:r};s0.write(n)}catch{}});function Eae(e){let t=pae,r=[];typeof e.namespace=="string"&&r.push(e.namespace),Array.isArray(e.namespaces)&&r.push(...e.namespaces),r.length>0&&(t=t.ns(...r));let n={...e};if(delete n.namespace,delete n.namespaces,!n.name&&(n.name="elizaos"),!n.pid&&typeof process<"u"&&process.pid&&(n.pid=process.pid),!n.environment&&typeof process<"u"&&mi&&(n.environment="development"),n.serverId||(n.serverId=yae),nl&&!n.hostname){let s="unknown";if(typeof process<"u"&&process.platform)try{s=(sK(),mr(AT)).hostname()}catch{s="localhost"}else typeof window<"u"&&window.location&&(s=window.location.hostname||"browser");n.hostname=s}let i={activeLevel:TD(),format:nl?"json":"pretty",timestampFormatter:Q6?void 0:()=>"",withEmoji:!1,levels:ND};return t.meta(n).seal(i)}a(Eae,"NU");function Sae(e){let t=rp,r={},n;if(typeof e=="object"&&e!==null){"level"in e&&(t=e.level),"maxMemoryLogs"in e&&typeof e.maxMemoryLogs=="number"&&(n=e.maxMemoryLogs);let{level:i,maxMemoryLogs:s,...o}=e;r=o}return{level:t,base:r,maxMemoryLogs:n}}a(Sae,"CU");function p1(e=!1){let{level:t,base:r,maxMemoryLogs:n}=Sae(e);if(typeof n=="number"&&n>0&&s0.clear(),typeof e=="object"&&e&&"__forceType"in e&&e.__forceType==="browser"){let c=(typeof t=="number"?"info":t||rp).toLowerCase(),d=a((...y)=>y.map(_=>typeof _=="string"?_:_ instanceof Error?_.message:tp(_)).join(" "),"U"),f=a((y,..._)=>{if(!s8(y,c))return;let A=d(..._),I=y==="fatal"?"error":y==="trace"||y==="verbose"?"debug":y==="success"||y==="progress"?"info":y==="log"?"log":console[y]?y:"log";typeof console[I]=="function"&&console[I](A)},"p"),g=a(y=>{try{let _={...y};return o8(_),_}catch{return y}},"s"),m=a((y,_,...A)=>{if(typeof y=="string")return _!==void 0?[y,_,...A]:[y,...A];if(y instanceof Error)return _!==void 0?[y.message,_,...A]:[y.message,...A];let I=g(y);if(_!==void 0)return[wh(I,_,!1),...A];let O=wh(I,"",!1);return O?[O,...A]:[...A]},"j");return{level:c,trace:a((y,_,...A)=>f("trace",...m(y,_,...A)),"trace"),debug:a((y,_,...A)=>f("debug",...m(y,_,...A)),"debug"),info:a((y,_,...A)=>f("info",...m(y,_,...A)),"info"),warn:a((y,_,...A)=>f("warn",...m(y,_,...A)),"warn"),error:a((y,_,...A)=>f("error",...m(y,_,...A)),"error"),fatal:a((y,_,...A)=>f("fatal",...m(y,_,...A)),"fatal"),success:a((y,_,...A)=>f("success",...m(y,_,...A)),"success"),progress:a((y,_,...A)=>f("progress",...m(y,_,...A)),"progress"),log:a((y,_,...A)=>f("log",...m(y,_,...A)),"log"),clear:a(()=>{typeof console.clear=="function"&&console.clear()},"clear"),child:a(y=>p1({level:c,...r,...y,__forceType:"browser"}),"child")}}let i=Eae(r),s=(typeof t=="number"?"info":t||rp).toLowerCase(),o=a((c,...d)=>{if(!s8(c,s))return;try{let m="";d.length>0&&(m=d.map(_=>typeof _=="string"?_:_ instanceof Error?_.message:tp(_)).join(" ")),r.namespace&&(m=`#${r.namespace}  ${m}`);let y={time:Date.now(),level:ep[c.toLowerCase()]||ep.info,msg:m};s0.write(y)}catch{}let f=c,g=d;c==="fatal"?f="alert":c==="progress"?(f="info",g=["[PROGRESS]",...d]):c==="success"?(f="info",g=["[SUCCESS]",...d]):c==="trace"&&(f="verbose");try{i[f](...g)}catch{console.log(`[${c.toUpperCase()}]`,...d)}},"T"),l=a(c=>{try{let d={...c};return o8(d),d}catch{return c}},"f"),u=a((c,d,...f)=>{if(typeof c=="string")return d!==void 0?[c,d,...f]:[c,...f];if(c instanceof Error)return d!==void 0?[c.message,{error:c},d,...f]:[c.message,{error:c},...f];let g=l(c);if(d!==void 0)return nl?[d,g,...f]:[wh(g,d,nl),...f];if(!nl){let m=wh(g,"",nl);return m?[m,...f]:[...f]}return[g,...f]},"w");return{level:s,trace:a((c,d,...f)=>o("verbose",...u(c,d,...f)),"trace"),debug:a((c,d,...f)=>o("debug",...u(c,d,...f)),"debug"),info:a((c,d,...f)=>o("info",...u(c,d,...f)),"info"),warn:a((c,d,...f)=>o("warn",...u(c,d,...f)),"warn"),error:a((c,d,...f)=>o("error",...u(c,d,...f)),"error"),fatal:a((c,d,...f)=>o("fatal",...u(c,d,...f)),"fatal"),success:a((c,d,...f)=>o("success",...u(c,d,...f)),"success"),progress:a((c,d,...f)=>o("progress",...u(c,d,...f)),"progress"),log:a((c,d,...f)=>o("log",...u(c,d,...f)),"log"),clear:a(()=>{try{typeof console?.clear=="function"&&console.clear()}catch{}s0.clear()},"clear"),child:a(c=>p1({level:s,...r,...c}),"child")}}a(p1,"X1");var W6=p1(),xh=W6,kae=Nt.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function Qd(e){let t=kae.safeParse(e);return t.success?t.data:null}a(Qd,"RU");var vb=a(e=>{if(e.startsWith("image/"))return"image";if(e.startsWith("video/"))return"video";if(e.startsWith("audio/"))return"audio";if(e.includes("pdf")||e.includes("document")||e.startsWith("text/"))return"document"},"EO$"),ID=Nt.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format").describe("Unique identifier for the character in UUID format"),Aae=Nt.object({id:Nt.string().describe("Unique identifier for the media"),url:Nt.string().describe("URL of the media file"),title:Nt.string().optional().describe("Media title"),source:Nt.string().optional().describe("Media source"),description:Nt.string().optional().describe("Media description"),text:Nt.string().optional().describe("Text content associated with the media"),contentType:Nt.nativeEnum(E0).optional().describe("Type of media content")}).loose().describe("Media attachment with URL and metadata"),Tae=Nt.object({text:Nt.string().optional().describe("The main text content of the message"),thought:Nt.string().optional().describe("Internal thought process or reasoning"),actions:Nt.array(Nt.string()).optional().describe("Actions to be taken in response"),providers:Nt.array(Nt.string()).optional().describe("Data providers to use (e.g., KNOWLEDGE)"),source:Nt.string().optional().describe("Source of the content"),target:Nt.string().optional().describe("Target of the content"),url:Nt.string().optional().describe("Related URL"),inReplyTo:ID.optional().describe("UUID of message this is replying to"),attachments:Nt.array(Aae).optional().describe("Array of media attachments (images, videos, documents, etc.)"),channelType:Nt.enum(Gt).optional().describe("Type of channel this content is for")}).catchall(Nt.unknown()).describe("Content structure for messages in conversation examples"),Nae=Nt.object({name:Nt.string().describe("Name of the speaker (can use {{name1}} placeholder for dynamic names)"),content:Tae}).describe("A single message in a conversation example"),Iae=Nt.object({directory:Nt.string().describe("Path to a directory containing knowledge files"),shared:Nt.boolean().optional().describe("Whether this knowledge is shared across characters")}).describe("Directory-based knowledge source"),Cae=Nt.union([Nt.string().describe("File path to a knowledge document"),Nt.object({path:Nt.string().describe("Path to a knowledge file"),shared:Nt.boolean().optional().describe("Whether this knowledge is shared across characters")}),Iae]).describe("Knowledge source - can be a file path, file object, or directory"),Mae=Nt.union([Nt.string().describe("Template string with placeholders"),Nt.function().optional()]).describe("Template for generating text - can be a string template or function"),Oae=Nt.object({all:Nt.array(Nt.string()).optional().describe("Style guidelines applied to all types of responses"),chat:Nt.array(Nt.string()).optional().describe("Style guidelines specific to chat/conversation responses"),post:Nt.array(Nt.string()).optional().describe("Style guidelines specific to social media posts")}).optional().describe("Style configuration defining how the character communicates across different contexts"),Rae=Nt.record(Nt.string(),Nt.union([Nt.string(),Nt.boolean(),Nt.number(),Nt.object({}).loose(),Nt.array(Nt.any())])).optional().describe("Character-specific settings like avatar URL, preferences, and configuration"),Lae=Nt.record(Nt.string(),Nt.union([Nt.string(),Nt.boolean(),Nt.number()])).optional().describe("Secret values and API keys (should not be committed to version control)");Nt.object({id:ID.optional().describe("Unique identifier for the character"),name:Nt.string().min(1,"Character name is required").describe('The name of the character (e.g., "Eliza")'),username:Nt.string().optional().describe("Username for the character on various platforms"),system:Nt.string().optional().describe("System prompt that defines the character's core behavior and response style"),templates:Nt.record(Nt.string(),Mae).optional().describe("Custom templates for generating different types of content"),bio:Nt.union([Nt.string(),Nt.array(Nt.string())]).describe("Character biography - can be a single string or array of biographical points"),messageExamples:Nt.array(Nt.array(Nae)).optional().describe("Example conversations showing how the character responds in different scenarios"),postExamples:Nt.array(Nt.string()).optional().describe("Example social media posts demonstrating the character's voice and topics"),topics:Nt.array(Nt.string()).optional().describe("Topics the character is knowledgeable about and engages with"),adjectives:Nt.array(Nt.string()).optional().describe("Adjectives that describe the character's personality and traits"),knowledge:Nt.array(Cae).optional().describe("Knowledge sources (files, directories) the character can reference"),plugins:Nt.array(Nt.string()).optional().describe('List of plugin package names to load (e.g., ["@elizaos/plugin-sql", "@elizaos/plugin-bootstrap"] - these are commonly required)'),settings:Rae,secrets:Lae,style:Oae}).strict().describe("Complete character definition including personality, behavior, and capabilities");function Qs(){return typeof Buffer<"u"&&typeof Buffer.from=="function"}a(Qs,"I_");function Dae(e){let t=e.replace(/[^0-9a-fA-F]/g,"");if(Qs())return Buffer.from(t,"hex");let r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++)r[n]=parseInt(t.substr(n*2,2),16);return r}a(Dae,"rU");function jae(e,t="utf8"){if(Qs()){let r=t==="utf-8"?"utf8":t;return Buffer.from(e,r)}if(t==="base64"){let r=atob(e),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}return new TextEncoder().encode(e)}a(jae,"oU");function CD(e){if(Qs()&&Buffer.isBuffer(e))return e.toString("hex");let t=e instanceof Uint8Array?e:new Uint8Array(e),r="";for(let n=0;n<t.length;n++){let i=t[n].toString(16);r+=i.length===1?"0"+i:i}return r}a(CD,"RN");function Pae(e,t="utf8"){if(Qs()&&Buffer.isBuffer(e)){let n=t==="utf-8"?"utf8":t;return e.toString(n)}let r=e instanceof Uint8Array?e:new Uint8Array(e);if(t==="hex")return CD(r);if(t==="base64"){let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return btoa(n)}return new TextDecoder().decode(r)}a(Pae,"nU");function zae(e){return e?Qs()&&Buffer.isBuffer(e)?!0:e instanceof Uint8Array||e instanceof ArrayBuffer||typeof e=="object"&&e.buffer instanceof ArrayBuffer&&typeof e.byteLength=="number"&&!Array.isArray(e):!1}a(zae,"_T");function Bae(e){return Qs()?Buffer.alloc(e):new Uint8Array(e)}a(Bae,"iU");function Fae(e){return Qs()?Buffer.from(e):new Uint8Array(e)}a(Fae,"BU");function Uae(e){if(Qs()&&e.every(i=>Buffer.isBuffer(i)))return Buffer.concat(e);let t=0;for(let i of e)t+=i.length;let r=new Uint8Array(t),n=0;for(let i of e){let s=i instanceof Uint8Array?i:new Uint8Array(i);r.set(s,n),n+=s.length}return r}a(Uae,"tU");function Hae(e,t,r){return Qs()&&Buffer.isBuffer(e)?e.slice(t,r):(e instanceof Uint8Array?e:new Uint8Array(e)).slice(t,r)}a(Hae,"UU");function Gae(e,t){if(e.length!==t.length)return!1;let r=e instanceof Uint8Array?e:new Uint8Array(e),n=t instanceof Uint8Array?t:new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}a(Gae,"FU");function Vae(e){return e.length}a(Vae,"aU");function Kae(e){let t=new Uint8Array(e),r=typeof globalThis<"u"?globalThis.crypto||globalThis.webcrypto:void 0;if(r&&typeof r.getRandomValues=="function")r.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t}a(Kae,"QU");var Zae={fromHex:Dae,fromString:jae,fromBytes:Fae,toHex:CD,toString:Pae,isBuffer:zae,alloc:Bae,concat:Uae,slice:Hae,equals:Gae,byteLength:Vae,randomBytes:Kae},Yae=[];for(let e=0;e<256;++e)Yae.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function $ae(){try{return typeof process<"u"&&(process.versions?.node!==void 0||process.versions?.bun!==void 0)}catch{return!1}}a($ae,"HF");function MD(){return $ae()?(Ai(),mr(di)):qh("crypto-browserify")}a(MD,"WT$1");function Qae(e){let t=MD().createHash(e);return{update(r){return t.update(r),this},digest(){return new Uint8Array(t.digest())}}}a(Qae,"JT");function Wae(e,t,r){return MD().createDecipheriv(e,t,r)}a(Wae,"mN");var dc=null,l8=!1,Xae=3e5;function Jae(){let e=kf("SECRET_SALT","secretsalt")||"secretsalt",t=Date.now();return dc!==null&&t-dc.timestamp<Xae&&dc.value===e?dc.value:(e==="secretsalt"&&!l8&&(W6.warn({src:"core:settings"},"SECRET_SALT is not set or using default value"),l8=!0),dc={value:e,timestamp:t},e)}a(Jae,"dK");function qae(e,t){try{if(e==null||typeof e=="boolean"||typeof e=="number"||typeof e!="string")return e;let r=e.split(":");if(r.length!==2)return e;let n=Zae.fromHex(r[0]),i=r[1];if(n.length!==16)return e;let s=Qae("sha256").update(t).digest().slice(0,32),o=Wae("aes-256-cbc",s,n),l=o.update(i,"hex","utf8");return l+=o.final("utf8"),l}catch(r){return W6.error({src:"core:settings",error:r},"Decryption failed"),e}}a(qae,"l2");function ese(e,t){let r={};for(let[n,i]of Object.entries(e))typeof i=="string"&&i?r[n]=qae(i,t):r[n]=i;return r}a(ese,"lN");const We={info:a((e,...t)=>{xh.info({source:"client"},e,...t)},"info"),error:a((e,...t)=>{xh.error({source:"client"},e,...t)},"error"),warn:a((e,...t)=>{xh.warn({source:"client"},e,...t)},"warn"),debug:a((e,...t)=>{xh.debug({source:"client"},e,...t)},"debug")},tse="elizaos-plugins",rse="registry",nse=`https://raw.githubusercontent.com/${tse}/${rse}/refs/heads/main/generated-registry.json`,ise=["@elizaos/plugin-bootstrap","@elizaos/plugin-sql"];async function ase(){try{const e=await fetch(nse);if(!e.ok)throw new Error(`Failed to fetch registry: ${e.status}`);return await e.json()}catch(e){return We.error("Failed to fetch plugin registry:",e),null}}a(ase,"fetchPluginRegistry");function sse(e){return e.startsWith("@elizaos-plugins/")?e:e.replace("@elizaos/","@elizaos-plugins/")}a(sse,"getRegistryPluginName");function Wd(e){return ise.includes(e)}a(Wd,"isCorePlugin");function ose(e,t){if(Wd(e))return null;if(!t)return We.warn(`No registry data available for ${e}`),null;const r=sse(e),n=e;We.debug(`Looking for ${e} in registry as ${r} or ${n}`);let i=t.registry[r];if(!i&&r!==n&&(i=t.registry[n],i&&We.debug(`Found plugin under alternative name: ${n}`)),!i?.git?.repo)return We.warn(`No GitHub repo found in registry for plugin: ${e} (tried ${r} and ${n})`),null;We.debug(`Found repo info for ${e}: ${i.git.repo}`);const s=i.git.v1.branch?i.git.v1:i.git.v0,o=s?.branch||"main";s?.branch?We.debug(`Branch for ${e}: ${o}`):We.warn(`No branch information found for plugin: ${e}`);let l;const u=i.git.repo.match(/github\.com[:/]([^/]+\/[^/.]+)(\.git)?$/);if(u)l=u[1];else{const d=i.git.repo.match(/^([^/]+\/[^/.]+)$/);if(d)l=d[1];else return We.warn(`Could not parse GitHub repo URL: ${i.git.repo}`),null}We.debug(`Parsed owner/repo for ${e}: ${l}`);const c=`${l}/${o}`;return We.debug(`Initial path for ${e}: ${c}`),c}a(ose,"getGitHubRepoPath");async function lse(e,t){if(Wd(e))return null;if(!t)return We.warn(`No repo path available for plugin: ${e}`),null;We.debug(`Starting package.json fetch for ${e} with initial path: ${t}`);const r=t.split("/"),n=r[0],i=r[1],s=r[2]||"main",o=e.replace("@elizaos/","");We.debug(`Extracted parts - owner: ${n}, repo: ${i}, branch: ${s}, packageName: ${o}`);const l=[`${n}/${i}/${s}`,`${n}/${i}/main`,`${n}/${i}/master`,`${n}/${i}/1.x`,`${n}/${i}/v1`,`${n}/${i}/v2`,`${n}/${i}/${s}/packages/${o}`,`${n}/${i}/main/packages/${o}`,`${n}/${i}/master/packages/${o}`],u=[...new Set(l)];We.debug(`Will try ${u.length} unique paths for ${e}:`,u);for(const c of u)try{const d=`https://raw.githubusercontent.com/${c}/package.json`;We.debug(`Trying URL for ${e}: ${d}`);const f=await fetch(d);if(f.ok){const g=await f.json();return We.debug(` Found package.json for ${e} at ${d}`),g}else We.debug(` Failed to fetch ${e} from ${d}: HTTP ${f.status}`)}catch(d){We.debug(` Error fetching ${e} from ${c}: ${d instanceof Error?d.message:String(d)}`)}return We.warn(`Could not find package.json for ${e} in any of the expected locations`),null}a(lse,"fetchPluginPackageJson");function use(e,t){if(Wd(e))return[];if(!t)return[];if(t?.agentConfig?.pluginParameters){const r=[];for(const[n,i]of Object.entries(t.agentConfig.pluginParameters))i.required===!0&&r.push({name:n,description:i.description,required:!0,example:i.example});return r}return t?.elizaos?.secrets?t.elizaos.secrets.filter(r=>r.required):t?.elizaos?.requiredSecrets?t.elizaos.requiredSecrets.map(r=>({name:r,required:!0})):[]}a(use,"extractRequiredSecrets");function cse(e){const t=H.useMemo(()=>[...e].sort().join(","),[e]);return Mn({queryKey:["plugin-details",t],queryFn:a(async()=>{We.debug("[usePluginDetails] Starting fetch for plugins:",e);const r=[],n=e.filter(Wd),i=e.filter(s=>!Wd(s));if(We.debug("[usePluginDetails] Core plugins:",n),We.debug("[usePluginDetails] External plugins:",i),n.forEach(s=>{r.push({name:s,requiredSecrets:[]})}),i.length>0){const s=await ase();if(We.debug("[usePluginDetails] Registry data fetched:",s?"success":"failed"),s){const u=Object.keys(s.registry);We.debug("[usePluginDetails] Available plugins in registry:",u)}const o=i.map(async u=>{const c=ose(u,s),d=await lse(u,c);return{name:u,packageJson:d}}),l=await Promise.all(o);for(const{name:u,packageJson:c}of l){const d=use(u,c);r.push({name:u,requiredSecrets:d})}}return We.debug("[usePluginDetails] Final details:",r),r},"queryFn"),enabled:e.length>0,staleTime:300*1e3,retry:2,refetchOnMount:!1,refetchOnWindowFocus:!1})}a(cse,"usePluginDetails");function OD(e){const{data:t,isLoading:r,error:n}=cse(e);return{requiredSecrets:H.useMemo(()=>t?t.reduce((s,o)=>(o.requiredSecrets.forEach(l=>{s.find(u=>u.name===l.name)||s.push({...l,plugin:o.name})}),s),[]):[],[t]),isLoading:r,error:n}}a(OD,"useRequiredSecrets");class Ho extends Error{static{a(this,"ApiError")}code;details;status;constructor(t,r,n,i){super(r),this.code=t,this.details=n,this.status=i,this.name="ApiError"}}class as{static{a(this,"BaseApiClient")}baseUrl;apiKey;timeout;defaultHeaders;constructor(t){this.baseUrl=t.baseUrl.replace(/\/$/,""),this.apiKey=t.apiKey,this.timeout=t.timeout||3e4,this.defaultHeaders={"Content-Type":"application/json",...t.headers},this.apiKey&&(this.defaultHeaders["X-API-KEY"]=this.apiKey)}createNoContentResponse(){return{success:!0}}async request(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.config?.headers,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:s.signal});if(clearTimeout(o),u.status===204||u.headers.get("content-length")==="0")return this.createNoContentResponse();let c;try{c=await u.json()}catch{if(u.ok)return this.createNoContentResponse();throw new Ho("PARSE_ERROR","Failed to parse response as JSON",void 0,u.status)}if(!u.ok){const d=c?.error||{code:"HTTP_ERROR",message:`HTTP ${u.status}: ${u.statusText}`};throw new Ho(d.code,d.message,d.details,u.status)}if(c&&typeof c=="object"&&"success"in c){const d=c;if(!d.success){const f="error"in d?d.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};throw new Ho(f.code,f.message,f.details,u.status)}return d.data}else return c}catch(l){throw clearTimeout(o),l instanceof Ho?l:l instanceof Error?l.name==="AbortError"?new Ho("TIMEOUT","Request timed out"):new Ho("NETWORK_ERROR",l.message):new Ho("UNKNOWN_ERROR","An unknown error occurred")}}async get(t,r){return this.request("GET",t,r)}async post(t,r,n){return this.request("POST",t,{...n,body:r})}async put(t,r,n){return this.request("PUT",t,{...n,body:r})}async patch(t,r,n){return this.request("PATCH",t,{...n,body:r})}async delete(t,r){return this.request("DELETE",t,r)}}class dse extends as{static{a(this,"AgentsService")}async listAgents(){return this.get("/api/agents")}async getAgent(t){return this.get(`/api/agents/${t}`)}async createAgent(t){return this.post("/api/agents",t)}async updateAgent(t,r){return this.patch(`/api/agents/${t}`,r)}async deleteAgent(t){return this.delete(`/api/agents/${t}`)}async startAgent(t){return this.post(`/api/agents/${t}/start`)}async stopAgent(t){return this.post(`/api/agents/${t}/stop`)}async getWorlds(){return this.get("/api/agents/worlds")}async addAgentToWorld(t,r){return this.post(`/api/agents/${t}/worlds`,{worldId:r})}async updateAgentWorldSettings(t,r,n){return this.patch(`/api/agents/${t}/worlds/${r}`,{settings:n})}async getAgentPanels(t){const r=await this.get(`/api/agents/${t}/panels`);return{panels:(Array.isArray(r)?r:[]).map((i,s)=>({id:`${i.name}-${s}`,name:i.name,url:i.path,type:"plugin"}))}}async getAgentLogs(t,r){return this.get(`/api/agents/${t}/logs`,{params:r})}async deleteAgentLog(t,r){return this.delete(`/api/agents/${t}/logs/${r}`)}async getAgentsForMessageServer(t){return this.get(`/api/messaging/message-servers/${t}/agents`)}async addAgentToMessageServer(t,r){return this.post(`/api/messaging/message-servers/${t}/agents`,{agentId:r})}async removeAgentFromMessageServer(t,r){return this.delete(`/api/messaging/message-servers/${t}/agents/${r}`)}async getMessageServersForAgent(t){return this.get(`/api/messaging/agents/${t}/message-servers`)}}class fse extends as{static{a(this,"MessagingService")}async submitMessage(t){return this.post("/api/messaging/submit",t)}async completeMessage(t){return this.post("/api/messaging/complete",t)}async ingestExternalMessages(t){return this.post("/api/messaging/ingest-external",t)}async createChannel(t){const r={name:t.name,type:t.type,message_server_id:t.messageServerId||"00000000-0000-0000-0000-000000000000",metadata:t.metadata};return this.post("/api/messaging/channels",r)}async createGroupChannel(t){const r="00000000-0000-0000-0000-000000000000";let n,i,s;if(t.metadata){const l={...t.metadata};"message_server_id"in l&&(i=l.message_server_id,delete l.message_server_id),"type"in l&&(s=l.type,delete l.type),Object.keys(l).length>0&&(n=l)}const o={name:t.name,message_server_id:i||r,participantCentralUserIds:t.participantIds,...s?{type:s}:{},...n?{metadata:n}:{}};return this.post("/api/messaging/channels",o)}async getOrCreateDmChannel(t){const[r,n]=t.participantIds,i={currentUserId:r,targetUserId:n,dmServerId:"00000000-0000-0000-0000-000000000000"};return this.get("/api/messaging/dm-channel",{params:i})}async getChannelDetails(t){return this.get(`/api/messaging/channels/${t}/details`)}async getChannelParticipants(t){return this.get(`/api/messaging/channels/${t}/participants`)}async addAgentToChannel(t,r){return this.post(`/api/messaging/channels/${t}/agents`,{agentId:r})}async removeAgentFromChannel(t,r){return this.delete(`/api/messaging/channels/${t}/agents/${r}`)}async deleteChannel(t){return this.delete(`/api/messaging/channels/${t}`)}async clearChannelHistory(t){return this.delete(`/api/messaging/channels/${t}/messages`)}async postMessage(t,r,n){return this.post(`/api/messaging/channels/${t}/messages`,{content:r,metadata:n})}async getChannelMessages(t,r){return this.get(`/api/messaging/channels/${t}/messages`,{params:r})}async getMessage(t){return this.get(`/api/messaging/messages/${t}`)}async deleteMessage(t,r){return this.delete(`/api/messaging/channels/${t}/messages/${r}`)}async updateMessage(t,r){return this.patch(`/api/messaging/messages/${t}`,{content:r})}async searchMessages(t){return this.post("/api/messaging/messages/search",t)}async getCurrentMessageServer(){return this.get("/api/messaging/message-server/current")}async listMessageServers(){return this.get("/api/messaging/message-servers")}async getMessageServerChannels(t){return this.get(`/api/messaging/message-servers/${t}/channels`)}async createMessageServer(t){return this.post("/api/messaging/message-servers",t)}async syncMessageServerChannels(t,r){return this.post(`/api/messaging/message-servers/${t}/sync-channels`,r)}async deleteMessageServer(t){return this.delete(`/api/messaging/message-servers/${t}`)}async updateChannel(t,r){return this.patch(`/api/messaging/channels/${t}`,r)}async generateChannelTitle(t,r){return this.post(`/api/messaging/channels/${t}/generate-title`,{agentId:r})}async addUserToChannel(t,r){const n=await this.getChannelDetails(t),i=n.metadata?.participantCentralUserIds||[];if(!i.includes(r)){const s=[...i,r];return this.updateChannel(t,{participantCentralUserIds:s})}return{success:!0,data:n}}async addUsersToChannel(t,r){const s=[...(await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]];for(const o of r)s.includes(o)||s.push(o);return this.updateChannel(t,{participantCentralUserIds:s})}async removeUserFromChannel(t,r){const s=((await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]).filter(o=>o!==r);return this.updateChannel(t,{participantCentralUserIds:s})}}class hse extends as{static{a(this,"MemoryService")}async getAgentMemories(t,r){return this.get(`/api/memory/${t}/memories`,{params:r})}async getRoomMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:n})}async updateMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async clearAgentMemories(t){return this.delete(`/api/memory/${t}/memories`)}async clearRoomMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async listAgentRooms(t){return this.get(`/api/memory/${t}/rooms`)}async getRoom(t,r){return this.get(`/api/memory/${t}/rooms/${r}`)}async createRoom(t,r){return this.post(`/api/memory/${t}/rooms`,r)}async createWorldFromMessageServer(t,r){return this.post(`/api/memory/groups/${t}`,r)}async deleteWorld(t){return this.delete(`/api/memory/groups/${t}`)}async clearWorldMemories(t){return this.delete(`/api/memory/groups/${t}/memories`)}async deleteMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async getAgentInternalMemories(t,r,n){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:{includeEmbedding:n}})}async deleteAgentInternalMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async deleteAllAgentInternalMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async updateAgentInternalMemory(t,r,n){return this.patch(`/api/memory/${t}/memories/${r}`,n)}async deleteGroupMemory(t,r){return this.delete(`/api/messaging/channels/${t}/messages/${r}`)}async clearGroupChat(t){return this.delete(`/api/messaging/channels/${t}/messages`)}}class pse extends as{static{a(this,"AudioService")}async requestBinary(t,r,n){let i;this.baseUrl?i=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?i=new URL(r,window.location.origin):i=new URL(r,"http://localhost:3000"),n?.params&&Object.entries(n.params).forEach(([l,u])=>{u!=null&&i.searchParams.append(l,String(u))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const l={...this.defaultHeaders,...n?.headers};n?.body instanceof FormData&&delete l["Content-Type"];const u=await fetch(i.toString(),{method:t,headers:l,body:n?.body instanceof FormData?n.body:n?.body?JSON.stringify(n.body):void 0,signal:s.signal});if(clearTimeout(o),!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return await u.arrayBuffer()}catch(l){throw clearTimeout(o),l instanceof Error?l.name==="AbortError"?new Error("Request timed out"):l:new Error("An unknown error occurred")}}processAudioInput(t){if(t instanceof Blob)return t;if(typeof t=="string"){if(t.startsWith("data:"))try{const[n,i]=t.split(","),s=n.match(/data:([^;]+)/),o=s?s[1]:"audio/wav",l=atob(i),u=new Uint8Array(l.length);for(let c=0;c<l.length;c++)u[c]=l.charCodeAt(c);return new Blob([u],{type:o})}catch(n){throw new Error(`Invalid base64 data URL: ${n instanceof Error?n.message:"Unknown error"}`)}if(this.isBase64String(t))try{const n=atob(t),i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return new Blob([i],{type:"audio/wav"})}catch{return t}return t}if(this.isBuffer(t))return new Blob([new Uint8Array(t)],{type:"audio/wav"});const r=t;if(r instanceof ArrayBuffer)return new Blob([r],{type:"audio/wav"});if(r&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer)return new Blob([r.buffer],{type:"audio/wav"});throw new Error(`Unsupported audio input type: ${typeof t}. Expected Blob, Buffer, ArrayBuffer, or string.`)}isBase64String(t){const r=/^[A-Za-z0-9+/]*={0,2}$/;return t.length<4||t.length%4!==0?!1:r.test(t)}isBuffer(t){return t!=null&&typeof t=="object"&&typeof t.constructor=="function"&&t.constructor.name==="Buffer"&&typeof t.readUInt8=="function"}async speechConversation(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/audio/${t}/speech/conversation`,{body:n})}async generateSpeech(t,r){const n=await this.requestBinary("POST",`/api/audio/${t}/speech/generate`,{body:r}),i=new Uint8Array(n);let s="";for(let u=0;u<i.byteLength;u++)s+=String.fromCharCode(i[u]);return{audio:btoa(s),format:"mpeg"}}async synthesizeAudioMessage(t,r){return this.post(`/api/audio/${t}/audio-messages/synthesize`,r)}async transcribe(t,r){const n=new FormData,i=this.processAudioInput(r.audio);return i instanceof Blob,n.append("file",i),r.format&&n.append("format",r.format),r.language&&n.append("language",r.language),this.request("POST",`/api/audio/${t}/transcriptions`,{body:n})}async processSpeech(t,r,n){const i=new FormData,s=this.processAudioInput(r);return s instanceof Blob,i.append("file",s),n&&i.append("metadata",JSON.stringify(n)),this.request("POST",`/api/audio/${t}/speech`,{body:i})}}class mse extends as{static{a(this,"MediaService")}async uploadAgentMedia(t,r){const n=new FormData;return n.append("file",r.file,r.filename),r.contentType&&n.append("contentType",r.contentType),r.metadata&&n.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/media/agents/${t}/upload-media`,{body:n})}async uploadChannelMedia(t,r){const n=new FormData;return n.append("file",r),this.request("POST",`/api/messaging/channels/${t}/upload-media`,{body:n})}}class gse extends as{static{a(this,"ServerService")}async checkHealth(){return this.get("/api/server/health")}async ping(){return this.get("/api/server/ping")}async hello(){return this.get("/api/server/hello")}async getStatus(){return this.get("/api/server/status")}async stopServer(){return this.post("/api/server/stop")}async getDebugInfo(){return this.get("/api/server/debug/servers")}async submitLogs(t){return this.post("/api/server/logs",{logs:t})}async clearLogs(){return this.delete("/api/server/logs")}}class bse extends as{static{a(this,"SystemService")}async getEnvironment(){return this.get("/api/system/env/local")}async updateLocalEnvironment(t){if(!t||typeof t!="object")throw new Error("updateLocalEnvironment requires a configuration object");let r;return"variables"in t?r={content:t.variables}:"content"in t?r={content:t.content}:r={content:t},this.post("/api/system/env/local",r)}async getGlobalLogs(t){const r=await fetch(this.buildUrl("/api/server/logs",{params:t}),{method:"GET",headers:this.getHeaders()});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const n=await r.json();return{logs:n.logs||[],count:n.count||0,total:n.total||0,level:n.requestedLevel||n.level||"all",levels:n.levels||[]}}buildUrl(t,r){const n=new URL(`${this.baseUrl}${t}`);return r?.params&&Object.entries(r.params).forEach(([i,s])=>{s!=null&&n.searchParams.append(i,String(s))}),n.toString()}getHeaders(){return{...this.defaultHeaders}}async deleteGlobalLogs(){return this.delete("/api/server/logs")}async deleteLog(t){throw new Error("Individual log deletion is not supported. Use deleteGlobalLogs() to clear all logs.")}}function u8(e,t){if(!e)return;let r;if(e instanceof Date)r=e.getTime();else if(typeof e=="string"){if(r=new Date(e).getTime(),isNaN(r)){console.warn(`Invalid date string for ${t}: ${e}`);return}}else if(typeof e=="number")r=e;else{console.warn(`Invalid type for ${t}: ${typeof e}`);return}return r.toString()}a(u8,"toTimestampString");function fc(e,t){if(!e||e.trim()==="")throw new Error(`${t} is required and cannot be empty`)}a(fc,"validateRequiredParam");class vse extends as{static{a(this,"SessionsService")}async checkHealth(){return this.get("/api/messaging/sessions/health")}async createSession(t){return this.post("/api/messaging/sessions",t)}async getSession(t){return fc(t,"sessionId"),this.get(`/api/messaging/sessions/${t}`)}async sendMessage(t,r){return fc(t,"sessionId"),fc(r?.content,"content"),this.post(`/api/messaging/sessions/${t}/messages`,r)}async getMessages(t,r){fc(t,"sessionId");const n={};r?.limit&&(n.limit=r.limit.toString());const i=u8(r?.before,"before");i&&(n.before=i);const s=u8(r?.after,"after");return s&&(n.after=s),this.get(`/api/messaging/sessions/${t}/messages`,{params:n})}async deleteSession(t){return fc(t,"sessionId"),this.delete(`/api/messaging/sessions/${t}`)}async listSessions(){return this.get("/api/messaging/sessions")}}class yse extends as{static{a(this,"RunsService")}async listRuns(t,r){return this.get(`/api/agents/${t}/runs`,{params:r})}async getRun(t,r,n){return this.get(`/api/agents/${t}/runs/${r}`,{params:n?{roomId:n}:void 0})}}var wse;(e=>{e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.TIMEOUT="timeout"})(wse||={});class xse extends as{static{a(this,"JobsService")}async create(t){return this.post("/api/messaging/jobs",t)}async getJob(t){return this.get(`/api/messaging/jobs/${t}`)}async list(t){return this.get("/api/messaging/jobs",{params:t})}async health(){return this.get("/api/messaging/jobs/health")}async poll(t,r={}){const{interval:n=1e3,maxAttempts:i=30,timeout:s,onProgress:o}=r,l=Date.now();let u=0;const c=s?Math.ceil(s/n):i;for(;u<c;){if(s&&Date.now()-l>s)return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l};u>0&&await new Promise(g=>setTimeout(g,n)),u++;const f=await this.getJob(t);if(o&&o(f,u),f.status==="completed")return{success:!0,job:f,attempts:u,timeMs:Date.now()-l};if(f.status==="failed"||f.status==="timeout")return{success:!1,job:f,attempts:u,timeMs:Date.now()-l}}return{success:!1,job:await this.getJob(t),attempts:u,timeMs:Date.now()-l}}async createAndPoll(t,r){const n=await this.create(t);return this.poll(n.jobId,r)}async createAndPollWithBackoff(t,r={}){const{initialInterval:n=500,maxInterval:i=5e3,multiplier:s=1.5,maxAttempts:o=40,timeout:l,onProgress:u}=r,d=(await this.create(t)).jobId,f=Date.now();let g=0,m=n;for(;g<o;){if(l&&Date.now()-f>l)return{success:!1,job:await this.getJob(d),attempts:g,timeMs:Date.now()-f};g>0&&(await new Promise(A=>setTimeout(A,m)),m=Math.min(m*s,i)),g++;const _=await this.getJob(d);if(u&&u(_,g),_.status==="completed")return{success:!0,job:_,attempts:g,timeMs:Date.now()-f};if(_.status==="failed"||_.status==="timeout")return{success:!1,job:_,attempts:g,timeMs:Date.now()-f}}return{success:!1,job:await this.getJob(d),attempts:g,timeMs:Date.now()-f}}async ask(t,r,n,i){const s=await this.createAndPoll({userId:t,content:r,...n&&{agentId:n}},i);if(!s.success||!s.job.result)throw new Error(s.job.error||"Job failed or timed out without a response");return s.job.result.message.content}}class X6{static{a(this,"ElizaClient")}agents;messaging;memory;audio;media;server;system;sessions;runs;jobs;constructor(t){this.agents=new dse(t),this.messaging=new fse(t),this.memory=new hse(t),this.audio=new pse(t),this.media=new mse(t),this.server=new gse(t),this.system=new bse(t),this.sessions=new vse(t),this.runs=new yse(t),this.jobs=new xse(t)}static create(t){return new X6(t)}}const m1=a(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey$2");function _se(){const e=localStorage.getItem(m1()),t=Us(),r={baseUrl:window.location.origin,timeout:3e4,headers:{Accept:"application/json","X-Entity-Id":t}};return e&&(r.apiKey=e),r}a(_se,"createApiClientConfig");let o0=null;function Ese(){return X6.create(_se())}a(Ese,"createElizaClient");function Lr(){return o0||(o0=Ese()),o0}a(Lr,"getElizaClient");function Sse(){o0=null}a(Sse,"invalidateElizaClient");function kse(e){e?localStorage.setItem(m1(),e):localStorage.removeItem(m1()),Sse()}a(kse,"updateApiClientApiKey");const Ase="elizaos-plugins",Tse="registry",Nse=`https://raw.githubusercontent.com/${Ase}/${Tse}/refs/heads/main/generated-registry.json`;function RD(){return Mn({queryKey:["plugins"],queryFn:a(async()=>{try{const e=Lr(),[t,r]=await Promise.all([fetch(Nse),e.agents.listAgents()]),n=await t.json(),i=Object.entries(n.registry||{}).filter(([l,u])=>{const c=l.includes("plugin"),d=u.supports.v1===!0,f=u.npm.v1!==null||u.git.v1.version!==null&&u.git.v1.branch!==null;return c&&d&&f}).map(([l])=>l.replace(/^@elizaos-plugins\//,"@elizaos/")).sort();let s=[];try{const l=r?.agents||[];if(l.length>0){const u=l.find(c=>c.status==="active");if(u&&u.id){const d=(await e.agents.getAgent(u.id))?.plugins;Array.isArray(d)&&(s=d)}}}catch(l){We.warn("Could not fetch agent plugins:",l)}return[...new Set([...i,...s])].sort()}catch(e){return We.error("Failed to fetch from registry, falling back to basic list:",e),["@elizaos/plugin-bootstrap","@elizaos/plugin-evm","@elizaos/plugin-discord","@elizaos/plugin-elevenlabs","@elizaos/plugin-anthropic","@elizaos/plugin-browser","@elizaos/plugin-farcaster","@elizaos/plugin-groq"].filter(t=>t.includes("plugin")).sort()}},"queryFn")})}a(RD,"usePlugins");const Ise={google:"@elizaos/plugin-google-genai",llama_local:"@elizaos/plugin-ollama"},Cse={},Mse=["@elizaos/plugin-sql","@elizaos/plugin-bootstrap"];function Ose(){const{data:e=[]}=RD(),t=a(i=>{const s=new Set;if(Array.isArray(i.clients))for(const l of i.clients){const u=l.toLowerCase(),c=Cse[u];if(c&&e.includes(c))s.add(c);else{const d=`@elizaos/plugin-${u}`;e.includes(d)&&s.add(d)}}let o=!1;if(typeof i.modelProvider=="string"){const l=i.modelProvider.toLowerCase(),u=Ise[l];if(u&&e.includes(u))s.add(u),o=!0;else{const c=`@elizaos/plugin-${l}`;e.includes(c)&&(s.add(c),o=!0)}o||e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai")}else e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai");for(const l of Mse)e.includes(l)&&s.add(l);return Array.from(s).sort()},"matchPlugins");function r(i){return typeof i=="object"&&i!==null&&"user"in i}return a(r,"isV1MessageExampleFormat"),{convertCharacter:a(i=>{const s=[...Array.isArray(i.bio)?i.bio:i.bio?[i.bio]:[],...i.lore??[]],o=(i.messageExamples??[]).map(c=>c.map(d=>r(d)?{name:d.user,content:d.content}:d))??[],l=t(i);return{name:i.name,username:i.username,system:i.system,settings:i.settings,plugins:l,bio:s,topics:i.topics,style:i.style,adjectives:i.adjectives,messageExamples:o,postExamples:i.postExamples}},"convertCharacter")}}a(Ose,"useConvertCharacter");const Rse=a((e=768)=>{const t=H.useRef(null),[r,n]=H.useState(!0),i=H.useRef(null),s=H.useRef(0);return H.useEffect(()=>{const o=t.current;if(!o)return;const l=a(c=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{const d=c>=e;n(f=>f!==d?d:f),s.current=c},150)},"handleResize"),u=new ResizeObserver(c=>{for(const d of c){const{width:f}=d.contentRect;Math.abs(f-s.current)>5&&l(f)}});return u.observe(o),setTimeout(()=>{const{width:c}=o.getBoundingClientRect();s.current=c,n(c>=e)},0),()=>{u.disconnect(),i.current&&clearTimeout(i.current)}},[e]),{containerRef:t,showLabels:r}},"useContainerWidth");function LD({characterValue:e,setCharacterValue:t,title:r,description:n,onSubmit:i,onDelete:s,onReset:o,onStopAgent:l,isDeleting:u=!1,isStopping:c=!1,customComponents:d=[],onTemplateChange:f,secretPanelRef:g}){const{toast:m}=Gr(),{data:y,isLoading:_}=pG(),[A,I]=H.useState(!1),[O,R]=H.useState("none"),[L,D]=H.useState("basic"),P=H.useRef(null),[Z,V]=H.useState(!1),[W,F]=H.useState(!1),[Y,h]=H.useState(!1),[w,b]=H.useState(null),[x,E]=H.useState({}),T=H.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N}=OD(T),{convertCharacter:k}=Ose();H.useEffect(()=>{a(async()=>{try{const q=await Lr().system.getEnvironment();E(q||{})}catch(ne){console.error("Failed to fetch global environment variables:",ne),E({})}},"fetchGlobalEnvs")()},[]);const{containerRef:p,showLabels:S}=Rse(640),C=H.useCallback(()=>{const Q=P.current;if(!Q)return;const{scrollLeft:ne,scrollWidth:q,clientWidth:$}=Q;V(ne>0),F(ne+$<q-1)},[]);H.useEffect(()=>{const Q=P.current;if(Q)return C(),Q.addEventListener("scroll",C),window.addEventListener("resize",C),()=>{Q.removeEventListener("scroll",C),window.removeEventListener("resize",C)}},[C,d.length]);const M=a(Q=>{const ne=P.current;if(!ne)return;const q=ne.clientWidth*.8;ne.scrollBy({left:Q==="left"?-q:q,behavior:"smooth"})},"scrollTabs"),U=H.useMemo(()=>{const Q=sT();return y&&!_?[...Q.filter(q=>q.provider!=="elevenlabs"),...y]:Q},[y,_]),B=H.useMemo(()=>[{sectionTitle:"Basic Info",sectionValue:"basic",sectionType:"input",fields:[{title:"Name",name:"name",description:"The primary identifier for this agent",fieldType:"text",getValue:a(Q=>Q.name||"","getValue"),tooltip:"Display name that will be visible to users. Required for identification purposes."},{title:"Username",name:"username",description:"Used in URLs and API endpoints",fieldType:"text",getValue:a(Q=>Q.username||"","getValue"),tooltip:"Unique identifier for your agent. Used in APIs/URLs and Rooms."},{title:"System",name:"system",description:"System prompt defining agent behavior",fieldType:"textarea",getValue:a(Q=>Q.system||"","getValue"),tooltip:"Instructions for the AI model that establish core behavior patterns and personality traits."},{title:"Voice Model",name:"settings.voice.model",description:"Voice model for audio synthesis",fieldType:"select",getValue:a(Q=>Q.settings?.voice?.model||"","getValue"),options:U.map(Q=>({value:Q.value,label:Q.label})),tooltip:"Select a voice that aligns with the agent's intended persona."}]},{sectionTitle:"Content",sectionValue:"content",sectionType:"array",fields:[{title:"Bio",description:"Bio data for this agent",path:"bio",getData:a(Q=>Array.isArray(Q.bio)?Q.bio:[],"getData"),tooltip:"Biographical details that establish the agent's background and context."},{title:"Topics",description:"Topics this agent can talk about",path:"topics",getData:a(Q=>Q.topics||[],"getData"),tooltip:"Subject domains the agent can discuss with confidence."},{title:"Adjectives",description:"Descriptive personality traits",path:"adjectives",getData:a(Q=>Q.adjectives||[],"getData"),tooltip:"Key personality attributes that define the agent's character."}]},{sectionTitle:"Style",sectionValue:"style",sectionType:"array",fields:[{title:"All Styles",description:"Writing style for all content types",path:"style.all",getData:a(Q=>Q.style?.all||[],"getData"),tooltip:"Core writing style guidelines applied across all content formats."},{title:"Chat Style",description:"Style specific to chat interactions",path:"style.chat",getData:a(Q=>Q.style?.chat||[],"getData"),tooltip:"Writing style specific to conversational exchanges."},{title:"Post Style",description:"Style for long-form content",path:"style.post",getData:a(Q=>Q.style?.post||[],"getData"),tooltip:"Writing style for structured content such as articles or posts."}]}],[U]),G=a(Q=>{const{name:ne,value:q,type:$}=Q.target,re=Q.target.checked;if($==="checkbox")t.updateField(ne,re);else if(ne.startsWith("settings.")){const ae=ne.substring(9);t.updateSetting?t.updateSetting(ae,q):t.updateField(ne,q)}else t.updateField(ne,q)},"handleChange"),J=a((Q,ne)=>{if(ne.startsWith("settings.")){const q=ne.substring(9);if(t.updateSetting){if(t.updateSetting(q,Q),q==="voice.model"&&Q){const $=wy(Q);if($){const re=Array.isArray(e.plugins)?[...e.plugins]:[],ae=wy(e.settings?.voice?.model),Be=iT[$.provider],Ie=[...re];Be&&!re.includes(Be)&&Ie.push(Be),t.setPlugins?t.setPlugins(Ie):t.updateField&&t.updateField("plugins",Ie),ae?.provider!==$.provider&&m({title:"Plugin Updated",description:`${Be} plugin has been set for the selected voice model.`})}}}else t.updateField(ne,Q)}else t.updateField(ne,Q)},"handleVoiceModelChange"),ue=a((Q,ne)=>{if(!Q.includes(".")){t.updateField(Q,ne);return}const q=Q.split(".");if(q.length===2&&q[0]==="style"){t.setStyleArray?t.setStyleArray(q[1],ne):t.updateField(Q,ne);return}t.updateField(Q,ne)},"updateArray"),se=a(async Q=>{if(Q.settings?.avatar){const ne=new Image;if(ne.src=Q.settings.avatar,await new Promise(q=>ne.onload=q),ne.width>md||ne.height>md){const $=await(await fetch(Q.settings.avatar)).blob(),re=new File([$],"avatar.jpg",{type:$.type}),ae=await ZA(re);return{...Q,settings:{...Q.settings,avatar:ae}}}}return Q},"ensureAvatarSize"),oe=a(async Q=>{Q.preventDefault(),I(!0);try{const ne=await se(e);let q=[];if(g?.current)q=g.current.validateSecrets().missingSecrets;else{const $=ne.settings?.secrets,re=$&&typeof $=="object"&&!Array.isArray($)?$:{};q=N.filter(ae=>{const Be=re[ae.name];if(Be&&typeof Be=="string"&&Be.trim()!=="")return!1;const Ie=x[ae.name];return!(Ie&&Ie.trim()!=="")}).map(ae=>ae.name)}if(q.length>0){I(!1),b(ne),h(!0);return}await i(ne)}catch(ne){m({title:"Error",description:ne instanceof Error?ne.message:"Failed to update agent",variant:"destructive"})}finally{I(!1)}},"handleFormSubmit"),Pe=a(async()=>{if(h(!1),w){I(!0);try{await i(w)}catch(Q){m({title:"Error",description:Q instanceof Error?Q.message:"Failed to update agent",variant:"destructive"})}finally{I(!1),b(null)}}},"handleConfirmSaveWithMissingSecrets"),Ee=a(()=>{h(!1),b(null),D("custom-Secret")},"handleCancelSaveWithMissingSecrets"),be=a(Q=>v.jsxs("div",{className:`w-full ${Q.name==="name"?"agent-form-name":""} ${Q.name==="system"?"agent-form-system-prompt":""}`,children:[v.jsxs(du,{htmlFor:Q.name,className:"text-sm font-normal block mb-2",children:[Q.title,Q.name in Hl&&Hl[Q.name]===$h.REQUIRED&&v.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),Q.fieldType==="textarea"?v.jsx(of,{id:Q.name,name:Q.name,value:Q.getValue(e),onChange:G,className:"min-h-[120px] resize-y"}):Q.fieldType==="checkbox"?v.jsx(mn,{id:Q.name,name:Q.name,type:"checkbox",checked:e[Q.name]==="true",onChange:G}):Q.fieldType==="select"?v.jsxs(js,{name:Q.name,value:Q.getValue(e),onValueChange:a(ne=>J(ne,Q.name),"onValueChange"),children:[v.jsx(Ya,{children:v.jsx(Ps,{placeholder:Q.name.includes("voice.model")&&_?"Loading voice models...":"Select a voice model"})}),v.jsx($a,{children:Q.name==="settings.voice.model"?v.jsxs(v.Fragment,{children:[v.jsx(gg,{children:v.jsx(Ir,{value:"none",children:"No Voice"})}),v.jsx(yy,{}),v.jsxs(gg,{children:[v.jsx(vy,{children:"OpenAI Voices"}),aT.map(ne=>v.jsx(Ir,{value:ne.value,children:ne.label.replace("OpenAI - ","")},ne.value))]}),v.jsx(yy,{}),v.jsxs(gg,{children:[v.jsx(vy,{children:"ElevenLabs Voices"}),_2.map(ne=>v.jsx(Ir,{value:ne.value,children:ne.label.replace("ElevenLabs - ","")},ne.value)),y&&y.length>0&&y.map(ne=>v.jsx(Ir,{value:ne.value,children:ne.label.replace("ElevenLabs - ","")},ne.value))]})]}):Q.options?.map(ne=>v.jsx(Ir,{value:ne.value,children:ne.label},ne.value))})]}):v.jsx(mn,{id:Q.name,name:Q.name,type:Q.fieldType,value:Q.getValue(e),onChange:G}),Q.description&&v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.description})]},Q.name),"renderInputField"),Ce=a(Q=>v.jsxs("div",{className:"w-full",children:[v.jsxs(du,{htmlFor:Q.path,className:"text-sm font-normal block mb-2",children:[Q.title,Q.path in Hl&&Hl[Q.path]===$h.REQUIRED&&v.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),v.jsx(rG,{data:Q.getData(e),onChange:a(ne=>ue(Q.path,ne),"onChange")}),Q.description&&v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.description})]},Q.path),"renderArrayField"),X=a(()=>{x2(e,m)},"handleExportJSON");function ce(Q){return typeof Q=="object"&&Q!==null&&("lore"in Q||"clients"in Q||"modelProvider"in Q)}a(ce,"isV1Character");const te=a(async Q=>{const ne=Q.target.files?.[0];if(ne)try{const q=await ne.text();let $=JSON.parse(q);ce($)&&($=k($));const re=Object.keys(Hl).filter(ae=>{if(Hl[ae]!==$h.REQUIRED)return!1;const Be=ae.split(".");let Ie=$;for(const Ke of Be)if(Ie=Ie?.[Ke],Ie===void 0)return!0;return!1});if(re.length>0){m({title:"Import Failed",description:`Missing required fields: ${re.join(", ")}`,variant:"destructive"});return}t.importAgent?t.importAgent($):console.warn("Missing importAgent method"),m({title:"Agent Imported",description:"Agent data has been successfully loaded."})}catch(q){m({title:"Import Failed",description:q instanceof Error?q.message:"Invalid JSON file",variant:"destructive"})}finally{Q.target.value=""}},"handleImportJSON"),ie=H.useRef(null),me=a(()=>{ie.current?.click()},"handleImportClick"),xe=H.useMemo(()=>{const Q=[];return l&&Q.push({label:"Stop Agent",description:"Stop running",onClick:l}),s&&Q.push({label:"Delete Agent",description:"Delete permanently",onClick:a(()=>s(),"onClick")}),Q},[l,s]),Oe=H.useCallback(Q=>{if(R(Q),Q==="none"&&o){o();return}const ne=lT(Q);ne&&t.importAgent&&(t.importAgent(ne.template),f?.())},[o,t,f]),de=[...B.map(Q=>({value:Q.sectionValue,label:Q.sectionTitle,shortLabel:Q.sectionTitle.split(" ")[0]})),...d.map(Q=>({value:`custom-${Q.name}`,label:Q.name,shortLabel:Q.shortLabel||Q.name.split(" ")[0]}))];return v.jsxs("div",{ref:p,className:"w-full max-w-full mx-auto p-6 sm:p-8 h-full overflow-y-auto",children:[(r||n)&&v.jsxs("div",{className:"mb-8",children:[r&&v.jsx("h1",{className:"text-2xl font-semibold mb-2",children:r}),n&&v.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:n})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx(du,{htmlFor:"template-selector",className:"text-sm",children:"Start with a template"}),v.jsxs(js,{value:O,onValueChange:Oe,children:[v.jsx(Ya,{className:"w-full mt-1",children:v.jsx(Ps,{placeholder:"None (blank start)"})}),v.jsx($a,{children:oT.map(Q=>v.jsx(Ir,{value:Q.id,children:v.jsx(cu,{children:v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx("span",{className:"w-full text-left",children:Q.label})}),v.jsx(on,{side:"right",children:v.jsx("p",{className:"max-w-xs",children:Q.description})})]})})},Q.id))})]})]}),v.jsxs("form",{onSubmit:oe,children:[v.jsxs(w2,{value:L,onValueChange:D,className:"w-full",children:[v.jsxs("div",{className:"relative mb-4",children:[Z&&v.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:a(()=>M("left"),"onClick"),children:v.jsx(kF,{className:"h-4 w-4"})}),v.jsx("div",{ref:P,className:"overflow-x-auto scrollbar-hide",children:v.jsx(zp,{className:"inline-flex h-10 items-center justify-start text-muted-foreground w-full",children:de.map(Q=>v.jsx(vd,{value:Q.value,className:Ve("whitespace-nowrap",!S&&"px-2 text-xs"),children:S?Q.label:Q.shortLabel},Q.value))})}),W&&v.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:a(()=>M("right"),"onClick"),children:v.jsx(nA,{className:"h-4 w-4"})})]}),v.jsxs("div",{className:"max-h-[100vh] overflow-y-auto pb-4 px-1",children:[B.map(Q=>v.jsx(la,{value:Q.sectionValue,className:"space-y-6 mt-0 focus:outline-none",children:Q.sectionType==="input"?Q.fields.map(be):Q.fields.map(Ce)},Q.sectionValue)),d.map(Q=>v.jsx(la,{value:`custom-${Q.name}`,className:"mt-0 focus:outline-none",children:v.jsx("div",{className:"h-full",children:Q.component})},`custom-${Q.name}`))]})]}),v.jsxs("div",{className:"flex items-center justify-between w-full mt-6",children:[v.jsxs(yd,{children:[v.jsx(wd,{asChild:!0,children:v.jsxs(ct,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 p-2.5",children:[v.jsx(iA,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"More options"})]})}),v.jsxs(xd,{align:"start",side:"top",children:[v.jsxs(Ha,{onClick:me,children:[v.jsx(AF,{className:"h-4 w-4 mr-2"}),"Import"]}),v.jsxs(Ha,{onClick:X,children:[v.jsx(aA,{className:"h-4 w-4 mr-2"}),"Export"]}),xe.length>0&&v.jsx(w0,{}),xe.length>0&&xe.map(Q=>{const ne=Q.label==="Stop Agent",q=Q.label==="Delete Agent",$=ne?c:q?u:!1;return v.jsxs(Ha,{onClick:Q.onClick,disabled:$,className:q?"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50":"",children:[$?v.jsx(zn,{className:"h-4 w-4 animate-spin mr-2"}):ne?v.jsx(l2,{className:"h-4 w-4 mr-2"}):v.jsx(af,{className:"h-4 w-4 mr-2"}),$?`${ne?"Stopping":"Deleting"}...`:Q.label]},Q.label)})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(cu,{children:v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs(ct,{type:"button",variant:"outline",onClick:a(()=>{o?.()},"onClick"),children:[v.jsx(sA,{className:"h-4 w-4"}),v.jsx("span",{className:"ml-2",children:"Reset"})]})}),v.jsx(on,{children:v.jsx("p",{children:"Reset all form fields to their original values"})})]})}),v.jsx(cu,{children:v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{type:"submit",disabled:A,className:"agent-form-submit",children:A?v.jsxs(v.Fragment,{children:[v.jsx(zn,{className:"h-4 w-4 animate-spin"}),v.jsx("span",{className:"ml-2",children:"Saving..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(oA,{className:"h-4 w-4"}),v.jsx("span",{className:"ml-2",children:"Save"})]})})}),v.jsx(on,{children:v.jsx("p",{children:"Save all changes to the agent configuration"})})]})})]}),v.jsx("input",{ref:ie,type:"file",accept:".json",onChange:te,className:"hidden"})]})]}),v.jsx(bG,{open:Y,onOpenChange:h,missingSecrets:(()=>{let Q=[];if(g?.current)Q=g.current.validateSecrets().missingSecrets;else{const ne=e.settings?.secrets,q=ne&&typeof ne=="object"&&!Array.isArray(ne)?ne:{};Q=N.filter($=>{const re=q[$.name];if(re&&typeof re=="string"&&re.trim()!=="")return!1;const ae=x[$.name];return!(ae&&ae.trim()!=="")}).map($=>$.name)}return Q.map(ne=>{const q=N.find($=>$.name===ne);return{name:ne,plugin:q?.plugin,description:q?.description}})})(),onConfirm:Pe,onCancel:Ee})]})}a(LD,"CharacterForm");function DD({characterValue:e,setCharacterValue:t}){const r=a(()=>{const f=e?.settings?.avatar;return typeof f=="string"?f:null},"getAvatarUrl"),[n,i]=H.useState(r()),[s,o]=H.useState(!1),l=H.useRef(null);H.useEffect(()=>{i(r()),o(!1)},[e.id]);const u=a(async f=>{const g=f.target.files?.[0];if(g)try{const m=await ZA(g);i(m),o(!0),d(m)}catch(m){console.error("Error compressing image:",m)}},"handleFileUpload"),c=a(()=>{n&&(i(null),o(!0),d(""))},"handleRemoveAvatar"),d=a(f=>{t.updateAvatar?t.updateAvatar(f):t.updateSetting?t.updateSetting("avatar",f):t.updateField&&t.updateField("settings.avatar",f)},"updateCharacterAvatar");return v.jsxs("div",{className:"rounded-lg w-full",children:[v.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Avatar Settings"}),v.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 max-w-sm mx-auto",children:[n?v.jsx("div",{className:"w-64 h-64 mb-2",children:v.jsx("img",{src:n,alt:"Agent Avatar",className:"object-cover w-full h-full rounded-lg border"})}):v.jsx("div",{className:"w-64 h-64 flex items-center justify-center border border-dashed rounded-lg text-gray-500 mb-2 cursor-pointer hover:bg-gray-50 transition-colors",onClick:a(()=>l.current?.click(),"onClick"),children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx(TF,{className:"w-10 h-10"}),v.jsx("span",{className:"text-sm",children:"Click to upload"})]})}),v.jsxs("div",{className:"flex flex-col gap-3 w-64",children:[v.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:l,onChange:u}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(ct,{type:"button",className:"flex items-center gap-2 flex-1",onClick:a(()=>l.current?.click(),"onClick"),children:[v.jsx(NF,{className:"w-5 h-5"}),n?"Replace":"Upload"]}),n&&v.jsx(ct,{type:"button",variant:"outline",className:"flex items-center",onClick:c,children:v.jsx(vi,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[v.jsx(u2,{className:"w-3.5 h-3.5"}),v.jsxs("span",{children:["Images greater than ",md,"x",md," will be resized"]})]})]})]})]})}a(DD,"AvatarPanel");const J6=Dk,Lse=jk,Dse=Pk,jD=H.forwardRef(({className:e,...t},r)=>v.jsx(Ep,{ref:r,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jD.displayName=Ep.displayName;const xm=H.forwardRef(({className:e,children:t,...r},n)=>v.jsxs(Dse,{children:[v.jsx(jD,{}),v.jsxs(_p,{ref:n,className:Ve("fixed left-[50%] top-[50%] z-50 bg-card grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,v.jsxs(zk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(vi,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xm.displayName=_p.displayName;const _m=a(({className:e,...t})=>v.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),"DialogHeader");_m.displayName="DialogHeader";const q6=a(({className:e,...t})=>v.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"DialogFooter");q6.displayName="DialogFooter";const Em=H.forwardRef(({className:e,...t},r)=>v.jsx(Sp,{ref:r,className:Ve("text-lg font-semibold leading-none tracking-tight",e),...t}));Em.displayName=Sp.displayName;const e3=H.forwardRef(({className:e,...t},r)=>v.jsx(kp,{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));e3.displayName=kp.displayName;const io={"@elizaos/plugin-sql":{title:"Essential Plugin: SQL",description:"Provides memory and state storage. If removed, replace with an adapter plugin or your agent may lose conversation history and memory capabilities."},"@elizaos/plugin-openai":{title:"Essential Plugin: OpenAI",description:"Provides language model access. If removed, replace with another LLM plugin or your agent may fail to function properly."},"@elizaos/plugin-bootstrap":{title:"Essential Plugin: Bootstrap",description:"Provides default message processing, event handling, and attachment workflows for your agent. If removed, ensure you have a custom plugin handling these responsibilities, or your agent may not process events or respond to messages as expected."}};function PD({characterValue:e,setCharacterValue:t,initialPlugins:r}){const{data:n,error:i}=RD(),{toast:s}=Gr(),[o,l]=H.useState(""),[u,c]=H.useState(!1),[d,f]=H.useState(null),[g,m]=H.useState(!1),y=H.useMemo(()=>Array.isArray(e?.plugins)?e.plugins:[],[e?.plugins]),_=H.useMemo(()=>{const V=["@elizaos/plugin-sql"];return n?[...V,...(Array.isArray(n)?n:Object.keys(n)).filter(W=>!V.includes(W))]:V},[n]),A=H.useMemo(()=>{const V=e?.settings;if(!V||typeof V!="object"||Array.isArray(V))return null;const W=V.voice;if(!W||typeof W!="object"||Array.isArray(W))return null;const F=W.model;if(!F||typeof F!="string")return null;const Y=wy(F);if(!Y)return null;const h=iT[Y.provider],w=y.includes(h);return{provider:Y.provider,requiredPlugin:h,isPluginEnabled:w}},[e?.settings,y]),I=H.useMemo(()=>r?r.length!==y.length?!0:!r?.every(V=>y.includes(V)):!1,[y,r]),O=H.useMemo(()=>_.filter(V=>!y.includes(V)).filter(V=>V.toLowerCase().includes(o.toLowerCase())),[_,y,o]),R=a(V=>{if(!y.includes(V)){if(t.addPlugin)t.addPlugin(V);else if(t.updateField){const W=Array.isArray(e.plugins)?[...e.plugins]:[];t.updateField("plugins",[...W,V])}}},"handlePluginAdd"),L=a(V=>{if(Object.keys(io).includes(V)){f(V),m(!0);return}D(V)},"handlePluginRemove"),D=a(V=>{const W=y.indexOf(V);if(W!==-1){if(t.removePlugin)t.removePlugin(W);else if(t.updateField){const F=[...y];F.splice(W,1),t.updateField("plugins",F)}}},"removePlugin"),P=a(()=>{d&&(D(d),f(null)),m(!1)},"handleConfirmRemoval"),Z=a(()=>{f(null),m(!1)},"handleCancelRemoval");return v.jsx("div",{className:"space-y-6",children:v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plugins"}),i?v.jsxs("p",{className:"text-destructive",children:["Failed to load plugins: ",i.message]}):v.jsxs("div",{className:"space-y-4",children:[v.jsx(E2,{open:g,onOpenChange:m,children:v.jsxs(Bp,{children:[v.jsxs(Fp,{children:[v.jsx(Hp,{children:d&&Object.keys(io).includes(d)?io[d].title:"Warning: Essential Plugin"}),v.jsx(Gp,{children:d&&Object.keys(io).includes(d)?io[d].description:"This plugin provides essential functionality for your agent."})]}),v.jsxs(Up,{children:[v.jsx(Kp,{onClick:Z,children:"Cancel"}),v.jsx(Vp,{onClick:P,children:"Confirm Removal"})]})]})}),A&&v.jsxs("div",{className:"rounded-md border p-4 mb-4 flex items-center gap-2",children:[v.jsx(Yi,{className:"h-4 w-4 text-yellow-500"}),v.jsx("p",{className:"text-xs text-white",children:(()=>{switch(A.provider){case"elevenlabs":return"ElevenLabs plugin is required for the selected voice model.";case"openai":return"OpenAI plugin is required for the selected voice model.";case"none":return'No voice plugin required for "No Voice" option.';default:return`${A.provider} plugin is required for the selected voice model.`}})()})]}),y.length>0&&v.jsxs("div",{className:"rounded-md bg-muted p-4",children:[v.jsx("h4",{className:"text-sm font-medium mb-2",children:"Currently Enabled"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[...y].sort((V,W)=>{const F=Object.keys(io).includes(V),Y=Object.keys(io).includes(W);return F===Y?0:F?-1:1}).map(V=>{const W=A?.requiredPlugin===V,F=Object.keys(io).includes(V);return v.jsxs(ct,{type:"button",variant:"ghost",size:"sm",className:`inline-flex items-center rounded-full ${F?"bg-blue-800 text-blue-700 hover:bg-blue-600":"bg-primary/10 text-primary hover:bg-primary/20"} px-2.5 py-0.5 text-xs font-medium h-auto`,title:W?"Required by voice model":F?"Essential plugin for agent functionality":"",children:[F&&v.jsx("span",{className:"w-2 h-2 rounded-full bg-white inline-block"}),v.jsx("span",{className:"text-white font-semibold",children:V}),v.jsx("span",{className:Rp("ml-1 opacity-70 hover:opacity-100",F&&"text-white"),onClick:a(()=>{if(W){s({title:"Can't Remove Plugin",description:"This plugin is required by the selected voice model.",variant:"destructive"});return}L(V)},"onClick"),children:""})]},V)})}),v.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:v.jsxs("span",{className:"inline-flex items-center",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 mr-1"}),"Essential plugins provide core functionality"]})})]}),v.jsx("div",{className:"space-y-2",children:v.jsxs(J6,{open:u,onOpenChange:c,children:[v.jsx(Lse,{asChild:!0,children:v.jsx(ct,{variant:"outline",className:"w-full justify-start",children:"Search and add plugins..."})}),v.jsxs(xm,{className:"max-w-[400px]",children:[v.jsx(_m,{children:v.jsx(Em,{children:"Add Plugins"})}),v.jsxs("div",{className:"space-y-4 py-4",children:[v.jsx("div",{className:"space-y-2",children:v.jsx(mn,{type:"search",placeholder:"Search plugins...",value:o,onChange:a(V=>l(V.target.value),"onChange")})}),v.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:O.length===0?v.jsx("p",{className:"text-sm text-muted-foreground",children:"No plugins found."}):O.map(V=>v.jsx(ct,{variant:"ghost",className:"w-full justify-start font-normal",onClick:a(()=>{R(V),l(""),c(!1)},"onClick"),children:V},V))})]})]})]})}),I&&v.jsx("p",{className:"text-xs text-yellow-500",children:"Plugins configuration has been changed"})]})]})})})}a(PD,"PluginsPanel");const zD=H.forwardRef(({className:e,children:t,...r},n)=>v.jsxs(lA,{ref:n,className:Ve("relative overflow-hidden",e),...r,children:[v.jsx(IF,{className:"h-full w-full rounded-[inherit]",children:t}),v.jsx(BD,{}),v.jsx(CF,{})]}));zD.displayName=lA.displayName;const BD=H.forwardRef(({className:e,orientation:t="vertical",...r},n)=>v.jsx(uA,{ref:n,orientation:t,className:Ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:v.jsx(MF,{className:"relative flex-1 rounded-full bg-border"})}));BD.displayName=uA.displayName;const jse=$s("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g1=H.forwardRef(({className:e,variant:t,...r},n)=>v.jsx("div",{ref:n,role:"alert",className:Ve(jse({variant:t}),e),...r}));g1.displayName="Alert";const Pse=H.forwardRef(({className:e,...t},r)=>v.jsx("h5",{ref:r,className:Ve("mb-1 font-medium leading-none tracking-tight",e),...t}));Pse.displayName="AlertTitle";const b1=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,className:Ve("text-sm [&_p]:leading-relaxed",e),...t}));b1.displayName="AlertDescription";const t3=H.forwardRef(({characterValue:e,onChange:t},r)=>{const[n,i]=H.useState([]),[s,o]=H.useState(""),[l,u]=H.useState(""),[c,d]=H.useState(!1),[f,g]=H.useState(null),[m,y]=H.useState(""),[_,A]=H.useState(!1),[I,O]=H.useState([]),[R,L]=H.useState(new Set),[D,P]=H.useState({}),[Z,V]=H.useState(!0),[W,F]=H.useState(!1),[Y,h]=H.useState(""),w=H.useRef(null),b=H.useRef(""),x=H.useRef(null),E=H.useRef(""),T=H.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:N,isLoading:k}=OD(T);H.useEffect(()=>{a(async()=>{try{V(!0);const me=await Lr().system.getEnvironment();P(me||{})}catch(ie){console.error("Failed to fetch global environment variables:",ie),P({})}finally{V(!1)}},"fetchGlobalEnvs")()},[]);const p=H.useCallback(()=>{const te={};return n.forEach(({name:ie,value:me})=>{te[ie]=me}),I.forEach(ie=>{te[ie]=null}),te},[n,I]),S=H.useCallback(()=>{const te=p(),me=(k?n.filter(xe=>xe.isRequired):N).filter(xe=>{const Oe=typeof xe=="object"&&"name"in xe?xe.name:xe,de=te[Oe];return!(de&&de.trim()!==""||D[Oe]&&D[Oe].trim()!=="")}).map(xe=>typeof xe=="object"&&"name"in xe?xe.name:xe);return{isValid:me.length===0,missingSecrets:me}},[p,N,k,n,D]);H.useImperativeHandle(r,()=>({getSecrets:p,validateSecrets:S}),[p,S]);const C=a(te=>{L(ie=>{const me=new Set(ie);return me.has(te)?me.delete(te):me.add(te),me})},"toggleSecretVisibility"),M=H.useCallback(()=>{const te=[];te.push("# Environment Variables"),te.push("");const ie=n.filter(xe=>xe.isRequired),me=n.filter(xe=>!xe.isRequired&&xe.value&&xe.value.trim()!=="");return ie.length>0&&(te.push("# Required Secrets"),ie.forEach(xe=>{xe.plugin&&te.push(`# Required by ${xe.plugin}`),xe.description&&te.push(`# ${xe.description}`),te.push(`${xe.name}=${xe.value||""}`),te.push("")})),me.length>0&&(te.push("# Optional Variables"),me.forEach(xe=>{te.push(`${xe.name}=${xe.value}`)})),te.join(`
`)},[n]),U=H.useCallback(te=>{const ie=te.split(`
`),me={};for(const xe of ie){const Oe=xe.trim();if(!Oe||Oe.startsWith("#"))continue;const[de,...Q]=Oe.split("="),ne=Q.join("=").trim().replace(/^['"]|['"]$/g,"");de&&de.trim()&&(me[de.trim()]=ne)}return me},[]),B=a(()=>{const te=U(Y),ie=n.map(me=>{if(te.hasOwnProperty(me.name)){const xe=te[me.name].startsWith("process.env.")?"":te[me.name];return{...me,value:xe,isModified:me.value!==xe}}return me.isRequired?{...me,value:"",isModified:me.value!==""}:null}).filter(Boolean);Object.entries(te).forEach(([me,xe])=>{if(!ie.some(de=>de.name===me)){const de=xe.startsWith("process.env.")?"":xe,Q=N.find(ne=>ne.name===me);ie.push({name:me,value:de,isNew:!0,isModified:!1,isDeleted:!1,isRequired:Q?.required||!1,description:Q?.description,example:Q?.example,plugin:Q?.plugin})}}),ie.sort((me,xe)=>me.isRequired&&!xe.isRequired?-1:!me.isRequired&&xe.isRequired?1:me.name.localeCompare(xe.name)),i(ie),F(!1)},"handleRawEditorSave"),G=a(()=>{h(M()),F(!0)},"openRawEditor"),J=a(()=>{navigator.clipboard.writeText(Y)},"copyEnvContent");H.useEffect(()=>{if(!(k||Z)&&(e.id!==w.current||!w.current||n.length===0)){const te=Jae(),ie=e?.settings?.secrets||{},me=typeof ie=="object"&&!Array.isArray(ie)&&ie!==null?ese(ie,te):{},xe=Object.entries(me).map(([ne,q])=>{const $=String(q),re=$.startsWith("process.env.")?"":$;return{name:ne,value:re,isNew:!1,isModified:!1,isDeleted:!1,isRequired:!1,description:void 0,example:void 0,plugin:void 0}}),Oe=new Map(xe.map(ne=>[ne.name,ne])),de=[...xe];N.forEach(ne=>{if(!Oe.has(ne.name))de.push({name:ne.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:ne.description,example:ne.example,plugin:ne.plugin});else{const q=de.findIndex($=>$.name===ne.name);q!==-1&&(de[q]={...de[q],isRequired:!0,description:ne.description,example:ne.example,plugin:ne.plugin})}}),de.sort((ne,q)=>ne.isRequired&&!q.isRequired?-1:!ne.isRequired&&q.isRequired?1:ne.name.localeCompare(q.name)),i(de),O([]),w.current=e.id||"new-agent";const Q=N.map(ne=>ne.name).sort().join(",");E.current=Q}},[e.id,e.settings?.secrets,N,k,D,Z]),H.useEffect(()=>{if(k)return;const te=N.map(me=>me.name).sort().join(",");if(te===E.current)return;E.current=te;const ie=new Set(N.map(me=>me.name));i(me=>{const xe=me.map(de=>{const Q=ie.has(de.name),ne=N.find(q=>q.name===de.name);return de.isRequired&&!Q?(setTimeout(()=>{O(q=>q.includes(de.name)?q:[...q,de.name])},0),null):Q&&ne?{...de,isRequired:!0,description:ne.description,example:ne.example,plugin:ne.plugin}:{...de,isRequired:Q,description:Q?de.description:void 0,example:Q?de.example:void 0,plugin:Q?de.plugin:void 0}}).filter(Boolean),Oe=new Set(xe.map(de=>de.name));return N.forEach(de=>{Oe.has(de.name)||xe.push({name:de.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:de.description,example:de.example,plugin:de.plugin})}),xe.sort((de,Q)=>de.isRequired&&!Q.isRequired?-1:!de.isRequired&&Q.isRequired?1:de.name.localeCompare(Q.name)),xe})},[N,k,D]),H.useEffect(()=>{const te=new Set(N.map(ie=>ie.name));i(ie=>ie.filter(xe=>{const Oe=te.has(xe.name)||!xe.isRequired&&xe.value&&xe.value.trim()!=="";return!Oe&&xe.isRequired&&O(de=>de.includes(xe.name)?de:[...de,xe.name]),Oe}))},[N]),H.useEffect(()=>{if(!t)return;const te=setTimeout(()=>{const ie=p(),me=new Set(n.map(Q=>Q.name)),xe=e?.settings?.secrets||{};Object.keys(xe).forEach(Q=>{!me.has(Q)&&!I.includes(Q)&&(ie[Q]=null)});const Oe=Object.keys(ie).sort().reduce((Q,ne)=>(Q[ne]=ie[ne],Q),{}),de=JSON.stringify(Oe);de!==b.current&&(b.current=de,t(ie))},100);return()=>clearTimeout(te)},[n,I,t,e?.settings?.secrets,p]);const ue=H.useCallback(te=>{const ie=new FileReader;ie.onload=me=>{const Oe=(me.target?.result).split(`
`),de={};for(const Q of Oe){const ne=Q.trim();if(!ne||ne.startsWith("#"))continue;const[q,...$]=ne.split("="),re=$.join("=").trim().replace(/^['"]|['"]$/g,"");q&&(de[q.trim()]=re)}i(Q=>{const ne=new Map(Q.map(({name:$,value:re,...ae})=>[$,{value:re,...ae}]));for(const[$,re]of Object.entries(de)){const ae=re.startsWith("process.env.")?"":re,Be=ne.get($);if(Be)ne.set($,{...Be,value:ae,isModified:!0});else{const Ie=N.find(Ke=>Ke.name===$);ne.set($,{value:ae,isNew:!0,isModified:!1,isRequired:Ie?.required||!1,description:Ie?.description,example:Ie?.example,plugin:Ie?.plugin})}}const q=Array.from(ne.entries()).map(([$,re])=>({name:$,...re}));return q.sort(($,re)=>$.isRequired&&!re.isRequired?-1:!$.isRequired&&re.isRequired?1:$.name.localeCompare(re.name)),q}),I.length>0&&O(Q=>Q.filter(ne=>!Object.keys(de).includes(ne)))},ie.readAsText(te)},[N,I]);H.useEffect(()=>{const te=x.current;if(!te)return;const ie=a(de=>{de.preventDefault(),de.stopPropagation()},"preventDefaults"),me=a(()=>{A(!0)},"highlight"),xe=a(()=>{A(!1)},"unhighlight"),Oe=a(de=>{ie(de),xe();const Q=de.dataTransfer?.files?.[0];Q&&Q.name.endsWith(".env")&&ue(Q)},"handleDrop");return["dragenter","dragover"].forEach(de=>te.addEventListener(de,me)),["dragleave","drop"].forEach(de=>te.addEventListener(de,xe)),["dragenter","dragover","dragleave","drop"].forEach(de=>te.addEventListener(de,ie)),te.addEventListener("drop",Oe),()=>{["dragenter","dragover","dragleave","drop"].forEach(de=>te.removeEventListener(de,ie)),["dragenter","dragover"].forEach(de=>te.removeEventListener(de,me)),["dragleave","drop"].forEach(de=>te.removeEventListener(de,xe)),te.removeEventListener("drop",Oe)}},[ue]);const se=a(()=>{if(s&&l){const te=n.some(me=>me.name===s),ie=l.startsWith("process.env.")?"":l;if(te)i(n.map(me=>me.name===s?{...me,value:ie,isModified:!0}:me)),o(""),u("");else{I.includes(s)&&O(I.filter(de=>de!==s));const me=N.find(de=>de.name===s),xe={name:s,value:ie,isNew:!0,isRequired:me?.required||!1,description:me?.description,example:me?.example,plugin:me?.plugin},Oe=[...n,xe];Oe.sort((de,Q)=>de.isRequired&&!Q.isRequired?-1:!de.isRequired&&Q.isRequired?1:de.name.localeCompare(Q.name)),i(Oe),o(""),u("")}}},"addEnv"),oe=a(te=>{f!==null&&f!==te&&g(null),g(te),y(n[te].value),L(ie=>new Set(ie).add(te))},"startEditing"),Pe=a(te=>{const ie=[...n],me=m.startsWith("process.env.")?"":m;ie[te].value!==me&&(ie[te].value=me,ie[te].isModified=!0),i(ie),g(null),y(""),L(xe=>{const Oe=new Set(xe);return Oe.delete(te),Oe})},"saveEdit"),Ee=a(()=>{const te=f;g(null),y(""),te!==null&&L(ie=>{const me=new Set(ie);return me.delete(te),me})},"cancelEdit"),be=a(te=>{const ie=n[te].name;O([...I,ie]),i(n.filter((me,xe)=>xe!==te)),g(null)},"removeEnv"),Ce=N.filter(te=>{const ie=n.find(Oe=>Oe.name===te.name),me=ie&&ie.value&&ie.value.trim()!=="",xe=D[te.name]&&D[te.name].trim()!=="";return!me&&!xe}),X=H.useCallback(te=>D[te]&&D[te].trim()!=="",[D]),ce="scrollbar-visible";return v.jsxs("div",{className:"w-full h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Variables"}),v.jsxs(ca,{variant:"secondary",className:"text-xs",children:[n.filter(te=>te.value&&te.value.trim()!=="").length," Service Variables"]})]}),v.jsxs(ct,{type:"button",variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-2",children:[v.jsx(al,{className:"w-4 h-4"}),"Raw Editor"]})]}),v.jsx(zD,{className:"flex-1",children:v.jsxs("div",{className:"p-4 space-y-4",children:[(k||Z)&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(bd,{className:"h-4 w-48"}),v.jsx(bd,{className:"h-4 w-64"})]}),!k&&!Z&&Ce.length>0&&v.jsxs(g1,{children:[v.jsx(Yi,{className:"h-4 w-4"}),v.jsxs(b1,{children:[v.jsx("strong",{children:"Missing required secrets:"}),v.jsx("ul",{className:"mt-2 space-y-1",children:Ce.map(te=>v.jsxs("li",{className:"text-sm",children:[" ",v.jsx("code",{className:"font-mono",children:te.name}),te.plugin&&v.jsxs("span",{className:"text-muted-foreground ml-1",children:["(required by ",te.plugin,")"]})]},te.name))})]})]}),!k&&!Z&&N.some(te=>X(te.name)&&!n.find(ie=>ie.name===te.name)?.value)&&v.jsxs(g1,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:[v.jsx(ug,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),v.jsxs(b1,{className:"text-blue-800 dark:text-blue-200",children:[v.jsx("strong",{children:"Global environment variables detected:"}),v.jsx("p",{className:"text-sm mt-1",children:"Some required secrets are automatically using values from your global environment settings. To override any of these for this specific agent, simply enter a new value in the field."})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"hidden md:grid md:grid-cols-[minmax(200px,1fr)_2fr_auto] gap-2 items-end",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{htmlFor:"new-secret-name",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),v.jsx(mn,{id:"new-secret-name",placeholder:"VARIABLE_NAME",value:s,onChange:a(te=>o(te.target.value),"onChange"),className:"font-mono text-sm",onKeyDown:a(te=>{te.key==="Enter"&&(te.preventDefault(),se())},"onKeyDown")})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{htmlFor:"new-secret-value",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`rounded border ${ce}`,children:v.jsx(mn,{id:"new-secret-value",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:a(te=>u(te.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:a(te=>{te.key==="Enter"&&(te.preventDefault(),se())},"onKeyDown")})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:a(()=>d(!c),"onClick"),children:c?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})})]})]}),v.jsx(ct,{type:"button",onClick:se,size:"sm",children:"Add"})]}),v.jsxs("div",{className:"md:hidden space-y-3",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{htmlFor:"new-secret-name-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),v.jsx(mn,{id:"new-secret-name-mobile",placeholder:"VARIABLE_NAME",value:s,onChange:a(te=>o(te.target.value),"onChange"),className:"font-mono text-sm w-full",onKeyDown:a(te=>{te.key==="Enter"&&(te.preventDefault(),document.getElementById("new-secret-value-mobile")?.focus())},"onKeyDown")})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{htmlFor:"new-secret-value-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`rounded border ${ce}`,children:v.jsx(mn,{id:"new-secret-value-mobile",type:c?"text":"password",placeholder:"Enter value...",value:l,onChange:a(te=>u(te.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:a(te=>{te.key==="Enter"&&(te.preventDefault(),se())},"onKeyDown")})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:a(()=>d(!c),"onClick"),children:c?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})})]})]}),v.jsx(ct,{type:"button",onClick:se,size:"sm",className:"w-full",children:"Add Variable"})]})]}),n.length>0&&v.jsxs(cu,{children:[v.jsxs("div",{className:"hidden md:block border rounded-lg overflow-hidden relative",children:[v.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:v.jsxs("div",{className:"grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 text-xs font-medium text-muted-foreground uppercase",children:[v.jsx("div",{children:"Name"}),v.jsx("div",{children:"Value"}),v.jsx("div",{className:"text-center",children:"Actions"})]})}),v.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.map((te,ie)=>v.jsxs("div",{className:`grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 items-center px-4 py-3 border-b last:border-b-0 hover:bg-muted/10 transition-colors ${te.isRequired&&(!te.value||te.value.trim()==="")&&!X(te.name)?"bg-red-500/5":""}`,children:[v.jsxs("div",{className:"pr-2",children:[v.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[v.jsx("code",{className:"font-mono text-sm font-medium break-words cursor-default",children:te.name}),te.isRequired&&v.jsx(ca,{variant:"outline",className:"text-xs shrink-0",children:"Required"}),X(te.name)&&v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs(ca,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[v.jsx(ug,{className:"w-3 h-3"}),"Global"]})}),v.jsx(on,{children:v.jsx("p",{children:te.value?"Overriding global value":"Value pulled from global environment. Add new value to override."})})]})]}),te.description&&v.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:te.description}),te.plugin&&v.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Required by: ",te.plugin]})]}),v.jsx("div",{className:"min-w-0",children:f===ie?v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"relative flex-1",children:v.jsx("div",{className:`rounded border ${ce}`,children:v.jsx(mn,{value:m,onChange:a(me=>y(me.target.value),"onChange"),className:"font-mono text-sm border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(ie)?"text":"password",placeholder:X(te.name)&&!te.value?"Using global (enter to override)":te.example||"Enter value...",autoFocus:!0,onKeyDown:a(me=>{me.key==="Enter"?(me.preventDefault(),Pe(ie)):me.key==="Escape"&&Ee()},"onKeyDown")})})}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>C(ie),"onClick"),className:"h-8 w-8 p-0",children:R.has(ie)?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>Pe(ie),"onClick"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:v.jsx(Fs,{className:"w-4 h-4"})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:Ee,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:v.jsx(vi,{className:"w-4 h-4"})})]})]}):v.jsxs("div",{className:"flex items-center gap-2 group",children:[v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${ce}`,children:R.has(ie)?v.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:te.value||v.jsx("span",{className:"text-muted-foreground italic",children:X(te.name)?"Using global value":te.example?`e.g. ${te.example}`:"Not set"})}):te.value?v.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):v.jsx("span",{className:"text-muted-foreground italic text-sm block",children:X(te.name)?"Using global value":"Not set"})})}),X(te.name)&&v.jsx(on,{className:"max-w-xs",children:v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),v.jsx("p",{className:"text-sm",children:te.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>C(ie),"onClick"),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:R.has(ie)?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})})]})}),v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>oe(ie),"onClick"),disabled:f!==null&&f!==ie,className:"h-8 w-8 p-0",children:v.jsx(Nw,{className:"w-4 h-4"})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>be(ie),"onClick"),disabled:f!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:v.jsx(pl,{className:"w-4 h-4"})})]})]},`${te.name}-${ie}`))})]}),v.jsx("div",{className:"md:hidden space-y-3",children:n.map((te,ie)=>v.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${te.isRequired&&(!te.value||te.value.trim()==="")?"border-red-500/50 bg-red-500/5":""}`,children:[v.jsx("div",{className:"space-y-1",children:v.jsxs("div",{className:"flex items-start justify-between gap-2",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx("code",{className:"font-mono text-sm font-medium break-all",children:te.name}),te.isRequired&&v.jsx(ca,{variant:"outline",className:"text-xs",children:"Required"}),X(te.name)&&v.jsxs(ca,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[v.jsx(ug,{className:"w-3 h-3"}),"Global"]})]}),te.description&&v.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:te.description}),te.plugin&&v.jsxs("div",{className:"text-xs text-muted-foreground",children:["Required by: ",te.plugin]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>oe(ie),"onClick"),disabled:f!==null&&f!==ie,className:"h-8 w-8 p-0",children:v.jsx(Nw,{className:"w-4 h-4"})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>be(ie),"onClick"),disabled:f!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:v.jsx(pl,{className:"w-4 h-4"})})]})]})}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),f===ie?v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`rounded border ${ce}`,children:v.jsx(mn,{value:m,onChange:a(me=>y(me.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:R.has(ie)?"text":"password",placeholder:X(te.name)&&!te.value?"Using global (enter to override)":te.example||"Enter value...",autoFocus:!0,onKeyDown:a(me=>{me.key==="Enter"?(me.preventDefault(),Pe(ie)):me.key==="Escape"&&Ee()},"onKeyDown")})}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>C(ie),"onClick"),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:R.has(ie)?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(ct,{type:"button",variant:"outline",size:"sm",onClick:a(()=>Pe(ie),"onClick"),className:"flex-1",children:[v.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Save"]}),v.jsxs(ct,{type:"button",variant:"ghost",size:"sm",onClick:Ee,className:"flex-1",children:[v.jsx(vi,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${ce}`,children:R.has(ie)?v.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:te.value||v.jsx("span",{className:"text-muted-foreground italic",children:X(te.name)?"Using global value":te.example?`e.g. ${te.example}`:"Not set"})}):te.value?v.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):v.jsx("span",{className:"text-muted-foreground italic text-sm block",children:X(te.name)?"Using global value":"Not set"})})}),X(te.name)&&v.jsx(on,{className:"max-w-xs",children:v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),v.jsx("p",{className:"text-sm",children:te.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),v.jsx(ct,{type:"button",variant:"ghost",size:"sm",onClick:a(()=>C(ie),"onClick"),className:"h-8 w-8 p-0",children:R.has(ie)?v.jsx(As,{className:"w-4 h-4"}):v.jsx(za,{className:"w-4 h-4"})})]})]})]},`${te.name}-${ie}-mobile`))})]}),v.jsxs("div",{ref:x,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${_?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onClick:a(()=>document.getElementById("env-upload")?.click(),"onClick"),children:[v.jsx(OF,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),v.jsxs("div",{className:"text-sm text-muted-foreground",children:["Drag & drop ",v.jsx("code",{className:"bg-muted px-1 rounded",children:".env"})," file or click to select"]}),v.jsx("input",{id:"env-upload",type:"file",accept:"*/*",className:"hidden",onChange:a(te=>{const ie=te.target.files?.[0];ie&&ie.name.endsWith(".env")&&ue(ie)},"onChange")})]})]})}),v.jsx(J6,{open:W,onOpenChange:F,children:v.jsxs(xm,{className:"max-w-3xl h-[600px] flex flex-col",children:[v.jsxs(_m,{children:[v.jsx(Em,{children:"Raw Editor"}),v.jsx(e3,{children:"Add, edit, or delete your project variables in .env format"})]}),v.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:v.jsx(of,{value:Y,onChange:a(te=>h(te.target.value),"onChange"),placeholder:`# Environment Variables

# Required Secrets
API_KEY=your_api_key_here

# Optional Variables
DEBUG=true

# Comments are supported`,className:"w-full h-full resize-none border-0 font-mono text-sm focus-visible:ring-0"})}),v.jsxs(q6,{children:[v.jsxs(ct,{variant:"outline",size:"sm",onClick:J,children:[v.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Copy ENV"]}),v.jsx(ct,{variant:"outline",size:"sm",onClick:a(()=>F(!1),"onClick"),children:"Cancel"}),v.jsx(ct,{size:"sm",onClick:B,children:"Update Variables"})]})]})})]})});t3.displayName="SecretPanel";function zse(e){const[t,r]=H.useState(e),n=H.useCallback((f,g)=>{r(m=>{if(!f.includes("."))return{...m,[f]:g};const y=f.split("."),_=y[0],A=y.slice(1).join(".");if(!isNaN(Number(y[1]))){const R=y[0],L=Number(y[1]),D=m[R],P=Array.isArray(D)?[...D]:[];if(y.length===2)P[L]=g;else{const Z=y.slice(2).join(".");P[L]=i(P[L],Z,g)}return{...m,[R]:P}}if(f.startsWith("settings.secrets.")){const R=f.split(".")[2],L=m.settings||{},P={...L.secrets||{},[R]:g};return{...m,settings:{...L,secrets:P}}}return{...m,[_]:i(m[_],A,g)}})},[]),i=a((f,g,m)=>{if(!g.includes("."))return{...f,[g]:m};const[y,..._]=g.split("."),A=_.join(".");return{...f,[y]:i(f[y]||{},A,m)}},"updateNestedObject"),s=H.useCallback((f,g)=>{r(m=>{const y=f.split(".");if(y.length===1){const O=y[0],R=Array.isArray(m[O])?[...m[O]]:[];return{...m,[O]:[...R,g]}}const _=f,A=l(m,_),I=Array.isArray(A)?[...A]:[];return u(m,_,[...I,g])})},[]),o=H.useCallback((f,g)=>{r(m=>{const y=f.split(".");if(y.length===1){const O=y[0],R=Array.isArray(m[O])?[...m[O]]:[];return g<0||g>=R.length?m:{...m,[O]:[...R.slice(0,g),...R.slice(g+1)]}}const _=f,A=l(m,_);if(!Array.isArray(A)||g<0||g>=A.length)return m;const I=[...A.slice(0,g),...A.slice(g+1)];return u(m,_,I)})},[]),l=a((f,g)=>{const m=g.split(".");let y=f;for(const _ of m){if(y==null)return;y=y[_]}return y},"getNestedValue"),u=a((f,g,m)=>{const y=g.split(".");if(y.length===1)return{...f,[y[0]]:m};const[_,...A]=y,I=f[_]||{};return{...f,[_]:u(I,A.join("."),m)}},"setNestedValue"),c=H.useCallback(()=>{r(e)},[e]),d=H.useCallback(f=>{r(g=>{const{secrets:m,avatar:y,..._}=f,A={...g.settings,..._};if(typeof y=="string"&&(A.avatar=y),m){const O={};Object.entries(m).forEach(([R,L])=>{L!==null&&(O[R]=L)}),A.secrets=O}return{...g,settings:A}})},[]);return{value:t,updateField:n,addArrayItem:s,removeArrayItem:o,reset:c,updateSettings:d}}a(zse,"usePartialUpdate");function FD(e){const t=H.useRef(JSON.parse(JSON.stringify(e))),{value:r,updateField:n,addArrayItem:i,removeArrayItem:s,reset:o,updateSettings:l}=zse(e),u=H.useCallback(F=>{Object.entries(F).forEach(([Y,h])=>{Y==="settings"&&h?l({...r.settings,...h}):Y==="style"&&h?n("style",{all:h.all||[],chat:h.chat||[],post:h.post||[]}):Array.isArray(h)?n(Y,[...h]):n(Y,h)})},[r.settings,n,l]),c=H.useCallback((F,Y)=>{n(`settings.${F}`,Y)},[n]),d=H.useCallback(F=>{l(F)},[l]),f=H.useCallback(F=>{n("system",F)},[n]),g=H.useCallback((F,Y)=>{const h=r.settings||{},w=h.secrets||{},x={...typeof w=="object"&&w!==null&&!Array.isArray(w)?w:{},[F]:Y};l({...h,secrets:x})},[r.settings,l]),m=H.useCallback(F=>{const Y=r.settings||{},h=Y.secrets||{},b={...typeof h=="object"&&h!==null&&!Array.isArray(h)?h:{}};delete b[F];const x={...Y,secrets:b};l(x)},[r.settings,l]),y=H.useCallback((F,Y)=>{i(F,Y)},[i]),_=H.useCallback((F,Y)=>{s(F,Y)},[s]),A=H.useCallback((F,Y,h)=>{n(`${F}.${Y}`,h)},[n]),I=H.useCallback((F,Y)=>{i(`style.${F}`,Y)},[i]),O=H.useCallback((F,Y)=>{s(`style.${F}`,Y)},[s]),R=H.useCallback((F,Y,h)=>{n(`style.${F}.${Y}`,h)},[n]),L=H.useCallback((F,Y)=>{n(`style.${F}`,Y)},[n]),D=H.useCallback(F=>{i("plugins",F)},[i]),P=H.useCallback(F=>{s("plugins",F)},[s]),Z=H.useCallback(F=>{n("plugins",F)},[n]),V=H.useCallback(F=>{c("avatar",F)},[c]),W=H.useCallback(()=>{const F={},Y=r,h=t.current;["name","username","system"].forEach(E=>{Y[E]!==h[E]&&(F[E]=Y[E])}),Y.enabled!==h.enabled&&(F.enabled=Y.enabled),JSON.stringify(Y.bio)!==JSON.stringify(h.bio)&&(F.bio=Y.bio),JSON.stringify(Y.topics)!==JSON.stringify(h.topics)&&(F.topics=Y.topics),JSON.stringify(Y.adjectives)!==JSON.stringify(h.adjectives)&&(F.adjectives=Y.adjectives),JSON.stringify(Y.plugins)!==JSON.stringify(h.plugins)&&(F.plugins=Y.plugins),JSON.stringify(Y.style)!==JSON.stringify(h.style)&&(F.style=Y.style);const b=h.settings||{},x=Y.settings||{};if(JSON.stringify(x)!==JSON.stringify(b)){if(F.settings={},x.avatar!==b.avatar&&(F.settings.avatar=x.avatar),JSON.stringify(x.voice)!==JSON.stringify(b.voice)&&(F.settings.voice=x.voice),JSON.stringify(x.secrets)!==JSON.stringify(b.secrets)){const E=b.secrets||{},T=x.secrets||{},N=typeof E=="object"&&E!==null&&!Array.isArray(E)?E:{},k=typeof T=="object"&&T!==null&&!Array.isArray(T)?T:{},p={};let S=!1;Object.entries(k).forEach(([C,M])=>{N[C]!==M&&(p[C]=M,S=!0)}),Object.keys(N).forEach(C=>{k[C]===void 0&&(p[C]=null,S=!0)}),S&&(F.settings||(F.settings={}),F.settings.secrets=p)}Object.keys(F.settings).length===0&&delete F.settings}return F},[r]);return{agent:r,updateField:n,reset:o,updateSettings:l,setSettings:d,getChangedFields:W,updateSetting:c,updateSystemPrompt:f,updateSecret:g,removeSecret:m,addContentItem:y,removeContentItem:_,updateContentItem:A,addStyleRule:I,removeStyleRule:O,updateStyleRule:R,setStyleArray:L,addPlugin:D,removePlugin:P,setPlugins:Z,updateAvatar:V,importAgent:u}}a(FD,"useAgentUpdate");const Bse=lT("none")?.template||{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}};function UD(){const e=Gn(),{toast:t}=Gr(),r=On(),[n]=H.useState({...Bse}),i=H.useRef(null),[s,o]=H.useState({}),l=FD(n),u=a(d=>({...d,bio:d.bio??[],messageExamples:d.messageExamples??[],postExamples:d.postExamples??[],topics:d.topics??[],adjectives:d.adjectives??[],plugins:d.plugins??[],style:{all:d.style?.all??[],chat:d.style?.chat??[],post:d.style?.post??[]},settings:d.settings??{secrets:{}}}),"ensureRequiredFields"),c=a(async d=>{try{const f=u(d),g=s||i.current?.getSecrets()||{};g&&Object.keys(g).length>0&&(f.settings={...f.settings,secrets:g}),await Lr().agents.createAgent({agent:f}),r.invalidateQueries({queryKey:["characters"]}),t({title:"Success",description:"Agent created successfully!"}),r.invalidateQueries({queryKey:["agents"]}),e("/")}catch(f){t({title:"Error",description:f instanceof Error?f.message:"Failed to create agent",variant:"destructive"})}},"handleSubmit");return v.jsx("div",{className:"h-full w-full",children:v.jsx(LD,{characterValue:l.agent,setCharacterValue:l,title:"Create Agent",description:"Configure your AI agent's behavior and capabilities.",onSubmit:c,onReset:a(()=>{l.reset(),o({})},"onReset"),onDelete:a(()=>{e("/")},"onDelete"),onTemplateChange:a(()=>{o({})},"onTemplateChange"),isAgent:!0,secretPanelRef:i,customComponents:[{name:"Plugins",component:v.jsx(PD,{characterValue:l.agent,setCharacterValue:l})},{name:"Secret",component:v.jsx(t3,{characterValue:l.agent,ref:i,onChange:a(d=>{o(d)},"onChange")})},{name:"Avatar",component:v.jsx(DD,{characterValue:l.agent,setCharacterValue:l})}]})})}a(UD,"AgentCreator");function Rl({open:e,onOpenChange:t,title:r,description:n,confirmText:i="Confirm",cancelText:s="Cancel",onConfirm:o,variant:l="destructive"}){const u=a(()=>{o(),t(!1)},"handleConfirm");return v.jsx(E2,{open:e,onOpenChange:t,children:v.jsxs(Bp,{children:[v.jsxs(Fp,{children:[v.jsx(Hp,{children:r}),v.jsx(Gp,{children:n})]}),v.jsxs(Up,{children:[v.jsx(Kp,{children:s}),v.jsx(Vp,{onClick:u,className:l==="destructive"?"bg-destructive text-destructive-foreground":void 0,children:i})]})]})})}a(Rl,"ConfirmationDialog");var Go={},ra={},yb={},c8;function Fse(){return c8||(c8=1,Object.defineProperty(yb,"__esModule",{value:!0})),yb}a(Fse,"requireHelper");var Vo={},wb={},_h={},d8;function Af(){if(d8)return _h;d8=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.typeGuard=e;function e(t,r){return r}return a(e,"typeGuard$1"),_h}a(Af,"requireTypeGuard");var f8;function HD(){return f8||(f8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CtxLike=void 0;var t=Af();(function(r){function n(i){return(0,t.typeGuard)(i,!0)&&i instanceof Object&&typeof i.done=="function"&&typeof i.abort=="function"&&typeof i.zz__addHandler=="function"&&typeof i.zz__removeHandler=="function"}a(n,"match"),r.match=n})(e.CtxLike||(e.CtxLike={}))})(wb)),wb}a(HD,"requireCtxLike");var h8;function Use(){return h8||(h8=1,(function(e){var t=Vo&&Vo.__createBinding||(Object.create?(function(n,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:a(function(){return i[s]},"get")}),Object.defineProperty(n,o,l)}):(function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]})),r=Vo&&Vo.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(HD(),e)})(Vo)),Vo}a(Use,"requireInterfaces");var hc={},p8;function Hse(){if(p8)return hc;p8=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.__hack=void 0;return hc.__hack="NOT TYPE ONLY",hc}a(Hse,"requireLib_dom");var xb={},m8;function GD(){return m8||(m8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventTargetLike=void 0;var t=Af();(function(r){var n;(function(u){function c(d){return(0,t.typeGuard)(d,!0)&&d instanceof Object&&typeof d.subscribe=="function"}a(c,"match"),u.match=c})(n=r.RxJSSubject||(r.RxJSSubject={}));var i;(function(u){function c(d){return(0,t.typeGuard)(d,!0)&&d instanceof Object&&typeof d.addListener=="function"&&typeof d.removeListener=="function"}a(c,"match"),u.match=c})(i=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var s;(function(u){function c(d){return(0,t.typeGuard)(d,!0)&&d instanceof Object&&typeof d.on=="function"&&typeof d.off=="function"}a(c,"match"),u.match=c})(s=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var o;(function(u){function c(d){return(0,t.typeGuard)(d,!0)&&d instanceof Object&&typeof d.addEventListener=="function"&&typeof d.removeEventListener=="function"}a(c,"match"),u.match=c})(o=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function l(u){try{return o.match(u)||i.match(u)||s.match(u)||n.match(u)}catch{return!1}}a(l,"canBe"),r.canBe=l})(e.EventTargetLike||(e.EventTargetLike={}))})(xb)),xb}a(GD,"requireEventTargetLike");var ps={},g8;function VD(){if(g8)return ps;g8=1;var e=ps&&ps.__extends||(function(){var n=a(function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},n(i,s)},"extendStatics");return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function o(){this.constructor=i}a(o,"__"),i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}})();Object.defineProperty(ps,"__esModule",{value:!0}),ps.DetachedEvtError=ps.TimeoutEvtError=void 0;var t=(function(n){e(i,n);function i(s){var o=this.constructor,l=n.call(this,"Evt timeout after ".concat(s,"ms"))||this;return l.timeout=s,Object.setPrototypeOf(l,o.prototype),l}return a(i,"TimeoutEvtError"),i})(Error);ps.TimeoutEvtError=t;var r=(function(n){e(i,n);function i(){var s=this.constructor,o=n.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(o,s.prototype),o}return a(i,"DetachedEvtError"),i})(Error);return ps.DetachedEvtError=r,ps}a(VD,"requireEvtError");var _b={},b8;function Gse(){return b8||(b8=1,Object.defineProperty(_b,"__esModule",{value:!0})),_b}a(Gse,"requireOperator");var v8;function Vse(){return v8||(v8=1,(function(e){var t=ra&&ra.__createBinding||(Object.create?(function(s,o,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(o,l);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:a(function(){return o[l]},"get")}),Object.defineProperty(s,u,c)}):(function(s,o,l,u){u===void 0&&(u=l),s[u]=o[l]})),r=ra&&ra.__setModuleDefault||(Object.create?(function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}):function(s,o){s.default=o}),n=ra&&ra.__exportStar||function(s,o){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&t(o,s,l)},i=ra&&ra.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&t(o,s,l);return r(o,s),o};Object.defineProperty(e,"__esModule",{value:!0}),e.dom=void 0,n(Fse(),e),n(Use(),e),e.dom=i(Hse()),n(GD(),e),n(VD(),e),n(Gse(),e)})(ra)),ra}a(Vse,"requireTypes");var Eb={},ms={},Sb={},y8;function KD(){return y8||(y8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertOperatorToStatelessF=void 0;function t(i){var s=i[1];return function(o,l){var u=i[0](o,s,l);return u!==null&&l(function(){return s=u[0]}),u}}a(t,"encapsulateOpState");function r(i){return function(s,o){var l=i(s,o);return l instanceof Object&&!("input"in l)&&l.length===1?l:l?[s]:null}}a(r,"statelessOpToStatelessF");function n(i){return typeof i!="function"?t(i):r(i)}a(n,"convertOperatorToStatelessF"),e.convertOperatorToStatelessF=n})(Sb)),Sb}a(KD,"requireConvertOperatorToStatelessFLambda");var pc={},w8;function Sm(){if(w8)return pc;w8=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.id=void 0;var e=a(function(t){return t},"id$1");return pc.id=e,pc}a(Sm,"requireId");var x8;function km(){if(x8)return ms;x8=1;var e=ms&&ms.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var c=u.call(o),d,f=[],g;try{for(;(l===void 0||l-- >0)&&!(d=c.next()).done;)f.push(d.value)}catch(m){g={error:m}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(g)throw g.error}}return f},t=ms&&ms.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var c=0,d=l.length,f;c<d;c++)(f||!(c in l))&&(f||(f=Array.prototype.slice.call(l,0,c)),f[c]=l[c]);return o.concat(f||Array.prototype.slice.call(l))};Object.defineProperty(ms,"__esModule",{value:!0}),ms.compose=void 0;var r=KD(),n=Sm();function i(o,l){var u=(0,r.convertOperatorToStatelessF)(o),c=(0,r.convertOperatorToStatelessF)(l);return(0,n.id)(function(d,f){var g=u(d,f);if(!g)return null;var m=e(g,1),y=m[0],_=c(y,f);return _&&[_[0]]})}a(i,"f_o_g");function s(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];if(o.length===1){var u=e(o,1),c=u[0];return(0,r.convertOperatorToStatelessF)(c)}var d=e(o),f=d[0],g=d[1],m=d.slice(2),y=i(f,g);return m.length===0?y:s.apply(void 0,t([y],e(m),!1))}return a(s,"compose$1"),ms.compose=s,ms}a(km,"requireCompose");var _8;function Kse(){return _8||(_8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compose=void 0;var t=km();Object.defineProperty(e,"compose",{enumerable:!0,get:a(function(){return t.compose},"get")})})(Eb)),Eb}a(Kse,"requireUtil");var Ko={},Zo={},Yo={},E8;function r3(){if(E8)return Yo;E8=1,Yo.__esModule=!0,Yo.Polyfill=Yo.LightMapImpl=void 0;var e=(function(){function t(){this.record=[]}return a(t,"LightMapImpl"),t.prototype.has=function(r){return this.record.map(function(n){var i=n[0];return i}).indexOf(r)>=0},t.prototype.get=function(r){var n=this.record.filter(function(i){var s=i[0];return s===r})[0];if(n!==void 0)return n[1]},t.prototype.set=function(r,n){var i=this.record.filter(function(s){var o=s[0];return o===r})[0];return i===void 0?this.record.push([r,n]):i[1]=n,this},t.prototype.delete=function(r){var n=this.record.map(function(i){var s=i[0];return s}).indexOf(r);return n<0?!1:(this.record.splice(n,1),!0)},t.prototype.keys=function(){return this.record.map(function(r){var n=r[0];return n})},t})();return Yo.LightMapImpl=e,Yo.Polyfill=typeof Map<"u"?Map:e,Yo}a(r3,"require_Map");var S8;function Zse(){if(S8)return Zo;S8=1,Zo.__esModule=!0,Zo.Polyfill=Zo.LightSetImpl=void 0;var e=r3(),t=(function(){function r(n){if(this.map=new e.Polyfill,n!==void 0)for(var i=0,s=n;i<s.length;i++){var o=s[i];this.add(o)}}return a(r,"LightSetImpl"),r.prototype.has=function(n){return this.map.has(n)},r.prototype.add=function(n){return this.map.set(n,!0),this},r.prototype.values=function(){return this.map.keys()},r.prototype.delete=function(n){return this.map.delete(n)},r})();return Zo.LightSetImpl=t,Zo.Polyfill=typeof Set<"u"?Set:t,Zo}a(Zse,"require_Set");var mc={},k8;function Am(){if(k8)return mc;k8=1,mc.__esModule=!0,mc.Polyfill=void 0;var e=r3();return mc.Polyfill=typeof WeakMap<"u"?WeakMap:e.Polyfill,mc}a(Am,"require_WeakMap");var gs={},A8;function n3(){if(A8)return gs;A8=1;var e=gs&&gs.__extends||(function(){var o=a(function(l,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},o(l,u)},"extendStatics");return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(l,u);function c(){this.constructor=l}a(c,"__"),l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})();Object.defineProperty(gs,"__esModule",{value:!0}),gs.AssertionError=void 0,gs.assert=n,gs.is=s;var t=(function(o){e(l,o);function l(u){var c=this.constructor,d=o.call(this,"Wrong assertion encountered"+(u?': "'.concat(u,'"'):""))||this;return d.originalMessage=u,Object.setPrototypeOf(d,c.prototype),d}return a(l,"AssertionError"),l})(Error);gs.AssertionError=t;var r=void 0;function n(o,l){if(arguments.length===0&&(o=!0),r!==void 0){r=void 0;return}if(!o){var u=new t(typeof l=="function"?l():l);throw Error.captureStackTrace&&Error.captureStackTrace(u,n),u}}a(n,"assert");var i="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function s(o){var l={};if(r!==void 0)throw r=void 0,new Error(i);return r=l,Promise.resolve().then(function(){if(r===l)throw new Error(i)}),null}return a(s,"is"),gs}a(n3,"requireAssert");var gc={},Xl={},T8;function Tf(){if(T8)return Xl;T8=1;var e=Xl&&Xl.__assign||function(){return e=Object.assign||function(r){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},e.apply(this,arguments)};Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.overwriteReadonlyProp=t;function t(r,n,i){try{r[n]=i}catch{}if(r[n]===i)return i;var s=void 0,o=Object.getOwnPropertyDescriptor(r,n)||{enumerable:!0,configurable:!0};if(o.get)throw new Error("Probably a wrong idea to overwrite ".concat(String(n)," getter"));try{Object.defineProperty(r,n,e(e({},o),{value:i}))}catch(l){s=l}if(r[n]!==i)throw s||new Error("Can't assign");return i}return a(t,"overwriteReadonlyProp$1"),Xl}a(Tf,"requireOverwriteReadonlyProp");var bc={},N8;function Na(){return N8||(N8=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.importProxy=void 0,bc.importProxy={}),bc}a(Na,"requireImportProxy");var I8;function i3(){if(I8)return gc;I8=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.LazyEvt=void 0;var e=Tf(),t=Na(),r=(function(){function n(){this.initialPostCount=0}return a(n,"LazyEvt"),Object.defineProperty(n.prototype,"evt",{get:a(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.Evt,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,s){return this.__evt===void 0?++this.initialPostCount:this.__evt[s?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return gc.LazyEvt=r,gc}a(i3,"requireLazyEvt");var C8;function Yse(){return C8||(C8=1,(function(e){var t=Ko&&Ko.__assign||function(){return t=Object.assign||function(d){for(var f,g=1,m=arguments.length;g<m;g++){f=arguments[g];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},t.apply(this,arguments)},r=Ko&&Ko.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,g=f&&d[f],m=0;if(g)return g.call(d);if(d&&typeof d.length=="number")return{next:a(function(){return d&&m>=d.length&&(d=void 0),{value:d&&d[m++],done:!d}},"next")};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Ctx=void 0;var n=Zse(),i=Am(),s=n3(),o=i3(),l=Na(),u=Tf(),c=(function(){function d(){this.lazyEvtAttach=new o.LazyEvt,this.lazyEvtDetach=new o.LazyEvt,this.lazyEvtDoneOrAborted=new o.LazyEvt,this.handlers=new n.Polyfill,this.evtByHandler=new i.Polyfill}return a(d,"CtxImpl"),Object.defineProperty(d.prototype,"evtDoneOrAborted",{get:a(function(){return this.lazyEvtDoneOrAborted.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"evtAttach",{get:a(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"evtDetach",{get:a(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"completionStatus",{get:a(function(){return this.__completionStatus},"get"),enumerable:!1,configurable:!0}),d.prototype.onDoneOrAborted=function(f){this.__completionStatus=f,this.lazyEvtDoneOrAborted.post(f)},d.prototype.waitFor=function(f){var g=this;return this.evtDoneOrAborted.waitFor(f).then(function(m){if(m.type==="ABORTED")throw m.error;return m.result},function(m){throw g.abort(m),m})},d.prototype.abort=function(f){return this.__done(f)},d.prototype.done=function(f){return this.__done(void 0,f)},d.prototype.__done=function(f,g){var m,y,_=[];try{for(var A=r(this.handlers.values()),I=A.next();!I.done;I=A.next()){var O=I.value,R=this.evtByHandler.get(O),L=O.detach();L&&_.push({handler:O,evt:R})}}catch(D){m={error:D}}finally{try{I&&!I.done&&(y=A.return)&&y.call(A)}finally{if(m)throw m.error}}return this.onDoneOrAborted(t(t({},f?{type:"ABORTED",error:f}:{type:"DONE",result:g}),{handlers:_})),_},d.prototype.getHandlers=function(){var f=this;return Array.from(this.handlers.values()).map(function(g){return{handler:g,evt:f.evtByHandler.get(g)}})},d.prototype.zz__addHandler=function(f,g){if((0,s.assert)(f.ctx===this),(0,s.assert)((0,s.is)(f)),this.completionStatus!==void 0){f.detach();return}this.handlers.add(f),this.evtByHandler.set(f,g),this.lazyEvtAttach.post({handler:f,evt:g})},d.prototype.zz__removeHandler=function(f){(0,s.assert)(f.ctx===this),(0,s.assert)((0,s.is)(f)),this.lazyEvtDetach.post({handler:f,evt:this.evtByHandler.get(f)}),this.handlers.delete(f)},d})();e.Ctx=c;try{(0,u.overwriteReadonlyProp)(e.Ctx,"name","Ctx")}catch{}l.importProxy.Ctx=e.Ctx})(Ko)),Ko}a(Yse,"requireCtx");var un={},kb={},M8;function $se(){return M8||(M8=1,kb.__esModule=!0,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:a(function(e){if(this==null)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if(typeof e!="function")throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var s=t[i];if(e.call(n,s,i,t))return s;i++}},"value"),configurable:!0,writable:!0})),kb}a($se,"requireArray_prototype_find");var vc={},O8;function Qse(){if(O8)return vc;O8=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.create=void 0;var e=Na();function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?new e.importProxy.Evt:new e.importProxy.StatefulEvt(r[0])}return a(t,"create"),vc.create=t,vc}a(Qse,"requireEvt_create");var yc={},R8;function Wse(){if(R8)return yc;R8=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.getCtxFactory=void 0;var e=Am(),t=Na();function r(){var n=new e.Polyfill;function i(s){var o=n.get(s);return o===void 0&&(o=new t.importProxy.Ctx,n.set(s,o)),o}return a(i,"getCtx"),i}return a(r,"getCtxFactory"),yc.getCtxFactory=r,yc}a(Wse,"requireEvt_getCtx");var wc={},L8;function Xse(){if(L8)return wc;L8=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.factorize=void 0;function e(t){return t}return a(e,"factorize"),wc.factorize=e,wc}a(Xse,"requireEvt_factorize");var $o={},D8;function ZD(){if(D8)return $o;D8=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.merge=$o.mergeImpl=void 0;var e=Na();function t(n,i){var s=new e.importProxy.Evt,o=a(function(l){return s.post(l)},"callback");return i.forEach(function(l){n===void 0?l.attach(o):l.attach(n,o)}),s}a(t,"mergeImpl"),$o.mergeImpl=t;function r(n,i){return"length"in n?t(void 0,n):t(n,i)}return a(r,"merge"),$o.merge=r,$o}a(ZD,"requireEvt_merge");var Si={},j8;function Jse(){if(j8)return Si;j8=1;var e=Si&&Si.__createBinding||(Object.create?(function(y,_,A,I){I===void 0&&(I=A);var O=Object.getOwnPropertyDescriptor(_,A);(!O||("get"in O?!_.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:a(function(){return _[A]},"get")}),Object.defineProperty(y,I,O)}):(function(y,_,A,I){I===void 0&&(I=A),y[I]=_[A]})),t=Si&&Si.__setModuleDefault||(Object.create?(function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}):function(y,_){y.default=_}),r=Si&&Si.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var A in y)A!=="default"&&Object.prototype.hasOwnProperty.call(y,A)&&e(_,y,A);return t(_,y),_},n=Si&&Si.__read||function(y,_){var A=typeof Symbol=="function"&&y[Symbol.iterator];if(!A)return y;var I=A.call(y),O,R=[],L;try{for(;(_===void 0||_-- >0)&&!(O=I.next()).done;)R.push(O.value)}catch(D){L={error:D}}finally{try{O&&!O.done&&(A=I.return)&&A.call(I)}finally{if(L)throw L.error}}return R};Object.defineProperty(Si,"__esModule",{value:!0}),Si.from=void 0;var i=Sm(),s=n3(),o=Af(),l=ZD(),u=Na(),c=r(GD()),d=c.EventTargetLike;function f(y,_,A,I){var O=a(function(W){return d.canBe(W)},"matchEventTargetLike");if(!O(_)){if("then"in _){var R=new u.importProxy.Evt,L=(function(){var W=a(function(){return y?.evtDoneOrAborted.postCount},"getEvtDonePostCount"),F=W();return function(){return F!==W()}})();return _.then(function(W){L()||R.post(W)}),R}return(0,l.mergeImpl)(y,Array.from(_).map(function(W){return f(y,W,A,I)}))}var D;if(d.HasEventTargetAddRemove.match(_))D={on:a(function(W,F,Y){return _.addEventListener(F,W,Y)},"on"),off:a(function(W,F,Y){return _.removeEventListener(F,W,Y)},"off")};else if(d.NodeStyleEventEmitter.match(_))D={on:a(function(W,F){return _.addListener(F,W)},"on"),off:a(function(W,F){return _.removeListener(F,W)},"off")};else if(d.JQueryStyleEventEmitter.match(_))D={on:a(function(W,F){return _.on(F,W)},"on"),off:a(function(W,F){return _.off(F,W)},"off")};else if(d.RxJSSubject.match(_)){var P;D={on:a(function(W){return P=_.subscribe(function(F){return W(F)})},"on"),off:a(function(){return P.unsubscribe()},"off")}}else(0,i.id)(_),(0,s.assert)(!1);var Z=new u.importProxy.Evt,V=a(function(W){return Z.post(W)},"listener");return y?.evtDoneOrAborted.attachOnce(function(){return D.off(V,A,I)}),D.on(V,A,I),Z}a(f,"fromImplForTargetEventLike");function g(y,_,A){var I=u.importProxy.Evt.create(),O=a(function(L){var D=n(L,1),P=D[0];return I.post(P)},"listener"),R=new _(O);return R.observe(A),y?.evtDoneOrAborted.attachOnce(function(){return R.disconnect()}),I}a(g,"fromImplForObserver");function m(y,_,A,I){return"evtDoneOrAborted"in y?((0,s.assert)((0,o.typeGuard)(_,!0)&&(0,o.typeGuard)(A,!0)&&(0,o.typeGuard)(I,!0)),typeof _=="function"?((0,s.assert)((0,o.typeGuard)(A,!0)&&(0,o.typeGuard)(I,!0)),g(y,_,A)):((0,s.assert)((0,o.typeGuard)(A,!0)),f(y,_,A,I))):((0,s.assert)((0,o.typeGuard)(y,!0)&&(0,o.typeGuard)(_,!0)&&(0,o.typeGuard)(A,!0)),typeof y=="function"?((0,s.assert)((0,o.typeGuard)(_,!0)&&(0,o.typeGuard)(A,!0)),g(void 0,y,_)):((0,s.assert)((0,o.typeGuard)(_,!0)),f(void 0,y,_,A)))}return a(m,"from"),Si.from=m,Si}a(Jse,"requireEvt_from");var xc={},P8;function qse(){if(P8)return xc;P8=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.asPostable=void 0;function e(t){return t}return a(e,"asPostable"),xc.asPostable=e,xc}a(qse,"requireEvt_asPostable");var bs={},z8;function eoe(){if(z8)return bs;z8=1;var e=bs&&bs.__awaiter||function(i,s,o,l){function u(c){return c instanceof o?c:new o(function(d){d(c)})}return a(u,"adopt"),new(o||(o=Promise))(function(c,d){function f(y){try{m(l.next(y))}catch(_){d(_)}}a(f,"fulfilled");function g(y){try{m(l.throw(y))}catch(_){d(_)}}a(g,"rejected");function m(y){y.done?c(y.value):u(y.value).then(f,g)}a(m,"step"),m((l=l.apply(i,s||[])).next())})},t=bs&&bs.__generator||function(i,s){var o={label:0,sent:a(function(){if(c[0]&1)throw c[1];return c[1]},"sent"),trys:[],ops:[]},l,u,c,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(y){return g([m,y])}}function g(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,u=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){o.label=m[1];break}if(m[0]===6&&o.label<c[1]){o.label=c[1],c=m;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(m);break}c[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(i,o)}catch(y){m=[6,y],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(bs,"__esModule",{value:!0}),bs.asyncPipe=void 0;var r=Na();function n(i,s){var o=this,l="state"in i?r.importProxy.Evt.create(void 0):r.importProxy.Evt.create(),u=0;return i.attach(function(c){return e(o,void 0,void 0,function(){var d,f,g;return t(this,function(m){switch(m.label){case 0:return u++,d=u,f=s(c),f!==null&&"then"in f?[4,f]:[3,2];case 1:return g=m.sent(),"state"in i&&d!==u?[2]:[3,3];case 2:g=f,m.label=3;case 3:return g?(l.post(g[0]),[2]):[2]}})})}),l}return a(n,"asyncPipe"),bs.asyncPipe=n,bs}a(eoe,"requireEvt_asyncPipe");var _c={},B8;function toe(){if(B8)return _c;B8=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.asNonPostable=void 0;function e(t){return t}return a(e,"asNonPostable"),_c.asNonPostable=e,_c}a(toe,"requireEvt_asNonPostable");var ki={},F8;function roe(){if(F8)return ki;F8=1;var e=ki&&ki.__assign||function(){return e=Object.assign||function(d){for(var f,g=1,m=arguments.length;g<m;g++){f=arguments[g];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},e.apply(this,arguments)},t=ki&&ki.__read||function(d,f){var g=typeof Symbol=="function"&&d[Symbol.iterator];if(!g)return d;var m=g.call(d),y,_=[],A;try{for(;(f===void 0||f-- >0)&&!(y=m.next()).done;)_.push(y.value)}catch(I){A={error:I}}finally{try{y&&!y.done&&(g=m.return)&&g.call(m)}finally{if(A)throw A.error}}return _},r=ki&&ki.__spreadArray||function(d,f,g){if(g||arguments.length===2)for(var m=0,y=f.length,_;m<y;m++)(_||!(m in f))&&(_||(_=Array.prototype.slice.call(f,0,m)),_[m]=f[m]);return d.concat(_||Array.prototype.slice.call(f))};Object.defineProperty(ki,"__esModule",{value:!0}),ki.parsePropsFromArgs=ki.matchAll=void 0;var n=Sm(),i=km(),s=Af();function o(){return!0}a(o,"matchAll"),ki.matchAll=o;var l=a(function(d){return d!==void 0&&(0,s.typeGuard)(d,!0)&&(typeof d=="function"||typeof d[0]=="function")},"canBeOperator"),u={op:o,ctx:void 0,timeout:void 0,callback:void 0};function c(d,f){switch(f){case"pipe":{var g=a(function(h){return h.length===0?{}:{op:h.length===1?h[0]:i.compose.apply(void 0,r([],t(h),!1))}},"getOpWrap");if(l(d[0]))return(0,n.id)(e(e({},u),g(d)));var m=t(d),y=m[0],_=m.slice(1);return(0,n.id)(e(e(e({},u),y!==void 0?{ctx:y}:{}),g(_)))}case"waitFor":return c(r(r([],t(d.filter(function(h,w){return!(w===d.length-1&&h===void 0)})),!1),[u.callback],!1),"attach*");case"attach*":{var A=d.length;switch(A){case 4:{var I=t(d,4),O=I[0],R=I[1],L=I[2],D=I[3];return(0,n.id)(e(e({},u),{op:O,ctx:R,timeout:L,callback:D}))}case 3:{var P=t(d,3),O=P[0],R=P[1],L=P[2];if(typeof R=="number"){var Z=R,V=L;return l(O)?(0,n.id)(e(e({},u),{timeout:Z,callback:V,op:O})):(0,n.id)(e(e({},u),{timeout:Z,callback:V,ctx:O}))}else return(0,n.id)(e(e({},u),{op:O,ctx:R,callback:L}))}case 2:{var W=t(d,2),O=W[0],R=W[1];if(typeof O=="number")return(0,n.id)(e(e({},u),{timeout:O,callback:R}));var V=R;return l(O)?(0,n.id)(e(e({},u),{callback:V,op:O})):(0,n.id)(e(e({},u),{callback:V,ctx:O}))}case 1:{var F=t(d,1),Y=F[0];return(0,n.id)(e(e({},u),{callback:Y}))}case 0:return(0,n.id)(e({},u))}}break}}return a(c,"parsePropsFromArgs"),ki.parsePropsFromArgs=c,ki}a(roe,"requireEvt_parsePropsFromArgs");var Ec={},U8;function noe(){if(U8)return Ec;U8=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.newCtx=void 0;var e=Na();function t(){return new e.importProxy.Ctx}return a(t,"newCtx"),Ec.newCtx=t,Ec}a(noe,"requireEvt_newCtx");var qr={},H8;function ioe(){if(H8)return qr;H8=1;var e=qr&&qr.__spreadArrays||function(){for(var R=0,L=0,D=arguments.length;L<D;L++)R+=arguments[L].length;for(var P=Array(R),Z=0,L=0;L<D;L++)for(var V=arguments[L],W=0,F=V.length;W<F;W++,Z++)P[Z]=V[W];return P};qr.__esModule=!0,qr.buildMethodCb=qr.buildCb=qr.getPrComplete=qr.isRunning=qr.cancelAllQueuedCalls=qr.getQueuedCallCount=qr.buildMethod=qr.build=qr.createGroupRef=void 0;var t=Am(),r=(function(){function R(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return a(R,"ExecQueue2"),R.prototype.cancelAllQueuedCalls=function(){var L;return this.queuedCalls.splice(0,L=this.queuedCalls.length),L},R})(),n={},i=new t.Polyfill;function s(R,L){var D=i.get(R);D||(D=new t.Polyfill,i.set(R,D));var P=D.get(L);return P||(P=new r,D.set(L,P)),P}a(s,"getOrCreateExecQueue");function o(){return new Array(0)}a(o,"createGroupRef"),qr.createGroupRef=o;function l(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return _(!0,o(),R[0]);case 2:return _(!0,R[0],R[1])}}a(l,"build"),qr.build=l;function u(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return _(!1,o(),R[0]);case 2:return _(!1,R[0],R[1])}}a(u,"buildMethod"),qr.buildMethod=u;function c(R,L){var D=y(R,L);return D?D.queuedCalls.length:0}a(c,"getQueuedCallCount"),qr.getQueuedCallCount=c;function d(R,L){var D=y(R,L);return D?D.cancelAllQueuedCalls():0}a(d,"cancelAllQueuedCalls"),qr.cancelAllQueuedCalls=d;function f(R,L){var D=y(R,L);return D?D.isRunning:!1}a(f,"isRunning"),qr.isRunning=f;function g(R,L){var D=y(R,L);return D?D.prComplete:Promise.resolve()}a(g,"getPrComplete"),qr.getPrComplete=g;var m=new t.Polyfill;function y(R,L){L===void 0&&(L=n);var D=m.get(R);if(!D)throw Error("Not a run exclusiveFunction");var P=i.get(L);if(P)return P.get(D)}a(y,"getExecQueueByFunctionAndContext");function _(R,L,D){var P,Z=a((function(){for(var V=this,W=[],F=0;F<arguments.length;F++)W[F]=arguments[F];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");P=s(this,L)}return new Promise(function(Y,h){var w;P.prComplete=new Promise(function(x){return w=a(function(){return x()},"onPrCompleteResolve")});var b=a(function(x){w(),P.isRunning=!1,P.queuedCalls.length&&P.queuedCalls.shift()(),"data"in x?Y(x.data):h(x.reason)},"onComplete");a((function x(){for(var E=this,T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];if(P.isRunning){P.queuedCalls.push(function(){return x.apply(E,T)});return}P.isRunning=!0;try{D.apply(this,T).then(function(k){return b({data:k})}).catch(function(k){return b({reason:k})})}catch(k){b({reason:k})}}),"callee").apply(V,W)})}),"runExclusiveFunction");return R&&(P=s(n,L)),m.set(Z,L),Z}a(_,"buildFnPromise");function A(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return O(!0,o(),R[0]);case 2:return O(!0,R[0],R[1])}}a(A,"buildCb"),qr.buildCb=A;function I(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];switch(R.length){case 1:return O(!1,o(),R[0]);case 2:return O(!1,R[0],R[1])}}a(I,"buildMethodCb"),qr.buildMethodCb=I;function O(R,L,D){var P,Z=a((function(){for(var V=this,W=[],F=0;F<arguments.length;F++)W[F]=arguments[F];if(!R){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");P=s(this,L)}var Y=void 0;W.length&&typeof W[W.length-1]=="function"&&(Y=W.pop());var h;P.prComplete=new Promise(function(b){return h=a(function(){return b()},"onPrCompleteResolve")});var w=a(function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];h(),P.isRunning=!1,P.queuedCalls.length&&P.queuedCalls.shift()(),Y&&Y.apply(V,b)},"onComplete");w.hasCallback=!!Y,a((function b(){for(var x=this,E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];if(P.isRunning){P.queuedCalls.push(function(){return b.apply(x,E)});return}P.isRunning=!0;try{D.apply(this,e(E,[w]))}catch(N){throw N.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",N}}),"callee").apply(this,W)}),"runExclusiveFunction");return R&&(P=s(n,L)),m.set(Z,L),Z}return a(O,"buildFnCallback"),qr}a(ioe,"requireRunExclusive");var vs={},G8;function aoe(){if(G8)return vs;G8=1;var e=vs&&vs.__extends||(function(){var i=a(function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(l[c]=u[c])},i(s,o)},"extendStatics");return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function l(){this.constructor=s}a(l,"__"),s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(vs,"__esModule",{value:!0}),vs.VoidDeferred=vs.Deferred=void 0;var t=Tf(),r=(function(){function i(){var s=this;this.isPending=!0;var o,l;this.pr=new Promise(function(u,c){o=a(function(d){(0,t.overwriteReadonlyProp)(s,"isPending",!1),u(d)},"resolve"),l=a(function(d){(0,t.overwriteReadonlyProp)(s,"isPending",!1),c(d)},"reject")}),this.resolve=o,this.reject=l}return a(i,"Deferred"),i})();vs.Deferred=r;var n=(function(i){e(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return a(s,"VoidDeferred"),s})(r);return vs.VoidDeferred=n,vs}a(aoe,"requireDeferred");var Sc={},V8;function soe(){if(V8)return Sc;V8=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.loosenType=void 0;function e(t){return t}return a(e,"loosenType"),Sc.loosenType=e,Sc}a(soe,"requireEvt_loosenType");var Qo={},K8;function ooe(){if(K8)return Qo;K8=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.safeClearTimeout=Qo.safeSetTimeout=void 0;var e=a(function(r,n){return setTimeout(r,n)},"safeSetTimeout$1");Qo.safeSetTimeout=e;var t=a(function(r){return clearTimeout(r)},"safeClearTimeout");return Qo.safeClearTimeout=t,Qo}a(ooe,"requireSafeSetTimeout");var Eh={},Z8;function loe(){if(Z8)return Eh;Z8=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.isPromiseLike=e;function e(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}return a(e,"isPromiseLike$1"),Eh}a(loe,"requireIsPromiseLike");var Y8;function YD(){return Y8||(Y8=1,(function(e){var t=un&&un.__assign||function(){return t=Object.assign||function(S){for(var C,M=1,U=arguments.length;M<U;M++){C=arguments[M];for(var B in C)Object.prototype.hasOwnProperty.call(C,B)&&(S[B]=C[B])}return S},t.apply(this,arguments)},r=un&&un.__createBinding||(Object.create?(function(S,C,M,U){U===void 0&&(U=M);var B=Object.getOwnPropertyDescriptor(C,M);(!B||("get"in B?!C.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:a(function(){return C[M]},"get")}),Object.defineProperty(S,U,B)}):(function(S,C,M,U){U===void 0&&(U=M),S[U]=C[M]})),n=un&&un.__setModuleDefault||(Object.create?(function(S,C){Object.defineProperty(S,"default",{enumerable:!0,value:C})}):function(S,C){S.default=C}),i=un&&un.__importStar||function(S){if(S&&S.__esModule)return S;var C={};if(S!=null)for(var M in S)M!=="default"&&Object.prototype.hasOwnProperty.call(S,M)&&r(C,S,M);return n(C,S),C},s=un&&un.__awaiter||function(S,C,M,U){function B(G){return G instanceof M?G:new M(function(J){J(G)})}return a(B,"adopt"),new(M||(M=Promise))(function(G,J){function ue(Pe){try{oe(U.next(Pe))}catch(Ee){J(Ee)}}a(ue,"fulfilled");function se(Pe){try{oe(U.throw(Pe))}catch(Ee){J(Ee)}}a(se,"rejected");function oe(Pe){Pe.done?G(Pe.value):B(Pe.value).then(ue,se)}a(oe,"step"),oe((U=U.apply(S,C||[])).next())})},o=un&&un.__generator||function(S,C){var M={label:0,sent:a(function(){if(G[0]&1)throw G[1];return G[1]},"sent"),trys:[],ops:[]},U,B,G,J;return J={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function ue(oe){return function(Pe){return se([oe,Pe])}}function se(oe){if(U)throw new TypeError("Generator is already executing.");for(;M;)try{if(U=1,B&&(G=oe[0]&2?B.return:oe[0]?B.throw||((G=B.return)&&G.call(B),0):B.next)&&!(G=G.call(B,oe[1])).done)return G;switch(B=0,G&&(oe=[oe[0]&2,G.value]),oe[0]){case 0:case 1:G=oe;break;case 4:return M.label++,{value:oe[1],done:!1};case 5:M.label++,B=oe[1],oe=[0];continue;case 7:oe=M.ops.pop(),M.trys.pop();continue;default:if(G=M.trys,!(G=G.length>0&&G[G.length-1])&&(oe[0]===6||oe[0]===2)){M=0;continue}if(oe[0]===3&&(!G||oe[1]>G[0]&&oe[1]<G[3])){M.label=oe[1];break}if(oe[0]===6&&M.label<G[1]){M.label=G[1],G=oe;break}if(G&&M.label<G[2]){M.label=G[2],M.ops.push(oe);break}G[2]&&M.ops.pop(),M.trys.pop();continue}oe=C.call(S,M)}catch(Pe){oe=[6,Pe],B=0}finally{U=G=0}if(oe[0]&5)throw oe[1];return{value:oe[0]?oe[1]:void 0,done:!0}}},l=un&&un.__read||function(S,C){var M=typeof Symbol=="function"&&S[Symbol.iterator];if(!M)return S;var U=M.call(S),B,G=[],J;try{for(;(C===void 0||C-- >0)&&!(B=U.next()).done;)G.push(B.value)}catch(ue){J={error:ue}}finally{try{B&&!B.done&&(M=U.return)&&M.call(U)}finally{if(J)throw J.error}}return G},u=un&&un.__spreadArray||function(S,C,M){if(M||arguments.length===2)for(var U=0,B=C.length,G;U<B;U++)(G||!(U in C))&&(G||(G=Array.prototype.slice.call(C,0,U)),G[U]=C[U]);return S.concat(G||Array.prototype.slice.call(C))},c=un&&un.__values||function(S){var C=typeof Symbol=="function"&&Symbol.iterator,M=C&&S[C],U=0;if(M)return M.call(S);if(S&&typeof S.length=="number")return{next:a(function(){return S&&U>=S.length&&(S=void 0),{value:S&&S[U++],done:!S}},"next")};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Evt=e.onAddHandlerByEvt=void 0,$se();var d=r3(),f=Am(),g=Na(),m=Qse(),y=Wse(),_=Xse(),A=ZD(),I=Jse(),O=qse(),R=eoe(),L=toe(),D=roe(),P=noe(),Z=i3(),V=i(ioe()),W=Tf(),F=Af(),Y=aoe(),h=soe(),w=ooe(),b=loe(),x=VD(),E=i(HD()),T=KD(),N=a(function(S){return S()},"runSideEffect"),k=E.CtxLike,p=(function(){function S(){this.lazyEvtAttach=new Z.LazyEvt,this.lazyEvtDetach=new Z.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new d.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return a(S,"EvtImpl"),S.setDefaultMaxHandlers=function(C){this.__defaultMaxHandlers=isFinite(C)?C:0},S.prototype.toStateful=function(C,M){var U=k.match(C),B=U?void 0:C,G=M||(U?C:void 0),J=new g.importProxy.StatefulEvt(B),ue=a(function(se){return J.post(se)},"callback");return G?this.attach(G,ue):this.attach(ue),J},Object.defineProperty(S.prototype,"evtAttach",{get:a(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"evtDetach",{get:a(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),S.prototype.setMaxHandlers=function(C){return this.__maxHandlers=isFinite(C)?C:0,this},S.prototype.enableTrace=function(C){var M=C.id,U=C.formatter,B=C.log;this.traceId=M,this.traceFormatter=U||(function(G){try{return JSON.stringify(G,null,2)}catch{return"".concat(G)}}),this.log=B===void 0?(function(){for(var G=[],J=0;J<arguments.length;J++)G[J]=arguments[J];return console.log.apply(console,u([],l(G),!1))}):B===!1?void 0:B},S.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(S.prototype,"asyncHandlerChronologyMark",{get:a(function(){var C,M,U,B;return(M=(B=(C=(U=this)["~internal"])!==null&&C!==void 0?C:U["~internal"]={}).asyncHandlerChronologyMark)!==null&&M!==void 0?M:B.asyncHandlerChronologyMark=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"asyncHandlerChronologyExceptionRange",{get:a(function(){var C,M,U,B;return(M=(B=(C=(U=this)["~internal"])!==null&&C!==void 0?C:U["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&M!==void 0?M:B.asyncHandlerChronologyExceptionRange=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"invocableOpByOp",{get:a(function(){var C,M,U,B;return(M=(B=(C=(U=this)["~internal"])!==null&&C!==void 0?C:U["~internal"]={}).invocableOpByOp)!==null&&M!==void 0?M:B.invocableOpByOp=new f.Polyfill},"get"),enumerable:!1,configurable:!0}),S.prototype.getInvocableOp=function(C){var M=this.invocableOpByOp.get(C);if(M===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return M},S.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},S.prototype.detachHandler=function(C,M,U){var B=this.handlers.indexOf(C);return B<0?!1:((0,F.typeGuard)(C,!!C.ctx)&&C.ctx.zz__removeHandler(C),this.handlers.splice(B,1),C.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(C),M[0]!==void 0&&((0,w.safeClearTimeout)(M[0]),U(new x.DetachedEvtError)),this.lazyEvtDetach.post(C),!0)},S.prototype.triggerHandler=function(C,M,U,B){var G=C.callback,J=C.once;M[0]!==void 0&&((0,w.safeClearTimeout)(M[0]),M[0]=void 0),J&&C.detach();var ue=l(B,1),se=ue[0],oe=G?.call(this,se);return U?.(se),(0,b.isPromiseLike)(oe)?oe:void 0},S.prototype.addHandler=function(C,M){var U=this,B;this.invocableOpByOp.set(C.op,(0,T.convertOperatorToStatelessF)(C.op));var G=new Y.Deferred,J=[void 0],ue=t(t(t({},C),M),{detach:a(function(){return U.detachHandler(ue,J,G.reject)},"detach"),promise:G.pr});typeof ue.timeout=="number"&&(J[0]=(0,w.safeSetTimeout)(function(){J[0]=void 0,ue.detach(),G.reject(new x.TimeoutEvtError(ue.timeout))},ue.timeout));var se=a(function(Pe){return U.triggerHandler(ue,J,G.isPending?G.resolve:void 0,Pe)},"handlerTrigger");if(this.handlerTriggers.set(ue,se),ue.async&&this.asyncHandlerChronologyMark.set(ue,this.getChronologyMark()),ue.prepend){var oe=void 0;for(oe=0;oe<this.handlers.length&&this.handlers[oe].extract;oe++);this.handlers.splice(oe,0,ue)}else this.handlers.push(ue);return ue.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,F.typeGuard)(ue,!!ue.ctx)&&ue.ctx.zz__addHandler(ue,this),(B=e.onAddHandlerByEvt.get(this))===null||B===void 0||B(ue,se),this.handlerTriggers.has(ue)&&this.lazyEvtAttach.post(ue),ue},S.prototype.checkForPotentialMemoryLeak=function(){var C=this.__maxHandlers!==void 0?this.__maxHandlers:S.__defaultMaxHandlers;if(!(C===0||this.handlers.length%(C+1)!==0)){var M=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(S.__defaultMaxHandlers,`.
`)].join(""),U=new d.Polyfill;this.getHandlers().map(function(B){var G=B.ctx,J=B.async,ue=B.once,se=B.prepend,oe=B.extract,Pe=B.op,Ee=B.callback;return t(t({hasCtx:!!G,once:ue,prepend:se,extract:oe,isWaitFor:J},Pe===D.matchAll?{}:{op:Pe.toString()}),Ee?{callback:Ee.toString()}:{})}).map(function(B){return`{
`+Object.keys(B).map(function(G){return"  ".concat(G,": ").concat(B[G])}).join(`,
`)+`
}`}).forEach(function(B){return U.set(B,(U.has(B)?U.get(B):0)+1)}),M+=`
`+Array.from(U.keys()).map(function(B){return"".concat(U.get(B)," handler").concat(U.get(B)===1?"":"s",` like:
`).concat(B)}).join(`
`)+`
`,this.traceId===null&&(M+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(M)}catch{}}},S.prototype.isHandledByOp=function(C,M){var U=!1,B;try{B=this.getInvocableOp(C)}catch{return!1}var G=B(M,function(){return U=!0});return G!==null||U},S.prototype.trace=function(C){var M=this,U;if(this.traceId!==null){var B="(".concat(this.traceId,") "),G=!!this.handlers.find(function(ue){var se=ue.extract,oe=ue.op;return se&&M.isHandledByOp(oe,C)});if(G)B+="extracted ";else{var J=this.handlers.filter(function(ue){var se=ue.extract,oe=ue.op;return!se&&M.isHandledByOp(oe,C)}).length;B+="".concat(J," handler").concat(J>1?"s":"",", ")}(U=this.log)===null||U===void 0||U.call(this,B+this.traceFormatter(C))}},S.prototype.postSync=function(C){var M,U,B=[],G=a(function(ce){return[ce,Promise.all(B).then(function(){})]},"getReturnValue");try{for(var J=c(u([],l(this.handlers),!1)),ue=J.next();!ue.done;ue=J.next()){var se=ue.value,oe=se.async,Pe=se.op,Ee=se.extract;if(!oe){var be=this.handlerTriggers.get(se),Ce=this.getInvocableOp(Pe)(C,N);if(Ce!==null&&be){var X=be(Ce);if(X!==void 0&&B.push(X),Ee)return G(!0)}}}}catch(ce){M={error:ce}}finally{try{ue&&!ue.done&&(U=J.return)&&U.call(J)}finally{if(M)throw M.error}}return G(!1)},S.prototype.postAsyncFactory=function(){var C=this;return V.buildMethodCb(function(M,U,B){var G,J;if(C.asyncHandlerCount===0){B();return}var ue=[],se;Promise.resolve().then(function(){return se=C.getChronologyMark()});var oe=a(function(X){if(!X.async)return"continue";var ce=C.getInvocableOp(X.op)(M,N);if(ce===null)return"continue";var te=C.handlerTriggers.get(X);if(!te)return"continue";var ie=(function(){var me=C.asyncHandlerChronologyMark.get(X);if(U>me)return!0;var xe=C.asyncHandlerChronologyExceptionRange.get(X);return xe!==void 0&&xe.lowerMark<U&&U<xe.upperMark&&me>xe.upperMark})();if(!ie)return"continue";ue.push(new Promise(function(me){return X.promise.then(function(){return me()}).catch(function(){return me()})})),te(ce)},"_loop_1");try{for(var Pe=c(u([],l(C.handlers),!1)),Ee=Pe.next();!Ee.done;Ee=Pe.next()){var be=Ee.value;oe(be)}}catch(X){G={error:X}}finally{try{Ee&&!Ee.done&&(J=Pe.return)&&J.call(Pe)}finally{if(G)throw G.error}}if(ue.length===0){B();return}var Ce=u([],l(C.handlers),!1);Promise.all(ue).then(function(){var X,ce;try{for(var te=c(C.handlers),ie=te.next();!ie.done;ie=te.next()){var me=ie.value;me.async&&(Ce.indexOf(me)>=0||C.asyncHandlerChronologyExceptionRange.set(me,{lowerMark:U,upperMark:se}))}}catch(xe){X={error:xe}}finally{try{ie&&!ie.done&&(ce=te.return)&&ce.call(te)}finally{if(X)throw X.error}}B()})})},S.prototype.isHandled=function(C){var M=this;return!!this.getHandlers().find(function(U){var B=U.op;return M.isHandledByOp(B,C)})},S.prototype.getHandlers=function(){return u([],l(this.handlers),!1)},S.prototype.detach=function(C){var M,U,B=[];try{for(var G=c(this.getHandlers()),J=G.next();!J.done;J=G.next()){var ue=J.value;if(!(C!==void 0&&ue.ctx!==C)){var se=ue.detach();se&&B.push(ue)}}}catch(oe){M={error:oe}}finally{try{J&&!J.done&&(U=G.return)&&U.call(G)}finally{if(M)throw M.error}}return B},S.prototype.pipe=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];var U=new S;return this.addHandler(t(t({},(0,D.parsePropsFromArgs)(C,"pipe")),{callback:a(function(B){return U.post(B)},"callback")}),S.propsFormMethodNames.attach),U},S.prototype.waitFor=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.addHandler((0,D.parsePropsFromArgs)(C,"waitFor"),S.propsFormMethodNames.waitFor).promise},S.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},S.prototype.iter=function(){for(var C,M,U=[],B=0;B<arguments.length;B++)U[B]=arguments[B];var G=(0,D.parsePropsFromArgs)(U,"waitFor"),J=(M=G.ctx)!==null&&M!==void 0?M:(0,P.newCtx)(),ue=this;return C={ctx:J},C[Symbol.asyncIterator]=function(){var se=J.evtDoneOrAborted.postCount,oe=(function(){var Ce=G.timeout;if(Ce!==void 0){var X=a(function(){var te=new x.TimeoutEvtError(Ce);J.abort(te)},"setTimeoutCallback"),ce=setTimeout(X,Ce);return{timeout:Ce,setTimeoutCallback:X,timer:ce}}})(),Pe=ue.pipe(J,G.op).pipe(function(Ce,X){return oe!==void 0&&X(function(){clearTimeout(oe.timer),oe.timer=setTimeout(oe.setTimeoutCallback,oe.timeout)}),[Ce]}),Ee=[];if(Pe.attach(function(Ce){return Ee.push([Ce])}),oe!==void 0){var be=oe.timer;J.evtDoneOrAborted.attachOnce(function(Ce){return Ce.type==="DONE"},function(){return clearTimeout(be)})}return{next:a(function(){return s(this,void 0,void 0,function(){var Ce,X,ce,te;return o(this,function(ie){switch(ie.label){case 0:return Ce=Ee.shift(),Ce!==void 0?[3,2]:(X=new Y.Deferred,se<J.evtDoneOrAborted.postCount?[2,{done:!0}]:(ce=(0,P.newCtx)(),J.evtDoneOrAborted.attachOnce(ce,function(){return X.resolve(void 0)}),Pe.attachOnceExtract(ce,function(me){ce.done(),X.resolve([me])}),[4,X.pr]));case 1:if(Ce=ie.sent(),Ce===void 0)return[2,{done:!0}];ie.label=2;case 2:return te={done:!1,value:Ce[0]},[2,te]}})})},"next"),return:a(function(){return ue.detach(J),{done:!0}},"return"),throw:a(function(Ce){return ue.detach(J),Promise.reject(Ce)},"throw")}},C},S.prototype.$attach=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attach.apply(this,u([],l(C),!1))},S.prototype.attach=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attach")},S.prototype.$attachOnce=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attachOnce.apply(this,u([],l(C),!1))},S.prototype.attachOnce=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attachOnce")},S.prototype.$attachExtract=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attachExtract.apply(this,u([],l(C),!1))},S.prototype.attachExtract=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attachExtract")},S.prototype.$attachPrepend=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attachPrepend.apply(this,u([],l(C),!1))},S.prototype.attachPrepend=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attachPrepend")},S.prototype.$attachOncePrepend=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attachOncePrepend.apply(this,u([],l(C),!1))},S.prototype.attachOncePrepend=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attachOncePrepend")},S.prototype.$attachOnceExtract=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.attachOnceExtract.apply(this,u([],l(C),!1))},S.prototype.attachOnceExtract=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return this.__attachX(C,"attachOnceExtract")},S.prototype.__attachX=function(C,M){var U=(0,D.parsePropsFromArgs)(C,"attach*"),B=this.addHandler(U,S.propsFormMethodNames[M]);return U.timeout===void 0?this:B.promise},S.prototype.postAsyncOnceHandled=function(C){var M=this;if(this.isHandled(C))return this.post(C);var U=new Y.Deferred;return this.evtAttach.attachOnce(function(B){var G=B.op;return M.isHandledByOp(G,C)},function(){return Promise.resolve().then(function(){return U.resolve(M.post(C))})}),U.pr},S.prototype.postOrPostAndWait=function(C,M){var U=this;this.trace(C),(0,W.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var B=this.getChronologyMark(),G=l(this.postSync(C),2),J=G[0],ue=G[1],se=M?function(){return ue}:function(){return U.postCount};if(J)return se();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return se();this.postAsync=this.postAsyncFactory()}return this.postAsync(C,B),se()},S.prototype.post=function(C){return this.postOrPostAndWait(C,!1)},S.prototype.postAndWait=function(C){return this.postOrPostAndWait(C,!0)},S.create=m.create,S.newCtx=P.newCtx,S.merge=A.merge,S.from=I.from,S.getCtx=(0,y.getCtxFactory)(),S.loosenType=h.loosenType,S.factorize=_.factorize,S.asPostable=O.asPostable,S.asyncPipe=R.asyncPipe,S.asNonPostable=L.asNonPostable,S.__defaultMaxHandlers=25,S.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},S})();e.onAddHandlerByEvt=new f.Polyfill,e.Evt=p;try{(0,W.overwriteReadonlyProp)(e.Evt,"name","Evt")}catch{}g.importProxy.Evt=e.Evt})(un)),un}a(YD,"requireEvt");var ys={},Ab={},$8;function uoe(){return $8||($8=1,Ab.__esModule=!0,Object.is||(Object.is=function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t})),Ab}a(uoe,"requireObject_is");var kc={},Q8;function coe(){if(Q8)return kc;Q8=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.LazyStatefulEvt=void 0;var e=Tf(),t=Na(),r=(function(){function n(i){this.initialPostCount=0,this.initialState=i}return a(n,"LazyStatefulEvt"),Object.defineProperty(n.prototype,"evt",{get:a(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),n.prototype.__post=function(i,s){return this.__evt===void 0?(this.initialState=i,++this.initialPostCount):this.__evt[s?"postAndWait":"post"](i)},n.prototype.post=function(i){return this.__post(i,!1)},n.prototype.postAndWait=function(i){return this.__post(i,!0)},n})();return kc.LazyStatefulEvt=r,kc}a(coe,"requireLazyStatefulEvt");var W8;function doe(){return W8||(W8=1,(function(e){var t=ys&&ys.__extends||(function(){var g=a(function(m,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(_[I]=A[I])},g(m,y)},"extendStatics");return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(m,y);function _(){this.constructor=m}a(_,"__"),m.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}})(),r=ys&&ys.__read||function(g,m){var y=typeof Symbol=="function"&&g[Symbol.iterator];if(!y)return g;var _=y.call(g),A,I=[],O;try{for(;(m===void 0||m-- >0)&&!(A=_.next()).done;)I.push(A.value)}catch(R){O={error:R}}finally{try{A&&!A.done&&(y=_.return)&&y.call(_)}finally{if(O)throw O.error}}return I},n=ys&&ys.__spreadArray||function(g,m,y){if(y||arguments.length===2)for(var _=0,A=m.length,I;_<A;_++)(I||!(_ in m))&&(I||(I=Array.prototype.slice.call(m,0,_)),I[_]=m[_]);return g.concat(I||Array.prototype.slice.call(m))};Object.defineProperty(e,"__esModule",{value:!0}),e.StatefulEvt=void 0,uoe();var i=i3(),s=coe(),o=Na(),l=YD(),u=n3(),c=Sm(),d=a(function(g){return g()},"runSideEffect"),f=(function(g){t(m,g);function m(y){var _=g.call(this)||this;return _.lazyEvtDiff=new i.LazyEvt,_.lazyEvtChangeDiff=new i.LazyEvt,_.__state=y,_.lazyEvtChange=new s.LazyStatefulEvt(_.__state),l.onAddHandlerByEvt.set(_,function(A,I){if(!A.extract){var O=(0,c.id)(void 0),R=_.getInvocableOp(A.op)(_.__state,_.setOpResultForPipe!==void 0?(function(L){return O=L}):d);_.setOpResultForPipe!==void 0&&(_.setOpResultForPipe(R),O!==void 0&&O()),R&&I(R)}}),_}return a(m,"StatefulEvtImpl"),Object.defineProperty(m.prototype,"state",{get:a(function(){return this.__state},"get"),set:a(function(y){this.state!==y&&this.post(y)},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtDiff",{get:a(function(){return this.lazyEvtDiff.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChange",{get:a(function(){return this.lazyEvtChange.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"evtChangeDiff",{get:a(function(){return this.lazyEvtChangeDiff.evt},"get"),enumerable:!1,configurable:!0}),m.prototype.post=function(y){return this.__post(y,!1,!1)},m.prototype.postForceChange=function(y){return this.__post(y?y[0]:this.state,!0,!1)},m.prototype.postAndWait=function(y){return this.__post(y,!1,!0)},m.prototype.__post=function(y,_,A){var I=this.state;this.__state=y;var O={prevState:I,newState:this.state},R=A?"postAndWait":"post",L=[],D=this.lazyEvtDiff[R](O);if(A&&L.push(D),_||!Object.is(I,this.state)){var P=this.lazyEvtChange[R](this.state),Z=this.lazyEvtChangeDiff[R](O);A&&L.push(P,Z)}var V=g.prototype[R].call(this,y);return A?(L.push(V),Promise.all(L).then(function(){})):V},m.prototype.pipe=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];var A=void 0;this.setOpResultForPipe=function(O){return A=O};var I=g.prototype.pipe.apply(this,n([],r(y),!1));if((0,u.assert)(A!==void 0),this.setOpResultForPipe=void 0,!A)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return I.toStateful(A[0])},m.prototype.toStateless=function(y){var _=l.onAddHandlerByEvt.get(this);l.onAddHandlerByEvt.delete(this);var A=y?g.prototype.pipe.call(this,y):g.prototype.pipe.call(this);return l.onAddHandlerByEvt.set(this,_),A},m})(l.Evt);e.StatefulEvt=f,o.importProxy.StatefulEvt=e.StatefulEvt})(ys)),ys}a(doe,"requireStatefulEvt");var Tb={},X8;function foe(){return X8||(X8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.to=void 0;var t=new Map,r=a(function(n){var i;return(i=t.get(n))!==null&&i!==void 0?i:(t.set(n,function(s){return s[0]!==n?null:[s[1]]}),(0,e.to)(n))},"to");e.to=r})(Tb)),Tb}a(foe,"requireTo");var Ac={},J8;function hoe(){if(J8)return Ac;J8=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.throttleTime=void 0;var e=km(),t=a(function(r){return(0,e.compose)([function(n,i){var s=i.lastClick,o=Date.now();return o-s<r?null:[{data:n,lastClick:o}]},{lastClick:0,data:null}],function(n){var i=n.data;return[i]})},"throttleTime$1");return Ac.throttleTime=t,Ac}a(hoe,"requireThrottleTime");var Tc={},q8;function poe(){if(q8)return Tc;q8=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.nonNullable=void 0;var e=a(function(n){return n!=null},"isNonNullable"),t=a(function(n){return e(n)?[n]:null},"nonNullableImpl"),r=a(function(){return t},"nonNullable$1");return Tc.nonNullable=r,Tc}a(poe,"requireNonNullable");var ws={},e7;function moe(){if(e7)return ws;e7=1;var e=ws&&ws.__read||function(i,s){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var l=o.call(i),u,c=[],d;try{for(;(s===void 0||s-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){d={error:f}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(d)throw d.error}}return c},t=ws&&ws.__spreadArray||function(i,s,o){if(o||arguments.length===2)for(var l=0,u=s.length,c;l<u;l++)(c||!(l in s))&&(c||(c=Array.prototype.slice.call(s,0,l)),c[l]=s[l]);return i.concat(c||Array.prototype.slice.call(s))};Object.defineProperty(ws,"__esModule",{value:!0}),ws.distinct=void 0;var r=km(),n=a(function(i,s){var o;return(0,r.compose)(function(l){var u,c;return[{data:l,selectedKey:(u=i?.(l))!==null&&u!==void 0?u:l,currentFlushCount:(c=s?.evtDoneOrAborted.postCount)!==null&&c!==void 0?c:0}]},[function(l,u){var c=l.data,d=l.selectedKey,f=l.currentFlushCount,g=u.alreadyPostedData,m=u.previousFlushCount;return[{boxedData:f!==m||!g.has(d)?[c]:null,alreadyPostedData:new Set(t(t([],e(f!==m?[]:Array.from(g)),!1),[d],!1)),previousFlushCount:f}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(o=s?.evtDoneOrAborted.postCount)!==null&&o!==void 0?o:0}],function(l){var u=l.boxedData;return u})},"distinct$1");return ws.distinct=n,ws}a(moe,"requireDistinct");var t7;function goe(){return t7||(t7=1,(function(e){var t=Go&&Go.__createBinding||(Object.create?(function(d,f,g,m){m===void 0&&(m=g);var y=Object.getOwnPropertyDescriptor(f,g);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:a(function(){return f[g]},"get")}),Object.defineProperty(d,m,y)}):(function(d,f,g,m){m===void 0&&(m=g),d[m]=f[g]})),r=Go&&Go.__exportStar||function(d,f){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&t(f,d,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=e.nonNullable=e.throttleTime=e.to=e.StatefulEvt=e.Evt=e.Ctx=void 0,r(Vse(),e),r(Kse(),e);var n=Yse();Object.defineProperty(e,"Ctx",{enumerable:!0,get:a(function(){return n.Ctx},"get")});var i=YD();Object.defineProperty(e,"Evt",{enumerable:!0,get:a(function(){return i.Evt},"get")});var s=doe();Object.defineProperty(e,"StatefulEvt",{enumerable:!0,get:a(function(){return s.StatefulEvt},"get")});var o=foe();Object.defineProperty(e,"to",{enumerable:!0,get:a(function(){return o.to},"get")});var l=hoe();Object.defineProperty(e,"throttleTime",{enumerable:!0,get:a(function(){return l.throttleTime},"get")});var u=poe();Object.defineProperty(e,"nonNullable",{enumerable:!0,get:a(function(){return u.nonNullable},"get")});var c=moe();Object.defineProperty(e,"distinct",{enumerable:!0,get:a(function(){return c.distinct},"get")})})(Go)),Go}a(goe,"requireLib");var xs=goe();const ns=Object.create(null);ns.open="0";ns.close="1";ns.ping="2";ns.pong="3";ns.message="4";ns.upgrade="5";ns.noop="6";const l0=Object.create(null);Object.keys(ns).forEach(e=>{l0[ns[e]]=e});const v1={type:"error",data:"parser error"},$D=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QD=typeof ArrayBuffer=="function",WD=a(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,"isView$1"),a3=a(({type:e,data:t},r,n)=>$D&&t instanceof Blob?r?n(t):r7(t,n):QD&&(t instanceof ArrayBuffer||WD(t))?r?n(t):r7(new Blob([t]),n):n(ns[e]+(t||"")),"encodePacket"),r7=a((e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)},"encodeBlobAsBase64");function n7(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}a(n7,"toArray");let Nb;function boe(e,t){if($D&&e.data instanceof Blob)return e.data.arrayBuffer().then(n7).then(t);if(QD&&(e.data instanceof ArrayBuffer||WD(e.data)))return t(n7(e.data));a3(e,!1,r=>{Nb||(Nb=new TextEncoder),t(Nb.encode(r))})}a(boe,"encodePacketToBinary");const i7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<i7.length;e++)Qc[i7.charCodeAt(e)]=e;const voe=a(e=>{let t=e.length*.75,r=e.length,n,i=0,s,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(n=0;n<r;n+=4)s=Qc[e.charCodeAt(n)],o=Qc[e.charCodeAt(n+1)],l=Qc[e.charCodeAt(n+2)],u=Qc[e.charCodeAt(n+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|u&63;return c},"decode$2"),yoe=typeof ArrayBuffer=="function",s3=a((e,t)=>{if(typeof e!="string")return{type:"message",data:XD(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:woe(e.substring(1),t)}:l0[r]?e.length>1?{type:l0[r],data:e.substring(1)}:{type:l0[r]}:v1},"decodePacket"),woe=a((e,t)=>{if(yoe){const r=voe(e);return XD(r,t)}else return{base64:!0,data:e}},"decodeBase64Packet"),XD=a((e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},"mapBinary"),JD="",xoe=a((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((s,o)=>{a3(s,!1,l=>{n[o]=l,++i===r&&t(n.join(JD))})})},"encodePayload"),_oe=a((e,t)=>{const r=e.split(JD),n=[];for(let i=0;i<r.length;i++){const s=s3(r[i],t);if(n.push(s),s.type==="error")break}return n},"decodePayload");function Eoe(){return new TransformStream({transform(e,t){boe(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}a(Eoe,"createPacketEncoderStream");let Ib;function Sh(e){return e.reduce((t,r)=>t+r.length,0)}a(Sh,"totalLength");function kh(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}a(kh,"concatChunks");function Soe(e,t){Ib||(Ib=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Sh(r)<1)break;const u=kh(r,1);s=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Sh(r)<2)break;const u=kh(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Sh(r)<8)break;const u=kh(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(v1);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Sh(r)<i)break;const u=kh(r,i);l.enqueue(s3(s?u:Ib.decode(u),t)),n=0}if(i===0||i>e){l.enqueue(v1);break}}}})}a(Soe,"createPacketDecoderStream");const qD=4;function vn(e){if(e)return koe(e)}a(vn,"Emitter");function koe(e){for(var t in vn.prototype)e[t]=vn.prototype[t];return e}a(koe,"mixin");vn.prototype.on=vn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};vn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return a(r,"on"),r.fn=t,this.on(e,r),this};vn.prototype.off=vn.prototype.removeListener=vn.prototype.removeAllListeners=vn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};vn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};vn.prototype.emitReserved=vn.prototype.emit;vn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};vn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Tm=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Vi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Aoe="arraybuffer";function e9(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}a(e9,"pick");const Toe=Vi.setTimeout,Noe=Vi.clearTimeout;function Nm(e,t){t.useNativeTimers?(e.setTimeoutFn=Toe.bind(Vi),e.clearTimeoutFn=Noe.bind(Vi)):(e.setTimeoutFn=Vi.setTimeout.bind(Vi),e.clearTimeoutFn=Vi.clearTimeout.bind(Vi))}a(Nm,"installTimerFunctions");const Ioe=1.33;function Coe(e){return typeof e=="string"?Moe(e):Math.ceil((e.byteLength||e.size)*Ioe)}a(Coe,"byteLength");function Moe(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}a(Moe,"utf8Length");function t9(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}a(t9,"randomString");function Ooe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}a(Ooe,"encode");function Roe(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}a(Roe,"decode$1");class Loe extends Error{static{a(this,"TransportError")}constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class o3 extends vn{static{a(this,"Transport")}constructor(t){super(),this.writable=!1,Nm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Loe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=s3(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Ooe(t);return r.length?"?"+r:""}}class Doe extends o3{static{a(this,"Polling")}constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=a(()=>{this.readyState="paused",t()},"pause");if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a(n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)},"callback");_oe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=a(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xoe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=t9()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let r9=!1;try{r9=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const joe=r9;function Poe(){}a(Poe,"empty$2");class zoe extends Doe{static{a(this,"BaseXHR")}constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Xa extends vn{static{a(this,"Request")}constructor(t,r,n){super(),this.createRequest=t,Nm(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=e9(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Xa.requestsCount++,Xa.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Poe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Xa.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Xa.requestsCount=0;Xa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",a7);else if(typeof addEventListener=="function"){const e="onpagehide"in Vi?"pagehide":"unload";addEventListener(e,a7,!1)}}function a7(){for(let e in Xa.requests)Xa.requests.hasOwnProperty(e)&&Xa.requests[e].abort()}a(a7,"unloadHandler");const Boe=(function(){const e=n9({xdomain:!1});return e&&e.responseType!==null})();class Foe extends zoe{static{a(this,"XHR")}constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Boe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Xa(n9,this.uri(),t)}}function n9(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||joe))return new XMLHttpRequest}catch{}if(!t)try{return new Vi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}a(n9,"newRequest");const i9=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Uoe extends o3{static{a(this,"BaseWS")}get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=i9?{}:e9(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;a3(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&Tm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=t9()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Cb=Vi.WebSocket||Vi.MozWebSocket;class Hoe extends Uoe{static{a(this,"WS")}createSocket(t,r,n){return i9?new Cb(t,r,n):r?new Cb(t,r):new Cb(t)}doWrite(t,r){this.ws.send(r)}}class Goe extends o3{static{a(this,"WT")}get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Soe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=Eoe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=a(()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),s())}).catch(l=>{})},"read");s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&Tm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Voe={websocket:Hoe,webtransport:Goe,polling:Foe},Koe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zoe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function y1(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Koe.exec(e||""),s={},o=14;for(;o--;)s[Zoe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Yoe(s,s.path),s.queryKey=$oe(s,s.query),s}a(y1,"parse$3");function Yoe(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}a(Yoe,"pathNames");function $oe(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}a($oe,"queryKey");const w1=typeof addEventListener=="function"&&typeof removeEventListener=="function",u0=[];w1&&addEventListener("offline",()=>{u0.forEach(e=>e())},!1);class vo extends vn{static{a(this,"SocketWithoutUpgrade")}constructor(t,r){if(super(),this.binaryType=Aoe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=y1(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=y1(r.host).host);Nm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Roe(this.opts.query)),w1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},u0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=qD,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&vo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Coe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Tm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=a(()=>{this._onClose("forced close"),this.transport.close()},"close"),r=a(()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},"cleanupAndClose"),n=a(()=>{this.once("upgrade",r),this.once("upgradeError",r)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(vo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=u0.indexOf(this._offlineEventListener);n!==-1&&u0.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}vo.protocol=qD;class Qoe extends vo{static{a(this,"SocketWithUpgrade")}constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;vo.priorWebsocketSuccess=!1;const i=a(()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vo.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))},"onTransportOpen");function s(){n||(n=!0,d(),r.close(),r=null)}a(s,"freezeTransport");const o=a(f=>{const g=new Error("probe error: "+f);g.transport=r.name,s(),this.emitReserved("upgradeError",g)},"onerror");function l(){o("transport closed")}a(l,"onTransportClose");function u(){o("socket closed")}a(u,"onclose");function c(f){r&&f.name!==r.name&&s()}a(c,"onupgrade");const d=a(()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",u),this.off("upgrading",c)},"cleanup");r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Woe=class extends Qoe{static{a(this,"Socket")}constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Voe[i]).filter(i=>!!i)),super(t,n)}};function Xoe(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=y1(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}a(Xoe,"url");const Joe=typeof ArrayBuffer=="function",qoe=a(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,"isView"),a9=Object.prototype.toString,ele=typeof Blob=="function"||typeof Blob<"u"&&a9.call(Blob)==="[object BlobConstructor]",tle=typeof File=="function"||typeof File<"u"&&a9.call(File)==="[object FileConstructor]";function l3(e){return Joe&&(e instanceof ArrayBuffer||qoe(e))||ele&&e instanceof Blob||tle&&e instanceof File}a(l3,"isBinary");function c0(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(c0(e[r]))return!0;return!1}if(l3(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return c0(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&c0(e[r]))return!0;return!1}a(c0,"hasBinary");function rle(e){const t=[],r=e.data,n=e;return n.data=x1(r,t),n.attachments=t.length,{packet:n,buffers:t}}a(rle,"deconstructPacket");function x1(e,t){if(!e)return e;if(l3(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=x1(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=x1(e[n],t));return r}return e}a(x1,"_deconstructPacket");function nle(e,t){return e.data=_1(e.data,t),delete e.attachments,e}a(nle,"reconstructPacket");function _1(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=_1(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=_1(e[r],t));return e}a(_1,"_reconstructPacket");const ile=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ale=5;var vr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(vr||(vr={}));class sle{static{a(this,"Encoder")}constructor(t){this.replacer=t}encode(t){return(t.type===vr.EVENT||t.type===vr.ACK)&&c0(t)?this.encodeAsBinary({type:t.type===vr.EVENT?vr.BINARY_EVENT:vr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===vr.BINARY_EVENT||t.type===vr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=rle(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function s7(e){return Object.prototype.toString.call(e)==="[object Object]"}a(s7,"isObject");class u3 extends vn{static{a(this,"Decoder")}constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===vr.BINARY_EVENT;n||r.type===vr.BINARY_ACK?(r.type=n?vr.EVENT:vr.ACK,this.reconstructor=new ole(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(l3(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(vr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===vr.BINARY_EVENT||n.type===vr.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(u3.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case vr.CONNECT:return s7(r);case vr.DISCONNECT:return r===void 0;case vr.CONNECT_ERROR:return typeof r=="string"||s7(r);case vr.EVENT:case vr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&ile.indexOf(r[0])===-1);case vr.ACK:case vr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ole{static{a(this,"BinaryReconstructor")}constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=nle(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const lle=Object.freeze(Object.defineProperty({__proto__:null,Decoder:u3,Encoder:sle,get PacketType(){return vr},protocol:ale},Symbol.toStringTag,{value:"Module"}));function sa(e,t,r){return e.on(t,r),a(function(){e.off(t,r)},"subDestroy")}a(sa,"on");const ule=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class s9 extends vn{static{a(this,"Socket")}constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[sa(t,"open",this.onopen.bind(this)),sa(t,"packet",this.onpacket.bind(this)),sa(t,"error",this.onerror.bind(this)),sa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,s;if(ule.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:vr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=a((...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)},"fn");o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const s=a((o,l)=>o?i(o):n(l),"fn");s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:vr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case vr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case vr.EVENT:case vr.BINARY_EVENT:this.onevent(t);break;case vr.ACK:case vr.BINARY_ACK:this.onack(t);break;case vr.DISCONNECT:this.ondisconnect();break;case vr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:vr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:vr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Gu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}a(Gu,"Backoff");Gu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Gu.prototype.reset=function(){this.attempts=0};Gu.prototype.setMin=function(e){this.ms=e};Gu.prototype.setMax=function(e){this.max=e};Gu.prototype.setJitter=function(e){this.jitter=e};class E1 extends vn{static{a(this,"Manager")}constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Nm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Gu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||lle;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Woe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=sa(r,"open",function(){n.onopen(),t&&t()}),s=a(l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},"onError"),o=sa(r,"error",s);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(sa(t,"ping",this.onping.bind(this)),sa(t,"data",this.ondata.bind(this)),sa(t,"error",this.onerror.bind(this)),sa(t,"close",this.onclose.bind(this)),sa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Tm(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new s9(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Nc={};function d0(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Xoe(e,t.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Nc[i]&&s in Nc[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return l?u=new E1(n,t):(Nc[i]||(Nc[i]=new E1(n,t)),u=Nc[i]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}a(d0,"lookup");Object.assign(d0,{Manager:E1,Socket:s9,io:d0,connect:d0});class cle{static{a(this,"EventAdapter")}events={};constructor(){this.events.messageBroadcast=xs.Evt.create(),this.events.messageComplete=xs.Evt.create(),this.events.controlMessage=xs.Evt.create(),this.events.messageDeleted=xs.Evt.create(),this.events.channelCleared=xs.Evt.create(),this.events.channelDeleted=xs.Evt.create(),this.events.logStream=xs.Evt.create()}on(t,r){return this.events[t]||(this.events[t]=xs.Evt.create()),this.events[t].attach(r),this}off(t,r){if(this.events[t]){const n=this.events[t].getHandlers();for(const i of n)i.callback===r&&i.detach()}return this}emit(t,...r){return this.events[t]&&this.events[t].post(r.length===1?r[0]:r),this}once(t,r){return this.events[t]||(this.events[t]=xs.Evt.create()),this.events[t].attachOnce(r),this}listenerCount(t){return this.events[t]?this.events[t].getHandlers().length:0}_getEvt(t){return this.events[t]}}class Ci extends cle{static{a(this,"SocketIOManager")}static instance=null;socket=null;isConnected=!1;connectPromise=null;resolveConnect=null;activeChannelIds=new Set;clientEntityId=null;logStreamSubscribed=!1;get evtMessageBroadcast(){return this._getEvt("messageBroadcast")}get evtMessageComplete(){return this._getEvt("messageComplete")}get evtControlMessage(){return this._getEvt("controlMessage")}get evtMessageDeleted(){return this._getEvt("messageDeleted")}get evtChannelCleared(){return this._getEvt("channelCleared")}get evtChannelDeleted(){return this._getEvt("channelDeleted")}get evtLogStream(){return this._getEvt("logStream")}constructor(){super()}static getInstance(){return Ci.instance||(Ci.instance=new Ci),Ci.instance}static isConnected(){return Ci.instance?.isConnected||!1}isChannelActive(t){return this.activeChannelIds.has(t)}initialize(t,r){if(this.clientEntityId=t,this.socket){We.debug("[SocketIO] Socket already initialized");return}const n=window.location.origin+"/";We.info("connecting to",n),this.socket=d0(n,{auth:{apiKey:r,entityId:t},autoConnect:!0,reconnection:!0}),this.connectPromise=new Promise(i=>{this.resolveConnect=i}),this.socket.on("connect",()=>{We.info("[SocketIO] Connected to server"),this.isConnected=!0,this.resolveConnect?.(),this.emit("connect")}),this.socket.on("authenticated",i=>{if(i.entityId){const s="elizaos-client-user-id",o=localStorage.getItem(s);localStorage.setItem(s,i.entityId),o!==i.entityId?We.info(`[SocketIO] EntityId synchronized: ${o?.substring(0,8)}...  ${i.entityId.substring(0,8)}... (source: server)`):We.debug(`[SocketIO] EntityId confirmed: ${i.entityId.substring(0,8)}...`)}}),this.socket.on("unauthorized",i=>{this.emit("unauthorized",i)}),this.socket.on("messageBroadcast",i=>{const s=typeof i=="string"?(()=>{try{return JSON.parse(i)}catch{return We.warn("[SocketIO] Failed to parse string messageBroadcast payload:",i),{}}})():i;We.info("[SocketIO] Message broadcast received:",s);const o=s&&typeof s=="object",l=o?Object.keys(s):[];We.debug("[SocketIO] Message broadcast data structure:",{keys:l,senderId:s.senderId,senderNameType:typeof s.senderName,textType:typeof s.text,textLength:s.text?s.text.length:0,hasThought:o&&"thought"in s,hasActions:o&&"actions"in s,additionalKeys:l.filter(c=>!["senderId","senderName","text","roomId","createdAt","source","thought","actions"].includes(c))});const u=s.channelId||s.roomId;u&&this.activeChannelIds.has(u)?(We.info(`[SocketIO] Handling message for active channel ${u}`),this.emit("messageBroadcast",{...s,channelId:u,roomId:u,name:s.senderName})):We.warn(`[SocketIO] Received message for inactive channel ${u}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageComplete",i=>{this.emit("messageComplete",i)}),this.socket.on("controlMessage",i=>{We.info("[SocketIO] Control message received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling control message for active channel ${s}`),this.emit("controlMessage",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received control message for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageDeleted",i=>{We.debug("[SocketIO] Message deleted event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling message deletion for active channel ${s}`),this.emit("messageDeleted",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received message deleted event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelCleared",i=>{We.info("[SocketIO] Channel cleared event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling channel cleared for active channel ${s}`),this.emit("channelCleared",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received channel cleared event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelDeleted",i=>{We.info("[SocketIO] Channel deleted event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling channel deleted for active channel ${s}`),this.emit("channelDeleted",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received channel deleted event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("disconnect",i=>{We.info(`[SocketIO] Disconnected. Reason: ${i}`),this.isConnected=!1,this.emit("disconnect",i),this.connectPromise=new Promise(s=>{this.resolveConnect=s}),i==="io server disconnect"&&this.socket?.connect()}),this.socket.on("reconnect_attempt",i=>{We.info("[SocketIO] Reconnect attempt",i),this.emit("reconnect_attempt",i)}),this.socket.on("reconnect",i=>{We.info(`[SocketIO] Reconnected after ${i} attempts`),this.emit("reconnect",i)}),this.socket.on("connect_error",i=>{We.error("[SocketIO] Connection error:",i),this.emit("connect_error",i)}),this.socket.on("log_stream",i=>{We.debug("[SocketIO] Log stream data received:",i),i.type==="log_entry"&&i.payload&&this.emit("logStream",i.payload)}),this.socket.on("log_subscription_confirmed",i=>{We.info("[SocketIO] Log subscription confirmed:",i),this.logStreamSubscribed=i.subscribed})}async joinChannel(t){if(!this.socket){We.error("[SocketIO] Cannot join channel: socket not initialized");return}this.isConnected||await this.connectPromise,We.info(`[SocketIO] joinChannel: Attempting to join ${t}. Current activeChannelIds before add:`,new Set(this.activeChannelIds)),this.activeChannelIds.add(t),We.info(`[SocketIO] joinChannel: Joined ${t}. Current activeChannelIds after add:`,new Set(this.activeChannelIds)),this.socket.emit("message",{type:By.ROOM_JOINING,payload:{channelId:t,roomId:t,entityId:this.clientEntityId}}),We.info(`[SocketIO] Emitted ROOM_JOINING for ${t}`)}async joinRoom(t){return this.joinChannel(t)}leaveChannel(t){if(!this.socket||!this.isConnected){We.warn(`[SocketIO] Cannot leave channel ${t}: not connected`);return}We.info(`[SocketIO] leaveChannel: Attempting to leave ${t}. Current activeChannelIds before delete:`,new Set(this.activeChannelIds)),this.activeChannelIds.delete(t),We.info(`[SocketIO] leaveChannel: Left ${t}. Current activeChannelIds after delete:`,new Set(this.activeChannelIds))}leaveRoom(t){return this.leaveChannel(t)}async sendMessage(t,r,n,i,s,o,l){if(!this.socket){We.error("[SocketIO] Cannot send message: socket not initialized");return}this.isConnected||await this.connectPromise;const u=o||Os();We.info(`[SocketIO] Sending message to central channel ${r} on message server ${n}`),this.socket.emit("message",{type:By.SEND_MESSAGE,payload:{senderId:this.clientEntityId,senderName:iu,message:t,channelId:r,roomId:r,messageServerId:n,messageId:u,source:i,attachments:s,metadata:l}})}async subscribeToLogStream(){if(!this.socket){We.error("[SocketIO] Cannot subscribe to logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("subscribe_logs"),We.info("[SocketIO] Subscribed to log stream")}async unsubscribeFromLogStream(){if(!this.socket){We.error("[SocketIO] Cannot unsubscribe from logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("unsubscribe_logs"),We.info("[SocketIO] Unsubscribed from log stream")}async updateLogStreamFilters(t){if(!this.socket){We.error("[SocketIO] Cannot update log filters: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("update_log_filters",t),We.info("[SocketIO] Updated log stream filters:",t)}isLogStreamSubscribed(){return this.logStreamSubscribed}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1,We.info("[SocketIO] Disconnected from server"))}logout(){We.info("[SocketIO] Logout initiated"),this.emit("logout","User logout"),this.socket&&(this.socket.io.opts.reconnection=!1,We.debug("[SocketIO] Auto-reconnection disabled for logout"),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1),Ci.instance=null,We.info("[SocketIO] Logout complete - singleton destroyed")}}const ao={setUnauthorized:a(e=>{console.warn("setUnauthorized called before ConnectionContext is ready",e)},"setUnauthorized"),setOfflineStatus:a(e=>{console.warn("setOfflineStatus called before ConnectionContext is ready",e)},"setOfflineStatus")},o9=H.createContext(void 0),dle=a(({children:e})=>{const{toast:t}=Gr(),[r,n]=H.useState("loading"),[i,s]=H.useState(null),o=H.useRef(!0),l=H.useCallback(d=>{n("unauthorized"),s(d),t({title:"Authorization Required",description:d||"Please provide a valid API Key.",variant:"destructive"})},[t]),u=H.useCallback(d=>{d&&r!=="error"&&r!=="unauthorized"&&(n("error"),s("Network connection appears to be offline."),t({title:"Network Offline",description:"Please check your internet connection.",variant:"destructive"}))},[r,t]),c=H.useCallback(d=>{try{d!==void 0&&kse(d),console.log("API client refreshed with new configuration")}catch(f){console.error("Failed to refresh API client:",f)}},[]);return H.useEffect(()=>{ao.setUnauthorized=l,ao.setOfflineStatus=u},[l,u]),H.useEffect(()=>{const d=Ci.getInstance(),f=a(()=>{n("connected"),s(null),ao.setOfflineStatus&&ao.setOfflineStatus(!1),o.current?o.current=!1:t({title:"Connection Restored",description:"Successfully reconnected to the Eliza server."})},"onConnect"),g=a(A=>{n("error"),s(`Connection lost: ${A}`),ao.setOfflineStatus&&ao.setOfflineStatus(!0),t({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server",variant:"destructive"})},"onDisconnect"),m=a(()=>{n("reconnecting"),s("Reconnecting...")},"onReconnectAttempt"),y=a(A=>{n("error"),s(A.message),ao.setOfflineStatus&&ao.setOfflineStatus(!0)},"onConnectError"),_=a(A=>{n("unauthorized"),s(`Unauthorized: ${A}`),t({title:"Authorization Required",description:"Please provide a valid API key.",variant:"destructive"})},"onUnauthorized");return d.on("connect",f),d.on("disconnect",g),d.on("reconnect",f),d.on("reconnect_attempt",m),d.on("connect_error",y),d.on("unauthorized",_),Ci.isConnected()&&f(),()=>{d.off("connect",f),d.off("disconnect",g),d.off("reconnect",f),d.off("reconnect_attempt",m),d.off("connect_error",y),d.off("unauthorized",_)}},[t,u]),v.jsx(o9.Provider,{value:{status:r,error:i,setUnauthorizedFromApi:l,setOfflineStatusFromProvider:u,refreshApiClient:c},children:e})},"ConnectionProvider"),c3=a(()=>{const e=H.useContext(o9);if(!e)throw new Error("useConnection must be inside ConnectionProvider");return e},"useConnection");function fle(){const{toast:e}=Gr(),[t,r]=H.useState(null),{status:n,error:i}=c3(),s=n==="loading",o=n==="connected",l=n==="error",u=n==="unauthorized",c=l||u;H.useEffect(()=>{(t==="error"||t==="unauthorized"||t==="disconnected")&&o?e({title:"Connection Restored",description:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(cA,{className:"h-4 w-4 text-green-500"}),v.jsx("span",{children:"Successfully reconnected to the Eliza server."})]})}):t==="connected"&&(l||u)&&e({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server...",variant:"destructive"}),r(n)},[n,t,o,l,u,e]);const d=a(()=>u?"bg-yellow-500":s?"bg-muted-foreground":o?"bg-green-600":"bg-red-600","getStatusColor"),f=a(()=>u?"Unauthorized":s?"Connecting...":o?"Connected":"Disconnected","getStatusText"),g=a(()=>u?"text-yellow-500":s?"text-muted-foreground":o?"text-green-600":"text-red-600","getTextColor"),m=a(()=>i?u?"Unauthorized: Invalid or missing API Key.":i.includes("NetworkError")||i.includes("Failed to fetch")?"Cannot reach server":i.includes("ECONNREFUSED")?"Connection refused":i.includes("timeout")?"Connection timeout":i.includes("404")||i.includes("not found")||i.includes("API endpoint not found")?"Endpoint not found":i:"Connection failed","getErrorMessage");return v.jsx(va,{"data-testid":"connection-status",children:v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(bl,{className:"rounded",children:v.jsx("div",{className:"flex flex-col gap-1 select-none",children:v.jsxs("div",{className:"flex items-center gap-1",children:[c||u?v.jsx(Yi,{className:Ve("h-3.5 w-3.5",u?"text-yellow-500":"text-red-600")}):v.jsx("div",{className:Ve(["h-2.5 w-2.5 rounded-full",d()])}),v.jsx("span",{className:Ve("text-xs",g()),children:f()})]})})})}),c&&v.jsx(on,{side:"top",align:"center",className:"max-w-xs",children:v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("div",{className:Ve("font-semibold",u?"text-yellow-500":"text-red-500"),children:m()}),v.jsx("p",{className:"text-xs",children:"Please ensure the Eliza server is running and accessible."}),!u&&v.jsx("p",{className:"text-xs",children:"Try refreshing the connection or check server logs."}),u&&v.jsx("p",{className:"text-xs",children:"Check the API key configured in your client settings."})]})})]})})}a(fle,"ConnectionStatus");const ko=H.forwardRef(({className:e,...t},r)=>v.jsx(dA,{ref:r,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-md",e),"data-testid":t["data-testid"]||"avatar",...t}));ko.displayName=dA.displayName;const Al=H.forwardRef(({className:e,...t},r)=>v.jsx(fA,{ref:r,className:Ve("aspect-square h-full w-full object-cover",e),"data-testid":t["data-testid"]||"avatar-image",...t}));Al.displayName=fA.displayName;const Im=H.forwardRef(({className:e,...t},r)=>v.jsx(hA,{ref:r,className:Ve("flex h-full w-full items-center justify-center rounded-md bg-muted",e),"data-testid":t["data-testid"]||"avatar-fallback",...t}));Im.displayName=hA.displayName;function Ll(){const[e,t]=H.useState({open:!1,options:null,onConfirm:null}),r=H.useCallback((s,o)=>{t({open:!0,options:s,onConfirm:o})},[]),n=H.useCallback(s=>{s||t({open:!1,options:null,onConfirm:null})},[]),i=H.useCallback(()=>{e.onConfirm&&e.onConfirm(),n(!1)},[e.onConfirm,n]);return{confirm:r,isOpen:e.open,onOpenChange:n,onConfirm:i,options:e.options}}a(Ll,"useConfirmation");function hle(e){switch(e){case"active":return bn.ACTIVE;case"inactive":case"stopped":return bn.INACTIVE;default:return bn.INACTIVE}}a(hle,"mapApiStatusToEnum");function l9(e){return{...e,id:e.id,status:hle(e.status),createdAt:e.createdAt instanceof Date?e.createdAt.getTime():new Date(e.createdAt).getTime(),updatedAt:e.updatedAt instanceof Date?e.updatedAt.getTime():new Date(e.updatedAt).getTime()}}a(l9,"mapApiAgentToClient");function np(e){return e instanceof Date?e.getTime():typeof e=="string"?new Date(e).getTime():e}a(np,"apiDateToTimestamp");function ip(e){return e instanceof Date?e.toISOString():e}a(ip,"apiDateToString");function d3(e){return{...e,id:e.id,messageServerId:e.messageServerId,type:e.type,createdAt:ip(e.createdAt),updatedAt:ip(e.updatedAt)}}a(d3,"mapApiChannelToClient");function ple(e){return{...e,id:e.id,createdAt:ip(e.createdAt),updatedAt:ip(e.updatedAt)}}a(ple,"mapApiServerToClient");function mle(e){return e.map(ple)}a(mle,"mapApiServersToClient");function gle(e){return e.map(d3)}a(gle,"mapApiChannelsToClient");function ble(e,t){const r=e.metadata?.attachments?.map(s=>({id:s.id||crypto.randomUUID(),url:s.url,title:s.title||s.name,source:s.source,description:s.description,text:s.text,contentType:s.contentType||s.type}))||void 0,n=e.sourceType,i=e.rawMessage;return{id:e.id,text:e.content,name:e.metadata?.authorDisplayName||e.metadata?.agentName||"Unknown",senderId:e.authorId,isAgent:!!e.metadata?.isAgent||!1,createdAt:np(e.createdAt),channelId:e.channelId,serverId:t||e.metadata?.serverId,prompt:e.metadata?.prompt,attachments:r,thought:e.metadata?.thought,actions:e.metadata?.actions,type:n,rawMessage:i}}a(ble,"mapApiMessageToUi");function vle(e){return{id:e.id,type:e?.type||e.body?.modelType,timestamp:e.timestamp?np(e.timestamp):void 0,message:e.message,details:e.details,roomId:e.roomId,body:e.body,createdAt:e.createdAt?np(e.createdAt):void 0}}a(vle,"mapApiLogToClient");function yle(e){const t=e.entityId||e.metadata?.entityId||e.metadata?.userId||e.agentId;return{id:e.id,entityId:t,agentId:e.agentId,content:e.content,embedding:e.embedding,roomId:e.roomId,createdAt:np(e.createdAt),unique:e.metadata?.unique}}a(yle,"mapApiMemoryToClient");const yn=a(()=>Lr(),"getClient"),Mr={FREQUENT:3e4,STANDARD:12e4,RARE:6e5,NEVER:Number.POSITIVE_INFINITY},Ws=a(()=>{const e=typeof navigator<"u"&&"connection"in navigator?navigator.connection:null;return{isOffline:typeof navigator<"u"&&!navigator.onLine,effectiveType:e?.effectiveType||"unknown",saveData:e?.saveData||!1}},"useNetworkStatus");function f3(e={}){const t=Ws();return Mn({queryKey:["agents"],queryFn:a(async()=>({data:{agents:(await yn().agents.listAgents()).agents.map(i=>l9(i))}}),"queryFn"),staleTime:Mr.FREQUENT,refetchInterval:t.isOffline?!1:Mr.FREQUENT,refetchIntervalInBackground:!1,...!t.isOffline&&t.effectiveType==="slow-2g"&&{refetchInterval:Mr.STANDARD},...e})}a(f3,"useAgents");function Nf(e,t={}){const r=Ws();return Mn({queryKey:["agent",e],queryFn:a(async()=>{if(!e)throw new Error("Agent ID is required");const n=await yn().agents.getAgent(e);return{data:l9(n)}},"queryFn"),staleTime:Mr.FREQUENT,enabled:!!e,refetchInterval:!r.isOffline&&e?Mr.FREQUENT:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Mr.STANDARD},...t})}a(Nf,"useAgent");function wle(e,t,r={}){const n=Ws(),i=void 0;return Mn({queryKey:["agent",e,"runs","default"],queryFn:a(async()=>{if(!e)throw new Error("Agent ID is required");return yn().runs.listRuns(e,i)},"queryFn"),enabled:!!e,staleTime:Mr.FREQUENT,refetchInterval:!n.isOffline&&e?Mr.FREQUENT:!1,refetchIntervalInBackground:!1,...!n.isOffline&&n.effectiveType==="slow-2g"&&{refetchInterval:Mr.STANDARD},...r})}a(wle,"useAgentRuns");function xle(){const e=On(),{toast:t}=Gr();return Ri({mutationFn:a(async r=>{try{const n=await yn().agents.startAgent(r);return{data:{id:r,name:"Agent",status:n.status}}}catch(n){throw n instanceof Error&&n.message.includes("already running")?new Error("Agent is already running."):n}},"mutationFn"),onMutate:a(async r=>(t({title:"Starting Agent",description:"Initializing agent..."}),{}),"onMutate"),onSuccess:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Started",description:`${r?.data?.name||"Agent"} is now running`})},"onSuccess"),onError:a(r=>{const n=r instanceof Error?r.message:"Failed to start agent";t({title:"Error Starting Agent",description:`${n}. Please try again.`,variant:"destructive"})},"onError")})}a(xle,"useStartAgent");function _le(){const e=On(),{toast:t}=Gr();return Ri({mutationFn:a(async r=>({data:{message:`Agent ${(await yn().agents.stopAgent(r)).status}`}}),"mutationFn"),onMutate:a(async r=>{const n=e.getQueryData(["agent",r]);n&&t({title:"Stopping Agent",description:`Stopping ${n.name}...`})},"onMutate"),onSuccess:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Agent Stopped",description:r?.data?.message||"The agent has been successfully stopped"})},"onSuccess"),onError:a((r,n)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",n]}),t({title:"Error",description:r instanceof Error?r.message:"Failed to stop agent",variant:"destructive"})},"onError")})}a(_le,"useStopAgent");function o7(e,t){const r=Us(),[n,i]=H.useState([]),[s,o]=H.useState(null),[l,u]=H.useState(!0),[c,d]=H.useState(!0),[f,g]=H.useState(!1),[m,y]=H.useState(null),[_,A]=H.useState(!1),I=H.useCallback((V,W)=>{const F=V.authorId!==r;let Y=Date.now();if(typeof V.createdAt=="number")Y=V.createdAt;else if(typeof V.createdAt=="string"){const h=Date.parse(V.createdAt);isNaN(h)?We.warn("[transformServerMessageToUiMessage] createdAt string was not directly parsable by Date.parse():",V.createdAt,"for message id:",V.id):Y=h}else if(V.createdAt)try{const h=new Date(V.createdAt).getTime();isNaN(h)||(Y=h)}catch{We.warn("[transformServerMessageToUiMessage] Could not process createdAt (unknown type):",V.createdAt,"for message:",V.id)}return{id:V.id,text:V.content,name:F?V.metadata?.agentName||V.metadata?.authorDisplayName||V.authorDisplayName||"Agent":iu,senderId:V.authorId,isAgent:F,createdAt:Y,attachments:V.metadata?.attachments,thought:F?V.metadata?.thought:void 0,actions:F?V.metadata?.actions:void 0,channelId:V.channelId,messageServerId:W||V.metadata?.messageServerId||t,source:V.sourceType,isLoading:!1,prompt:F?V.metadata?.prompt:void 0}},[r,t]),O=H.useCallback(async V=>{if(!e){i([]),d(!1);return}V?A(!0):d(!0),g(!1),y(null);try{const F=(await yn().messaging.getChannelMessages(e,{limit:30,before:V?new Date(V).toISOString():void 0})).messages.map(Y=>ble(Y,t||Y.metadata?.messageServerId));if(i(Y=>{const h=V?[...F,...Y]:F;return Array.from(new Map(h.map(b=>[b.id,b])).values()).sort((b,x)=>b.createdAt-x.createdAt)}),F.length>0){const Y=Math.min(...F.map(h=>h.createdAt));(!V||Y<(s||1/0))&&o(Y)}u(F.length>=30)}catch(W){g(!0),y(W),We.error(`Failed to fetch messages for channel ${e}:`,W)}finally{d(!1),A(!1)}},[e,I,t]);H.useEffect(()=>{e?(We.info(`[useChannelMessages] ChannelId changed or became available: ${e}. Clearing messages and fetching initial set.`),i([]),o(null),u(!0),O()):(We.info("[useChannelMessages] ChannelId is undefined. Clearing messages."),i([]),o(null),u(!0),d(!1))},[e,O]);const R=a(async()=>{l&&!_&&s&&await O(s-1)},"fetchNextPage"),L=H.useCallback(V=>{i(W=>{const F=W.findIndex(Y=>Y.id===V.id);if(F>=0){const Y=[...W];return Y[F]=V,Y.sort((h,w)=>h.createdAt-w.createdAt)}else return[...W,V].sort((Y,h)=>Y.createdAt-h.createdAt)})},[]),D=H.useCallback((V,W)=>{i(F=>F.map(Y=>Y.id===V?{...Y,...W}:Y))},[]),P=H.useCallback(V=>{i(W=>W.filter(F=>F.id!==V))},[]),Z=H.useCallback(()=>{i([]),o(null),u(!0)},[]);return{data:n,isLoading:c&&n.length===0,isError:f,error:m,fetchNextPage:R,hasNextPage:l,isFetchingNextPage:_,addMessage:L,updateMessage:D,removeMessage:P,clearMessages:Z}}a(o7,"useChannelMessages");function Ele(e,t,r){return Mn({queryKey:["agentActions",e,t,r],queryFn:a(async()=>{const n=await yn().agents.getAgentLogs(e,{limit:50});return n?n.map(vle):[]},"queryFn"),refetchInterval:1e3,staleTime:1e3})}a(Ele,"useAgentActions");function Sle(){const e=On(),{toast:t}=Gr();return Ri({mutationFn:a(async({agentId:r,logId:n})=>(await yn().agents.deleteAgentLog(r,n),{agentId:r,logId:n}),"mutationFn"),onMutate:a(async({agentId:r,logId:n})=>{const i=e.getQueryData(["agentActions",r]);return i&&e.setQueryData(["agentActions",r],s=>s.filter(o=>o.id!==n)),{previousLogs:i,agentId:r,logId:n}},"onMutate"),onSuccess:a((r,{agentId:n})=>{e.invalidateQueries({queryKey:["agentActions",n]}),t({title:"Log Deleted",description:"The log entry has been successfully removed"})},"onSuccess"),onError:a((r,{agentId:n},i)=>{i?.previousLogs&&e.setQueryData(["agentActions",n],i.previousLogs),t({title:"Error",description:r instanceof Error?r.message:"Failed to delete log",variant:"destructive"}),e.invalidateQueries({queryKey:["agentActions",n]})},"onError")})}a(Sle,"useDeleteLog");function l7(e,t,r,n=!1){return Mn({queryKey:r?["agents",e,"channels",r,"memories",t,n]:["agents",e,"memories",t,n],queryFn:a(async()=>{const s={tableName:t,includeEmbedding:n},o=r?await yn().memory.getRoomMemories(e,r,s):await yn().memory.getAgentMemories(e,s);return console.log("Agent memories result:",{agentId:e,tableName:t,includeEmbedding:n,channelId:r,result:o,dataLength:o.memories?.length,firstMemory:o.memories?.[0],hasEmbeddings:(o.memories||[]).some(u=>u.embedding?.length>0)}),(o.memories||[]).map(yle)},"queryFn"),enabled:!!(e&&t),staleTime:1e3,refetchInterval:10*1e3})}a(l7,"useAgentMemories");function kle(){const e=On();return Ri({mutationFn:a(async({agentId:t,memoryId:r})=>(await yn().memory.deleteMemory(t,r),{agentId:t,memoryId:r}),"mutationFn"),onSuccess:a(t=>{e.invalidateQueries({queryKey:["agents",t.agentId,"memories"]}),e.invalidateQueries({queryKey:["agents",t.agentId,"rooms"],predicate:a(r=>r.queryKey.length>3&&r.queryKey[4]==="memories","predicate")})},"onSuccess")})}a(kle,"useDeleteMemory");function Ale(){const e=On(),{toast:t}=Gr();return Ri({mutationFn:a(async({agentId:r,memoryId:n,memoryData:i})=>{const s=await yn().memory.updateMemory(r,n,i);return{agentId:r,memoryId:n,result:s}},"mutationFn"),onSuccess:a(r=>{e.invalidateQueries({queryKey:["agents",r.agentId,"memories"]}),r.result?.roomId?e.invalidateQueries({queryKey:["agents",r.agentId,"rooms",r.result.roomId,"memories"]}):e.invalidateQueries({queryKey:["agents",r.agentId,"rooms"],predicate:a(n=>n.queryKey.length>3&&n.queryKey[4]==="memories","predicate")}),r.result?.roomId&&e.invalidateQueries({queryKey:["messages",r.agentId,r.result.roomId]}),t({title:"Memory Updated",description:"The memory has been successfully updated"})},"onSuccess"),onError:a(r=>{t({title:"Error",description:r instanceof Error?r.message:"Failed to update memory",variant:"destructive"})},"onError")})}a(Ale,"useUpdateMemory");function Tle(e,t={}){const r=Ws();return Mn({queryKey:["agentPanels",e],queryFn:a(async()=>{if(!e)throw new Error("Agent ID required");return{success:!0,data:(await yn().agents.getAgentPanels(e)).panels}},"queryFn"),enabled:!!e,staleTime:Mr.STANDARD,refetchInterval:!r.isOffline&&e?Mr.RARE:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:Mr.NEVER},...t})}a(Tle,"useAgentPanels");function Vu(){const e=Ws(),{data:t,isLoading:r}=f3(),n=t?.data?.agents?.map(c=>c.id)||[],i=pA({queries:n.map(c=>({queryKey:["agent",c],queryFn:a(async()=>({data:await yn().agents.getAgent(c)}),"queryFn"),staleTime:Mr.FREQUENT,enabled:!!c,refetchInterval:!e.isOffline&&c?Mr.FREQUENT:!1,refetchIntervalInBackground:!1,...!e.isOffline&&e.effectiveType==="slow-2g"&&{refetchInterval:Mr.STANDARD}}))}),s=r||i.some(c=>c.isLoading),o=i.some(c=>c.isError),l=i.find(c=>c.error)?.error;return{data:{agents:i.filter(c=>!!c.data?.data).map(c=>c.data.data)},isLoading:s,isError:o,error:l}}a(Vu,"useAgentsWithDetails");function u9(e={}){const t=Ws();return Mn({queryKey:["servers"],queryFn:a(async()=>{const r=await yn().messaging.listMessageServers();return{data:{servers:mle(r.messageServers)}}},"queryFn"),staleTime:Mr.RARE,refetchInterval:t.isOffline?!1:Mr.RARE,...e})}a(u9,"useServers");function h3(e,t={}){const r=Ws();return Mn({queryKey:["channels",e],queryFn:a(async()=>{if(!e)return Promise.resolve({data:{channels:[]}});const n=await yn().messaging.getMessageServerChannels(e);return{data:{channels:gle(n.channels)}}},"queryFn"),enabled:!!e,staleTime:Mr.STANDARD,refetchInterval:!r.isOffline&&e?Mr.STANDARD:!1,...t})}a(h3,"useChannels");function Nle(e,t={}){const r=Ws();return Mn({queryKey:["channelDetails",e],queryFn:a(async()=>{if(!e)return Promise.resolve({success:!0,data:null});const n=await yn().messaging.getChannelDetails(e);return{success:!0,data:d3(n)}},"queryFn"),enabled:!!e,staleTime:Mr.STANDARD,refetchInterval:!r.isOffline&&e?Mr.RARE:!1,...t})}a(Nle,"useChannelDetails");function p3(e,t={}){const r=Ws();return Mn({queryKey:["channelParticipants",e],queryFn:a(async()=>{if(!e)return Promise.resolve({success:!0,data:[]});try{const n=await yn().messaging.getChannelParticipants(e);let i=[];return n&&Array.isArray(n.participants)?i=n.participants.map(s=>s.userId):n&&Array.isArray(n)&&(i=n.map(s=>s.userId||s.id||s)),{success:!0,data:i}}catch(n){return console.error("[useChannelParticipants] Error:",n),{success:!1,data:[]}}},"queryFn"),enabled:!!e,staleTime:Mr.STANDARD,refetchInterval:!r.isOffline&&e?Mr.FREQUENT:!1,...t})}a(p3,"useChannelParticipants");function Ile(){On();const{toast:e}=Gr();return Ri({mutationFn:a(async({channelId:t,messageId:r})=>(await yn().messaging.deleteMessage(t,r),{channelId:t,messageId:r}),"mutationFn"),onSuccess:a((t,r)=>{e({title:"Message Deleted",description:"Message removed successfully."})},"onSuccess"),onError:a(t=>{e({title:"Error Deleting Message",description:t instanceof Error?t.message:"Failed to delete message",variant:"destructive"})},"onError")})}a(Ile,"useDeleteChannelMessage");function Cle(){const e=On(),{toast:t}=Gr();return Ri({mutationFn:a(async r=>(await yn().messaging.clearChannelHistory(r),{channelId:r}),"mutationFn"),onSuccess:a((r,n)=>{t({title:"Channel Cleared",description:`All messages in channel ${n} cleared.`}),e.invalidateQueries({queryKey:["messages",n]}),e.setQueryData(["messages",n],()=>[])},"onSuccess"),onError:a(r=>{t({title:"Error Clearing Channel",description:r instanceof Error?r.message:"Failed to clear messages",variant:"destructive"})},"onError")})}a(Cle,"useClearChannelMessages");function c9(){return Mn({queryKey:["server-version"],queryFn:a(async()=>{try{const e=await fetch("/api/system/version");if(!e.ok)throw new Error(`Failed to fetch server version: ${e.status} ${e.statusText}`);return await e.json()}catch(e){throw We.error("Error fetching server version:",e),e}},"queryFn"),staleTime:300*1e3,retry:3,retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay")})}a(c9,"useServerVersion");function Mle(){const{data:e}=c9();return e?.version||"0.0.0-loading"}a(Mle,"useServerVersionString");const Ole=a((e,t)=>{const r=[],n=[];return e.forEach(i=>(t(i)?r:n).push(i)),[r,n]},"partition"),m3=a(({children:e,className:t=""})=>v.jsx("div",{className:Ve("px-4 pt-1 pb-0 text-sm font-medium text-muted-foreground sidebar-section-header",t),children:e}),"SectionHeader"),Rle=a(({title:e,children:t,className:r=""})=>v.jsxs(v.Fragment,{children:[v.jsx(m3,{className:r,children:e}),v.jsx(Dp,{children:v.jsx(jp,{className:"mt-0",children:v.jsx(ol,{children:t})})})]}),"SidebarSection"),Lle=a(({agent:e,isOnline:t,active:r})=>v.jsx(va,{children:v.jsx(Np,{to:`/chat/${e.id}`,children:v.jsxs(bl,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[v.jsx("span",{className:"text-base truncate max-w-36",children:e.name}),v.jsx("div",{className:"flex items-center",children:v.jsxs("div",{className:"relative",children:[v.jsxs(ko,{className:"h-6 w-6 rounded-full",children:[v.jsx(Al,{src:gd(e),alt:e.name||"avatar"}),v.jsx(Im,{className:"rounded-full",children:gl(e.name||"")})]}),v.jsx("span",{className:Ve("absolute bottom-0 right-0 w-[8px] h-[8px] rounded border border-white",t?"bg-green-500":"bg-muted-foreground")})]})})]})})}),"AgentRow"),Dle=a(({channel:e,serverId:t,active:r})=>{const n=Us(),{data:i}=Vu(),s=i?.agents||[],{data:o}=p3(e.id),l=o?.data,u=l&&Array.isArray(l)?l:[],c=s.filter(g=>g.id&&u.includes(g.id)),d=c.slice(0,3),f=c.length>3?c.length-3:0;return v.jsx(va,{children:v.jsx(Np,{to:`/group/${e.id}?messageServerId=${t}`,className:"flex-1",children:v.jsxs(bl,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[v.jsx("span",{className:"text-base truncate max-w-36",children:e.name||b2(e,e.participants||[],n)}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("div",{className:"flex -space-x-2",children:[d.map(g=>v.jsxs(ko,{className:"h-6 w-6 rounded-full border border-background",children:[v.jsx(Al,{src:typeof g.settings?.avatar=="string"?g.settings.avatar:"",alt:g.name||""}),v.jsx(Im,{className:"rounded-full text-xs",children:gl(g.name||"")})]},g.id)),f>0&&v.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted text-[10px] flex items-center justify-center border border-background",children:["+",f]})]})})]})})})},"GroupRow"),jle=a(({agents:e,activePath:t})=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[v.jsx(m3,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:v.jsx("div",{children:"Agents"})}),v.jsx(Pi,{})]}),v.jsx(Dp,{children:v.jsx(jp,{className:"px-1 mt-0",children:v.jsx(ol,{children:e.map(r=>v.jsx(Lle,{agent:r,isOnline:r.status===bn.ACTIVE,active:t.includes(`/chat/${String(r?.id)}`)},r?.id))})})})]}),"AgentListSection"),Ple=a(({servers:e,isLoadingServers:t,activePath:r})=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[v.jsx(m3,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:v.jsx("div",{children:"Groups"})}),v.jsx(Pi,{})]}),v.jsx(Dp,{children:v.jsx(jp,{className:"px-1 mt-0",children:v.jsxs(ol,{children:[t&&Array.from({length:3}).map((n,i)=>v.jsx(va,{children:v.jsx(Pp,{})},`skel-group-${i}`)),e?.map(n=>v.jsx(zle,{serverId:n.id,activePath:r},n.id)),(!e||e.length===0)&&!t&&v.jsx(va,{children:v.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"No groups found."})})]})})})]}),"GroupListSection"),zle=a(({serverId:e,activePath:t})=>{const{data:r,isLoading:n}=h3(e),i=H.useMemo(()=>r?.data?.channels?.filter(s=>s.type===Gt.GROUP)||[],[r]);return n?v.jsx(va,{children:v.jsx(Pp,{})}):i.length?v.jsx(v.Fragment,{children:i.map(s=>v.jsx(Dle,{channel:s,serverId:e,active:t.includes(`/group/${s.id}`)},s.id))}):null},"GroupChannelsForServer");function u7({refreshHomePage:e,isMobile:t=!1}){const r=Ap(),n=Gn(),i=On(),s=Mle(),{data:o,error:l,isLoading:u}=Vu(),{data:c,isLoading:d}=u9(),f=H.useMemo(()=>o?.agents||[],[o]),g=H.useMemo(()=>c?.data?.servers||[],[c]),[m,y]=H.useMemo(()=>Ole(f,O=>O.status===bn.ACTIVE),[f]),_=l?"Error loading agents: NetworkError: Unable to connect to the server. Please check if the server is running.":void 0,A=a(O=>{O.preventDefault(),We.info("[AppSidebar] handleLogoClick triggered",{currentPath:r.pathname}),i.invalidateQueries({queryKey:["agents"]}),i.invalidateQueries({queryKey:["agentsWithDetails"]}),i.invalidateQueries({queryKey:["servers"]}),i.invalidateQueries({queryKey:["channels"]}),r.pathname==="/"?(We.info("[AppSidebar] Already on home page. Calling refreshHomePage()."),e()):(We.info('[AppSidebar] Not on home page. Navigating to "/".'),n("/"))},"handleLogoClick");function I(){const O=Gn(),R=a(()=>{O("/create")},"handleCreateAgent"),L=a(()=>{O("/group/new")},"handleCreateGroup");return v.jsxs(yd,{children:[v.jsx(wd,{asChild:!0,children:v.jsxs(ct,{variant:"ghost",className:"w-full bg-sidebar-accent hover:bg-sidebar-accent/80 h-10 rounded justify-start",children:[v.jsx(Tp,{className:"w-4 h-4 bg"}),"Create New"]})}),v.jsxs(xd,{align:"start",className:"w-full min-w-[var(--radix-dropdown-menu-trigger-width)]",children:[v.jsx(Ha,{onClick:R,className:"w-full",children:"Create New Agent"}),v.jsx(Ha,{onClick:L,className:"w-full",children:"Create New Group"})]})]})}return a(I,"renderCreateNewButton"),v.jsx(v.Fragment,{children:v.jsxs(XA,{className:Ve("bg-background border-r overflow-hidden",t?"p-3 pt-12 w-full h-full":"p-4 w-72 fixed left-0 top-0 z-40 h-screen",!t&&"hidden md:flex md:flex-col"),collapsible:"none","data-testid":"app-sidebar",children:[v.jsx(qA,{children:v.jsx(ol,{children:v.jsx(va,{children:v.jsx(bl,{size:"lg",asChild:!0,children:v.jsx("a",{href:"/",onClick:A,className:"px-4 py-2 h-full sidebar-logo no-underline cursor-pointer",children:v.jsxs("div",{className:"flex flex-col pt-2 gap-1 items-start justify-center",children:[v.jsx("img",{alt:"elizaos-logo",src:"/elizaos-logo-light.png",className:"w-32 max-w-full"}),v.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["v",s]})]})})})})})}),v.jsxs(tT,{className:"flex-1 overflow-y-auto",children:[_&&v.jsx("div",{className:"px-4 py-2 text-xs text-red-500",children:_}),v.jsx(ol,{className:"my-2",children:v.jsx(va,{className:"list-none",children:I()})}),v.jsxs("div",{className:"pt-2",children:[u&&!_&&v.jsx(Rle,{title:"Agents",children:v.jsx(Pp,{})}),!u&&!_&&v.jsxs(v.Fragment,{children:[v.jsx(jle,{agents:[...m,...y],activePath:r.pathname}),v.jsx(Ple,{servers:g,isLoadingServers:d,activePath:r.pathname})]})]})]}),v.jsx(eT,{className:"px-2 py-4",children:v.jsxs(ol,{children:[v.jsx(Mb,{to:"https://eliza.how/",Icon:RF,label:"Documentation"}),v.jsx(Mb,{to:"/logs",Icon:LF,label:"Logs"}),v.jsx(Mb,{to:"/settings",Icon:DF,label:"Settings"}),v.jsx(fle,{})]})})]})})}a(u7,"AppSidebar");const Mb=a(({to:e,Icon:t,label:r})=>e.startsWith("http://")||e.startsWith("https://")?v.jsx(va,{children:v.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:v.jsxs(bl,{className:"rounded cursor-pointer",children:[v.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}):v.jsx(va,{children:v.jsx(Np,{to:e,children:v.jsxs(bl,{className:"rounded cursor-pointer",children:[v.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}),"FooterLink");function Ble({className:e}){const{status:t,error:r}=c3();if(!(t==="error"||t==="unauthorized"))return null;let i="Connection Failed",s="Please ensure the Eliza server is running and accessible.";const o=t==="unauthorized";if(r){const l=r;o?(i="Authorization Required",s="Please provide a valid API key."):l.includes("NetworkError")||l.includes("Failed to fetch")?(i="Network Error",s="Cannot reach the server. Please check your network connection."):l.includes("ECONNREFUSED")?(i="Connection Refused",s="The server refused the connection. Please ensure it is running."):l.includes("timeout")?(i="Connection Timeout",s="The server took too long to respond."):l.includes("404")||l.includes("not found")||l.includes("API endpoint not found")||l.includes("Endpoint not found")?(i="Endpoint Not Found",s="The server API endpoint could not be found."):s=l}return v.jsx("div",{className:Ve("bg-opacity-10 border rounded-md p-3 mb-4 w-full md:max-w-4xl","flex items-center justify-between w-full mt-4",o?"bg-yellow-900/20 border-yellow-700 text-yellow-100":"bg-red-900/20 border-red-700 text-red-100",e),children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(Yi,{className:Ve("h-5 w-5 flex-shrink-0",o?"text-yellow-400":"text-red-400")}),v.jsxs("div",{children:[v.jsx("h4",{className:Ve("font-medium text-sm",o?"text-yellow-200":"text-red-200"),children:i}),v.jsx("p",{className:Ve("text-xs mt-1",o?"text-yellow-300":"text-red-300"),children:s}),v.jsx("div",{className:"mt-2 flex space-x-4",children:v.jsxs("a",{href:"https://eliza.how",target:"_blank",rel:"noopener noreferrer",className:Ve("text-xs flex items-center",o?"hover:text-yellow-200 text-yellow-300":"hover:text-red-200 text-red-300"),children:[v.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Troubleshooting Guide"]})})]})]})})}a(Ble,"ConnectionErrorBanner");const is=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),"data-slot":"card",...t}));is.displayName="Card";const Cm=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,className:Ve("flex flex-col space-y-1.5 bg-black/50 rounded-t-lg p-2",e),"data-slot":"card-header",...t}));Cm.displayName="CardHeader";const g3=H.forwardRef(({className:e,...t},r)=>v.jsx("h3",{ref:r,className:Ve("text-2xl font-semibold leading-none tracking-tight",e),"data-slot":"card-title",...t}));g3.displayName="CardTitle";const Fle=H.forwardRef(({className:e,...t},r)=>v.jsx("p",{ref:r,className:Ve("text-sm text-muted-foreground",e),"data-slot":"card-description",...t}));Fle.displayName="CardDescription";const Dl=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,className:Ve("p-6 pt-0",e),"data-slot":"card-content",...t}));Dl.displayName="CardContent";const Mm=H.forwardRef(({className:e,...t},r)=>v.jsx("div",{ref:r,className:Ve("flex items-center p-6 pt-0",e),"data-slot":"card-footer",...t}));Mm.displayName="CardFooter";const Ule=a(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey$1");function d9({open:e,onOpenChange:t,onApiKeySaved:r}){const[n,i]=H.useState(""),[s,o]=H.useState(!1),{toast:l}=Gr(),u=Ule();H.useEffect(()=>{if(e)try{const d=localStorage.getItem(u);d&&i(d)}catch(d){console.error("Unable to access localStorage",d)}},[e,u]);const c=a(()=>{if(!n.trim()){l({title:"API Key Required",description:"Please enter a valid API key.",variant:"destructive"});return}try{localStorage.setItem(u,n)}catch{l({title:"Storage Error",description:"Unable to save the API key (browser storage blocked).",variant:"destructive"});return}r(),l({title:"API Key Saved",description:"The API key has been stored locally."}),t(!1)},"handleSave");return v.jsx(J6,{open:e,onOpenChange:t,children:v.jsxs(xm,{className:"sm:max-w-[425px]",children:[v.jsxs(_m,{children:[v.jsx(Em,{children:"API Key Required"}),v.jsx(e3,{children:"Please enter the API key required to connect to the Eliza server. This key will be stored locally in your browser."})]}),v.jsx("div",{className:"grid gap-4 py-4",children:v.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[v.jsx(du,{htmlFor:"api-key",className:"text-right",children:"API Key"}),v.jsxs("div",{className:"col-span-3 relative",children:[v.jsx(mn,{id:"api-key",type:s?"text":"password",value:n,onChange:a(d=>i(d.target.value),"onChange"),className:"pr-10"}),v.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:a(()=>o(!s),"onClick"),"aria-label":s?"Hide API key":"Show API key",children:s?v.jsx(As,{className:"h-4 w-4"}):v.jsx(za,{className:"h-4 w-4"})})]})]})}),v.jsx(q6,{children:v.jsx(ct,{type:"button",onClick:c,children:"Save Key"})})]})})}a(d9,"ApiKeyDialog");function Hle(){const[e,t]=H.useState(""),[r,n]=H.useState(""),[i,s]=H.useState(!1),[o,l]=H.useState(null),[u,c]=H.useState(null),[d,f]=H.useState(""),[g,m]=H.useState({}),y=H.useRef(null),[_,A]=H.useState(!1),[I,O]=H.useState(!1),{toast:R}=Gr();H.useEffect(()=>{const Y=a(h=>{y.current&&!y.current.contains(h.target)&&l(null)},"handleClickOutside");return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]),H.useEffect(()=>{L()},[]);const L=a(async()=>{const h=await Lr().system.getEnvironment();m(h)},"fetchLocalEnvs"),D=a(async()=>{await L(),c(null),l(null),t(""),n("")},"handleReset"),P=a(Y=>{c(o),f(g[Y]),l(null)},"handleEdit"),Z=a(Y=>{const h={...g};delete h[Y],m(h),l(null)},"handleRemove"),V=a(Y=>{m({...g,[Y]:d}),c(null)},"saveEdit"),W=a(()=>{!e||!r||(m({...g,[e]:r}),t(""),n(""),c(null))},"addEnv"),F=a(()=>{console.log("API Key was saved")},"handleApiKeySaved");return v.jsxs("div",{className:"container max-w-4xl mx-auto p-6",children:[v.jsx(d9,{open:I,onOpenChange:O,onApiKeySaved:F}),v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Env settings"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:"Env settings"})]}),v.jsxs(ct,{onClick:a(()=>O(!0),"onClick"),"aria-label":"Manage API Key",children:[v.jsx(ml,{className:"h-5 w-5"}),"Manage API Key"]})]}),v.jsx(is,{children:v.jsx(Dl,{className:"p-6",children:v.jsx("div",{className:"space-y-6",children:v.jsxs("div",{className:"rounded-lg w-full flex flex-col gap-3",children:[v.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Environment Settings"}),v.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-end w-full pb-4",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:"secret-name",className:"ml-2 text-xs font-medium text-gray-400",children:"NAME"}),v.jsx(mn,{id:"secret-name",placeholder:"VARIABLE_NAME",value:e,onChange:a(Y=>t(Y.target.value),"onChange")})]}),v.jsxs("div",{className:"flex flex-col gap-1 relative",children:[v.jsx("label",{htmlFor:"secret-value",className:"ml-2 text-xs font-medium text-gray-400",children:"VALUE"}),v.jsxs("div",{className:"relative",children:[v.jsx(mn,{id:"secret-value",type:i?"text":"password",placeholder:"i9ju23nfsdf56",value:r,onChange:a(Y=>n(Y.target.value),"onChange"),className:"pr-10"}),v.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500",onClick:a(()=>s(!i),"onClick"),children:i?v.jsx(As,{}):v.jsx(za,{})})]})]}),v.jsx(ct,{className:"shrink-0",onClick:W,children:"Add"})]}),Object.keys(g).length>0&&v.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 mt-6 font-medium text-gray-400 border-b pb-2 ml-1",children:[v.jsx("div",{children:"Name"}),v.jsx("div",{children:"Value"}),v.jsx("div",{children:"Action"})]}),v.jsx("div",{className:"mt-2",children:Object.entries(g).map(([Y,h],w)=>v.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-center border-b py-2 ml-1 relative",children:[v.jsx("div",{className:"truncate max-w-48",children:Y}),v.jsx("div",{children:u===w?v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(mn,{value:d,onChange:a(b=>f(b.target.value),"onChange"),className:"w-full"}),v.jsx(ct,{variant:"ghost",onClick:a(()=>V(Y),"onClick"),children:v.jsx(Fs,{className:"w-5 h-5 text-green-500"})}),v.jsx(ct,{variant:"ghost",onClick:a(()=>c(null),"onClick"),children:v.jsx(vi,{className:"w-5 h-5 text-red-500"})})]}):v.jsx("div",{className:"truncate text-gray-500",children:"Encrypted"})}),v.jsxs("div",{className:"relative",children:[v.jsx(ct,{variant:"ghost",className:"p-2 text-gray-500",onClick:a(()=>l(o===w?null:w),"onClick"),children:v.jsx(iA,{className:"h-5 w-5"})}),o===w&&v.jsx("div",{ref:y,className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card ring-1 ring-black ring-opacity-5 z-10",children:v.jsxs("div",{className:"py-1",children:[v.jsx("button",{onClick:a(()=>P(Y),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Edit"}),v.jsx("button",{onClick:a(()=>Z(Y),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-accent",children:"Remove"})]})})]})]},w))})]})})})}),v.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[v.jsx(ct,{variant:"outline",onClick:D,children:"Reset"}),v.jsx(ct,{type:"submit",disabled:_,onClick:a(async()=>{A(!0);try{await Lr().system.updateLocalEnvironment(g),R({title:"Success",description:"Environment variables updated successfully!"})}catch{R({title:"Error",description:"Failed to update environment variables.",variant:"destructive"})}finally{A(!1)}},"onClick"),children:"Save Changes"})]})]})}a(Hle,"EnvSettings");const Gle={10:"TRACE",20:"DEBUG",27:"SUCCESS",28:"PROGRESS",29:"LOG",30:"INFO",40:"WARN",50:"ERROR",60:"FATAL"};function c7(e){return Gle[e]||"UNKNOWN"}a(c7,"getLevelName");function Vle(e){return e>=50?"bg-red-600/80":e>=40?"bg-amber-600/80":e>=27?"bg-emerald-600/80":"bg-slate-500"}a(Vle,"getLevelColor");function Kle(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}a(Kle,"formatTimestamp$1");function Zle(e){const t=Date.now(),r=24,n={};for(let s=r-1;s>=0;s--){const o=new Date(t-s*60*60*1e3);o.setMinutes(0,0,0);const l=o.toISOString();n[l]={info:0,errors:0}}const i=t-1440*60*1e3;return e.forEach(s=>{if(s.time>=i){const o=new Date(s.time);o.setMinutes(0,0,0);const l=o.toISOString();n[l]&&(s.level>=50?n[l].errors++:n[l].info++)}}),Object.entries(n).map(([s,o])=>({timestamp:new Date(s),...o,total:o.info+o.errors}))}a(Zle,"generateLogChart");function Yle({data:e}){const t=Math.max(...e.map(r=>r.total),1);return v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),v.jsxs("span",{className:"text-sm text-muted-foreground",children:["Info"," ",v.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.info,0).toLocaleString()})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600/80"}),v.jsxs("span",{className:"text-sm text-muted-foreground",children:["Errors"," ",v.jsx("span",{className:"font-mono",children:e.reduce((r,n)=>r+n.errors,0).toLocaleString()})]})]})]}),v.jsxs("div",{className:"text-sm text-muted-foreground",children:[e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," ","- (UTC-7)"]})]}),v.jsx("div",{className:"h-32 flex items-end gap-1 bg-muted/30 rounded p-4",children:e.map((r,n)=>v.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[v.jsx("div",{style:{height:`${r.info/t*100}%`},className:"bg-slate-500 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.info} info logs`},`${r.timestamp.getTime()}-info`),v.jsx("div",{style:{height:`${r.errors/t*100}%`},className:"bg-red-600/80 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.errors} error logs`},`${r.timestamp.getTime()}-errors`)]},n))}),v.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[v.jsx("span",{children:e[0]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),v.jsx("span",{children:e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit"})})]})]})}a(Yle,"LogChart");function $le(){return v.jsx("div",{className:"flex items-center justify-center py-8",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx(pd,{className:"h-8 w-8 animate-spin text-muted-foreground"}),v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"font-medium",children:"Loading Logs"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching system logs..."})]})]})})}a($le,"LoadingIndicator$1");function Qle({selectedLevel:e,searchQuery:t}){return v.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[v.jsx(yo,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),v.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Logs Found"}),v.jsx("p",{className:"text-muted-foreground max-w-md",children:t?`No logs match "${t}". Try adjusting your search or filter.`:e==="all"?"No logs available. Logs will appear here as the system generates them.":`No ${e.toUpperCase()} logs found.`})]})}a(Qle,"EmptyState$1");function f9({agentName:e,level:t}){const[r,n]=H.useState(t||"all"),[i,s]=H.useState(e||"all"),[o,l]=H.useState(""),[u,c]=H.useState("7 days"),[d,f]=H.useState(!0),[g,m]=H.useState(!1),[y,_]=H.useState([]),[A,I]=H.useState(!1),O=On(),{confirm:R,isOpen:L,onOpenChange:D,onConfirm:P,options:Z}=Ll(),{data:V,isLoading:W,error:F,refetch:Y}=Mn({queryKey:["logs",r,i],queryFn:a(async()=>await Lr().system.getGlobalLogs({level:r==="all"?"":r,agentName:i==="all"?void 0:i}),"queryFn"),refetchInterval:d&&!A?5e3:!1,staleTime:1e3,enabled:!0}),{data:h}=f3(),w=H.useCallback(M=>{(r==="all"||c7(M.level).toLowerCase()===r.toLowerCase())&&(i==="all"||M.agentName===i)&&_(B=>[M,...B].slice(0,1e3))},[r,i]);H.useEffect(()=>{if(d&&A){const M=Ci.getInstance();return M.subscribeToLogStream().catch(console.error),M.on("logStream",w),()=>{M.off("logStream",w),M.unsubscribeFromLogStream().catch(console.error)}}},[d,A,w]),H.useEffect(()=>{d?Ci.isConnected()?I(!0):I(!1):(I(!1),_([]))},[d]),H.useEffect(()=>{A&&d&&Ci.getInstance().updateLogStreamFilters({agentName:i,level:r}).catch(console.error)},[i,r,A,d]);const b=V?.logs||[];let x;A&&d&&y.length>0?x=y:x=b;const E=x.sort((M,U)=>U.time-M.time),T=V?.levels||[],N=h?.data?.agents?.map(M=>M.name)||[],k=E.filter(M=>{if(o.trim()){const U=o.toLowerCase();return[M.msg,M.agentName,M.roomId,c7(M.level),...Object.entries(M).filter(([G])=>!Number.isNaN(Number(G))).map(([G,J])=>String(J))].filter(Boolean).join(" ").toLowerCase().includes(U)}return!0}),p=Zle(k),S=a(()=>{R({title:"Clear All Logs",description:"Are you sure you want to permanently delete all system logs? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{m(!0),await Lr().system.deleteGlobalLogs(),O.invalidateQueries({queryKey:["logs"]}),A&&_([])}catch(M){console.error("Failed to clear logs:",M)}finally{m(!1)}})},"handleClearLogs"),C=a(()=>{A&&d?_([]):Y&&Y()},"handleRefresh");if(W&&E.length===0)return v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx($le,{})});if(F){const M=F.message?.includes("404")||F.message?.includes("endpoint not found")||F.message?.includes("Not Found");return v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx("div",{className:"flex items-center justify-center flex-1",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(yo,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),v.jsx("h3",{className:"font-medium mb-2",children:M?"Global Logs API Not Available":"Failed to Load Logs"}),v.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:M?"The server does not have the global logs API endpoint configured. You can still view individual agent logs from the agent details pages.":`There was an error loading the system logs: ${F.message}`}),!M&&v.jsxs(ct,{variant:"outline",size:"sm",onClick:a(()=>Y?.(),"onClick"),children:[v.jsx(Iw,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})}return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 px-4 pt-4 flex-none",children:[v.jsxs(js,{value:r,onValueChange:n,children:[v.jsxs(Ya,{className:"w-32 h-9",children:[v.jsx(jF,{className:"h-4 w-4 mr-2"}),v.jsx(Ps,{placeholder:"Filter"})]}),v.jsxs($a,{children:[v.jsx(Ir,{value:"all",children:"ALL"}),T.map(M=>v.jsx(Ir,{value:M,children:M.toUpperCase()},M))]})]}),v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(mn,{placeholder:"Full-text log search",value:o,onChange:a(M=>l(M.target.value),"onChange"),className:"pl-10 h-9"})]}),N&&N.length>0&&!e&&v.jsxs(js,{value:i,onValueChange:s,children:[v.jsx(Ya,{className:"w-40 h-9",children:v.jsx(Ps,{placeholder:"Agent"})}),v.jsxs($a,{children:[v.jsx(Ir,{value:"all",children:"ALL AGENTS"}),N?.map(M=>v.jsx(Ir,{value:M,children:M},M))]})]}),v.jsxs(js,{value:u,onValueChange:c,children:[v.jsxs(Ya,{className:"w-32 h-9",children:[v.jsx(Ip,{className:"h-4 w-4 mr-2"}),v.jsx(Ps,{})]}),v.jsxs($a,{children:[v.jsx(Ir,{value:"1 hour",children:"1 hour"}),v.jsx(Ir,{value:"6 hours",children:"6 hours"}),v.jsx(Ir,{value:"24 hours",children:"24 hours"}),v.jsx(Ir,{value:"7 days",children:"7 days"}),v.jsx(Ir,{value:"30 days",children:"30 days"})]})]}),v.jsx(ct,{variant:"outline",size:"sm",onClick:C,className:"h-9 w-9 p-0",children:v.jsx(Iw,{className:"h-4 w-4"})}),v.jsxs(ct,{variant:d?"default":"outline",size:"sm",onClick:a(()=>f(!d),"onClick"),className:"h-9 px-3",title:d?A?"Live mode (WebSocket)":"Live mode (Polling)":"Live mode disabled",children:[v.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${d?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),"Live"]})]}),v.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:k.length===0?v.jsx(Qle,{selectedLevel:r,searchQuery:o}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(Yle,{data:p}),v.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[v.jsx("div",{className:"bg-muted/50 border-b px-4 py-3",children:v.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4",children:[v.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),v.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Message"})]})}),v.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:k.slice(0,100).map((M,U)=>v.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 px-4 py-3 hover:bg-muted/30 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-1 h-6 rounded-full ${Vle(M.level)}`}),v.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:Kle(M.time)})]}),v.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[v.jsx("div",{className:"font-mono text-sm leading-relaxed break-all",children:M.msg}),M.agentName&&v.jsx(ca,{variant:"secondary",className:"text-xs flex-shrink-0",children:M.agentName})]})]},`${M.time}-${M.msg}-${U}`))}),k.length>100&&v.jsx("div",{className:"border-t bg-muted/30 px-4 py-3 text-center",children:v.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing first 100 of ",k.length.toLocaleString()," logs"]})})]})]})}),v.jsxs("div",{className:"border-t bg-muted/30 px-4 py-3 flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:d&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),v.jsxs("span",{children:["Live updates enabled ",A?"(streaming)":"(polling)"]})]})}),v.jsxs(ct,{variant:"destructive",size:"sm",onClick:S,disabled:g,className:"h-8 px-3 text-xs",children:[v.jsx(pl,{className:"h-3 w-3 mr-1"}),g?"Clearing...":"Clear All Logs"]})]})]}),v.jsx(Rl,{open:L,onOpenChange:D,title:Z?.title||"",description:Z?.description||"",confirmText:Z?.confirmText,cancelText:Z?.cancelText,variant:Z?.variant,onConfirm:P})]})}a(f9,"AgentLogViewer");const d7="eliza-onboarding-completed",Wle=a(()=>{const[e,t]=H.useState(()=>{try{return localStorage.getItem(d7)==="true"}catch(i){return We.error("Error accessing localStorage:",i),!1}});return H.useEffect(()=>{try{localStorage.setItem(d7,e.toString())}catch(i){We.error("Error writing to localStorage:",i)}},[e]),{onboardingCompleted:e,completeOnboarding:a(()=>{t(!0)},"completeOnboarding"),resetOnboarding:a(()=>{t(!1)},"resetOnboarding")}},"useOnboarding");function Xle(){const{onboardingCompleted:e,completeOnboarding:t}=Wle(),[r,n]=H.useState(!1),i=Ap(),[s,o]=H.useState(0),l=[{target:".sidebar-logo",content:"Welcome to ElizaOS! This is your gateway to creating and managing intelligent AI agents.",disableBeacon:!0,title:"Welcome to ElizaOS"},{target:".sidebar-create-button",content:"This is your main creation button. Click here to create new agents or rooms quickly.",title:"Create Button"},{target:".sidebar-online-section, .sidebar-offline-section",content:"Your agents are organized here. Online agents (green dot) are ready to chat, while offline agents need to be activated first.",title:"Your Agents"},{target:".sidebar-groups-section",content:"Access your agent groups from here to see collaborative conversations between multiple agents.",title:"Groups Navigation"},{target:".sidebar-docs-button, .sidebar-logs-button, .sidebar-settings-button",content:"Access documentation, system logs, and global settings from these utility buttons.",title:"System Utilities"},{target:".sidebar-connection-status",content:"This indicator shows your connection status to the ElizaOS server.",title:"Connection Status"},{target:".agents-section",content:'This is your main workspace showing all your agents. Active agents have a green dot, while inactive ones appear grayed out with an "Offline" label.',title:"Agent Dashboard"},{target:".message-button, .start-button",content:'Click "Message" to chat with active agents, or "Start" to activate offline agents first.',title:"Agent Interaction"},{target:".agent-info-button, .agent-settings-button",content:"View agent details or configure settings using these buttons on each agent card.",title:"Agent Management"},{target:".groups-section",content:"This section displays your agent groups for collaborative interactions between multiple agents.",title:"Agent Groups"},{target:".groups-create-button",content:"Create a new group by clicking this button. Groups allow multiple agents to interact together.",title:"Create New Group"},{target:".create-agent-button",content:"Let's create your first agent! Click this button to get started.",title:"Create Your First Agent",spotlightClicks:!0}],u=[{target:".agent-form-name",content:"Give your agent a name that reflects its purpose or personality.",title:"Name Your Agent",disableBeacon:!0},{target:".agent-form-system-prompt",content:"The system prompt defines your agent's behavior and capabilities. This is the most important field for shaping how your agent will respond.",title:"Define Agent Behavior"},{target:".tabs-list",content:"Switch between these tabs to configure different aspects of your agent such as content, style, plugins, and appearance.",title:"Configuration Tabs"},{target:".agent-form-submit",content:"Click Save to create your agent and return to the dashboard.",title:"Save Your Agent",spotlightClicks:!0}],c=i.pathname==="/"?l:i.pathname==="/create"?u:[];H.useEffect(()=>{if(i.pathname==="/"&&!e&&s===0){const f=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(f)}else if(i.pathname==="/create"&&!e&&s===1){const f=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(f)}else n(!1)},[i.pathname,e,s]);const d=a(f=>{const{status:g,index:m,type:y,action:_}=f;i.pathname==="/"&&y==="step:after"&&m===l.length-1&&(o(1),n(!1)),(g===Cw.FINISHED||g===Cw.SKIPPED||_===zF.CLOSE)&&(t(),n(!1))},"handleJoyrideCallback");return e||c.length===0?null:v.jsx(PF,{callback:d,continuous:!0,run:r,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:c,floaterProps:{disableAnimation:!1,styles:{floater:{filter:"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.25))"}}},styles:{options:{primaryColor:"#3b82f6",backgroundColor:"#1f2937",textColor:"#f3f4f6",overlayColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,arrowColor:"#1f2937",beaconSize:36},tooltip:{fontSize:"14px",padding:"16px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},tooltipContent:{padding:"5px 0",fontSize:"14px",lineHeight:"1.5"},buttonClose:{color:"#9ca3af",opacity:.8},buttonBack:{color:"#9ca3af",fontSize:"14px",fontWeight:"500",padding:"8px 12px",borderRadius:"6px",marginRight:"8px",transition:"background-color 0.2s ease"},buttonNext:{backgroundColor:"#3b82f6",fontSize:"14px",fontWeight:"500",padding:"8px 16px",borderRadius:"6px",color:"white",border:"none",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSkip:{color:"#9ca3af",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",transition:"background-color 0.2s ease"},spotlight:{borderRadius:"8px",backgroundColor:"transparent"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}})}a(Xle,"OnboardingTour");const Jle=BF,h9=H.forwardRef(({className:e,...t},r)=>v.jsx(wA,{ref:r,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));h9.displayName=wA.displayName;const qle=$s("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p9=H.forwardRef(({className:e,variant:t,...r},n)=>v.jsx(gA,{ref:n,className:Ve(qle({variant:t}),e),...r}));p9.displayName=gA.displayName;const m9=H.forwardRef(({className:e,...t},r)=>v.jsx(mA,{ref:r,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));m9.displayName=mA.displayName;const g9=H.forwardRef(({className:e,...t},r)=>v.jsx(yA,{ref:r,className:Ve("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:v.jsx(vi,{className:"h-4 w-4"})}));g9.displayName=yA.displayName;const b9=H.forwardRef(({className:e,...t},r)=>v.jsx(bA,{ref:r,className:Ve("text-sm font-semibold [&+div]:text-xs",e),...t}));b9.displayName=bA.displayName;const v9=H.forwardRef(({className:e,...t},r)=>v.jsx(vA,{ref:r,className:Ve("text-sm opacity-90",e),...t}));v9.displayName=vA.displayName;function eue(){const{toasts:e}=Gr();return v.jsxs(Jle,{children:[e.map(({id:t,title:r,description:n,action:i,...s})=>v.jsxs(p9,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[r&&v.jsx(b9,{children:r}),n&&v.jsx(v9,{children:n})]}),i,v.jsx(g9,{})]},t)),v.jsx(h9,{})]})}a(eue,"Toaster");const y9=H.createContext(void 0),tue=a(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey"),rue=a(({children:e})=>{const t=On(),[r,n]=H.useState(!1),i=H.useCallback(()=>{try{return localStorage.getItem(tue())}catch(l){return We.error("[Auth] Unable to read API key from localStorage",l),null}},[]),s=H.useCallback(()=>{n(!0)},[]),o=H.useCallback(()=>{n(!1),We.info("API key saved via dialog, invalidating ping query."),t.invalidateQueries({queryKey:["ping"]})},[t]);return v.jsxs(y9.Provider,{value:{openApiKeyDialog:s,getApiKey:i},children:[e,v.jsx(d9,{open:r,onOpenChange:n,onApiKeySaved:o})]})},"AuthProvider"),nue=a(()=>{const e=H.useContext(y9);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},"useAuth");var Ah={exports:{}},Ob,f7;function Om(){if(f7)return Ob;f7=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=t-6;return Ob={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ob}a(Om,"requireConstants");var Rb,h7;function Rm(){if(h7)return Rb;h7=1;var e={};return Rb=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},Rb}a(Rm,"requireDebug");var p7;function If(){return p7||(p7=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Om(),s=Rm();t=e.exports={};const o=t.re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],d=t.t={};let f=0;const g="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[g,n]],y=a(A=>{for(const[I,O]of m)A=A.split(`${I}*`).join(`${I}{0,${O}}`).split(`${I}+`).join(`${I}{1,${O}}`);return A},"makeSafeRegex"),_=a((A,I,O)=>{const R=y(I),L=f++;s(A,L,I),d[A]=L,u[L]=I,c[L]=R,o[L]=new RegExp(I,O?"g":void 0),l[L]=new RegExp(R,O?"g":void 0)},"createToken");_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),_("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${g}+`),_("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),_("FULL",`^${u[d.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),_("LOOSE",`^${u[d.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),_("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?(?:${u[d.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",u[d.COERCE],!0),_("COERCERTLFULL",u[d.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ah,Ah.exports)),Ah.exports}a(If,"requireRe");var Lb,m7;function b3(){if(m7)return Lb;m7=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Lb=a(n=>n?typeof n!="object"?e:n:t,"parseOptions"),Lb}a(b3,"requireParseOptions");var Db,g7;function w9(){if(g7)return Db;g7=1;const e=/^[0-9]+$/,t=a((n,i)=>{if(typeof n=="number"&&typeof i=="number")return n===i?0:n<i?-1:1;const s=e.test(n),o=e.test(i);return s&&o&&(n=+n,i=+i),n===i?0:s&&!o?-1:o&&!s?1:n<i?-1:1},"compareIdentifiers");return Db={compareIdentifiers:t,rcompareIdentifiers:a((n,i)=>t(i,n),"rcompareIdentifiers")},Db}a(w9,"requireIdentifiers");var jb,b7;function ii(){if(b7)return jb;b7=1;const e=Rm(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Om(),{safeRe:n,t:i}=If(),s=b3(),{compareIdentifiers:o}=w9();class l{static{a(this,"SemVer")}constructor(c,d){if(d=s(d),c instanceof l){if(c.loose===!!d.loose&&c.includePrerelease===!!d.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const f=c.trim().match(d.loose?n[i.LOOSE]:n[i.FULL]);if(!f)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const m=+g;if(m>=0&&m<r)return m}return g}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let d=0;do{const f=this.prerelease[d],g=c.prerelease[d];if(e("prerelease compare",d,f,g),f===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(f===void 0)return-1;if(f===g)continue;return o(f,g)}while(++d)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let d=0;do{const f=this.build[d],g=c.build[d];if(e("build compare",d,f,g),f===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(f===void 0)return-1;if(f===g)continue;return o(f,g)}while(++d)}inc(c,d,f){if(c.startsWith("pre")){if(!d&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const g=`-${d}`.match(this.options.loose?n[i.PRERELEASELOOSE]:n[i.PRERELEASE]);if(!g||g[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,f),this.inc("pre",d,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,f),this.inc("pre",d,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(d===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(d){let m=[d,g];f===!1&&(m=[d]),o(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return jb=l,jb}a(ii,"requireSemver$1");var Pb,v7;function Ku(){if(v7)return Pb;v7=1;const e=ii();return Pb=a((r,n,i=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(s){if(!i)return null;throw s}},"parse"),Pb}a(Ku,"requireParse");var zb,y7;function iue(){if(y7)return zb;y7=1;const e=Ku();return zb=a((r,n)=>{const i=e(r,n);return i?i.version:null},"valid"),zb}a(iue,"requireValid$1");var Bb,w7;function aue(){if(w7)return Bb;w7=1;const e=Ku();return Bb=a((r,n)=>{const i=e(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},"clean"),Bb}a(aue,"requireClean");var Fb,x7;function sue(){if(x7)return Fb;x7=1;const e=ii();return Fb=a((r,n,i,s,o)=>{typeof i=="string"&&(o=s,s=i,i=void 0);try{return new e(r instanceof e?r.version:r,i).inc(n,s,o).version}catch{return null}},"inc"),Fb}a(sue,"requireInc");var Ub,_7;function oue(){if(_7)return Ub;_7=1;const e=Ku();return Ub=a((r,n)=>{const i=e(r,null,!0),s=e(n,null,!0),o=i.compare(s);if(o===0)return null;const l=o>0,u=l?i:s,c=l?s:i,d=!!u.prerelease.length;if(!!c.prerelease.length&&!d){if(!c.patch&&!c.minor)return"major";if(c.compareMain(u)===0)return c.minor&&!c.patch?"minor":"patch"}const g=d?"pre":"";return i.major!==s.major?g+"major":i.minor!==s.minor?g+"minor":i.patch!==s.patch?g+"patch":"prerelease"},"diff"),Ub}a(oue,"requireDiff");var Hb,E7;function lue(){if(E7)return Hb;E7=1;const e=ii();return Hb=a((r,n)=>new e(r,n).major,"major"),Hb}a(lue,"requireMajor");var Gb,S7;function uue(){if(S7)return Gb;S7=1;const e=ii();return Gb=a((r,n)=>new e(r,n).minor,"minor"),Gb}a(uue,"requireMinor");var Vb,k7;function cue(){if(k7)return Vb;k7=1;const e=ii();return Vb=a((r,n)=>new e(r,n).patch,"patch"),Vb}a(cue,"requirePatch");var Kb,A7;function due(){if(A7)return Kb;A7=1;const e=Ku();return Kb=a((r,n)=>{const i=e(r,n);return i&&i.prerelease.length?i.prerelease:null},"prerelease"),Kb}a(due,"requirePrerelease");var Zb,T7;function Ia(){if(T7)return Zb;T7=1;const e=ii();return Zb=a((r,n,i)=>new e(r,i).compare(new e(n,i)),"compare"),Zb}a(Ia,"requireCompare");var Yb,N7;function fue(){if(N7)return Yb;N7=1;const e=Ia();return Yb=a((r,n,i)=>e(n,r,i),"rcompare"),Yb}a(fue,"requireRcompare");var $b,I7;function hue(){if(I7)return $b;I7=1;const e=Ia();return $b=a((r,n)=>e(r,n,!0),"compareLoose"),$b}a(hue,"requireCompareLoose");var Qb,C7;function v3(){if(C7)return Qb;C7=1;const e=ii();return Qb=a((r,n,i)=>{const s=new e(r,i),o=new e(n,i);return s.compare(o)||s.compareBuild(o)},"compareBuild"),Qb}a(v3,"requireCompareBuild");var Wb,M7;function pue(){if(M7)return Wb;M7=1;const e=v3();return Wb=a((r,n)=>r.sort((i,s)=>e(i,s,n)),"sort"),Wb}a(pue,"requireSort");var Xb,O7;function mue(){if(O7)return Xb;O7=1;const e=v3();return Xb=a((r,n)=>r.sort((i,s)=>e(s,i,n)),"rsort"),Xb}a(mue,"requireRsort");var Jb,R7;function Lm(){if(R7)return Jb;R7=1;const e=Ia();return Jb=a((r,n,i)=>e(r,n,i)>0,"gt"),Jb}a(Lm,"requireGt");var qb,L7;function y3(){if(L7)return qb;L7=1;const e=Ia();return qb=a((r,n,i)=>e(r,n,i)<0,"lt"),qb}a(y3,"requireLt");var ev,D7;function x9(){if(D7)return ev;D7=1;const e=Ia();return ev=a((r,n,i)=>e(r,n,i)===0,"eq"),ev}a(x9,"requireEq");var tv,j7;function _9(){if(j7)return tv;j7=1;const e=Ia();return tv=a((r,n,i)=>e(r,n,i)!==0,"neq"),tv}a(_9,"requireNeq");var rv,P7;function w3(){if(P7)return rv;P7=1;const e=Ia();return rv=a((r,n,i)=>e(r,n,i)>=0,"gte"),rv}a(w3,"requireGte");var nv,z7;function x3(){if(z7)return nv;z7=1;const e=Ia();return nv=a((r,n,i)=>e(r,n,i)<=0,"lte"),nv}a(x3,"requireLte");var iv,B7;function E9(){if(B7)return iv;B7=1;const e=x9(),t=_9(),r=Lm(),n=w3(),i=y3(),s=x3();return iv=a((l,u,c,d)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,d);case"!=":return t(l,c,d);case">":return r(l,c,d);case">=":return n(l,c,d);case"<":return i(l,c,d);case"<=":return s(l,c,d);default:throw new TypeError(`Invalid operator: ${u}`)}},"cmp"),iv}a(E9,"requireCmp");var av,F7;function gue(){if(F7)return av;F7=1;const e=ii(),t=Ku(),{safeRe:r,t:n}=If();return av=a((s,o)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let l=null;if(!o.rtl)l=s.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const m=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let y;for(;(y=m.exec(s))&&(!l||l.index+l[0].length!==s.length);)(!l||y.index+y[0].length!==l.index+l[0].length)&&(l=y),m.lastIndex=y.index+y[1].length+y[2].length;m.lastIndex=-1}if(l===null)return null;const u=l[2],c=l[3]||"0",d=l[4]||"0",f=o.includePrerelease&&l[5]?`-${l[5]}`:"",g=o.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${u}.${c}.${d}${f}${g}`,o)},"coerce"),av}a(gue,"requireCoerce");var sv,U7;function bue(){if(U7)return sv;U7=1;class e{static{a(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return sv=e,sv}a(bue,"requireLrucache");var ov,H7;function Ca(){if(H7)return ov;H7=1;const e=/\s+/g;class t{static{a(this,"Range")}constructor(x,E){if(E=i(E),x instanceof t)return x.loose===!!E.loose&&x.includePrerelease===!!E.includePrerelease?x:new t(x.raw,E);if(x instanceof s)return this.raw=x.value,this.set=[[x]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=x.trim().replace(e," "),this.set=this.raw.split("||").map(T=>this.parseRange(T.trim())).filter(T=>T.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const T=this.set[0];if(this.set=this.set.filter(N=>!_(N[0])),this.set.length===0)this.set=[T];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&A(N[0])){this.set=[N];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let x=0;x<this.set.length;x++){x>0&&(this.formatted+="||");const E=this.set[x];for(let T=0;T<E.length;T++)T>0&&(this.formatted+=" "),this.formatted+=E[T].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(x){const T=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+x,N=n.get(T);if(N)return N;const k=this.options.loose,p=k?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];x=x.replace(p,h(this.options.includePrerelease)),o("hyphen replace",x),x=x.replace(u[c.COMPARATORTRIM],d),o("comparator trim",x),x=x.replace(u[c.TILDETRIM],f),o("tilde trim",x),x=x.replace(u[c.CARETTRIM],g),o("caret trim",x);let S=x.split(" ").map(B=>O(B,this.options)).join(" ").split(/\s+/).map(B=>Y(B,this.options));k&&(S=S.filter(B=>(o("loose invalid filter",B,this.options),!!B.match(u[c.COMPARATORLOOSE])))),o("range list",S);const C=new Map,M=S.map(B=>new s(B,this.options));for(const B of M){if(_(B))return[B];C.set(B.value,B)}C.size>1&&C.has("")&&C.delete("");const U=[...C.values()];return n.set(T,U),U}intersects(x,E){if(!(x instanceof t))throw new TypeError("a Range is required");return this.set.some(T=>I(T,E)&&x.set.some(N=>I(N,E)&&T.every(k=>N.every(p=>k.intersects(p,E)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new l(x,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(w(this.set[E],x,this.options))return!0;return!1}}ov=t;const r=bue(),n=new r,i=b3(),s=Dm(),o=Rm(),l=ii(),{safeRe:u,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:g}=If(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=Om(),_=a(b=>b.value==="<0.0.0-0","isNullSet"),A=a(b=>b.value==="","isAny"),I=a((b,x)=>{let E=!0;const T=b.slice();let N=T.pop();for(;E&&T.length;)E=T.every(k=>N.intersects(k,x)),N=T.pop();return E},"isSatisfiable"),O=a((b,x)=>(b=b.replace(u[c.BUILD],""),o("comp",b,x),b=P(b,x),o("caret",b),b=L(b,x),o("tildes",b),b=V(b,x),o("xrange",b),b=F(b,x),o("stars",b),b),"parseComparator"),R=a(b=>!b||b.toLowerCase()==="x"||b==="*","isX"),L=a((b,x)=>b.trim().split(/\s+/).map(E=>D(E,x)).join(" "),"replaceTildes"),D=a((b,x)=>{const E=x.loose?u[c.TILDELOOSE]:u[c.TILDE];return b.replace(E,(T,N,k,p,S)=>{o("tilde",b,T,N,k,p,S);let C;return R(N)?C="":R(k)?C=`>=${N}.0.0 <${+N+1}.0.0-0`:R(p)?C=`>=${N}.${k}.0 <${N}.${+k+1}.0-0`:S?(o("replaceTilde pr",S),C=`>=${N}.${k}.${p}-${S} <${N}.${+k+1}.0-0`):C=`>=${N}.${k}.${p} <${N}.${+k+1}.0-0`,o("tilde return",C),C})},"replaceTilde"),P=a((b,x)=>b.trim().split(/\s+/).map(E=>Z(E,x)).join(" "),"replaceCarets"),Z=a((b,x)=>{o("caret",b,x);const E=x.loose?u[c.CARETLOOSE]:u[c.CARET],T=x.includePrerelease?"-0":"";return b.replace(E,(N,k,p,S,C)=>{o("caret",b,N,k,p,S,C);let M;return R(k)?M="":R(p)?M=`>=${k}.0.0${T} <${+k+1}.0.0-0`:R(S)?k==="0"?M=`>=${k}.${p}.0${T} <${k}.${+p+1}.0-0`:M=`>=${k}.${p}.0${T} <${+k+1}.0.0-0`:C?(o("replaceCaret pr",C),k==="0"?p==="0"?M=`>=${k}.${p}.${S}-${C} <${k}.${p}.${+S+1}-0`:M=`>=${k}.${p}.${S}-${C} <${k}.${+p+1}.0-0`:M=`>=${k}.${p}.${S}-${C} <${+k+1}.0.0-0`):(o("no pr"),k==="0"?p==="0"?M=`>=${k}.${p}.${S}${T} <${k}.${p}.${+S+1}-0`:M=`>=${k}.${p}.${S}${T} <${k}.${+p+1}.0-0`:M=`>=${k}.${p}.${S} <${+k+1}.0.0-0`),o("caret return",M),M})},"replaceCaret"),V=a((b,x)=>(o("replaceXRanges",b,x),b.split(/\s+/).map(E=>W(E,x)).join(" ")),"replaceXRanges"),W=a((b,x)=>{b=b.trim();const E=x.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return b.replace(E,(T,N,k,p,S,C)=>{o("xRange",b,T,N,k,p,S,C);const M=R(k),U=M||R(p),B=U||R(S),G=B;return N==="="&&G&&(N=""),C=x.includePrerelease?"-0":"",M?N===">"||N==="<"?T="<0.0.0-0":T="*":N&&G?(U&&(p=0),S=0,N===">"?(N=">=",U?(k=+k+1,p=0,S=0):(p=+p+1,S=0)):N==="<="&&(N="<",U?k=+k+1:p=+p+1),N==="<"&&(C="-0"),T=`${N+k}.${p}.${S}${C}`):U?T=`>=${k}.0.0${C} <${+k+1}.0.0-0`:B&&(T=`>=${k}.${p}.0${C} <${k}.${+p+1}.0-0`),o("xRange return",T),T})},"replaceXRange"),F=a((b,x)=>(o("replaceStars",b,x),b.trim().replace(u[c.STAR],"")),"replaceStars"),Y=a((b,x)=>(o("replaceGTE0",b,x),b.trim().replace(u[x.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),h=a(b=>(x,E,T,N,k,p,S,C,M,U,B,G)=>(R(T)?E="":R(N)?E=`>=${T}.0.0${b?"-0":""}`:R(k)?E=`>=${T}.${N}.0${b?"-0":""}`:p?E=`>=${E}`:E=`>=${E}${b?"-0":""}`,R(M)?C="":R(U)?C=`<${+M+1}.0.0-0`:R(B)?C=`<${M}.${+U+1}.0-0`:G?C=`<=${M}.${U}.${B}-${G}`:b?C=`<${M}.${U}.${+B+1}-0`:C=`<=${C}`,`${E} ${C}`.trim()),"hyphenReplace"),w=a((b,x,E)=>{for(let T=0;T<b.length;T++)if(!b[T].test(x))return!1;if(x.prerelease.length&&!E.includePrerelease){for(let T=0;T<b.length;T++)if(o(b[T].semver),b[T].semver!==s.ANY&&b[T].semver.prerelease.length>0){const N=b[T].semver;if(N.major===x.major&&N.minor===x.minor&&N.patch===x.patch)return!0}return!1}return!0},"testSet");return ov}a(Ca,"requireRange");var lv,G7;function Dm(){if(G7)return lv;G7=1;const e=Symbol("SemVer ANY");class t{static{a(this,"Comparator")}static get ANY(){return e}constructor(d,f){if(f=r(f),d instanceof t){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=d.match(f);if(!g)throw new TypeError(`Invalid comparator: ${d}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new l(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new l(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new u(this.value,f).test(d.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}lv=t;const r=b3(),{safeRe:n,t:i}=If(),s=E9(),o=Rm(),l=ii(),u=Ca();return lv}a(Dm,"requireComparator");var uv,V7;function jm(){if(V7)return uv;V7=1;const e=Ca();return uv=a((r,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(r)},"satisfies"),uv}a(jm,"requireSatisfies");var cv,K7;function vue(){if(K7)return cv;K7=1;const e=Ca();return cv=a((r,n)=>new e(r,n).set.map(i=>i.map(s=>s.value).join(" ").trim().split(" ")),"toComparators"),cv}a(vue,"requireToComparators");var dv,Z7;function yue(){if(Z7)return dv;Z7=1;const e=ii(),t=Ca();return dv=a((n,i,s)=>{let o=null,l=null,u=null;try{u=new t(i,s)}catch{return null}return n.forEach(c=>{u.test(c)&&(!o||l.compare(c)===-1)&&(o=c,l=new e(o,s))}),o},"maxSatisfying"),dv}a(yue,"requireMaxSatisfying");var fv,Y7;function wue(){if(Y7)return fv;Y7=1;const e=ii(),t=Ca();return fv=a((n,i,s)=>{let o=null,l=null,u=null;try{u=new t(i,s)}catch{return null}return n.forEach(c=>{u.test(c)&&(!o||l.compare(c)===1)&&(o=c,l=new e(o,s))}),o},"minSatisfying"),fv}a(wue,"requireMinSatisfying");var hv,$7;function xue(){if($7)return hv;$7=1;const e=ii(),t=Ca(),r=Lm();return hv=a((i,s)=>{i=new t(i,s);let o=new e("0.0.0");if(i.test(o)||(o=new e("0.0.0-0"),i.test(o)))return o;o=null;for(let l=0;l<i.set.length;++l){const u=i.set[l];let c=null;u.forEach(d=>{const f=new e(d.semver.version);switch(d.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!c||r(f,c))&&(c=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),c&&(!o||r(o,c))&&(o=c)}return o&&i.test(o)?o:null},"minVersion"),hv}a(xue,"requireMinVersion");var pv,Q7;function _ue(){if(Q7)return pv;Q7=1;const e=Ca();return pv=a((r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},"validRange"),pv}a(_ue,"requireValid");var mv,W7;function _3(){if(W7)return mv;W7=1;const e=ii(),t=Dm(),{ANY:r}=t,n=Ca(),i=jm(),s=Lm(),o=y3(),l=x3(),u=w3();return mv=a((d,f,g,m)=>{d=new e(d,m),f=new n(f,m);let y,_,A,I,O;switch(g){case">":y=s,_=l,A=o,I=">",O=">=";break;case"<":y=o,_=u,A=s,I="<",O="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(d,f,m))return!1;for(let R=0;R<f.set.length;++R){const L=f.set[R];let D=null,P=null;if(L.forEach(Z=>{Z.semver===r&&(Z=new t(">=0.0.0")),D=D||Z,P=P||Z,y(Z.semver,D.semver,m)?D=Z:A(Z.semver,P.semver,m)&&(P=Z)}),D.operator===I||D.operator===O||(!P.operator||P.operator===I)&&_(d,P.semver))return!1;if(P.operator===O&&A(d,P.semver))return!1}return!0},"outside"),mv}a(_3,"requireOutside");var gv,X7;function Eue(){if(X7)return gv;X7=1;const e=_3();return gv=a((r,n,i)=>e(r,n,">",i),"gtr"),gv}a(Eue,"requireGtr");var bv,J7;function Sue(){if(J7)return bv;J7=1;const e=_3();return bv=a((r,n,i)=>e(r,n,"<",i),"ltr"),bv}a(Sue,"requireLtr");var vv,q7;function kue(){if(q7)return vv;q7=1;const e=Ca();return vv=a((r,n,i)=>(r=new e(r,i),n=new e(n,i),r.intersects(n,i)),"intersects"),vv}a(kue,"requireIntersects");var yv,eE;function Aue(){if(eE)return yv;eE=1;const e=jm(),t=Ia();return yv=a((r,n,i)=>{const s=[];let o=null,l=null;const u=r.sort((g,m)=>t(g,m,i));for(const g of u)e(g,n,i)?(l=g,o||(o=g)):(l&&s.push([o,l]),l=null,o=null);o&&s.push([o,null]);const c=[];for(const[g,m]of s)g===m?c.push(g):!m&&g===u[0]?c.push("*"):m?g===u[0]?c.push(`<=${m}`):c.push(`${g} - ${m}`):c.push(`>=${g}`);const d=c.join(" || "),f=typeof n.raw=="string"?n.raw:String(n);return d.length<f.length?d:n},"simplify"),yv}a(Aue,"requireSimplify");var wv,tE;function Tue(){if(tE)return wv;tE=1;const e=Ca(),t=Dm(),{ANY:r}=t,n=jm(),i=Ia(),s=a((f,g,m={})=>{if(f===g)return!0;f=new e(f,m),g=new e(g,m);let y=!1;e:for(const _ of f.set){for(const A of g.set){const I=u(_,A,m);if(y=y||I!==null,I)continue e}if(y)return!1}return!0},"subset"),o=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],u=a((f,g,m)=>{if(f===g)return!0;if(f.length===1&&f[0].semver===r){if(g.length===1&&g[0].semver===r)return!0;m.includePrerelease?f=o:f=l}if(g.length===1&&g[0].semver===r){if(m.includePrerelease)return!0;g=l}const y=new Set;let _,A;for(const V of f)V.operator===">"||V.operator===">="?_=c(_,V,m):V.operator==="<"||V.operator==="<="?A=d(A,V,m):y.add(V.semver);if(y.size>1)return null;let I;if(_&&A){if(I=i(_.semver,A.semver,m),I>0)return null;if(I===0&&(_.operator!==">="||A.operator!=="<="))return null}for(const V of y){if(_&&!n(V,String(_),m)||A&&!n(V,String(A),m))return null;for(const W of g)if(!n(V,String(W),m))return!1;return!0}let O,R,L,D,P=A&&!m.includePrerelease&&A.semver.prerelease.length?A.semver:!1,Z=_&&!m.includePrerelease&&_.semver.prerelease.length?_.semver:!1;P&&P.prerelease.length===1&&A.operator==="<"&&P.prerelease[0]===0&&(P=!1);for(const V of g){if(D=D||V.operator===">"||V.operator===">=",L=L||V.operator==="<"||V.operator==="<=",_){if(Z&&V.semver.prerelease&&V.semver.prerelease.length&&V.semver.major===Z.major&&V.semver.minor===Z.minor&&V.semver.patch===Z.patch&&(Z=!1),V.operator===">"||V.operator===">="){if(O=c(_,V,m),O===V&&O!==_)return!1}else if(_.operator===">="&&!n(_.semver,String(V),m))return!1}if(A){if(P&&V.semver.prerelease&&V.semver.prerelease.length&&V.semver.major===P.major&&V.semver.minor===P.minor&&V.semver.patch===P.patch&&(P=!1),V.operator==="<"||V.operator==="<="){if(R=d(A,V,m),R===V&&R!==A)return!1}else if(A.operator==="<="&&!n(A.semver,String(V),m))return!1}if(!V.operator&&(A||_)&&I!==0)return!1}return!(_&&L&&!A&&I!==0||A&&D&&!_&&I!==0||Z||P)},"simpleSubset"),c=a((f,g,m)=>{if(!f)return g;const y=i(f.semver,g.semver,m);return y>0?f:y<0||g.operator===">"&&f.operator===">="?g:f},"higherGT"),d=a((f,g,m)=>{if(!f)return g;const y=i(f.semver,g.semver,m);return y<0?f:y>0||g.operator==="<"&&f.operator==="<="?g:f},"lowerLT");return wv=s,wv}a(Tue,"requireSubset");var xv,rE;function Nue(){if(rE)return xv;rE=1;const e=If(),t=Om(),r=ii(),n=w9(),i=Ku(),s=iue(),o=aue(),l=sue(),u=oue(),c=lue(),d=uue(),f=cue(),g=due(),m=Ia(),y=fue(),_=hue(),A=v3(),I=pue(),O=mue(),R=Lm(),L=y3(),D=x9(),P=_9(),Z=w3(),V=x3(),W=E9(),F=gue(),Y=Dm(),h=Ca(),w=jm(),b=vue(),x=yue(),E=wue(),T=xue(),N=_ue(),k=_3(),p=Eue(),S=Sue(),C=kue(),M=Aue(),U=Tue();return xv={parse:i,valid:s,clean:o,inc:l,diff:u,major:c,minor:d,patch:f,prerelease:g,compare:m,rcompare:y,compareLoose:_,compareBuild:A,sort:I,rsort:O,gt:R,lt:L,eq:D,neq:P,gte:Z,lte:V,cmp:W,coerce:F,Comparator:Y,Range:h,satisfies:w,toComparators:b,maxSatisfying:x,minSatisfying:E,minVersion:T,validRange:N,outside:k,gtr:p,ltr:S,intersects:C,simplifyRange:M,subset:U,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},xv}a(Nue,"requireSemver");var Iue=Nue();const Cue=Du(Iue);function Mue(){const{toast:e}=Gr(),{data:t}=c9();async function r(i){const s=`https://api.github.com/repos/${i}/releases/latest`;try{const o=await fetch(s,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"fetch-latest-release"}});if(!o.ok)throw new Error(`Failed to fetch latest release: ${o.status} ${o.statusText}`);return(await o.json()).tag_name}catch{}}a(r,"getLatestRelease");const n=H.useCallback(async()=>{try{const i=await r("elizaos/eliza"),s=t?.version;i&&s&&Cue.gt(i.replace("v",""),s.replace("v",""))&&e({variant:"default",title:`New version ${i} is available.`,description:"Visit GitHub for more information.",action:v.jsx(Np,{to:"https://github.com/elizaos/eliza/releases",target:"_blank",children:v.jsx(m9,{altText:"Update",children:"Update"})})})}catch(i){We.error(`Unable to retrieve latest version from GitHub: ${i}`)}},[e,t?.version]);return H.useEffect(()=>{n()},[n]),null}a(Mue,"useVersion");const Oue=a(({text:e})=>{const[t,r]=H.useState(!1),n=a(()=>{navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},"handleCopy");return v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{onClick:n,variant:"ghost",size:"icon",className:"flex items-center space-x-2 text-muted-foreground",children:t?v.jsx(Fs,{className:"size-3"}):v.jsx(Ua,{className:"size-3"})})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Copy"})})]})},"CopyButton$1"),Rue=a(({onClick:e})=>v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{onClick:e,variant:"ghost",size:"icon",className:"text-muted-foreground",children:v.jsx(pl,{className:"size-3"})})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Delete"})})]}),"DeleteButton");function Lue({onClick:e,className:t}){return v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{variant:"ghost",size:"icon",className:`text-muted-foreground ${t}`,onClick:e,children:v.jsx(FF,{className:"size-3"})})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Retry message"})})]})}a(Lue,"RetryButton");const Due=a(e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const r of t){const n=e.match(r);if(n)return n[1]}return null},"getYouTubeId"),jue=a(e=>{const t=e.match(/spotify\.com\/(track|album|playlist|episode|show)\/([a-zA-Z0-9]+)(?:\?.*)?/);return t?{type:t[1],id:t[2]}:null},"getSpotifyId"),Pue=a(e=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)(\?.*)?$/i.test(e),"isImageUrl$1"),zue=a(e=>/\.(mp4|webm|ogg|mov|avi|wmv|flv|mkv)(\?.*)?$/i.test(e),"isVideoUrl"),Bue=a(e=>/\.(mp3|wav|ogg|aac|flac|m4a|wma)(\?.*)?$/i.test(e),"isAudioUrl"),Fue=a(e=>/\.pdf(\?.*)?$/i.test(e)||e.includes("pdf"),"isPdfUrl"),Uue=a(e=>/\.(pdf|doc|docx|ppt|pptx|xls|xlsx|txt)(\?.*)?$/i.test(e),"isDocumentUrl");function nE({url:e,title:t,className:r,maxWidth:n=600,maxHeight:i=400}){const[s,o]=H.useState(!0),[l,u]=H.useState(!1),c=a(()=>o(!1),"handleLoad"),d=a(()=>{o(!1),u(!0)},"handleError"),f=Due(e);if(f)return v.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[s&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:v.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[v.jsx(c2,{className:"w-6 h-6"}),v.jsx("span",{children:"Loading video..."})]})}),v.jsx("iframe",{src:`https://www.youtube.com/embed/${f}`,title:t||"YouTube video",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:c,onError:d})]});const g=jue(e);if(g){const m=g.type==="track"?152:g.type==="episode"?232:352;return v.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n},children:[s&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:v.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[v.jsx(py,{className:"w-6 h-6"}),v.jsx("span",{children:"Loading Spotify content..."})]})}),v.jsx("iframe",{src:`https://open.spotify.com/embed/${g.type}/${g.id}?utm_source=generator`,width:"100%",height:m,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:t||"Spotify content",onLoad:c,onError:d})]})}return Pue(e)?v.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:[s&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:v.jsx("div",{className:"animate-pulse w-full h-32 bg-muted-foreground/20 rounded"})}),l?v.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[v.jsx(Yi,{className:"w-6 h-6 mr-2"}),v.jsx("span",{children:"Failed to load image"})]}):v.jsx("img",{src:e||"/placeholder.svg",alt:t||"Image",width:n,height:i,className:"w-full h-auto object-contain",onLoad:c,onError:d})]}):zue(e)?v.jsx("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:n,maxHeight:i},children:l?v.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[v.jsx(Yi,{className:"w-6 h-6 mr-2"}),v.jsx("span",{children:"Failed to load video"})]}):v.jsxs("video",{controls:!0,preload:"metadata",className:"w-full h-auto",onLoadedData:c,onError:d,crossOrigin:"anonymous",children:[v.jsx("source",{src:e}),"Your browser does not support the video tag."]})}):Bue(e)?v.jsxs("div",{className:Ve("relative rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:[v.jsxs("div",{className:"flex items-center space-x-3 mb-3 overflow-hidden",children:[v.jsx(py,{className:"w-5 h-5 text-muted-foreground"}),v.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Audio File"})]}),l?v.jsxs("div",{className:"flex items-center text-muted-foreground",children:[v.jsx(Yi,{className:"w-4 h-4 mr-2"}),v.jsx("span",{className:"text-sm",children:"Failed to load audio"})]}):v.jsxs("audio",{controls:!0,className:"w-full",preload:"metadata",onLoadedData:c,onError:d,crossOrigin:"anonymous",children:[v.jsx("source",{src:e}),"Your browser does not support the audio tag."]})]}):Fue(e)?v.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-card border",r),style:{maxWidth:n},children:[v.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 border-b gap-10",children:[v.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[v.jsx(al,{className:"w-5 h-5 text-muted-foreground"}),v.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"PDF Document"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[v.jsx(Bc,{className:"w-4 h-4"}),v.jsx("span",{children:"View"})]}),v.jsxs("a",{href:e,download:!0,className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[v.jsx(xA,{className:"w-4 h-4"}),v.jsx("span",{children:"Download"})]})]})]}),v.jsx("div",{className:"relative",style:{height:Math.min(i,500)},children:l?v.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground h-full",children:[v.jsx(Yi,{className:"w-8 h-8 mb-2"}),v.jsx("span",{className:"text-center mb-4",children:"PDF preview not available"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",children:"Open in Google Viewer"}),v.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",children:"Open Original"})]})]}):v.jsxs(v.Fragment,{children:[s&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:v.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[v.jsx(al,{className:"w-6 h-6"}),v.jsx("span",{children:"Loading PDF..."})]})}),v.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,className:"w-full h-full border-0",title:t||"PDF Document",onLoad:c,onError:a(()=>{const m=document.createElement("iframe");m.src=`${e}#toolbar=0&navpanes=0&scrollbar=0`,m.className="w-full h-full border-0",m.title=t||"PDF Document",m.onload=c,m.onerror=d;const y=document.querySelector(`[data-pdf-container="${e}"]`);y&&(y.innerHTML="",y.appendChild(m))},"onError")}),v.jsx("div",{"data-pdf-container":e,className:"hidden"})]})}),v.jsx("div",{className:"p-2 bg-muted/50 border-t text-xs text-muted-foreground",children:v.jsx("span",{children:`PDF Document  Click "View" or "Download" if preview doesn't load`})})]}):Uue(e)?v.jsx("div",{className:Ve("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(al,{className:"w-8 h-8 text-muted-foreground"}),v.jsxs("div",{className:"flex-1 overflow-hidden mr-6",children:[v.jsx("p",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Document"}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.split(".").pop()?.toUpperCase()," file"]})]}),v.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[v.jsx(Bc,{className:"w-4 h-4"}),v.jsx("span",{children:"Open"})]})]})}):v.jsx("div",{className:Ve("rounded-lg bg-card border p-4",r),style:{maxWidth:n},children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(Bc,{className:"w-8 h-8 text-muted-foreground"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-sm text-primary font-medium",children:t||"External Link"}),v.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]}),v.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[v.jsx(Bc,{className:"w-4 h-4"}),v.jsx("span",{children:"Open"})]})]})})}a(nE,"MediaContent");function Zu(){Gn(),On();const{toast:e}=Gr(),t=xle(),r=_le(),[n,i]=H.useState([]),[s,o]=H.useState([]);return{startAgent:a(async f=>{if(!f.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const g=f.id;if(!n.includes(g))try{i(m=>[...m,g]),await t.mutateAsync(g)}catch(m){console.error("Failed to start agent:",m)}finally{i(m=>m.filter(y=>y!==g))}},"startAgent"),stopAgent:a(async f=>{if(!f.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const g=f.id;if(!s.includes(g))try{o(m=>[...m,g]),await r.mutateAsync(g),e({title:"Agent Stopped",description:`${f.name} has been stopped`})}catch(m){console.error("Failed to stop agent:",m)}finally{o(m=>m.filter(y=>y!==g))}},"stopAgent"),isAgentStarting:a(f=>f?n.includes(f):!1,"isAgentStarting"),isAgentStopping:a(f=>f?s.includes(f):!1,"isAgentStopping"),startingAgents:n,stoppingAgents:s}}a(Zu,"useAgentManagement");function Hue({agent:e,variant:t="destructive",size:r="default",className:n="",showIcon:i=!0,redirectToHome:s=!1,onStopComplete:o}){const{stopAgent:l,isAgentStopping:u}=Zu(),c=Gn(),d=u(e.id),{confirm:f,isOpen:g,onOpenChange:m,onConfirm:y,options:_}=Ll(),A=a(()=>{f({title:"Stop Agent",description:`Are you sure you want to stop "${e.name}"?`,confirmText:"Stop",variant:"destructive"},async()=>{try{await l(e),o&&o(),s&&c("/")}catch(I){We.error("Error stopping agent:",I)}})},"handleStopAgent");return v.jsxs(v.Fragment,{children:[v.jsx(ct,{type:"button",variant:t,size:r,className:n,onClick:A,disabled:d,children:d?v.jsxs(v.Fragment,{children:[i&&v.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Stopping..."]}):v.jsxs(v.Fragment,{children:[i&&v.jsx(UF,{className:"mr-2 h-4 w-4"}),"Stop"]})}),v.jsx(Rl,{open:g,onOpenChange:m,title:_?.title||"",description:_?.description||"",confirmText:_?.confirmText,cancelText:_?.cancelText,variant:_?.variant,onConfirm:y})]})}a(Hue,"StopAgentButton");function S9({isOpen:e,onClose:t,agentId:r}){if(!e)return null;const{startAgent:n,isAgentStarting:i,isAgentStopping:s}=Zu(),{toast:o}=Gr(),l=Gn(),{data:u}=Nf(r),c=u?.data,d=c?.status===bn.ACTIVE,f=i(r),g=s(r),m=f||g,y={label:"Start",icon:v.jsx(c2,{className:"w-4 h-4"})};f&&(y.label="Starting...",y.icon=v.jsx(zn,{className:"animate-spin w-4 h-4"}));const _=a(()=>{m||n(c)},"handleAgentStart"),A=a(()=>{if(!u?.data)return;const I={...u.data,createdAt:u.data.createdAt||Date.now(),updatedAt:u.data.updatedAt||Date.now()};x2(I,o)},"handleExportCharacter");return v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:t,onKeyUp:a(I=>{(I.key==="Enter"||I.key===" ")&&t()},"onKeyUp"),children:v.jsxs(is,{className:"flex flex-col w-full max-w-md md:max-w-xl overflow-hidden relative",onClick:a(I=>I.stopPropagation(),"onClick"),children:[v.jsxs(Cm,{className:"p-0 space-y-0",children:[v.jsx("div",{className:"absolute top-4 right-4 z-10",children:v.jsx(ct,{variant:"ghost",size:"icon",onClick:t,children:v.jsx(vi,{className:"w-5 h-5"})})}),v.jsx("div",{className:"p-6 w-full flex items-end bg-gradient-to-b from-primary/20 to-background",children:v.jsx("div",{className:"flex w-full justify-between items-end",children:v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("div",{className:"w-24 h-24 flex justify-center items-center relative",children:[v.jsx("div",{className:"text-4xl bg-muted rounded-full h-full w-full flex justify-center items-center overflow-hidden border-4 border-background",children:typeof c?.settings?.avatar=="string"?v.jsx("img",{src:c.settings.avatar,alt:"Agent Avatar",className:"w-full h-full object-cover"}):gl(c?.name??"")}),v.jsx("div",{className:`absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-background ${d?"bg-emerald-500":"bg-muted-foreground"}`})]}),v.jsxs("div",{className:"flex flex-col justify-center mr-4",children:[v.jsx("div",{className:"text-xl font-bold truncate max-w-48",children:c?.name}),v.jsx("div",{className:"text-xs text-muted-foreground",children:v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs("span",{className:"cursor-pointer hover:underline",onClick:a(I=>{I.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id)},"onClick"),onKeyUp:a(I=>{(I.key==="Enter"||I.key===" ")&&(I.stopPropagation(),c?.id&&navigator.clipboard.writeText(c.id))},"onKeyUp"),children:["ID: ",c?.id??"N/A"]})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Click to copy agent ID"})})]})})]})]})})})]}),v.jsxs(Dl,{className:"p-6 overflow-auto",children:[v.jsxs("div",{className:"rounded-md bg-muted p-4 mb-6 max-h-60 overflow-y-auto",children:[v.jsx("p",{className:"font-medium text-sm mb-2",children:"About Me"}),v.jsx("p",{className:"font-light text-sm text-gray-500",children:u?.data?.system})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm mb-2",children:"Status"}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${d?"bg-green-500":"bg-gray-400"}`}),v.jsx("span",{className:"text-sm",children:d?"Active":"Inactive"})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm mb-2",children:"Model"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(v0,{className:"w-4 h-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm",children:typeof c?.settings?.model=="string"?c.settings.model:c?.settings?.model!==void 0?String(c.settings.model):"Default"})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm mb-2",children:"Created"}),v.jsx("p",{className:"text-sm text-gray-500",children:c?.createdAt?sl(c.createdAt).format("LLL"):sl().format("LLL")})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm mb-2",children:"Plugins"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:c?.plugins&&c.plugins.length>0?c.plugins.map((I,O)=>{const R=I.replace("@elizaos/plugin-","").replace("@elizaos-plugins/plugin-","");return v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border",children:R},O)}):v.jsx("p",{className:"text-sm text-gray-500",children:"No plugins enabled"})})]})]})]}),v.jsxs(Mm,{className:"flex justify-between items-center p-4 border-t",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[d?v.jsx(Hue,{agent:c,showIcon:!0,size:"default",className:"h-9"}):v.jsxs(ct,{variant:"default",onClick:_,disabled:m,className:"h-9",children:[y.icon,v.jsx("span",{className:"ml-2",children:y.label})]}),v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs(ct,{variant:"outline",onClick:A,disabled:!c,className:"h-9",size:"sm",children:["Export",v.jsx(xA,{size:16})]})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Export character as JSON"})})]}),v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs(ct,{variant:"outline",onClick:a(()=>l(`/settings/${r}`),"onClick"),disabled:!c,className:"h-9",size:"sm",children:[v.jsx(ml,{size:16,className:"mr-1"}),"Settings"]})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:"Configure agent settings"})})]})]}),d&&v.jsx(ct,{variant:"default",className:"h-9",onClick:a(()=>l(`/chat/${c.id}`),"onClick"),children:"Message"})]})]})})}a(S9,"ProfileOverlay");function Gue(){return v.jsxs("svg",{role:"img","aria-label":"Loading animation",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"text-foreground","data-testid":"loading",children:[v.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:v.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),v.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:v.jsx("animate",{begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),v.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:v.jsx("animate",{id:"spinner_OcgL",begin:"spinner_qFRN.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})}a(Gue,"MessageLoading");const Vue=$s("flex gap-2 max-w-[60%] relative group",{variants:{variant:{received:"self-start",sent:"self-end flex-row-reverse"},layout:{default:"",ai:"max-w-full w-full items-center"}},defaultVariants:{variant:"received",layout:"default"}}),k9=H.forwardRef(({className:e,variant:t,layout:r,children:n,...i},s)=>v.jsx("div",{className:Ve(Vue({variant:t,layout:r,className:e}),"relative group"),ref:s,...i,children:H.Children.map(n,o=>H.isValidElement(o)&&typeof o.type!="string"&&o.type!==H.Fragment?H.cloneElement(o,{variant:t,layout:r}):o)}));k9.displayName="ChatBubble";const Kue=$s("",{variants:{variant:{received:"text-secondary-foreground",sent:"px-5 py-2.5 bg-secondary text-secondary-foreground rounded-lg"},layout:{default:"",ai:"border-t w-full rounded-none bg-transparent"}},defaultVariants:{variant:"received",layout:"default"}}),A9=H.forwardRef(({className:e,variant:t,layout:r,isLoading:n=!1,children:i,...s},o)=>v.jsx("div",{className:Ve(Kue({variant:t,layout:r,className:e}),"break-words max-w-full whitespace-pre-wrap"),ref:o,...s,children:n?v.jsx("div",{className:"flex items-center space-x-2",children:v.jsx(Gue,{})}):i}));A9.displayName="ChatBubbleMessage";const Zue=a(({timestamp:e,className:t,...r})=>v.jsx("div",{className:Ve("text-xs text-right select-none",t),...r,children:e}),"ChatBubbleTimestamp"),Yue=H.forwardRef(({variant:e,className:t,children:r,...n},i)=>v.jsx("div",{ref:i,className:Ve("absolute top-1/2 -translate-y-1/2 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200",e==="sent"?"-left-1 -translate-x-full flex-row-reverse":"-right-1 translate-x-full",t),...n,children:r}));Yue.displayName="ChatBubbleActionWrapper";let _s=null;function $ue({agentId:e,text:t}){const{toast:r}=Gr(),[n,i]=H.useState(!1),[s,o]=H.useState(null),[l,u]=H.useState(null),c=H.useRef(null),d=H.useRef(null),f=Lr();H.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]);const g=Ri({mutationKey:["tts",t],mutationFn:a(async()=>{console.log(" Starting TTS API call..."),console.log(" agentId:",e),console.log(" text:",t);const I=await f.audio.generateSpeech(e,{text:t});console.log(" TTS API response:",I);const{audio:O,format:R}=I;let L,D;if(O.startsWith("data:")){const[V,W]=O.split(","),F=V.match(/data:([^;]+)/);D=F?F[1]:`audio/${R||"mpeg"}`,L=W}else L=O,D=`audio/${R||"mpeg"}`;const P=atob(L),Z=new Uint8Array(P.length);for(let V=0;V<P.length;V++)Z[V]=P.charCodeAt(V);return new Blob([Z],{type:D})},"mutationFn"),onSuccess:a(I=>{o(I),d.current=I;const O=URL.createObjectURL(I);u(O),setTimeout(()=>{m()},100)},"onSuccess"),onError:a(I=>{r({variant:"destructive",title:"Unable to read message aloud",description:I.message})},"onError")}),m=a(async()=>{if(c.current)try{_s&&_s!==c.current&&(_s.pause(),_s.currentTime=0),_s=c.current,c.current.volume=1,c.current.muted=!1,await c.current.play(),i(!0)}catch(I){r({variant:"destructive",title:"Audio playback failed",description:I.message}),i(!1)}},"play"),y=a(()=>{c.current&&(c.current.pause(),c.current.currentTime=0,_s===c.current&&(_s=null)),i(!1)},"stop"),_=a(async()=>{if(g?.isPending)return;if(n){y();return}if(s||d.current||c.current?.src&&c.current.src.startsWith("blob:")){await m();return}g.mutate()},"execute"),A="text-muted-foreground size-3";return v.jsxs(v.Fragment,{children:[s?v.jsx("audio",{crossOrigin:"anonymous",playsInline:!0,ref:c,src:l||"",onEnded:a(()=>{i(!1),_s===c.current&&(_s=null)},"onEnded"),children:"Your browser does not support the audio element."}):null,v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{size:"icon",variant:"ghost",type:"button",onClick:a(()=>_(),"onClick"),disabled:g?.isPending,children:g?.isPending?v.jsx(d2,{className:A}):n?v.jsx(l2,{className:A}):v.jsx(py,{className:A})})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:n?"Stop":"Read aloud"})})]})]})}a($ue,"ChatTtsButton");const Cf=a((function(e){if(e==null)return Jue;if(typeof e=="function")return Pm(e);if(typeof e=="object")return Array.isArray(e)?Que(e):Wue(e);if(typeof e=="string")return Xue(e);throw new Error("Expected function, string, or object as test")}),"convert");function Que(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Cf(e[r]);return Pm(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}a(Que,"anyFactory$1");function Wue(e){const t=e;return Pm(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}a(Wue,"propertiesFactory");function Xue(e){return Pm(t);function t(r){return r&&r.type===e}}a(Xue,"typeFactory");function Pm(e){return t;function t(r,n,i){return!!(que(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}a(Pm,"castFactory$1");function Jue(){return!0}a(Jue,"ok$1");function que(e){return e!==null&&typeof e=="object"&&"type"in e}a(que,"looksLikeANode");const T9=[],Wc=!0,S1=!1,ap="skip";function E3(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=Cf(i),o=n?-1:1;l(e,void 0,[])();function l(u,c,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=T9,y,_,A;if((!t||s(u,c,d[d.length-1]||void 0))&&(m=ece(r(u,d)),m[0]===S1))return m;if("children"in u&&u.children){const I=u;if(I.children&&m[0]!==ap)for(_=(n?I.children.length:-1)+o,A=d.concat(I);_>-1&&_<I.children.length;){const O=I.children[_];if(y=l(O,_,A)(),y[0]===S1)return y;_=typeof y[1]=="number"?y[1]:_+o}}return m}}a(l,"factory")}a(E3,"visitParents");function ece(e){return Array.isArray(e)?e:typeof e=="number"?[Wc,e]:e==null?T9:[e]}a(ece,"toResult");function Iu(e,t,r,n){let i,s,o;typeof t=="function"&&typeof r!="function"?(s=void 0,o=t,i=r):(s=t,o=r,i=n),E3(e,s,l,i);function l(u,c){const d=c[c.length-1],f=d?d.children.indexOf(u):void 0;return o(u,f,d)}a(l,"overload")}a(Iu,"visit");function tce({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:r=[],allowDataImages:n=!1,allowedProtocols:i=[],blockedImageClass:s="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:o="text-gray-500"}){const l=t.length&&!t.every(c=>c==="*"),u=r.length&&!r.every(c=>c==="*");if(!e&&(l||u))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return c=>{const d=ace(e,t,r,n,i,s,o);Iu(c,d)}}a(tce,"harden");function iE(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}return null}}a(iE,"parseUrl");function rce(e){return typeof e!="string"?!1:e.startsWith("/")}a(rce,"isPathRelativeUrl");const nce=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),ice=new Set(["javascript:","data:","file:","vbscript:"]);function aE(e,t,r,n=!1,i=!1,s=[]){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!i)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return i&&n&&e.startsWith("data:image/")?e:null;if(typeof e=="string"&&e.startsWith("blob:")){try{if(new URL(e).protocol==="blob:"&&e.length>5){const d=e.substring(5);if(d&&d.length>0&&d!=="invalid")return e}}catch{return null}return null}const o=iE(e,r);if(!o||ice.has(o.protocol)||!(nce.has(o.protocol)||s.includes(o.protocol)||s.includes("*")))return null;if(o.protocol==="mailto:"||!o.protocol.match(/^https?:$/))return o.href;const u=rce(e);return o&&t.some(c=>{const d=iE(c,r);return!d||d.origin!==o.origin?!1:o.href.startsWith(d.href)})?u?o.pathname+o.search+o.hash:o.href:t.includes("*")?o.protocol!=="https:"&&o.protocol!=="http:"?null:u?o.pathname+o.search+o.hash:o.href:null}a(aE,"transformUrl");const _v=Symbol("node-seen"),ace=a((e,t,r,n,i,s,o)=>{const l=a((u,c,d)=>{if(u.type!=="element"||u[_v])return Wc;if(u.tagName==="a"){const f=aE(u.properties.href,t,e,!1,!1,i);return f===null?(u[_v]=!0,Iu(u,l),d&&typeof c=="number"&&(d.children[c]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(u.properties.href),class:o},children:[...u.children,{type:"text",value:" [blocked]"}]}),ap):(u.properties.href=f,u.properties.target="_blank",u.properties.rel="noopener noreferrer",Wc)}if(u.tagName==="img"){const f=aE(u.properties.src,r,e,n,!0,i);return f===null?(u[_v]=!0,Iu(u,l),d&&typeof c=="number"&&(d.children[c]={type:"element",tagName:"span",properties:{class:s},children:[{type:"text",value:"[Image blocked: "+String(u.properties.alt||"No description")+"]"}]}),ap):(u.properties.src=f,Wc)}return Wc},"visitor");return l},"createVisitor");class Mf{static{a(this,"Schema")}constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Mf.prototype.normal={};Mf.prototype.property={};Mf.prototype.space=void 0;function N9(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Mf(r,n,t)}a(N9,"merge");function Xd(e){return e.toLowerCase()}a(Xd,"normalize$1");class xi{static{a(this,"Info")}constructor(t,r){this.attribute=r,this.property=t}}xi.prototype.attribute="";xi.prototype.booleanish=!1;xi.prototype.boolean=!1;xi.prototype.commaOrSpaceSeparated=!1;xi.prototype.commaSeparated=!1;xi.prototype.defined=!1;xi.prototype.mustUseProperty=!1;xi.prototype.number=!1;xi.prototype.overloadedBoolean=!1;xi.prototype.property="";xi.prototype.spaceSeparated=!1;xi.prototype.space=void 0;let sce=0;const ir=jl(),pn=jl(),k1=jl(),wt=jl(),Ur=jl(),mu=jl(),Ni=jl();function jl(){return 2**++sce}a(jl,"increment");const A1=Object.freeze(Object.defineProperty({__proto__:null,boolean:ir,booleanish:pn,commaOrSpaceSeparated:Ni,commaSeparated:mu,number:wt,overloadedBoolean:k1,spaceSeparated:Ur},Symbol.toStringTag,{value:"Module"})),Ev=Object.keys(A1);class S3 extends xi{static{a(this,"DefinedInfo")}constructor(t,r,n,i){let s=-1;if(super(t,r),sE(this,"space",i),typeof n=="number")for(;++s<Ev.length;){const o=Ev[s];sE(this,Ev[s],(n&A1[o])===A1[o])}}}S3.prototype.defined=!0;function sE(e,t,r){r&&(e[t]=r)}a(sE,"mark");function Yu(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new S3(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Xd(n)]=n,r[Xd(s.attribute)]=n}return new Mf(t,r,e.space)}a(Yu,"create");const I9=Yu({properties:{ariaActiveDescendant:null,ariaAtomic:pn,ariaAutoComplete:null,ariaBusy:pn,ariaChecked:pn,ariaColCount:wt,ariaColIndex:wt,ariaColSpan:wt,ariaControls:Ur,ariaCurrent:null,ariaDescribedBy:Ur,ariaDetails:null,ariaDisabled:pn,ariaDropEffect:Ur,ariaErrorMessage:null,ariaExpanded:pn,ariaFlowTo:Ur,ariaGrabbed:pn,ariaHasPopup:null,ariaHidden:pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ur,ariaLevel:wt,ariaLive:null,ariaModal:pn,ariaMultiLine:pn,ariaMultiSelectable:pn,ariaOrientation:null,ariaOwns:Ur,ariaPlaceholder:null,ariaPosInSet:wt,ariaPressed:pn,ariaReadOnly:pn,ariaRelevant:null,ariaRequired:pn,ariaRoleDescription:Ur,ariaRowCount:wt,ariaRowIndex:wt,ariaRowSpan:wt,ariaSelected:pn,ariaSetSize:wt,ariaSort:null,ariaValueMax:wt,ariaValueMin:wt,ariaValueNow:wt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function C9(e,t){return t in e?e[t]:t}a(C9,"caseSensitiveTransform");function M9(e,t){return C9(e,t.toLowerCase())}a(M9,"caseInsensitiveTransform");const oce=Yu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mu,acceptCharset:Ur,accessKey:Ur,action:null,allow:null,allowFullScreen:ir,allowPaymentRequest:ir,allowUserMedia:ir,alt:null,as:null,async:ir,autoCapitalize:null,autoComplete:Ur,autoFocus:ir,autoPlay:ir,blocking:Ur,capture:null,charSet:null,checked:ir,cite:null,className:Ur,cols:wt,colSpan:null,content:null,contentEditable:pn,controls:ir,controlsList:Ur,coords:wt|mu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ir,defer:ir,dir:null,dirName:null,disabled:ir,download:k1,draggable:pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ir,formTarget:null,headers:Ur,height:wt,hidden:k1,high:wt,href:null,hrefLang:null,htmlFor:Ur,httpEquiv:Ur,id:null,imageSizes:null,imageSrcSet:null,inert:ir,inputMode:null,integrity:null,is:null,isMap:ir,itemId:null,itemProp:Ur,itemRef:Ur,itemScope:ir,itemType:Ur,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ir,low:wt,manifest:null,max:null,maxLength:wt,media:null,method:null,min:null,minLength:wt,multiple:ir,muted:ir,name:null,nonce:null,noModule:ir,noValidate:ir,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ir,optimum:wt,pattern:null,ping:Ur,placeholder:null,playsInline:ir,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ir,referrerPolicy:null,rel:Ur,required:ir,reversed:ir,rows:wt,rowSpan:wt,sandbox:Ur,scope:null,scoped:ir,seamless:ir,selected:ir,shadowRootClonable:ir,shadowRootDelegatesFocus:ir,shadowRootMode:null,shape:null,size:wt,sizes:null,slot:null,span:wt,spellCheck:pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:wt,step:null,style:null,tabIndex:wt,target:null,title:null,translate:null,type:null,typeMustMatch:ir,useMap:null,value:pn,width:wt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ur,axis:null,background:null,bgColor:null,border:wt,borderColor:null,bottomMargin:wt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ir,declare:ir,event:null,face:null,frame:null,frameBorder:null,hSpace:wt,leftMargin:wt,link:null,longDesc:null,lowSrc:null,marginHeight:wt,marginWidth:wt,noResize:ir,noHref:ir,noShade:ir,noWrap:ir,object:null,profile:null,prompt:null,rev:null,rightMargin:wt,rules:null,scheme:null,scrolling:pn,standby:null,summary:null,text:null,topMargin:wt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:wt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ir,disableRemotePlayback:ir,prefix:null,property:null,results:wt,security:null,unselectable:null},space:"html",transform:M9}),lce=Yu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ni,accentHeight:wt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:wt,amplitude:wt,arabicForm:null,ascent:wt,attributeName:null,attributeType:null,azimuth:wt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:wt,by:null,calcMode:null,capHeight:wt,className:Ur,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:wt,diffuseConstant:wt,direction:null,display:null,dur:null,divisor:wt,dominantBaseline:null,download:ir,dx:null,dy:null,edgeMode:null,editable:null,elevation:wt,enableBackground:null,end:null,event:null,exponent:wt,externalResourcesRequired:null,fill:null,fillOpacity:wt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mu,g2:mu,glyphName:mu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:wt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:wt,horizOriginX:wt,horizOriginY:wt,id:null,ideographic:wt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:wt,k:wt,k1:wt,k2:wt,k3:wt,k4:wt,kernelMatrix:Ni,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:wt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:wt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:wt,overlineThickness:wt,paintOrder:null,panose1:null,path:null,pathLength:wt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ur,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:wt,pointsAtY:wt,pointsAtZ:wt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ni,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ni,rev:Ni,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ni,requiredFeatures:Ni,requiredFonts:Ni,requiredFormats:Ni,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:wt,specularExponent:wt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:wt,strikethroughThickness:wt,string:null,stroke:null,strokeDashArray:Ni,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:wt,strokeOpacity:wt,strokeWidth:null,style:null,surfaceScale:wt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ni,tabIndex:wt,tableValues:null,target:null,targetX:wt,targetY:wt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ni,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:wt,underlineThickness:wt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:wt,values:null,vAlphabetic:wt,vMathematical:wt,vectorEffect:null,vHanging:wt,vIdeographic:wt,version:null,vertAdvY:wt,vertOriginX:wt,vertOriginY:wt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:wt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:C9}),O9=Yu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),R9=Yu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:M9}),L9=Yu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uce=/[A-Z]/g,oE=/-[a-z]/g,cce=/^data[-\w.:]+$/i;function zm(e,t){const r=Xd(t);let n=t,i=xi;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&cce.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(oE,fce);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!oE.test(s)){let o=s.replace(uce,dce);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=S3}return new i(n,t)}a(zm,"find");function dce(e){return"-"+e.toLowerCase()}a(dce,"kebab");function fce(e){return e.charAt(1).toUpperCase()}a(fce,"camelcase");const Of=N9([I9,oce,O9,R9,L9],"html"),Lo=N9([I9,lce,O9,R9,L9],"svg");function lE(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const o=r.slice(i,n).trim();(o||!s)&&t.push(o),i=n+1,n=r.indexOf(",",i)}return t}a(lE,"parse$2");function D9(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}a(D9,"stringify$1");const uE=/[#.]/g;function hce(e,t){const r=e||"",n={};let i=0,s,o;for(;i<r.length;){uE.lastIndex=i;const l=uE.exec(r),u=r.slice(i,l?l.index:r.length);u&&(s?s==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:o=u,i+=u.length),l&&(s=l[0],i++)}return{type:"element",tagName:o||t||"div",properties:n,children:[]}}a(hce,"parseSelector");function cE(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}a(cE,"parse$1");function j9(e){return e.join(" ").trim()}a(j9,"stringify");function P9(e,t,r){const n=r?bce(r):void 0;function i(s,o,...l){let u;if(s==null){u={type:"root",children:[]};const c=o;l.unshift(c)}else{u=hce(s,t);const c=u.tagName.toLowerCase(),d=n?n.get(c):void 0;if(u.tagName=d||c,pce(o))l.unshift(o);else for(const[f,g]of Object.entries(o))mce(e,u.properties,f,g)}for(const c of l)T1(u.children,c);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return a(i,"h"),i}a(P9,"createH");function pce(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}a(pce,"isChild");function mce(e,t,r,n){const i=zm(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=cE(n):i.commaSeparated?s=lE(n):i.commaOrSpaceSeparated?s=cE(lE(n).join(" ")):s=dE(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?gce(n):String(n);if(Array.isArray(s)){const o=[];for(const l of s)o.push(dE(i,i.property,l));s=o}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}a(mce,"addProperty");function T1(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)T1(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?T1(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}a(T1,"addChild");function dE(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Xd(r)===Xd(t)))return!0}return r}a(dE,"parsePrimitive");function gce(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}a(gce,"style");function bce(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}a(bce,"createAdjustMap");const vce=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],z9=P9(Of,"div"),B9=P9(Lo,"g",vce),Va={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yce(e,t){return F9(e,{})||{type:"root",children:[]}}a(yce,"fromDom");function F9(e,t){const r=wce(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}a(F9,"transform");function wce(e,t){switch(e.nodeType){case 1:return Sce(e,t);case 3:return _ce(e);case 8:return Ece(e);case 9:return fE(e,t);case 10:return xce();case 11:return fE(e,t);default:return}}a(wce,"one$4");function fE(e,t){return{type:"root",children:U9(e,t)}}a(fE,"root$5");function xce(){return{type:"doctype"}}a(xce,"doctype$2");function _ce(e){return{type:"text",value:e.nodeValue||""}}a(_ce,"text$9");function Ece(e){return{type:"comment",value:e.nodeValue||""}}a(Ece,"comment$2");function Sce(e,t){const r=e.namespaceURI,n=r===Va.svg?B9:z9,i=r===Va.html?e.tagName.toLowerCase():e.tagName,s=r===Va.html&&i==="template"?e.content:e,o=e.getAttributeNames(),l={};let u=-1;for(;++u<o.length;)l[o[u]]=e.getAttribute(o[u])||"";return n(i,l,U9(s,t))}a(Sce,"element$6");function U9(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=F9(r[i],t);s!==void 0&&n.push(s)}return n}a(U9,"all$4");new DOMParser;function kce(e,t){const r=Ace(e);return yce(r)}a(kce,"fromHtmlIsomorphic");function Ace(e){const t=document.createElement("template");return t.innerHTML=e,t.content}a(Ace,"parseFragment");const hE=a((function(e,t,r){const n=Cf(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),"findAfter"),Pl=a((function(e){if(e==null)return Ice;if(typeof e=="string")return Nce(e);if(typeof e=="object")return Tce(e);if(typeof e=="function")return k3(e);throw new Error("Expected function, string, or array as `test`")}),"convertElement");function Tce(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Pl(e[r]);return k3(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}a(Tce,"anyFactory");function Nce(e){return k3(t);function t(r){return r.tagName===e}}a(Nce,"tagNameFactory");function k3(e){return t;function t(r,n,i){return!!(Cce(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}a(k3,"castFactory");function Ice(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}a(Ice,"element$5");function Cce(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}a(Cce,"looksLikeAnElement");const pE=/\n/g,mE=/[\t ]+/g,N1=Pl("br"),gE=Pl(zce),Mce=Pl("p"),bE=Pl("tr"),Oce=Pl(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Pce,Bce]),H9=Pl(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Rce(e,t){const r=t||{},n="children"in e?e.children:[],i=H9(e),s=K9(e,{whitespace:r.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...V9(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)o.push(...G9(n[l],e,{whitespace:s,breakBefore:l?void 0:i,breakAfter:l<n.length-1?N1(n[l+1]):i}));const u=[];let c;for(l=-1;++l<o.length;){const d=o[l];typeof d=="number"?c!==void 0&&d>c&&(c=d):d&&(c!==void 0&&c>-1&&u.push(`
`.repeat(c)||" "),c=-1,u.push(d))}return u.join("")}a(Rce,"toText");function G9(e,t,r){return e.type==="element"?Lce(e,t,r):e.type==="text"?r.whitespace==="normal"?V9(e,r):Dce(e):[]}a(G9,"renderedTextCollection");function Lce(e,t,r){const n=K9(e,r),i=e.children||[];let s=-1,o=[];if(Oce(e))return o;let l,u;for(N1(e)||bE(e)&&hE(t,e,bE)?u=`
`:Mce(e)?(l=2,u=2):H9(e)&&(l=1,u=1);++s<i.length;)o=o.concat(G9(i[s],e,{whitespace:n,breakBefore:s?void 0:l,breakAfter:s<i.length-1?N1(i[s+1]):u}));return gE(e)&&hE(t,e,gE)&&o.push("	"),l&&o.unshift(l),u&&o.push(u),o}a(Lce,"collectElement");function V9(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){pE.lastIndex=s;const u=pE.exec(r),c=u&&"index"in u?u.index:r.length;n.push(jce(r.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,c===r.length?t.breakAfter:!0)),s=c+1}let o=-1,l;for(;++o<n.length;)n[o].charCodeAt(n[o].length-1)===8203||o<n.length-1&&n[o+1].charCodeAt(0)===8203?(i.push(n[o]),l=void 0):n[o]?(typeof l=="number"&&i.push(l),i.push(n[o]),l=0):(o===0||o===n.length-1)&&i.push(0);return i}a(V9,"collectText");function Dce(e){return[String(e.value)]}a(Dce,"collectPreText");function jce(e,t,r){const n=[];let i=0,s;for(;i<e.length;){mE.lastIndex=i;const o=mE.exec(e);s=o?o.index:e.length,!i&&!s&&o&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}a(jce,"trimAndCollapseSpacesAndTabs");function K9(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}a(K9,"inferWhitespace");function Pce(e){return!!(e.properties||{}).hidden}a(Pce,"hidden");function zce(e){return e.tagName==="td"||e.tagName==="th"}a(zce,"isCell");function Bce(e){return e.tagName==="dialog"&&!(e.properties||{}).open}a(Bce,"closedDialog");class pi{static{a(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new pi(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class Di{static{a(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Di(r,pi.range(this,t))}}class yt{static{a(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,s,o=r&&r.loc;if(o&&o.start<=o.end){var l=o.lexer.input;i=o.start,s=o.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=l.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+l.slice(i-15,i):c=l.slice(0,i);var d;s+15<l.length?d=l.slice(s,s+15)+"":d=l.slice(s),n+=c+u+d}var f=new Error(n);return f.name="ParseError",f.__proto__=yt.prototype,f.position=i,i!=null&&s!=null&&(f.length=s-i),f.rawMessage=t,f}}yt.prototype.__proto__=Error.prototype;var Fce=a(function(t,r){return t===void 0?r:t},"deflt2"),Uce=/([A-Z])/g,Hce=a(function(t){return t.replace(Uce,"-$1").toLowerCase()},"hyphenate2"),Gce={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Vce=/[&><"']/g;function Kce(e){return String(e).replace(Vce,t=>Gce[t])}a(Kce,"escape");var Z9=a(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem2"),Zce=a(function(t){var r=Z9(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},"isCharacterBox2"),Yce=a(function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},"assert2"),$ce=a(function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},"protocolFromUrl2"),Er={deflt:Fce,escape:Kce,hyphenate:Hce,getBaseElem:Z9,isCharacterBox:Zce,protocolFromUrl:$ce},nd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:a((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:a(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}};function Qce(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}a(Qce,"getDefaultValue");class A3{static{a(this,"Settings")}constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in nd)if(nd.hasOwnProperty(r)){var n=nd[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:Qce(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new yt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=Er.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class so{static{a(this,"Style")}constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Ba[Wce[this.id]]}sub(){return Ba[Xce[this.id]]}fracNum(){return Ba[Jce[this.id]]}fracDen(){return Ba[qce[this.id]]}cramp(){return Ba[ede[this.id]]}text(){return Ba[tde[this.id]]}isTight(){return this.size>=2}}var T3=0,sp=1,gu=2,zs=3,Jd=4,$i=5,Cu=6,qn=7,Ba=[new so(T3,0,!1),new so(sp,0,!0),new so(gu,1,!1),new so(zs,1,!0),new so(Jd,2,!1),new so($i,2,!0),new so(Cu,3,!1),new so(qn,3,!0)],Wce=[Jd,$i,Jd,$i,Cu,qn,Cu,qn],Xce=[$i,$i,$i,$i,qn,qn,qn,qn],Jce=[gu,zs,Jd,$i,Cu,qn,Cu,qn],qce=[zs,zs,$i,$i,qn,qn,qn,qn],ede=[sp,sp,zs,zs,$i,$i,qn,qn],tde=[T3,sp,gu,zs,gu,zs,gu,zs],$t={DISPLAY:Ba[T3],TEXT:Ba[gu],SCRIPT:Ba[Jd],SCRIPTSCRIPT:Ba[Cu]},I1=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function rde(e){for(var t=0;t<I1.length;t++)for(var r=I1[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}a(rde,"scriptFromCodepoint");var f0=[];I1.forEach(e=>e.blocks.forEach(t=>f0.push(...t)));function Y9(e){for(var t=0;t<f0.length;t+=2)if(e>=f0[t]&&e<=f0[t+1])return!0;return!1}a(Y9,"supportedCodepoint");var Jl=80,nde=a(function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtMain2"),ide=a(function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize12"),ade=a(function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},"sqrtSize22"),sde=a(function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},"sqrtSize32"),ode=a(function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},"sqrtSize42"),lde=a(function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},"phasePath2"),ude=a(function(t,r,n){var i=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},"sqrtTall2"),cde=a(function(t,r,n){r=1e3*r;var i="";switch(t){case"sqrtMain":i=nde(r,Jl);break;case"sqrtSize1":i=ide(r,Jl);break;case"sqrtSize2":i=ade(r,Jl);break;case"sqrtSize3":i=sde(r,Jl);break;case"sqrtSize4":i=ode(r,Jl);break;case"sqrtTall":i=ude(r,Jl,n)}return i},"sqrtPath2"),dde=a(function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},"innerPath2"),vE={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},fde=a(function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim2");class Rf{static{a(this,"DocumentFragment")}constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=a(r=>r.toText(),"toText");return this.children.map(t).join("")}}var Ka={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Th={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},yE={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function $9(e,t){Ka[e]=t}a($9,"setFontMetrics");function N3(e,t,r){if(!Ka[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=Ka[t][n];if(!i&&e[0]in yE&&(n=yE[e[0]].charCodeAt(0),i=Ka[t][n]),!i&&r==="text"&&Y9(n)&&(i=Ka[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}a(N3,"getCharacterMetrics");var Sv={};function hde(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Sv[t]){var r=Sv[t]={cssEmPerMu:Th.quad[t]/18};for(var n in Th)Th.hasOwnProperty(n)&&(r[n]=Th[n][t])}return Sv[t]}a(hde,"getGlobalMetrics");var pde=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],wE=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xE=a(function(t,r){return r.size<2?t:pde[t-1][r.size-1]},"sizeAtStyle2");class Cs{static{a(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Cs.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=wE[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Cs(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:xE(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:wE[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=xE(Cs.BASESIZE,t);return this.size===r&&this.textSize===Cs.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Cs.BASESIZE?["sizing","reset-size"+this.size,"size"+Cs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=hde(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Cs.BASESIZE=6;var C1={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mde={ex:!0,em:!0,mu:!0},Q9=a(function(t){return typeof t!="string"&&(t=t.unit),t in C1||t in mde||t==="ex"},"validUnit2"),nn=a(function(t,r){var n;if(t.unit in C1)n=C1[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,t.unit==="ex")n=i.fontMetrics().xHeight;else if(t.unit==="em")n=i.fontMetrics().quad;else throw new yt("Invalid unit: '"+t.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},"calculateSize2"),At=a(function(t){return+t.toFixed(4)+"em"},"makeEm2"),Ao=a(function(t){return t.filter(r=>r).join(" ")},"createClass2"),W9=a(function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},"initNode2"),X9=a(function(t){var r=document.createElement(t);r.className=Ao(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},"toNode2"),gde=/[\s"'>/=\x00-\x1f]/,J9=a(function(t){var r="<"+t;this.classes.length&&(r+=' class="'+Er.escape(Ao(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Er.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Er.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(gde.test(s))throw new yt("Invalid attribute name '"+s+"'");r+=" "+s+'="'+Er.escape(this.attributes[s])+'"'}r+=">";for(var o=0;o<this.children.length;o++)r+=this.children[o].toMarkup();return r+="</"+t+">",r},"toMarkup2");class Lf{static{a(this,"Span")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,W9.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return X9.call(this,"span")}toMarkup(){return J9.call(this,"span")}}class I3{static{a(this,"Anchor")}constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,W9.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return this.classes.includes(t)}toNode(){return X9.call(this,"a")}toMarkup(){return J9.call(this,"a")}}class bde{static{a(this,"Img")}constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+Er.escape(this.src)+'"'+(' alt="'+Er.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Er.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+Er.escape(r)+'"'),t+="'/>",t}}var vde={:"",:"",:"",:""};class Qi{static{a(this,"SymbolNode")}constructor(t,r,n,i,s,o,l,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=l||[],this.style=u||{},this.maxFontSize=0;var c=rde(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=vde[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=At(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Ao(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=Er.escape(Ao(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Er.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+Er.escape(n)+'"');var s=Er.escape(this.text);return t?(r+=">",r+=s,r+="</span>",r):s}}class Ks{static{a(this,"SvgNode")}constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Er.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class To{static{a(this,"PathNode")}constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",vE[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Er.escape(this.alternate)+'"/>':'<path d="'+Er.escape(vE[this.pathName])+'"/>'}}class M1{static{a(this,"LineNode")}constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Er.escape(this.attributes[r])+'"');return t+="/>",t}}function _E(e){if(e instanceof Qi)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}a(_E,"assertSymbolDomNode");function yde(e){if(e instanceof Lf)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}a(yde,"assertSpan");var wde={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xde={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Hr={math:{},text:{}};function z(e,t,r,n,i,s){Hr[e][i]={font:t,group:r,replace:n},s&&n&&(Hr[e][n]=Hr[e][i])}a(z,"defineSymbol");var K="math",ht="text",ee="main",_e="ams",Xr="accent-token",Dt="bin",ai="close",$u="inner",Yt="mathord",wn="op-token",Ui="open",Bm="punct",ke="rel",Xs="spacing",De="textord";z(K,ee,ke,"","\\equiv",!0);z(K,ee,ke,"","\\prec",!0);z(K,ee,ke,"","\\succ",!0);z(K,ee,ke,"","\\sim",!0);z(K,ee,ke,"","\\perp");z(K,ee,ke,"","\\preceq",!0);z(K,ee,ke,"","\\succeq",!0);z(K,ee,ke,"","\\simeq",!0);z(K,ee,ke,"","\\mid",!0);z(K,ee,ke,"","\\ll",!0);z(K,ee,ke,"","\\gg",!0);z(K,ee,ke,"","\\asymp",!0);z(K,ee,ke,"","\\parallel");z(K,ee,ke,"","\\bowtie",!0);z(K,ee,ke,"","\\smile",!0);z(K,ee,ke,"","\\sqsubseteq",!0);z(K,ee,ke,"","\\sqsupseteq",!0);z(K,ee,ke,"","\\doteq",!0);z(K,ee,ke,"","\\frown",!0);z(K,ee,ke,"","\\ni",!0);z(K,ee,ke,"","\\propto",!0);z(K,ee,ke,"","\\vdash",!0);z(K,ee,ke,"","\\dashv",!0);z(K,ee,ke,"","\\owns");z(K,ee,Bm,".","\\ldotp");z(K,ee,Bm,"","\\cdotp");z(K,ee,De,"#","\\#");z(ht,ee,De,"#","\\#");z(K,ee,De,"&","\\&");z(ht,ee,De,"&","\\&");z(K,ee,De,"","\\aleph",!0);z(K,ee,De,"","\\forall",!0);z(K,ee,De,"","\\hbar",!0);z(K,ee,De,"","\\exists",!0);z(K,ee,De,"","\\nabla",!0);z(K,ee,De,"","\\flat",!0);z(K,ee,De,"","\\ell",!0);z(K,ee,De,"","\\natural",!0);z(K,ee,De,"","\\clubsuit",!0);z(K,ee,De,"","\\wp",!0);z(K,ee,De,"","\\sharp",!0);z(K,ee,De,"","\\diamondsuit",!0);z(K,ee,De,"","\\Re",!0);z(K,ee,De,"","\\heartsuit",!0);z(K,ee,De,"","\\Im",!0);z(K,ee,De,"","\\spadesuit",!0);z(K,ee,De,"","\\S",!0);z(ht,ee,De,"","\\S");z(K,ee,De,"","\\P",!0);z(ht,ee,De,"","\\P");z(K,ee,De,"","\\dag");z(ht,ee,De,"","\\dag");z(ht,ee,De,"","\\textdagger");z(K,ee,De,"","\\ddag");z(ht,ee,De,"","\\ddag");z(ht,ee,De,"","\\textdaggerdbl");z(K,ee,ai,"","\\rmoustache",!0);z(K,ee,Ui,"","\\lmoustache",!0);z(K,ee,ai,"","\\rgroup",!0);z(K,ee,Ui,"","\\lgroup",!0);z(K,ee,Dt,"","\\mp",!0);z(K,ee,Dt,"","\\ominus",!0);z(K,ee,Dt,"","\\uplus",!0);z(K,ee,Dt,"","\\sqcap",!0);z(K,ee,Dt,"","\\ast");z(K,ee,Dt,"","\\sqcup",!0);z(K,ee,Dt,"","\\bigcirc",!0);z(K,ee,Dt,"","\\bullet",!0);z(K,ee,Dt,"","\\ddagger");z(K,ee,Dt,"","\\wr",!0);z(K,ee,Dt,"","\\amalg");z(K,ee,Dt,"&","\\And");z(K,ee,ke,"","\\longleftarrow",!0);z(K,ee,ke,"","\\Leftarrow",!0);z(K,ee,ke,"","\\Longleftarrow",!0);z(K,ee,ke,"","\\longrightarrow",!0);z(K,ee,ke,"","\\Rightarrow",!0);z(K,ee,ke,"","\\Longrightarrow",!0);z(K,ee,ke,"","\\leftrightarrow",!0);z(K,ee,ke,"","\\longleftrightarrow",!0);z(K,ee,ke,"","\\Leftrightarrow",!0);z(K,ee,ke,"","\\Longleftrightarrow",!0);z(K,ee,ke,"","\\mapsto",!0);z(K,ee,ke,"","\\longmapsto",!0);z(K,ee,ke,"","\\nearrow",!0);z(K,ee,ke,"","\\hookleftarrow",!0);z(K,ee,ke,"","\\hookrightarrow",!0);z(K,ee,ke,"","\\searrow",!0);z(K,ee,ke,"","\\leftharpoonup",!0);z(K,ee,ke,"","\\rightharpoonup",!0);z(K,ee,ke,"","\\swarrow",!0);z(K,ee,ke,"","\\leftharpoondown",!0);z(K,ee,ke,"","\\rightharpoondown",!0);z(K,ee,ke,"","\\nwarrow",!0);z(K,ee,ke,"","\\rightleftharpoons",!0);z(K,_e,ke,"","\\nless",!0);z(K,_e,ke,"","\\@nleqslant");z(K,_e,ke,"","\\@nleqq");z(K,_e,ke,"","\\lneq",!0);z(K,_e,ke,"","\\lneqq",!0);z(K,_e,ke,"","\\@lvertneqq");z(K,_e,ke,"","\\lnsim",!0);z(K,_e,ke,"","\\lnapprox",!0);z(K,_e,ke,"","\\nprec",!0);z(K,_e,ke,"","\\npreceq",!0);z(K,_e,ke,"","\\precnsim",!0);z(K,_e,ke,"","\\precnapprox",!0);z(K,_e,ke,"","\\nsim",!0);z(K,_e,ke,"","\\@nshortmid");z(K,_e,ke,"","\\nmid",!0);z(K,_e,ke,"","\\nvdash",!0);z(K,_e,ke,"","\\nvDash",!0);z(K,_e,ke,"","\\ntriangleleft");z(K,_e,ke,"","\\ntrianglelefteq",!0);z(K,_e,ke,"","\\subsetneq",!0);z(K,_e,ke,"","\\@varsubsetneq");z(K,_e,ke,"","\\subsetneqq",!0);z(K,_e,ke,"","\\@varsubsetneqq");z(K,_e,ke,"","\\ngtr",!0);z(K,_e,ke,"","\\@ngeqslant");z(K,_e,ke,"","\\@ngeqq");z(K,_e,ke,"","\\gneq",!0);z(K,_e,ke,"","\\gneqq",!0);z(K,_e,ke,"","\\@gvertneqq");z(K,_e,ke,"","\\gnsim",!0);z(K,_e,ke,"","\\gnapprox",!0);z(K,_e,ke,"","\\nsucc",!0);z(K,_e,ke,"","\\nsucceq",!0);z(K,_e,ke,"","\\succnsim",!0);z(K,_e,ke,"","\\succnapprox",!0);z(K,_e,ke,"","\\ncong",!0);z(K,_e,ke,"","\\@nshortparallel");z(K,_e,ke,"","\\nparallel",!0);z(K,_e,ke,"","\\nVDash",!0);z(K,_e,ke,"","\\ntriangleright");z(K,_e,ke,"","\\ntrianglerighteq",!0);z(K,_e,ke,"","\\@nsupseteqq");z(K,_e,ke,"","\\supsetneq",!0);z(K,_e,ke,"","\\@varsupsetneq");z(K,_e,ke,"","\\supsetneqq",!0);z(K,_e,ke,"","\\@varsupsetneqq");z(K,_e,ke,"","\\nVdash",!0);z(K,_e,ke,"","\\precneqq",!0);z(K,_e,ke,"","\\succneqq",!0);z(K,_e,ke,"","\\@nsubseteqq");z(K,_e,Dt,"","\\unlhd");z(K,_e,Dt,"","\\unrhd");z(K,_e,ke,"","\\nleftarrow",!0);z(K,_e,ke,"","\\nrightarrow",!0);z(K,_e,ke,"","\\nLeftarrow",!0);z(K,_e,ke,"","\\nRightarrow",!0);z(K,_e,ke,"","\\nleftrightarrow",!0);z(K,_e,ke,"","\\nLeftrightarrow",!0);z(K,_e,ke,"","\\vartriangle");z(K,_e,De,"","\\hslash");z(K,_e,De,"","\\triangledown");z(K,_e,De,"","\\lozenge");z(K,_e,De,"","\\circledS");z(K,_e,De,"","\\circledR");z(ht,_e,De,"","\\circledR");z(K,_e,De,"","\\measuredangle",!0);z(K,_e,De,"","\\nexists");z(K,_e,De,"","\\mho");z(K,_e,De,"","\\Finv",!0);z(K,_e,De,"","\\Game",!0);z(K,_e,De,"","\\backprime");z(K,_e,De,"","\\blacktriangle");z(K,_e,De,"","\\blacktriangledown");z(K,_e,De,"","\\blacksquare");z(K,_e,De,"","\\blacklozenge");z(K,_e,De,"","\\bigstar");z(K,_e,De,"","\\sphericalangle",!0);z(K,_e,De,"","\\complement",!0);z(K,_e,De,"","\\eth",!0);z(ht,ee,De,"","");z(K,_e,De,"","\\diagup");z(K,_e,De,"","\\diagdown");z(K,_e,De,"","\\square");z(K,_e,De,"","\\Box");z(K,_e,De,"","\\Diamond");z(K,_e,De,"","\\yen",!0);z(ht,_e,De,"","\\yen",!0);z(K,_e,De,"","\\checkmark",!0);z(ht,_e,De,"","\\checkmark");z(K,_e,De,"","\\beth",!0);z(K,_e,De,"","\\daleth",!0);z(K,_e,De,"","\\gimel",!0);z(K,_e,De,"","\\digamma",!0);z(K,_e,De,"","\\varkappa");z(K,_e,Ui,"","\\@ulcorner",!0);z(K,_e,ai,"","\\@urcorner",!0);z(K,_e,Ui,"","\\@llcorner",!0);z(K,_e,ai,"","\\@lrcorner",!0);z(K,_e,ke,"","\\leqq",!0);z(K,_e,ke,"","\\leqslant",!0);z(K,_e,ke,"","\\eqslantless",!0);z(K,_e,ke,"","\\lesssim",!0);z(K,_e,ke,"","\\lessapprox",!0);z(K,_e,ke,"","\\approxeq",!0);z(K,_e,Dt,"","\\lessdot");z(K,_e,ke,"","\\lll",!0);z(K,_e,ke,"","\\lessgtr",!0);z(K,_e,ke,"","\\lesseqgtr",!0);z(K,_e,ke,"","\\lesseqqgtr",!0);z(K,_e,ke,"","\\doteqdot");z(K,_e,ke,"","\\risingdotseq",!0);z(K,_e,ke,"","\\fallingdotseq",!0);z(K,_e,ke,"","\\backsim",!0);z(K,_e,ke,"","\\backsimeq",!0);z(K,_e,ke,"","\\subseteqq",!0);z(K,_e,ke,"","\\Subset",!0);z(K,_e,ke,"","\\sqsubset",!0);z(K,_e,ke,"","\\preccurlyeq",!0);z(K,_e,ke,"","\\curlyeqprec",!0);z(K,_e,ke,"","\\precsim",!0);z(K,_e,ke,"","\\precapprox",!0);z(K,_e,ke,"","\\vartriangleleft");z(K,_e,ke,"","\\trianglelefteq");z(K,_e,ke,"","\\vDash",!0);z(K,_e,ke,"","\\Vvdash",!0);z(K,_e,ke,"","\\smallsmile");z(K,_e,ke,"","\\smallfrown");z(K,_e,ke,"","\\bumpeq",!0);z(K,_e,ke,"","\\Bumpeq",!0);z(K,_e,ke,"","\\geqq",!0);z(K,_e,ke,"","\\geqslant",!0);z(K,_e,ke,"","\\eqslantgtr",!0);z(K,_e,ke,"","\\gtrsim",!0);z(K,_e,ke,"","\\gtrapprox",!0);z(K,_e,Dt,"","\\gtrdot");z(K,_e,ke,"","\\ggg",!0);z(K,_e,ke,"","\\gtrless",!0);z(K,_e,ke,"","\\gtreqless",!0);z(K,_e,ke,"","\\gtreqqless",!0);z(K,_e,ke,"","\\eqcirc",!0);z(K,_e,ke,"","\\circeq",!0);z(K,_e,ke,"","\\triangleq",!0);z(K,_e,ke,"","\\thicksim");z(K,_e,ke,"","\\thickapprox");z(K,_e,ke,"","\\supseteqq",!0);z(K,_e,ke,"","\\Supset",!0);z(K,_e,ke,"","\\sqsupset",!0);z(K,_e,ke,"","\\succcurlyeq",!0);z(K,_e,ke,"","\\curlyeqsucc",!0);z(K,_e,ke,"","\\succsim",!0);z(K,_e,ke,"","\\succapprox",!0);z(K,_e,ke,"","\\vartriangleright");z(K,_e,ke,"","\\trianglerighteq");z(K,_e,ke,"","\\Vdash",!0);z(K,_e,ke,"","\\shortmid");z(K,_e,ke,"","\\shortparallel");z(K,_e,ke,"","\\between",!0);z(K,_e,ke,"","\\pitchfork",!0);z(K,_e,ke,"","\\varpropto");z(K,_e,ke,"","\\blacktriangleleft");z(K,_e,ke,"","\\therefore",!0);z(K,_e,ke,"","\\backepsilon");z(K,_e,ke,"","\\blacktriangleright");z(K,_e,ke,"","\\because",!0);z(K,_e,ke,"","\\llless");z(K,_e,ke,"","\\gggtr");z(K,_e,Dt,"","\\lhd");z(K,_e,Dt,"","\\rhd");z(K,_e,ke,"","\\eqsim",!0);z(K,ee,ke,"","\\Join");z(K,_e,ke,"","\\Doteq",!0);z(K,_e,Dt,"","\\dotplus",!0);z(K,_e,Dt,"","\\smallsetminus");z(K,_e,Dt,"","\\Cap",!0);z(K,_e,Dt,"","\\Cup",!0);z(K,_e,Dt,"","\\doublebarwedge",!0);z(K,_e,Dt,"","\\boxminus",!0);z(K,_e,Dt,"","\\boxplus",!0);z(K,_e,Dt,"","\\divideontimes",!0);z(K,_e,Dt,"","\\ltimes",!0);z(K,_e,Dt,"","\\rtimes",!0);z(K,_e,Dt,"","\\leftthreetimes",!0);z(K,_e,Dt,"","\\rightthreetimes",!0);z(K,_e,Dt,"","\\curlywedge",!0);z(K,_e,Dt,"","\\curlyvee",!0);z(K,_e,Dt,"","\\circleddash",!0);z(K,_e,Dt,"","\\circledast",!0);z(K,_e,Dt,"","\\centerdot");z(K,_e,Dt,"","\\intercal",!0);z(K,_e,Dt,"","\\doublecap");z(K,_e,Dt,"","\\doublecup");z(K,_e,Dt,"","\\boxtimes",!0);z(K,_e,ke,"","\\dashrightarrow",!0);z(K,_e,ke,"","\\dashleftarrow",!0);z(K,_e,ke,"","\\leftleftarrows",!0);z(K,_e,ke,"","\\leftrightarrows",!0);z(K,_e,ke,"","\\Lleftarrow",!0);z(K,_e,ke,"","\\twoheadleftarrow",!0);z(K,_e,ke,"","\\leftarrowtail",!0);z(K,_e,ke,"","\\looparrowleft",!0);z(K,_e,ke,"","\\leftrightharpoons",!0);z(K,_e,ke,"","\\curvearrowleft",!0);z(K,_e,ke,"","\\circlearrowleft",!0);z(K,_e,ke,"","\\Lsh",!0);z(K,_e,ke,"","\\upuparrows",!0);z(K,_e,ke,"","\\upharpoonleft",!0);z(K,_e,ke,"","\\downharpoonleft",!0);z(K,ee,ke,"","\\origof",!0);z(K,ee,ke,"","\\imageof",!0);z(K,_e,ke,"","\\multimap",!0);z(K,_e,ke,"","\\leftrightsquigarrow",!0);z(K,_e,ke,"","\\rightrightarrows",!0);z(K,_e,ke,"","\\rightleftarrows",!0);z(K,_e,ke,"","\\twoheadrightarrow",!0);z(K,_e,ke,"","\\rightarrowtail",!0);z(K,_e,ke,"","\\looparrowright",!0);z(K,_e,ke,"","\\curvearrowright",!0);z(K,_e,ke,"","\\circlearrowright",!0);z(K,_e,ke,"","\\Rsh",!0);z(K,_e,ke,"","\\downdownarrows",!0);z(K,_e,ke,"","\\upharpoonright",!0);z(K,_e,ke,"","\\downharpoonright",!0);z(K,_e,ke,"","\\rightsquigarrow",!0);z(K,_e,ke,"","\\leadsto");z(K,_e,ke,"","\\Rrightarrow",!0);z(K,_e,ke,"","\\restriction");z(K,ee,De,"","`");z(K,ee,De,"$","\\$");z(ht,ee,De,"$","\\$");z(ht,ee,De,"$","\\textdollar");z(K,ee,De,"%","\\%");z(ht,ee,De,"%","\\%");z(K,ee,De,"_","\\_");z(ht,ee,De,"_","\\_");z(ht,ee,De,"_","\\textunderscore");z(K,ee,De,"","\\angle",!0);z(K,ee,De,"","\\infty",!0);z(K,ee,De,"","\\prime");z(K,ee,De,"","\\triangle");z(K,ee,De,"","\\Gamma",!0);z(K,ee,De,"","\\Delta",!0);z(K,ee,De,"","\\Theta",!0);z(K,ee,De,"","\\Lambda",!0);z(K,ee,De,"","\\Xi",!0);z(K,ee,De,"","\\Pi",!0);z(K,ee,De,"","\\Sigma",!0);z(K,ee,De,"","\\Upsilon",!0);z(K,ee,De,"","\\Phi",!0);z(K,ee,De,"","\\Psi",!0);z(K,ee,De,"","\\Omega",!0);z(K,ee,De,"A","");z(K,ee,De,"B","");z(K,ee,De,"E","");z(K,ee,De,"Z","");z(K,ee,De,"H","");z(K,ee,De,"I","");z(K,ee,De,"K","");z(K,ee,De,"M","");z(K,ee,De,"N","");z(K,ee,De,"O","");z(K,ee,De,"P","");z(K,ee,De,"T","");z(K,ee,De,"X","");z(K,ee,De,"","\\neg",!0);z(K,ee,De,"","\\lnot");z(K,ee,De,"","\\top");z(K,ee,De,"","\\bot");z(K,ee,De,"","\\emptyset");z(K,_e,De,"","\\varnothing");z(K,ee,Yt,"","\\alpha",!0);z(K,ee,Yt,"","\\beta",!0);z(K,ee,Yt,"","\\gamma",!0);z(K,ee,Yt,"","\\delta",!0);z(K,ee,Yt,"","\\epsilon",!0);z(K,ee,Yt,"","\\zeta",!0);z(K,ee,Yt,"","\\eta",!0);z(K,ee,Yt,"","\\theta",!0);z(K,ee,Yt,"","\\iota",!0);z(K,ee,Yt,"","\\kappa",!0);z(K,ee,Yt,"","\\lambda",!0);z(K,ee,Yt,"","\\mu",!0);z(K,ee,Yt,"","\\nu",!0);z(K,ee,Yt,"","\\xi",!0);z(K,ee,Yt,"","\\omicron",!0);z(K,ee,Yt,"","\\pi",!0);z(K,ee,Yt,"","\\rho",!0);z(K,ee,Yt,"","\\sigma",!0);z(K,ee,Yt,"","\\tau",!0);z(K,ee,Yt,"","\\upsilon",!0);z(K,ee,Yt,"","\\phi",!0);z(K,ee,Yt,"","\\chi",!0);z(K,ee,Yt,"","\\psi",!0);z(K,ee,Yt,"","\\omega",!0);z(K,ee,Yt,"","\\varepsilon",!0);z(K,ee,Yt,"","\\vartheta",!0);z(K,ee,Yt,"","\\varpi",!0);z(K,ee,Yt,"","\\varrho",!0);z(K,ee,Yt,"","\\varsigma",!0);z(K,ee,Yt,"","\\varphi",!0);z(K,ee,Dt,"","*",!0);z(K,ee,Dt,"+","+");z(K,ee,Dt,"","-",!0);z(K,ee,Dt,"","\\cdot",!0);z(K,ee,Dt,"","\\circ",!0);z(K,ee,Dt,"","\\div",!0);z(K,ee,Dt,"","\\pm",!0);z(K,ee,Dt,"","\\times",!0);z(K,ee,Dt,"","\\cap",!0);z(K,ee,Dt,"","\\cup",!0);z(K,ee,Dt,"","\\setminus",!0);z(K,ee,Dt,"","\\land");z(K,ee,Dt,"","\\lor");z(K,ee,Dt,"","\\wedge",!0);z(K,ee,Dt,"","\\vee",!0);z(K,ee,De,"","\\surd");z(K,ee,Ui,"","\\langle",!0);z(K,ee,Ui,"","\\lvert");z(K,ee,Ui,"","\\lVert");z(K,ee,ai,"?","?");z(K,ee,ai,"!","!");z(K,ee,ai,"","\\rangle",!0);z(K,ee,ai,"","\\rvert");z(K,ee,ai,"","\\rVert");z(K,ee,ke,"=","=");z(K,ee,ke,":",":");z(K,ee,ke,"","\\approx",!0);z(K,ee,ke,"","\\cong",!0);z(K,ee,ke,"","\\ge");z(K,ee,ke,"","\\geq",!0);z(K,ee,ke,"","\\gets");z(K,ee,ke,">","\\gt",!0);z(K,ee,ke,"","\\in",!0);z(K,ee,ke,"","\\@not");z(K,ee,ke,"","\\subset",!0);z(K,ee,ke,"","\\supset",!0);z(K,ee,ke,"","\\subseteq",!0);z(K,ee,ke,"","\\supseteq",!0);z(K,_e,ke,"","\\nsubseteq",!0);z(K,_e,ke,"","\\nsupseteq",!0);z(K,ee,ke,"","\\models");z(K,ee,ke,"","\\leftarrow",!0);z(K,ee,ke,"","\\le");z(K,ee,ke,"","\\leq",!0);z(K,ee,ke,"<","\\lt",!0);z(K,ee,ke,"","\\rightarrow",!0);z(K,ee,ke,"","\\to");z(K,_e,ke,"","\\ngeq",!0);z(K,_e,ke,"","\\nleq",!0);z(K,ee,Xs,"","\\ ");z(K,ee,Xs,"","\\space");z(K,ee,Xs,"","\\nobreakspace");z(ht,ee,Xs,"","\\ ");z(ht,ee,Xs,""," ");z(ht,ee,Xs,"","\\space");z(ht,ee,Xs,"","\\nobreakspace");z(K,ee,Xs,null,"\\nobreak");z(K,ee,Xs,null,"\\allowbreak");z(K,ee,Bm,",",",");z(K,ee,Bm,";",";");z(K,_e,Dt,"","\\barwedge",!0);z(K,_e,Dt,"","\\veebar",!0);z(K,ee,Dt,"","\\odot",!0);z(K,ee,Dt,"","\\oplus",!0);z(K,ee,Dt,"","\\otimes",!0);z(K,ee,De,"","\\partial",!0);z(K,ee,Dt,"","\\oslash",!0);z(K,_e,Dt,"","\\circledcirc",!0);z(K,_e,Dt,"","\\boxdot",!0);z(K,ee,Dt,"","\\bigtriangleup");z(K,ee,Dt,"","\\bigtriangledown");z(K,ee,Dt,"","\\dagger");z(K,ee,Dt,"","\\diamond");z(K,ee,Dt,"","\\star");z(K,ee,Dt,"","\\triangleleft");z(K,ee,Dt,"","\\triangleright");z(K,ee,Ui,"{","\\{");z(ht,ee,De,"{","\\{");z(ht,ee,De,"{","\\textbraceleft");z(K,ee,ai,"}","\\}");z(ht,ee,De,"}","\\}");z(ht,ee,De,"}","\\textbraceright");z(K,ee,Ui,"{","\\lbrace");z(K,ee,ai,"}","\\rbrace");z(K,ee,Ui,"[","\\lbrack",!0);z(ht,ee,De,"[","\\lbrack",!0);z(K,ee,ai,"]","\\rbrack",!0);z(ht,ee,De,"]","\\rbrack",!0);z(K,ee,Ui,"(","\\lparen",!0);z(K,ee,ai,")","\\rparen",!0);z(ht,ee,De,"<","\\textless",!0);z(ht,ee,De,">","\\textgreater",!0);z(K,ee,Ui,"","\\lfloor",!0);z(K,ee,ai,"","\\rfloor",!0);z(K,ee,Ui,"","\\lceil",!0);z(K,ee,ai,"","\\rceil",!0);z(K,ee,De,"\\","\\backslash");z(K,ee,De,"","|");z(K,ee,De,"","\\vert");z(ht,ee,De,"|","\\textbar",!0);z(K,ee,De,"","\\|");z(K,ee,De,"","\\Vert");z(ht,ee,De,"","\\textbardbl");z(ht,ee,De,"~","\\textasciitilde");z(ht,ee,De,"\\","\\textbackslash");z(ht,ee,De,"^","\\textasciicircum");z(K,ee,ke,"","\\uparrow",!0);z(K,ee,ke,"","\\Uparrow",!0);z(K,ee,ke,"","\\downarrow",!0);z(K,ee,ke,"","\\Downarrow",!0);z(K,ee,ke,"","\\updownarrow",!0);z(K,ee,ke,"","\\Updownarrow",!0);z(K,ee,wn,"","\\coprod");z(K,ee,wn,"","\\bigvee");z(K,ee,wn,"","\\bigwedge");z(K,ee,wn,"","\\biguplus");z(K,ee,wn,"","\\bigcap");z(K,ee,wn,"","\\bigcup");z(K,ee,wn,"","\\int");z(K,ee,wn,"","\\intop");z(K,ee,wn,"","\\iint");z(K,ee,wn,"","\\iiint");z(K,ee,wn,"","\\prod");z(K,ee,wn,"","\\sum");z(K,ee,wn,"","\\bigotimes");z(K,ee,wn,"","\\bigoplus");z(K,ee,wn,"","\\bigodot");z(K,ee,wn,"","\\oint");z(K,ee,wn,"","\\oiint");z(K,ee,wn,"","\\oiiint");z(K,ee,wn,"","\\bigsqcup");z(K,ee,wn,"","\\smallint");z(ht,ee,$u,"","\\textellipsis");z(K,ee,$u,"","\\mathellipsis");z(ht,ee,$u,"","\\ldots",!0);z(K,ee,$u,"","\\ldots",!0);z(K,ee,$u,"","\\@cdots",!0);z(K,ee,$u,"","\\ddots",!0);z(K,ee,De,"","\\varvdots");z(ht,ee,De,"","\\varvdots");z(K,ee,Xr,"","\\acute");z(K,ee,Xr,"","\\grave");z(K,ee,Xr,"","\\ddot");z(K,ee,Xr,"~","\\tilde");z(K,ee,Xr,"","\\bar");z(K,ee,Xr,"","\\breve");z(K,ee,Xr,"","\\check");z(K,ee,Xr,"^","\\hat");z(K,ee,Xr,"","\\vec");z(K,ee,Xr,"","\\dot");z(K,ee,Xr,"","\\mathring");z(K,ee,Yt,"","\\@imath");z(K,ee,Yt,"","\\@jmath");z(K,ee,De,"","");z(K,ee,De,"","");z(ht,ee,De,"","\\i",!0);z(ht,ee,De,"","\\j",!0);z(ht,ee,De,"","\\ss",!0);z(ht,ee,De,"","\\ae",!0);z(ht,ee,De,"","\\oe",!0);z(ht,ee,De,"","\\o",!0);z(ht,ee,De,"","\\AE",!0);z(ht,ee,De,"","\\OE",!0);z(ht,ee,De,"","\\O",!0);z(ht,ee,Xr,"","\\'");z(ht,ee,Xr,"","\\`");z(ht,ee,Xr,"","\\^");z(ht,ee,Xr,"","\\~");z(ht,ee,Xr,"","\\=");z(ht,ee,Xr,"","\\u");z(ht,ee,Xr,"","\\.");z(ht,ee,Xr,"","\\c");z(ht,ee,Xr,"","\\r");z(ht,ee,Xr,"","\\v");z(ht,ee,Xr,"",'\\"');z(ht,ee,Xr,"","\\H");z(ht,ee,Xr,"","\\textcircled");var q9={"--":!0,"---":!0,"``":!0,"''":!0};z(ht,ee,De,"","--",!0);z(ht,ee,De,"","\\textendash");z(ht,ee,De,"","---",!0);z(ht,ee,De,"","\\textemdash");z(ht,ee,De,"","`",!0);z(ht,ee,De,"","\\textquoteleft");z(ht,ee,De,"","'",!0);z(ht,ee,De,"","\\textquoteright");z(ht,ee,De,"","``",!0);z(ht,ee,De,"","\\textquotedblleft");z(ht,ee,De,"","''",!0);z(ht,ee,De,"","\\textquotedblright");z(K,ee,De,"","\\degree",!0);z(ht,ee,De,"","\\degree");z(ht,ee,De,"","\\textdegree",!0);z(K,ee,De,"","\\pounds");z(K,ee,De,"","\\mathsterling",!0);z(ht,ee,De,"","\\pounds");z(ht,ee,De,"","\\textsterling",!0);z(K,_e,De,"","\\maltese");z(ht,_e,De,"","\\maltese");var EE='0123456789/@."';for(var kv=0;kv<EE.length;kv++){var SE=EE.charAt(kv);z(K,ee,De,SE,SE)}var kE='0123456789!@*()-=+";:?/.,';for(var Av=0;Av<kE.length;Av++){var AE=kE.charAt(Av);z(ht,ee,De,AE,AE)}var op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Tv=0;Tv<op.length;Tv++){var Nh=op.charAt(Tv);z(K,ee,Yt,Nh,Nh),z(ht,ee,De,Nh,Nh)}z(K,_e,De,"C","");z(ht,_e,De,"C","");z(K,_e,De,"H","");z(ht,_e,De,"H","");z(K,_e,De,"N","");z(ht,_e,De,"N","");z(K,_e,De,"P","");z(ht,_e,De,"P","");z(K,_e,De,"Q","");z(ht,_e,De,"Q","");z(K,_e,De,"R","");z(ht,_e,De,"R","");z(K,_e,De,"Z","");z(ht,_e,De,"Z","");z(K,ee,Yt,"h","");z(ht,ee,Yt,"h","");var Xt="";for(var Qn=0;Qn<op.length;Qn++){var an=op.charAt(Qn);Xt=String.fromCharCode(55349,56320+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56372+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56424+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56580+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56684+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56736+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56788+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56840+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56944+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Qn<26&&(Xt=String.fromCharCode(55349,56632+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt),Xt=String.fromCharCode(55349,56476+Qn),z(K,ee,Yt,an,Xt),z(ht,ee,De,an,Xt))}Xt="";z(K,ee,Yt,"k",Xt);z(ht,ee,De,"k",Xt);for(var Wo=0;Wo<10;Wo++){var oo=Wo.toString();Xt=String.fromCharCode(55349,57294+Wo),z(K,ee,Yt,oo,Xt),z(ht,ee,De,oo,Xt),Xt=String.fromCharCode(55349,57314+Wo),z(K,ee,Yt,oo,Xt),z(ht,ee,De,oo,Xt),Xt=String.fromCharCode(55349,57324+Wo),z(K,ee,Yt,oo,Xt),z(ht,ee,De,oo,Xt),Xt=String.fromCharCode(55349,57334+Wo),z(K,ee,Yt,oo,Xt),z(ht,ee,De,oo,Xt)}var O1="";for(var Nv=0;Nv<O1.length;Nv++){var Ih=O1.charAt(Nv);z(K,ee,Yt,Ih,Ih),z(ht,ee,De,Ih,Ih)}var Ch=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],TE=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],_de=a(function(t,r){var n=t.charCodeAt(0),i=t.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,o=r==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[Ch[l][2],Ch[l][o]]}else if(120782<=s&&s<=120831){var u=Math.floor((s-120782)/10);return[TE[u][2],TE[u][o]]}else{if(s===120485||s===120486)return[Ch[0][2],Ch[0][o]];if(120486<s&&s<120782)return["",""];throw new yt("Unsupported character: "+t)}},"wideCharacterFont2"),Fm=a(function(t,r,n){return Hr[n][t]&&Hr[n][t].replace&&(t=Hr[n][t].replace),{value:t,metrics:N3(t,r,n)}},"lookupSymbol2"),oa=a(function(t,r,n,i,s){var o=Fm(t,r,n),l=o.metrics;t=o.value;var u;if(l){var c=l.italic;(n==="text"||i&&i.font==="mathit")&&(c=0),u=new Qi(t,l.height,l.depth,c,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),u=new Qi(t,0,0,0,0,0,s);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var d=i.getColor();d&&(u.style.color=d)}return u},"makeSymbol2"),Ede=a(function(t,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&Fm(t,"Main-Bold",r).metrics?oa(t,"Main-Bold",r,n,i.concat(["mathbf"])):t==="\\"||Hr[r][t].font==="main"?oa(t,"Main-Regular",r,n,i):oa(t,"AMS-Regular",r,n,i.concat(["amsrm"]))},"mathsym2"),Sde=a(function(t,r,n,i,s){return s!=="textord"&&Fm(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol2"),kde=a(function(t,r,n){var i=t.mode,s=t.text,o=["mord"],l=i==="math"||i==="text"&&r.font,u=l?r.font:r.fontFamily,c="",d="";if(s.charCodeAt(0)===55349&&([c,d]=_de(s,i)),c.length>0)return oa(s,c,i,r,o.concat(d));if(u){var f,g;if(u==="boldsymbol"){var m=Sde(s,i,r,o,n);f=m.fontName,g=[m.fontClass]}else l?(f=rj[u].fontName,g=[u]):(f=Mh(u,r.fontWeight,r.fontShape),g=[u,r.fontWeight,r.fontShape]);if(Fm(s,f,i).metrics)return oa(s,f,i,r,o.concat(g));if(q9.hasOwnProperty(s)&&f.slice(0,10)==="Typewriter"){for(var y=[],_=0;_<s.length;_++)y.push(oa(s[_],f,i,r,o.concat(g)));return tj(y)}}if(n==="mathord")return oa(s,"Math-Italic",i,r,o.concat(["mathnormal"]));if(n==="textord"){var A=Hr[i][s]&&Hr[i][s].font;if(A==="ams"){var I=Mh("amsrm",r.fontWeight,r.fontShape);return oa(s,I,i,r,o.concat("amsrm",r.fontWeight,r.fontShape))}else if(A==="main"||!A){var O=Mh("textrm",r.fontWeight,r.fontShape);return oa(s,O,i,r,o.concat(r.fontWeight,r.fontShape))}else{var R=Mh(A,r.fontWeight,r.fontShape);return oa(s,R,i,r,o.concat(R,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},"makeOrd2"),Ade=a((e,t)=>{if(Ao(e.classes)!==Ao(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),Tde=a(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Qi&&n instanceof Qi&&Ade(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),C3=a(function(t){for(var r=0,n=0,i=0,s=0;s<t.children.length;s++){var o=t.children[s];o.height>r&&(r=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=i},"sizeElementFromChildren2"),fi=a(function(t,r,n,i){var s=new Lf(t,r,n,i);return C3(s),s},"makeSpan"),ej=a((e,t,r,n)=>new Lf(e,t,r,n),"makeSvgSpan"),Nde=a(function(t,r,n){var i=fi([t],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=At(i.height),i.maxFontSize=1,i},"makeLineSpan2"),Ide=a(function(t,r,n,i){var s=new I3(t,r,n,i);return C3(s),s},"makeAnchor2"),tj=a(function(t){var r=new Rf(t);return C3(r),r},"makeFragment2"),Cde=a(function(t,r){return t instanceof Rf?fi([],[t],r):t},"wrapFragment2"),Mde=a(function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,o=1;o<r.length;o++){var l=-r[o].shift-s-r[o].elem.depth,u=l-(r[o-1].elem.height+r[o-1].elem.depth);s=s+l,n.push({type:"kern",size:u}),n.push(r[o])}return{children:n,depth:i}}var c;if(t.positionType==="top"){for(var d=t.positionData,f=0;f<t.children.length;f++){var g=t.children[f];d-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}c=d}else if(t.positionType==="bottom")c=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},"getVListChildrenAndDepth2"),Ode=a(function(t,r){for(var{children:n,depth:i}=Mde(t),s=0,o=0;o<n.length;o++){var l=n[o];if(l.type==="elem"){var u=l.elem;s=Math.max(s,u.maxFontSize,u.height)}}s+=2;var c=fi(["pstrut"],[]);c.style.height=At(s);for(var d=[],f=i,g=i,m=i,y=0;y<n.length;y++){var _=n[y];if(_.type==="kern")m+=_.size;else{var A=_.elem,I=_.wrapperClasses||[],O=_.wrapperStyle||{},R=fi(I,[c,A],void 0,O);R.style.top=At(-s-m-A.depth),_.marginLeft&&(R.style.marginLeft=_.marginLeft),_.marginRight&&(R.style.marginRight=_.marginRight),d.push(R),m+=A.height+A.depth}f=Math.min(f,m),g=Math.max(g,m)}var L=fi(["vlist"],d);L.style.height=At(g);var D;if(f<0){var P=fi([],[]),Z=fi(["vlist"],[P]);Z.style.height=At(-f);var V=fi(["vlist-s"],[new Qi("")]);D=[fi(["vlist-r"],[L,V]),fi(["vlist-r"],[Z])]}else D=[fi(["vlist-r"],[L])];var W=fi(["vlist-t"],D);return D.length===2&&W.classes.push("vlist-t2"),W.height=g,W.depth=-f,W},"makeVList2"),Rde=a((e,t)=>{var r=fi(["mspace"],[],t),n=nn(e,t);return r.style.marginRight=At(n),r},"makeGlue"),Mh=a(function(t,r,n){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},"retrieveTextFontName2"),rj={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},nj={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Lde=a(function(t,r){var[n,i,s]=nj[t],o=new To(n),l=new Ks([o],{width:At(i),height:At(s),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),u=ej(["overlay"],[l],r);return u.height=s,u.style.height=At(s),u.style.width=At(i),u},"staticSvg2"),Qe={fontMap:rj,makeSymbol:oa,mathsym:Ede,makeSpan:fi,makeSvgSpan:ej,makeLineSpan:Nde,makeAnchor:Ide,makeFragment:tj,wrapFragment:Cde,makeVList:Ode,makeOrd:kde,makeGlue:Rde,staticSvg:Lde,svgData:nj,tryCombineChars:Tde},tn={number:3,unit:"mu"},Xo={number:4,unit:"mu"},Es={number:5,unit:"mu"},Dde={mord:{mop:tn,mbin:Xo,mrel:Es,minner:tn},mop:{mord:tn,mop:tn,mrel:Es,minner:tn},mbin:{mord:Xo,mop:Xo,mopen:Xo,minner:Xo},mrel:{mord:Es,mop:Es,mopen:Es,minner:Es},mopen:{},mclose:{mop:tn,mbin:Xo,mrel:Es,minner:tn},mpunct:{mord:tn,mop:tn,mrel:Es,mopen:tn,mclose:tn,mpunct:tn,minner:tn},minner:{mord:tn,mop:tn,mbin:Xo,mrel:Es,mopen:tn,mpunct:tn,minner:tn}},jde={mord:{mop:tn},mop:{mord:tn,mop:tn},mbin:{},mrel:{},mopen:{},mclose:{mop:tn},mpunct:{},minner:{mop:tn}},ij={},lp={},up={};function Ct(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)ij[r[u]]=l;t&&(s&&(lp[t]=s),o&&(up[t]=o))}a(Ct,"defineFunction");function zl(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Ct({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}a(zl,"defineFunctionBuilders");var cp=a(function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},"normalizeArgument2"),dn=a(function(t){return t.type==="ordgroup"?t.body:[t]},"ordargument2"),Zs=Qe.makeSpan,Pde=["leftmost","mbin","mopen","mrel","mop","mpunct"],zde=["rightmost","mrel","mclose","mpunct"],Bde={display:$t.DISPLAY,text:$t.TEXT,script:$t.SCRIPT,scriptscript:$t.SCRIPTSCRIPT},Fde={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},_n=a(function(t,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<t.length;o++){var l=_r(t[o],r);if(l instanceof Rf){var u=l.children;s.push(...u)}else s.push(l)}if(Qe.tryCombineChars(s),!n)return s;var c=r;if(t.length===1){var d=t[0];d.type==="sizing"?c=r.havingSize(d.size):d.type==="styling"&&(c=r.havingStyle(Bde[d.style]))}var f=Zs([i[0]||"leftmost"],[],r),g=Zs([i[1]||"rightmost"],[],r),m=n==="root";return NE(s,(y,_)=>{var A=_.classes[0],I=y.classes[0];A==="mbin"&&zde.includes(I)?_.classes[0]="mord":I==="mbin"&&Pde.includes(A)&&(y.classes[0]="mord")},{node:f},g,m),NE(s,(y,_)=>{var A=R1(_),I=R1(y),O=A&&I?y.hasClass("mtight")?jde[A][I]:Dde[A][I]:null;if(O)return Qe.makeGlue(O,c)},{node:f},g,m),s},"buildExpression"),NE=a(function e(t,r,n,i,s){i&&t.push(i);for(var o=0;o<t.length;o++){var l=t[o],u=aj(l);if(u){e(u.children,r,n,null,s);continue}var c=!l.hasClass("mspace");if(c){var d=r(l,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),o++))}c?n.node=l:s&&l.hasClass("newline")&&(n.node=Zs(["leftmost"])),n.insertAfter=(f=>g=>{t.splice(f+1,0,g),o++})(o)}i&&t.pop()},"traverseNonSpaceNodes2"),aj=a(function(t){return t instanceof Rf||t instanceof I3||t instanceof Lf&&t.hasClass("enclosing")?t:null},"checkPartialGroup2"),Ude=a(function e(t,r){var n=aj(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode2"),R1=a(function(t,r){return t?(r&&(t=Ude(t,r)),Fde[t.classes[0]]||null):null},"getTypeOfDomTree2"),qd=a(function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Zs(r.concat(n))},"makeNullDelimiter2"),_r=a(function(t,r,n){if(!t)return Zs();if(lp[t.type]){var i=lp[t.type](t,r);if(n&&r.size!==n.size){i=Zs(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup");function Oh(e,t){var r=Zs(["base"],e,t),n=Zs(["strut"]);return n.style.height=At(r.height+r.depth),r.depth&&(n.style.verticalAlign=At(-r.depth)),r.children.unshift(n),r}a(Oh,"buildHTMLUnbreakable");function L1(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=_n(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],o=[],l=0;l<n.length;l++)if(o.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var u=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,o.push(n[l]),n[l].hasClass("nobreak")&&(u=!0);u||(s.push(Oh(o,t)),o=[])}else n[l].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Oh(o,t)),o=[]),s.push(n[l]));o.length>0&&s.push(Oh(o,t));var c;r?(c=Oh(_n(r,t,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var d=Zs(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),c){var f=c.children[0];f.style.height=At(d.height+d.depth),d.depth&&(f.style.verticalAlign=At(-d.depth))}return d}a(L1,"buildHTML");function sj(e){return new Rf(e)}a(sj,"newDocumentFragment");class Oi{static{a(this,"MathNode")}constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Ao(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Za&&this.children[n+1]instanceof Za){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Za;)i+=this.children[++n].toText();t.appendChild(new Za(i).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=Er.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+Er.escape(Ao(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Za{static{a(this,"TextNode")}constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Er.escape(this.toText())}toText(){return this.text}}class Hde{static{a(this,"SpaceNode")}constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",At(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+At(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var bt={MathNode:Oi,TextNode:Za,SpaceNode:Hde,newDocumentFragment:sj},Wi=a(function(t,r,n){return Hr[r][t]&&Hr[r][t].replace&&t.charCodeAt(0)!==55349&&!(q9.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=Hr[r][t].replace),new bt.TextNode(t)},"makeText2"),M3=a(function(t){return t.length===1?t[0]:new bt.MathNode("mrow",t)},"makeRow2"),O3=a(function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=t.text;if(["\\imath","\\jmath"].includes(s))return null;Hr[i][s]&&Hr[i][s].replace&&(s=Hr[i][s].replace);var o=Qe.fontMap[n].fontName;return N3(s,o,i)?Qe.fontMap[n].variant:null},"getVariant2");function Iv(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Za&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Za&&r.text===","}else return!1}a(Iv,"isNumberPunctuation");var _i=a(function(t,r,n){if(t.length===1){var i=Dr(t[0],r);return n&&i instanceof Oi&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,l=0;l<t.length;l++){var u=Dr(t[l],r);if(u instanceof Oi&&o instanceof Oi){if(u.type==="mtext"&&o.type==="mtext"&&u.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...u.children);continue}else if(u.type==="mn"&&o.type==="mn"){o.children.push(...u.children);continue}else if(Iv(u)&&o.type==="mn"){o.children.push(...u.children);continue}else if(u.type==="mn"&&Iv(o))u.children=[...o.children,...u.children],s.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(o.type==="mn"||Iv(o))){var c=u.children[0];c instanceof Oi&&c.type==="mn"&&(c.children=[...o.children,...c.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var d=o.children[0];if(d instanceof Za&&d.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var f=u.children[0];f instanceof Za&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),s.pop())}}}s.push(u),o=u}return s},"buildExpression3"),No=a(function(t,r,n){return M3(_i(t,r,n))},"buildExpressionRow2"),Dr=a(function(t,r){if(!t)return new bt.MathNode("mrow");if(up[t.type]){var n=up[t.type](t,r);return n}else throw new yt("Got group of unknown type: '"+t.type+"'")},"buildGroup3");function IE(e,t,r,n,i){var s=_i(e,r),o;s.length===1&&s[0]instanceof Oi&&["mrow","mtable"].includes(s[0].type)?o=s[0]:o=new bt.MathNode("mrow",s);var l=new bt.MathNode("annotation",[new bt.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var u=new bt.MathNode("semantics",[o,l]),c=new bt.MathNode("math",[u]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var d=i?"katex":"katex-mathml";return Qe.makeSpan([d],[c])}a(IE,"buildMathML");var oj=a(function(t){return new Cs({style:t.displayMode?$t.DISPLAY:$t.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},"optionsFromSettings2"),lj=a(function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=Qe.makeSpan(n,[t])}return t},"displayWrap2"),Gde=a(function(t,r,n){var i=oj(n),s;if(n.output==="mathml")return IE(t,r,i,n.displayMode,!0);if(n.output==="html"){var o=L1(t,i);s=Qe.makeSpan(["katex"],[o])}else{var l=IE(t,r,i,n.displayMode,!1),u=L1(t,i);s=Qe.makeSpan(["katex"],[l,u])}return lj(s,n)},"buildTree2"),Vde=a(function(t,r,n){var i=oj(n),s=L1(t,i),o=Qe.makeSpan(["katex"],[s]);return lj(o,n)},"buildHTMLTree2"),Kde={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Zde=a(function(t){var r=new bt.MathNode("mo",[new bt.TextNode(Kde[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},"mathMLnode2"),Yde={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},$de=a(function(t){return t.type==="ordgroup"?t.body.length:1},"groupLength2"),Qde=a(function(t,r){function n(){var l=4e5,u=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var c=t,d=$de(c.base),f,g,m;if(d>5)u==="widehat"||u==="widecheck"?(f=420,l=2364,m=.42,g=u+"4"):(f=312,l=2340,m=.34,g="tilde4");else{var y=[1,1,2,2,3,3][d];u==="widehat"||u==="widecheck"?(l=[0,1062,2364,2364,2364][y],f=[0,239,300,360,420][y],m=[0,.24,.3,.3,.36,.42][y],g=u+y):(l=[0,600,1033,2339,2340][y],f=[0,260,286,306,312][y],m=[0,.26,.286,.3,.306,.34][y],g="tilde"+y)}var _=new To(g),A=new Ks([_],{width:"100%",height:At(m),viewBox:"0 0 "+l+" "+f,preserveAspectRatio:"none"});return{span:Qe.makeSvgSpan([],[A],r),minWidth:0,height:m}}else{var I=[],O=Yde[u],[R,L,D]=O,P=D/1e3,Z=R.length,V,W;if(Z===1){var F=O[3];V=["hide-tail"],W=[F]}else if(Z===2)V=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(Z===3)V=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Z+" children.");for(var Y=0;Y<Z;Y++){var h=new To(R[Y]),w=new Ks([h],{width:"400em",height:At(P),viewBox:"0 0 "+l+" "+D,preserveAspectRatio:W[Y]+" slice"}),b=Qe.makeSvgSpan([V[Y]],[w],r);if(Z===1)return{span:b,minWidth:L,height:P};b.style.height=At(P),I.push(b)}return{span:Qe.makeSpan(["stretchy"],I,r),minWidth:L,height:P}}}a(n,"buildSvgSpan_");var{span:i,minWidth:s,height:o}=n();return i.height=o,i.style.height=At(o),s>0&&(i.style.minWidth=At(s)),i},"svgSpan2"),Wde=a(function(t,r,n,i,s){var o,l=t.height+t.depth+n+i;if(/fbox|color|angl/.test(r)){if(o=Qe.makeSpan(["stretchy",r],[],s),r==="fbox"){var u=s.color&&s.getColor();u&&(o.style.borderColor=u)}}else{var c=[];/^[bx]cancel$/.test(r)&&c.push(new M1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&c.push(new M1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Ks(c,{width:"100%",height:At(l)});o=Qe.makeSvgSpan([],[d],s)}return o.height=l,o.style.height=At(l),o},"encloseSpan2"),Ys={encloseSpan:Wde,mathMLnode:Zde,svgSpan:Qde};function sr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}a(sr,"assertNodeType");function R3(e){var t=Um(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}a(R3,"assertSymbolNodeType");function Um(e){return e&&(e.type==="atom"||xde.hasOwnProperty(e.type))?e:null}a(Um,"checkSymbolNodeType");var L3=a((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=sr(e.base,"accent"),r=n.base,e.base=r,i=yde(_r(e,t)),e.base=n):(n=sr(e,"accent"),r=n.base);var s=_r(r,t.havingCrampedStyle()),o=n.isShifty&&Er.isCharacterBox(r),l=0;if(o){var u=Er.getBaseElem(r),c=_r(u,t.havingCrampedStyle());l=_E(c).skew}var d=n.label==="\\c",f=d?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),g;if(n.isStretchy)g=Ys.svgSpan(n,t),g=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+At(2*l)+")",marginLeft:At(2*l)}:void 0}]},t);else{var m,y;n.label==="\\vec"?(m=Qe.staticSvg("vec",t),y=Qe.svgData.vec[1]):(m=Qe.makeOrd({mode:n.mode,text:n.label},t,"textord"),m=_E(m),m.italic=0,y=m.width,d&&(f+=m.depth)),g=Qe.makeSpan(["accent-body"],[m]);var _=n.label==="\\textcircled";_&&(g.classes.push("accent-full"),f=s.height);var A=l;_||(A-=y/2),g.style.left=At(A),n.label==="\\textcircled"&&(g.style.top=".2em"),g=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-f},{type:"elem",elem:g}]},t)}var I=Qe.makeSpan(["mord","accent"],[g],t);return i?(i.children[0]=I,i.height=Math.max(I.height,i.height),i.classes[0]="mord",i):I},"htmlBuilder$a"),uj=a((e,t)=>{var r=e.isStretchy?Ys.mathMLnode(e.label):new bt.MathNode("mo",[Wi(e.label,e.mode)]),n=new bt.MathNode("mover",[Dr(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),Xde=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ct({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:a((e,t)=>{var r=cp(t[0]),n=!Xde.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:L3,mathmlBuilder:uj});Ct({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:a((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:L3,mathmlBuilder:uj});Ct({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:a((e,t)=>{var r=_r(e.base,t),n=Ys.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,s=Qe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Qe.makeSpan(["mord","accentunder"],[s],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=Ys.mathMLnode(e.label),n=new bt.MathNode("munder",[Dr(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")});var Rh=a(e=>{var t=new bt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode");Ct({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=Qe.wrapFragment(_r(e.body,n,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;e.below&&(n=t.havingStyle(r.sub()),o=Qe.wrapFragment(_r(e.below,n,t),t),o.classes.push(s+"-arrow-pad"));var l=Ys.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(c-=i.depth);var d;if(o){var f=-t.fontMetrics().axisHeight+o.height+.5*l.height+.111;d=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:o,shift:f}]},t)}else d=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:l,shift:u}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),Qe.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=Ys.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=Rh(Dr(e.body,t));if(e.below){var s=Rh(Dr(e.below,t));n=new bt.MathNode("munderover",[r,s,i])}else n=new bt.MathNode("mover",[r,i])}else if(e.below){var o=Rh(Dr(e.below,t));n=new bt.MathNode("munder",[r,o])}else n=Rh(),n=new bt.MathNode("mover",[r,n]);return n}});var Jde=Qe.makeSpan;function cj(e,t){var r=_n(e.body,t,!0);return Jde([e.mclass],r,t)}a(cj,"htmlBuilder$9");function dj(e,t){var r,n=_i(e.body,t);return e.mclass==="minner"?r=new bt.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new bt.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new bt.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}a(dj,"mathmlBuilder$8");Ct({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:dn(i),isCharacterBox:Er.isCharacterBox(i)}},htmlBuilder:cj,mathmlBuilder:dj});var Hm=a(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass");Ct({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Hm(t[0]),body:dn(t[1]),isCharacterBox:Er.isCharacterBox(t[1])}}});Ct({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],s=t[0],o;n!=="\\stackrel"?o=Hm(i):o="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:dn(i)},u={type:"supsub",mode:s.mode,base:l,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:o,body:[u],isCharacterBox:Er.isCharacterBox(u)}},htmlBuilder:cj,mathmlBuilder:dj});Ct({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Hm(t[0]),body:dn(t[0])}},htmlBuilder(e,t){var r=_n(e.body,t,!0),n=Qe.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=_i(e.body,t),n=new bt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var qde={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},CE=a(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),ME=a(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),efe=a((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd");function tfe(e,t,r){var n=qde[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},o=r.callFunction("\\Big",[s],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[i,o,l]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}a(tfe,"cdArrow");function rfe(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new yt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],s=0;s<t.length;s++){for(var o=t[s],l=CE(),u=0;u<o.length;u++)if(!ME(o[u]))l.body.push(o[u]);else{n.push(l),u+=1;var c=R3(o[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var f=0;f<2;f++){for(var g=!0,m=u+1;m<o.length;m++){if(efe(o[m],c)){g=!1,u=m;break}if(ME(o[m]))throw new yt("Missing a "+c+" character to complete a CD arrow.",o[m]);d[f].body.push(o[m])}if(g)throw new yt("Missing a "+c+" character to complete a CD arrow.",o[u])}else throw new yt('Expected one of "<>AV=|." after @',o[u]);var y=tfe(c,d,e),_={type:"styling",body:[y],mode:"math",style:"display"};n.push(_),l=CE()}s%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var A=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}a(rfe,"parseCD");Ct({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Qe.wrapFragment(_r(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=At(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new bt.MathNode("mrow",[Dr(e.label,t)]);return r=new bt.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new bt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ct({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Qe.wrapFragment(_r(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new bt.MathNode("mrow",[Dr(e.fragment,t)])}});Ct({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=sr(t[0],"ordgroup"),i=n.body,s="",o=0;o<i.length;o++){var l=sr(i[o],"textord");s+=l.text}var u=parseInt(s),c;if(isNaN(u))throw new yt("\\@char has non-numeric argument "+s);if(u<0||u>=1114111)throw new yt("\\@char with invalid code point "+s);return u<=65535?c=String.fromCharCode(u):(u-=65536,c=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:c}}});var fj=a((e,t)=>{var r=_n(e.body,t.withColor(e.color),!1);return Qe.makeFragment(r)},"htmlBuilder$8"),hj=a((e,t)=>{var r=_i(e.body,t.withColor(e.color)),n=new bt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7");Ct({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=sr(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:dn(i)}},htmlBuilder:fj,mathmlBuilder:hj});Ct({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=sr(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:fj,mathmlBuilder:hj});Ct({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&sr(i,"size").value}},htmlBuilder(e,t){var r=Qe.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=At(nn(e.size,t)))),r},mathmlBuilder(e,t){var r=new bt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",At(nn(e.size,t)))),r}});var D1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},pj=a(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new yt("Expected a control sequence",e);return t},"checkControlSequence"),nfe=a(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),mj=a((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand");Ct({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(D1[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=D1[n.text]),sr(t.parseFunction(),"internal");throw new yt("Invalid token after macro prefix",n)}});Ct({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new yt("Expected a control sequence",n);for(var s=0,o,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),l[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new yt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new yt('Argument number "'+n.text+'" out of order');s++,l.push([])}else{if(n.text==="EOF")throw new yt("Expected a macro definition");l[s].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return o&&u.unshift(o),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:l},r===D1[r]),{type:"internal",mode:t.mode}}});Ct({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=pj(t.gullet.popToken());t.gullet.consumeSpaces();var i=nfe(t);return mj(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ct({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=pj(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return mj(t,n,s,r==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Xc=a(function(t,r,n){var i=Hr.math[t]&&Hr.math[t].replace,s=N3(i||t,r,n);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return s},"getMetrics2"),D3=a(function(t,r,n,i){var s=n.havingBaseStyle(r),o=Qe.makeSpan(i.concat(s.sizingClasses(n)),[t],n),l=s.sizeMultiplier/n.sizeMultiplier;return o.height*=l,o.depth*=l,o.maxFontSize=s.sizeMultiplier,o},"styleWrap2"),gj=a(function(t,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=At(s),t.height-=s,t.depth+=s},"centerSpan2"),ife=a(function(t,r,n,i,s,o){var l=Qe.makeSymbol(t,"Main-Regular",s,i),u=D3(l,r,i,o);return n&&gj(u,i,r),u},"makeSmallDelim2"),afe=a(function(t,r,n,i){return Qe.makeSymbol(t,"Size"+r+"-Regular",n,i)},"mathrmSize2"),bj=a(function(t,r,n,i,s,o){var l=afe(t,r,s,i),u=D3(Qe.makeSpan(["delimsizing","size"+r],[l],i),$t.TEXT,i,o);return n&&gj(u,i,$t.TEXT),u},"makeLargeDelim2"),Cv=a(function(t,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=Qe.makeSpan(["delimsizinginner",i],[Qe.makeSpan([],[Qe.makeSymbol(t,r,n)])]);return{type:"elem",elem:s}},"makeGlyphSpan2"),Mv=a(function(t,r,n){var i=Ka["Size4-Regular"][t.charCodeAt(0)]?Ka["Size4-Regular"][t.charCodeAt(0)][4]:Ka["Size1-Regular"][t.charCodeAt(0)][4],s=new To("inner",dde(t,Math.round(1e3*r))),o=new Ks([s],{width:At(i),height:At(r),style:"width:"+At(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),l=Qe.makeSvgSpan([],[o],n);return l.height=r,l.style.height=At(r),l.style.width=At(i),{type:"elem",elem:l}},"makeInner2"),j1=.008,Lh={type:"kern",size:-1*j1},sfe=["|","\\lvert","\\rvert","\\vert"],ofe=["\\|","\\lVert","\\rVert","\\Vert"],vj=a(function(t,r,n,i,s,o){var l,u,c,d,f="",g=0;l=c=d=t,u=null;var m="Size1-Regular";t==="\\uparrow"?c=d="":t==="\\Uparrow"?c=d="":t==="\\downarrow"?l=c="":t==="\\Downarrow"?l=c="":t==="\\updownarrow"?(l="\\uparrow",c="",d="\\downarrow"):t==="\\Updownarrow"?(l="\\Uparrow",c="",d="\\Downarrow"):sfe.includes(t)?(c="",f="vert",g=333):ofe.includes(t)?(c="",f="doublevert",g=556):t==="["||t==="\\lbrack"?(l="",c="",d="",m="Size4-Regular",f="lbrack",g=667):t==="]"||t==="\\rbrack"?(l="",c="",d="",m="Size4-Regular",f="rbrack",g=667):t==="\\lfloor"||t===""?(c=l="",d="",m="Size4-Regular",f="lfloor",g=667):t==="\\lceil"||t===""?(l="",c=d="",m="Size4-Regular",f="lceil",g=667):t==="\\rfloor"||t===""?(c=l="",d="",m="Size4-Regular",f="rfloor",g=667):t==="\\rceil"||t===""?(l="",c=d="",m="Size4-Regular",f="rceil",g=667):t==="("||t==="\\lparen"?(l="",c="",d="",m="Size4-Regular",f="lparen",g=875):t===")"||t==="\\rparen"?(l="",c="",d="",m="Size4-Regular",f="rparen",g=875):t==="\\{"||t==="\\lbrace"?(l="",u="",d="",c="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(l="",u="",d="",c="",m="Size4-Regular"):t==="\\lgroup"||t===""?(l="",d="",c="",m="Size4-Regular"):t==="\\rgroup"||t===""?(l="",d="",c="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(l="",d="",c="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(l="",d="",c="",m="Size4-Regular");var y=Xc(l,m,s),_=y.height+y.depth,A=Xc(c,m,s),I=A.height+A.depth,O=Xc(d,m,s),R=O.height+O.depth,L=0,D=1;if(u!==null){var P=Xc(u,m,s);L=P.height+P.depth,D=2}var Z=_+R+L,V=Math.max(0,Math.ceil((r-Z)/(D*I))),W=Z+V*D*I,F=i.fontMetrics().axisHeight;n&&(F*=i.sizeMultiplier);var Y=W/2-F,h=[];if(f.length>0){var w=W-_-R,b=Math.round(W*1e3),x=fde(f,Math.round(w*1e3)),E=new To(f,x),T=(g/1e3).toFixed(3)+"em",N=(b/1e3).toFixed(3)+"em",k=new Ks([E],{width:T,height:N,viewBox:"0 0 "+g+" "+b}),p=Qe.makeSvgSpan([],[k],i);p.height=b/1e3,p.style.width=T,p.style.height=N,h.push({type:"elem",elem:p})}else{if(h.push(Cv(d,m,s)),h.push(Lh),u===null){var S=W-_-R+2*j1;h.push(Mv(c,S,i))}else{var C=(W-_-R-L)/2+2*j1;h.push(Mv(c,C,i)),h.push(Lh),h.push(Cv(u,m,s)),h.push(Lh),h.push(Mv(c,C,i))}h.push(Lh),h.push(Cv(l,m,s))}var M=i.havingBaseStyle($t.TEXT),U=Qe.makeVList({positionType:"bottom",positionData:Y,children:h},M);return D3(Qe.makeSpan(["delimsizing","mult"],[U],M),$t.TEXT,i,o)},"makeStackedDelim2"),Ov=80,Rv=.08,Lv=a(function(t,r,n,i,s){var o=cde(t,i,n),l=new To(t,o),u=new Ks([l],{width:"400em",height:At(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Qe.makeSvgSpan(["hide-tail"],[u],s)},"sqrtSvg2"),lfe=a(function(t,r){var n=r.havingBaseSizing(),i=_j("\\surd",t*n.sizeMultiplier,xj,n),s=n.sizeMultiplier,o=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),l,u=0,c=0,d=0,f;return i.type==="small"?(d=1e3+1e3*o+Ov,t<1?s=1:t<1.4&&(s=.7),u=(1+o+Rv)/s,c=(1+o)/s,l=Lv("sqrtMain",u,d,o,r),l.style.minWidth="0.853em",f=.833/s):i.type==="large"?(d=(1e3+Ov)*id[i.size],c=(id[i.size]+o)/s,u=(id[i.size]+o+Rv)/s,l=Lv("sqrtSize"+i.size,u,d,o,r),l.style.minWidth="1.02em",f=1/s):(u=t+o+Rv,c=t+o,d=Math.floor(1e3*t+o)+Ov,l=Lv("sqrtTall",u,d,o,r),l.style.minWidth="0.742em",f=1.056),l.height=c,l.style.height=At(u),{span:l,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+o)*s}},"makeSqrtImage2"),yj=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],ufe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],wj=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],id=[0,1.2,1.8,2.4,3],cfe=a(function(t,r,n,i,s){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),yj.includes(t)||wj.includes(t))return bj(t,r,!1,n,i,s);if(ufe.includes(t))return vj(t,id[r],!1,n,i,s);throw new yt("Illegal delimiter: '"+t+"'")},"makeSizedDelim2"),dfe=[{type:"small",style:$t.SCRIPTSCRIPT},{type:"small",style:$t.SCRIPT},{type:"small",style:$t.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ffe=[{type:"small",style:$t.SCRIPTSCRIPT},{type:"small",style:$t.SCRIPT},{type:"small",style:$t.TEXT},{type:"stack"}],xj=[{type:"small",style:$t.SCRIPTSCRIPT},{type:"small",style:$t.SCRIPT},{type:"small",style:$t.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],hfe=a(function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},"delimTypeToFont2"),_j=a(function(t,r,n,i){for(var s=Math.min(2,3-i.style.size),o=s;o<n.length&&n[o].type!=="stack";o++){var l=Xc(t,hfe(n[o]),"math"),u=l.height+l.depth;if(n[o].type==="small"){var c=i.havingBaseStyle(n[o].style);u*=c.sizeMultiplier}if(u>r)return n[o]}return n[n.length-1]},"traverseSequence2"),Ej=a(function(t,r,n,i,s,o){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var l;wj.includes(t)?l=dfe:yj.includes(t)?l=xj:l=ffe;var u=_j(t,r,l,i);return u.type==="small"?ife(t,u.style,n,i,s,o):u.type==="large"?bj(t,u.size,n,i,s,o):vj(t,r,n,i,s,o)},"makeCustomSizedDelim2"),pfe=a(function(t,r,n,i,s,o){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,c=5/i.fontMetrics().ptPerEm,d=Math.max(r-l,n+l),f=Math.max(d/500*u,2*d-c);return Ej(t,f,!0,i,s,o)},"makeLeftRightDelim2"),Bs={sqrtImage:lfe,sizedDelim:cfe,sizeToMaxHeight:id,customSizedDelim:Ej,leftRightDelim:pfe},OE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},mfe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Gm(e,t){var r=Um(e);if(r&&mfe.includes(r.text))return r;throw r?new yt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new yt("Invalid delimiter type '"+e.type+"'",e)}a(Gm,"checkDelimiter");Ct({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:a((e,t)=>{var r=Gm(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:OE[e.funcName].size,mclass:OE[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:a((e,t)=>e.delim==="."?Qe.makeSpan([e.mclass]):Bs.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:a(e=>{var t=[];e.delim!=="."&&t.push(Wi(e.delim,e.mode));var r=new bt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=At(Bs.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")});function RE(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}a(RE,"assertParsed");Ct({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new yt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Gm(t[0],e).text,color:r}},"handler")});Ct({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=Gm(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=sr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},"handler"),htmlBuilder:a((e,t)=>{RE(e);for(var r=_n(e.body,t,!0,["mopen","mclose"]),n=0,i=0,s=!1,o=0;o<r.length;o++)r[o].isMiddle?s=!0:(n=Math.max(r[o].height,n),i=Math.max(r[o].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=qd(t,["mopen"]):l=Bs.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),s)for(var u=1;u<r.length;u++){var c=r[u],d=c.isMiddle;d&&(r[u]=Bs.leftRightDelim(d.delim,n,i,d.options,e.mode,[]))}var f;if(e.right===".")f=qd(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;f=Bs.leftRightDelim(e.right,n,i,g,e.mode,["mclose"])}return r.push(f),Qe.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{RE(e);var r=_i(e.body,t);if(e.left!=="."){var n=new bt.MathNode("mo",[Wi(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new bt.MathNode("mo",[Wi(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return M3(r)},"mathmlBuilder")});Ct({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var r=Gm(t[0],e);if(!e.parser.leftrightDepth)throw new yt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:a((e,t)=>{var r;if(e.delim===".")r=qd(t,[]);else{r=Bs.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Wi("|","text"):Wi(e.delim,e.mode),n=new bt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")});var j3=a((e,t)=>{var r=Qe.wrapFragment(_r(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,s,o=0,l=Er.isCharacterBox(e.body);if(n==="sout")s=Qe.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=nn({number:.6,unit:"pt"},t),c=nn({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var f=r.height+r.depth+u+c;r.style.paddingLeft=At(f/2+u);var g=Math.floor(1e3*f*i),m=lde(g),y=new Ks([new To("phase",m)],{width:"400em",height:At(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=Qe.makeSvgSpan(["hide-tail"],[y],t),s.style.height=At(f),o=r.depth+u+c}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,A=0,I=0;/box/.test(n)?(I=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),_=t.fontMetrics().fboxsep+(n==="colorbox"?0:I),A=_):n==="angl"?(I=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),_=4*I,A=Math.max(0,.25-r.depth)):(_=l?.2:0,A=_),s=Ys.encloseSpan(r,n,_,A,t),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=At(I)):n==="angl"&&I!==.049&&(s.style.borderTopWidth=At(I),s.style.borderRightWidth=At(I)),o=r.depth+A,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var O;if(e.backgroundColor)O=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:r,shift:0}]},t);else{var R=/cancel|phase/.test(n)?["svg-align"]:[];O=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:R}]},t)}return/cancel/.test(n)&&(O.height=r.height,O.depth=r.depth),/cancel/.test(n)&&!l?Qe.makeSpan(["mord","cancel-lap"],[O],t):Qe.makeSpan(["mord"],[O],t)},"htmlBuilder$7"),P3=a((e,t)=>{var r=0,n=new bt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Dr(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6");Ct({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=sr(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:j3,mathmlBuilder:P3});Ct({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=sr(t[0],"color-token").color,o=sr(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:s,body:l}},htmlBuilder:j3,mathmlBuilder:P3});Ct({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Ct({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:j3,mathmlBuilder:P3});Ct({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var Sj={};function ss(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)Sj[r[u]]=l;s&&(lp[t]=s),o&&(up[t]=o)}a(ss,"defineEnvironment");var kj={};function le(e,t){kj[e]=t}a(le,"defineMacro");function LE(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}a(LE,"getHLines");var Vm=a(e=>{var t=e.parser.settings;if(!t.displayMode)throw new yt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");function z3(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}a(z3,"getAutoTag");function Do(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:o,colSeparationType:l,autoTag:u,singleRow:c,emptySingleRow:d,maxNumCols:f,leqno:g}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)o=1;else if(o=parseFloat(m),!o||o<0)throw new yt("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var y=[],_=[y],A=[],I=[],O=u!=null?[]:void 0;function R(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}a(R,"beginRow");function L(){O&&(e.gullet.macros.get("\\df@tag")?(O.push(e.subparse([new Di("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):O.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(a(L,"endRow"),R(),I.push(LE(e));;){var D=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),D={type:"ordgroup",mode:e.mode,body:D},r&&(D={type:"styling",mode:e.mode,style:r,body:[D]}),y.push(D);var P=e.fetch().text;if(P==="&"){if(f&&y.length===f){if(c||l)throw new yt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(P==="\\end"){L(),y.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(_.length>1||!d)&&_.pop(),I.length<_.length+1&&I.push([]);break}else if(P==="\\\\"){e.consume();var Z=void 0;e.gullet.future().text!==" "&&(Z=e.parseSizeGroup(!0)),A.push(Z?Z.value:null),L(),I.push(LE(e)),y=[],_.push(y),R()}else throw new yt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:o,body:_,cols:s,rowGaps:A,hskipBeforeAndAfter:n,hLinesBeforeRow:I,colSeparationType:l,tags:O,leqno:g}}a(Do,"parseArray");function B3(e){return e.slice(0,1)==="d"?"display":"text"}a(B3,"dCellStyle");var os=a(function(t,r){var n,i,s=t.body.length,o=t.hLinesBeforeRow,l=0,u=new Array(s),c=[],d=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,g=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var m=r.havingStyle($t.SCRIPT).sizeMultiplier;g=.2778*(m/r.sizeMultiplier)}var y=t.colSeparationType==="CD"?nn({number:3,unit:"ex"},r):12*f,_=3*f,A=t.arraystretch*y,I=.7*A,O=.3*A,R=0;function L(ie){for(var me=0;me<ie.length;++me)me>0&&(R+=.25),c.push({pos:R,isDashed:ie[me]})}for(a(L,"setHLinePos"),L(o[0]),n=0;n<t.body.length;++n){var D=t.body[n],P=I,Z=O;l<D.length&&(l=D.length);var V=new Array(D.length);for(i=0;i<D.length;++i){var W=_r(D[i],r);Z<W.depth&&(Z=W.depth),P<W.height&&(P=W.height),V[i]=W}var F=t.rowGaps[n],Y=0;F&&(Y=nn(F,r),Y>0&&(Y+=O,Z<Y&&(Z=Y),Y=0)),t.addJot&&(Z+=_),V.height=P,V.depth=Z,R+=P,V.pos=R,R+=Z+Y,u[n]=V,L(o[n+1])}var h=R/2+r.fontMetrics().axisHeight,w=t.cols||[],b=[],x,E,T=[];if(t.tags&&t.tags.some(ie=>ie))for(n=0;n<s;++n){var N=u[n],k=N.pos-h,p=t.tags[n],S=void 0;p===!0?S=Qe.makeSpan(["eqn-num"],[],r):p===!1?S=Qe.makeSpan([],[],r):S=Qe.makeSpan([],_n(p,r,!0),r),S.depth=N.depth,S.height=N.height,T.push({type:"elem",elem:S,shift:k})}for(i=0,E=0;i<l||E<w.length;++i,++E){for(var C=w[E]||{},M=!0;C.type==="separator";){if(M||(x=Qe.makeSpan(["arraycolsep"],[]),x.style.width=At(r.fontMetrics().doubleRuleSep),b.push(x)),C.separator==="|"||C.separator===":"){var U=C.separator==="|"?"solid":"dashed",B=Qe.makeSpan(["vertical-separator"],[],r);B.style.height=At(R),B.style.borderRightWidth=At(d),B.style.borderRightStyle=U,B.style.margin="0 "+At(-d/2);var G=R-h;G&&(B.style.verticalAlign=At(-G)),b.push(B)}else throw new yt("Invalid separator type: "+C.separator);E++,C=w[E]||{},M=!1}if(!(i>=l)){var J=void 0;(i>0||t.hskipBeforeAndAfter)&&(J=Er.deflt(C.pregap,g),J!==0&&(x=Qe.makeSpan(["arraycolsep"],[]),x.style.width=At(J),b.push(x)));var ue=[];for(n=0;n<s;++n){var se=u[n],oe=se[i];if(oe){var Pe=se.pos-h;oe.depth=se.depth,oe.height=se.height,ue.push({type:"elem",elem:oe,shift:Pe})}}ue=Qe.makeVList({positionType:"individualShift",children:ue},r),ue=Qe.makeSpan(["col-align-"+(C.align||"c")],[ue]),b.push(ue),(i<l-1||t.hskipBeforeAndAfter)&&(J=Er.deflt(C.postgap,g),J!==0&&(x=Qe.makeSpan(["arraycolsep"],[]),x.style.width=At(J),b.push(x)))}}if(u=Qe.makeSpan(["mtable"],b),c.length>0){for(var Ee=Qe.makeLineSpan("hline",r,d),be=Qe.makeLineSpan("hdashline",r,d),Ce=[{type:"elem",elem:u,shift:0}];c.length>0;){var X=c.pop(),ce=X.pos-h;X.isDashed?Ce.push({type:"elem",elem:be,shift:ce}):Ce.push({type:"elem",elem:Ee,shift:ce})}u=Qe.makeVList({positionType:"individualShift",children:Ce},r)}if(T.length===0)return Qe.makeSpan(["mord"],[u],r);var te=Qe.makeVList({positionType:"individualShift",children:T},r);return te=Qe.makeSpan(["tag"],[te],r),Qe.makeFragment([u,te])},"htmlBuilder"),gfe={c:"center ",l:"left ",r:"right "},ls=a(function(t,r){for(var n=[],i=new bt.MathNode("mtd",[],["mtr-glue"]),s=new bt.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var l=t.body[o],u=[],c=0;c<l.length;c++)u.push(new bt.MathNode("mtd",[Dr(l[c],r)]));t.tags&&t.tags[o]&&(u.unshift(i),u.push(i),t.leqno?u.unshift(s):u.push(s)),n.push(new bt.MathNode("mtr",u))}var d=new bt.MathNode("mtable",n),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",At(f));var g="",m="";if(t.cols&&t.cols.length>0){var y=t.cols,_="",A=!1,I=0,O=y.length;y[0].type==="separator"&&(g+="top ",I=1),y[y.length-1].type==="separator"&&(g+="bottom ",O-=1);for(var R=I;R<O;R++)y[R].type==="align"?(m+=gfe[y[R].align],A&&(_+="none "),A=!0):y[R].type==="separator"&&A&&(_+=y[R].separator==="|"?"solid ":"dashed ",A=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(_)&&d.setAttribute("columnlines",_.trim())}if(t.colSeparationType==="align"){for(var L=t.cols||[],D="",P=1;P<L.length;P++)D+=P%2?"0em ":"1em ";d.setAttribute("columnspacing",D.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var Z="",V=t.hLinesBeforeRow;g+=V[0].length>0?"left ":"",g+=V[V.length-1].length>0?"right ":"";for(var W=1;W<V.length-1;W++)Z+=V[W].length===0?"none ":V[W][0]?"dashed ":"solid ";return/[sd]/.test(Z)&&d.setAttribute("rowlines",Z.trim()),g!==""&&(d=new bt.MathNode("menclose",[d]),d.setAttribute("notation",g.trim())),t.arraystretch&&t.arraystretch<1&&(d=new bt.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},"mathmlBuilder"),Aj=a(function(t,r){t.envName.indexOf("ed")===-1&&Vm(t);var n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",o=Do(t.parser,{cols:n,addJot:!0,autoTag:s?void 0:z3(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),l,u=0,c={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var d="",f=0;f<r[0].body.length;f++){var g=sr(r[0].body[f],"textord");d+=g.text}l=Number(d),u=l*2}var m=!u;o.body.forEach(function(I){for(var O=1;O<I.length;O+=2){var R=sr(I[O],"styling"),L=sr(R.body[0],"ordgroup");L.body.unshift(c)}if(m)u<I.length&&(u=I.length);else{var D=I.length/2;if(l<D)throw new yt("Too many math in a row: "+("expected "+l+", but got "+D),I[0])}});for(var y=0;y<u;++y){var _="r",A=0;y%2===1?_="l":y>0&&m&&(A=1),n[y]={type:"align",align:_,pregap:A,postgap:0}}return o.colSeparationType=m?"align":"alignat",o},"alignedHandler2");ss({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=Um(t[0]),n=r?[t[0]]:sr(t[0],"ordgroup").body,i=n.map(function(o){var l=R3(o),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new yt("Unknown column alignment: "+u,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Do(e.parser,s,B3(e.envName))},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new yt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=Do(e.parser,n,B3(e.envName)),o=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(o).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Do(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=Um(t[0]),n=r?[t[0]]:sr(t[0],"ordgroup").body,i=n.map(function(o){var l=R3(o),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new yt("Unknown column alignment: "+u,o)});if(i.length>1)throw new yt("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Do(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new yt("{subarray} can contain only one column");return s},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Do(e.parser,t,B3(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Aj,htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Vm(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:z3(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Do(e.parser,t,"display")},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Aj,htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Vm(e);var t={autoTag:z3(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Do(e.parser,t,"display")},htmlBuilder:os,mathmlBuilder:ls});ss({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Vm(e),rfe(e.parser)},htmlBuilder:os,mathmlBuilder:ls});le("\\nonumber","\\gdef\\@eqnsw{0}");le("\\notag","\\nonumber");Ct({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new yt(e.funcName+" valid only within array environment")}});var DE=Sj;Ct({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new yt("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=sr(i.body[o],"textord").text;if(n==="\\begin"){if(!DE.hasOwnProperty(s))throw new yt("No such environment: "+s,i);var l=DE[s],{args:u,optArgs:c}=r.parseArguments("\\begin{"+s+"}",l),d={mode:r.mode,envName:s,parser:r},f=l.handler(d,u,c);r.expect("\\end",!1);var g=r.nextToken,m=sr(r.parseFunction(),"environment");if(m.name!==s)throw new yt("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",g);return f}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var Tj=a((e,t)=>{var r=e.font,n=t.withFont(r);return _r(e.body,n)},"htmlBuilder$5"),Nj=a((e,t)=>{var r=e.font,n=t.withFont(r);return Dr(e.body,n)},"mathmlBuilder$4"),jE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ct({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=cp(t[0]),s=n;return s in jE&&(s=jE[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},"handler"),htmlBuilder:Tj,mathmlBuilder:Nj});Ct({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r}=e,n=t[0],i=Er.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Hm(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")});Ct({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:s}=r,o=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:r.mode,body:o}}},"handler"),htmlBuilder:Tj,mathmlBuilder:Nj});var Ij=a((e,t)=>{var r=t;return e==="display"?r=r.id>=$t.SCRIPT.id?r.text():$t.DISPLAY:e==="text"&&r.size===$t.DISPLAY.size?r=$t.TEXT:e==="script"?r=$t.SCRIPT:e==="scriptscript"&&(r=$t.SCRIPTSCRIPT),r},"adjustStyle"),F3=a((e,t)=>{var r=Ij(e.size,t.style),n=r.fracNum(),i=r.fracDen(),s;s=t.havingStyle(n);var o=_r(e.numer,s,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;o.height=o.height<l?l:o.height,o.depth=o.depth<u?u:o.depth}s=t.havingStyle(i);var c=_r(e.denom,s,t),d,f,g;e.hasBarLine?(e.barSize?(f=nn(e.barSize,t),d=Qe.makeLineSpan("frac-line",t,f)):d=Qe.makeLineSpan("frac-line",t),f=d.height,g=d.height):(d=null,f=0,g=t.fontMetrics().defaultRuleThickness);var m,y,_;r.size===$t.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,f>0?y=3*g:y=7*g,_=t.fontMetrics().denom1):(f>0?(m=t.fontMetrics().num2,y=g):(m=t.fontMetrics().num3,y=3*g),_=t.fontMetrics().denom2);var A;if(d){var O=t.fontMetrics().axisHeight;m-o.depth-(O+.5*f)<y&&(m+=y-(m-o.depth-(O+.5*f))),O-.5*f-(c.height-_)<y&&(_+=y-(O-.5*f-(c.height-_)));var R=-(O-.5*f);A=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:d,shift:R},{type:"elem",elem:o,shift:-m}]},t)}else{var I=m-o.depth-(c.height-_);I<y&&(m+=.5*(y-I),_+=.5*(y-I)),A=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:o,shift:-m}]},t)}s=t.havingStyle(r),A.height*=s.sizeMultiplier/t.sizeMultiplier,A.depth*=s.sizeMultiplier/t.sizeMultiplier;var L;r.size===$t.DISPLAY.size?L=t.fontMetrics().delim1:r.size===$t.SCRIPTSCRIPT.size?L=t.havingStyle($t.SCRIPT).fontMetrics().delim2:L=t.fontMetrics().delim2;var D,P;return e.leftDelim==null?D=qd(t,["mopen"]):D=Bs.customSizedDelim(e.leftDelim,L,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?P=Qe.makeSpan([]):e.rightDelim==null?P=qd(t,["mclose"]):P=Bs.customSizedDelim(e.rightDelim,L,!0,t.havingStyle(r),e.mode,["mclose"]),Qe.makeSpan(["mord"].concat(s.sizingClasses(t)),[D,Qe.makeSpan(["mfrac"],[A]),P],t)},"htmlBuilder$4"),U3=a((e,t)=>{var r=new bt.MathNode("mfrac",[Dr(e.numer,t),Dr(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=nn(e.barSize,t);r.setAttribute("linethickness",At(n))}var i=Ij(e.size,t.style);if(i.size!==t.style.size){r=new bt.MathNode("mstyle",[r]);var s=i.size===$t.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var l=new bt.MathNode("mo",[new bt.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}if(o.push(r),e.rightDelim!=null){var u=new bt.MathNode("mo",[new bt.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),o.push(u)}return M3(o)}return r},"mathmlBuilder$3");Ct({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1],o,l=null,u=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,l="(",u=")";break;case"\\\\bracefrac":o=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":o=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:l,rightDelim:u,size:c,barSize:null}},"handler"),htmlBuilder:F3,mathmlBuilder:U3});Ct({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")});Ct({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}});var PE=["display","text","script","scriptscript"],zE=a(function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r},"delimFromValue2");Ct({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],s=cp(t[0]),o=s.type==="atom"&&s.family==="open"?zE(s.text):null,l=cp(t[1]),u=l.type==="atom"&&l.family==="close"?zE(l.text):null,c=sr(t[2],"size"),d,f=null;c.isBlank?d=!0:(f=c.value,d=f.number>0);var g="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var y=sr(m.body[0],"textord");g=PE[Number(y.text)]}}else m=sr(m,"textord"),g=PE[Number(m.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:d,barSize:f,leftDelim:o,rightDelim:u,size:g}},htmlBuilder:F3,mathmlBuilder:U3});Ct({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:sr(t[0],"size").value,token:i}}});Ct({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=Yce(sr(t[1],"infix").size),o=t[2],l=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:F3,mathmlBuilder:U3});var Cj=a((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?_r(e.sup,t.havingStyle(r.sup()),t):_r(e.sub,t.havingStyle(r.sub()),t),i=sr(e.base,"horizBrace")):i=sr(e,"horizBrace");var s=_r(i.base,t.havingBaseStyle($t.DISPLAY)),o=Ys.svgSpan(i,t),l;if(i.isOver?(l=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Qe.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var u=Qe.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=Qe.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Qe.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},"htmlBuilder$3"),bfe=a((e,t)=>{var r=Ys.mathMLnode(e.label);return new bt.MathNode(e.isOver?"mover":"munder",[Dr(e.base,t),r])},"mathmlBuilder$2");Ct({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:Cj,mathmlBuilder:bfe});Ct({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[1],i=sr(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:dn(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:a((e,t)=>{var r=_n(e.body,t,!1);return Qe.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=No(e.body,t);return r instanceof Oi||(r=new Oi("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")});Ct({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=sr(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:dn(l)}},"handler")});Ct({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:dn(t[0])}},htmlBuilder(e,t){var r=_n(e.body,t,!1);return Qe.makeFragment(r)},mathmlBuilder(e,t){return new bt.MathNode("mrow",_i(e.body,t))}});Ct({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n,token:i}=e,s=sr(t[0],"raw").string,o=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(n){case"\\htmlClass":u.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),d=0;d<c.length;d++){var f=c[d].split("=");if(f.length!==2)throw new yt("Error parsing key-value for \\htmlData");u["data-"+f[0].trim()]=f[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:u,body:dn(o)}:r.formatUnsupportedCmd(n)},"handler"),htmlBuilder:a((e,t)=>{var r=_n(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Qe.makeSpan(n,r,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},"htmlBuilder"),mathmlBuilder:a((e,t)=>No(e.body,t),"mathmlBuilder")});Ct({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:dn(t[0]),mathml:dn(t[1])}},"handler"),htmlBuilder:a((e,t)=>{var r=_n(e.html,t,!1);return Qe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:a((e,t)=>No(e.mathml,t),"mathmlBuilder")});var Dv=a(function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new yt("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Q9(n))throw new yt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n},"sizeData2");Ct({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:a((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},l="";if(r[0])for(var u=sr(r[0],"raw").string,c=u.split(","),d=0;d<c.length;d++){var f=c[d].split("=");if(f.length===2){var g=f[1].trim();switch(f[0].trim()){case"alt":l=g;break;case"width":i=Dv(g);break;case"height":s=Dv(g);break;case"totalheight":o=Dv(g);break;default:throw new yt("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=sr(t[0],"url").url;return l===""&&(l=m,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:s,totalheight:o,src:m}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:a((e,t)=>{var r=nn(e.height,t),n=0;e.totalheight.number>0&&(n=nn(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=nn(e.width,t));var s={height:At(r+n)};i>0&&(s.width=At(i)),n>0&&(s.verticalAlign=At(-n));var o=new bde(e.src,e.alt,s);return o.height=r,o.depth=n,o},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new bt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=nn(e.height,t),i=0;if(e.totalheight.number>0&&(i=nn(e.totalheight,t)-n,r.setAttribute("valign",At(-i))),r.setAttribute("height",At(n+i)),e.width.number>0){var s=nn(e.width,t);r.setAttribute("width",At(s))}return r.setAttribute("src",e.src),r},"mathmlBuilder")});Ct({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=sr(t[0],"size");if(r.settings.strict){var s=n[1]==="m",o=i.value.unit==="mu";s?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return Qe.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=nn(e.dimension,t);return new bt.SpaceNode(r)}});Ct({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:a((e,t)=>{var r;e.alignment==="clap"?(r=Qe.makeSpan([],[_r(e.body,t)]),r=Qe.makeSpan(["inner"],[r],t)):r=Qe.makeSpan(["inner"],[_r(e.body,t)]);var n=Qe.makeSpan(["fix"],[]),i=Qe.makeSpan([e.alignment],[r,n],t),s=Qe.makeSpan(["strut"]);return s.style.height=At(i.height+i.depth),i.depth&&(s.style.verticalAlign=At(-i.depth)),i.children.unshift(s),i=Qe.makeSpan(["thinbox"],[i],t),Qe.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new bt.MathNode("mpadded",[Dr(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")});Ct({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",o=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:o}}});Ct({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new yt("Mismatched "+e.funcName)}});var BE=a((e,t)=>{switch(t.style.size){case $t.DISPLAY.size:return e.display;case $t.TEXT.size:return e.text;case $t.SCRIPT.size:return e.script;case $t.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle");Ct({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:a((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:dn(t[0]),text:dn(t[1]),script:dn(t[2]),scriptscript:dn(t[3])}},"handler"),htmlBuilder:a((e,t)=>{var r=BE(e,t),n=_n(r,t,!1);return Qe.makeFragment(n)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=BE(e,t);return No(r,t)},"mathmlBuilder")});var Mj=a((e,t,r,n,i,s,o)=>{e=Qe.makeSpan([],[e]);var l=r&&Er.isCharacterBox(r),u,c;if(t){var d=_r(t,n.havingStyle(i.sup()),n);c={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var f=_r(r,n.havingStyle(i.sub()),n);u={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var g;if(c&&u){var m=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+o;g=Qe.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:At(-s)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:At(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var y=e.height-o;g=Qe.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:At(-s)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(c){var _=e.depth+o;g=Qe.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:At(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var A=[g];if(u&&s!==0&&!l){var I=Qe.makeSpan(["mspace"],[],n);I.style.marginRight=At(s),A.unshift(I)}return Qe.makeSpan(["mop","op-limits"],A,n)},"assembleSupSub"),Oj=["\\smallint"],Qu=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=sr(e.base,"op"),i=!0):s=sr(e,"op");var o=t.style,l=!1;o.size===$t.DISPLAY.size&&s.symbol&&!Oj.includes(s.name)&&(l=!0);var u;if(s.symbol){var c=l?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),u=Qe.makeSymbol(s.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var f=u.italic,g=Qe.staticSvg(d+"Size"+(l?"2":"1"),t);u=Qe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},t),s.name="\\"+d,u.classes.unshift("mop"),u.italic=f}}else if(s.body){var m=_n(s.body,t,!0);m.length===1&&m[0]instanceof Qi?(u=m[0],u.classes[0]="mop"):u=Qe.makeSpan(["mop"],m,t)}else{for(var y=[],_=1;_<s.name.length;_++)y.push(Qe.mathsym(s.name[_],s.mode,t));u=Qe.makeSpan(["mop"],y,t)}var A=0,I=0;return(u instanceof Qi||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(A=(u.height-u.depth)/2-t.fontMetrics().axisHeight,I=u.italic),i?Mj(u,r,n,t,o,I,A):(A&&(u.style.position="relative",u.style.top=At(A)),u)},"htmlBuilder$2"),Df=a((e,t)=>{var r;if(e.symbol)r=new Oi("mo",[Wi(e.name,e.mode)]),Oj.includes(e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Oi("mo",_i(e.body,t));else{r=new Oi("mi",[new Za(e.name.slice(1))]);var n=new Oi("mo",[Wi("","text")]);e.parentIsSupSub?r=new Oi("mrow",[r,n]):r=sj([r,n])}return r},"mathmlBuilder$1"),vfe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ct({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=vfe[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:Qu,mathmlBuilder:Df});Ct({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:dn(n)}},"handler"),htmlBuilder:Qu,mathmlBuilder:Df});var yfe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ct({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Qu,mathmlBuilder:Df});Ct({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Qu,mathmlBuilder:Df});Ct({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=yfe[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Qu,mathmlBuilder:Df});var Rj=a((e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=sr(e.base,"operatorname"),i=!0):s=sr(e,"operatorname");var o;if(s.body.length>0){for(var l=s.body.map(f=>{var g=f.text;return typeof g=="string"?{type:"textord",mode:f.mode,text:g}:f}),u=_n(l,t.withFont("mathrm"),!0),c=0;c<u.length;c++){var d=u[c];d instanceof Qi&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Qe.makeSpan(["mop"],u,t)}else o=Qe.makeSpan(["mop"],[],t);return i?Mj(o,r,n,t,t.style,0,0):o},"htmlBuilder$1"),wfe=a((e,t)=>{for(var r=_i(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof bt.SpaceNode))if(s instanceof bt.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof bt.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(d=>d.toText()).join("");r=[new bt.TextNode(l)]}var u=new bt.MathNode("mi",r);u.setAttribute("mathvariant","normal");var c=new bt.MathNode("mo",[Wi("","text")]);return e.parentIsSupSub?new bt.MathNode("mrow",[u,c]):bt.newDocumentFragment([u,c])},"mathmlBuilder2");Ct({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:a((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:dn(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:Rj,mathmlBuilder:wfe});le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");zl({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Qe.makeFragment(_n(e.body,t,!1)):Qe.makeSpan(["mord"],_n(e.body,t,!0),t)},mathmlBuilder(e,t){return No(e.body,t,!0)}});Ct({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=_r(e.body,t.havingCrampedStyle()),n=Qe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Qe.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var r=new bt.MathNode("mo",[new bt.TextNode("")]);r.setAttribute("stretchy","true");var n=new bt.MathNode("mover",[Dr(e.body,t),r]);return n.setAttribute("accent","true"),n}});Ct({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:dn(n)}},"handler"),htmlBuilder:a((e,t)=>{var r=_n(e.body,t.withPhantom(),!1);return Qe.makeFragment(r)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=_i(e.body,t);return new bt.MathNode("mphantom",r)},"mathmlBuilder")});Ct({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:a((e,t)=>{var r=Qe.makeSpan([],[_r(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Qe.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=_i(dn(e.body),t),n=new bt.MathNode("mphantom",r),i=new bt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")});Ct({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:a((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:a((e,t)=>{var r=Qe.makeSpan(["inner"],[_r(e.body,t.withPhantom())]),n=Qe.makeSpan(["fix"],[]);return Qe.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=_i(dn(e.body),t),n=new bt.MathNode("mphantom",r),i=new bt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")});Ct({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=sr(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=_r(e.body,t),n=nn(e.dy,t);return Qe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new bt.MathNode("mpadded",[Dr(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Ct({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ct({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],s=sr(t[0],"size"),o=sr(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&sr(i,"size").value,width:s.value,height:o.value}},htmlBuilder(e,t){var r=Qe.makeSpan(["mord","rule"],[],t),n=nn(e.width,t),i=nn(e.height,t),s=e.shift?nn(e.shift,t):0;return r.style.borderRightWidth=At(n),r.style.borderTopWidth=At(i),r.style.bottom=At(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=nn(e.width,t),n=nn(e.height,t),i=e.shift?nn(e.shift,t):0,s=t.color&&t.getColor()||"black",o=new bt.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",At(r)),o.setAttribute("height",At(n));var l=new bt.MathNode("mpadded",[o]);return i>=0?l.setAttribute("height",At(i)):(l.setAttribute("height",At(i)),l.setAttribute("depth",At(-i))),l.setAttribute("voffset",At(i)),l}});function Lj(e,t,r){for(var n=_n(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var o=n[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[s].classes,t.sizingClasses(r)):n[s].classes[o+1]==="reset-size"+t.size&&(n[s].classes[o+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return Qe.makeFragment(n)}a(Lj,"sizingGroup");var FE=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],xfe=a((e,t)=>{var r=t.havingSize(e.size);return Lj(e.body,r,t)},"htmlBuilder2");Ct({type:"sizing",names:FE,props:{numArgs:0,allowedInText:!0},handler:a((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:FE.indexOf(n)+1,body:s}},"handler"),htmlBuilder:xfe,mathmlBuilder:a((e,t)=>{var r=t.havingSize(e.size),n=_i(e.body,r),i=new bt.MathNode("mstyle",n);return i.setAttribute("mathsize",At(r.sizeMultiplier)),i},"mathmlBuilder")});Ct({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:a((e,t,r)=>{var{parser:n}=e,i=!1,s=!1,o=r[0]&&sr(r[0],"ordgroup");if(o)for(var l="",u=0;u<o.body.length;++u){var c=o.body[u];if(l=c.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var d=t[0];return{type:"smash",mode:n.mode,body:d,smashHeight:i,smashDepth:s}},"handler"),htmlBuilder:a((e,t)=>{var r=Qe.makeSpan([],[_r(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Qe.makeSpan(["mord"],[s],t)},"htmlBuilder"),mathmlBuilder:a((e,t)=>{var r=new bt.MathNode("mpadded",[Dr(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")});Ct({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],s=t[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(e,t){var r=_r(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Qe.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,s=i;t.style.id<$t.TEXT.id&&(s=t.fontMetrics().xHeight);var o=i+s/4,l=r.height+r.depth+o+i,{span:u,ruleWidth:c,advanceWidth:d}=Bs.sqrtImage(l,t),f=u.height-c;f>r.height+r.depth+o&&(o=(o+f-r.height-r.depth)/2);var g=u.height-r.height-o-c;r.style.paddingLeft=At(d);var m=Qe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+g)},{type:"elem",elem:u},{type:"kern",size:c}]},t);if(e.index){var y=t.havingStyle($t.SCRIPTSCRIPT),_=_r(e.index,y,t),A=.6*(m.height-m.depth),I=Qe.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:_}]},t),O=Qe.makeSpan(["root"],[I]);return Qe.makeSpan(["mord","sqrt"],[O,m],t)}else return Qe.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new bt.MathNode("mroot",[Dr(r,t),Dr(n,t)]):new bt.MathNode("msqrt",[Dr(r,t)])}});var UE={display:$t.DISPLAY,text:$t.TEXT,script:$t.SCRIPT,scriptscript:$t.SCRIPTSCRIPT};Ct({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(e,t){var r=UE[e.style],n=t.havingStyle(r).withFont("");return Lj(e.body,n,t)},mathmlBuilder(e,t){var r=UE[e.style],n=t.havingStyle(r),i=_i(e.body,n),s=new bt.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=o[e.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var _fe=a(function(t,r){var n=t.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===$t.DISPLAY.size||n.alwaysHandleSupSub);return i?Qu:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===$t.DISPLAY.size||n.limits);return s?Rj:null}else{if(n.type==="accent")return Er.isCharacterBox(n.base)?L3:null;if(n.type==="horizBrace"){var o=!t.sub;return o===n.isOver?Cj:null}else return null}else return null},"htmlBuilderDelegate2");zl({type:"supsub",htmlBuilder(e,t){var r=_fe(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:s}=e,o=_r(n,t),l,u,c=t.fontMetrics(),d=0,f=0,g=n&&Er.isCharacterBox(n);if(i){var m=t.havingStyle(t.style.sup());l=_r(i,m,t),g||(d=o.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(s){var y=t.havingStyle(t.style.sub());u=_r(s,y,t),g||(f=o.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}var _;t.style===$t.DISPLAY?_=c.sup1:t.style.cramped?_=c.sup3:_=c.sup2;var A=t.sizeMultiplier,I=At(.5/c.ptPerEm/A),O=null;if(u){var R=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof Qi||R)&&(O=At(-o.italic))}var L;if(l&&u){d=Math.max(d,_,l.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var D=c.defaultRuleThickness,P=4*D;if(d-l.depth-(u.height-f)<P){f=P-(d-l.depth)+u.height;var Z=.8*c.xHeight-(d-l.depth);Z>0&&(d+=Z,f-=Z)}var V=[{type:"elem",elem:u,shift:f,marginRight:I,marginLeft:O},{type:"elem",elem:l,shift:-d,marginRight:I}];L=Qe.makeVList({positionType:"individualShift",children:V},t)}else if(u){f=Math.max(f,c.sub1,u.height-.8*c.xHeight);var W=[{type:"elem",elem:u,marginLeft:O,marginRight:I}];L=Qe.makeVList({positionType:"shift",positionData:f,children:W},t)}else if(l)d=Math.max(d,_,l.depth+.25*c.xHeight),L=Qe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:I}]},t);else throw new Error("supsub must have either sup or sub.");var F=R1(o,"right")||"mord";return Qe.makeSpan([F],[o,Qe.makeSpan(["msupsub"],[L])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[Dr(e.base,t)];e.sub&&s.push(Dr(e.sub,t)),e.sup&&s.push(Dr(e.sup,t));var o;if(r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===$t.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===$t.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===$t.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===$t.DISPLAY)?o="munder":o="msub"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===$t.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===$t.DISPLAY)?o="mover":o="msup"}return new bt.MathNode(o,s)}});zl({type:"atom",htmlBuilder(e,t){return Qe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new bt.MathNode("mo",[Wi(e.text,e.mode)]);if(e.family==="bin"){var n=O3(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var Dj={mi:"italic",mn:"normal",mtext:"normal"};zl({type:"mathord",htmlBuilder(e,t){return Qe.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new bt.MathNode("mi",[Wi(e.text,e.mode,t)]),n=O3(e,t)||"italic";return n!==Dj[r.type]&&r.setAttribute("mathvariant",n),r}});zl({type:"textord",htmlBuilder(e,t){return Qe.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Wi(e.text,e.mode,t),n=O3(e,t)||"normal",i;return e.mode==="text"?i=new bt.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new bt.MathNode("mn",[r]):e.text==="\\prime"?i=new bt.MathNode("mo",[r]):i=new bt.MathNode("mi",[r]),n!==Dj[i.type]&&i.setAttribute("mathvariant",n),i}});var jv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Pv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};zl({type:"spacing",htmlBuilder(e,t){if(Pv.hasOwnProperty(e.text)){var r=Pv[e.text].className||"";if(e.mode==="text"){var n=Qe.makeOrd(e,t,"textord");return n.classes.push(r),n}else return Qe.makeSpan(["mspace",r],[Qe.mathsym(e.text,e.mode,t)],t)}else{if(jv.hasOwnProperty(e.text))return Qe.makeSpan(["mspace",jv[e.text]],[],t);throw new yt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(Pv.hasOwnProperty(e.text))r=new bt.MathNode("mtext",[new bt.TextNode("")]);else{if(jv.hasOwnProperty(e.text))return new bt.MathNode("mspace");throw new yt('Unknown type of space "'+e.text+'"')}return r}});var HE=a(()=>{var e=new bt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad");zl({type:"tag",mathmlBuilder(e,t){var r=new bt.MathNode("mtable",[new bt.MathNode("mtr",[HE(),new bt.MathNode("mtd",[No(e.body,t)]),HE(),new bt.MathNode("mtd",[No(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var GE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},VE={"\\textbf":"textbf","\\textmd":"textmd"},Efe={"\\textit":"textit","\\textup":"textup"},KE=a((e,t)=>{var r=e.font;if(r){if(GE[r])return t.withTextFontFamily(GE[r]);if(VE[r])return t.withTextFontWeight(VE[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(Efe[r])},"optionsWithFont");Ct({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:dn(i),font:n}},htmlBuilder(e,t){var r=KE(e,t),n=_n(e.body,r,!0);return Qe.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=KE(e,t);return No(e.body,r)}});Ct({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=_r(e.body,t),n=Qe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Qe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Qe.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var r=new bt.MathNode("mo",[new bt.TextNode("")]);r.setAttribute("stretchy","true");var n=new bt.MathNode("munder",[Dr(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Ct({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=_r(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Qe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new bt.MathNode("mpadded",[Dr(e.body,t)],["vcenter"])}});Ct({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new yt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=ZE(e),n=[],i=t.havingStyle(t.style.text()),s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),n.push(Qe.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Qe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Qe.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new bt.TextNode(ZE(e)),n=new bt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var ZE=a(e=>e.body.replace(/ /g,e.star?"":""),"makeVerb"),po=ij,jj=`[ \r
	]`,Sfe="\\\\[a-zA-Z@]+",kfe="\\\\[^\uD800-\uDFFF]",Afe="("+Sfe+")"+jj+"*",Tfe=`\\\\(
|[ \r	]+
?)[ \r	]*`,P1="[-]",Nfe=new RegExp(P1+"+$"),Ife="("+jj+"+)|"+(Tfe+"|")+"([!-\\[\\]---]"+(P1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(P1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Afe)+("|"+kfe+")");class YE{static{a(this,"Lexer")}constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Ife,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new Di("EOF",new pi(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new yt("Unexpected character: '"+t[r]+"'",new Di(t[r],new pi(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Di(i,new pi(this,r,this.tokenRegex.lastIndex))}}class Cfe{static{a(this,"Namespace")}constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new yt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var Mfe=kj;le("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});le("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});le("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});le("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});le("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");le("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var $E={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};le("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new yt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=$E[t.text],n==null||n>=r)throw new yt("Invalid base-"+r+" digit "+t.text);for(var i;(i=$E[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"});var H3=a((e,t,r,n)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new yt("\\newcommand's first argument must be a macro name");var s=i[0].text,o=e.isDefined(s);if(o&&!t)throw new yt("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!r)throw new yt("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var u="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)u+=c.text,c=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new yt("Invalid number of arguments: "+u);l=parseInt(u),i=e.consumeArg().tokens}return o&&n||e.macros.set(s,{tokens:i,numArgs:l}),""},"newcommand");le("\\newcommand",e=>H3(e,!1,!0,!1));le("\\renewcommand",e=>H3(e,!0,!1,!1));le("\\providecommand",e=>H3(e,!0,!0,!0));le("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});le("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});le("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),po[r],Hr.math[r],Hr.text[r]),""});le("\\bgroup","{");le("\\egroup","}");le("~","\\nobreakspace");le("\\lq","`");le("\\rq","'");le("\\aa","\\r a");le("\\AA","\\r A");le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");le("","\\mathscr{B}");le("","\\mathscr{E}");le("","\\mathscr{F}");le("","\\mathscr{H}");le("","\\mathscr{I}");le("","\\mathscr{L}");le("","\\mathscr{M}");le("","\\mathscr{R}");le("","\\mathfrak{C}");le("","\\mathfrak{H}");le("","\\mathfrak{Z}");le("\\Bbbk","\\Bbb{k}");le("","\\cdotp");le("\\llap","\\mathllap{\\textrm{#1}}");le("\\rlap","\\mathrlap{\\textrm{#1}}");le("\\clap","\\mathclap{\\textrm{#1}}");le("\\mathstrut","\\vphantom{(}");le("\\underbar","\\underline{\\text{#1}}");le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");le("\\ne","\\neq");le("","\\neq");le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");le("","\\notin");le("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");le("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");le("","\\perp");le("","\\mathclose{!\\mkern-0.8mu!}");le("","\\notni");le("","\\ulcorner");le("","\\urcorner");le("","\\llcorner");le("","\\lrcorner");le("","\\copyright");le("","\\textregistered");le("","\\textregistered");le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');le("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");le("","\\vdots");le("\\varGamma","\\mathit{\\Gamma}");le("\\varDelta","\\mathit{\\Delta}");le("\\varTheta","\\mathit{\\Theta}");le("\\varLambda","\\mathit{\\Lambda}");le("\\varXi","\\mathit{\\Xi}");le("\\varPi","\\mathit{\\Pi}");le("\\varSigma","\\mathit{\\Sigma}");le("\\varUpsilon","\\mathit{\\Upsilon}");le("\\varPhi","\\mathit{\\Phi}");le("\\varPsi","\\mathit{\\Psi}");le("\\varOmega","\\mathit{\\Omega}");le("\\substack","\\begin{subarray}{c}#1\\end{subarray}");le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");le("\\boxed","\\fbox{$\\displaystyle{#1}$}");le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");le("\\implies","\\DOTSB\\;\\Longrightarrow\\;");le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");le("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");le("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var QE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};le("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in QE?t=QE[r]:(r.slice(0,4)==="\\not"||r in Hr.math&&["bin","rel"].includes(Hr.math[r].group))&&(t="\\dotsb"),t});var G3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};le("\\dotso",function(e){var t=e.future().text;return t in G3?"\\ldots\\,":"\\ldots"});le("\\dotsc",function(e){var t=e.future().text;return t in G3&&t!==","?"\\ldots\\,":"\\ldots"});le("\\cdots",function(e){var t=e.future().text;return t in G3?"\\@cdots\\,":"\\@cdots"});le("\\dotsb","\\cdots");le("\\dotsm","\\cdots");le("\\dotsi","\\!\\cdots");le("\\dotsx","\\ldots\\,");le("\\DOTSI","\\relax");le("\\DOTSB","\\relax");le("\\DOTSX","\\relax");le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");le("\\,","\\tmspace+{3mu}{.1667em}");le("\\thinspace","\\,");le("\\>","\\mskip{4mu}");le("\\:","\\tmspace+{4mu}{.2222em}");le("\\medspace","\\:");le("\\;","\\tmspace+{5mu}{.2777em}");le("\\thickspace","\\;");le("\\!","\\tmspace-{3mu}{.1667em}");le("\\negthinspace","\\!");le("\\negmedspace","\\tmspace-{4mu}{.2222em}");le("\\negthickspace","\\tmspace-{5mu}{.277em}");le("\\enspace","\\kern.5em ");le("\\enskip","\\hskip.5em\\relax");le("\\quad","\\hskip1em\\relax");le("\\qquad","\\hskip2em\\relax");le("\\tag","\\@ifstar\\tag@literal\\tag@paren");le("\\tag@paren","\\tag@literal{({#1})}");le("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new yt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");le("\\newline","\\\\\\relax");le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Pj=At(Ka["Main-Regular"][84][1]-.7*Ka["Main-Regular"][65][1]);le("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Pj+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");le("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Pj+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");le("\\hspace","\\@ifstar\\@hspacer\\@hspace");le("\\@hspace","\\hskip #1\\relax");le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");le("\\ordinarycolon",":");le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');le("","\\dblcolon");le("","\\eqcolon");le("","\\coloneqq");le("","\\eqqcolon");le("","\\Coloneqq");le("\\ratio","\\vcentcolon");le("\\coloncolon","\\dblcolon");le("\\colonequals","\\coloneqq");le("\\coloncolonequals","\\Coloneqq");le("\\equalscolon","\\eqqcolon");le("\\equalscoloncolon","\\Eqqcolon");le("\\colonminus","\\coloneq");le("\\coloncolonminus","\\Coloneq");le("\\minuscolon","\\eqcolon");le("\\minuscoloncolon","\\Eqcolon");le("\\coloncolonapprox","\\Colonapprox");le("\\coloncolonsim","\\Colonsim");le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");le("\\ngeqq","\\html@mathml{\\@ngeqq}{}");le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");le("\\nleqq","\\html@mathml{\\@nleqq}{}");le("\\nleqslant","\\html@mathml{\\@nleqslant}{}");le("\\nshortmid","\\html@mathml{\\@nshortmid}{}");le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");le("\\imath","\\html@mathml{\\@imath}{}");le("\\jmath","\\html@mathml{\\@jmath}{}");le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");le("","\\llbracket");le("","\\rrbracket");le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");le("","\\lBrace");le("","\\rBrace");le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");le("","\\minuso");le("\\darr","\\downarrow");le("\\dArr","\\Downarrow");le("\\Darr","\\Downarrow");le("\\lang","\\langle");le("\\rang","\\rangle");le("\\uarr","\\uparrow");le("\\uArr","\\Uparrow");le("\\Uarr","\\Uparrow");le("\\N","\\mathbb{N}");le("\\R","\\mathbb{R}");le("\\Z","\\mathbb{Z}");le("\\alef","\\aleph");le("\\alefsym","\\aleph");le("\\Alpha","\\mathrm{A}");le("\\Beta","\\mathrm{B}");le("\\bull","\\bullet");le("\\Chi","\\mathrm{X}");le("\\clubs","\\clubsuit");le("\\cnums","\\mathbb{C}");le("\\Complex","\\mathbb{C}");le("\\Dagger","\\ddagger");le("\\diamonds","\\diamondsuit");le("\\empty","\\emptyset");le("\\Epsilon","\\mathrm{E}");le("\\Eta","\\mathrm{H}");le("\\exist","\\exists");le("\\harr","\\leftrightarrow");le("\\hArr","\\Leftrightarrow");le("\\Harr","\\Leftrightarrow");le("\\hearts","\\heartsuit");le("\\image","\\Im");le("\\infin","\\infty");le("\\Iota","\\mathrm{I}");le("\\isin","\\in");le("\\Kappa","\\mathrm{K}");le("\\larr","\\leftarrow");le("\\lArr","\\Leftarrow");le("\\Larr","\\Leftarrow");le("\\lrarr","\\leftrightarrow");le("\\lrArr","\\Leftrightarrow");le("\\Lrarr","\\Leftrightarrow");le("\\Mu","\\mathrm{M}");le("\\natnums","\\mathbb{N}");le("\\Nu","\\mathrm{N}");le("\\Omicron","\\mathrm{O}");le("\\plusmn","\\pm");le("\\rarr","\\rightarrow");le("\\rArr","\\Rightarrow");le("\\Rarr","\\Rightarrow");le("\\real","\\Re");le("\\reals","\\mathbb{R}");le("\\Reals","\\mathbb{R}");le("\\Rho","\\mathrm{P}");le("\\sdot","\\cdot");le("\\sect","\\S");le("\\spades","\\spadesuit");le("\\sub","\\subset");le("\\sube","\\subseteq");le("\\supe","\\supseteq");le("\\Tau","\\mathrm{T}");le("\\thetasym","\\vartheta");le("\\weierp","\\wp");le("\\Zeta","\\mathrm{Z}");le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");le("\\bra","\\mathinner{\\langle{#1}|}");le("\\ket","\\mathinner{|{#1}\\rangle}");le("\\braket","\\mathinner{\\langle{#1}\\rangle}");le("\\Bra","\\left\\langle#1\\right|");le("\\Ket","\\left|#1\\right\\rangle");var zj=a(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,o=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var u=a(f=>g=>{e&&(g.macros.set("|",o),i.length&&g.macros.set("\\|",l));var m=f;if(!f&&i.length){var y=g.future();y.text==="|"&&(g.popToken(),m=!0)}return{tokens:m?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var c=t.consumeArg().tokens,d=t.expandTokens([...s,...c,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper");le("\\bra@ket",zj(!1));le("\\bra@set",zj(!0));le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");le("\\angln","{\\angl n}");le("\\blue","\\textcolor{##6495ed}{#1}");le("\\orange","\\textcolor{##ffa500}{#1}");le("\\pink","\\textcolor{##ff00af}{#1}");le("\\red","\\textcolor{##df0030}{#1}");le("\\green","\\textcolor{##28ae7b}{#1}");le("\\gray","\\textcolor{gray}{#1}");le("\\purple","\\textcolor{##9d38bd}{#1}");le("\\blueA","\\textcolor{##ccfaff}{#1}");le("\\blueB","\\textcolor{##80f6ff}{#1}");le("\\blueC","\\textcolor{##63d9ea}{#1}");le("\\blueD","\\textcolor{##11accd}{#1}");le("\\blueE","\\textcolor{##0c7f99}{#1}");le("\\tealA","\\textcolor{##94fff5}{#1}");le("\\tealB","\\textcolor{##26edd5}{#1}");le("\\tealC","\\textcolor{##01d1c1}{#1}");le("\\tealD","\\textcolor{##01a995}{#1}");le("\\tealE","\\textcolor{##208170}{#1}");le("\\greenA","\\textcolor{##b6ffb0}{#1}");le("\\greenB","\\textcolor{##8af281}{#1}");le("\\greenC","\\textcolor{##74cf70}{#1}");le("\\greenD","\\textcolor{##1fab54}{#1}");le("\\greenE","\\textcolor{##0d923f}{#1}");le("\\goldA","\\textcolor{##ffd0a9}{#1}");le("\\goldB","\\textcolor{##ffbb71}{#1}");le("\\goldC","\\textcolor{##ff9c39}{#1}");le("\\goldD","\\textcolor{##e07d10}{#1}");le("\\goldE","\\textcolor{##a75a05}{#1}");le("\\redA","\\textcolor{##fca9a9}{#1}");le("\\redB","\\textcolor{##ff8482}{#1}");le("\\redC","\\textcolor{##f9685d}{#1}");le("\\redD","\\textcolor{##e84d39}{#1}");le("\\redE","\\textcolor{##bc2612}{#1}");le("\\maroonA","\\textcolor{##ffbde0}{#1}");le("\\maroonB","\\textcolor{##ff92c6}{#1}");le("\\maroonC","\\textcolor{##ed5fa6}{#1}");le("\\maroonD","\\textcolor{##ca337c}{#1}");le("\\maroonE","\\textcolor{##9e034e}{#1}");le("\\purpleA","\\textcolor{##ddd7ff}{#1}");le("\\purpleB","\\textcolor{##c6b9fc}{#1}");le("\\purpleC","\\textcolor{##aa87ff}{#1}");le("\\purpleD","\\textcolor{##7854ab}{#1}");le("\\purpleE","\\textcolor{##543b78}{#1}");le("\\mintA","\\textcolor{##f5f9e8}{#1}");le("\\mintB","\\textcolor{##edf2df}{#1}");le("\\mintC","\\textcolor{##e0e5cc}{#1}");le("\\grayA","\\textcolor{##f6f7f7}{#1}");le("\\grayB","\\textcolor{##f0f1f2}{#1}");le("\\grayC","\\textcolor{##e3e5e6}{#1}");le("\\grayD","\\textcolor{##d6d8da}{#1}");le("\\grayE","\\textcolor{##babec2}{#1}");le("\\grayF","\\textcolor{##888d93}{#1}");le("\\grayG","\\textcolor{##626569}{#1}");le("\\grayH","\\textcolor{##3b3e40}{#1}");le("\\grayI","\\textcolor{##21242c}{#1}");le("\\kaBlue","\\textcolor{##314453}{#1}");le("\\kaGreen","\\textcolor{##71B307}{#1}");var Bj={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ofe{static{a(this,"MacroExpander")}constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Cfe(Mfe,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new YE(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new Di("EOF",n.loc)),this.pushTokens(i),new Di("",pi.range(r,n))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i=this.future(),s,o=0,l=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new yt("Extra }",s)}else if(s.text==="EOF")throw new yt("Unexpected end of input in a macro argument, expected '"+(t&&n?t[l]:"}")+"'",s);if(t&&n)if((o===0||o===1&&t[l]==="{")&&s.text===t[l]){if(++l,l===t.length){r.splice(-l,l);break}}else l=0}while(o!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new yt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new yt("Use of the macro doesn't match its definition",s)}}for(var o=[],l=0;l<t;l++)o.push(this.consumeArg(r&&r[l+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new yt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new yt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var u=s[l];if(u.text==="#"){if(l===0)throw new yt("Incomplete placeholder at end of macro body",u);if(u=s[--l],u.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(u.text))s.splice(l,2,...o[+u.text-1]);else throw new yt("Not a valid argument number",u)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Di(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var l=new YE(i,this.settings),u=[],c=l.lex();c.text!=="EOF";)u.push(c),c=l.lex();u.reverse();var d={tokens:u,numArgs:s};return d}return i}isDefined(t){return this.macros.has(t)||po.hasOwnProperty(t)||Hr.math.hasOwnProperty(t)||Hr.text.hasOwnProperty(t)||Bj.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:po.hasOwnProperty(t)&&!po[t].primitive}}var WE=/^[]/,Dh=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),zv={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},XE={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let Fj=class Uj{static{a(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ofe(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new yt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Di("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Uj.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&po[i.text]&&po[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new yt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var s,o,l=t.slice(0,r),u=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?o=u[0]:o={type:"ordgroup",mode:this.mode,body:u};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[s,t[r],o],[]):c=this.callFunction(n,[s,o],[]),[c]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(t)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new yt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var o=s.text==="\\limits";r.limits=o,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new yt("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new yt("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new yt("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new yt("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(Dh[s.text]){var c=WE.test(s.text),d=[];for(d.push(new Di(Dh[s.text])),this.consume();;){var f=this.fetch().text;if(!Dh[f]||WE.test(f)!==c)break;d.unshift(new Di(Dh[f])),this.consume()}var g=this.subparse(d);c?i={type:"ordgroup",mode:"math",body:g}:n={type:"ordgroup",mode:"math",body:g}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,s=po[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new yt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new yt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new yt("Can't use function '"+i+"' in math mode",n);var{args:o,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,o,l,n,t)}callFunction(t,r,n,i,s){var o={funcName:t,parser:this,token:i,breakOnTokenText:s},l=po[t];if(l&&l.handler)return l.handler(o,r,n);throw new yt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<n;o++){var l=r.argTypes&&r.argTypes[o],u=o<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&o===1&&s[0]==null)&&(l="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)s.push(c);else if(c!=null)i.push(c);else throw new yt("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new yt("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new yt("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new yt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,s="",o;(o=this.fetch()).text!=="EOF"&&t.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new yt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new yt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new yt("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!Q9(s))throw new yt("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),o}parseGroup(t,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,o),u=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:pi.range(n,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,t)||this.parseSymbol(),s==null&&i[0]==="\\"&&!Bj.hasOwnProperty(i)){if(this.settings.throwOnError)throw new yt("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],s=i.text;s==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:pi.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:pi.range(i,t[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&t[n+1].text===s&&(t.splice(n,2,{type:"textord",mode:"text",loc:pi.range(i,t[n+1]),text:s+s}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new yt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}XE.hasOwnProperty(r[0])&&!Hr[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=XE[r[0]]+r.slice(1));var s=Nfe.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="":r==="j"&&(r=""));var o;if(Hr[this.mode][r]){this.settings.strict&&this.mode==="math"&&O1.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=Hr[this.mode][r].group,u=pi.range(t),c;if(wde.hasOwnProperty(l)){var d=l;c={type:"atom",mode:this.mode,family:d,loc:u,text:r}}else c={type:l,mode:this.mode,loc:u,text:r};o=c}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Y9(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:pi.range(t),text:r};else return null;if(this.consume(),s)for(var f=0;f<s[0].length;f++){var g=s[0][f];if(!zv[g])throw new yt("Unknown accent ' "+g+"'",t);var m=zv[g][this.mode]||zv[g].text;if(!m)throw new yt("Accent "+g+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:pi.range(t),label:m,isStretchy:!1,isShifty:!0,base:o}}return o}};Fj.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var V3=a(function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Fj(t,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new yt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new Di("\\df@tag")])}]}return i},"parseTree2"),K3=a(function(t,r,n){r.textContent="";var i=Km(t,n).toNode();r.appendChild(i)},"render2");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),K3=a(function(){throw new yt("KaTeX doesn't work in quirks mode.")},"render3"));var Hj=a(function(t,r){var n=Km(t,r).toMarkup();return n},"renderToString2"),Gj=a(function(t,r){var n=new A3(r);return V3(t,n)},"generateParseTree2"),Vj=a(function(t,r,n){if(n.throwOnError||!(t instanceof yt))throw t;var i=Qe.makeSpan(["katex-error"],[new Qi(r)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+n.errorColor),i},"renderError2"),Km=a(function(t,r){var n=new A3(r);try{var i=V3(t,n);return Gde(i,t,n)}catch(s){return Vj(s,t,n)}},"renderToDomTree2"),Kj=a(function(t,r){var n=new A3(r);try{var i=V3(t,n);return Vde(i,t,n)}catch(s){return Vj(s,t,n)}},"renderToHTMLTree2"),Zj="0.16.26",Yj={Span:Lf,Anchor:I3,SymbolNode:Qi,SvgNode:Ks,PathNode:To,LineNode:M1},z1={version:Zj,render:K3,renderToString:Hj,ParseError:yt,SETTINGS_SCHEMA:nd,__parse:Gj,__renderToDomTree:Km,__renderToHTMLTree:Kj,__setFontMetrics:$9,__defineSymbol:z,__defineFunction:Ct,__defineMacro:le,__domTree:Yj};const kwe=Object.freeze(Object.defineProperty({__proto__:null,ParseError:yt,SETTINGS_SCHEMA:nd,__defineFunction:Ct,__defineMacro:le,__defineSymbol:z,__domTree:Yj,__parse:Gj,__renderToDomTree:Km,__renderToHTMLTree:Kj,__setFontMetrics:$9,default:z1,get render(){return K3},renderToString:Hj,version:Zj},Symbol.toStringTag,{value:"Module"})),Rfe={},Lfe=[];function B1(e){const t=e||Rfe;return function(r,n){E3(r,"element",function(i,s){const o=Array.isArray(i.properties.className)?i.properties.className:Lfe,l=o.includes("language-math"),u=o.includes("math-display"),c=o.includes("math-inline");let d=u;if(!l&&!u&&!c)return;let f=s[s.length-1],g=i;if(i.tagName==="code"&&l&&f&&f.type==="element"&&f.tagName==="pre"&&(g=f,f=s[s.length-2],d=!0),!f)return;const m=Rce(g,{whitespace:"pre"});let y;try{y=z1.renderToString(m,{...t,displayMode:d,throwOnError:!0})}catch(A){const I=A,O=I.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:I,place:i.position,ruleId:O,source:"rehype-katex"});try{y=z1.renderToString(m,{...t,displayMode:d,strict:"ignore",throwOnError:!1})}catch{y=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(A)},children:[{type:"text",value:m}]}]}}typeof y=="string"&&(y=kce(y).children);const _=f.children.indexOf(g);return f.children.splice(_,1,...y),ap})}}a(B1,"rehypeKatex");const $j=-1,Zm=0,dp=1,fp=2,Z3=3,Y3=4,$3=5,Q3=6,Qj=7,Wj=8,JE=typeof self=="object"?self:globalThis,Dfe=a((e,t)=>{const r=a((i,s)=>(e.set(s,i),i),"as"),n=a(i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Zm:case $j:return r(o,i);case dp:{const l=r([],i);for(const u of o)l.push(n(u));return l}case fp:{const l=r({},i);for(const[u,c]of o)l[n(u)]=n(c);return l}case Z3:return r(new Date(o),i);case Y3:{const{source:l,flags:u}=o;return r(new RegExp(l,u),i)}case $3:{const l=r(new Map,i);for(const[u,c]of o)l.set(n(u),n(c));return l}case Q3:{const l=r(new Set,i);for(const u of o)l.add(n(u));return l}case Qj:{const{name:l,message:u}=o;return r(new JE[l](u),i)}case Wj:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i)}return r(new JE[s](o),i)},"unpair");return n},"deserializer"),qE=a(e=>Dfe(new Map,e)(0),"deserialize"),ql="",{toString:jfe}={},{keys:Pfe}=Object,Ic=a(e=>{const t=typeof e;if(t!=="object"||!e)return[Zm,t];const r=jfe.call(e).slice(8,-1);switch(r){case"Array":return[dp,ql];case"Object":return[fp,ql];case"Date":return[Z3,ql];case"RegExp":return[Y3,ql];case"Map":return[$3,ql];case"Set":return[Q3,ql]}return r.includes("Array")?[dp,r]:r.includes("Error")?[Qj,r]:[fp,r]},"typeOf"),jh=a(([e,t])=>e===Zm&&(t==="function"||t==="symbol"),"shouldSkip"),zfe=a((e,t,r,n)=>{const i=a((o,l)=>{const u=n.push(o)-1;return r.set(l,u),u},"as"),s=a(o=>{if(r.has(o))return r.get(o);let[l,u]=Ic(o);switch(l){case Zm:{let d=o;switch(u){case"bigint":l=Wj,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([$j],o)}return i([l,d],o)}case dp:{if(u)return i([u,[...o]],o);const d=[],f=i([l,d],o);for(const g of o)d.push(s(g));return f}case fp:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([l,d],o);for(const g of Pfe(o))(e||!jh(Ic(o[g])))&&d.push([s(g),s(o[g])]);return f}case Z3:return i([l,o.toISOString()],o);case Y3:{const{source:d,flags:f}=o;return i([l,{source:d,flags:f}],o)}case $3:{const d=[],f=i([l,d],o);for(const[g,m]of o)(e||!(jh(Ic(g))||jh(Ic(m))))&&d.push([s(g),s(m)]);return f}case Q3:{const d=[],f=i([l,d],o);for(const g of o)(e||!jh(Ic(g)))&&d.push(s(g));return f}}const{message:c}=o;return i([l,{name:u,message:c}],o)},"pair");return s},"serializer"),eS=a((e,{json:t,lossy:r}={})=>{const n=[];return zfe(!(t||r),!!t,new Map,n)(e),n},"serialize$1"),Mu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?qE(eS(e,t)):structuredClone(e):(e,t)=>qE(eS(e,t));function Bfe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let o=0;for(;;){let l=r[o];if(l===void 0){const u=tS(t,r[o-1]);l=u===-1?t.length+1:u+1,r[o]=l}if(l>s)return{line:o+1,column:s-(o>0?r[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const l=r[r.length-1],u=tS(t,l),c=u===-1?t.length+1:u+1;if(l===c)break;r.push(c)}const o=(s.line>1?r[s.line-2]:0)+s.column-1;if(o<r[s.line-1])return o}}}a(Bfe,"location$1");function tS(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}a(tS,"next");const Xj={}.hasOwnProperty,Ffe=Object.prototype;function Ufe(e,t){const r=t||{};return W3({file:r.file||void 0,location:!1,schema:r.space==="svg"?Lo:Of,verbose:r.verbose||!1},e)}a(Ufe,"fromParse5");function W3(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},h0(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:Jj(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Bfe(s),l=o.toPoint(0),u=o.toPoint(s.length);r.position={start:l,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},h0(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},h0(e,n,r),r}default:return r=Hfe(e,t),r}}a(W3,"one$3");function Jj(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=W3(e,t[r]);n.push(i)}return n}a(Jj,"all$3");function Hfe(e,t){const r=e.schema;e.schema=t.namespaceURI===Va.svg?Lo:Of;let n=-1;const i={};for(;++n<t.attrs.length;){const l=t.attrs[n],u=(l.prefix?l.prefix+":":"")+l.name;Xj.call(Ffe,u)||(i[u]=l.value)}const o=(e.schema.space==="svg"?B9:z9)(t.tagName,i,Jj(e,t.childNodes));if(h0(e,t,o),o.tagName==="template"){const l=t,u=l.sourceCodeLocation,c=u&&u.startTag&&uu(u.startTag),d=u&&u.endTag&&uu(u.endTag),f=W3(e,l.content);c&&d&&e.file&&(f.position={start:c.end,end:d.start}),o.content=f}return e.schema=r,o}a(Hfe,"element$4");function h0(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=Gfe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}a(h0,"patch$2");function Gfe(e,t,r){const n=uu(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(r.attrs)for(o in r.attrs)Xj.call(r.attrs,o)&&(s[zm(e.schema,o).property]=uu(r.attrs[o]));r.startTag;const l=uu(r.startTag),u=r.endTag?uu(r.endTag):void 0,c={opening:l};u&&(c.closing=u),c.properties=s,t.data={position:c}}}return n}a(Gfe,"createLocation");function uu(e){const t=rS({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=rS({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}a(uu,"position$2");function rS(e){return e.line&&e.column?e:void 0}a(rS,"point$3");const nS={}.hasOwnProperty;function qj(e,t){const r=t||{};function n(i,...s){let o=n.invalid;const l=n.handlers;if(i&&nS.call(i,e)){const u=String(i[e]);o=nS.call(l,u)?l[u]:n.unknown}if(o)return o.call(this,i,...s)}return a(n,"one"),n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}a(qj,"zwitch");const Vfe={},Kfe={}.hasOwnProperty,eP=qj("type",{handlers:{root:Yfe,element:Jfe,text:Wfe,comment:Xfe,doctype:Qfe}});function Zfe(e,t){const n=(t||Vfe).space;return eP(e,n==="svg"?Lo:Of)}a(Zfe,"toParse5");function Yfe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=X3(e.children,r,t),Wu(e,r),r}a(Yfe,"root$4");function $fe(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=X3(e.children,r,t),Wu(e,r),r}a($fe,"fragment");function Qfe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Wu(e,t),t}a(Qfe,"doctype$1");function Wfe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Wu(e,t),t}a(Wfe,"text$7");function Xfe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Wu(e,t),t}a(Xfe,"comment$1");function Jfe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=Lo);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Kfe.call(e.properties,s)){const u=qfe(n,s,e.properties[s]);u&&i.push(u)}}const o=n.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Va[o],childNodes:[],parentNode:null};return l.childNodes=X3(e.children,l,n),Wu(e,l),e.tagName==="template"&&e.content&&(l.content=$fe(e.content,n)),l}a(Jfe,"element$3");function qfe(e,t,r){const n=zm(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?D9(r):j9(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=Va[n.space]}return i}a(qfe,"createProperty$1");function X3(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=eP(e[n],r);s.parentNode=t,i.push(s)}return i}a(X3,"all$2");function Wu(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}a(Wu,"patch$1");const ehe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],the=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qr="";var fe;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(fe||(fe={}));const ui={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function tP(e){return e>=55296&&e<=57343}a(tP,"isSurrogate");function rhe(e){return e>=56320&&e<=57343}a(rhe,"isSurrogatePair");function nhe(e,t){return(e-55296)*1024+9216+t}a(nhe,"getSurrogatePairCodePoint");function rP(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}a(rP,"isControlCodePoint");function nP(e){return e>=64976&&e<=65007||the.has(e)}a(nP,"isUndefinedCodePoint");var it;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(it||(it={}));const ihe=65536;class ahe{static{a(this,"Preprocessor")}constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=ihe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,o=i+r,l=s+r;return{code:t,startLine:n,endLine:n,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(rhe(r))return this.pos++,this._addGap(),nhe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,fe.EOF;return this._err(it.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,fe.EOF;const n=this.html.charCodeAt(r);return n===fe.CARRIAGE_RETURN?fe.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,fe.EOF;let t=this.html.charCodeAt(this.pos);return t===fe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,fe.LINE_FEED):t===fe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,tP(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===fe.LINE_FEED||t===fe.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){rP(t)?this._err(it.controlCharacterInInputStream):nP(t)&&this._err(it.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var fr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(fr||(fr={}));function iP(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}a(iP,"getTokenAttr");const she=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),ohe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function lhe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=ohe.get(e))!==null&&t!==void 0?t:e}a(lhe,"replaceCodePoint");var Nn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Nn||(Nn={}));const uhe=32;var mo;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(mo||(mo={}));function F1(e){return e>=Nn.ZERO&&e<=Nn.NINE}a(F1,"isNumber");function che(e){return e>=Nn.UPPER_A&&e<=Nn.UPPER_F||e>=Nn.LOWER_A&&e<=Nn.LOWER_F}a(che,"isHexadecimalCharacter");function dhe(e){return e>=Nn.UPPER_A&&e<=Nn.UPPER_Z||e>=Nn.LOWER_A&&e<=Nn.LOWER_Z||F1(e)}a(dhe,"isAsciiAlphaNumeric$1");function fhe(e){return e===Nn.EQUALS||dhe(e)}a(fhe,"isEntityInAttributeInvalidEnd");var kn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(kn||(kn={}));var Ms;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ms||(Ms={}));class hhe{static{a(this,"EntityDecoder")}constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=kn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ms.Strict}startEntity(t){this.decodeMode=t,this.state=kn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case kn.EntityStart:return t.charCodeAt(r)===Nn.NUM?(this.state=kn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=kn.NamedEntity,this.stateNamedEntity(t,r));case kn.NumericStart:return this.stateNumericStart(t,r);case kn.NumericDecimal:return this.stateNumericDecimal(t,r);case kn.NumericHex:return this.stateNumericHex(t,r);case kn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|uhe)===Nn.LOWER_X?(this.state=kn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=kn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(F1(i)||che(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(F1(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Nn.SEMI)this.consumed+=1;else if(this.decodeMode===Ms.Strict)return 0;return this.emitCodePoint(lhe(this.result),this.consumed),this.errors&&(t!==Nn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&mo.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const o=t.charCodeAt(r);if(this.treeIndex=phe(n,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ms.Attribute&&(s===0||fhe(o))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&mo.VALUE_LENGTH)>>14,s!==0){if(o===Nn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ms.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&mo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~mo.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case kn.NamedEntity:return this.result!==0&&(this.decodeMode!==Ms.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case kn.NumericDecimal:return this.emitNumericEntity(0,2);case kn.NumericHex:return this.emitNumericEntity(0,3);case kn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case kn.EntityStart:return 0}}}function phe(e,t,r,n){const i=(t&mo.BRANCH_LENGTH)>>7,s=t&mo.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const u=n-s;return u<0||u>=i?-1:e[r+u]-1}let o=r,l=o+i-1;for(;o<=l;){const u=o+l>>>1,c=e[u];if(c<n)o=u+1;else if(c>n)l=u-1;else return e[u+i]}return-1}a(phe,"determineBranch");var pt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(pt||(pt={}));var hl;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(hl||(hl={}));var Ki;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Ki||(Ki={}));var Ye;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ye||(Ye={}));var j;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(j||(j={}));const mhe=new Map([[Ye.A,j.A],[Ye.ADDRESS,j.ADDRESS],[Ye.ANNOTATION_XML,j.ANNOTATION_XML],[Ye.APPLET,j.APPLET],[Ye.AREA,j.AREA],[Ye.ARTICLE,j.ARTICLE],[Ye.ASIDE,j.ASIDE],[Ye.B,j.B],[Ye.BASE,j.BASE],[Ye.BASEFONT,j.BASEFONT],[Ye.BGSOUND,j.BGSOUND],[Ye.BIG,j.BIG],[Ye.BLOCKQUOTE,j.BLOCKQUOTE],[Ye.BODY,j.BODY],[Ye.BR,j.BR],[Ye.BUTTON,j.BUTTON],[Ye.CAPTION,j.CAPTION],[Ye.CENTER,j.CENTER],[Ye.CODE,j.CODE],[Ye.COL,j.COL],[Ye.COLGROUP,j.COLGROUP],[Ye.DD,j.DD],[Ye.DESC,j.DESC],[Ye.DETAILS,j.DETAILS],[Ye.DIALOG,j.DIALOG],[Ye.DIR,j.DIR],[Ye.DIV,j.DIV],[Ye.DL,j.DL],[Ye.DT,j.DT],[Ye.EM,j.EM],[Ye.EMBED,j.EMBED],[Ye.FIELDSET,j.FIELDSET],[Ye.FIGCAPTION,j.FIGCAPTION],[Ye.FIGURE,j.FIGURE],[Ye.FONT,j.FONT],[Ye.FOOTER,j.FOOTER],[Ye.FOREIGN_OBJECT,j.FOREIGN_OBJECT],[Ye.FORM,j.FORM],[Ye.FRAME,j.FRAME],[Ye.FRAMESET,j.FRAMESET],[Ye.H1,j.H1],[Ye.H2,j.H2],[Ye.H3,j.H3],[Ye.H4,j.H4],[Ye.H5,j.H5],[Ye.H6,j.H6],[Ye.HEAD,j.HEAD],[Ye.HEADER,j.HEADER],[Ye.HGROUP,j.HGROUP],[Ye.HR,j.HR],[Ye.HTML,j.HTML],[Ye.I,j.I],[Ye.IMG,j.IMG],[Ye.IMAGE,j.IMAGE],[Ye.INPUT,j.INPUT],[Ye.IFRAME,j.IFRAME],[Ye.KEYGEN,j.KEYGEN],[Ye.LABEL,j.LABEL],[Ye.LI,j.LI],[Ye.LINK,j.LINK],[Ye.LISTING,j.LISTING],[Ye.MAIN,j.MAIN],[Ye.MALIGNMARK,j.MALIGNMARK],[Ye.MARQUEE,j.MARQUEE],[Ye.MATH,j.MATH],[Ye.MENU,j.MENU],[Ye.META,j.META],[Ye.MGLYPH,j.MGLYPH],[Ye.MI,j.MI],[Ye.MO,j.MO],[Ye.MN,j.MN],[Ye.MS,j.MS],[Ye.MTEXT,j.MTEXT],[Ye.NAV,j.NAV],[Ye.NOBR,j.NOBR],[Ye.NOFRAMES,j.NOFRAMES],[Ye.NOEMBED,j.NOEMBED],[Ye.NOSCRIPT,j.NOSCRIPT],[Ye.OBJECT,j.OBJECT],[Ye.OL,j.OL],[Ye.OPTGROUP,j.OPTGROUP],[Ye.OPTION,j.OPTION],[Ye.P,j.P],[Ye.PARAM,j.PARAM],[Ye.PLAINTEXT,j.PLAINTEXT],[Ye.PRE,j.PRE],[Ye.RB,j.RB],[Ye.RP,j.RP],[Ye.RT,j.RT],[Ye.RTC,j.RTC],[Ye.RUBY,j.RUBY],[Ye.S,j.S],[Ye.SCRIPT,j.SCRIPT],[Ye.SEARCH,j.SEARCH],[Ye.SECTION,j.SECTION],[Ye.SELECT,j.SELECT],[Ye.SOURCE,j.SOURCE],[Ye.SMALL,j.SMALL],[Ye.SPAN,j.SPAN],[Ye.STRIKE,j.STRIKE],[Ye.STRONG,j.STRONG],[Ye.STYLE,j.STYLE],[Ye.SUB,j.SUB],[Ye.SUMMARY,j.SUMMARY],[Ye.SUP,j.SUP],[Ye.TABLE,j.TABLE],[Ye.TBODY,j.TBODY],[Ye.TEMPLATE,j.TEMPLATE],[Ye.TEXTAREA,j.TEXTAREA],[Ye.TFOOT,j.TFOOT],[Ye.TD,j.TD],[Ye.TH,j.TH],[Ye.THEAD,j.THEAD],[Ye.TITLE,j.TITLE],[Ye.TR,j.TR],[Ye.TRACK,j.TRACK],[Ye.TT,j.TT],[Ye.U,j.U],[Ye.UL,j.UL],[Ye.SVG,j.SVG],[Ye.VAR,j.VAR],[Ye.WBR,j.WBR],[Ye.XMP,j.XMP]]);function Xu(e){var t;return(t=mhe.get(e))!==null&&t!==void 0?t:j.UNKNOWN}a(Xu,"getTagID");const gt=j,ghe={[pt.HTML]:new Set([gt.ADDRESS,gt.APPLET,gt.AREA,gt.ARTICLE,gt.ASIDE,gt.BASE,gt.BASEFONT,gt.BGSOUND,gt.BLOCKQUOTE,gt.BODY,gt.BR,gt.BUTTON,gt.CAPTION,gt.CENTER,gt.COL,gt.COLGROUP,gt.DD,gt.DETAILS,gt.DIR,gt.DIV,gt.DL,gt.DT,gt.EMBED,gt.FIELDSET,gt.FIGCAPTION,gt.FIGURE,gt.FOOTER,gt.FORM,gt.FRAME,gt.FRAMESET,gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6,gt.HEAD,gt.HEADER,gt.HGROUP,gt.HR,gt.HTML,gt.IFRAME,gt.IMG,gt.INPUT,gt.LI,gt.LINK,gt.LISTING,gt.MAIN,gt.MARQUEE,gt.MENU,gt.META,gt.NAV,gt.NOEMBED,gt.NOFRAMES,gt.NOSCRIPT,gt.OBJECT,gt.OL,gt.P,gt.PARAM,gt.PLAINTEXT,gt.PRE,gt.SCRIPT,gt.SECTION,gt.SELECT,gt.SOURCE,gt.STYLE,gt.SUMMARY,gt.TABLE,gt.TBODY,gt.TD,gt.TEMPLATE,gt.TEXTAREA,gt.TFOOT,gt.TH,gt.THEAD,gt.TITLE,gt.TR,gt.TRACK,gt.UL,gt.WBR,gt.XMP]),[pt.MATHML]:new Set([gt.MI,gt.MO,gt.MN,gt.MS,gt.MTEXT,gt.ANNOTATION_XML]),[pt.SVG]:new Set([gt.TITLE,gt.FOREIGN_OBJECT,gt.DESC]),[pt.XLINK]:new Set,[pt.XML]:new Set,[pt.XMLNS]:new Set},U1=new Set([gt.H1,gt.H2,gt.H3,gt.H4,gt.H5,gt.H6]);Ye.STYLE,Ye.SCRIPT,Ye.XMP,Ye.IFRAME,Ye.NOEMBED,Ye.NOFRAMES,Ye.PLAINTEXT;var ve;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ve||(ve={}));const cn={DATA:ve.DATA,RCDATA:ve.RCDATA,RAWTEXT:ve.RAWTEXT,SCRIPT_DATA:ve.SCRIPT_DATA,PLAINTEXT:ve.PLAINTEXT,CDATA_SECTION:ve.CDATA_SECTION};function bhe(e){return e>=fe.DIGIT_0&&e<=fe.DIGIT_9}a(bhe,"isAsciiDigit");function Jc(e){return e>=fe.LATIN_CAPITAL_A&&e<=fe.LATIN_CAPITAL_Z}a(Jc,"isAsciiUpper");function vhe(e){return e>=fe.LATIN_SMALL_A&&e<=fe.LATIN_SMALL_Z}a(vhe,"isAsciiLower");function uo(e){return vhe(e)||Jc(e)}a(uo,"isAsciiLetter");function iS(e){return uo(e)||bhe(e)}a(iS,"isAsciiAlphaNumeric");function Ph(e){return e+32}a(Ph,"toAsciiLower");function aP(e){return e===fe.SPACE||e===fe.LINE_FEED||e===fe.TABULATION||e===fe.FORM_FEED}a(aP,"isWhitespace");function aS(e){return aP(e)||e===fe.SOLIDUS||e===fe.GREATER_THAN_SIGN}a(aS,"isScriptDataDoubleEscapeSequenceEnd");function yhe(e){return e===fe.NULL?it.nullCharacterReference:e>1114111?it.characterReferenceOutsideUnicodeRange:tP(e)?it.surrogateCharacterReference:nP(e)?it.noncharacterCharacterReference:rP(e)||e===fe.CARRIAGE_RETURN?it.controlCharacterReference:null}a(yhe,"getErrorForNumericCharacterReference");class whe{static{a(this,"Tokenizer")}constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ve.DATA,this.returnState=ve.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ahe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new hhe(she,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:a(()=>{this._err(it.missingSemicolonAfterCharacterReference,1)},"missingSemicolonAfterCharacterReference"),absenceOfDigitsInNumericCharacterReference:a(n=>{this._err(it.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},"absenceOfDigitsInNumericCharacterReference"),validateNumericCharacterReference:a(n=>{const i=yhe(n);i&&this._err(i,1)},"validateNumericCharacterReference")}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:fr.START_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:fr.END_TAG,tagName:"",tagID:j.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:fr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:fr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(iP(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(it.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Xu(t.tagName),t.type===fr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(it.endTagWithAttributes),t.selfClosing&&this._err(it.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case fr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case fr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case fr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:fr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=aP(t)?fr.WHITESPACE_CHARACTER:t===fe.NULL?fr.NULL_CHARACTER:fr.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(fr.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ve.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ms.Attribute:Ms.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ve.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ve.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ve.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ve.DATA:{this._stateData(t);break}case ve.RCDATA:{this._stateRcdata(t);break}case ve.RAWTEXT:{this._stateRawtext(t);break}case ve.SCRIPT_DATA:{this._stateScriptData(t);break}case ve.PLAINTEXT:{this._statePlaintext(t);break}case ve.TAG_OPEN:{this._stateTagOpen(t);break}case ve.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ve.TAG_NAME:{this._stateTagName(t);break}case ve.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ve.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ve.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ve.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ve.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ve.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ve.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ve.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ve.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ve.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ve.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ve.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ve.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ve.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ve.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ve.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ve.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ve.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ve.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ve.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ve.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ve.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ve.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ve.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ve.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ve.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ve.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ve.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ve.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ve.COMMENT_START:{this._stateCommentStart(t);break}case ve.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ve.COMMENT:{this._stateComment(t);break}case ve.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ve.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ve.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ve.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ve.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ve.COMMENT_END:{this._stateCommentEnd(t);break}case ve.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ve.DOCTYPE:{this._stateDoctype(t);break}case ve.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ve.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ve.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ve.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ve.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ve.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ve.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ve.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ve.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ve.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ve.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ve.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ve.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ve.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ve.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ve.CDATA_SECTION:{this._stateCdataSection(t);break}case ve.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ve.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ve.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ve.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case fe.LESS_THAN_SIGN:{this.state=ve.TAG_OPEN;break}case fe.AMPERSAND:{this._startCharacterReference();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitCodePoint(t);break}case fe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case fe.AMPERSAND:{this._startCharacterReference();break}case fe.LESS_THAN_SIGN:{this.state=ve.RCDATA_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case fe.LESS_THAN_SIGN:{this.state=ve.RAWTEXT_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(uo(t))this._createStartTagToken(),this.state=ve.TAG_NAME,this._stateTagName(t);else switch(t){case fe.EXCLAMATION_MARK:{this.state=ve.MARKUP_DECLARATION_OPEN;break}case fe.SOLIDUS:{this.state=ve.END_TAG_OPEN;break}case fe.QUESTION_MARK:{this._err(it.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ve.BOGUS_COMMENT,this._stateBogusComment(t);break}case fe.EOF:{this._err(it.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(it.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ve.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(uo(t))this._createEndTagToken(),this.state=ve.TAG_NAME,this._stateTagName(t);else switch(t){case fe.GREATER_THAN_SIGN:{this._err(it.missingEndTagName),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(it.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ve.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.BEFORE_ATTRIBUTE_NAME;break}case fe.SOLIDUS:{this.state=ve.SELF_CLOSING_START_TAG;break}case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentTagToken();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.tagName+=Qr;break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Jc(t)?Ph(t):t)}}_stateRcdataLessThanSign(t){t===fe.SOLIDUS?this.state=ve.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ve.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){uo(t)?(this.state=ve.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ve.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ve.BEFORE_ATTRIBUTE_NAME,!1;case fe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ve.SELF_CLOSING_START_TAG,!1;case fe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ve.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ve.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===fe.SOLIDUS?this.state=ve.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ve.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){uo(t)?(this.state=ve.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ve.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ve.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case fe.SOLIDUS:{this.state=ve.SCRIPT_DATA_END_TAG_OPEN;break}case fe.EXCLAMATION_MARK:{this.state=ve.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ve.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){uo(t)?(this.state=ve.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ve.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ve.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===fe.HYPHEN_MINUS?(this.state=ve.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ve.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===fe.HYPHEN_MINUS?(this.state=ve.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ve.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case fe.HYPHEN_MINUS:{this.state=ve.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case fe.HYPHEN_MINUS:{this.state=ve.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.state=ve.SCRIPT_DATA_ESCAPED,this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ve.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case fe.HYPHEN_MINUS:{this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case fe.GREATER_THAN_SIGN:{this.state=ve.SCRIPT_DATA,this._emitChars(">");break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.state=ve.SCRIPT_DATA_ESCAPED,this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ve.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===fe.SOLIDUS?this.state=ve.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:uo(t)?(this._emitChars("<"),this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ve.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){uo(t)?(this.state=ve.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ve.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ve.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ui.SCRIPT,!1)&&aS(this.preprocessor.peek(ui.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ui.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ve.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case fe.HYPHEN_MINUS:{this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case fe.HYPHEN_MINUS:{this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case fe.HYPHEN_MINUS:{this._emitChars("-");break}case fe.LESS_THAN_SIGN:{this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case fe.GREATER_THAN_SIGN:{this.state=ve.SCRIPT_DATA,this._emitChars(">");break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qr);break}case fe.EOF:{this._err(it.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===fe.SOLIDUS?(this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ui.SCRIPT,!1)&&aS(this.preprocessor.peek(ui.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ui.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=ve.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ve.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.SOLIDUS:case fe.GREATER_THAN_SIGN:case fe.EOF:{this.state=ve.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case fe.EQUALS_SIGN:{this._err(it.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ve.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ve.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:case fe.SOLIDUS:case fe.GREATER_THAN_SIGN:case fe.EOF:{this._leaveAttrName(),this.state=ve.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case fe.EQUALS_SIGN:{this._leaveAttrName(),this.state=ve.BEFORE_ATTRIBUTE_VALUE;break}case fe.QUOTATION_MARK:case fe.APOSTROPHE:case fe.LESS_THAN_SIGN:{this._err(it.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.name+=Qr;break}default:this.currentAttr.name+=String.fromCodePoint(Jc(t)?Ph(t):t)}}_stateAfterAttributeName(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.SOLIDUS:{this.state=ve.SELF_CLOSING_START_TAG;break}case fe.EQUALS_SIGN:{this.state=ve.BEFORE_ATTRIBUTE_VALUE;break}case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentTagToken();break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ve.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.QUOTATION_MARK:{this.state=ve.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{this.state=ve.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingAttributeValue),this.state=ve.DATA,this.emitCurrentTagToken();break}default:this.state=ve.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case fe.QUOTATION_MARK:{this.state=ve.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case fe.AMPERSAND:{this._startCharacterReference();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Qr;break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case fe.APOSTROPHE:{this.state=ve.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case fe.AMPERSAND:{this._startCharacterReference();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Qr;break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this._leaveAttrValue(),this.state=ve.BEFORE_ATTRIBUTE_NAME;break}case fe.AMPERSAND:{this._startCharacterReference();break}case fe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ve.DATA,this.emitCurrentTagToken();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),this.currentAttr.value+=Qr;break}case fe.QUOTATION_MARK:case fe.APOSTROPHE:case fe.LESS_THAN_SIGN:case fe.EQUALS_SIGN:case fe.GRAVE_ACCENT:{this._err(it.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this._leaveAttrValue(),this.state=ve.BEFORE_ATTRIBUTE_NAME;break}case fe.SOLIDUS:{this._leaveAttrValue(),this.state=ve.SELF_CLOSING_START_TAG;break}case fe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ve.DATA,this.emitCurrentTagToken();break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._err(it.missingWhitespaceBetweenAttributes),this.state=ve.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case fe.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=ve.DATA,this.emitCurrentTagToken();break}case fe.EOF:{this._err(it.eofInTag),this._emitEOFToken();break}default:this._err(it.unexpectedSolidusInTag),this.state=ve.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentComment(r);break}case fe.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.data+=Qr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ui.DASH_DASH,!0)?(this._createCommentToken(ui.DASH_DASH.length+1),this.state=ve.COMMENT_START):this._consumeSequenceIfMatch(ui.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ui.DOCTYPE.length+1),this.state=ve.DOCTYPE):this._consumeSequenceIfMatch(ui.CDATA_START,!0)?this.inForeignNode?this.state=ve.CDATA_SECTION:(this._err(it.cdataInHtmlContent),this._createCommentToken(ui.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ve.BOGUS_COMMENT):this._ensureHibernation()||(this._err(it.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ve.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case fe.HYPHEN_MINUS:{this.state=ve.COMMENT_START_DASH;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptClosingOfEmptyComment),this.state=ve.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=ve.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case fe.HYPHEN_MINUS:{this.state=ve.COMMENT_END;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptClosingOfEmptyComment),this.state=ve.DATA,this.emitCurrentComment(r);break}case fe.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ve.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case fe.HYPHEN_MINUS:{this.state=ve.COMMENT_END_DASH;break}case fe.LESS_THAN_SIGN:{r.data+="<",this.state=ve.COMMENT_LESS_THAN_SIGN;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.data+=Qr;break}case fe.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case fe.EXCLAMATION_MARK:{r.data+="!",this.state=ve.COMMENT_LESS_THAN_SIGN_BANG;break}case fe.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=ve.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===fe.HYPHEN_MINUS?this.state=ve.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ve.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===fe.HYPHEN_MINUS?this.state=ve.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ve.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==fe.GREATER_THAN_SIGN&&t!==fe.EOF&&this._err(it.nestedComment),this.state=ve.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case fe.HYPHEN_MINUS:{this.state=ve.COMMENT_END;break}case fe.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=ve.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentComment(r);break}case fe.EXCLAMATION_MARK:{this.state=ve.COMMENT_END_BANG;break}case fe.HYPHEN_MINUS:{r.data+="-";break}case fe.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=ve.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case fe.HYPHEN_MINUS:{r.data+="--!",this.state=ve.COMMENT_END_DASH;break}case fe.GREATER_THAN_SIGN:{this._err(it.incorrectlyClosedComment),this.state=ve.DATA,this.emitCurrentComment(r);break}case fe.EOF:{this._err(it.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=ve.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.BEFORE_DOCTYPE_NAME;break}case fe.GREATER_THAN_SIGN:{this.state=ve.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case fe.EOF:{this._err(it.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingWhitespaceBeforeDoctypeName),this.state=ve.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Jc(t))this._createDoctypeToken(String.fromCharCode(Ph(t))),this.state=ve.DOCTYPE_NAME;else switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.NULL:{this._err(it.unexpectedNullCharacter),this._createDoctypeToken(Qr),this.state=ve.DOCTYPE_NAME;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ve.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.AFTER_DOCTYPE_NAME;break}case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.name+=Qr;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Jc(t)?Ph(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ui.PUBLIC,!1)?this.state=ve.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ui.SYSTEM,!1)?this.state=ve.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(it.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case fe.QUOTATION_MARK:{this._err(it.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ve.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{this._err(it.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=ve.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.QUOTATION_MARK:{r.publicId="",this.state=ve.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{r.publicId="",this.state=ve.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case fe.QUOTATION_MARK:{this.state=ve.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.publicId+=Qr;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case fe.APOSTROPHE:{this.state=ve.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.publicId+=Qr;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case fe.GREATER_THAN_SIGN:{this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.QUOTATION_MARK:{this._err(it.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{this._err(it.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.QUOTATION_MARK:{r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:{this.state=ve.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case fe.QUOTATION_MARK:{this._err(it.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{this._err(it.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.QUOTATION_MARK:{r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case fe.APOSTROPHE:{r.systemId="",this.state=ve.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case fe.GREATER_THAN_SIGN:{this._err(it.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.DATA,this.emitCurrentDoctype(r);break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case fe.QUOTATION_MARK:{this.state=ve.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.systemId+=Qr;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case fe.APOSTROPHE:{this.state=ve.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case fe.NULL:{this._err(it.unexpectedNullCharacter),r.systemId+=Qr;break}case fe.GREATER_THAN_SIGN:{this._err(it.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case fe.SPACE:case fe.LINE_FEED:case fe.TABULATION:case fe.FORM_FEED:break;case fe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.EOF:{this._err(it.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(it.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ve.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case fe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=ve.DATA;break}case fe.NULL:{this._err(it.unexpectedNullCharacter);break}case fe.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case fe.RIGHT_SQUARE_BRACKET:{this.state=ve.CDATA_SECTION_BRACKET;break}case fe.EOF:{this._err(it.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===fe.RIGHT_SQUARE_BRACKET?this.state=ve.CDATA_SECTION_END:(this._emitChars("]"),this.state=ve.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case fe.GREATER_THAN_SIGN:{this.state=ve.DATA;break}case fe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ve.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(fe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&iS(this.preprocessor.peek(1))?ve.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){iS(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===fe.SEMICOLON&&this._err(it.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const sP=new Set([j.DD,j.DT,j.LI,j.OPTGROUP,j.OPTION,j.P,j.RB,j.RP,j.RT,j.RTC]),sS=new Set([...sP,j.CAPTION,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]),hp=new Set([j.APPLET,j.CAPTION,j.HTML,j.MARQUEE,j.OBJECT,j.TABLE,j.TD,j.TEMPLATE,j.TH]),xhe=new Set([...hp,j.OL,j.UL]),_he=new Set([...hp,j.BUTTON]),oS=new Set([j.ANNOTATION_XML,j.MI,j.MN,j.MO,j.MS,j.MTEXT]),lS=new Set([j.DESC,j.FOREIGN_OBJECT,j.TITLE]),Ehe=new Set([j.TR,j.TEMPLATE,j.HTML]),She=new Set([j.TBODY,j.TFOOT,j.THEAD,j.TEMPLATE,j.HTML]),khe=new Set([j.TABLE,j.TEMPLATE,j.HTML]),Ahe=new Set([j.TD,j.TH]);class The{static{a(this,"OpenElementStack")}get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=j.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===j.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==pt.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(U1,pt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ahe,pt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(khe,pt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(She,pt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ehe,pt.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===j.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===j.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case pt.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case pt.SVG:{if(lS.has(i))return!1;break}case pt.MATHML:{if(oS.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,hp)}hasInListItemScope(t){return this.hasInDynamicScope(t,xhe)}hasInButtonScope(t){return this.hasInDynamicScope(t,_he)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case pt.HTML:{if(U1.has(r))return!0;if(hp.has(r))return!1;break}case pt.SVG:{if(lS.has(r))return!1;break}case pt.MATHML:{if(oS.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===pt.HTML)switch(this.tagIDs[t]){case j.TBODY:case j.THEAD:case j.TFOOT:return!0;case j.TABLE:case j.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===pt.HTML)switch(this.tagIDs[r]){case t:return!0;case j.OPTION:case j.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&sP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&sS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&sS.has(this.currentTagId);)this.pop()}}const Bv=3;var Fa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Fa||(Fa={}));const uS={type:Fa.Marker};class Nhe{static{a(this,"FormattingElementList")}constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===Fa.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===s&&this.treeAdapter.getNamespaceURI(c)===o){const d=this.treeAdapter.getAttrList(c);d.length===i&&n.push({idx:l,attrs:d})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<Bv)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<Bv)return;const i=new Map(r.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<n.length;o++){const l=n[o];l.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Bv&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(uS)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Fa.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Fa.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(uS);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Fa.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Fa.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Fa.Element&&r.element===t)}}const co={createDocument(){return{nodeName:"#document",mode:Ki.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};co.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(co.isTextNode(r)){r.value+=t;return}}co.appendChild(e,co.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&co.isTextNode(n)?n.value+=t:co.insertBefore(e,co.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},oP="html",Ihe="about:legacy-compat",Che="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",lP=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Mhe=[...lP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ohe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),uP=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Rhe=[...uP,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function cS(e,t){return t.some(r=>e.startsWith(r))}a(cS,"hasPrefix");function Lhe(e){return e.name===oP&&e.publicId===null&&(e.systemId===null||e.systemId===Ihe)}a(Lhe,"isConforming");function Dhe(e){if(e.name!==oP)return Ki.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Che)return Ki.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Ohe.has(r))return Ki.QUIRKS;let n=t===null?Mhe:lP;if(cS(r,n))return Ki.QUIRKS;if(n=t===null?uP:Rhe,cS(r,n))return Ki.LIMITED_QUIRKS}return Ki.NO_QUIRKS}a(Dhe,"getDocumentMode");const dS={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},jhe="definitionurl",Phe="definitionURL",zhe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Bhe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pt.XMLNS}]]),Fhe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Uhe=new Set([j.B,j.BIG,j.BLOCKQUOTE,j.BODY,j.BR,j.CENTER,j.CODE,j.DD,j.DIV,j.DL,j.DT,j.EM,j.EMBED,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HR,j.I,j.IMG,j.LI,j.LISTING,j.MENU,j.META,j.NOBR,j.OL,j.P,j.PRE,j.RUBY,j.S,j.SMALL,j.SPAN,j.STRONG,j.STRIKE,j.SUB,j.SUP,j.TABLE,j.TT,j.U,j.UL,j.VAR]);function Hhe(e){const t=e.tagID;return t===j.FONT&&e.attrs.some(({name:n})=>n===hl.COLOR||n===hl.SIZE||n===hl.FACE)||Uhe.has(t)}a(Hhe,"causesExit");function cP(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===jhe){e.attrs[t].name=Phe;break}}a(cP,"adjustTokenMathMLAttrs");function dP(e){for(let t=0;t<e.attrs.length;t++){const r=zhe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}a(dP,"adjustTokenSVGAttrs");function J3(e){for(let t=0;t<e.attrs.length;t++){const r=Bhe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}a(J3,"adjustTokenXMLAttrs");function Ghe(e){const t=Fhe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Xu(e.tagName))}a(Ghe,"adjustTokenSVGTagName");function Vhe(e,t){return t===pt.MATHML&&(e===j.MI||e===j.MO||e===j.MN||e===j.MS||e===j.MTEXT)}a(Vhe,"isMathMLTextIntegrationPoint");function Khe(e,t,r){if(t===pt.MATHML&&e===j.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===hl.ENCODING){const i=r[n].value.toLowerCase();return i===dS.TEXT_HTML||i===dS.APPLICATION_XML}}return t===pt.SVG&&(e===j.FOREIGN_OBJECT||e===j.DESC||e===j.TITLE)}a(Khe,"isHtmlIntegrationPoint");function Zhe(e,t,r,n){return(!n||n===pt.HTML)&&Khe(e,t,r)||(!n||n===pt.MATHML)&&Vhe(e,t)}a(Zhe,"isIntegrationPoint");const Yhe="hidden",$he=8,Qhe=3;var Ae;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Ae||(Ae={}));const Whe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},fP=new Set([j.TABLE,j.TBODY,j.TFOOT,j.THEAD,j.TR]),fS={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:co,onParseError:null};class hS{static{a(this,"Parser")}constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Ae.INITIAL,this.originalInsertionMode=Ae.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...fS,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new whe(this.options,this),this.activeFormattingElements=new Nhe(this.treeAdapter),this.fragmentContextID=n?Xu(this.treeAdapter.getTagName(n)):j.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new The(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...fS,...r};t??(t=n.treeAdapter.createElement(Ye.TEMPLATE,pt.HTML,[]));const i=n.treeAdapter.createElement("documentmock",pt.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===j.TEMPLATE&&s.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Whe,o={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===pt.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,pt.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=Ae.TEXT}switchToPlaintextParsing(){this.insertionMode=Ae.TEXT,this.originalInsertionMode=Ae.IN_BODY,this.tokenizer.state=cn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ye.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pt.HTML))switch(this.fragmentContextID){case j.TITLE:case j.TEXTAREA:{this.tokenizer.state=cn.RCDATA;break}case j.STYLE:case j.XMP:case j.IFRAME:case j.NOEMBED:case j.NOFRAMES:case j.NOSCRIPT:{this.tokenizer.state=cn.RAWTEXT;break}case j.SCRIPT:{this.tokenizer.state=cn.SCRIPT_DATA;break}case j.PLAINTEXT:{this.tokenizer.state=cn.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,pt.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,pt.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ye.HTML,pt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,j.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:c,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:c,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===fr.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===j.SVG&&this.treeAdapter.getTagName(r)===Ye.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===pt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===j.MGLYPH||t.tagID===j.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,pt.HTML)}_processToken(t){switch(t.type){case fr.CHARACTER:{this.onCharacter(t);break}case fr.NULL_CHARACTER:{this.onNullCharacter(t);break}case fr.COMMENT:{this.onComment(t);break}case fr.DOCTYPE:{this.onDoctype(t);break}case fr.START_TAG:{this._processStartTag(t);break}case fr.END_TAG:{this.onEndTag(t);break}case fr.EOF:{this.onEof(t);break}case fr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return Zhe(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===Fa.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Ae.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(j.P),this.openElements.popUntilTagNamePopped(j.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case j.TR:{this.insertionMode=Ae.IN_ROW;return}case j.TBODY:case j.THEAD:case j.TFOOT:{this.insertionMode=Ae.IN_TABLE_BODY;return}case j.CAPTION:{this.insertionMode=Ae.IN_CAPTION;return}case j.COLGROUP:{this.insertionMode=Ae.IN_COLUMN_GROUP;return}case j.TABLE:{this.insertionMode=Ae.IN_TABLE;return}case j.BODY:{this.insertionMode=Ae.IN_BODY;return}case j.FRAMESET:{this.insertionMode=Ae.IN_FRAMESET;return}case j.SELECT:{this._resetInsertionModeForSelect(t);return}case j.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case j.HTML:{this.insertionMode=this.headElement?Ae.AFTER_HEAD:Ae.BEFORE_HEAD;return}case j.TD:case j.TH:{if(t>0){this.insertionMode=Ae.IN_CELL;return}break}case j.HEAD:{if(t>0){this.insertionMode=Ae.IN_HEAD;return}break}}this.insertionMode=Ae.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===j.TEMPLATE)break;if(n===j.TABLE){this.insertionMode=Ae.IN_SELECT_IN_TABLE;return}}this.insertionMode=Ae.IN_SELECT}_isElementCausesFosterParenting(t){return fP.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case j.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===pt.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case j.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return ghe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Ape(this,t);return}switch(this.insertionMode){case Ae.INITIAL:{Cc(this,t);break}case Ae.BEFORE_HTML:{ad(this,t);break}case Ae.BEFORE_HEAD:{sd(this,t);break}case Ae.IN_HEAD:{od(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{ld(this,t);break}case Ae.AFTER_HEAD:{ud(this,t);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:{pP(this,t);break}case Ae.TEXT:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{Fv(this,t);break}case Ae.IN_TABLE_TEXT:{wP(this,t);break}case Ae.IN_COLUMN_GROUP:{pp(this,t);break}case Ae.AFTER_BODY:{mp(this,t);break}case Ae.AFTER_AFTER_BODY:{p0(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){kpe(this,t);return}switch(this.insertionMode){case Ae.INITIAL:{Cc(this,t);break}case Ae.BEFORE_HTML:{ad(this,t);break}case Ae.BEFORE_HEAD:{sd(this,t);break}case Ae.IN_HEAD:{od(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{ld(this,t);break}case Ae.AFTER_HEAD:{ud(this,t);break}case Ae.TEXT:{this._insertCharacters(t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{Fv(this,t);break}case Ae.IN_COLUMN_GROUP:{pp(this,t);break}case Ae.AFTER_BODY:{mp(this,t);break}case Ae.AFTER_AFTER_BODY:{p0(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){H1(this,t);return}switch(this.insertionMode){case Ae.INITIAL:case Ae.BEFORE_HTML:case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_TEMPLATE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{H1(this,t);break}case Ae.IN_TABLE_TEXT:{Mc(this,t);break}case Ae.AFTER_BODY:{n0e(this,t);break}case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{i0e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Ae.INITIAL:{a0e(this,t);break}case Ae.BEFORE_HEAD:case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:{this._err(t,it.misplacedDoctype);break}case Ae.IN_TABLE_TEXT:{Mc(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,it.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Tpe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Ae.INITIAL:{Cc(this,t);break}case Ae.BEFORE_HTML:{s0e(this,t);break}case Ae.BEFORE_HEAD:{l0e(this,t);break}case Ae.IN_HEAD:{Ma(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{d0e(this,t);break}case Ae.AFTER_HEAD:{h0e(this,t);break}case Ae.IN_BODY:{Kn(this,t);break}case Ae.IN_TABLE:{Ou(this,t);break}case Ae.IN_TABLE_TEXT:{Mc(this,t);break}case Ae.IN_CAPTION:{upe(this,t);break}case Ae.IN_COLUMN_GROUP:{tw(this,t);break}case Ae.IN_TABLE_BODY:{Qm(this,t);break}case Ae.IN_ROW:{Wm(this,t);break}case Ae.IN_CELL:{fpe(this,t);break}case Ae.IN_SELECT:{EP(this,t);break}case Ae.IN_SELECT_IN_TABLE:{ppe(this,t);break}case Ae.IN_TEMPLATE:{gpe(this,t);break}case Ae.AFTER_BODY:{vpe(this,t);break}case Ae.IN_FRAMESET:{ype(this,t);break}case Ae.AFTER_FRAMESET:{xpe(this,t);break}case Ae.AFTER_AFTER_BODY:{Epe(this,t);break}case Ae.AFTER_AFTER_FRAMESET:{Spe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Npe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Ae.INITIAL:{Cc(this,t);break}case Ae.BEFORE_HTML:{o0e(this,t);break}case Ae.BEFORE_HEAD:{u0e(this,t);break}case Ae.IN_HEAD:{c0e(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{f0e(this,t);break}case Ae.AFTER_HEAD:{p0e(this,t);break}case Ae.IN_BODY:{$m(this,t);break}case Ae.TEXT:{q0e(this,t);break}case Ae.IN_TABLE:{ef(this,t);break}case Ae.IN_TABLE_TEXT:{Mc(this,t);break}case Ae.IN_CAPTION:{cpe(this,t);break}case Ae.IN_COLUMN_GROUP:{dpe(this,t);break}case Ae.IN_TABLE_BODY:{G1(this,t);break}case Ae.IN_ROW:{_P(this,t);break}case Ae.IN_CELL:{hpe(this,t);break}case Ae.IN_SELECT:{SP(this,t);break}case Ae.IN_SELECT_IN_TABLE:{mpe(this,t);break}case Ae.IN_TEMPLATE:{bpe(this,t);break}case Ae.AFTER_BODY:{AP(this,t);break}case Ae.IN_FRAMESET:{wpe(this,t);break}case Ae.AFTER_FRAMESET:{_pe(this,t);break}case Ae.AFTER_AFTER_BODY:{p0(this,t);break}}}onEof(t){switch(this.insertionMode){case Ae.INITIAL:{Cc(this,t);break}case Ae.BEFORE_HTML:{ad(this,t);break}case Ae.BEFORE_HEAD:{sd(this,t);break}case Ae.IN_HEAD:{od(this,t);break}case Ae.IN_HEAD_NO_SCRIPT:{ld(this,t);break}case Ae.AFTER_HEAD:{ud(this,t);break}case Ae.IN_BODY:case Ae.IN_TABLE:case Ae.IN_CAPTION:case Ae.IN_COLUMN_GROUP:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:case Ae.IN_CELL:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:{vP(this,t);break}case Ae.TEXT:{epe(this,t);break}case Ae.IN_TABLE_TEXT:{Mc(this,t);break}case Ae.IN_TEMPLATE:{kP(this,t);break}case Ae.AFTER_BODY:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{ew(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===fe.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Ae.IN_HEAD:case Ae.IN_HEAD_NO_SCRIPT:case Ae.AFTER_HEAD:case Ae.TEXT:case Ae.IN_COLUMN_GROUP:case Ae.IN_SELECT:case Ae.IN_SELECT_IN_TABLE:case Ae.IN_FRAMESET:case Ae.AFTER_FRAMESET:{this._insertCharacters(t);break}case Ae.IN_BODY:case Ae.IN_CAPTION:case Ae.IN_CELL:case Ae.IN_TEMPLATE:case Ae.AFTER_BODY:case Ae.AFTER_AFTER_BODY:case Ae.AFTER_AFTER_FRAMESET:{hP(this,t);break}case Ae.IN_TABLE:case Ae.IN_TABLE_BODY:case Ae.IN_ROW:{Fv(this,t);break}case Ae.IN_TABLE_TEXT:{yP(this,t);break}}}}function Xhe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):bP(e,t),r}a(Xhe,"aaObtainFormattingElementEntry");function Jhe(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}a(Jhe,"aaObtainFurthestBlock");function qhe(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==r;s++,o=i){i=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),u=l&&s>=Qhe;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=e0e(e,l),n===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(o,n),n=o)}return n}a(qhe,"aaInnerLoop");function e0e(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}a(e0e,"aaRecreateElementFromEntry");function t0e(e,t,r){const n=e.treeAdapter.getTagName(t),i=Xu(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===j.TEMPLATE&&s===pt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}a(t0e,"aaInsertLastNodeInCommonAncestor");function r0e(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}a(r0e,"aaReplaceFormattingElement");function q3(e,t){for(let r=0;r<$he;r++){const n=Xhe(e,t);if(!n)break;const i=Jhe(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=qhe(e,i,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),o&&t0e(e,o,s),r0e(e,i,n)}}a(q3,"callAdoptionAgency");function H1(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}a(H1,"appendComment");function n0e(e,t){e._appendCommentNode(t,e.openElements.items[0])}a(n0e,"appendCommentToRootHtmlElement");function i0e(e,t){e._appendCommentNode(t,e.document)}a(i0e,"appendCommentToDocument");function ew(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}a(ew,"stopParsing");function a0e(e,t){e._setDocumentType(t);const r=t.forceQuirks?Ki.QUIRKS:Dhe(t);Lhe(t)||e._err(t,it.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=Ae.BEFORE_HTML}a(a0e,"doctypeInInitialMode");function Cc(e,t){e._err(t,it.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Ki.QUIRKS),e.insertionMode=Ae.BEFORE_HTML,e._processToken(t)}a(Cc,"tokenInInitialMode");function s0e(e,t){t.tagID===j.HTML?(e._insertElement(t,pt.HTML),e.insertionMode=Ae.BEFORE_HEAD):ad(e,t)}a(s0e,"startTagBeforeHtml");function o0e(e,t){const r=t.tagID;(r===j.HTML||r===j.HEAD||r===j.BODY||r===j.BR)&&ad(e,t)}a(o0e,"endTagBeforeHtml");function ad(e,t){e._insertFakeRootElement(),e.insertionMode=Ae.BEFORE_HEAD,e._processToken(t)}a(ad,"tokenBeforeHtml");function l0e(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.HEAD:{e._insertElement(t,pt.HTML),e.headElement=e.openElements.current,e.insertionMode=Ae.IN_HEAD;break}default:sd(e,t)}}a(l0e,"startTagBeforeHead");function u0e(e,t){const r=t.tagID;r===j.HEAD||r===j.BODY||r===j.HTML||r===j.BR?sd(e,t):e._err(t,it.endTagWithoutMatchingOpenElement)}a(u0e,"endTagBeforeHead");function sd(e,t){e._insertFakeElement(Ye.HEAD,j.HEAD),e.headElement=e.openElements.current,e.insertionMode=Ae.IN_HEAD,e._processToken(t)}a(sd,"tokenBeforeHead");function Ma(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.TITLE:{e._switchToTextParsing(t,cn.RCDATA);break}case j.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,cn.RAWTEXT):(e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_HEAD_NO_SCRIPT);break}case j.NOFRAMES:case j.STYLE:{e._switchToTextParsing(t,cn.RAWTEXT);break}case j.SCRIPT:{e._switchToTextParsing(t,cn.SCRIPT_DATA);break}case j.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Ae.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Ae.IN_TEMPLATE);break}case j.HEAD:{e._err(t,it.misplacedStartTagForHeadElement);break}default:od(e,t)}}a(Ma,"startTagInHead");function c0e(e,t){switch(t.tagID){case j.HEAD:{e.openElements.pop(),e.insertionMode=Ae.AFTER_HEAD;break}case j.BODY:case j.BR:case j.HTML:{od(e,t);break}case j.TEMPLATE:{Bl(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(c0e,"endTagInHead");function Bl(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==j.TEMPLATE&&e._err(t,it.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,it.endTagWithoutMatchingOpenElement)}a(Bl,"templateEndTagInHead");function od(e,t){e.openElements.pop(),e.insertionMode=Ae.AFTER_HEAD,e._processToken(t)}a(od,"tokenInHead");function d0e(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.BASEFONT:case j.BGSOUND:case j.HEAD:case j.LINK:case j.META:case j.NOFRAMES:case j.STYLE:{Ma(e,t);break}case j.NOSCRIPT:{e._err(t,it.nestedNoscriptInHead);break}default:ld(e,t)}}a(d0e,"startTagInHeadNoScript");function f0e(e,t){switch(t.tagID){case j.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Ae.IN_HEAD;break}case j.BR:{ld(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(f0e,"endTagInHeadNoScript");function ld(e,t){const r=t.type===fr.EOF?it.openElementsLeftAfterEof:it.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=Ae.IN_HEAD,e._processToken(t)}a(ld,"tokenInHeadNoScript");function h0e(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.BODY:{e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=Ae.IN_BODY;break}case j.FRAMESET:{e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_FRAMESET;break}case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{e._err(t,it.abandonedHeadElementChild),e.openElements.push(e.headElement,j.HEAD),Ma(e,t),e.openElements.remove(e.headElement);break}case j.HEAD:{e._err(t,it.misplacedStartTagForHeadElement);break}default:ud(e,t)}}a(h0e,"startTagAfterHead");function p0e(e,t){switch(t.tagID){case j.BODY:case j.HTML:case j.BR:{ud(e,t);break}case j.TEMPLATE:{Bl(e,t);break}default:e._err(t,it.endTagWithoutMatchingOpenElement)}}a(p0e,"endTagAfterHead");function ud(e,t){e._insertFakeElement(Ye.BODY,j.BODY),e.insertionMode=Ae.IN_BODY,Ym(e,t)}a(ud,"tokenAfterHead");function Ym(e,t){switch(t.type){case fr.CHARACTER:{pP(e,t);break}case fr.WHITESPACE_CHARACTER:{hP(e,t);break}case fr.COMMENT:{H1(e,t);break}case fr.START_TAG:{Kn(e,t);break}case fr.END_TAG:{$m(e,t);break}case fr.EOF:{vP(e,t);break}}}a(Ym,"modeInBody");function hP(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}a(hP,"whitespaceCharacterInBody");function pP(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}a(pP,"characterInBody");function m0e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}a(m0e,"htmlStartTagInBody");function g0e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}a(g0e,"bodyStartTagInBody");function b0e(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_FRAMESET)}a(b0e,"framesetStartTagInBody");function v0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}a(v0e,"addressStartTagInBody");function y0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&U1.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,pt.HTML)}a(y0e,"numberedHeaderStartTagInBody");function w0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}a(w0e,"preStartTagInBody");function x0e(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),r||(e.formElement=e.openElements.current))}a(x0e,"formStartTagInBody");function _0e(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===j.LI&&i===j.LI||(r===j.DD||r===j.DT)&&(i===j.DD||i===j.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==j.ADDRESS&&i!==j.DIV&&i!==j.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML)}a(_0e,"listItemStartTagInBody");function E0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.tokenizer.state=cn.PLAINTEXT}a(E0e,"plaintextStartTagInBody");function S0e(e,t){e.openElements.hasInScope(j.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1}a(S0e,"buttonStartTagInBody");function k0e(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ye.A);r&&(q3(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(k0e,"aStartTagInBody");function A0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(A0e,"bStartTagInBody");function T0e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(j.NOBR)&&(q3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,pt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}a(T0e,"nobrStartTagInBody");function N0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}a(N0e,"appletStartTagInBody");function I0e(e,t){e.treeAdapter.getDocumentMode(e.document)!==Ki.QUIRKS&&e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=Ae.IN_TABLE}a(I0e,"tableStartTagInBody");function mP(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}a(mP,"areaStartTagInBody");function gP(e){const t=iP(e,hl.TYPE);return t!=null&&t.toLowerCase()===Yhe}a(gP,"isHiddenInput");function C0e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,pt.HTML),gP(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}a(C0e,"inputStartTagInBody");function M0e(e,t){e._appendElement(t,pt.HTML),t.ackSelfClosing=!0}a(M0e,"paramStartTagInBody");function O0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._appendElement(t,pt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}a(O0e,"hrStartTagInBody");function R0e(e,t){t.tagName=Ye.IMG,t.tagID=j.IMG,mP(e,t)}a(R0e,"imageStartTagInBody");function L0e(e,t){e._insertElement(t,pt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=cn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Ae.TEXT}a(L0e,"textareaStartTagInBody");function D0e(e,t){e.openElements.hasInButtonScope(j.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,cn.RAWTEXT)}a(D0e,"xmpStartTagInBody");function j0e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,cn.RAWTEXT)}a(j0e,"iframeStartTagInBody");function pS(e,t){e._switchToTextParsing(t,cn.RAWTEXT)}a(pS,"rawTextStartTagInBody");function P0e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Ae.IN_TABLE||e.insertionMode===Ae.IN_CAPTION||e.insertionMode===Ae.IN_TABLE_BODY||e.insertionMode===Ae.IN_ROW||e.insertionMode===Ae.IN_CELL?Ae.IN_SELECT_IN_TABLE:Ae.IN_SELECT}a(P0e,"selectStartTagInBody");function z0e(e,t){e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}a(z0e,"optgroupStartTagInBody");function B0e(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,pt.HTML)}a(B0e,"rbStartTagInBody");function F0e(e,t){e.openElements.hasInScope(j.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(j.RTC),e._insertElement(t,pt.HTML)}a(F0e,"rtStartTagInBody");function U0e(e,t){e._reconstructActiveFormattingElements(),cP(t),J3(t),t.selfClosing?e._appendElement(t,pt.MATHML):e._insertElement(t,pt.MATHML),t.ackSelfClosing=!0}a(U0e,"mathStartTagInBody");function H0e(e,t){e._reconstructActiveFormattingElements(),dP(t),J3(t),t.selfClosing?e._appendElement(t,pt.SVG):e._insertElement(t,pt.SVG),t.ackSelfClosing=!0}a(H0e,"svgStartTagInBody");function mS(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,pt.HTML)}a(mS,"genericStartTagInBody");function Kn(e,t){switch(t.tagID){case j.I:case j.S:case j.B:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.SMALL:case j.STRIKE:case j.STRONG:{A0e(e,t);break}case j.A:{k0e(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{y0e(e,t);break}case j.P:case j.DL:case j.OL:case j.UL:case j.DIV:case j.DIR:case j.NAV:case j.MAIN:case j.MENU:case j.ASIDE:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.DETAILS:case j.ADDRESS:case j.ARTICLE:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{v0e(e,t);break}case j.LI:case j.DD:case j.DT:{_0e(e,t);break}case j.BR:case j.IMG:case j.WBR:case j.AREA:case j.EMBED:case j.KEYGEN:{mP(e,t);break}case j.HR:{O0e(e,t);break}case j.RB:case j.RTC:{B0e(e,t);break}case j.RT:case j.RP:{F0e(e,t);break}case j.PRE:case j.LISTING:{w0e(e,t);break}case j.XMP:{D0e(e,t);break}case j.SVG:{H0e(e,t);break}case j.HTML:{m0e(e,t);break}case j.BASE:case j.LINK:case j.META:case j.STYLE:case j.TITLE:case j.SCRIPT:case j.BGSOUND:case j.BASEFONT:case j.TEMPLATE:{Ma(e,t);break}case j.BODY:{g0e(e,t);break}case j.FORM:{x0e(e,t);break}case j.NOBR:{T0e(e,t);break}case j.MATH:{U0e(e,t);break}case j.TABLE:{I0e(e,t);break}case j.INPUT:{C0e(e,t);break}case j.PARAM:case j.TRACK:case j.SOURCE:{M0e(e,t);break}case j.IMAGE:{R0e(e,t);break}case j.BUTTON:{S0e(e,t);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{N0e(e,t);break}case j.IFRAME:{j0e(e,t);break}case j.SELECT:{P0e(e,t);break}case j.OPTION:case j.OPTGROUP:{z0e(e,t);break}case j.NOEMBED:case j.NOFRAMES:{pS(e,t);break}case j.FRAMESET:{b0e(e,t);break}case j.TEXTAREA:{L0e(e,t);break}case j.NOSCRIPT:{e.options.scriptingEnabled?pS(e,t):mS(e,t);break}case j.PLAINTEXT:{E0e(e,t);break}case j.COL:case j.TH:case j.TD:case j.TR:case j.HEAD:case j.FRAME:case j.TBODY:case j.TFOOT:case j.THEAD:case j.CAPTION:case j.COLGROUP:break;default:mS(e,t)}}a(Kn,"startTagInBody");function G0e(e,t){if(e.openElements.hasInScope(j.BODY)&&(e.insertionMode=Ae.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}a(G0e,"bodyEndTagInBody");function V0e(e,t){e.openElements.hasInScope(j.BODY)&&(e.insertionMode=Ae.AFTER_BODY,AP(e,t))}a(V0e,"htmlEndTagInBody");function K0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}a(K0e,"addressEndTagInBody");function Z0e(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(j.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(j.FORM):r&&e.openElements.remove(r))}a(Z0e,"formEndTagInBody");function Y0e(e){e.openElements.hasInButtonScope(j.P)||e._insertFakeElement(Ye.P,j.P),e._closePElement()}a(Y0e,"pEndTagInBody");function $0e(e){e.openElements.hasInListItemScope(j.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(j.LI),e.openElements.popUntilTagNamePopped(j.LI))}a($0e,"liEndTagInBody");function Q0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}a(Q0e,"ddEndTagInBody");function W0e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}a(W0e,"numberedHeaderEndTagInBody");function X0e(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}a(X0e,"appletEndTagInBody");function J0e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ye.BR,j.BR),e.openElements.pop(),e.framesetOk=!1}a(J0e,"brEndTagInBody");function bP(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(n===o&&(n!==j.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}a(bP,"genericEndTagInBody");function $m(e,t){switch(t.tagID){case j.A:case j.B:case j.I:case j.S:case j.U:case j.EM:case j.TT:case j.BIG:case j.CODE:case j.FONT:case j.NOBR:case j.SMALL:case j.STRIKE:case j.STRONG:{q3(e,t);break}case j.P:{Y0e(e);break}case j.DL:case j.UL:case j.OL:case j.DIR:case j.DIV:case j.NAV:case j.PRE:case j.MAIN:case j.MENU:case j.ASIDE:case j.BUTTON:case j.CENTER:case j.FIGURE:case j.FOOTER:case j.HEADER:case j.HGROUP:case j.DIALOG:case j.ADDRESS:case j.ARTICLE:case j.DETAILS:case j.SEARCH:case j.SECTION:case j.SUMMARY:case j.LISTING:case j.FIELDSET:case j.BLOCKQUOTE:case j.FIGCAPTION:{K0e(e,t);break}case j.LI:{$0e(e);break}case j.DD:case j.DT:{Q0e(e,t);break}case j.H1:case j.H2:case j.H3:case j.H4:case j.H5:case j.H6:{W0e(e);break}case j.BR:{J0e(e);break}case j.BODY:{G0e(e,t);break}case j.HTML:{V0e(e,t);break}case j.FORM:{Z0e(e);break}case j.APPLET:case j.OBJECT:case j.MARQUEE:{X0e(e,t);break}case j.TEMPLATE:{Bl(e,t);break}default:bP(e,t)}}a($m,"endTagInBody");function vP(e,t){e.tmplInsertionModeStack.length>0?kP(e,t):ew(e,t)}a(vP,"eofInBody");function q0e(e,t){var r;t.tagID===j.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}a(q0e,"endTagInText");function epe(e,t){e._err(t,it.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}a(epe,"eofInText");function Fv(e,t){if(e.openElements.currentTagId!==void 0&&fP.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Ae.IN_TABLE_TEXT,t.type){case fr.CHARACTER:{wP(e,t);break}case fr.WHITESPACE_CHARACTER:{yP(e,t);break}}else jf(e,t)}a(Fv,"characterInTable");function tpe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_CAPTION}a(tpe,"captionStartTagInTable");function rpe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_COLUMN_GROUP}a(rpe,"colgroupStartTagInTable");function npe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ye.COLGROUP,j.COLGROUP),e.insertionMode=Ae.IN_COLUMN_GROUP,tw(e,t)}a(npe,"colStartTagInTable");function ipe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_TABLE_BODY}a(ipe,"tbodyStartTagInTable");function ape(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ye.TBODY,j.TBODY),e.insertionMode=Ae.IN_TABLE_BODY,Qm(e,t)}a(ape,"tdStartTagInTable");function spe(e,t){e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode(),e._processStartTag(t))}a(spe,"tableStartTagInTable");function ope(e,t){gP(t)?e._appendElement(t,pt.HTML):jf(e,t),t.ackSelfClosing=!0}a(ope,"inputStartTagInTable");function lpe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,pt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}a(lpe,"formStartTagInTable");function Ou(e,t){switch(t.tagID){case j.TD:case j.TH:case j.TR:{ape(e,t);break}case j.STYLE:case j.SCRIPT:case j.TEMPLATE:{Ma(e,t);break}case j.COL:{npe(e,t);break}case j.FORM:{lpe(e,t);break}case j.TABLE:{spe(e,t);break}case j.TBODY:case j.TFOOT:case j.THEAD:{ipe(e,t);break}case j.INPUT:{ope(e,t);break}case j.CAPTION:{tpe(e,t);break}case j.COLGROUP:{rpe(e,t);break}default:jf(e,t)}}a(Ou,"startTagInTable");function ef(e,t){switch(t.tagID){case j.TABLE:{e.openElements.hasInTableScope(j.TABLE)&&(e.openElements.popUntilTagNamePopped(j.TABLE),e._resetInsertionMode());break}case j.TEMPLATE:{Bl(e,t);break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:jf(e,t)}}a(ef,"endTagInTable");function jf(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ym(e,t),e.fosterParentingEnabled=r}a(jf,"tokenInTable");function yP(e,t){e.pendingCharacterTokens.push(t)}a(yP,"whitespaceCharacterInTableText");function wP(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}a(wP,"characterInTableText");function Mc(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)jf(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}a(Mc,"tokenInTableText");const xP=new Set([j.CAPTION,j.COL,j.COLGROUP,j.TBODY,j.TD,j.TFOOT,j.TH,j.THEAD,j.TR]);function upe(e,t){const r=t.tagID;xP.has(r)?e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_TABLE,Ou(e,t)):Kn(e,t)}a(upe,"startTagInCaption");function cpe(e,t){const r=t.tagID;switch(r){case j.CAPTION:case j.TABLE:{e.openElements.hasInTableScope(j.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(j.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_TABLE,r===j.TABLE&&ef(e,t));break}case j.BODY:case j.COL:case j.COLGROUP:case j.HTML:case j.TBODY:case j.TD:case j.TFOOT:case j.TH:case j.THEAD:case j.TR:break;default:$m(e,t)}}a(cpe,"endTagInCaption");function tw(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.COL:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.TEMPLATE:{Ma(e,t);break}default:pp(e,t)}}a(tw,"startTagInColumnGroup");function dpe(e,t){switch(t.tagID){case j.COLGROUP:{e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=Ae.IN_TABLE);break}case j.TEMPLATE:{Bl(e,t);break}case j.COL:break;default:pp(e,t)}}a(dpe,"endTagInColumnGroup");function pp(e,t){e.openElements.currentTagId===j.COLGROUP&&(e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,e._processToken(t))}a(pp,"tokenInColumnGroup");function Qm(e,t){switch(t.tagID){case j.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_ROW;break}case j.TH:case j.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ye.TR,j.TR),e.insertionMode=Ae.IN_ROW,Wm(e,t);break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,Ou(e,t));break}default:Ou(e,t)}}a(Qm,"startTagInTableBody");function G1(e,t){const r=t.tagID;switch(t.tagID){case j.TBODY:case j.TFOOT:case j.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE);break}case j.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE,ef(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:case j.TR:break;default:ef(e,t)}}a(G1,"endTagInTableBody");function Wm(e,t){switch(t.tagID){case j.TH:case j.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,pt.HTML),e.insertionMode=Ae.IN_CELL,e.activeFormattingElements.insertMarker();break}case j.CAPTION:case j.COL:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,Qm(e,t));break}default:Ou(e,t)}}a(Wm,"startTagInRow");function _P(e,t){switch(t.tagID){case j.TR:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY);break}case j.TABLE:{e.openElements.hasInTableScope(j.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,G1(e,t));break}case j.TBODY:case j.TFOOT:case j.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(j.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Ae.IN_TABLE_BODY,G1(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:case j.TD:case j.TH:break;default:ef(e,t)}}a(_P,"endTagInRow");function fpe(e,t){const r=t.tagID;xP.has(r)?(e.openElements.hasInTableScope(j.TD)||e.openElements.hasInTableScope(j.TH))&&(e._closeTableCell(),Wm(e,t)):Kn(e,t)}a(fpe,"startTagInCell");function hpe(e,t){const r=t.tagID;switch(r){case j.TD:case j.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Ae.IN_ROW);break}case j.TABLE:case j.TBODY:case j.TFOOT:case j.THEAD:case j.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),_P(e,t));break}case j.BODY:case j.CAPTION:case j.COL:case j.COLGROUP:case j.HTML:break;default:$m(e,t)}}a(hpe,"endTagInCell");function EP(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case j.OPTGROUP:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._insertElement(t,pt.HTML);break}case j.HR:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop(),e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.INPUT:case j.KEYGEN:case j.TEXTAREA:case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),t.tagID!==j.SELECT&&e._processStartTag(t));break}case j.SCRIPT:case j.TEMPLATE:{Ma(e,t);break}}}a(EP,"startTagInSelect");function SP(e,t){switch(t.tagID){case j.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===j.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===j.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===j.OPTGROUP&&e.openElements.pop();break}case j.OPTION:{e.openElements.currentTagId===j.OPTION&&e.openElements.pop();break}case j.SELECT:{e.openElements.hasInSelectScope(j.SELECT)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode());break}case j.TEMPLATE:{Bl(e,t);break}}}a(SP,"endTagInSelect");function ppe(e,t){const r=t.tagID;r===j.CAPTION||r===j.TABLE||r===j.TBODY||r===j.TFOOT||r===j.THEAD||r===j.TR||r===j.TD||r===j.TH?(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e._processStartTag(t)):EP(e,t)}a(ppe,"startTagInSelectInTable");function mpe(e,t){const r=t.tagID;r===j.CAPTION||r===j.TABLE||r===j.TBODY||r===j.TFOOT||r===j.THEAD||r===j.TR||r===j.TD||r===j.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(j.SELECT),e._resetInsertionMode(),e.onEndTag(t)):SP(e,t)}a(mpe,"endTagInSelectInTable");function gpe(e,t){switch(t.tagID){case j.BASE:case j.BASEFONT:case j.BGSOUND:case j.LINK:case j.META:case j.NOFRAMES:case j.SCRIPT:case j.STYLE:case j.TEMPLATE:case j.TITLE:{Ma(e,t);break}case j.CAPTION:case j.COLGROUP:case j.TBODY:case j.TFOOT:case j.THEAD:{e.tmplInsertionModeStack[0]=Ae.IN_TABLE,e.insertionMode=Ae.IN_TABLE,Ou(e,t);break}case j.COL:{e.tmplInsertionModeStack[0]=Ae.IN_COLUMN_GROUP,e.insertionMode=Ae.IN_COLUMN_GROUP,tw(e,t);break}case j.TR:{e.tmplInsertionModeStack[0]=Ae.IN_TABLE_BODY,e.insertionMode=Ae.IN_TABLE_BODY,Qm(e,t);break}case j.TD:case j.TH:{e.tmplInsertionModeStack[0]=Ae.IN_ROW,e.insertionMode=Ae.IN_ROW,Wm(e,t);break}default:e.tmplInsertionModeStack[0]=Ae.IN_BODY,e.insertionMode=Ae.IN_BODY,Kn(e,t)}}a(gpe,"startTagInTemplate");function bpe(e,t){t.tagID===j.TEMPLATE&&Bl(e,t)}a(bpe,"endTagInTemplate");function kP(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(j.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):ew(e,t)}a(kP,"eofInTemplate");function vpe(e,t){t.tagID===j.HTML?Kn(e,t):mp(e,t)}a(vpe,"startTagAfterBody");function AP(e,t){var r;if(t.tagID===j.HTML){if(e.fragmentContext||(e.insertionMode=Ae.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===j.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else mp(e,t)}a(AP,"endTagAfterBody");function mp(e,t){e.insertionMode=Ae.IN_BODY,Ym(e,t)}a(mp,"tokenAfterBody");function ype(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.FRAMESET:{e._insertElement(t,pt.HTML);break}case j.FRAME:{e._appendElement(t,pt.HTML),t.ackSelfClosing=!0;break}case j.NOFRAMES:{Ma(e,t);break}}}a(ype,"startTagInFrameset");function wpe(e,t){t.tagID===j.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==j.FRAMESET&&(e.insertionMode=Ae.AFTER_FRAMESET))}a(wpe,"endTagInFrameset");function xpe(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.NOFRAMES:{Ma(e,t);break}}}a(xpe,"startTagAfterFrameset");function _pe(e,t){t.tagID===j.HTML&&(e.insertionMode=Ae.AFTER_AFTER_FRAMESET)}a(_pe,"endTagAfterFrameset");function Epe(e,t){t.tagID===j.HTML?Kn(e,t):p0(e,t)}a(Epe,"startTagAfterAfterBody");function p0(e,t){e.insertionMode=Ae.IN_BODY,Ym(e,t)}a(p0,"tokenAfterAfterBody");function Spe(e,t){switch(t.tagID){case j.HTML:{Kn(e,t);break}case j.NOFRAMES:{Ma(e,t);break}}}a(Spe,"startTagAfterAfterFrameset");function kpe(e,t){t.chars=Qr,e._insertCharacters(t)}a(kpe,"nullCharacterInForeignContent");function Ape(e,t){e._insertCharacters(t),e.framesetOk=!1}a(Ape,"characterInForeignContent");function TP(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==pt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}a(TP,"popUntilHtmlOrIntegrationPoint");function Tpe(e,t){if(Hhe(t))TP(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===pt.MATHML?cP(t):n===pt.SVG&&(Ghe(t),dP(t)),J3(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}a(Tpe,"startTagInForeignContent");function Npe(e,t){if(t.tagID===j.P||t.tagID===j.BR){TP(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===pt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}a(Npe,"endTagInForeignContent");Ye.AREA,Ye.BASE,Ye.BASEFONT,Ye.BGSOUND,Ye.BR,Ye.COL,Ye.EMBED,Ye.FRAME,Ye.HR,Ye.IMG,Ye.INPUT,Ye.KEYGEN,Ye.LINK,Ye.META,Ye.PARAM,Ye.SOURCE,Ye.TRACK,Ye.WBR;const Xm=NP("end"),us=NP("start");function NP(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}a(NP,"point$2");function Ipe(e){const t=us(e),r=Xm(e);if(t&&r)return{start:t,end:r}}a(Ipe,"position$1");const Cpe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Mpe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),gS={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function IP(e,t){const r=Upe(e),n=qj("type",{handlers:{root:Ope,element:Rpe,text:Lpe,comment:MP,doctype:Dpe,raw:Ppe},unknown:zpe}),i={parser:r?new hS(gS):hS.getFragmentParser(void 0,gS),handle(l){n(l,i)},stitches:!1,options:t||{}};n(e,i),Ju(i,us());const s=r?i.parser.document:i.parser.getFragment(),o=Ufe(s,{file:i.options.file});return i.stitches&&Iu(o,"comment",function(l,u,c){const d=l;if(d.value.stitch&&c&&u!==void 0){const f=c.children;return f[u]=d.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}a(IP,"raw");function CP(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}a(CP,"all$1");function Ope(e,t){CP(e.children,t)}a(Ope,"root$3");function Rpe(e,t){Bpe(e,t),CP(e.children,t),Fpe(e,t)}a(Rpe,"element$2");function Lpe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:fr.CHARACTER,chars:e.value,location:Pf(e)};Ju(t,us(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}a(Lpe,"text$6");function Dpe(e,t){const r={type:fr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Pf(e)};Ju(t,us(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}a(Dpe,"doctype");function jpe(e,t){t.stitches=!0;const r=Hpe(e);if("children"in e&&"children"in r){const n=IP({type:"root",children:e.children},t.options);r.children=n.children}MP({type:"comment",value:{stitch:r}},t)}a(jpe,"stitch");function MP(e,t){const r=e.value,n={type:fr.COMMENT,data:r,location:Pf(e)};Ju(t,us(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}a(MP,"comment");function Ppe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,OP(t,us(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Cpe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}a(Ppe,"handleRaw");function zpe(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))jpe(r,t);else{let n="";throw Mpe.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}a(zpe,"unknown");function Ju(e,t){OP(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=cn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}a(Ju,"resetTokenizer");function OP(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}a(OP,"setPoint");function Bpe(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===cn.PLAINTEXT)return;Ju(t,us(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:Va.html;i===Va.html&&r==="svg"&&(i=Va.svg);const s=Zfe({...e,children:[]},{space:i===Va.svg?"svg":"html"}),o={type:fr.START_TAG,tagName:r,tagID:Xu(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Pf(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}a(Bpe,"startTag");function Fpe(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&ehe.includes(r)||t.parser.tokenizer.state===cn.PLAINTEXT)return;Ju(t,Xm(e));const n={type:fr.END_TAG,tagName:r,tagID:Xu(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Pf(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===cn.RCDATA||t.parser.tokenizer.state===cn.RAWTEXT||t.parser.tokenizer.state===cn.SCRIPT_DATA)&&(t.parser.tokenizer.state=cn.DATA)}a(Fpe,"endTag");function Upe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}a(Upe,"documentMode");function Pf(e){const t=us(e)||{line:void 0,column:void 0,offset:void 0},r=Xm(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}a(Pf,"createParse5Location");function Hpe(e){return"children"in e?Mu({...e,children:[]}):Mu(e)}a(Hpe,"cloneWithoutChildren");function Gpe(e){return function(t,r){return IP(t,{...e,file:r})}}a(Gpe,"rehypeRaw");const Ds={eof:null,asterisk:42,underscore:95,tilde:126},Ru={attentionSideAfter:2,characterGroupPunctuation:2,characterGroupWhitespace:1},ja={data:"data",characterEscape:"characterEscape",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",strong:"strong",strongSequence:"strongSequence",strongText:"strongText"},Jn=jo(/[A-Za-z]/),Hn=jo(/[\dA-Za-z]/),Vpe=jo(/[#-'*+\--9=?A-Z^-~]/);function gp(e){return e!==null&&(e<32||e===127)}a(gp,"asciiControl");const V1=jo(/\d/),Kpe=jo(/[\dA-Fa-f]/),Zpe=jo(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}a(Ht,"markdownLineEnding");function Or(e){return e!==null&&(e<0||e===32)}a(Or,"markdownLineEndingOrSpace");function pr(e){return e===-2||e===-1||e===32}a(pr,"markdownSpace");const Jm=jo(/\p{P}|\p{S}/u),Tl=jo(/\s/);function jo(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}a(jo,"regexCheck$1");function Ype(e){return e===161||e===164||e===167||e===168||e===170||e===173||e===174||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||e===198||e===208||e===215||e===216||e>=222&&e<=225||e===230||e>=232&&e<=234||e===236||e===237||e===240||e===242||e===243||e>=247&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||e===294||e===295||e===299||e>=305&&e<=307||e===312||e>=319&&e<=322||e===324||e>=328&&e<=331||e===333||e===338||e===339||e===358||e===359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||e>=713&&e<=715||e===717||e===720||e>=728&&e<=731||e===733||e===735||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||e===1025||e>=1040&&e<=1103||e===1105||e===8208||e>=8211&&e<=8214||e===8216||e===8217||e===8220||e===8221||e>=8224&&e<=8226||e>=8228&&e<=8231||e===8240||e===8242||e===8243||e===8245||e===8251||e===8254||e===8308||e===8319||e>=8321&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||e===8481||e===8482||e===8486||e===8491||e===8531||e===8532||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||e===8585||e>=8592&&e<=8601||e===8632||e===8633||e===8658||e===8660||e===8679||e===8704||e===8706||e===8707||e===8711||e===8712||e===8715||e===8719||e===8721||e===8725||e===8730||e>=8733&&e<=8736||e===8739||e===8741||e>=8743&&e<=8748||e===8750||e>=8756&&e<=8759||e===8764||e===8765||e===8776||e===8780||e===8786||e===8800||e===8801||e>=8804&&e<=8807||e===8810||e===8811||e===8814||e===8815||e===8834||e===8835||e===8838||e===8839||e===8853||e===8857||e===8869||e===8895||e===8978||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||e===9632||e===9633||e>=9635&&e<=9641||e===9650||e===9651||e===9654||e===9655||e===9660||e===9661||e===9664||e===9665||e>=9670&&e<=9672||e===9675||e>=9678&&e<=9681||e>=9698&&e<=9701||e===9711||e===9733||e===9734||e===9737||e===9742||e===9743||e===9756||e===9758||e===9792||e===9794||e===9824||e===9825||e>=9827&&e<=9829||e>=9831&&e<=9834||e===9836||e===9837||e===9839||e===9886||e===9887||e===9919||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||e===9955||e===9960||e===9961||e>=9963&&e<=9969||e===9972||e>=9974&&e<=9977||e===9979||e===9980||e===9982||e===9983||e===10045||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||e===65533||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||e===127375||e===127376||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}a(Ype,"isAmbiguous");function $pe(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}a($pe,"isFullWidth");function Qpe(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e>=94192&&e<=94198||e>=94208&&e<=101589||e>=101631&&e<=101662||e>=101760&&e<=101874||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128728||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129674||e>=129678&&e<=129734||e===129736||e>=129741&&e<=129756||e>=129759&&e<=129770||e>=129775&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}a(Qpe,"isWide");function Wpe(e){return Ype(e)?"ambiguous":$pe(e)?"fullwidth":e===8361||e>=65377&&e<=65470||e>=65474&&e<=65479||e>=65482&&e<=65487||e>=65490&&e<=65495||e>=65498&&e<=65500||e>=65512&&e<=65518?"halfwidth":e>=32&&e<=126||e===162||e===163||e===165||e===166||e===172||e===175||e>=10214&&e<=10221||e===10629||e===10630?"narrow":Qpe(e)?"wide":"neutral"}a(Wpe,"getCategory");function Xpe(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}a(Xpe,"validate");function Jpe(e){return Xpe(e),Wpe(e)}a(Jpe,"eastAsianWidthType");var qpe=Object.defineProperty,eme=a((e,t,r)=>t in e?qpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),tme=a((e,t,r)=>eme(e,t+"",r),"__publicField");function rme(e){return/^\p{Emoji_Presentation}/u.test(String.fromCodePoint(e))}a(rme,"isEmoji");function nme(e){if(!e||e<4352)return!1;switch(Jpe(e)){case"fullwidth":case"halfwidth":return!0;case"wide":return!rme(e);case"narrow":return!1;case"ambiguous":return 917760<=e&&e<=917999?null:!1;case"neutral":return/^\p{sc=Hangul}/u.test(String.fromCodePoint(e))}}a(nme,"cjkOrIvs");function ime(e,t){return t!==65025||!e||e<8216?!1:e===8216||e===8217||e===8220||e===8221}a(ime,"isCjkAmbiguousPunctuation");function ame(e){return e!==null&&e>=65024&&e<=65038}a(ame,"nonEmojiGeneralUseVS");var sme=RP(/\p{P}|\p{S}/u),ome=RP(/\s/);function RP(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCodePoint(r))}}a(RP,"regexCheck");var ji;(e=>{e.spaceOrPunctuation=3,e.cjk=4096,e.cjkPunctuation=4098,e.ivs=8192,e.cjkOrIvs=12288,e.nonEmojiGeneralUseVS=16384,e.variationSelector=24576,e.ivsToCjkRightShift=1})(ji||(ji={}));function bu(e){if(e===Ds.eof||Or(e)||ome(e))return Ru.characterGroupWhitespace;let t=0;if(e>=4352){if(ame(e))return ji.nonEmojiGeneralUseVS;switch(nme(e)){case null:return ji.ivs;case!0:t|=ji.cjk;break}}return sme(e)&&(t|=Ru.characterGroupPunctuation),t}a(bu,"classifyCharacter$1");function LP(e,t,r){if(!dme(e))return e;const n=t(),i=bu(n);return!n||tf(i)?e:ime(n,r)?ji.cjkPunctuation:lme(i)}a(LP,"classifyPrecedingCharacter");function lme(e){return e&~ji.ivs}a(lme,"stripIvs");function tf(e){return!!(e&Ru.characterGroupWhitespace)}a(tf,"isUnicodeWhitespace");function bp(e){return(e&ji.cjkPunctuation)===Ru.characterGroupPunctuation}a(bp,"isNonCjkPunctuation");function K1(e){return!!(e&ji.cjk)}a(K1,"isCjk");function ume(e){return e===ji.ivs}a(ume,"isIvs");function cme(e){return!!(e&ji.cjkOrIvs)}a(cme,"isCjkOrIvs");function dme(e){return e===ji.nonEmojiGeneralUseVS}a(dme,"isNonEmojiGeneralUseVS");function bS(e){return!!(e&ji.spaceOrPunctuation)}a(bS,"isSpaceOrPunctuation");function DP(e){return!!(e&&e>=55296&&e<=56319)}a(DP,"isCodeHighSurrogate");function jP(e){return!!(e&&e>=56320&&e<=57343)}a(jP,"isCodeLowSurrogate");function PP(e,t,r){if(t._bufferIndex<2)return e;const i=r({start:{...t,_bufferIndex:t._bufferIndex-2},end:t}).codePointAt(0);return i&&i>=65536?i:e}a(PP,"tryGetGenuinePreviousCode");function fme(e,t,r){const n=e>=65536?2:1;if(t._bufferIndex<1+n)return null;const i=t._bufferIndex-n-2,s=r({start:{...t,_bufferIndex:i>=0?i:0},end:{...t,_bufferIndex:t._bufferIndex-n}}),o=s.charCodeAt(s.length-1);if(Number.isNaN(o))return null;if(s.length<2||o<56320||57343<o)return o;const l=s.codePointAt(0);return l&&l>=65536?l:o}a(fme,"tryGetCodeTwoBefore");var zP=class{static{a(this,"TwoPreviousCode")}constructor(e,t,r){this.previousCode=e,this.nowPoint=t,this.sliceSerialize=r,tme(this,"cachedValue")}value(){return this.cachedValue===void 0&&(this.cachedValue=fme(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function BP(e,t,r){const n=r({start:t,end:{...t,_bufferIndex:t._bufferIndex+2}}).codePointAt(0);return n&&n>=65536?n:e}a(BP,"tryGetGenuineNextCode");function Bn(e,t,r,n){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);s<n.length;)o=n.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}a(Bn,"splice");function jn(e,t){return e.length>0?(Bn(e,e.length,0,t),e):t}a(jn,"push");function qu(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}a(qu,"resolveAll");var Uv={name:"attention",resolveAll:hme,tokenize:pme};function hme(e,t){let r=-1,n,i,s,o,l,u,c,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},g={...e[r][1].start};vS(f,-u),vS(g,u),o={type:u>1?ja.strongSequence:ja.emphasisSequence,start:f,end:{...e[n][1].end}},l={type:u>1?ja.strongSequence:ja.emphasisSequence,start:{...e[r][1].start},end:g},s={type:u>1?ja.strongText:ja.emphasisText,start:{...e[n][1].end},end:{...e[r][1].start}},i={type:u>1?ja.strong:ja.emphasis,start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[r][1].start={...l.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=jn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=jn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),t.parser.constructs.insideSpan.null,c=jn(c,qu(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=jn(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,c=jn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,Bn(e,n-1,r-n+3,c),r=n+c.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}a(hme,"resolveAllAttention$1");function pme(e,t){const r=this.parser.constructs.attentionMarkers.null,{now:n,sliceSerialize:i,previous:s}=this,o=jP(s)?PP(s,n(),i):s,l=bu(o),u=new zP(o,n(),i),c=LP(l,u.value.bind(u),o);let d;return f;function f(m){return d=m,e.enter("attentionSequence"),g(m)}function g(m){if(m===d)return e.consume(m),g;const y=e.exit("attentionSequence"),_=DP(m)?BP(m,n(),i):m,A=bu(_),I=bp(c),O=I||tf(c),R=bp(A),L=R||tf(A),D=cme(c),P=!L||R&&(O||D)||r.includes(m),Z=!O||I&&(L||K1(A))||r.includes(o);return y._open=!!(d===Ds.asterisk?P:P&&(bS(c)||!Z)),y._close=!!(d===Ds.asterisk?Z:Z&&(bS(A)||!P)),t(m)}}a(pme,"tokenizeAttention$1");function vS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}a(vS,"movePoint$1");function mme(){return{text:{[Ds.asterisk]:Uv,[Ds.underscore]:Uv},insideSpan:{null:[Uv]}}}a(mme,"cjkFriendlyExtension");function gme(){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push(mme())}a(gme,"remarkCjkFriendly");function bme(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{[Ds.tilde]:n},insideSpan:{null:[n]},attentionMarkers:{null:[Ds.tilde]}};function i(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",d,l],["enter",o[c][1],l],["exit",o[c][1],l],["enter",f,l]],m=l.parser.constructs.insideSpan.null;m&&Bn(g,g.length,0,qu(m,o.slice(c+1,u),l)),Bn(g,g.length,0,[["exit",f,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",d,l]]),Bn(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type=ja.data);return o}a(i,"resolveAllStrikethrough");function s(o,l,u){const{now:c,sliceSerialize:d,previous:f}=this,g=jP(f)?PP(f,c(),d):f,m=bu(g),y=new zP(g,c(),d),_=LP(m,y.value.bind(y),g),A=this.events;let I=0;return O;function O(L){return g===Ds.tilde&&A[A.length-1][1].type!==ja.characterEscape?u(L):(o.enter("strikethroughSequenceTemporary"),R(L))}function R(L){const D=bu(g);if(L===Ds.tilde)return I>1?u(L):(o.consume(L),I++,R);if(I<2&&!r)return u(L);const P=o.exit("strikethroughSequenceTemporary"),Z=DP(L)?BP(L,c(),d):L,V=bu(Z),F=bp(_)||tf(_),h=bp(V)||tf(V),w=K1(_)||ume(D);return P._open=!h||V===Ru.attentionSideAfter&&(F||w),P._close=!F||D===Ru.attentionSideAfter&&(h||K1(V)),l(L)}}a(s,"tokenizeStrikethrough")}a(bme,"gfmStrikethroughCjkFriendly");function vme(e){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(bme(e))}a(vme,"remarkGfmStrikethroughCjkFriendly");function yS(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}a(yS,"ccount");function yme(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}a(yme,"escapeStringRegexp");function wme(e,t,r){const i=Cf((r||{}).ignore||[]),s=xme(t);let o=-1;for(;++o<s.length;)E3(e,"text",l);function l(c,d){let f=-1,g;for(;++f<d.length;){const m=d[f],y=g?g.children:void 0;if(i(m,y?y.indexOf(m):void 0,g))return;g=m}if(g)return u(c,d)}a(l,"visitor");function u(c,d){const f=d[d.length-1],g=s[o][0],m=s[o][1];let y=0;const A=f.children.indexOf(c);let I=!1,O=[];g.lastIndex=0;let R=g.exec(c.value);for(;R;){const L=R.index,D={index:R.index,input:R.input,stack:[...d,c]};let P=m(...R,D);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=L+1:(y!==L&&O.push({type:"text",value:c.value.slice(y,L)}),Array.isArray(P)?O.push(...P):P&&O.push(P),y=L+R[0].length,I=!0),!g.global)break;R=g.exec(c.value)}return I?(y<c.value.length&&O.push({type:"text",value:c.value.slice(y)}),f.children.splice(A,1,...O)):O=[c],A+O.length}a(u,"handler")}a(wme,"findAndReplace");function xme(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([_me(i[0]),Eme(i[1])])}return t}a(xme,"toPairs");function _me(e){return typeof e=="string"?new RegExp(yme(e),"g"):e}a(_me,"toExpression");function Eme(e){return typeof e=="function"?e:function(){return e}}a(Eme,"toFunction");const Hv="phrasing",Gv=["autolink","link","image","label"];function Sme(){return{transforms:[Mme],enter:{literalAutolink:Ame,literalAutolinkEmail:Vv,literalAutolinkHttp:Vv,literalAutolinkWww:Vv},exit:{literalAutolink:Cme,literalAutolinkEmail:Ime,literalAutolinkHttp:Tme,literalAutolinkWww:Nme}}}a(Sme,"gfmAutolinkLiteralFromMarkdown");function kme(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Hv,notInConstruct:Gv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Hv,notInConstruct:Gv},{character:":",before:"[ps]",after:"\\/",inConstruct:Hv,notInConstruct:Gv}]}}a(kme,"gfmAutolinkLiteralToMarkdown");function Ame(e){this.enter({type:"link",title:null,url:"",children:[]},e)}a(Ame,"enterLiteralAutolink");function Vv(e){this.config.enter.autolinkProtocol.call(this,e)}a(Vv,"enterLiteralAutolinkValue");function Tme(e){this.config.exit.autolinkProtocol.call(this,e)}a(Tme,"exitLiteralAutolinkHttp");function Nme(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}a(Nme,"exitLiteralAutolinkWww");function Ime(e){this.config.exit.autolinkEmail.call(this,e)}a(Ime,"exitLiteralAutolinkEmail");function Cme(e){this.exit(e)}a(Cme,"exitLiteralAutolink");function Mme(e){wme(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ome],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,Rme]],{ignore:["link","linkReference"]})}a(Mme,"transformGfmAutolinkLiterals");function Ome(e,t,r,n,i){let s="";if(!FP(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!Lme(r)))return!1;const o=Dme(r+n);if(!o[0])return!1;const l={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}a(Ome,"findUrl");function Rme(e,t,r,n){return!FP(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}a(Rme,"findEmail");function Lme(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}a(Lme,"isCorrectDomain");function Dme(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=yS(e,"(");let s=yS(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}a(Dme,"splitUrl");function FP(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Tl(r)||Jm(r))&&(!t||r!==47)}a(FP,"previous$2");function ba(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}a(ba,"normalizeIdentifier");UP.peek=Vme;function jme(){this.buffer()}a(jme,"enterFootnoteCallString");function Pme(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}a(Pme,"enterFootnoteCall");function zme(){this.buffer()}a(zme,"enterFootnoteDefinitionLabelString");function Bme(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}a(Bme,"enterFootnoteDefinition");function Fme(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ba(this.sliceSerialize(e)).toLowerCase(),r.label=t}a(Fme,"exitFootnoteCallString");function Ume(e){this.exit(e)}a(Ume,"exitFootnoteCall");function Hme(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ba(this.sliceSerialize(e)).toLowerCase(),r.label=t}a(Hme,"exitFootnoteDefinitionLabelString");function Gme(e){this.exit(e)}a(Gme,"exitFootnoteDefinition");function Vme(){return"["}a(Vme,"footnoteReferencePeek");function UP(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const o=r.enter("footnoteReference"),l=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}a(UP,"footnoteReference$1");function Kme(){return{enter:{gfmFootnoteCallString:jme,gfmFootnoteCall:Pme,gfmFootnoteDefinitionLabelString:zme,gfmFootnoteDefinition:Bme},exit:{gfmFootnoteCallString:Fme,gfmFootnoteCall:Ume,gfmFootnoteDefinitionLabelString:Hme,gfmFootnoteDefinition:Gme}}}a(Kme,"gfmFootnoteFromMarkdown");function Zme(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:UP},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,o){const l=s.createTracker(o);let u=l.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return u+=l.move(s.safe(s.associationId(n),{before:u,after:"]"})),d(),u+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),u+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,l.current()),t?HP:Yme))),c(),u}a(r,"footnoteDefinition")}a(Zme,"gfmFootnoteToMarkdown");function Yme(e,t,r){return t===0?e:HP(e,t,r)}a(Yme,"mapExceptFirst");function HP(e,t,r){return(r?"":"    ")+e}a(HP,"mapAll");const $me=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];GP.peek=qme;function Qme(){return{canContainEols:["delete"],enter:{strikethrough:Xme},exit:{strikethrough:Jme}}}a(Qme,"gfmStrikethroughFromMarkdown");function Wme(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:$me}],handlers:{delete:GP}}}a(Wme,"gfmStrikethroughToMarkdown");function Xme(e){this.enter({type:"delete",children:[]},e)}a(Xme,"enterStrikethrough");function Jme(e){this.exit(e)}a(Jme,"exitStrikethrough");function GP(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}a(GP,"handleDelete");function qme(){return"~"}a(qme,"peekDelete");function ege(e){return e.length}a(ege,"defaultStringLength");function tge(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||ege,s=[],o=[],l=[],u=[];let c=0,d=-1;for(;++d<e.length;){const _=[],A=[];let I=-1;for(e[d].length>c&&(c=e[d].length);++I<e[d].length;){const O=rge(e[d][I]);if(r.alignDelimiters!==!1){const R=i(O);A[I]=R,(u[I]===void 0||R>u[I])&&(u[I]=R)}_.push(O)}o[d]=_,l[d]=A}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<c;)s[f]=wS(n[f]);else{const _=wS(n);for(;++f<c;)s[f]=_}f=-1;const g=[],m=[];for(;++f<c;){const _=s[f];let A="",I="";_===99?(A=":",I=":"):_===108?A=":":_===114&&(I=":");let O=r.alignDelimiters===!1?1:Math.max(1,u[f]-A.length-I.length);const R=A+"-".repeat(O)+I;r.alignDelimiters!==!1&&(O=A.length+O+I.length,O>u[f]&&(u[f]=O),m[f]=O),g[f]=R}o.splice(1,0,g),l.splice(1,0,m),d=-1;const y=[];for(;++d<o.length;){const _=o[d],A=l[d];f=-1;const I=[];for(;++f<c;){const O=_[f]||"";let R="",L="";if(r.alignDelimiters!==!1){const D=u[f]-(A[f]||0),P=s[f];P===114?R=" ".repeat(D):P===99?D%2?(R=" ".repeat(D/2+.5),L=" ".repeat(D/2-.5)):(R=" ".repeat(D/2),L=R):L=" ".repeat(D)}r.delimiterStart!==!1&&!f&&I.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&O==="")&&(r.delimiterStart!==!1||f)&&I.push(" "),r.alignDelimiters!==!1&&I.push(R),I.push(O),r.alignDelimiters!==!1&&I.push(L),r.padding!==!1&&I.push(" "),(r.delimiterEnd!==!1||f!==c-1)&&I.push("|")}y.push(r.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return y.join(`
`)}a(tge,"markdownTable");function rge(e){return e==null?"":String(e)}a(rge,"serialize");function wS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}a(wS,"toAlignment");function nge(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(e,s.current()),ige);return i(),o}a(nge,"blockquote$1");function ige(e,t,r){return">"+(r?"":" ")+e}a(ige,"map$1");function age(e,t){return xS(e,t.inConstruct,!0)&&!xS(e,t.notInConstruct,!1)}a(age,"patternInScope");function xS(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}a(xS,"listInScope");function _S(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&age(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}a(_S,"hardBreak$1");function VP(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>o&&(o=s):s=1,i=n+t.length,n=r.indexOf(t,i);return o}a(VP,"longestStreak");function sge(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}a(sge,"formatCodeAsIndented");function oge(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}a(oge,"checkFence");function lge(e,t,r,n){const i=oge(r),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(sge(e,r)){const f=r.enter("codeIndented"),g=r.indentLines(s,uge);return f(),g}const l=r.createTracker(n),u=i.repeat(Math.max(VP(s,i)+1,3)),c=r.enter("codeFenced");let d=l.move(u);if(e.lang){const f=r.enter(`codeFencedLang${o}`);d+=l.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),s&&(d+=l.move(s+`
`)),d+=l.move(u),c(),d}a(lge,"code$2");function uge(e,t,r){return(r?"":"    ")+e}a(uge,"map");function rw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}a(rw,"checkQuote");function cge(e,t,r,n){const i=rw(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("[");return c+=u.move(r.safe(r.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),o(),c}a(cge,"definition$1");function dge(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}a(dge,"checkEmphasis");function rf(e){return"&#x"+e.toString(16).toUpperCase()+";"}a(rf,"encodeCharacterReference");function Lu(e){if(e===null||Or(e)||Tl(e))return 1;if(Jm(e))return 2}a(Lu,"classifyCharacter");function vp(e,t,r){const n=Lu(e),i=Lu(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}a(vp,"encodeInfo");KP.peek=fge;function KP(e,t,r,n){const i=dge(r),s=r.enter("emphasis"),o=r.createTracker(n),l=o.move(i);let u=o.move(r.containerPhrasing(e,{after:i,before:l,...o.current()}));const c=u.charCodeAt(0),d=vp(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(u=rf(c)+u.slice(1));const f=u.charCodeAt(u.length-1),g=vp(n.after.charCodeAt(0),f,i);g.inside&&(u=u.slice(0,-1)+rf(f));const m=o.move(i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},l+u+m}a(KP,"emphasis$1");function fge(e,t,r){return r.options.emphasis||"*"}a(fge,"emphasisPeek");const hge={};function nw(e,t){const r=hge,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return ZP(e,n,i)}a(nw,"toString");function ZP(e,t,r){if(pge(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ES(e.children,t,r)}return Array.isArray(e)?ES(e,t,r):""}a(ZP,"one$1");function ES(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=ZP(e[i],t,r);return n.join("")}a(ES,"all");function pge(e){return!!(e&&typeof e=="object")}a(pge,"node");function mge(e,t){let r=!1;return Iu(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,S1}),!!((!e.depth||e.depth<3)&&nw(e)&&(t.options.setext||r))}a(mge,"formatHeadingAsSetext");function gge(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(mge(e,r)){const d=r.enter("headingSetext"),f=r.enter("phrasing"),g=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=r.enter("headingAtx"),u=r.enter("phrasing");s.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=rf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),u(),l(),c}a(gge,"heading$1");YP.peek=bge;function YP(e){return e.value||""}a(YP,"html$1");function bge(){return"<"}a(bge,"htmlPeek");$P.peek=vge;function $P(e,t,r,n){const i=rw(r),s=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let l=r.enter("label");const u=r.createTracker(n);let c=u.move("![");return c+=u.move(r.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(r.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=r.enter("destinationRaw"),c+=u.move(r.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(r.safe(e.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),c+=u.move(")"),o(),c}a($P,"image$1");function vge(){return"!"}a(vge,"imagePeek");QP.peek=yge;function QP(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");const c=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const d=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=d,s(),i==="full"||!c||c!==f?u+=l.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}a(QP,"imageReference$1");function yge(){return"!"}a(yge,"imageReferencePeek");WP.peek=wge;function WP(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const o=r.unsafe[s],l=r.compilePattern(o);let u;if(o.atBreak)for(;u=l.exec(n);){let c=u.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(u.index+1)}}return i+n+i}a(WP,"inlineCode$1");function wge(){return"`"}a(wge,"inlineCodePeek");function XP(e,t){const r=nw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}a(XP,"formatLinkAsAutolink");JP.peek=xge;function JP(e,t,r,n){const i=rw(r),s=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let l,u;if(XP(e,r)){const d=r.stack;r.stack=[],l=r.enter("autolink");let f=o.move("<");return f+=o.move(r.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),l(),r.stack=d,f}l=r.enter("link"),u=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=r.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),u()),c+=o.move(")"),l(),c}a(JP,"link$1");function xge(e,t,r){return XP(e,r)?"<":"["}a(xge,"linkPeek");qP.peek=_ge;function qP(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");const c=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const d=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return o(),r.stack=d,s(),i==="full"||!c||c!==f?u+=l.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}a(qP,"linkReference$1");function _ge(){return"["}a(_ge,"linkReferencePeek");function iw(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}a(iw,"checkBullet");function Ege(e){const t=iw(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}a(Ege,"checkBulletOther");function Sge(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}a(Sge,"checkBulletOrdered");function ez(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}a(ez,"checkRule");function kge(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let o=e.ordered?Sge(r):iw(r);const l=e.ordered?o==="."?")":".":Ege(r);let u=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),ez(r)===o&&d){let f=-1;for(;++f<e.children.length;){const g=e.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=s,i(),c}a(kge,"list$2");function Age(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}a(Age,"checkListItemIndent");function Tge(e,t,r,n){const i=Age(r);let s=r.bulletCurrent||iw(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=r.createTracker(n);l.move(s+" ".repeat(o-s.length)),l.shift(o);const u=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,l.current()),d);return u(),c;function d(f,g,m){return g?(m?"":" ".repeat(o))+f:(m?s:s+" ".repeat(o-s.length))+f}a(d,"map")}a(Tge,"listItem$1");function Nge(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(e,n);return s(),i(),o}a(Nge,"paragraph$1");const Ige=Cf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Cge(e,t,r,n){return(e.children.some(function(o){return Ige(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}a(Cge,"root$2");function Mge(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}a(Mge,"checkStrong");tz.peek=Oge;function tz(e,t,r,n){const i=Mge(r),s=r.enter("strong"),o=r.createTracker(n),l=o.move(i+i);let u=o.move(r.containerPhrasing(e,{after:i,before:l,...o.current()}));const c=u.charCodeAt(0),d=vp(n.before.charCodeAt(n.before.length-1),c,i);d.inside&&(u=rf(c)+u.slice(1));const f=u.charCodeAt(u.length-1),g=vp(n.after.charCodeAt(0),f,i);g.inside&&(u=u.slice(0,-1)+rf(f));const m=o.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},l+u+m}a(tz,"strong$1");function Oge(e,t,r){return r.options.strong||"*"}a(Oge,"strongPeek");function Rge(e,t,r,n){return r.safe(e.value,n)}a(Rge,"text$5");function Lge(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}a(Lge,"checkRuleRepetition");function Dge(e,t,r){const n=(ez(r)+(r.options.ruleSpaces?" ":"")).repeat(Lge(r));return r.options.ruleSpaces?n.slice(0,-1):n}a(Dge,"thematicBreak$2");const rz={blockquote:nge,break:_S,code:lge,definition:cge,emphasis:KP,hardBreak:_S,heading:gge,html:YP,image:$P,imageReference:QP,inlineCode:WP,link:JP,linkReference:qP,list:kge,listItem:Tge,paragraph:Nge,root:Cge,strong:tz,text:Rge,thematicBreak:Dge},SS=document.createElement("i");function aw(e){const t="&"+e+";";SS.innerHTML=t;const r=SS.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}a(aw,"decodeNamedCharacterReference");function nz(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}a(nz,"decodeNumericCharacterReference");const jge=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pge(e){return e.replace(jge,zge)}a(Pge,"decodeString");function zge(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return nz(r.slice(s?2:1),s?16:10)}return aw(r)||e}a(zge,"decode");function Bge(){return{enter:{table:Fge,tableData:kS,tableHeader:kS,tableRow:Hge},exit:{codeText:Gge,table:Uge,tableData:Kv,tableHeader:Kv,tableRow:Kv}}}a(Bge,"gfmTableFromMarkdown");function Fge(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}a(Fge,"enterTable");function Uge(e){this.exit(e),this.data.inTable=void 0}a(Uge,"exitTable");function Hge(e){this.enter({type:"tableRow",children:[]},e)}a(Hge,"enterRow");function Kv(e){this.exit(e)}a(Kv,"exit$1");function kS(e){this.enter({type:"tableCell",children:[]},e)}a(kS,"enterCell");function Gge(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Vge));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}a(Gge,"exitCodeText");function Vge(e,t){return t==="|"?t:e}a(Vge,"replace");function Kge(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:u,tableRow:l}};function o(m,y,_,A){return c(d(m,_,A),m.align)}function l(m,y,_,A){const I=f(m,_,A),O=c([I]);return O.slice(0,O.indexOf(`
`))}function u(m,y,_,A){const I=_.enter("tableCell"),O=_.enter("phrasing"),R=_.containerPhrasing(m,{...A,before:s,after:s});return O(),I(),R}function c(m,y){return tge(m,{align:y,alignDelimiters:n,padding:r,stringLength:i})}function d(m,y,_){const A=m.children;let I=-1;const O=[],R=y.enter("table");for(;++I<A.length;)O[I]=f(A[I],y,_);return R(),O}function f(m,y,_){const A=m.children;let I=-1;const O=[],R=y.enter("tableRow");for(;++I<A.length;)O[I]=u(A[I],m,y,_);return R(),O}function g(m,y,_){let A=rz.inlineCode(m,y,_);return _.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}a(Kge,"gfmTableToMarkdown");function Zge(){return{exit:{taskListCheckValueChecked:AS,taskListCheckValueUnchecked:AS,paragraph:$ge}}}a(Zge,"gfmTaskListItemFromMarkdown");function Yge(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Qge}}}a(Yge,"gfmTaskListItemToMarkdown");function AS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}a(AS,"exitCheck");function $ge(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}a($ge,"exitParagraphWithTaskListItem");function Qge(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);s&&l.move(o);let u=rz.listItem(e,t,r,{...n,...l.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(d){return d+o}a(c,"check")}a(Qge,"listItemWithTaskListItem");function Wge(){return[Sme(),Kme(),Qme(),Bge(),Zge()]}a(Wge,"gfmFromMarkdown");function Xge(e){return{extensions:[kme(),Zme(e),Wme(),Kge(e),Yge()]}}a(Xge,"gfmToMarkdown");const TS={}.hasOwnProperty;function iz(e){const t={};let r=-1;for(;++r<e.length;)Jge(t,e[r]);return t}a(iz,"combineExtensions");function Jge(e,t){let r;for(r in t){const i=(TS.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let o;if(s)for(o in s){TS.call(i,o)||(i[o]=[]);const l=s[o];qge(i[o],Array.isArray(l)?l:l?[l]:[])}}}a(Jge,"syntaxExtension");function qge(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Bn(e,0,0,n)}a(qge,"constructs");const ebe={tokenize:sbe,partial:!0},az={tokenize:obe,partial:!0},sz={tokenize:lbe,partial:!0},oz={tokenize:ube,partial:!0},tbe={tokenize:cbe,partial:!0},lz={name:"wwwAutolink",tokenize:ibe,previous:cz},uz={name:"protocolAutolink",tokenize:abe,previous:dz},Js={name:"emailAutolink",tokenize:nbe,previous:fz},cs={};function rbe(){return{text:cs}}a(rbe,"gfmAutolinkLiteral");let Jo=48;for(;Jo<123;)cs[Jo]=Js,Jo++,Jo===58?Jo=65:Jo===91&&(Jo=97);cs[43]=Js;cs[45]=Js;cs[46]=Js;cs[95]=Js;cs[72]=[Js,uz];cs[104]=[Js,uz];cs[87]=[Js,lz];cs[119]=[Js,lz];function nbe(e,t,r){const n=this;let i,s;return o;function o(f){return!Z1(f)||!fz.call(n,n.previous)||sw(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return Z1(f)?(e.consume(f),l):f===64?(e.consume(f),u):r(f)}function u(f){return f===46?e.check(tbe,d,c)(f):f===45||f===95||Hn(f)?(s=!0,e.consume(f),u):d(f)}function c(f){return e.consume(f),i=!0,u}function d(f){return s&&i&&Jn(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}a(nbe,"tokenizeEmailAutolink");function ibe(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!cz.call(n,n.previous)||sw(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ebe,e.attempt(az,e.attempt(sz,s),r),r)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}a(ibe,"tokenizeWwwAutolink");function abe(e,t,r){const n=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&dz.call(n,n.previous)&&!sw(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):r(f)}function l(f){if(Jn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(f),u}return r(f)}function u(f){return f===47?(e.consume(f),s?c:(s=!0,u)):r(f)}function c(f){return f===null||gp(f)||Or(f)||Tl(f)||Jm(f)?r(f):e.attempt(az,e.attempt(sz,d),r)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}a(abe,"tokenizeProtocolAutolink");function sbe(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),s):r(o)}function s(o){return o===null?r(o):t(o)}}a(sbe,"tokenizeWwwPrefix");function obe(e,t,r){let n,i,s;return o;function o(c){return c===46||c===95?e.check(oz,u,l)(c):c===null||Or(c)||Tl(c)||c!==45&&Jm(c)?u(c):(s=!0,e.consume(c),o)}function l(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function u(c){return i||n||!s?r(c):t(c)}}a(obe,"tokenizeDomain");function lbe(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(oz,t,s)(o):o===null||Or(o)||Tl(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&n++,e.consume(o),i}}a(lbe,"tokenizePath");function ube(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||Or(l)||Tl(l)?t(l):r(l)}function i(l){return l===null||l===40||l===91||Or(l)||Tl(l)?t(l):n(l)}function s(l){return Jn(l)?o(l):r(l)}function o(l){return l===59?(e.consume(l),n):Jn(l)?(e.consume(l),o):r(l)}}a(ube,"tokenizeTrail");function cbe(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return Hn(s)?r(s):t(s)}}a(cbe,"tokenizeEmailDomainDotTrail");function cz(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Or(e)}a(cz,"previousWww");function dz(e){return!Jn(e)}a(dz,"previousProtocol");function fz(e){return!(e===47||Z1(e))}a(fz,"previousEmail");function Z1(e){return e===43||e===45||e===46||e===95||Hn(e)}a(Z1,"gfmAtext");function sw(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}a(sw,"previousUnbalanced");function ec(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let o="";if(s===37&&Hn(e.charCodeAt(r+1))&&Hn(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(r+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}a(ec,"normalizeUri");const Y1={name:"attention",resolveAll:dbe,tokenize:fbe};function dbe(e,t){let r=-1,n,i,s,o,l,u,c,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},g={...e[r][1].start};NS(f,-u),NS(g,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:g},s={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[n][1].end={...o.start},e[r][1].start={...l.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=jn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=jn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=jn(c,qu(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=jn(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,c=jn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,Bn(e,n-1,r-n+3,c),r=n+c.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}a(dbe,"resolveAllAttention");function fbe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Lu(n);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;const c=e.exit("attentionSequence"),d=Lu(u),f=!d||d===2&&i||r.includes(u),g=!i||i===2&&d||r.includes(n);return c._open=!!(s===42?f:f&&(i||!g)),c._close=!!(s===42?g:g&&(d||!f)),t(u)}}a(fbe,"tokenizeAttention");function NS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}a(NS,"movePoint");const hbe={name:"autolink",tokenize:pbe};function pbe(e,t,r){let n=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Jn(m)?(e.consume(m),o):m===64?r(m):c(m)}function o(m){return m===43||m===45||m===46||Hn(m)?(n=1,l(m)):c(m)}function l(m){return m===58?(e.consume(m),n=0,u):(m===43||m===45||m===46||Hn(m))&&n++<32?(e.consume(m),l):(n=0,c(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||gp(m)?r(m):(e.consume(m),u)}function c(m){return m===64?(e.consume(m),d):Vpe(m)?(e.consume(m),c):r(m)}function d(m){return Hn(m)?f(m):r(m)}function f(m){return m===46?(e.consume(m),n=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||Hn(m))&&n++<63){const y=m===45?g:f;return e.consume(m),y}return r(m)}}a(pbe,"tokenizeAutolink");function hr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return pr(u)?(e.enter(r),l(u)):t(u)}function l(u){return pr(u)&&s++<i?(e.consume(u),l):(e.exit(r),t(u))}}a(hr,"factorySpace");const zf={partial:!0,tokenize:mbe};function mbe(e,t,r){return n;function n(s){return pr(s)?hr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ht(s)?t(s):r(s)}}a(mbe,"tokenizeBlankLine");const hz={continuation:{tokenize:bbe},exit:vbe,name:"blockQuote",tokenize:gbe};function gbe(e,t,r){const n=this;return i;function i(o){if(o===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return r(o)}function s(o){return pr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}a(gbe,"tokenizeBlockQuoteStart");function bbe(e,t,r){const n=this;return i;function i(o){return pr(o)?hr(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(hz,t,r)(o)}}a(bbe,"tokenizeBlockQuoteContinuation");function vbe(e){e.exit("blockQuote")}a(vbe,"exit");const pz={name:"characterEscape",tokenize:ybe};function ybe(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Zpe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}a(ybe,"tokenizeCharacterEscape");const mz={name:"characterReference",tokenize:wbe};function wbe(e,t,r){const n=this;let i=0,s,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Hn,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Kpe,d):(e.enter("characterReferenceValue"),s=7,o=V1,d(f))}function d(f){if(f===59&&i){const g=e.exit("characterReferenceValue");return o===Hn&&!aw(n.sliceSerialize(g))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):r(f)}}a(wbe,"tokenizeCharacterReference");const IS={partial:!0,tokenize:_be},CS={concrete:!0,name:"codeFenced",tokenize:xbe};function xbe(e,t,r){const n=this,i={partial:!0,tokenize:D};let s=0,o=0,l;return u;function u(P){return c(P)}function c(P){const Z=n.events[n.events.length-1];return s=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,l=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(P)}function d(P){return P===l?(o++,e.consume(P),d):o<3?r(P):(e.exit("codeFencedFenceSequence"),pr(P)?hr(e,f,"whitespace")(P):f(P))}function f(P){return P===null||Ht(P)?(e.exit("codeFencedFence"),n.interrupt?t(P):e.check(IS,_,L)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Ht(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(P)):pr(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),hr(e,m,"whitespace")(P)):P===96&&P===l?r(P):(e.consume(P),g)}function m(P){return P===null||Ht(P)?f(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(P))}function y(P){return P===null||Ht(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(P)):P===96&&P===l?r(P):(e.consume(P),y)}function _(P){return e.attempt(i,L,A)(P)}function A(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),I}function I(P){return s>0&&pr(P)?hr(e,O,"linePrefix",s+1)(P):O(P)}function O(P){return P===null||Ht(P)?e.check(IS,_,L)(P):(e.enter("codeFlowValue"),R(P))}function R(P){return P===null||Ht(P)?(e.exit("codeFlowValue"),O(P)):(e.consume(P),R)}function L(P){return e.exit("codeFenced"),t(P)}function D(P,Z,V){let W=0;return F;function F(x){return P.enter("lineEnding"),P.consume(x),P.exit("lineEnding"),Y}function Y(x){return P.enter("codeFencedFence"),pr(x)?hr(P,h,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):h(x)}function h(x){return x===l?(P.enter("codeFencedFenceSequence"),w(x)):V(x)}function w(x){return x===l?(W++,P.consume(x),w):W>=o?(P.exit("codeFencedFenceSequence"),pr(x)?hr(P,b,"whitespace")(x):b(x)):V(x)}function b(x){return x===null||Ht(x)?(P.exit("codeFencedFence"),Z(x)):V(x)}}}a(xbe,"tokenizeCodeFenced");function _be(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}a(_be,"tokenizeNonLazyContinuation$1");const Zv={name:"codeIndented",tokenize:Sbe},Ebe={partial:!0,tokenize:kbe};function Sbe(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),hr(e,s,"linePrefix",5)(c)}function s(c){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?u(c):Ht(c)?e.attempt(Ebe,o,u)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||Ht(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),l)}function u(c){return e.exit("codeIndented"),t(c)}}a(Sbe,"tokenizeCodeIndented");function kbe(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):hr(e,s,"linePrefix",5)(o)}function s(o){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Ht(o)?i(o):r(o)}}a(kbe,"tokenizeFurtherStart");const Abe={name:"codeText",previous:Nbe,resolve:Tbe,tokenize:Ibe};function Tbe(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}a(Tbe,"resolveCodeText");function Nbe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}a(Nbe,"previous$1");function Ibe(e,t,r){let n=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),n++,l):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ht(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}a(Ibe,"tokenizeCodeText");class Cbe{static{a(this,"SpliceBuffer")}constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Oc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Oc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Oc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Oc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Oc(this.left,r.reverse())}}}function Oc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}a(Oc,"chunkedPush");function gz(e){const t={};let r=-1,n,i,s,o,l,u,c;const d=new Cbe(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Mbe(d,r)),r=t[r],c=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},l=d.slice(i,r),l.unshift(n),d.splice(i,r-i+1,l))}}return Bn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}a(gz,"subtokenize");function Mbe(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],c={};let d,f,g=-1,m=r,y=0,_=0;const A=[_];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(d=n.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=r;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(_=g+1,A.push(_),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),g=A.length;g--;){const I=l.slice(A[g],A[g+1]),O=s.pop();u.push([O,O+I.length-1]),e.splice(O,2,I)}for(u.reverse(),g=-1;++g<u.length;)c[y+u[g][0]]=y+u[g][1],y+=u[g][1]-u[g][0]-1;return c}a(Mbe,"subcontent");const Obe={resolve:Lbe,tokenize:Dbe},Rbe={partial:!0,tokenize:jbe};function Lbe(e){return gz(e),e}a(Lbe,"resolveContent");function Dbe(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):Ht(l)?e.check(Rbe,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}a(Dbe,"tokenizeContent");function jbe(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),hr(e,s,"linePrefix")}function s(o){if(o===null||Ht(o))return r(o);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}a(jbe,"tokenizeContinuation");function bz(e,t,r,n,i,s,o,l,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(I){return I===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(I),e.exit(s),g):I===null||I===32||I===41||gp(I)?r(I):(e.enter(n),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),_(I))}function g(I){return I===62?(e.enter(s),e.consume(I),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(I))}function m(I){return I===62?(e.exit("chunkString"),e.exit(l),g(I)):I===null||I===60||Ht(I)?r(I):(e.consume(I),I===92?y:m)}function y(I){return I===60||I===62||I===92?(e.consume(I),m):m(I)}function _(I){return!d&&(I===null||I===41||Or(I))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(n),t(I)):d<c&&I===40?(e.consume(I),d++,_):I===41?(e.consume(I),d--,_):I===null||I===32||I===40||gp(I)?r(I):(e.consume(I),I===92?A:_)}function A(I){return I===40||I===41||I===92?(e.consume(I),_):_(I)}}a(bz,"factoryDestination");function vz(e,t,r,n,i,s){const o=this;let l=0,u;return c;function c(m){return e.enter(n),e.enter(i),e.consume(m),e.exit(i),e.enter(s),d}function d(m){return l>999||m===null||m===91||m===93&&!u||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?r(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(n),t):Ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ht(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),u||(u=!pr(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}a(vz,"factoryLabel");function yz(e,t,r,n,i,s){let o;return l;function l(g){return g===34||g===39||g===40?(e.enter(n),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,u):r(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):(e.enter(s),c(g))}function c(g){return g===o?(e.exit(s),u(o)):g===null?r(g):Ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),hr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||Ht(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?f:d)}function f(g){return g===o||g===92?(e.consume(g),d):d(g)}}a(yz,"factoryTitle");function cd(e,t){let r;return n;function n(i){return Ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):pr(i)?hr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}a(cd,"factoryWhitespace");const Pbe={name:"definition",tokenize:Bbe},zbe={partial:!0,tokenize:Fbe};function Bbe(e,t,r){const n=this;let i;return s;function s(m){return e.enter("definition"),o(m)}function o(m){return vz.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=ba(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):r(m)}function u(m){return Or(m)?cd(e,c)(m):c(m)}function c(m){return bz(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(zbe,f,f)(m)}function f(m){return pr(m)?hr(e,g,"whitespace")(m):g(m)}function g(m){return m===null||Ht(m)?(e.exit("definition"),n.parser.defined.push(i),t(m)):r(m)}}a(Bbe,"tokenizeDefinition");function Fbe(e,t,r){return n;function n(l){return Or(l)?cd(e,i)(l):r(l)}function i(l){return yz(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return pr(l)?hr(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Ht(l)?t(l):r(l)}}a(Fbe,"tokenizeTitleBefore");const Ube={name:"hardBreakEscape",tokenize:Hbe};function Hbe(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ht(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}a(Hbe,"tokenizeHardBreakEscape");const Gbe={name:"headingAtx",resolve:Vbe,tokenize:Kbe};function Vbe(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Bn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}a(Vbe,"resolveHeadingAtx");function Kbe(e,t,r){let n=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&n++<6?(e.consume(d),o):d===null||Or(d)?(e.exit("atxHeadingSequence"),l(d)):r(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||Ht(d)?(e.exit("atxHeading"),t(d)):pr(d)?hr(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||Or(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}a(Kbe,"tokenizeHeadingAtx");const Zbe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MS=["pre","script","style","textarea"],Ybe={concrete:!0,name:"htmlFlow",resolveTo:Wbe,tokenize:Xbe},$be={partial:!0,tokenize:qbe},Qbe={partial:!0,tokenize:Jbe};function Wbe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}a(Wbe,"resolveToHtmlFlow");function Xbe(e,t,r){const n=this;let i,s,o,l,u;return c;function c(M){return d(M)}function d(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),f}function f(M){return M===33?(e.consume(M),g):M===47?(e.consume(M),s=!0,_):M===63?(e.consume(M),i=3,n.interrupt?t:p):Jn(M)?(e.consume(M),o=String.fromCharCode(M),A):r(M)}function g(M){return M===45?(e.consume(M),i=2,m):M===91?(e.consume(M),i=5,l=0,y):Jn(M)?(e.consume(M),i=4,n.interrupt?t:p):r(M)}function m(M){return M===45?(e.consume(M),n.interrupt?t:p):r(M)}function y(M){const U="CDATA[";return M===U.charCodeAt(l++)?(e.consume(M),l===U.length?n.interrupt?t:h:y):r(M)}function _(M){return Jn(M)?(e.consume(M),o=String.fromCharCode(M),A):r(M)}function A(M){if(M===null||M===47||M===62||Or(M)){const U=M===47,B=o.toLowerCase();return!U&&!s&&MS.includes(B)?(i=1,n.interrupt?t(M):h(M)):Zbe.includes(o.toLowerCase())?(i=6,U?(e.consume(M),I):n.interrupt?t(M):h(M)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(M):s?O(M):R(M))}return M===45||Hn(M)?(e.consume(M),o+=String.fromCharCode(M),A):r(M)}function I(M){return M===62?(e.consume(M),n.interrupt?t:h):r(M)}function O(M){return pr(M)?(e.consume(M),O):F(M)}function R(M){return M===47?(e.consume(M),F):M===58||M===95||Jn(M)?(e.consume(M),L):pr(M)?(e.consume(M),R):F(M)}function L(M){return M===45||M===46||M===58||M===95||Hn(M)?(e.consume(M),L):D(M)}function D(M){return M===61?(e.consume(M),P):pr(M)?(e.consume(M),D):R(M)}function P(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),u=M,Z):pr(M)?(e.consume(M),P):V(M)}function Z(M){return M===u?(e.consume(M),u=null,W):M===null||Ht(M)?r(M):(e.consume(M),Z)}function V(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Or(M)?D(M):(e.consume(M),V)}function W(M){return M===47||M===62||pr(M)?R(M):r(M)}function F(M){return M===62?(e.consume(M),Y):r(M)}function Y(M){return M===null||Ht(M)?h(M):pr(M)?(e.consume(M),Y):r(M)}function h(M){return M===45&&i===2?(e.consume(M),E):M===60&&i===1?(e.consume(M),T):M===62&&i===4?(e.consume(M),S):M===63&&i===3?(e.consume(M),p):M===93&&i===5?(e.consume(M),k):Ht(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($be,C,w)(M)):M===null||Ht(M)?(e.exit("htmlFlowData"),w(M)):(e.consume(M),h)}function w(M){return e.check(Qbe,b,C)(M)}function b(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),x}function x(M){return M===null||Ht(M)?w(M):(e.enter("htmlFlowData"),h(M))}function E(M){return M===45?(e.consume(M),p):h(M)}function T(M){return M===47?(e.consume(M),o="",N):h(M)}function N(M){if(M===62){const U=o.toLowerCase();return MS.includes(U)?(e.consume(M),S):h(M)}return Jn(M)&&o.length<8?(e.consume(M),o+=String.fromCharCode(M),N):h(M)}function k(M){return M===93?(e.consume(M),p):h(M)}function p(M){return M===62?(e.consume(M),S):M===45&&i===2?(e.consume(M),p):h(M)}function S(M){return M===null||Ht(M)?(e.exit("htmlFlowData"),C(M)):(e.consume(M),S)}function C(M){return e.exit("htmlFlow"),t(M)}}a(Xbe,"tokenizeHtmlFlow");function Jbe(e,t,r){const n=this;return i;function i(o){return Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):r(o)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}a(Jbe,"tokenizeNonLazyContinuationStart");function qbe(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(zf,t,r)}}a(qbe,"tokenizeBlankLineBefore");const eve={name:"htmlText",tokenize:tve};function tve(e,t,r){const n=this;let i,s,o;return l;function l(p){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(p),u}function u(p){return p===33?(e.consume(p),c):p===47?(e.consume(p),D):p===63?(e.consume(p),R):Jn(p)?(e.consume(p),V):r(p)}function c(p){return p===45?(e.consume(p),d):p===91?(e.consume(p),s=0,y):Jn(p)?(e.consume(p),O):r(p)}function d(p){return p===45?(e.consume(p),m):r(p)}function f(p){return p===null?r(p):p===45?(e.consume(p),g):Ht(p)?(o=f,T(p)):(e.consume(p),f)}function g(p){return p===45?(e.consume(p),m):f(p)}function m(p){return p===62?E(p):p===45?g(p):f(p)}function y(p){const S="CDATA[";return p===S.charCodeAt(s++)?(e.consume(p),s===S.length?_:y):r(p)}function _(p){return p===null?r(p):p===93?(e.consume(p),A):Ht(p)?(o=_,T(p)):(e.consume(p),_)}function A(p){return p===93?(e.consume(p),I):_(p)}function I(p){return p===62?E(p):p===93?(e.consume(p),I):_(p)}function O(p){return p===null||p===62?E(p):Ht(p)?(o=O,T(p)):(e.consume(p),O)}function R(p){return p===null?r(p):p===63?(e.consume(p),L):Ht(p)?(o=R,T(p)):(e.consume(p),R)}function L(p){return p===62?E(p):R(p)}function D(p){return Jn(p)?(e.consume(p),P):r(p)}function P(p){return p===45||Hn(p)?(e.consume(p),P):Z(p)}function Z(p){return Ht(p)?(o=Z,T(p)):pr(p)?(e.consume(p),Z):E(p)}function V(p){return p===45||Hn(p)?(e.consume(p),V):p===47||p===62||Or(p)?W(p):r(p)}function W(p){return p===47?(e.consume(p),E):p===58||p===95||Jn(p)?(e.consume(p),F):Ht(p)?(o=W,T(p)):pr(p)?(e.consume(p),W):E(p)}function F(p){return p===45||p===46||p===58||p===95||Hn(p)?(e.consume(p),F):Y(p)}function Y(p){return p===61?(e.consume(p),h):Ht(p)?(o=Y,T(p)):pr(p)?(e.consume(p),Y):W(p)}function h(p){return p===null||p===60||p===61||p===62||p===96?r(p):p===34||p===39?(e.consume(p),i=p,w):Ht(p)?(o=h,T(p)):pr(p)?(e.consume(p),h):(e.consume(p),b)}function w(p){return p===i?(e.consume(p),i=void 0,x):p===null?r(p):Ht(p)?(o=w,T(p)):(e.consume(p),w)}function b(p){return p===null||p===34||p===39||p===60||p===61||p===96?r(p):p===47||p===62||Or(p)?W(p):(e.consume(p),b)}function x(p){return p===47||p===62||Or(p)?W(p):r(p)}function E(p){return p===62?(e.consume(p),e.exit("htmlTextData"),e.exit("htmlText"),t):r(p)}function T(p){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),N}function N(p){return pr(p)?hr(e,k,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):k(p)}function k(p){return e.enter("htmlTextData"),o(p)}}a(tve,"tokenizeHtmlText");const ow={name:"labelEnd",resolveAll:ave,resolveTo:sve,tokenize:ove},rve={tokenize:lve},nve={tokenize:uve},ive={tokenize:cve};function ave(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Bn(e,0,e.length,r),e}a(ave,"resolveAllLabelEnd");function sve(e,t){let r=e.length,n=0,i,s,o,l;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",c,t]],l=jn(l,e.slice(s+1,s+n+3)),l=jn(l,[["enter",d,t]]),l=jn(l,qu(t.parser.constructs.insideSpan.null,e.slice(s+n+4,o-3),t)),l=jn(l,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),l=jn(l,e.slice(o+1)),l=jn(l,[["exit",u,t]]),Bn(e,s,e.length,l),e}a(sve,"resolveToLabelEnd");function ove(e,t,r){const n=this;let i=n.events.length,s,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return l;function l(g){return s?s._inactive?f(g):(o=n.parser.defined.includes(ba(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),u):r(g)}function u(g){return g===40?e.attempt(rve,d,o?d:f)(g):g===91?e.attempt(nve,d,o?c:f)(g):o?d(g):f(g)}function c(g){return e.attempt(ive,d,f)(g)}function d(g){return t(g)}function f(g){return s._balanced=!0,r(g)}}a(ove,"tokenizeLabelEnd");function lve(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Or(f)?cd(e,s)(f):s(f)}function s(f){return f===41?d(f):bz(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Or(f)?cd(e,u)(f):d(f)}function l(f){return r(f)}function u(f){return f===34||f===39||f===40?yz(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Or(f)?cd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}a(lve,"tokenizeResource");function uve(e,t,r){const n=this;return i;function i(l){return vz.call(n,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return n.parser.defined.includes(ba(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function o(l){return r(l)}}a(uve,"tokenizeReferenceFull");function cve(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}a(cve,"tokenizeReferenceCollapsed");const dve={name:"labelStartImage",resolveAll:ow.resolveAll,tokenize:fve};function fve(e,t,r){const n=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):r(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}a(fve,"tokenizeLabelStartImage");const hve={name:"labelStartLink",resolveAll:ow.resolveAll,tokenize:pve};function pve(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}a(pve,"tokenizeLabelStartLink");const Yv={name:"lineEnding",tokenize:mve};function mve(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),hr(e,t,"linePrefix")}}a(mve,"tokenizeLineEnding");const m0={name:"thematicBreak",tokenize:gve};function gve(e,t,r){let n=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),u(c)):n>=3&&(c===null||Ht(c))?(e.exit("thematicBreak"),t(c)):r(c)}function u(c){return c===i?(e.consume(c),n++,u):(e.exit("thematicBreakSequence"),pr(c)?hr(e,l,"whitespace")(c):l(c))}}a(gve,"tokenizeThematicBreak");const ci={continuation:{tokenize:wve},exit:_ve,name:"list",tokenize:yve},bve={partial:!0,tokenize:Eve},vve={partial:!0,tokenize:xve};function yve(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(m){const y=n.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||m===n.containerState.marker:V1(m)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(m0,r,c)(m):c(m);if(!n.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return r(m)}function u(m){return V1(m)&&++o<10?(e.consume(m),u):(!n.interrupt||o<2)&&(n.containerState.marker?m===n.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):r(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||m,e.check(zf,n.interrupt?r:d,e.attempt(bve,g,f))}function d(m){return n.containerState.initialBlankLine=!0,s++,g(m)}function f(m){return pr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):r(m)}function g(m){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}a(yve,"tokenizeListStart");function wve(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(zf,i,s);function i(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,hr(e,t,"listItemIndent",n.containerState.size+1)(l)}a(i,"onBlank");function s(l){return n.containerState.furtherBlankLines||!pr(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(vve,t,o)(l))}a(s,"notBlank");function o(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,hr(e,e.attempt(ci,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}a(o,"notInCurrentItem")}a(wve,"tokenizeListContinuation");function xve(e,t,r){const n=this;return hr(e,i,"listItemIndent",n.containerState.size+1);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(s):r(s)}}a(xve,"tokenizeIndent$1");function _ve(e){e.exit(this.containerState.type)}a(_ve,"tokenizeListEnd");function Eve(e,t,r){const n=this;return hr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=n.events[n.events.length-1];return!pr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}a(Eve,"tokenizeListItemPrefixWhitespace");const OS={name:"setextUnderline",resolveTo:Sve,tokenize:kve};function Sve(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}a(Sve,"resolveToSetextUnderline");function kve(e,t,r){const n=this;let i;return s;function s(c){let d=n.events.length,f;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){f=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),pr(c)?hr(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||Ht(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}a(kve,"tokenizeSetextUnderline");const Ave={tokenize:Lve,partial:!0};function Tve(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Mve,continuation:{tokenize:Ove},exit:Rve}},text:{91:{name:"gfmFootnoteCall",tokenize:Cve},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Nve,resolveTo:Ive}}}}a(Tve,"gfmFootnote");function Nve(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!o||!o._balanced)return r(u);const c=ba(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}a(Nve,"tokenizePotentialGfmFootnoteCall");function Ive(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}a(Ive,"resolveToPotentialGfmFootnoteCall");function Cve(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,o;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!o||f===null||f===91||Or(f))return r(f);if(f===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(ba(n.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return Or(f)||(o=!0),s++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,c):c(f)}}a(Cve,"tokenizeGfmFootnoteCall");function Mve(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,o=0,l;return u;function u(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(y)}function d(y){if(o>999||y===93&&!l||y===null||y===91||Or(y))return r(y);if(y===93){e.exit("chunkString");const _=e.exit("gfmFootnoteDefinitionLabelString");return s=ba(n.sliceSerialize(_)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Or(y)||(l=!0),o++,e.consume(y),y===92?f:d}function f(y){return y===91||y===92||y===93?(e.consume(y),o++,d):d(y)}function g(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(s)||i.push(s),hr(e,m,"gfmFootnoteDefinitionWhitespace")):r(y)}function m(y){return t(y)}}a(Mve,"tokenizeDefinitionStart");function Ove(e,t,r){return e.check(zf,t,e.attempt(Ave,t,r))}a(Ove,"tokenizeDefinitionContinuation");function Rve(e){e.exit("gfmFootnoteDefinition")}a(Rve,"gfmFootnoteDefinitionEnd");function Lve(e,t,r){const n=this;return hr(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):r(s)}}a(Lve,"tokenizeIndent");function Dve(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},g=[["enter",d,l],["enter",o[c][1],l],["exit",o[c][1],l],["enter",f,l]],m=l.parser.constructs.insideSpan.null;m&&Bn(g,g.length,0,qu(m,o.slice(c+1,u),l)),Bn(g,g.length,0,[["exit",f,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",d,l]]),Bn(o,c-1,u-c+3,g),u=c+g.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}a(i,"resolveAllStrikethrough");function s(o,l,u){const c=this.previous,d=this.events;let f=0;return g;function g(y){return c===126&&d[d.length-1][1].type!=="characterEscape"?u(y):(o.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const _=Lu(c);if(y===126)return f>1?u(y):(o.consume(y),f++,m);if(f<2&&!r)return u(y);const A=o.exit("strikethroughSequenceTemporary"),I=Lu(y);return A._open=!I||I===2&&!!_,A._close=!_||_===2&&!!I,l(y)}}a(s,"tokenizeStrikethrough")}a(Dve,"gfmStrikethrough");class jve{static{a(this,"EditMap")}constructor(){this.map=[]}add(t,r,n){Pve(this,t,r,n)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Pve(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}a(Pve,"addImplementation");function zve(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}a(zve,"gfmTableAlign");function Bve(){return{flow:{null:{name:"table",tokenize:Fve,resolveAll:Uve}}}}a(Bve,"gfmTable");function Fve(e,t,r){const n=this;let i=0,s=0,o;return l;function l(F){let Y=n.events.length-1;for(;Y>-1;){const b=n.events[Y][1].type;if(b==="lineEnding"||b==="linePrefix")Y--;else break}const h=Y>-1?n.events[Y][1].type:null,w=h==="tableHead"||h==="tableRow"?P:u;return w===P&&n.parser.lazy[n.now().line]?r(F):w(F)}function u(F){return e.enter("tableHead"),e.enter("tableRow"),c(F)}function c(F){return F===124||(o=!0,s+=1),d(F)}function d(F){return F===null?r(F):Ht(F)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),m):r(F):pr(F)?hr(e,d,"whitespace")(F):(s+=1,o&&(o=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(F)))}function f(F){return F===null||F===124||Or(F)?(e.exit("data"),d(F)):(e.consume(F),F===92?g:f)}function g(F){return F===92||F===124?(e.consume(F),f):f(F)}function m(F){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(F):(e.enter("tableDelimiterRow"),o=!1,pr(F)?hr(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):y(F))}function y(F){return F===45||F===58?A(F):F===124?(o=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),_):D(F)}function _(F){return pr(F)?hr(e,A,"whitespace")(F):A(F)}function A(F){return F===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),I):F===45?(s+=1,I(F)):F===null||Ht(F)?L(F):D(F)}function I(F){return F===45?(e.enter("tableDelimiterFiller"),O(F)):D(F)}function O(F){return F===45?(e.consume(F),O):F===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(F))}function R(F){return pr(F)?hr(e,L,"whitespace")(F):L(F)}function L(F){return F===124?y(F):F===null||Ht(F)?!o||i!==s?D(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):D(F)}function D(F){return r(F)}function P(F){return e.enter("tableRow"),Z(F)}function Z(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),Z):F===null||Ht(F)?(e.exit("tableRow"),t(F)):pr(F)?hr(e,Z,"whitespace")(F):(e.enter("data"),V(F))}function V(F){return F===null||F===124||Or(F)?(e.exit("data"),Z(F)):(e.consume(F),F===92?W:V)}function W(F){return F===92||F===124?(e.consume(F),V):V(F)}}a(Fve,"tokenizeTable");function Uve(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,u=0,c,d,f;const g=new jve;for(;++r<e.length;){const m=e[r],y=m[1];m[0]==="enter"?y.type==="tableHead"?(l=!1,u!==0&&(RS(g,t,u,c,d),d=void 0,u=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(r,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,f=void 0,s=[0,0,0,0],o=[0,r+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(r,0,[["enter",d,t]])),i=y.type==="tableDelimiterRow"?2:d?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=zh(g,t,s,i,void 0,f),s=[0,0,0,0]),o[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(o[0]=o[1],f=zh(g,t,s,i,void 0,f)),s=o,o=[s[1],r,0,0])):y.type==="tableHead"?(l=!0,u=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(u=r,s[1]!==0?(o[0]=o[1],f=zh(g,t,s,i,r,f)):o[1]!==0&&(f=zh(g,t,o,i,r,f)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=r)}for(u!==0&&RS(g,t,u,c,d),g.consume(t.events),r=-1;++r<t.events.length;){const m=t.events[r];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=zve(t.events,r))}return e}a(Uve,"resolveTable");function zh(e,t,r,n,i,s){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(s.end=Object.assign({},nu(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const u=nu(t.events,r[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const c=nu(t.events,r[2]),d=nu(t.events,r[3]),f={type:l,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const g=t.events[r[2]],m=t.events[r[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,_=r[3]-r[2]-1;e.add(y,_,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},nu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}a(zh,"flushCell");function RS(e,t,r,n,i){const s=[],o=nu(t.events,r);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),n.end=Object.assign({},o),s.push(["exit",n,t]),e.add(r+1,0,s)}a(RS,"flushTableEnd");function nu(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}a(nu,"getPoint");const Hve={name:"tasklistCheck",tokenize:Vve};function Gve(){return{text:{91:Hve}}}a(Gve,"gfmTaskListItem");function Vve(e,t,r){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return Or(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):r(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return Ht(u)?t(u):pr(u)?e.check({tokenize:Kve},t,r)(u):r(u)}}a(Vve,"tokenizeTasklistCheck");function Kve(e,t,r){return hr(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}a(Kve,"spaceThenNonSpace");function Zve(e){return iz([rbe(),Tve(),Dve(e),Bve(),Gve()])}a(Zve,"gfm");const Yve={};function $ve(e){const t=this,r=e||Yve,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Zve(r)),s.push(Wge()),o.push(Xge(r))}a($ve,"remarkGfm");function Qve(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:l,mathText:o,mathTextData:l}};function e(u){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},u)}function t(){this.buffer()}function r(){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=u}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(u){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(u),d.value=c;const f=d.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function o(u){const c=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(u),d.value=c,d.data.hChildren.push({type:"text",value:c})}function l(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}a(Qve,"mathFromMarkdown");function Wve(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,o,l,u){const c=s.value||"",d=l.createTracker(u),f="$".repeat(Math.max(VP(c,"$")+1,2)),g=l.enter("mathFlow");let m=d.move(f);if(s.meta){const y=l.enter("mathFlowMeta");m+=d.move(l.safe(s.meta,{after:`
`,before:m,encode:["$"],...d.current()})),y()}return m+=d.move(`
`),c&&(m+=d.move(c+`
`)),m+=d.move(f),g(),m}a(r,"math");function n(s,o,l){let u=s.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(u);)c++;const d="$".repeat(c);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let f=-1;for(;++f<l.unsafe.length;){const g=l.unsafe[f];if(!g.atBreak)continue;const m=l.compilePattern(g);let y;for(;y=m.exec(u);){let _=y.index;u.codePointAt(_)===10&&u.codePointAt(_-1)===13&&_--,u=u.slice(0,_)+" "+u.slice(y.index+1)}}return d+u+d}a(n,"inlineMath");function i(){return"$"}a(i,"inlineMathPeek")}a(Wve,"mathToMarkdown");const Xve={tokenize:Jve,concrete:!0,name:"mathFlow"},LS={tokenize:qve,partial:!0};function Jve(e,t,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return l;function l(O){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),u(O)}function u(O){return O===36?(e.consume(O),o++,u):o<2?r(O):(e.exit("mathFlowFenceSequence"),hr(e,c,"whitespace")(O))}function c(O){return O===null||Ht(O)?f(O):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(O))}function d(O){return O===null||Ht(O)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(O)):O===36?r(O):(e.consume(O),d)}function f(O){return e.exit("mathFlowFence"),n.interrupt?t(O):e.attempt(LS,g,A)(O)}function g(O){return e.attempt({tokenize:I,partial:!0},A,m)(O)}function m(O){return(s?hr(e,y,"linePrefix",s+1):y)(O)}function y(O){return O===null?A(O):Ht(O)?e.attempt(LS,g,A)(O):(e.enter("mathFlowValue"),_(O))}function _(O){return O===null||Ht(O)?(e.exit("mathFlowValue"),y(O)):(e.consume(O),_)}function A(O){return e.exit("mathFlow"),t(O)}function I(O,R,L){let D=0;return hr(O,P,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function P(W){return O.enter("mathFlowFence"),O.enter("mathFlowFenceSequence"),Z(W)}function Z(W){return W===36?(D++,O.consume(W),Z):D<o?L(W):(O.exit("mathFlowFenceSequence"),hr(O,V,"whitespace")(W))}function V(W){return W===null||Ht(W)?(O.exit("mathFlowFence"),R(W)):L(W)}}}a(Jve,"tokenizeMathFenced");function qve(e,t,r){const n=this;return i;function i(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}a(qve,"tokenizeNonLazyContinuation");function eye(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:tye,previous:rye,name:"mathText"};function n(i,s,o){let l=0,u,c;return d;function d(_){return i.enter("mathText"),i.enter("mathTextSequence"),f(_)}function f(_){return _===36?(i.consume(_),l++,f):l<2&&!r?o(_):(i.exit("mathTextSequence"),g(_))}function g(_){return _===null?o(_):_===36?(c=i.enter("mathTextSequence"),u=0,y(_)):_===32?(i.enter("space"),i.consume(_),i.exit("space"),g):Ht(_)?(i.enter("lineEnding"),i.consume(_),i.exit("lineEnding"),g):(i.enter("mathTextData"),m(_))}function m(_){return _===null||_===32||_===36||Ht(_)?(i.exit("mathTextData"),g(_)):(i.consume(_),m)}function y(_){return _===36?(i.consume(_),u++,y):u===l?(i.exit("mathTextSequence"),i.exit("mathText"),s(_)):(c.type="mathTextData",m(_))}}a(n,"tokenizeMathText")}a(eye,"mathText");function tye(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="mathTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}a(tye,"resolveMathText");function rye(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}a(rye,"previous");function nye(e){return{flow:{36:Xve},text:{36:eye(e)}}}a(nye,"math");const iye={};function $1(e){const t=this,r=e||iye,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(nye(r)),s.push(Qve()),o.push(Wve(r))}a($1,"remarkMath");var aye=/(\*\*)([^*]*?)$/,sye=/(__)([^_]*?)$/,oye=/(\*\*\*)([^*]*?)$/,lye=/(\*)([^*]*?)$/,uye=/(_)([^_]*?)$/,cye=/(`)([^`]*?)$/,dye=/(~~)([^~]*?)$/,Fl=/^[\s_~*`]*$/,wz=/^[\s]*[-*+][\s]+$/,fye=/[\p{L}\p{N}_]/u,hye=/^```[^`\n]*```?$/,pye=/^\*{4,}$/,Io=a(e=>{if(!e)return!1;let t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||t===95?!0:fye.test(e)},"c"),qm=a(e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},"u$1"),mye=a((e,t)=>{let r=1;for(let n=t-1;n>=0;n-=1)if(e[n]==="]")r+=1;else if(e[n]==="["&&(r-=1,r===0))return n;return-1},"A"),gye=a((e,t)=>{let r=1;for(let n=t+1;n<e.length;n+=1)if(e[n]==="[")r+=1;else if(e[n]==="]"&&(r-=1,r===0))return n;return-1},"C$2"),xz=a((e,t)=>{let r=!1,n=!1;for(let i=0;i<e.length&&i<t;i+=1){if(e[i]==="\\"&&e[i+1]==="$"){i+=1;continue}e[i]==="$"&&(e[i+1]==="$"?(n=!n,i+=1,r=!1):n||(r=!r))}return r||n},"d$1"),bye=a((e,t,r)=>{if(r!==" "&&r!=="	")return!1;let n=0;for(let i=t-1;i>=0;i-=1)if(e[i]===`
`){n=i+1;break}for(let i=n;i<t;i+=1)if(e[i]!==" "&&e[i]!=="	")return!1;return!0},"R$1"),vye=a((e,t,r,n)=>!!(r==="\\"||r==="*"||n==="*"||r&&n&&Io(r)&&Io(n)||bye(e,t,n)),"y$1"),yye=a(e=>{let t=0,r=e.length;for(let n=0;n<r;n+=1){if(e[n]!=="*")continue;let i=n>0?e[n-1]:"",s=n<r-1?e[n+1]:"";vye(e,n,i,s)||(t+=1)}return t},"E$1"),wye=a((e,t,r,n)=>!!(r==="\\"||e.includes("$")&&xz(e,t)||r==="_"||n==="_"||r&&n&&Io(r)&&Io(n)),"j$1"),xye=a(e=>{let t=0,r=e.length;for(let n=0;n<r;n+=1){if(e[n]!=="_")continue;let i=n>0?e[n-1]:"",s=n<r-1?e[n+1]:"";wye(e,n,i,s)||(t+=1)}return t},"q$1"),_ye=a(e=>{let t=0,r=0;for(let n=0;n<e.length;n+=1)e[n]==="*"?r+=1:(r>=3&&(t+=Math.floor(r/3)),r=0);return r>=3&&(t+=Math.floor(r/3)),t},"z$1"),Eye=a(e=>{if(qm(e))return e;let t=e.match(aye);if(t){let r=t[2];if(!r||Fl.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),s=i===-1?0:i+1,o=e.substring(s,n);if(wz.test(o)&&r.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},"S$1"),Sye=a(e=>{let t=e.match(sye);if(t){let r=t[2];if(!r||Fl.test(r))return e;let n=e.lastIndexOf(t[1]),i=e.substring(0,n).lastIndexOf(`
`),s=i===-1?0:i+1,o=e.substring(s,n);if(wz.test(o)&&r.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},"U$2"),kye=a(e=>{for(let t=0;t<e.length;t+=1)if(e[t]==="*"&&e[t-1]!=="*"&&e[t+1]!=="*"&&e[t-1]!=="\\"){let r=t>0?e[t-1]:"",n=t<e.length-1?e[t+1]:"";if(r&&n&&Io(r)&&Io(n))continue;return t}return-1},"G$1"),Aye=a(e=>{if(qm(e)||!e.match(lye))return e;let t=kye(e);if(t===-1)return e;let r=e.substring(t+1);return!r||Fl.test(r)?e:yye(e)%2===1?`${e}*`:e},"w$1"),Tye=a(e=>{for(let t=0;t<e.length;t+=1)if(e[t]==="_"&&e[t-1]!=="_"&&e[t+1]!=="_"&&e[t-1]!=="\\"&&!xz(e,t)){let r=t>0?e[t-1]:"",n=t<e.length-1?e[t+1]:"";if(r&&n&&Io(r)&&Io(n))continue;return t}return-1},"H"),Nye=a(e=>{let t=e.length;for(;t>0&&e[t-1]===`
`;)t-=1;if(t<e.length){let r=e.slice(0,t),n=e.slice(t);return`${r}_${n}`}return`${e}_`},"J$2"),Iye=a(e=>{if(qm(e)||!e.match(uye))return e;let t=Tye(e);if(t===-1)return e;let r=e.substring(t+1);return!r||Fl.test(r)?e:xye(e)%2===1?Nye(e):e},"_$2"),Cye=a(e=>{if(qm(e)||pye.test(e))return e;let t=e.match(oye);if(t){let r=t[2];if(!r||Fl.test(r))return e;if(_ye(e)%2===1)return`${e}***`}return e},"O"),Q1=a((e,t)=>{let r=!1,n=!1;for(let i=0;i<t;i+=1){if(e.substring(i,i+3)==="```"){n=!n,i+=2;continue}!n&&e[i]==="`"&&(r=!r)}return r||n},"f"),Mye=a((e,t)=>{let r=e.substring(t,t+3)==="```",n=t>0&&e.substring(t-1,t+2)==="```",i=t>1&&e.substring(t-2,t+1)==="```";return r||n||i},"Q$2"),Oye=a(e=>{let t=0;for(let r=0;r<e.length;r+=1)e[r]==="`"&&!Mye(e,r)&&(t+=1);return t},"T$1"),Rye=a(e=>!e.match(hye)||e.includes(`
`)?null:e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e,"V$1"),Lye=a(e=>{let t=(e.match(/```/g)||[]).length;return!!(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)},"X$1"),Dye=a(e=>(e.match(/```/g)||[]).length%2===1,"Y$1"),jye=a(e=>{let t=Rye(e);if(t!==null)return t;if(Lye(e))return e;let r=e.match(cye);if(r&&!Dye(e)){let n=r[2];if(!n||Fl.test(n))return e;if(Oye(e)%2===1)return`${e}\``}return e},"N$1"),Pye=a(e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let t=e.indexOf("$$");return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},"W$1"),zye=a((e,t)=>{if(e.substring(t+2).includes(")"))return null;let r=mye(e,t);if(r===-1||Q1(e,r))return null;let n=r>0&&e[r-1]==="!",i=n?r-1:r,s=e.substring(0,i);if(n)return s;let o=e.substring(r+1,t);return`${s}[${o}](streamdown:incomplete-link)`},"Z"),Bye=a((e,t)=>{let r=t>0&&e[t-1]==="!",n=r?t-1:t;if(!e.substring(t+1).includes("]")){let i=e.substring(0,n);return r?i:`${e}](streamdown:incomplete-link)`}if(gye(e,t)===-1){let i=e.substring(0,n);return r?i:`${e}](streamdown:incomplete-link)`}return null},"v$1"),Fye=a(e=>{let t=e.lastIndexOf("](");if(t!==-1&&!Q1(e,t)){let r=zye(e,t);if(r!==null)return r}for(let r=e.length-1;r>=0;r-=1)if(e[r]==="["&&!Q1(e,r)){let n=Bye(e,r);if(n!==null)return n}return e},"L$1"),Uye=a(e=>{let t=e.match(dye);if(t){let r=t[2];if(!r||Fl.test(r))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},"F$1"),Hye=a(e=>{if(!e||typeof e!="string")return e;let t=e,r=Fye(t);return r.endsWith("](streamdown:incomplete-link)")?r:(t=r,t=Cye(t),t=Eye(t),t=Sye(t),t=Aye(t),t=Iye(t),t=jye(t),t=Uye(t),t=Pye(t),t)},"x$2"),Gye=Hye;const Vye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zye={};function DS(e,t){return(Zye.jsx?Kye:Vye).test(e)}a(DS,"name");const Yye=/[ \t\n\f\r]/g;function $ye(e){return typeof e=="object"?e.type==="text"?jS(e.value):!1:jS(e)}a($ye,"whitespace");function jS(e){return e.replace(Yye,"")===""}a(jS,"empty");var eu={},$v,PS;function Qye(){if(PS)return $v;PS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,c="/",d="*",f="",g="comment",m="declaration";function y(A,I){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];I=I||{};var O=1,R=1;function L(b){var x=b.match(t);x&&(O+=x.length);var E=b.lastIndexOf(u);R=~E?b.length-E:R+b.length}a(L,"updatePosition");function D(){var b={line:O,column:R};return function(x){return x.position=new P(b),W(),x}}a(D,"position");function P(b){this.start=b,this.end={line:O,column:R},this.source=I.source}a(P,"Position"),P.prototype.content=A;function Z(b){var x=new Error(I.source+":"+O+":"+R+": "+b);if(x.reason=b,x.filename=I.source,x.line=O,x.column=R,x.source=A,!I.silent)throw x}a(Z,"error");function V(b){var x=b.exec(A);if(x){var E=x[0];return L(E),A=A.slice(E.length),x}}a(V,"match");function W(){V(r)}a(W,"whitespace");function F(b){var x;for(b=b||[];x=Y();)x!==!1&&b.push(x);return b}a(F,"comments");function Y(){var b=D();if(!(c!=A.charAt(0)||d!=A.charAt(1))){for(var x=2;f!=A.charAt(x)&&(d!=A.charAt(x)||c!=A.charAt(x+1));)++x;if(x+=2,f===A.charAt(x-1))return Z("End of comment missing");var E=A.slice(2,x-2);return R+=2,L(E),A=A.slice(x),R+=2,b({type:g,comment:E})}}a(Y,"comment");function h(){var b=D(),x=V(n);if(x){if(Y(),!V(i))return Z("property missing ':'");var E=V(s),T=b({type:m,property:_(x[0].replace(e,f)),value:E?_(E[0].replace(e,f)):f});return V(o),T}}a(h,"declaration");function w(){var b=[];F(b);for(var x;x=h();)x!==!1&&(b.push(x),F(b));return b}return a(w,"declarations"),W(),w()}a(y,"index");function _(A){return A?A.replace(l,f):f}return a(_,"trim"),$v=y,$v}a(Qye,"requireCjs$2");var zS;function Wye(){if(zS)return eu;zS=1;var e=eu&&eu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eu,"__esModule",{value:!0}),eu.default=r;const t=e(Qye());function r(n,i){let s=null;if(!n||typeof n!="string")return s;const o=(0,t.default)(n),l=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:c,value:d}=u;l?i(c,d,u):d&&(s=s||{},s[c]=d)}),s}return a(r,"StyleToObject"),eu}a(Wye,"requireCjs$1");var Rc={},BS;function Xye(){if(BS)return Rc;BS=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=a(function(c){return!c||r.test(c)||e.test(c)},"skipCamelCase"),o=a(function(c,d){return d.toUpperCase()},"capitalize"),l=a(function(c,d){return"".concat(d,"-")},"trimHyphen"),u=a(function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,l):c=c.replace(n,l),c.replace(t,o))},"camelCase");return Rc.camelCase=u,Rc}a(Xye,"requireUtilities");var Lc,FS;function Jye(){if(FS)return Lc;FS=1;var e=Lc&&Lc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Wye()),r=Xye();function n(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(l,u){l&&u&&(o[(0,r.camelCase)(l,s)]=u)}),o}return a(n,"StyleToJS"),n.default=n,Lc=n,Lc}a(Jye,"requireCjs");var qye=Jye();const e1e=Du(qye);function dd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?US(e.position):"start"in e||"end"in e?US(e):"line"in e||"column"in e?W1(e):""}a(dd,"stringifyPosition");function W1(e){return HS(e&&e.line)+":"+HS(e&&e.column)}a(W1,"point$1");function US(e){return W1(e&&e.start)+"-"+W1(e&&e.end)}a(US,"position");function HS(e){return e&&typeof e=="number"?e:1}a(HS,"index");class Zn extends Error{static{a(this,"VFileMessage")}constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},o=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?s.ruleId=n:(s.source=n.slice(0,u),s.ruleId=n.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=dd(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zn.prototype.file="";Zn.prototype.name="";Zn.prototype.reason="";Zn.prototype.message="";Zn.prototype.stack="";Zn.prototype.column=void 0;Zn.prototype.line=void 0;Zn.prototype.ancestors=void 0;Zn.prototype.cause=void 0;Zn.prototype.fatal=void 0;Zn.prototype.place=void 0;Zn.prototype.ruleId=void 0;Zn.prototype.source=void 0;const lw={}.hasOwnProperty,t1e=new Map,r1e=/[A-Z]/g,n1e=new Set(["table","tbody","thead","tfoot","tr"]),i1e=new Set(["td","th"]),_z="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function a1e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=h1e(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=f1e(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lo:Of,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Ez(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}a(a1e,"toJsxRuntime");function Ez(e,t,r){if(t.type==="element")return s1e(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return o1e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return u1e(e,t,r);if(t.type==="mdxjsEsm")return l1e(e,t);if(t.type==="root")return c1e(e,t,r);if(t.type==="text")return d1e(e,t)}a(Ez,"one");function s1e(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Lo,e.schema=i),e.ancestors.push(t);const s=kz(e,t.tagName,!1),o=p1e(e,t);let l=cw(e,t);return n1e.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!$ye(u):!0})),Sz(e,o,s,t),uw(o,l),e.ancestors.pop(),e.schema=n,e.create(t,s,o,r)}a(s1e,"element");function o1e(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}nf(e,t.position)}a(o1e,"mdxExpression");function l1e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);nf(e,t.position)}a(l1e,"mdxEsm");function u1e(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Lo,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:kz(e,t.name,!0),o=m1e(e,t),l=cw(e,t);return Sz(e,o,s,t),uw(o,l),e.ancestors.pop(),e.schema=n,e.create(t,s,o,r)}a(u1e,"mdxJsxElement");function c1e(e,t,r){const n={};return uw(n,cw(e,t)),e.create(t,e.Fragment,n,r)}a(c1e,"root$1");function d1e(e,t){return t.value}a(d1e,"text$3");function Sz(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}a(Sz,"addNode");function uw(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}a(uw,"addChildren");function f1e(e,t,r){return n;function n(i,s,o,l){const c=Array.isArray(o.children)?r:t;return l?c(s,o,l):c(s,o)}}a(f1e,"productionCreate");function h1e(e,t){return r;function r(n,i,s,o){const l=Array.isArray(s.children),u=us(n);return t(i,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}a(h1e,"developmentCreate");function p1e(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&lw.call(t.properties,i)){const s=g1e(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&i1e.has(t.tagName)?n=l:r[o]=l}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}a(p1e,"createElementProps");function m1e(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else nf(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else nf(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}a(m1e,"createJsxElementProps");function cw(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:t1e;for(;++n<t.children.length;){const s=t.children[n];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=i.get(u)||0;o=u+"-"+c,i.set(u,c+1)}}const l=Ez(e,s,o);l!==void 0&&r.push(l)}return r}a(cw,"createChildren");function g1e(e,t,r){const n=zm(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?D9(r):j9(r)),n.property==="style"){let i=typeof r=="object"?r:b1e(e,String(r));return e.stylePropertyNameCase==="css"&&(i=v1e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?HF[n.property]||n.property:n.attribute,r]}}a(g1e,"createProperty");function b1e(e,t){try{return e1e(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Zn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=_z+"#cannot-parse-style-attribute",i}}a(b1e,"parseStyle");function kz(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=DS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}n=o}else n=DS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return lw.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);nf(e)}a(kz,"findComponentFromName");function nf(e,t){const r=new Zn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=_z+"#cannot-handle-mdx-estrees-without-createevaluater",r}a(nf,"crashEstree");function v1e(e){const t={};let r;for(r in e)lw.call(e,r)&&(t[y1e(r)]=e[r]);return t}a(v1e,"transformStylesToCssCasing");function y1e(e){let t=e.replace(r1e,w1e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}a(y1e,"transformStyleToCssCasing");function w1e(e){return"-"+e.toLowerCase()}a(w1e,"toDash");const x1e={tokenize:_1e};function _1e(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),hr(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ht(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}a(_1e,"initializeContent");const E1e={tokenize:S1e},GS={tokenize:k1e};function S1e(e){const t=this,r=[];let n=0,i,s,o;return l;function l(R){if(n<r.length){const L=r[n];return t.containerState=L[1],e.attempt(L[0].continuation,u,c)(R)}return c(R)}function u(R){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&O();const L=t.events.length;let D=L,P;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){P=t.events[D][1].end;break}I(n);let Z=L;for(;Z<t.events.length;)t.events[Z][1].end={...P},Z++;return Bn(t.events,D+1,0,t.events.slice(L)),t.events.length=Z,c(R)}return l(R)}function c(R){if(n===r.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return y(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(GS,d,f)(R)}function d(R){return i&&O(),I(n),g(R)}function f(R){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,y(R)}function g(R){return t.containerState={},e.attempt(GS,m,y)(R)}function m(R){return n++,r.push([t.currentConstruct,t.containerState]),g(R)}function y(R){if(R===null){i&&O(),I(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(R)}function _(R){if(R===null){A(e.exit("chunkFlow"),!0),I(0),e.consume(R);return}return Ht(R)?(e.consume(R),A(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(R),_)}function A(R,L){const D=t.sliceStream(R);if(L&&D.push(null),R.previous=s,s&&(s.next=R),s=R,i.defineSkip(R.start),i.write(D),t.parser.lazy[R.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<o&&(!i.events[P][1].end||i.events[P][1].end.offset>o))return;const Z=t.events.length;let V=Z,W,F;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){if(W){F=t.events[V][1].end;break}W=!0}for(I(n),P=Z;P<t.events.length;)t.events[P][1].end={...F},P++;Bn(t.events,V+1,0,t.events.slice(Z)),t.events.length=P}}function I(R){let L=r.length;for(;L-- >R;){const D=r[L];t.containerState=D[1],D[0].exit.call(t,e)}r.length=R}function O(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}a(S1e,"initializeDocument");function k1e(e,t,r){return hr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}a(k1e,"tokenizeContainer");const A1e={tokenize:T1e};function T1e(e){const t=this,r=e.attempt(zf,n,e.attempt(this.parser.constructs.flowInitial,i,hr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Obe,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}a(T1e,"initializeFlow");const N1e={resolveAll:Tz()},I1e=Az("string"),C1e=Az("text");function Az(e){return{resolveAll:Tz(e==="text"?M1e:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,o,l);return o;function o(d){return c(d)?s(d):l(d)}function l(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),u}function u(d){return c(d)?(r.exit("data"),s(d)):(r.consume(d),u)}function c(d){if(d===null)return!0;const f=i[d];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(n,n.previous))return!0}return!1}}}a(Az,"initializeFactory");function Tz(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}a(Tz,"createResolver");function M1e(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,o=-1,l=0,u;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const c={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:n.start._bufferIndex+o,_index:n.start._index+s,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}a(M1e,"resolveAllLineSuffixes");const O1e={42:ci,43:ci,45:ci,48:ci,49:ci,50:ci,51:ci,52:ci,53:ci,54:ci,55:ci,56:ci,57:ci,62:hz},R1e={91:Pbe},L1e={[-2]:Zv,[-1]:Zv,32:Zv},D1e={35:Gbe,42:m0,45:[OS,m0],60:Ybe,61:OS,95:m0,96:CS,126:CS},j1e={38:mz,92:pz},P1e={[-5]:Yv,[-4]:Yv,[-3]:Yv,33:dve,38:mz,42:Y1,60:[hbe,eve],91:hve,92:[Ube,pz],93:ow,95:Y1,96:Abe},z1e={null:[Y1,N1e]},B1e={null:[42,95]},F1e={null:[]},U1e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:B1e,contentInitial:R1e,disable:F1e,document:O1e,flow:D1e,flowInitial:L1e,insideSpan:z1e,string:j1e,text:P1e},Symbol.toStringTag,{value:"Module"}));function H1e(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let o=[],l=[];const u={attempt:Z(D),check:Z(P),consume:O,enter:R,exit:L,interrupt:Z(P,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:y,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let d=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function f(Y){return o=jn(o,Y),A(),o[o.length-1]!==null?[]:(V(t,0),c.events=qu(s,c.events,c),c.events)}a(f,"write");function g(Y,h){return V1e(m(Y),h)}a(g,"sliceSerialize");function m(Y){return G1e(o,Y)}a(m,"sliceStream");function y(){const{_bufferIndex:Y,_index:h,line:w,column:b,offset:x}=n;return{_bufferIndex:Y,_index:h,line:w,column:b,offset:x}}a(y,"now");function _(Y){i[Y.line]=Y.column,F()}a(_,"defineSkip");function A(){let Y;for(;n._index<o.length;){const h=o[n._index];if(typeof h=="string")for(Y=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===Y&&n._bufferIndex<h.length;)I(h.charCodeAt(n._bufferIndex));else I(h)}}a(A,"main");function I(Y){d=d(Y)}a(I,"go");function O(Y){Ht(Y)?(n.line++,n.column=1,n.offset+=Y===-3?2:1,F()):Y!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=Y}a(O,"consume");function R(Y,h){const w=h||{};return w.type=Y,w.start=y(),c.events.push(["enter",w,c]),l.push(w),w}a(R,"enter");function L(Y){const h=l.pop();return h.end=y(),c.events.push(["exit",h,c]),h}a(L,"exit");function D(Y,h){V(Y,h.from)}a(D,"onsuccessfulconstruct");function P(Y,h){h.restore()}a(P,"onsuccessfulcheck");function Z(Y,h){return w;function w(b,x,E){let T,N,k,p;return Array.isArray(b)?C(b):"tokenize"in b?C([b]):S(b);function S(G){return J;function J(ue){const se=ue!==null&&G[ue],oe=ue!==null&&G.null,Pe=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return C(Pe)(ue)}}function C(G){return T=G,N=0,G.length===0?E:M(G[N])}function M(G){return J;function J(ue){return p=W(),k=G,G.partial||(c.currentConstruct=G),G.name&&c.parser.constructs.disable.null.includes(G.name)?B():G.tokenize.call(h?Object.assign(Object.create(c),h):c,u,U,B)(ue)}}function U(G){return Y(k,p),x}function B(G){return p.restore(),++N<T.length?M(T[N]):E}}}a(Z,"constructFactory");function V(Y,h){Y.resolveAll&&!s.includes(Y)&&s.push(Y),Y.resolve&&Bn(c.events,h,c.events.length-h,Y.resolve(c.events.slice(h),c)),Y.resolveTo&&(c.events=Y.resolveTo(c.events,c))}a(V,"addResult");function W(){const Y=y(),h=c.previous,w=c.currentConstruct,b=c.events.length,x=Array.from(l);return{from:b,restore:E};function E(){n=Y,c.previous=h,c.currentConstruct=w,c.events.length=b,l=x,F()}}a(W,"store");function F(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}a(F,"accountForPotentialSkip")}a(H1e,"createTokenizer");function G1e(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,s)];else{if(o=e.slice(r,i),n>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(n):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}a(G1e,"sliceChunks");function V1e(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,n.push(o)}return n.join("")}a(V1e,"serializeChunks");function K1e(e){const n={constructs:iz([U1e,...(e||{}).extensions||[]]),content:i(x1e),defined:[],document:i(E1e),flow:i(A1e),lazy:{},string:i(I1e),text:i(C1e)};return n;function i(s){return o;function o(l){return H1e(n,s,l)}}}a(K1e,"parse");function Z1e(e){for(;!gz(e););return e}a(Z1e,"postprocess");const VS=/[\0\t\n\r]/g;function Y1e(){let e=1,t="",r=!0,n;return i;function i(s,o,l){const u=[];let c,d,f,g,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",r&&(s.charCodeAt(0)===65279&&f++,r=void 0);f<s.length;){if(VS.lastIndex=f,c=VS.exec(s),g=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(g),!c){t=s.slice(f);break}if(m===10&&f===g&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),f<g&&(u.push(s.slice(f,g)),e+=g-f),m){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}f=g+1}return l&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}a(Y1e,"preprocess");const Nz={}.hasOwnProperty;function $1e(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Q1e(r)(Z1e(K1e(r).document().write(Y1e()(e,t,!0))))}a($1e,"fromMarkdown");function Q1e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(me),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(X),blockQuote:s(oe),characterEscape:W,characterReference:W,codeFenced:s(Pe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Pe,o),codeText:s(Ee,o),codeTextData:W,data:W,codeFlowValue:W,definition:s(be),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ce),hardBreakEscape:s(ce),hardBreakTrailing:s(ce),htmlFlow:s(te,o),htmlFlowData:W,htmlText:s(te,o),htmlTextData:W,image:s(ie),label:o,link:s(me),listItem:s(Oe),listItemValue:g,listOrdered:s(xe,f),listUnordered:s(xe),paragraph:s(de),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(X),strong:s(Q),thematicBreak:s(q)},exit:{atxHeading:u(),atxHeadingSequence:D,autolink:u(),autolinkEmail:se,autolinkProtocol:ue,blockQuote:u(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:G,characterReference:J,codeFenced:u(A),codeFencedFence:_,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:u(I),codeText:u(x),codeTextData:F,data:F,definition:u(),definitionDestinationString:L,definitionLabelString:O,definitionTitleString:R,emphasis:u(),hardBreakEscape:u(h),hardBreakTrailing:u(h),htmlFlow:u(w),htmlFlowData:F,htmlText:u(b),htmlTextData:F,image:u(T),label:k,labelText:N,lineEnding:Y,link:u(E),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:U,resourceDestinationString:p,resourceTitleString:S,resource:C,setextHeading:u(V),setextHeadingLineSequence:Z,setextHeadingText:P,strong:u(),thematicBreak:u()}};Iz(t,(e||{}).mdastExtensions||[]);const r={};return n;function n($){let re={type:"root",children:[]};const ae={stack:[re],tokenStack:[],config:t,enter:l,exit:c,buffer:o,resume:d,data:r},Be=[];let Ie=-1;for(;++Ie<$.length;)if($[Ie][1].type==="listOrdered"||$[Ie][1].type==="listUnordered")if($[Ie][0]==="enter")Be.push(Ie);else{const Ke=Be.pop();Ie=i($,Ke,Ie)}for(Ie=-1;++Ie<$.length;){const Ke=t[$[Ie][0]];Nz.call(Ke,$[Ie][1].type)&&Ke[$[Ie][1].type].call(Object.assign({sliceSerialize:$[Ie][2].sliceSerialize},ae),$[Ie][1])}if(ae.tokenStack.length>0){const Ke=ae.tokenStack[ae.tokenStack.length-1];(Ke[1]||KS).call(ae,void 0,Ke[0])}for(re.position={start:lo($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:lo($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<t.transforms.length;)re=t.transforms[Ie](re)||re;return re}function i($,re,ae){let Be=re-1,Ie=-1,Ke=!1,kt,Te,Xe,we;for(;++Be<=ae;){const Ne=$[Be];switch(Ne[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ne[0]==="enter"?Ie++:Ie--,we=void 0;break}case"lineEndingBlank":{Ne[0]==="enter"&&(kt&&!we&&!Ie&&!Xe&&(Xe=Be),we=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:we=void 0}if(!Ie&&Ne[0]==="enter"&&Ne[1].type==="listItemPrefix"||Ie===-1&&Ne[0]==="exit"&&(Ne[1].type==="listUnordered"||Ne[1].type==="listOrdered")){if(kt){let Fe=Be;for(Te=void 0;Fe--;){const Ze=$[Fe];if(Ze[1].type==="lineEnding"||Ze[1].type==="lineEndingBlank"){if(Ze[0]==="exit")continue;Te&&($[Te][1].type="lineEndingBlank",Ke=!0),Ze[1].type="lineEnding",Te=Fe}else if(!(Ze[1].type==="linePrefix"||Ze[1].type==="blockQuotePrefix"||Ze[1].type==="blockQuotePrefixWhitespace"||Ze[1].type==="blockQuoteMarker"||Ze[1].type==="listItemIndent"))break}Xe&&(!Te||Xe<Te)&&(kt._spread=!0),kt.end=Object.assign({},Te?$[Te][1].start:Ne[1].end),$.splice(Te||Be,0,["exit",kt,Ne[2]]),Be++,ae++}if(Ne[1].type==="listItemPrefix"){const Fe={type:"listItem",_spread:!1,start:Object.assign({},Ne[1].start),end:void 0};kt=Fe,$.splice(Be,0,["enter",Fe,Ne[2]]),Be++,ae++,Xe=void 0,we=!0}}}return $[re][1]._spread=Ke,ae}function s($,re){return ae;function ae(Be){l.call(this,$(Be),Be),re&&re.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function l($,re,ae){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([re,ae||void 0]),$.position={start:lo(re.start),end:void 0}}function u($){return re;function re(ae){$&&$.call(this,ae),c.call(this,ae)}}function c($,re){const ae=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==$.type&&(re?re.call(this,$,Be[0]):(Be[1]||KS).call(this,$,Be[0]));else throw new Error("Cannot close `"+$.type+"` ("+dd({start:$.start,end:$.end})+"): its not open");ae.position.end=lo($.end)}function d(){return nw(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g($){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function m(){const $=this.resume(),re=this.stack[this.stack.length-1];re.lang=$}function y(){const $=this.resume(),re=this.stack[this.stack.length-1];re.meta=$}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$.replace(/(\r?\n|\r)$/g,"")}function O($){const re=this.resume(),ae=this.stack[this.stack.length-1];ae.label=re,ae.identifier=ba(this.sliceSerialize($)).toLowerCase()}function R(){const $=this.resume(),re=this.stack[this.stack.length-1];re.title=$}function L(){const $=this.resume(),re=this.stack[this.stack.length-1];re.url=$}function D($){const re=this.stack[this.stack.length-1];if(!re.depth){const ae=this.sliceSerialize($).length;re.depth=ae}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function Z($){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function W($){const ae=this.stack[this.stack.length-1].children;let Be=ae[ae.length-1];(!Be||Be.type!=="text")&&(Be=ne(),Be.position={start:lo($.start),end:void 0},ae.push(Be)),this.stack.push(Be)}function F($){const re=this.stack.pop();re.value+=this.sliceSerialize($),re.position.end=lo($.end)}function Y($){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=re.children[re.children.length-1];ae.position.end=lo($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(re.type)&&(W.call(this,$),F.call(this,$))}function h(){this.data.atHardBreak=!0}function w(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function b(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function x(){const $=this.resume(),re=this.stack[this.stack.length-1];re.value=$}function E(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=re,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function T(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=re,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function N($){const re=this.sliceSerialize($),ae=this.stack[this.stack.length-2];ae.label=Pge(re),ae.identifier=ba(re).toLowerCase()}function k(){const $=this.stack[this.stack.length-1],re=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const Be=$.children;ae.children=Be}else ae.alt=re}function p(){const $=this.resume(),re=this.stack[this.stack.length-1];re.url=$}function S(){const $=this.resume(),re=this.stack[this.stack.length-1];re.title=$}function C(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function U($){const re=this.resume(),ae=this.stack[this.stack.length-1];ae.label=re,ae.identifier=ba(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function B($){this.data.characterReferenceType=$.type}function G($){const re=this.sliceSerialize($),ae=this.data.characterReferenceType;let Be;ae?(Be=nz(re,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=aw(re);const Ie=this.stack[this.stack.length-1];Ie.value+=Be}function J($){const re=this.stack.pop();re.position.end=lo($.end)}function ue($){F.call(this,$);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize($)}function se($){F.call(this,$);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize($)}function oe(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function te(){return{type:"html",value:""}}function ie(){return{type:"image",title:null,url:"",alt:null}}function me(){return{type:"link",title:null,url:"",children:[]}}function xe($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function Oe($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function de(){return{type:"paragraph",children:[]}}function Q(){return{type:"strong",children:[]}}function ne(){return{type:"text",value:""}}function q(){return{type:"thematicBreak"}}}a(Q1e,"compiler");function lo(e){return{line:e.line,column:e.column,offset:e.offset}}a(lo,"point");function Iz(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Iz(e,n):W1e(e,n)}}a(Iz,"configure");function W1e(e,t){let r;for(r in t)if(Nz.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}a(W1e,"extension");function KS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+dd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+dd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+dd({start:t.start,end:t.end})+") is still open")}a(KS,"defaultOnError");function X1e(e){const t=this;t.parser=r;function r(n){return $1e(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}a(r,"parser")}a(X1e,"remarkParse");function J1e(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}a(J1e,"blockquote");function q1e(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}a(q1e,"hardBreak");function e2e(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}a(e2e,"code");function t2e(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(t2e,"strikethrough");function r2e(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(r2e,"emphasis");function n2e(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=ec(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let o,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(n,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}a(n2e,"footnoteReference");function i2e(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(i2e,"heading");function a2e(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}a(a2e,"html");function Cz(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}a(Cz,"revert");function s2e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Cz(e,t);const i={src:ec(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}a(s2e,"imageReference");function o2e(e,t){const r={src:ec(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}a(o2e,"image");function l2e(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}a(l2e,"inlineCode");function u2e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return Cz(e,t);const i={href:ec(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}a(u2e,"linkReference");function c2e(e,t){const r={href:ec(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}a(c2e,"link");function d2e(e,t,r){const n=e.all(t),i=r?f2e(r):Mz(t),s={},o=[];if(typeof t.checked=="boolean"){const d=n[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const d=n[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const u=n[n.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}a(d2e,"listItem");function f2e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Mz(r[n])}return t}a(f2e,"listLoose");function Mz(e){const t=e.spread;return t??e.children.length>1}a(Mz,"listItemLoose");function h2e(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}a(h2e,"list");function p2e(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(p2e,"paragraph");function m2e(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}a(m2e,"root");function g2e(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(g2e,"strong");function b2e(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=us(t.children[1]),u=Xm(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}a(b2e,"table");function v2e(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,l=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<l;){const f=t.children[u],g={},m=o?o[u]:void 0;m&&(g.align=m);let y={type:"element",tagName:s,properties:g,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}a(v2e,"tableRow");function y2e(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}a(y2e,"tableCell");const ZS=9,YS=32;function w2e(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push($S(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push($S(t.slice(i),i>0,!1)),s.join("")}a(w2e,"trimLines");function $S(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===ZS||s===YS;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===ZS||s===YS;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}a($S,"trimLine");function x2e(e,t){const r={type:"text",value:w2e(String(t.value))};return e.patch(t,r),e.applyData(t,r)}a(x2e,"text");function _2e(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}a(_2e,"thematicBreak");const E2e={blockquote:J1e,break:q1e,code:e2e,delete:t2e,emphasis:r2e,footnoteReference:n2e,heading:i2e,html:a2e,imageReference:s2e,image:o2e,inlineCode:l2e,linkReference:u2e,link:c2e,listItem:d2e,list:h2e,paragraph:p2e,root:m2e,strong:g2e,table:b2e,tableCell:y2e,tableRow:v2e,text:x2e,thematicBreak:_2e,toml:Bh,yaml:Bh,definition:Bh,footnoteDefinition:Bh};function Bh(){}a(Bh,"ignore");function S2e(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}a(S2e,"defaultFootnoteBackContent");function k2e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}a(k2e,"defaultFootnoteBackLabel");function A2e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||S2e,n=e.options.footnoteBackLabel||k2e,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),g=ec(f.toLowerCase());let m=0;const y=[],_=e.footnoteCounts.get(f);for(;_!==void 0&&++m<=_;){y.length>0&&y.push({type:"text",value:" "});let O=typeof r=="string"?r:r(u,m);typeof O=="string"&&(O={type:"text",value:O}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,m),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const O=A.children[A.children.length-1];O&&O.type==="text"?O.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...y)}else d.push(...y);const I={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(c,I),l.push(I)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Mu(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}a(A2e,"footer");const X1={}.hasOwnProperty,T2e={};function N2e(e,t){const r=t||T2e,n=new Map,i=new Map,s=new Map,o={...E2e,...r.handlers},l={all:c,applyData:C2e,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:r,patch:I2e,wrap:O2e};return Iu(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?n:i,g=String(d.identifier).toUpperCase();f.has(g)||f.set(g,d)}}),l;function u(d,f){const g=d.type,m=l.handlers[g];if(X1.call(l.handlers,g)&&m)return m(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in d){const{children:_,...A}=d,I=Mu(A);return I.children=l.all(d),I}return Mu(d)}return(l.options.unknownHandler||M2e)(l,d,f)}a(u,"one");function c(d){const f=[];if("children"in d){const g=d.children;let m=-1;for(;++m<g.length;){const y=l.one(g[m],d);if(y){if(m&&g[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=QS(y.value)),!Array.isArray(y)&&y.type==="element")){const _=y.children[0];_&&_.type==="text"&&(_.value=QS(_.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}a(c,"all")}a(N2e,"createState");function I2e(e,t){e.position&&(t.position=Ipe(e))}a(I2e,"patch");function C2e(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&s&&Object.assign(r.properties,Mu(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}a(C2e,"applyData");function M2e(e,t){const r=t.data||{},n="value"in t&&!(X1.call(r,"hProperties")||X1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}a(M2e,"defaultUnknownHandler");function O2e(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}a(O2e,"wrap$1");function QS(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}a(QS,"trimMarkdownSpaceStart");function WS(e,t){const r=N2e(e,t),n=r.one(e,void 0),i=A2e(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}a(WS,"toHast");function R2e(e,t){return e&&"run"in e?async function(r,n){const i=WS(r,{file:n,...t});await e.run(i,n)}:function(r,n){return WS(r,{file:n,...e||t})}}a(R2e,"remarkRehype");function XS(e){if(e)throw e}a(XS,"bail");var Qv,JS;function L2e(){if(JS)return Qv;JS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=a(function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},"isArray"),s=a(function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},"isPlainObject"),o=a(function(c,d){r&&d.name==="__proto__"?r(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},"setProperty"),l=a(function(c,d){if(d==="__proto__")if(e.call(c,d)){if(n)return n(c,d).value}else return;return c[d]},"getProperty");return Qv=a(function u(){var c,d,f,g,m,y,_=arguments[0],A=1,I=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},A=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});A<I;++A)if(c=arguments[A],c!=null)for(d in c)f=l(_,d),g=l(c,d),_!==g&&(O&&g&&(s(g)||(m=i(g)))?(m?(m=!1,y=f&&i(f)?f:[]):y=f&&s(f)?f:{},o(_,{name:d,newValue:u(O,y,g)})):typeof g<"u"&&o(_,{name:d,newValue:g}));return _},"extend"),Qv}a(L2e,"requireExtend");var D2e=L2e();const Wv=Du(D2e);function J1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}a(J1,"isPlainObject");function j2e(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(u,...c){const d=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?P2e(d,l)(...c):o(null,...c)}a(l,"next")}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}a(j2e,"trough");function P2e(e,t){let r;return n;function n(...o){const l=e.length>o.length;let u;l&&o.push(i);try{u=e.apply(this,o)}catch(c){const d=c;if(l&&r)throw d;return i(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...l){r||(r=!0,t(o,...l))}function s(o){i(null,o)}}a(P2e,"wrap");const Pa={basename:z2e,dirname:B2e,extname:F2e,join:U2e,sep:"/"};function z2e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Bf(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(n=i):(l=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}a(z2e,"basename");function B2e(e){if(Bf(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}a(B2e,"dirname");function F2e(e){Bf(e);let t=e.length,r=-1,n=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}a(F2e,"extname");function U2e(...e){let t=-1,r;for(;++t<e.length;)Bf(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":H2e(r)}a(U2e,"join");function H2e(e){Bf(e);const t=e.codePointAt(0)===47;let r=G2e(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}a(H2e,"normalize");function G2e(e,t){let r="",n=0,i=-1,s=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}}else if(r.length>0){r="",n=0,i=o,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return r}a(G2e,"normalizeString");function Bf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}a(Bf,"assertPath$1");const V2e={cwd:K2e};function K2e(){return"/"}a(K2e,"cwd");function q1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}a(q1,"isUrl");function Z2e(e){if(typeof e=="string")e=new URL(e);else if(!q1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Y2e(e)}a(Z2e,"urlToPath");function Y2e(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}a(Y2e,"getPathFromURLPosix");const Xv=["history","path","basename","stem","extname","dirname"];class $2e{static{a(this,"VFile")}constructor(t){let r;t?q1(t)?r={path:t}:typeof t=="string"||Q2e(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":V2e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Xv.length;){const s=Xv[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Xv.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Pa.basename(this.path):void 0}set basename(t){qv(t,"basename"),Jv(t,"basename"),this.path=Pa.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pa.dirname(this.path):void 0}set dirname(t){qS(this.basename,"dirname"),this.path=Pa.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pa.extname(this.path):void 0}set extname(t){if(Jv(t,"extname"),qS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pa.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){q1(t)&&(t=Z2e(t)),qv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pa.basename(this.path,this.extname):void 0}set stem(t){qv(t,"stem"),Jv(t,"stem"),this.path=Pa.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Zn(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Jv(e,t){if(e&&e.includes(Pa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pa.sep+"`")}a(Jv,"assertPart");function qv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}a(qv,"assertNonEmpty");function qS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}a(qS,"assertPath");function Q2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}a(Q2e,"isUint8Array$1");const W2e=a((function(e){const n=this.constructor.prototype,i=n[e],s=a(function(){return i.apply(s,arguments)},"apply");return Object.setPrototypeOf(s,n),s}),"CallableInstance"),X2e={}.hasOwnProperty;class dw extends W2e{static{a(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=j2e()}copy(){const t=new dw;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Wv(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ry("data",this.frozen),this.namespace[t]=r,this):X2e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ry("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Fh(t),n=this.parser||this.Parser;return ey("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),ey("process",this.parser||this.Parser),ty("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,o){const l=Fh(t),u=n.parse(l);n.run(u,l,function(d,f,g){if(d||!f||!g)return c(d);const m=f,y=n.stringify(m,g);e4e(y)?g.value=y:g.result=y,c(d,g)});function c(d,f){d||!f?o(d):s?s(f):r(void 0,f)}a(c,"realDone")}a(i,"executor")}processSync(t){let r=!1,n;return this.freeze(),ey("processSync",this.parser||this.Parser),ty("processSync",this.compiler||this.Compiler),this.process(t,i),tk("processSync","process",r),n;function i(s,o){r=!0,XS(s),n=o}a(i,"realDone")}run(t,r,n){ek(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(o,l){const u=Fh(r);i.run(t,u,c);function c(d,f,g){const m=f||t;d?l(d):o?o(m):n(void 0,m,g)}a(c,"realDone")}a(s,"executor")}runSync(t,r){let n=!1,i;return this.run(t,r,s),tk("runSync","run",n),i;function s(o,l){XS(o),i=l,n=!0}a(s,"realDone")}stringify(t,r){this.freeze();const n=Fh(r),i=this.compiler||this.Compiler;return ty("stringify",i),ek(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(ry("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;u(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=Wv(!0,i.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let f=-1,g=-1;for(;++f<n.length;)if(n[f][0]===c){g=f;break}if(g===-1)n.push([c,...d]);else if(d.length>0){let[m,...y]=d;const _=n[g][1];J1(_)&&J1(m)&&(m=Wv(!0,_,m)),n[g]=[c,m,...y]}}}}const J2e=new dw().freeze();function ey(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}a(ey,"assertParser");function ty(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}a(ty,"assertCompiler");function ry(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}a(ry,"assertUnfrozen");function ek(e){if(!J1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}a(ek,"assertNode");function tk(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}a(tk,"assertDone");function Fh(e){return q2e(e)?e:new $2e(e)}a(Fh,"vfile");function q2e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}a(q2e,"looksLikeAVFile");function e4e(e){return typeof e=="string"||t4e(e)}a(e4e,"looksLikeAValue");function t4e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}a(t4e,"isUint8Array");function fw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}a(fw,"L");var Ul=fw();function Oz(e){Ul=e}a(Oz,"G");var fd={exec:a(()=>null,"exec")};function Sr(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:a((i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ei.caret,"$1"),r=r.replace(i,o),n},"replace"),getRegex:a(()=>new RegExp(r,t),"getRegex")};return n}a(Sr,"d");var r4e=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ei={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:a(e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),"headingBeginRegex"),htmlBeginRegex:a(e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},n4e=/^(?:[ \t]*(?:\n|$))+/,i4e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,a4e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ff=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,s4e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hw=/(?:[*+-]|\d{1,9}[.)])/,Rz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Lz=Sr(Rz).replace(/bull/g,hw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),o4e=Sr(Rz).replace(/bull/g,hw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),pw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,l4e=/^[^\n]+/,mw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,u4e=Sr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),c4e=Sr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hw).getRegex(),eg="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",gw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,d4e=Sr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",gw).replace("tag",eg).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dz=Sr(pw).replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",eg).getRegex(),f4e=Sr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Dz).getRegex(),bw={blockquote:f4e,code:i4e,def:u4e,fences:a4e,heading:s4e,hr:Ff,html:d4e,lheading:Lz,list:c4e,newline:n4e,paragraph:Dz,table:fd,text:l4e},rk=Sr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",eg).getRegex(),h4e={...bw,lheading:o4e,table:rk,paragraph:Sr(pw).replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rk).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",eg).getRegex()},p4e={...bw,html:Sr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",gw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:fd,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sr(pw).replace("hr",Ff).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Lz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},m4e=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,g4e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,jz=/^( {2,}|\\)\n(?!\s*$)/,b4e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,tg=/[\p{P}\p{S}]/u,vw=/[\s\p{P}\p{S}]/u,Pz=/[^\s\p{P}\p{S}]/u,v4e=Sr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,vw).getRegex(),zz=/(?!~)[\p{P}\p{S}]/u,y4e=/(?!~)[\s\p{P}\p{S}]/u,w4e=/(?:[^\s\p{P}\p{S}]|~)/u,x4e=Sr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",r4e?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Bz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,_4e=Sr(Bz,"u").replace(/punct/g,tg).getRegex(),E4e=Sr(Bz,"u").replace(/punct/g,zz).getRegex(),Fz="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",S4e=Sr(Fz,"gu").replace(/notPunctSpace/g,Pz).replace(/punctSpace/g,vw).replace(/punct/g,tg).getRegex(),k4e=Sr(Fz,"gu").replace(/notPunctSpace/g,w4e).replace(/punctSpace/g,y4e).replace(/punct/g,zz).getRegex(),A4e=Sr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Pz).replace(/punctSpace/g,vw).replace(/punct/g,tg).getRegex(),T4e=Sr(/\\(punct)/,"gu").replace(/punct/g,tg).getRegex(),N4e=Sr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),I4e=Sr(gw).replace("(?:-->|$)","-->").getRegex(),C4e=Sr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",I4e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,M4e=Sr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Uz=Sr(/^!?\[(label)\]\[(ref)\]/).replace("label",yp).replace("ref",mw).getRegex(),Hz=Sr(/^!?\[(ref)\](?:\[\])?/).replace("ref",mw).getRegex(),O4e=Sr("reflink|nolink(?!\\()","g").replace("reflink",Uz).replace("nolink",Hz).getRegex(),nk=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,yw={_backpedal:fd,anyPunctuation:T4e,autolink:N4e,blockSkip:x4e,br:jz,code:g4e,del:fd,emStrongLDelim:_4e,emStrongRDelimAst:S4e,emStrongRDelimUnd:A4e,escape:m4e,link:M4e,nolink:Hz,punctuation:v4e,reflink:Uz,reflinkSearch:O4e,tag:C4e,text:b4e,url:fd},R4e={...yw,link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",yp).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yp).getRegex()},e2={...yw,emStrongRDelimAst:k4e,emStrongLDelim:E4e,url:Sr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",nk).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Sr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",nk).getRegex()},L4e={...e2,br:Sr(jz).replace("{2,}","*").getRegex(),text:Sr(e2.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Uh={normal:bw,gfm:h4e,pedantic:p4e},Dc={normal:yw,gfm:e2,breaks:L4e,pedantic:R4e},D4e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ik=a(e=>D4e[e],"ge$1");function Da(e,t){if(t){if(ei.escapeTest.test(e))return e.replace(ei.escapeReplace,ik)}else if(ei.escapeTestNoEncode.test(e))return e.replace(ei.escapeReplaceNoEncode,ik);return e}a(Da,"w");function ak(e){try{e=encodeURI(e).replace(ei.percentDecode,"%")}catch{return null}return e}a(ak,"J$1");function sk(e,t){let r=e.replace(ei.findPipe,(s,o,l)=>{let u=!1,c=o;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),n=r.split(ei.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(ei.slashPipe,"|");return n}a(sk,"V");function jc(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}a(jc,"z");function j4e(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}a(j4e,"fe$1");function ok(e,t,r,n,i){let s=t.href,o=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}a(ok,"me");function P4e(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let o=s.match(r.other.beginningSpace);if(o===null)return s;let[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}a(P4e,"Ye$1");var wp=class{static{a(this,"y")}options;rules;lexer;constructor(e){this.options=e||Ul}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:jc(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=P4e(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=jc(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:jc(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=jc(t[0],`
`).split(`
`),n="",i="",s=[];for(;r.length>0;){let o=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),o=!0;else if(!o)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,i=i?`${i}
${d}`:d;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=f,r.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let m=g,y=m.raw+`
`+r.join(`
`),_=this.blockquote(y);s[s.length-1]=_,n=n.substring(0,n.length-m.raw.length)+_.raw,i=i.substring(0,i.length-m.text.length)+_.text;break}else if(g?.type==="list"){let m=g,y=m.raw+`
`+r.join(`
`),_=this.list(y);s[s.length-1]=_,n=n.substring(0,n.length-g.raw.length)+_.raw,i=i.substring(0,i.length-m.raw.length)+_.raw,r=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let s=this.rules.other.listItemRegex(r),o=!1;for(;e;){let u=!1,c="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),g=e.split(`
`,1)[0],m=!f.trim(),y=0;if(this.options.pedantic?(y=2,d=f.trimStart()):m?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,d=f.slice(y),y+=t[1].length),m&&this.rules.other.blankLine.test(g)&&(c+=g+`
`,e=e.substring(g.length+1),u=!0),!u){let I=this.rules.other.nextBulletRegex(y),O=this.rules.other.hrRegex(y),R=this.rules.other.fencesBeginRegex(y),L=this.rules.other.headingBeginRegex(y),D=this.rules.other.htmlBeginRegex(y);for(;e;){let P=e.split(`
`,1)[0],Z;if(g=P,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),Z=g):Z=g.replace(this.rules.other.tabCharGlobal,"    "),R.test(g)||L.test(g)||D.test(g)||I.test(g)||O.test(g))break;if(Z.search(this.rules.other.nonSpaceChar)>=y||!g.trim())d+=`
`+Z.slice(y);else{if(m||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||R.test(f)||L.test(f)||O.test(f))break;d+=`
`+g}!m&&!g.trim()&&(m=!0),c+=P+`
`,e=e.substring(P.length+1),f=Z.slice(y)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let _=null,A;this.options.gfm&&(_=this.rules.other.listIsTask.exec(d),_&&(A=_[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!_,checked:A,loose:!1,text:d,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){let c=i.items[u].tokens.filter(f=>f.type==="space"),d=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=d}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=sk(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(sk(o,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=jc(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=j4e(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),ok(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[n.toLowerCase()];if(!i){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ok(r,i,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let i=[...n[0]].length-1,s,o,l=i,u=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+i);(n=c.exec(t))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(o=[...s].length,n[3]||n[4]){l+=o;continue}else if((n[5]||n[6])&&i%3&&!((i+o)%3)){u+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+u);let d=[...n[0]][0].length,f=e.slice(0,i+n.index+d+o);if(Math.min(i,o)%2){let m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}let g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=t[0],n="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);r=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},Zi=class t2{static{a(this,"l")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ul,this.options.tokenizer=this.options.tokenizer||new wp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:ei,block:Uh.normal,inline:Dc.normal};this.options.pedantic?(r.block=Uh.pedantic,r.inline=Dc.pedantic):this.options.gfm&&(r.block=Uh.gfm,this.options.breaks?r.inline=Dc.breaks:r.inline=Dc.gfm),this.tokenizer.rules=r}static get rules(){return{block:Uh,inline:Dc}}static lex(t,r){return new t2(r).lex(t)}static lexInline(t,r){return new t2(r).inlineTokens(t)}lex(t){t=t.replace(ei.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){for(this.options.pedantic&&(t=t.replace(ei.tabCharGlobal,"    ").replace(ei.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let o=r.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let o=1/0,l=t.slice(1),u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=t.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=r.at(-1);n&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let o=r.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(i);continue}if(t){let o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n=t,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let o=!1,l="";for(;t;){o||(l=""),o=!1;let u;if(this.options.extensions?.inline?.some(d=>(u=d.call({lexer:this},t,r))?(t=t.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);let d=r.at(-1);u.type==="text"&&d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(t,n,l)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),r.push(u);continue}let c=t;if(this.options.extensions?.startInline){let d=1/0,f=t.slice(1),g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},f),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(c=t.substring(0,d+1))}if(u=this.tokenizer.inlineText(c)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(l=u.raw.slice(-1)),o=!0;let d=r.at(-1);d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):r.push(u);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},xp=class{static{a(this,"P")}options;parser;constructor(e){this.options=e||Ul}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(ei.notSpaceStart)?.[0],i=e.replace(ei.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Da(n)+'">'+(r?i:Da(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Da(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let o=0;o<e.items.length;o++){let l=e.items[o];n+=this.listitem(l)}let i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Da(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];r="";for(let o=0;o<s.length;o++)r+=this.tablecell(s[o]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Da(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),i=ak(e);if(i===null)return n;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+Da(t)+'"'),s+=">"+n+"</a>",s}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let i=ak(e);if(i===null)return Da(r);e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${Da(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Da(e.text)}},ww=class{static{a(this,"$")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ua=class r2{static{a(this,"l")}options;renderer;textRenderer;constructor(t){this.options=t||Ul,this.options.renderer=this.options.renderer||new xp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ww}static parse(t,r){return new r2(r).parse(t)}static parseInline(t,r){return new r2(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let l=s,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=u||"";continue}}let o=s;switch(o.type){case"space":{n+=this.renderer.space(o);continue}case"hr":{n+=this.renderer.hr(o);continue}case"heading":{n+=this.renderer.heading(o);continue}case"code":{n+=this.renderer.code(o);continue}case"table":{n+=this.renderer.table(o);continue}case"blockquote":{n+=this.renderer.blockquote(o);continue}case"list":{n+=this.renderer.list(o);continue}case"html":{n+=this.renderer.html(o);continue}case"def":{n+=this.renderer.def(o);continue}case"paragraph":{n+=this.renderer.paragraph(o);continue}case"text":{let l=o,u=this.renderer.text(l);for(;i+1<t.length&&t[i+1].type==="text";)l=t[++i],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=l||"";continue}}let o=s;switch(o.type){case"escape":{n+=r.text(o);break}case"html":{n+=r.html(o);break}case"link":{n+=r.link(o);break}case"image":{n+=r.image(o);break}case"strong":{n+=r.strong(o);break}case"em":{n+=r.em(o);break}case"codespan":{n+=r.codespan(o);break}case"br":{n+=r.br(o);break}case"del":{n+=r.del(o);break}case"text":{n+=r.text(o);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},qc=class{static{a(this,"S")}options;block;constructor(e){this.options=e||Ul}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Zi.lex:Zi.lexInline}provideParser(){return this.block?ua.parse:ua.parseInline}},z4e=class{static{a(this,"B")}defaults=fw();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ua;Renderer=xp;TextRenderer=ww;Lexer=Zi;Tokenizer=wp;Hooks=qc;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)r=r.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let o of s)r=r.concat(this.walkTokens(o.tokens,t));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let o=i[s].flat(1/0);r=r.concat(this.walkTokens(o,t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){let i=this.defaults.renderer||new xp(this.defaults);for(let s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=r.renderer[o],u=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new wp(this.defaults);for(let s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=r.tokenizer[o],u=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new qc;for(let s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=r.hooks[o],u=i[o];qc.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&qc.passThroughHooksRespectAsync.has(s))return(async()=>{let f=await l.call(i,c);return u.call(i,f)})();let d=l.call(i,c);return u.call(i,d)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(i,c);return f===!1&&(f=await u.apply(i,c)),f})();let d=l.apply(i,c);return d===!1&&(d=u.apply(i,c)),d}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Zi.lex(e,t??this.defaults)}parser(e,t){return ua.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},i={...this.defaults,...n},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(t):t,l=await(i.hooks?await i.hooks.provideLexer():e?Zi.lex:Zi.lexInline)(o,i),u=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(u,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():e?ua.parse:ua.parseInline)(u,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));let o=(i.hooks?i.hooks.provideLexer():e?Zi.lex:Zi.lexInline)(t,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():e?ua.parse:ua.parseInline)(o,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Da(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Nl=new z4e;function Cr(e,t){return Nl.parse(e,t)}a(Cr,"k");Cr.options=Cr.setOptions=function(e){return Nl.setOptions(e),Cr.defaults=Nl.defaults,Oz(Cr.defaults),Cr};Cr.getDefaults=fw;Cr.defaults=Ul;Cr.use=function(...e){return Nl.use(...e),Cr.defaults=Nl.defaults,Oz(Cr.defaults),Cr};Cr.walkTokens=function(e,t){return Nl.walkTokens(e,t)};Cr.parseInline=Nl.parseInline;Cr.Parser=ua;Cr.parser=ua.parse;Cr.Renderer=xp;Cr.TextRenderer=ww;Cr.Lexer=Zi;Cr.lexer=Zi.lex;Cr.Tokenizer=wp;Cr.Hooks=qc;Cr.parse=Cr;Cr.options;Cr.setOptions;Cr.use;Cr.walkTokens;Cr.parseInline;ua.parse;Zi.lex;var ar=a((...e)=>KA(Rp(e)),"u"),vu=a((e,t,r)=>{let n=typeof t=="string"?new Blob([t],{type:r}):t,i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},"R"),B4e=H.createContext({code:""}),Gz=a(()=>H.useContext(B4e),"U"),lk=a(({onCopy:e,onError:t,timeout:r=2e3,children:n,className:i,code:s,...o})=>{let[l,u]=H.useState(!1),c=H.useRef(0),{code:d}=Gz(),{isAnimating:f}=H.useContext(_a),g=s??d,m=a(async()=>{var _;if(typeof window>"u"||!((_=navigator?.clipboard)!=null&&_.writeText)){t?.(new Error("Clipboard API not available"));return}try{l||(await navigator.clipboard.writeText(g),u(!0),e?.(),c.current=window.setTimeout(()=>u(!1),r))}catch(A){t?.(A)}},"g");H.useEffect(()=>()=>{window.clearTimeout(c.current)},[]);let y=l?_A:EA;return v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),"data-streamdown":"code-block-copy-button",disabled:f,onClick:m,title:"Copy Code",type:"button",...o,children:n??v.jsx(y,{size:14})})},"ie"),uk={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},F4e=a(({onDownload:e,onError:t,language:r,children:n,className:i,code:s,...o})=>{let{code:l}=Gz(),{isAnimating:u}=H.useContext(_a),c=s??l,d=`file.${r&&r in uk?uk[r]:"txt"}`,f="text/plain",g=a(()=>{try{vu(d,c,f),e?.()}catch(m){t?.(m)}},"g");return v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),"data-streamdown":"code-block-download-button",disabled:u,onClick:g,title:"Download file",type:"button",...o,children:n??v.jsx(Cp,{size:14})})},"Me"),ck=a(()=>v.jsxs("div",{className:"w-full divide-y divide-border overflow-hidden rounded-xl border border-border",children:[v.jsx("div",{className:"h-[46px] w-full bg-muted/80"}),v.jsx("div",{className:"flex w-full items-center justify-center p-4",children:v.jsx(KF,{className:"size-4 animate-spin"})})]}),"de"),U4e=/\.[^/.]+$/,H4e=a(({node:e,className:t,src:r,alt:n,...i})=>{let s=a(async()=>{if(r)try{let o=await(await fetch(r)).blob(),l=new URL(r,window.location.origin).pathname.split("/").pop()||"",u=l.split(".").pop(),c=l.includes(".")&&u!==void 0&&u.length<=4,d="";if(c)d=l;else{let f=o.type,g="png";f.includes("jpeg")||f.includes("jpg")?g="jpg":f.includes("png")?g="png":f.includes("svg")?g="svg":f.includes("gif")?g="gif":f.includes("webp")&&(g="webp"),d=`${(n||l||"image").replace(U4e,"")}.${g}`}vu(d,o,o.type)}catch(o){console.error("Failed to download image:",o)}},"r");return r?v.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[v.jsx("img",{alt:n,className:ar("max-w-full rounded-lg",t),"data-streamdown":"image",src:r,...i}),v.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),v.jsx("button",{className:ar("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:v.jsx(Cp,{size:14})})]}):null},"Pe"),Vz=a(async e=>{let t={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...e},r=(await Op(async()=>{const{default:n}=await import("./mermaid.core-B0bAGQpf.js").then(i=>i.bB);return{default:n}},__vite__mapDeps([0,1]))).default;return r.initialize(t),r},"_"),G4e=a((e,t)=>{var r;let n=(r=void 0)!=null?r:5;return new Promise((i,s)=>{let o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),l=new Image;l.crossOrigin="anonymous",l.onload=()=>{let u=document.createElement("canvas"),c=l.width*n,d=l.height*n;u.width=c,u.height=d;let f=u.getContext("2d");if(!f){s(new Error("Failed to create 2D canvas context for PNG export"));return}f.drawImage(l,0,0,c,d),u.toBlob(g=>{if(!g){s(new Error("Failed to create PNG blob"));return}i(g)},"image/png")},l.onerror=()=>s(new Error("Failed to load SVG image")),l.src=o})},"Te"),V4e=a(({chart:e,children:t,className:r,onDownload:n,config:i,onError:s})=>{let[o,l]=H.useState(!1),u=H.useRef(null),{isAnimating:c}=H.useContext(_a),d=a(async f=>{try{if(f==="mmd"){vu("diagram.mmd",e,"text/plain"),l(!1),n?.(f);return}let g=await Vz(i),m=e.split("").reduce((A,I)=>(A<<5)-A+I.charCodeAt(0)|0,0),y=`mermaid-${Math.abs(m)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:_}=await g.render(y,e);if(!_){s?.(new Error("SVG not found. Please wait for the diagram to render."));return}if(f==="svg"){vu("diagram.svg",_,"image/svg+xml"),l(!1),n?.(f);return}if(f==="png"){let A=await G4e(_);vu("diagram.png",A,"image/png"),n?.(f),l(!1);return}}catch(g){s?.(g)}},"m");return H.useEffect(()=>{let f=a(g=>{u.current&&!u.current.contains(g.target)&&l(!1)},"l");return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),v.jsxs("div",{className:"relative",ref:u,children:[v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",r),disabled:c,onClick:a(()=>l(!o),"onClick"),title:"Download diagram",type:"button",children:t??v.jsx(Cp,{size:14})}),o&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>d("svg"),"onClick"),title:"Download diagram as SVG",type:"button",children:"SVG"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>d("png"),"onClick"),title:"Download diagram as PNG",type:"button",children:"PNG"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>d("mmd"),"onClick"),title:"Download diagram as MMD",type:"button",children:"MMD"})]})]})},"Se"),hd=0,K4e=a(()=>{hd+=1,hd===1&&(document.body.style.overflow="hidden")},"to"),Z4e=a(()=>{hd=Math.max(0,hd-1),hd===0&&(document.body.style.overflow="")},"oo"),Y4e=a(({chart:e,config:t,onFullscreen:r,onExit:n,className:i,...s})=>{let[o,l]=H.useState(!1),{isAnimating:u,controls:c}=H.useContext(_a),d=(()=>{if(typeof c=="boolean")return c;let g=c.mermaid;return g===!1?!1:g===!0||g===void 0?!0:g.panZoom!==!1})(),f=a(()=>{l(!o)},"l");return H.useEffect(()=>{if(o){K4e();let g=a(m=>{m.key==="Escape"&&l(!1)},"p");return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g),Z4e()}}},[o]),H.useEffect(()=>{o?r?.():n&&n()},[o,r,n]),v.jsxs(v.Fragment,{children:[v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",i),disabled:u,onClick:f,title:"View fullscreen",type:"button",...s,children:v.jsx(GF,{size:14})}),o&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",onClick:f,onKeyDown:a(g=>{g.key==="Escape"&&f()},"onKeyDown"),role:"button",tabIndex:0,children:[v.jsx("button",{className:"absolute top-4 right-4 z-10 rounded-md p-2 text-muted-foreground transition-all hover:bg-muted hover:text-foreground",onClick:f,title:"Exit fullscreen",type:"button",children:v.jsx(VF,{size:20})}),v.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",onClick:a(g=>g.stopPropagation(),"onClick"),onKeyDown:a(g=>g.stopPropagation(),"onKeyDown"),role:"presentation",children:v.jsx(wB,{chart:e,className:"h-full w-full [&>div]:h-full [&>div]:overflow-hidden [&_svg]:h-auto [&_svg]:w-auto",config:t,fullscreen:!0,showControls:d})})]})]})},"De"),Kz=a(e=>{var t,r;let n=[],i=[],s=e.querySelectorAll("thead th");for(let l of s)n.push(((t=l.textContent)==null?void 0:t.trim())||"");let o=e.querySelectorAll("tbody tr");for(let l of o){let u=[],c=l.querySelectorAll("td");for(let d of c)u.push(((r=d.textContent)==null?void 0:r.trim())||"");i.push(u)}return{headers:n,rows:i}},"Y"),Zz=a(e=>{let{headers:t,rows:r}=e,n=a(l=>{let u=!1,c=!1;for(let d=0;d<l.length;d+=1){let f=l[d];if(f==='"'){u=!0,c=!0;break}(f===","||f===`
`)&&(u=!0)}return u?c?`"${l.replace(/"/g,'""')}"`:`"${l}"`:l},"o"),i=t.length>0?r.length+1:r.length,s=new Array(i),o=0;t.length>0&&(s[o]=t.map(n).join(","),o+=1);for(let l of r)s[o]=l.map(n).join(","),o+=1;return s.join(`
`)},"Q"),$4e=a(e=>{let{headers:t,rows:r}=e,n=a(l=>{let u=!1;for(let d=0;d<l.length;d+=1){let f=l[d];if(f==="	"||f===`
`||f==="\r"){u=!0;break}}if(!u)return l;let c=[];for(let d=0;d<l.length;d+=1){let f=l[d];f==="	"?c.push("\\t"):f===`
`?c.push("\\n"):f==="\r"?c.push("\\r"):c.push(f)}return c.join("")},"o"),i=t.length>0?r.length+1:r.length,s=new Array(i),o=0;t.length>0&&(s[o]=t.map(n).join("	"),o+=1);for(let l of r)s[o]=l.map(n).join("	"),o+=1;return s.join(`
`)},"Le"),ny=a(e=>{let t=!1;for(let n=0;n<e.length;n+=1){let i=e[n];if(i==="\\"||i==="|"){t=!0;break}}if(!t)return e;let r=[];for(let n=0;n<e.length;n+=1){let i=e[n];i==="\\"?r.push("\\\\"):i==="|"?r.push("\\|"):r.push(i)}return r.join("")},"ce"),Q4e=a(e=>{let{headers:t,rows:r}=e;if(t.length===0)return"";let n=new Array(r.length+2),i=0,s=t.map(l=>ny(l));n[i]=`| ${s.join(" | ")} |`,i+=1;let o=new Array(t.length);for(let l=0;l<t.length;l+=1)o[l]="---";n[i]=`| ${o.join(" | ")} |`,i+=1;for(let l of r)if(l.length<t.length){let u=new Array(t.length);for(let c=0;c<t.length;c+=1)u[c]=c<l.length?ny(l[c]):"";n[i]=`| ${u.join(" | ")} |`,i+=1}else{let u=l.map(c=>ny(c));n[i]=`| ${u.join(" | ")} |`,i+=1}return n.join(`
`)},"Be"),W4e=a(({children:e,className:t,onCopy:r,onError:n,timeout:i=2e3})=>{let[s,o]=H.useState(!1),[l,u]=H.useState(!1),c=H.useRef(null),d=H.useRef(0),{isAnimating:f}=H.useContext(_a),g=a(async y=>{var _,A;if(typeof window>"u"||!((_=navigator?.clipboard)!=null&&_.write)){n?.(new Error("Clipboard API not available"));return}try{let I=(A=c.current)==null?void 0:A.closest('[data-streamdown="table-wrapper"]'),O=I?.querySelector("table");if(!O){n?.(new Error("Table not found"));return}let R=Kz(O),L=y==="csv"?Zz(R):$4e(R),D=new ClipboardItem({"text/plain":new Blob([L],{type:"text/plain"}),"text/html":new Blob([O.outerHTML],{type:"text/html"})});await navigator.clipboard.write([D]),u(!0),o(!1),r?.(y),d.current=window.setTimeout(()=>u(!1),i)}catch(I){n?.(I)}},"p");H.useEffect(()=>{let y=a(_=>{c.current&&!c.current.contains(_.target)&&o(!1)},"f");return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y),window.clearTimeout(d.current)}},[]);let m=l?_A:EA;return v.jsxs("div",{className:"relative",ref:c,children:[v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:f,onClick:a(()=>o(!s),"onClick"),title:"Copy table",type:"button",children:e??v.jsx(m,{size:14})}),s&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>g("csv"),"onClick"),title:"Copy table as CSV",type:"button",children:"CSV"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>g("tsv"),"onClick"),title:"Copy table as TSV",type:"button",children:"TSV"})]})]})},"Oe"),X4e=a(({children:e,className:t,onDownload:r,onError:n})=>{let[i,s]=H.useState(!1),o=H.useRef(null),{isAnimating:l}=H.useContext(_a),u=a(c=>{var d;try{let f=(d=o.current)==null?void 0:d.closest('[data-streamdown="table-wrapper"]'),g=f?.querySelector("table");if(!g){n?.(new Error("Table not found"));return}let m=Kz(g),y=c==="csv"?Zz(m):Q4e(m);vu(`table.${c==="csv"?"csv":"md"}`,y,c==="csv"?"text/csv":"text/markdown"),s(!1),r?.(c)}catch(f){n?.(f)}},"d");return H.useEffect(()=>{let c=a(d=>{o.current&&!o.current.contains(d.target)&&s(!1)},"c");return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),v.jsxs("div",{className:"relative",ref:o,children:[v.jsx("button",{className:ar("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",t),disabled:l,onClick:a(()=>s(!i),"onClick"),title:"Download table",type:"button",children:e??v.jsx(Cp,{size:14})}),i&&v.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>u("csv"),"onClick"),title:"Download table as CSV",type:"button",children:"CSV"}),v.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:a(()=>u("markdown"),"onClick"),title:"Download table as Markdown",type:"button",children:"Markdown"})]})]})},"$e"),J4e=a(({children:e,className:t,showControls:r,...n})=>v.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[r&&v.jsxs("div",{className:"flex items-center justify-end gap-1",children:[v.jsx(W4e,{}),v.jsx(X4e,{})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsx("table",{className:ar("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]}),"Xe"),q4e=H.lazy(()=>Op(()=>import("./code-block-QI2IAROF-CtZLnaTP.js"),__vite__mapDeps([2,3,4,1])).then(e=>({default:e.CodeBlock}))),e6e=H.lazy(()=>Op(()=>Promise.resolve().then(()=>ywe),void 0).then(e=>({default:e.Mermaid}))),t6e=/language-([^\s]+)/;function rg(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&t!=null&&t.position))return!1;let r=e.position.start,n=t.position.start,i=e.position.end,s=t.position.end;return r?.line===n?.line&&r?.column===n?.column&&i?.line===s?.line&&i?.column===s?.column}a(rg,"re");function ln(e,t){return e.className===t.className&&rg(e.node,t.node)}a(ln,"x");var n2=a((e,t)=>typeof e=="boolean"?e:e[t]!==!1,"pe"),Hh=a((e,t)=>{if(typeof e=="boolean")return e;let r=e.mermaid;return r===!1?!1:r===!0||r===void 0?!0:r[t]!==!1},"ne"),xw=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("ol",{className:ar("list-inside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>ln(e,t));xw.displayName="MarkdownOl";var Yz=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("li",{className:ar("py-1 [&>p]:inline",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&rg(e.node,t.node));Yz.displayName="MarkdownLi";var $z=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("ul",{className:ar("list-inside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>ln(e,t));$z.displayName="MarkdownUl";var Qz=H.memo(({className:e,node:t,...r})=>v.jsx("hr",{className:ar("my-6 border-border",e),"data-streamdown":"horizontal-rule",...r}),(e,t)=>ln(e,t));Qz.displayName="MarkdownHr";var Wz=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("span",{className:ar("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>ln(e,t));Wz.displayName="MarkdownStrong";var Xz=H.memo(({children:e,className:t,href:r,node:n,...i})=>{let s=r==="streamdown:incomplete-link";return v.jsx("a",{className:ar("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":s,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...i,children:e})},(e,t)=>ln(e,t)&&e.href===t.href);Xz.displayName="MarkdownA";var Jz=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h1",{className:ar("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>ln(e,t));Jz.displayName="MarkdownH1";var qz=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h2",{className:ar("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>ln(e,t));qz.displayName="MarkdownH2";var eB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h3",{className:ar("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>ln(e,t));eB.displayName="MarkdownH3";var tB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h4",{className:ar("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>ln(e,t));tB.displayName="MarkdownH4";var rB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h5",{className:ar("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>ln(e,t));rB.displayName="MarkdownH5";var nB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("h6",{className:ar("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>ln(e,t));nB.displayName="MarkdownH6";var iB=H.memo(({children:e,className:t,node:r,...n})=>{let{controls:i}=H.useContext(_a),s=n2(i,"table");return v.jsx(J4e,{className:t,"data-streamdown":"table-wrapper",showControls:s,...n,children:e})},(e,t)=>ln(e,t));iB.displayName="MarkdownTable";var aB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("thead",{className:ar("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>ln(e,t));aB.displayName="MarkdownThead";var sB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("tbody",{className:ar("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>ln(e,t));sB.displayName="MarkdownTbody";var oB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("tr",{className:ar("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>ln(e,t));oB.displayName="MarkdownTr";var lB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("th",{className:ar("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>ln(e,t));lB.displayName="MarkdownTh";var uB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("td",{className:ar("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>ln(e,t));uB.displayName="MarkdownTd";var cB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("blockquote",{className:ar("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>ln(e,t));cB.displayName="MarkdownBlockquote";var dB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("sup",{className:ar("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>ln(e,t));dB.displayName="MarkdownSup";var fB=H.memo(({children:e,className:t,node:r,...n})=>v.jsx("sub",{className:ar("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>ln(e,t));fB.displayName="MarkdownSub";var hB=H.memo(({children:e,className:t,node:r,...n})=>{if("data-footnotes"in n){let i=a(o=>{var l,u;if(!H.isValidElement(o))return!1;let c=Array.isArray(o.props.children)?o.props.children:[o.props.children],d=!1,f=!1;for(let g of c)if(g){if(typeof g=="string")g.trim()!==""&&(d=!0);else if(H.isValidElement(g))if(((l=g.props)==null?void 0:l["data-footnote-backref"])!==void 0)f=!0;else{let m=Array.isArray(g.props.children)?g.props.children:[g.props.children];for(let y of m){if(typeof y=="string"&&y.trim()!==""){d=!0;break}if(H.isValidElement(y)&&((u=y.props)==null?void 0:u["data-footnote-backref"])===void 0){d=!0;break}}}}return f&&!d},"r"),s=Array.isArray(e)?e.map(o=>{if(!H.isValidElement(o))return o;if(o.type===xw){let l=(Array.isArray(o.props.children)?o.props.children:[o.props.children]).filter(u=>!i(u));return l.length===0?null:{...o,props:{...o.props,children:l}}}return o}):e;return(Array.isArray(s)?s.some(o=>o!==null):s!==null)?v.jsx("section",{className:t,...n,children:s}):null}return v.jsx("section",{className:t,...n,children:e})},(e,t)=>ln(e,t));hB.displayName="MarkdownSection";var r6e=a(({node:e,className:t,children:r,...n})=>{var i,s,o;let l=((i=e?.position)==null?void 0:i.start.line)===((s=e?.position)==null?void 0:s.end.line),{mermaid:u,controls:c}=H.useContext(_a);if(l)return v.jsx("code",{className:ar("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...n,children:r});let d=t?.match(t6e),f=(o=d?.at(1))!=null?o:"",g="";if(H.isValidElement(r)&&r.props&&typeof r.props=="object"&&"children"in r.props&&typeof r.props.children=="string"?g=r.props.children:typeof r=="string"&&(g=r),f==="mermaid"){let y=n2(c,"mermaid"),_=Hh(c,"download"),A=Hh(c,"copy"),I=Hh(c,"fullscreen"),O=Hh(c,"panZoom");return v.jsx(H.Suspense,{fallback:v.jsx(ck,{}),children:v.jsxs("div",{className:ar("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[y&&(_||A||I)&&v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[_&&v.jsx(V4e,{chart:g,config:u?.config}),A&&v.jsx(lk,{code:g}),I&&v.jsx(Y4e,{chart:g,config:u?.config})]}),v.jsx(e6e,{chart:g,config:u?.config,showControls:O})]})})}let m=n2(c,"code");return v.jsx(H.Suspense,{fallback:v.jsx(ck,{}),children:v.jsx(q4e,{className:ar("overflow-x-auto border-border border-t",t),code:g,language:f,children:m&&v.jsxs(v.Fragment,{children:[v.jsx(F4e,{code:g,language:f}),v.jsx(lk,{})]})})})},"ho"),pB=H.memo(r6e,(e,t)=>e.className===t.className&&rg(e.node,t.node));pB.displayName="MarkdownCode";var mB=H.memo(H4e,(e,t)=>e.className===t.className&&rg(e.node,t.node));mB.displayName="MarkdownImg";var gB=H.memo(({children:e,className:t,node:r,...n})=>{var i;let s=(Array.isArray(e)?e:[e]).filter(o=>o!=null&&o!=="");return s.length===1&&H.isValidElement(s[0])&&((i=s[0].props.node)==null?void 0:i.tagName)==="img"?v.jsx(v.Fragment,{children:e}):v.jsx("p",{className:t,...n,children:e})},(e,t)=>ln(e,t));gB.displayName="MarkdownParagraph";var n6e={ol:xw,li:Yz,ul:$z,hr:Qz,strong:Wz,a:Xz,h1:Jz,h2:qz,h3:eB,h4:tB,h5:rB,h6:nB,table:iB,thead:aB,tbody:sB,tr:oB,th:lB,td:uB,blockquote:cB,code:pB,img:mB,pre:a(({children:e})=>e,"pre"),sup:dB,sub:fB,p:gB,section:hB},dk=[],fk={allowDangerousHtml:!0},Gh=new WeakMap,i6e=class{static{a(this,"fe")}constructor(){this.cache=new Map,this.keyCache=new WeakMap,this.maxSize=100}generateCacheKey(e){let t=this.keyCache.get(e);if(t)return t;let r=e.rehypePlugins,n=e.remarkPlugins,i=e.remarkRehypeOptions;if(!(r||n||i)){let d="default";return this.keyCache.set(e,d),d}let s=a(d=>{if(!d||d.length===0)return"";let f="";for(let g=0;g<d.length;g+=1){let m=d[g];if(g>0&&(f+=","),Array.isArray(m)){let[y,_]=m;if(typeof y=="function"){let A=Gh.get(y);A||(A=y.name,Gh.set(y,A)),f+=A}else f+=String(y);f+=":",f+=JSON.stringify(_)}else if(typeof m=="function"){let y=Gh.get(m);y||(y=m.name,Gh.set(m,y)),f+=y}else f+=String(m)}return f},"i"),o=s(r),l=s(n),u=i?JSON.stringify(i):"",c=`${l}::${o}::${u}`;return this.keyCache.set(e,c),c}get(e){let t=this.generateCacheKey(e),r=this.cache.get(t);return r&&(this.cache.delete(t),this.cache.set(t,r)),r}set(e,t){let r=this.generateCacheKey(e);if(this.cache.size>=this.maxSize){let n=this.cache.keys().next().value;n&&this.cache.delete(n)}this.cache.set(r,t)}clear(){this.cache.clear()}},hk=new i6e,bB=a(e=>{let t=a6e(e),r=e.children||"";return o6e(t.runSync(t.parse(r),r),e)},"ge"),a6e=a(e=>{let t=hk.get(e);if(t)return t;let r=s6e(e);return hk.set(e,r),r},"Po"),s6e=a(e=>{let t=e.rehypePlugins||dk,r=e.remarkPlugins||dk,n=e.remarkRehypeOptions?{...fk,...e.remarkRehypeOptions}:fk;return J2e().use(X1e).use(r).use(R2e,n).use(t)},"To"),o6e=a((e,t)=>a1e(e,{Fragment:v.Fragment,components:t.components,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0}),"No"),l6e=/\[\^[^\]\s]{1,200}\](?!:)/,u6e=/\[\^[^\]\s]{1,200}\]:/,c6e=/<\/(\w+)>/,d6e=/<(\w+)[\s>]/,iy=a(e=>{let t=0;for(;t<e.length&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t+=1;return t+1<e.length&&e[t]==="$"&&e[t+1]==="$"},"be"),f6e=a(e=>{let t=e.length-1;for(;t>=0&&(e[t]===" "||e[t]==="	"||e[t]===`
`||e[t]==="\r");)t-=1;return t>=1&&e[t]==="$"&&e[t-1]==="$"},"Lo"),ay=a(e=>{let t=0;for(let r=0;r<e.length-1;r+=1)e[r]==="$"&&e[r+1]==="$"&&(t+=1,r+=1);return t},"he"),h6e=a(e=>{let t=l6e.test(e),r=u6e.test(e);if(t||r)return[e];let n=Zi.lex(e,{gfm:!0}),i=[],s=[];for(let o of n){let l=o.raw,u=i.length;if(s.length>0){if(i[u-1]+=l,o.type==="html"){let c=l.match(c6e);if(c){let d=c[1];s.at(-1)===d&&s.pop()}}continue}if(o.type==="html"&&o.block){let c=l.match(d6e);if(c){let d=c[1];l.includes(`</${d}>`)||s.push(d)}}if(l.trim()==="$$"&&u>0){let c=i[u-1],d=iy(c),f=ay(c);if(d&&f%2===1){i[u-1]=c+l;continue}}if(u>0&&f6e(l)){let c=i[u-1],d=iy(c),f=ay(c),g=ay(l);if(d&&f%2===1&&!iy(l)&&g===1){i[u-1]=c+l;continue}}i.push(l)}return i},"ye"),p6e={raw:Gpe,katex:[B1,{errorColor:"var(--color-muted-foreground)"}],harden:[tce,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],allowedProtocols:["*"],defaultOrigin:void 0,allowDataImages:!0}]},m6e={gfm:[$ve,{}],math:[$1,{singleDollarTextMath:!1}],cjkFriendly:[gme,{}],cjkFriendlyGfmStrikethrough:[vme,{}]},g6e=Object.values(p6e),b6e=Object.values(m6e),v6e={shikiTheme:["github-light","github-dark"],controls:!0,isAnimating:!1,mode:"streaming",mermaid:void 0},_a=H.createContext(v6e),vB=H.memo(({content:e,shouldParseIncompleteMarkdown:t,...r})=>{let n=H.useMemo(()=>typeof e=="string"&&t?Gye(e.trim()):e,[e,t]);return v.jsx(bB,{...r,children:n})},(e,t)=>{if(e.content!==t.content||e.shouldParseIncompleteMarkdown!==t.shouldParseIncompleteMarkdown||e.index!==t.index)return!1;if(e.components!==t.components){let r=Object.keys(e.components||{}),n=Object.keys(t.components||{});if(r.length!==n.length||r.some(i=>{var s,o;return((s=e.components)==null?void 0:s[i])!==((o=t.components)==null?void 0:o[i])}))return!1}return!(e.rehypePlugins!==t.rehypePlugins||e.remarkPlugins!==t.remarkPlugins)});vB.displayName="Block";var y6e=["github-light","github-dark"],yB=H.memo(({children:e,mode:t="streaming",parseIncompleteMarkdown:r=!0,components:n,rehypePlugins:i=g6e,remarkPlugins:s=b6e,className:o,shikiTheme:l=y6e,mermaid:u,controls:c=!0,isAnimating:d=!1,BlockComponent:f=vB,parseMarkdownIntoBlocksFn:g=h6e,...m})=>{let y=H.useId(),[_,A]=H.useTransition(),[I,O]=H.useState([]),R=H.useMemo(()=>g(typeof e=="string"?e:""),[e,g]);H.useEffect(()=>{t==="streaming"?A(()=>{O(R)}):O(R)},[R,t]);let L=t==="streaming"?I:R,D=H.useMemo(()=>L.map((V,W)=>`${y}-${W}`),[L.length,y]),P=H.useMemo(()=>({shikiTheme:l,controls:c,isAnimating:d,mode:t,mermaid:u}),[l,c,d,t,u]),Z=H.useMemo(()=>({...n6e,...n}),[n]);return H.useEffect(()=>{if(!(Array.isArray(i)&&i.some(h=>Array.isArray(h)?h[0]===B1:h===B1)))return;let V=!1;if(Array.isArray(s)){let h=s.find(w=>Array.isArray(w)?w[0]===$1:w===$1);h&&Array.isArray(h)&&h[1]&&(V=h[1].singleDollarTextMath===!0)}let W=typeof e=="string"?e:"",F=W.includes("$$"),Y=V&&(/[^$]\$[^$]/.test(W)||/^\$[^$]/.test(W)||/[^$]\$$/.test(W));(F||Y)&&Op(()=>Promise.resolve({}),__vite__mapDeps([5]))},[i,s,e]),t==="static"?v.jsx(_a.Provider,{value:P,children:v.jsx("div",{className:ar("space-y-4 whitespace-normal",o),children:v.jsx(bB,{components:Z,rehypePlugins:i,remarkPlugins:s,...m,children:e})})}):v.jsx(_a.Provider,{value:P,children:v.jsx("div",{className:ar("space-y-4 whitespace-normal",o),children:L.map((V,W)=>v.jsx(f,{components:Z,content:V,index:W,rehypePlugins:i,remarkPlugins:s,shouldParseIncompleteMarkdown:r,...m},D[W]))})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating&&e.mode===t.mode);yB.displayName="Streamdown";var w6e=a(({children:e,className:t,minZoom:r=.5,maxZoom:n=3,zoomStep:i=.1,showControls:s=!0,initialZoom:o=1,fullscreen:l=!1})=>{let u=H.useRef(null),c=H.useRef(null),[d,f]=H.useState(o),[g,m]=H.useState({x:0,y:0}),[y,_]=H.useState(!1),[A,I]=H.useState({x:0,y:0}),[O,R]=H.useState({x:0,y:0}),L=H.useCallback(h=>{f(w=>Math.max(r,Math.min(n,w+h)))},[r,n]),D=H.useCallback(()=>{L(i)},[L,i]),P=H.useCallback(()=>{L(-i)},[L,i]),Z=H.useCallback(()=>{f(o),m({x:0,y:0})},[o]),V=H.useCallback(h=>{h.preventDefault();let w=h.deltaY>0?-i:i;L(w)},[L,i]),W=H.useCallback(h=>{if(h.button!==0||h.isPrimary===!1)return;_(!0),I({x:h.clientX,y:h.clientY}),R(g);let w=h.currentTarget;w instanceof HTMLElement&&w.setPointerCapture(h.pointerId)},[g]),F=H.useCallback(h=>{if(!y)return;h.preventDefault();let w=h.clientX-A.x,b=h.clientY-A.y;m({x:O.x+w,y:O.y+b})},[y,A,O]),Y=H.useCallback(h=>{_(!1);let w=h.currentTarget;w instanceof HTMLElement&&w.releasePointerCapture(h.pointerId)},[]);return H.useEffect(()=>{let h=u.current;if(h)return h.addEventListener("wheel",V,{passive:!1}),()=>{h.removeEventListener("wheel",V)}},[V]),H.useEffect(()=>{let h=c.current;if(h&&y)return document.body.style.userSelect="none",h.addEventListener("pointermove",F,{passive:!1}),h.addEventListener("pointerup",Y),h.addEventListener("pointercancel",Y),()=>{document.body.style.userSelect="",h.removeEventListener("pointermove",F),h.removeEventListener("pointerup",Y),h.removeEventListener("pointercancel",Y)}},[y,F,Y]),v.jsxs("div",{className:ar("relative",l?"h-full w-full":"w-full",t),ref:u,style:{cursor:y?"grabbing":"grab"},children:[s&&v.jsxs("div",{className:ar("absolute z-10 flex flex-col gap-1 rounded-md border border-border bg-background/90 p-1 shadow-sm backdrop-blur-sm",l?"bottom-4 left-4":"bottom-2 left-2"),children:[v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:d>=n,onClick:D,title:"Zoom in",type:"button",children:v.jsx(ZF,{size:16})}),v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:d<=r,onClick:P,title:"Zoom out",type:"button",children:v.jsx(YF,{size:16})}),v.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",onClick:Z,title:"Reset zoom and pan",type:"button",children:v.jsx($F,{size:16})})]}),v.jsx("div",{className:ar("origin-center transition-transform duration-150 ease-out",l&&"flex w-full items-center justify-center"),onPointerDown:W,ref:c,role:"application",style:{transform:`translate(${g.x}px, ${g.y}px) scale(${d})`,transformOrigin:"center center",touchAction:"none",willChange:"transform"},children:e})]})},"Nt"),wB=a(({chart:e,className:t,config:r,fullscreen:n=!1,showControls:i=!0})=>{let[s,o]=H.useState(null),[l,u]=H.useState(!0),[c,d]=H.useState(""),[f,g]=H.useState(""),[m,y]=H.useState(0),{mermaid:_}=H.useContext(_a),A=_?.errorComponent;if(H.useEffect(()=>{(async()=>{try{o(null),u(!0);let O=await Vz(r),R=e.split("").reduce((P,Z)=>(P<<5)-P+Z.charCodeAt(0)|0,0),L=`mermaid-${Math.abs(R)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:D}=await O.render(L,e);d(D),g(D)}catch(O){if(!(f||c)){let R=O instanceof Error?O.message:"Failed to render Mermaid chart";o(R)}}finally{u(!1)}})()},[e,r,m]),l&&!c&&!f)return v.jsx("div",{className:ar("my-4 flex justify-center p-4",t),children:v.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[v.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),v.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(s&&!c&&!f){let O=a(()=>y(R=>R+1),"T");return A?v.jsx(A,{chart:e,error:s,retry:O}):v.jsxs("div",{className:ar("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[v.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",s]}),v.jsxs("details",{className:"mt-2",children:[v.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),v.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]})}let I=c||f;return v.jsx(w6e,{className:ar(n?"h-full w-full overflow-hidden":"my-4 overflow-hidden",t),fullscreen:n,maxZoom:3,minZoom:.5,showControls:i,zoomStep:.1,children:v.jsx("div",{"aria-label":"Mermaid chart",className:ar("flex justify-center",n&&"h-full w-full items-center"),dangerouslySetInnerHTML:{__html:I},role:"img"})})},"Ee");const xB=H.memo(({className:e,shikiTheme:t=["github-dark","github-dark"],...r})=>v.jsx(yB,{className:Ve("!space-y-0 size-full markdown-content",e),shikiTheme:t,...r}),(e,t)=>e.children===t.children&&e.className===t.className&&e.isAnimating===t.isAnimating&&JSON.stringify(e.shikiTheme)===JSON.stringify(t.shikiTheme));xB.displayName="Response";const x6e={damping:.7,stiffness:.05,mass:1.25},_6e=70,E6e=1e3/60,S6e=350;let ng=!1;globalThis.document?.addEventListener("mousedown",()=>{ng=!0});globalThis.document?.addEventListener("mouseup",()=>{ng=!1});globalThis.document?.addEventListener("click",()=>{ng=!1});const k6e=a((e={})=>{const[t,r]=H.useState(!1),[n,i]=H.useState(e.initial!==!1),[s,o]=H.useState(!1),l=H.useRef(null);l.current=e;const u=H.useCallback(()=>{if(!ng)return!1;const O=window.getSelection();if(!O||!O.rangeCount)return!1;const R=O.getRangeAt(0);return R.commonAncestorContainer.contains(A.current)||A.current?.contains(R.commonAncestorContainer)},[]),c=H.useCallback(O=>{f.isAtBottom=O,i(O)},[]),d=H.useCallback(O=>{f.escapedFromLock=O,r(O)},[]),f=H.useMemo(()=>{let O;return{escapedFromLock:t,isAtBottom:n,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return A.current?.scrollTop??0},set scrollTop(R){A.current&&(A.current.scrollTop=R,f.ignoreScrollToTop=A.current.scrollTop)},get targetScrollTop(){return!A.current||!I.current?0:A.current.scrollHeight-1-A.current.clientHeight},get calculatedTargetScrollTop(){if(!A.current||!I.current)return 0;const{targetScrollTop:R}=this;if(!e.targetScrollTop)return R;if(O?.targetScrollTop===R)return O.calculatedScrollTop;const L=Math.max(Math.min(e.targetScrollTop(R,{scrollElement:A.current,contentElement:I.current}),R),0);return O={targetScrollTop:R,calculatedScrollTop:L},requestAnimationFrame(()=>{O=void 0}),L},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=_6e}}},[]),g=H.useCallback((O={})=>{typeof O=="string"&&(O={animation:O}),O.preserveScrollPosition||c(!0);const R=Date.now()+(Number(O.wait)||0),L=oy(l.current,O.animation),{ignoreEscapes:D=!1}=O;let P,Z=f.calculatedTargetScrollTop;O.duration instanceof Promise?O.duration.finally(()=>{P=Date.now()}):P=R+(O.duration??0);const V=a(async()=>{const W=new Promise(requestAnimationFrame).then(()=>{if(!f.isAtBottom)return f.animation=void 0,!1;const{scrollTop:F}=f,Y=performance.now(),h=(Y-(f.lastTick??Y))/E6e;if(f.animation||(f.animation={behavior:L,promise:W,ignoreEscapes:D}),f.animation.behavior===L&&(f.lastTick=Y),u()||R>Date.now())return V();if(F<Math.min(Z,f.calculatedTargetScrollTop)){if(f.animation?.behavior===L){if(L==="instant")return f.scrollTop=f.calculatedTargetScrollTop,V();f.velocity=(L.damping*f.velocity+L.stiffness*f.scrollDifference)/L.mass,f.accumulated+=f.velocity*h,f.scrollTop+=f.accumulated,f.scrollTop!==F&&(f.accumulated=0)}return V()}return P>Date.now()?(Z=f.calculatedTargetScrollTop,V()):(f.animation=void 0,f.scrollTop<f.calculatedTargetScrollTop?g({animation:oy(l.current,l.current.resize),ignoreEscapes:D,duration:Math.max(0,P-Date.now())||void 0}):f.isAtBottom)});return W.then(F=>(requestAnimationFrame(()=>{f.animation||(f.lastTick=void 0,f.velocity=0)}),F))},"next");return O.wait!==!0&&(f.animation=void 0),f.animation?.behavior===L?f.animation.promise:V()},[c,u,f]),m=H.useCallback(()=>{d(!0),c(!1)},[d,c]),y=H.useCallback(({target:O})=>{if(O!==A.current)return;const{scrollTop:R,ignoreScrollToTop:L}=f;let{lastScrollTop:D=R}=f;f.lastScrollTop=R,f.ignoreScrollToTop=void 0,L&&L>R&&(D=L),o(f.isNearBottom),setTimeout(()=>{if(f.resizeDifference||R===L)return;if(u()){d(!0),c(!1);return}const P=R>D,Z=R<D;if(f.animation?.ignoreEscapes){f.scrollTop=D;return}Z&&(d(!0),c(!1)),P&&d(!1),!f.escapedFromLock&&f.isNearBottom&&c(!0)},1)},[d,c,u,f]),_=H.useCallback(({target:O,deltaY:R})=>{let L=O;for(;!["scroll","auto"].includes(getComputedStyle(L).overflow);){if(!L.parentElement)return;L=L.parentElement}L===A.current&&R<0&&A.current.scrollHeight>A.current.clientHeight&&!f.animation?.ignoreEscapes&&(d(!0),c(!1))},[d,c,f]),A=pk(O=>{A.current?.removeEventListener("scroll",y),A.current?.removeEventListener("wheel",_),O?.addEventListener("scroll",y,{passive:!0}),O?.addEventListener("wheel",_,{passive:!0})},[]),I=pk(O=>{if(f.resizeObserver?.disconnect(),!O)return;let R;f.resizeObserver=new ResizeObserver(([L])=>{const{height:D}=L.contentRect,P=D-(R??D);if(f.resizeDifference=P,f.scrollTop>f.targetScrollTop&&(f.scrollTop=f.targetScrollTop),o(f.isNearBottom),P>=0){const Z=oy(l.current,R?l.current.resize:l.current.initial);g({animation:Z,wait:!0,preserveScrollPosition:!0,duration:Z==="instant"?void 0:S6e})}else f.isNearBottom&&(d(!1),c(!0));R=D,requestAnimationFrame(()=>{setTimeout(()=>{f.resizeDifference===P&&(f.resizeDifference=0)},1)})}),f.resizeObserver?.observe(O)},[]);return{contentRef:I,scrollRef:A,scrollToBottom:g,stopScroll:m,isAtBottom:n||s,isNearBottom:s,escapedFromLock:t,state:f}},"useStickToBottom");function pk(e,t){const r=H.useCallback(n=>(r.current=n,e(n)),t);return r}a(pk,"useRefCallback");const sy=new Map;function oy(...e){const t={...x6e};let r=!1;for(const i of e){if(i==="instant"){r=!0;continue}typeof i=="object"&&(r=!1,t.damping=i.damping??t.damping,t.stiffness=i.stiffness??t.stiffness,t.mass=i.mass??t.mass)}const n=JSON.stringify(t);return sy.has(n)||sy.set(n,Object.freeze(t)),r?"instant":sy.get(n)}a(oy,"mergeAnimations");function A6e(e={}){const{smooth:t=!1}=e,r=H.useRef(!1),n=k6e({initial:t?"smooth":"instant",resize:t?"smooth":"instant"}),[i,s]=H.useState({isAtBottom:!0,autoScrollEnabled:!0});H.useEffect(()=>{n.isAtBottom?(r.current=!1,s({isAtBottom:!0,autoScrollEnabled:!0})):s(c=>({...c,isAtBottom:!1,autoScrollEnabled:r.current?!1:c.autoScrollEnabled}))},[n.isAtBottom]);const o=H.useCallback(u=>{const c=u?"instant":t?"smooth":"instant";n.scrollToBottom({animation:c,preserveScrollPosition:!1}),s({isAtBottom:!0,autoScrollEnabled:!0}),r.current=!1},[n.scrollToBottom,t]),l=H.useCallback(()=>{n.isAtBottom||(r.current=!0,n.stopScroll(),s(u=>({...u,autoScrollEnabled:!1})))},[n.isAtBottom,n.stopScroll]);return{scrollRef:n.scrollRef,contentRef:n.contentRef,isAtBottom:i.isAtBottom,autoScrollEnabled:i.autoScrollEnabled,scrollToBottom:a(()=>o(!1),"scrollToBottom"),disableAutoScroll:l,_stickToBottom:n}}a(A6e,"useAutoScroll");const T6e=a(({className:e,...t})=>v.jsx(WF,{className:Ve("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),"ResizablePanelGroup"),mk=QF,N6e=a(({withHandle:e,className:t,...r})=>v.jsx(XF,{className:Ve("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&v.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:v.jsx(JF,{className:"h-2.5 w-2.5"})})}),"ResizableHandle"),i2=H.forwardRef(({mainAction:e,actions:t,variant:r="default",size:n="default",disabled:i,className:s,mainButtonClassName:o,dropdownButtonClassName:l},u)=>{const c=H.useRef(null),[d,f]=H.useState();return H.useImperativeHandle(u,()=>c.current,[]),H.useLayoutEffect(()=>{c.current&&f(c.current.offsetWidth)},[t.length,e.label]),v.jsxs("div",{ref:c,className:Ve("flex w-full",s),children:[v.jsxs(ct,{type:"button",variant:r,size:n,onClick:e.onClick,disabled:i||e.disabled,className:Ve("rounded-r-none flex-1",r==="destructive"?"border-r border-red-700":"border-r-0",o),children:[e.icon&&v.jsx("span",{className:"mr-2",children:e.icon}),e.label]}),v.jsxs(yd,{children:[v.jsx(wd,{asChild:!0,children:v.jsxs(ct,{type:"button",variant:r,size:n,disabled:i,className:Ve("rounded-l-none px-2 flex-shrink-0",l),children:[v.jsx(Ja,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"More options"})]})}),v.jsx(xd,{align:"end",style:{width:d},children:t.map((g,m)=>v.jsxs(H.Fragment,{children:[v.jsxs(Ha,{onClick:g.onClick,disabled:g.disabled,className:Ve(g.variant==="destructive"&&"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50"),children:[g.icon,g.label]}),m<t.length-1&&v.jsx(w0,{})]},m))})]})]})});i2.displayName="SplitButton";const I6e=f2,C6e=qF,M6e=eU,O6e=a(({toolPart:e,defaultOpen:t=!1,className:r})=>{const[n,i]=H.useState(t),{state:s,input:o,output:l,toolCallId:u}=e,c=a(()=>{switch(s){case"input-streaming":return v.jsx(zn,{className:"h-4 w-4 animate-spin text-blue-500"});case"input-available":return v.jsx(ml,{className:"h-4 w-4 text-orange-500"});case"output-available":return v.jsx(cA,{className:"h-4 w-4 text-green-500"});case"output-error":return v.jsx(tU,{className:"h-4 w-4 text-red-500"});default:return v.jsx(ml,{className:"text-muted-foreground h-4 w-4"})}},"getStateIcon"),d=a(()=>{const g="px-2 py-1 rounded-full text-xs font-medium";switch(s){case"input-streaming":return v.jsx("span",{className:Ve(g,"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:"Processing"});case"input-available":return v.jsx("span",{className:Ve(g,"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"),children:"Ready"});case"output-available":return v.jsx("span",{className:Ve(g,"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:"Completed"});case"output-error":return v.jsx("span",{className:Ve(g,"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"Error"});default:return v.jsx("span",{className:Ve(g,"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"Pending"})}},"getStateBadge"),f=a(g=>g===null?"null":g===void 0?"undefined":typeof g=="string"?g:typeof g=="object"?JSON.stringify(g,null,2):String(g),"formatValue");return v.jsx("div",{className:Ve("border-border mt-3 overflow-hidden rounded-lg border",r),children:v.jsxs(I6e,{open:n,onOpenChange:i,children:[v.jsx(C6e,{asChild:!0,children:v.jsxs(ct,{variant:"ghost",className:"bg-background h-auto w-full justify-between rounded-b-none px-3 py-2 font-normal",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[c(),v.jsx("span",{className:"font-mono text-sm font-medium",children:e.type}),d()]}),v.jsx(Ja,{className:Ve("h-4 w-4",n&&"rotate-180")})]})}),v.jsx(M6e,{className:Ve("border-border border-t","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden"),children:v.jsxs("div",{className:"bg-background space-y-3 p-3",children:[o&&Object.keys(o).length>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Input"}),v.jsx("div",{className:"bg-background rounded border p-2 font-mono text-sm",children:Object.entries(o).map(([g,m])=>v.jsxs("div",{className:"mb-1",children:[v.jsxs("span",{className:"text-muted-foreground",children:[g,":"]})," ",v.jsx("span",{children:f(m)})]},g))})]}),l&&v.jsxs("div",{children:[v.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Output"}),v.jsx("div",{className:"bg-background max-h-60 overflow-auto rounded border p-2 font-mono text-sm",children:v.jsx("pre",{className:"whitespace-pre-wrap",children:f(l)})})]}),s==="output-error"&&e.errorText&&v.jsxs("div",{children:[v.jsx("h4",{className:"mb-2 text-sm font-medium text-red-500",children:"Error"}),v.jsx("div",{className:"bg-background rounded border border-red-200 p-2 text-sm dark:border-red-950 dark:bg-red-900/20",children:e.errorText})]}),s==="input-streaming"&&v.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing tool call..."}),u&&v.jsx("div",{className:"text-muted-foreground border-t border-blue-200 pt-2 text-xs",children:v.jsxs("span",{className:"font-mono",children:["Call ID: ",u]})})]})})]})})},"Tool");function R6e({agentId:e,channelId:t,chatType:r}){const[n,i]=H.useState([]),s=H.useRef(new Set),{toast:o}=Gr(),l=Lr();H.useEffect(()=>()=>{s.current.forEach(y=>URL.revokeObjectURL(y)),s.current.clear()},[]);const u=H.useCallback(y=>{const O=Array.from(y.target.files||[]).filter(R=>R.type.startsWith("image/")||R.type.startsWith("video/")||R.type.startsWith("audio/")||R.type==="application/pdf"||R.type==="application/msword"||R.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||R.type==="application/vnd.ms-excel"||R.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||R.type==="application/vnd.ms-powerpoint"||R.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||R.type.startsWith("text/")).filter(R=>!n.some(L=>L.file.name===R.name&&L.file.size===R.size&&L.file.lastModified===R.lastModified)).map(R=>({file:R,id:Os(),isUploading:!1}));i(R=>{const L=[...R,...O];return Array.from(new Map(L.map(D=>[`${D.file.name}-${D.file.size}`,D])).values())}),y.target&&(y.target.value="")},[n]),c=H.useCallback(y=>{i(_=>{const A=_.find(I=>I.id===y);return A?.blobUrl&&(URL.revokeObjectURL(A.blobUrl),s.current.delete(A.blobUrl)),_.filter(I=>I.id!==y)})},[]),d=H.useCallback(y=>y.map(A=>{const I=URL.createObjectURL(A.file);return s.current.add(I),A.blobUrl=I,{id:A.id,url:I,title:A.file.name,contentType:vb(A.file.type),isUploading:!0}}).filter(A=>A.contentType!==void 0),[]),f=H.useCallback(async y=>{if(!y.length)return{uploaded:[],failed:[],blobUrls:[]};const _=y.map(async L=>{try{const D=r===Gt.DM&&e?await l.media.uploadAgentMedia(e,{file:L.file,filename:L.file.name}):await l.media.uploadChannelMedia(t,L.file);return{success:!0,media:{id:L.id,url:D.url,title:L.file.name,source:"file_upload",contentType:vb(L.file.type)}}}catch(D){return We.error(`Failed to upload ${L.file.name}:`,D),o({title:`Upload Failed: ${L.file.name}`,description:D instanceof Error?D.message:"Upload failed",variant:"destructive"}),{success:!1,file:L,error:D instanceof Error?D.message:"Upload failed"}}}),A=await Promise.allSettled(_),I=[],O=[],R=[];return A.forEach((L,D)=>{L.status==="fulfilled"?L.value.success&&"media"in L.value?I.push(L.value.media):"file"in L.value&&O.push(L.value):O.push({file:y[D],error:L.reason?.message||"Upload failed"})}),y.forEach(L=>{L.blobUrl&&R.push(L.blobUrl)}),{uploaded:I,failed:O,blobUrls:R}},[r,e,t,o]),g=H.useCallback(y=>{y.forEach(_=>{URL.revokeObjectURL(_),s.current.delete(_)})},[]),m=H.useCallback(()=>{n.forEach(y=>{y.blobUrl&&(URL.revokeObjectURL(y.blobUrl),s.current.delete(y.blobUrl))}),i([])},[n]);return{selectedFiles:n,setSelectedFiles:i,handleFileChange:u,removeFile:c,createBlobUrls:d,uploadFiles:f,cleanupBlobUrls:g,clearFiles:m,getContentTypeFromMimeType:vb}}a(R6e,"useFileUpload");function L6e({channelId:e,currentUserId:t,contextId:r,chatType:n,allAgents:i,messages:s,onAddMessage:o,onUpdateMessage:l,onDeleteMessage:u,onClearMessages:c,onInputDisabledChange:d}){const f=Ci.getInstance(),{getApiKey:g}=nue(),m=H.useRef(null),y=H.useRef(null),_=H.useCallback(async(A,I,O,R,L,D,P)=>{const Z=P||e;if(!Z){We.error("[useSocketChat] Cannot send message: no channel ID available");return}const V={...D,channelType:n,...n===Gt.DM&&{isDm:!0,targetUserId:r}};await f.sendMessage(A,Z,I,O,R,L,V)},[e,f,n,r]);return H.useEffect(()=>{if(!e||!t){y.current&&(We.info(`[useSocketChat] useEffect: channelId is now null/undefined, resetting joinedChannelRef from ${y.current}`),y.current=null);return}const A=g();f.initialize(t,A??void 0),e!==y.current?(We.info(`[useSocketChat] useEffect: Joining channel ${e}. Previous joinedChannelRef: ${y.current}`),f.joinChannel(e),y.current=e):We.info(`[useSocketChat] useEffect: Channel ${e} already marked as joined by this instance. Skipping joinChannel call.`);const I=a(b=>{if(We.info("[useSocketChat] Received raw messageBroadcast data:",JSON.stringify(b)),(b.channelId||b.roomId)!==e)return;const E=b.senderId===t,T=n===Gt.DM?b.senderId===r:i.some(k=>k.id===b.senderId);!E&&T&&d(!1);const N=b.clientMessageId;if(N&&E)l(N,{id:b.id||Os(),isLoading:!1,createdAt:typeof b.createdAt=="number"?b.createdAt:Date.parse(b.createdAt),text:b.text,attachments:b.attachments,isAgent:!1});else{const k={id:b.id||Os(),text:b.text,name:b.senderName,senderId:b.senderId,isAgent:T,createdAt:typeof b.createdAt=="number"?b.createdAt:Date.parse(b.createdAt),channelId:b.channelId||b.roomId,serverId:b.serverId,source:b.source,attachments:b.attachments,thought:b.thought,actions:b.actions,isLoading:!1,prompt:b.prompt,rawMessage:b.rawMessage};s.some(S=>S.id===b.id)||(We.info("[useSocketChat] Adding new UiMessage:",JSON.stringify(k)),o(k),T&&k.id?m.current=k.id:m.current=null)}},"handleMessageBroadcasting"),O=a(b=>{(b.channelId||b.roomId)===e&&d(!1)},"handleMessageComplete"),R=a(b=>{(b.channelId||b.roomId)===e&&(b.action==="disable_input"?d(!0):b.action==="enable_input"&&d(!1))},"handleControlMessage"),L=a(b=>{(b.channelId||b.roomId)===e&&b.messageId&&u(b.messageId)},"handleMessageDeleted"),D=a(b=>{(b.channelId||b.roomId)===e&&c()},"handleChannelCleared"),P=a(b=>{(b.channelId||b.roomId)===e&&c()},"handleChannelDeleted"),Z=f.evtMessageBroadcast.attach(b=>(b.channelId||b.roomId)===e,I),V=f.evtMessageComplete.attach(b=>(b.channelId||b.roomId)===e,O),W=f.evtControlMessage.attach(b=>(b.channelId||b.roomId)===e,R),F=f.evtMessageDeleted.attach(b=>(b.channelId||b.roomId)===e,L),Y=f.evtChannelCleared.attach(b=>(b.channelId||b.roomId)===e,D),h=f.evtChannelDeleted.attach(b=>(b.channelId||b.roomId)===e,P);return()=>{e&&(We.info(`[useSocketChat] useEffect cleanup: Leaving channel ${e}. Current joinedChannelRef: ${y.current}`),f.leaveChannel(e),e===y.current&&(y.current=null,We.info(`[useSocketChat] useEffect cleanup: Reset joinedChannelRef for ${e}`))),w([Z,V,W,F,Y,h])};function w(b){b.forEach(x=>x?.detach())}},[e,t,f]),{sendMessage:_,animatedMessageId:m.current}}a(L6e,"useSocketChat");const D6e=new Set(["jpg","jpeg","png","gif","webp","svg","bmp","ico","tiff","avif"]),j6e=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v","ogv"]),P6e={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/],getEmbedUrl:a(e=>`https://www.youtube.com/embed/${e}`,"getEmbedUrl")},vimeo:{patterns:[/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/],getEmbedUrl:a(e=>`https://player.vimeo.com/video/${e}`,"getEmbedUrl")}};function _B(e){try{return new URL(e).pathname.split(".").pop()?.toLowerCase()||""}catch{return""}}a(_B,"getFileExtension");function z6e(e){const t=_B(e);return D6e.has(t)}a(z6e,"isImageUrl");function B6e(e){const t=_B(e);return j6e.has(t)}a(B6e,"isVideoFileUrl");function EB(e){for(const[t,r]of Object.entries(P6e))for(const n of r.patterns){const i=e.match(n);if(i&&i[1])return{platform:t,id:i[1],embedUrl:r.getEmbedUrl(i[1])}}return null}a(EB,"getVideoPlatformInfo");function SB(e){if(!e)return[];const t=/(https?:\/\/[^\s]+)/g;return(e.match(t)||[]).map(n=>{const i=n.replace(/[.,!?;)]*$/,"");if(z6e(i))return{url:i,type:"image",isEmbed:!1};if(B6e(i))return{url:i,type:"video",isEmbed:!1};const s=EB(i);return s?{url:s.embedUrl,type:"video",isEmbed:!0}:{url:i,type:"unknown",isEmbed:!1}}).filter(n=>n.type!=="unknown")}a(SB,"parseMediaFromText");function F6e(e,t){let r=e;return t.forEach(n=>{if(n.isEmbed){const i=/(https?:\/\/[^\s]+)/g,s=e.match(i)||[];for(const o of s){const l=o.replace(/[.,!?;)]*$/,""),u=EB(l);if(u&&u.embedUrl===n.url){r=r.replace(o,"").trim();break}}}else r=r.replace(n.url,"").trim()}),r}a(F6e,"removeMediaUrlsFromText");const Vh=15;function kB(e){return(e.includes("TEXT")||e.includes("OBJECT"))&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"LLM":e.includes("EMBEDDING")?"Embedding":e.includes("TRANSCRIPTION")?"Transcription":e.includes("IMAGE")?"Image":!e.includes("TEXT")&&!e.includes("IMAGE")&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"Other":"Unknown"}a(kB,"getModelUsageType");function U6e(e){if(!e)return"Unknown date";const t=new Date(e),r=new Date,n=(r.getTime()-t.getTime())/(1e3*60*60);return n<1?`${Math.floor((r.getTime()-t.getTime())/6e4)}m ago`:n<24?`${Math.floor(n)}h ago`:n<168?t.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}a(U6e,"formatDate");function H6e(e=""){return e==="ACTION"?h2:e.includes("TEXT_EMBEDDING")?v0:e.includes("TRANSCRIPTION")?al:e.includes("TEXT")||e.includes("OBJECT")?p2:e.includes("IMAGE")?rU:SA}a(H6e,"getModelIcon");function G6e(e){if(!e)return null;const{prompt_tokens:t,completion_tokens:r,total_tokens:n}=e;return n?{prompt:t||0,completion:r||0,total:n}:null}a(G6e,"formatTokenUsage");function gk(e,t=100){return e.length<=t?e:e.substring(0,t)+"..."}a(gk,"truncateText");function Kh(e){navigator.clipboard.writeText(e).catch(console.error)}a(Kh,"copyToClipboard");function V6e(e){const t={};for(const r of e){const n=r.createdAt||r.timestamp||0,s=new Date(n).toLocaleDateString();t[s]||(t[s]=[]),t[s].push(r)}return t}a(V6e,"groupActionsByDate");function K6e({action:e,onDelete:t}){const[r,n]=H.useState(!1),[i,s]=H.useState(!1),[o,l]=H.useState(!1),u=e.body?.modelType||"",c=e.body?.modelKey||"",d=e.type==="action",f=e.body?.action||"",g=H6e(d?"ACTION":u),m=d?"Action":kB(u),y=G6e(e.body?.response?.usage||e.body?.usage),_=e.body?.prompts,A=a(()=>{const R=e.body?.params;if(!R&&!_)return null;if(u.includes("TRANSCRIPTION")&&Array.isArray(R))return v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(al,{className:"h-3 w-3"}),v.jsx("span",{children:"Audio input data"})]});const{prompt:L,...D}=R||{};return v.jsxs("div",{className:"space-y-4",children:[_&&Array.isArray(_)&&_.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Prompts (",_.length,")"]})}),v.jsx("div",{className:"space-y-3",children:_.map((P,Z)=>v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("span",{className:"text-xs text-muted-foreground",children:[P.modelType||"Prompt"," #",Z+1]}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>Kh(P.prompt),"onClick"),className:"h-5 px-1 text-xs",title:"Copy prompt",children:v.jsx(Ua,{className:"h-3 w-3"})})]}),v.jsx("div",{className:"bg-muted/30 rounded-md p-2",children:v.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:P.prompt})})]},Z))})]}),!_&&L&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prompt"}),v.jsxs(ct,{variant:"ghost",size:"sm",onClick:a(()=>Kh(L),"onClick"),className:"h-6 px-2 text-xs",title:"Copy prompt",children:[v.jsx(Ua,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),v.jsx("div",{className:"bg-muted/30 rounded-md p-3 relative",children:v.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:typeof L=="string"?L:JSON.stringify(L,null,2)})})]}),Object.keys(D).length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Other Parameters"}),JSON.stringify(D,null,2).length>200?v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>s(!i),"onClick"),className:"h-6 px-2 text-xs",children:i?"Show less":"Show more"}):null]}),v.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group",children:[v.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:(()=>{const P=JSON.stringify(D,null,2),Z=P.length>200;return i||!Z?P:gk(P,200)})()}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>Kh(JSON.stringify(D,null,2)),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy parameters",children:v.jsx(Ua,{className:"h-3 w-3"})})]})]})]})},"renderParams"),I=a(()=>{const R=e.body?.response;if(!R)return null;if(R==="[array]")return v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(yo,{className:"h-3 w-3"}),v.jsx("span",{children:"Array response data"})]});const L=typeof R=="object"?JSON.stringify(R,null,2):String(R),D=L.length>300;return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Response"}),D&&v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>l(!o),"onClick"),className:"h-6 px-2 text-xs",children:o?"Show less":"Show more"})]}),v.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group max-h-64 overflow-y-auto",children:[v.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:o||!D?L:gk(L,300)}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>Kh(L),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy response",children:v.jsx(Ua,{className:"h-3 w-3"})})]})]})},"renderResponse"),O=e.body?.params||e.body?.response||e.message||e.details;return v.jsxs("div",{className:"border rounded-lg bg-card hover:shadow-sm transition-all duration-200 group",children:[v.jsx("div",{className:"p-4 pb-3",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[v.jsx("div",{className:"p-2 rounded-lg bg-muted",children:v.jsx(g,{className:"h-4 w-4 text-muted-foreground"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("h4",{className:"font-semibold text-sm",children:d?f:m}),v.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:d?"Action":u}),e.body?.promptCount&&e.body.promptCount>1&&v.jsxs(ca,{variant:"secondary",className:"text-xs px-1.5",children:[e.body.promptCount," prompts"]})]}),v.jsxs("div",{className:"space-y-1",children:[(c||d)&&v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(h2,{className:"h-3 w-3"}),v.jsx("code",{className:"font-mono",children:d?`Action ID: ${e.body?.actionId?.slice(-8)||"N/A"}`:c})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(Ip,{className:"h-3 w-3"}),v.jsx("span",{children:U6e(e.createdAt||e.timestamp)}),e.id&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:e.id.slice(-8)})]})]})]}),y&&v.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),v.jsx("span",{className:"font-mono",children:y.total.toLocaleString()})]}),y.prompt>0&&v.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx("span",{children:"In:"}),v.jsx("span",{className:"font-mono",children:y.prompt.toLocaleString()})]}),y.completion>0&&v.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx("span",{children:"Out:"}),v.jsx("span",{className:"font-mono",children:y.completion.toLocaleString()})]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[O&&v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>n(!r),"onClick"),className:"h-8 w-8 p-0",title:r?"Collapse details":"Expand details",children:r?v.jsx(Qk,{className:"h-3 w-3"}):v.jsx(Ja,{className:"h-3 w-3"})}),e.id&&t&&v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>{typeof e.id=="string"&&t(e.id)},"onClick"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete log entry",children:v.jsx(pl,{className:"h-3 w-3"})})]})]})}),r&&O&&v.jsxs(v.Fragment,{children:[v.jsx(Pi,{}),v.jsxs("div",{className:"p-4 pt-3 space-y-4",children:[A(),I(),(e.message||e.details)&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Additional Info"}),v.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[e.message&&v.jsxs("div",{className:"text-xs mb-2",children:[v.jsx("span",{className:"font-medium text-muted-foreground",children:"Message: "}),v.jsx("span",{children:e.message})]}),e.details&&v.jsxs("div",{className:"text-xs",children:[v.jsx("span",{className:"font-medium text-muted-foreground",children:"Details: "}),v.jsx("span",{children:e.details})]})]})]})]})]}),!r&&O&&v.jsxs(v.Fragment,{children:[v.jsx(Pi,{}),v.jsx("div",{className:"p-4 pt-3",children:v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[v.jsx(Yi,{className:"h-3 w-3"}),v.jsx("span",{children:(()=>{const R=[];return e.body?.promptCount&&e.body.promptCount>0&&R.push(`${e.body.promptCount} prompt${e.body.promptCount>1?"s":""}`),e.body?.params&&R.push("parameters"),e.body?.response&&R.push("response data"),R.length>0?`Contains ${R.join(" and ")}`:"Contains additional data"})()}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>n(!0),"onClick"),className:"h-5 px-2 text-xs ml-auto",children:"View details"})]})})]})]})}a(K6e,"ActionCard");function Z6e({loadingMore:e,onLoadMore:t}){return v.jsx("div",{className:"flex justify-center py-6",children:e?v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(pd,{className:"h-4 w-4 animate-spin"}),v.jsx("span",{className:"text-sm",children:"Loading more actions..."})]}):v.jsx(ct,{variant:"outline",onClick:t,className:"px-8",children:"Load More"})})}a(Z6e,"LoadingIndicator");function Y6e({selectedType:e,searchQuery:t}){return v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[v.jsx(yo,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),v.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Actions Found"}),v.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:t?`No actions match "${t}". Try adjusting your search or filter.`:e==="all"?"Actions will appear here once the agent has performed operations.":`No ${e} actions found.`}),t&&v.jsx(ct,{variant:"outline",onClick:a(()=>{},"onClick"),children:"Clear Search"})]})}a(Y6e,"EmptyState");function $6e({agentId:e,roomId:t}){const[r,n]=H.useState("all"),[i,s]=H.useState(""),[o,l]=H.useState(Vh),[u,c]=H.useState(!1),d=H.useRef(null),f=["embedding","text_embedding"],{data:g=[],isLoading:m,error:y}=Ele(e,t,f),{mutate:_}=Sle(),{confirm:A,isOpen:I,onOpenChange:O,onConfirm:R,options:L}=Ll(),D=g.filter(h=>{if(r!=="all"){const w=h.body?.modelType||"",b=kB(w),x=h.type==="action";switch(r){case"llm":if(b!=="LLM"&&!x)return!1;break;case"transcription":if(b!=="Transcription")return!1;break;case"image":if(b!=="Image")return!1;break;case"other":if(b!=="Other"&&b!=="Unknown"&&!x)return!1;break}}if(i.trim()){const w=i.toLowerCase();return[h.body?.modelType,h.body?.modelKey,h.id,h.message,JSON.stringify(h.body?.params),JSON.stringify(h.body?.response)].filter(Boolean).join(" ").toLowerCase().includes(w)}return!0}),P=H.useCallback(()=>{if(!d.current||u||o>=D.length)return;const{scrollTop:h,scrollHeight:w,clientHeight:b}=d.current;h+b>=w-200&&(c(!0),setTimeout(()=>{l(E=>Math.min(E+Vh,D.length)),c(!1)},500))},[u,o,D.length]);H.useEffect(()=>{l(Vh)},[r,i]),H.useEffect(()=>{const h=d.current;if(h)return h.addEventListener("scroll",P),()=>h.removeEventListener("scroll",P)},[P]);const Z=D.slice(0,o),V=o<D.length,W=V6e(Z),F=a(h=>{A({title:"Delete Log Entry",description:"Are you sure you want to permanently delete this log entry? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{_({agentId:e,logId:h})})},"handleDelete"),Y=a(()=>{l(h=>h+Vh)},"handleLoadMore");return m&&g.length===0?v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx("div",{className:"flex items-center justify-center flex-1",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx(pd,{className:"h-8 w-8 animate-spin text-muted-foreground"}),v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"font-medium",children:"Loading Actions"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent action history..."})]})]})})}):y?v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx("div",{className:"flex items-center justify-center flex-1",children:v.jsxs("div",{className:"text-center",children:[v.jsx(yo,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),v.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Actions"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent actions."})]})})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"text-lg font-medium",children:" Actions"}),!m&&v.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:D.length})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(mn,{placeholder:"Search actions...",value:i,onChange:a(h=>s(h.target.value),"onChange"),className:"pl-10 w-64"})]}),v.jsxs(js,{value:r,onValueChange:a(h=>n(h),"onValueChange"),children:[v.jsx(Ya,{className:"w-40",children:v.jsx(Ps,{placeholder:"Filter actions"})}),v.jsxs($a,{children:[v.jsx(Ir,{value:"all",children:"All Actions"}),v.jsx(Ir,{value:"llm",children:"LLM Calls"}),v.jsx(Ir,{value:"transcription",children:"Transcriptions"}),v.jsx(Ir,{value:"image",children:"Image Operations"}),v.jsx(Ir,{value:"other",children:"Other"})]})]})]})]}),v.jsx("div",{ref:d,className:"flex-1 overflow-y-auto px-4",children:D.length===0?v.jsx(Y6e,{selectedType:r,searchQuery:i}):v.jsxs("div",{className:"space-y-4",children:[Object.entries(W).map(([h,w])=>v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-3 py-2",children:[v.jsx(Pi,{className:"flex-1"}),v.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:h}),v.jsx(Pi,{className:"flex-1"})]}),v.jsx("div",{className:"space-y-3",children:w.map((b,x)=>v.jsx(K6e,{action:b,onDelete:F},b.id||x))})]},h)),V&&v.jsx(Z6e,{loadingMore:u,onLoadMore:Y})]})})]}),v.jsx(Rl,{open:I,onOpenChange:O,title:L?.title||"",description:L?.description||"",confirmText:L?.confirmText,cancelText:L?.cancelText,variant:L?.variant,onConfirm:R})]})}a($6e,"AgentActionViewer");function Q6e({isOpen:e,onClose:t,memory:r,agentId:n}){const{toast:i}=Gr(),{mutate:s,isPending:o}=Ale(),{mutate:l,isPending:u}=kle(),[c,d]=H.useState(""),[f,g]=H.useState(!0),[m,y]=H.useState(!1),[_,A]=H.useState(!1),I=H.useRef(null),O=o||u,R=JSON.stringify(r.content,null,2),{confirm:L,isOpen:D,onOpenChange:P,onConfirm:Z,options:V}=Ll();H.useEffect(()=>{e&&(d(R),g(!0),A(!1),y(!1),setTimeout(()=>{I.current?.focus()},100))},[e,R]),H.useEffect(()=>{A(c!==R)},[c,R]),H.useEffect(()=>{if(!c.trim()){g(!1);return}try{JSON.parse(c),g(!0)}catch{g(!1)}},[c]),H.useEffect(()=>{const E=a(T=>{T.key==="Escape"&&e&&(_?L({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleEscape");return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[e,_,t]);const W=H.useCallback(()=>{if(!c.trim()){i({title:"Error",description:"Memory content cannot be empty",variant:"destructive"});return}if(!f){i({title:"Invalid JSON",description:"Please fix JSON syntax errors before saving",variant:"destructive"});return}try{const E=JSON.parse(c);s({agentId:n,memoryId:r.id,memoryData:{content:E}},{onSuccess:a(()=>{t(),i({title:"Memory Updated",description:"The memory content has been successfully updated"})},"onSuccess"),onError:a(T=>{i({title:"Update Failed",description:T.message||"Failed to update memory",variant:"destructive"})},"onError")})}catch{i({title:"Invalid JSON",description:"Please enter valid JSON format",variant:"destructive"})}},[c,f,s,n,r.id,t,i]),F=H.useCallback(()=>{L({title:"Delete Memory",description:"Are you sure you want to delete this memory? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{l({agentId:n,memoryId:r.id},{onSuccess:a(()=>{t(),i({title:"Memory Deleted",description:"The memory has been successfully removed"})},"onSuccess"),onError:a(E=>{i({title:"Delete Failed",description:E.message||"Failed to delete memory",variant:"destructive"})},"onError")})})},[l,n,r.id,t,i]),Y=H.useCallback(()=>{try{const E=JSON.parse(c);d(JSON.stringify(E,null,2)),i({title:"Formatted",description:"JSON has been formatted"})}catch{i({title:"Format Error",description:"Cannot format invalid JSON",variant:"destructive"})}},[c,i]),h=H.useCallback(()=>{L({title:"Reset Changes",description:"Reset to original content? All unsaved changes will be lost.",confirmText:"Reset",variant:"destructive"},()=>{d(R)})},[R]),w=H.useCallback(async()=>{try{await navigator.clipboard.writeText(c),i({title:"Copied",description:"Content copied to clipboard"})}catch{i({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},[c,i]),b=a(E=>new Date(E).toLocaleString(),"formatTimestamp"),x=a(E=>{E.target===E.currentTarget&&(_?L({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleOverlayClick");return e?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"memory-edit-title",children:v.jsxs(is,{className:"w-full max-w-4xl h-[85vh] max-h-[800px] flex flex-col",onClick:a(E=>E.stopPropagation(),"onClick"),children:[v.jsxs(Cm,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(g3,{id:"memory-edit-title",className:"text-xl font-semibold",children:"Edit Memory Content"}),_&&v.jsx("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Unsaved changes"})]}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close dialog",children:v.jsx(vi,{className:"h-4 w-4"})})]}),v.jsx(Pi,{}),v.jsxs(Dl,{className:"pt-4 flex-1 overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"mb-4 flex items-start bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[v.jsx(my,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[v.jsx("p",{className:"font-medium mb-1",children:"Editing Raw Memory Content"}),v.jsx("p",{children:"Changes may affect agent behavior. Ensure JSON format is valid before saving."})]})]}),v.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"ID:"}),v.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.id})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Created:"}),v.jsx("span",{children:b(r.createdAt||0)})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Room:"}),v.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.roomId})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Type:"}),v.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.entityId===n?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-white-100 text-white dark:bg-white-800 dark:text-white"}`,children:r.entityId===n?"Agent Message":"User Message"})]})]})]}),v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{htmlFor:"memory-content",className:"text-sm font-medium",children:"Memory Content"}),v.jsxs("div",{className:"flex items-center gap-1",children:[f?v.jsx(Fs,{className:"h-3 w-3 text-green-500"}):v.jsx(my,{className:"h-3 w-3 text-red-500"}),v.jsx("span",{className:`text-xs ${f?"text-green-600":"text-red-600"}`,children:f?"Valid JSON":"Invalid JSON"})]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(ct,{variant:"outline",size:"sm",onClick:a(()=>y(!m),"onClick"),disabled:O,title:m?"Switch to edit mode":"Switch to preview mode",children:m?v.jsx(As,{className:"h-3 w-3"}):v.jsx(za,{className:"h-3 w-3"})}),v.jsx(ct,{variant:"outline",size:"sm",onClick:w,disabled:O,title:"Copy to clipboard",children:v.jsx(Ua,{className:"h-3 w-3"})}),v.jsx(ct,{variant:"outline",size:"sm",onClick:Y,disabled:O||!f,title:"Format JSON",children:"Format"}),v.jsx(ct,{variant:"outline",size:"sm",onClick:h,disabled:O||!_,title:"Reset to original",children:v.jsx(sA,{className:"h-3 w-3"})})]})]}),v.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[m?v.jsx("div",{className:"flex-1 border rounded-md p-3 bg-muted/50 overflow-auto",children:v.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:f?JSON.stringify(JSON.parse(c),null,2):c})}):v.jsx(of,{ref:I,id:"memory-content",value:c,onChange:a(E=>d(E.target.value),"onChange"),className:`flex-1 resize-none font-mono text-sm min-h-[300px] ${f?"":"border-red-300 focus:border-red-500"}`,placeholder:"Memory content in JSON format...",disabled:O,"aria-describedby":"json-help"}),v.jsx("p",{id:"json-help",className:"text-xs text-muted-foreground mt-2 flex-shrink-0",children:"Edit the JSON directly. Use Ctrl+A to select all, Ctrl+Z to undo."})]})]}),v.jsxs(Mm,{className:"flex justify-between flex-shrink-0",children:[v.jsxs(ct,{variant:"destructive",onClick:F,disabled:O,children:[v.jsx(af,{className:"mr-2 h-4 w-4"}),"Delete Memory"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(ct,{variant:"outline",onClick:t,disabled:O,children:"Cancel"}),v.jsxs(ct,{onClick:W,disabled:O||!f||!_,children:[v.jsx(oA,{className:"mr-2 h-4 w-4"}),o?"Saving...":"Save Changes"]})]})]})]})}),v.jsx(Rl,{open:D,onOpenChange:P,title:V?.title||"",description:V?.description||"",confirmText:V?.confirmText,cancelText:V?.cancelText,variant:V?.variant,onConfirm:Z})]}):null}a(Q6e,"MemoryEditOverlay");const Zh=15;function W6e({agentId:e,agentName:t,channelId:r}){const[n,i]=H.useState("all"),[s,o]=H.useState(""),[l,u]=H.useState(null),[c,d]=H.useState(Zh),[f,g]=H.useState(!1),m=H.useRef(null),{data:y}=f3(),_=n==="facts"?void 0:"messages",A=n==="facts"||n==="all"?"facts":void 0,I=n==="currentChat"&&r?r:void 0,{data:O=[],isLoading:R,error:L}=l7(e,_,I),{data:D=[],isLoading:P,error:Z}=l7(e,A,I),V=[...O,...D],W=R||P,F=L||Z,Y=V.filter(C=>{if(n!=="all"&&n!=="currentChat"){if(n==="facts")return!0;if(n==="messagesSent"&&C.entityId!==C.agentId||n==="messagesReceived"&&C.entityId===C.agentId)return!1}if(s.trim()){const M=s.toLowerCase(),U=C.content;return[U?.text,U?.thought,C.id,C.metadata].filter(Boolean).join(" ").toLowerCase().includes(M)}return!0}),h=H.useCallback(()=>{if(!m.current||f||c>=Y.length)return;const{scrollTop:C,scrollHeight:M,clientHeight:U}=m.current;C+U>=M-200&&(g(!0),setTimeout(()=>{d(G=>Math.min(G+Zh,Y.length)),g(!1)},500))},[f,c,Y.length]);H.useEffect(()=>{d(Zh)},[n,s]),H.useEffect(()=>{const C=m.current;if(C)return C.addEventListener("scroll",h),()=>C.removeEventListener("scroll",h)},[h]);const w=a(C=>{const M=new Date(C),B=(new Date().getTime()-M.getTime())/(1e3*60*60);return B<24?M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):B<168?M.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):M.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},"formatDate"),b=a((C,M)=>M?.thought?v0:C.entityId===C.agentId?p2:kA,"getMemoryIcon"),x=a(async C=>{try{await navigator.clipboard.writeText(C)}catch(M){console.error("Failed to copy:",M)}},"copyToClipboard"),E=a(C=>{const M={};for(const U of C){const G=new Date(U.createdAt||0).toLocaleDateString();M[G]||(M[G]=[]),M[G].push(U)}return M},"groupMessagesByDate"),T=Y.slice(0,c),N=c<Y.length,k=E(T);if(W&&V.length===0)return v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx("div",{className:"flex items-center justify-center flex-1",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx(pd,{className:"h-8 w-8 animate-spin text-muted-foreground"}),v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"font-medium",children:"Loading Memories"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent conversation history..."})]})]})})});if(F)return v.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:v.jsx("div",{className:"flex items-center justify-center flex-1",children:v.jsxs("div",{className:"text-center",children:[v.jsx(yo,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),v.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Memories"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent memories."})]})})});const p=a(()=>v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[v.jsx(yo,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),v.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Memories Found"}),v.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:s?`No memories match "${s}". Try adjusting your search or filter.`:"This agent hasn't created any memories yet. Memories will appear here as the agent interacts."}),s&&v.jsx(ct,{variant:"outline",onClick:a(()=>o(""),"onClick"),children:"Clear Search"})]}),"EmptyState"),S=a(({memory:C})=>{const M=C.content,U=b(C,M),B=C.entityId===C.agentId,J=a(()=>B?y?.data?.agents?.find(se=>se.id===C.entityId)?.name||t:C.metadata?.raw?.senderName||C.metadata?.source||"User","getEntityName")();return v.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/5 transition-colors group",children:[v.jsxs("div",{className:"flex items-start justify-between mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-md bg-muted",children:v.jsx(U,{className:"h-4 w-4"})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-medium text-sm",children:J}),v.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:M?.thought?"Thought":B?"Agent":"User"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[v.jsx(Ip,{className:"h-3 w-3"}),v.jsx("span",{children:w(C.createdAt||0)}),C.id&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:C.id.slice(-8)})]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[M?.text&&v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>x(M.text||""),"onClick"),className:"h-8 w-8 p-0",title:"Copy text",children:v.jsx(Ua,{className:"h-3 w-3"})}),C.id&&v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>u(C),"onClick"),className:"h-8 w-8 p-0",title:"Edit memory",children:v.jsx(nU,{className:"h-3 w-3"})})]})]}),v.jsxs("div",{className:"space-y-3",children:[M?.text&&v.jsx("div",{className:"bg-muted/50 rounded-md p-3",children:v.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:M.text})}),M?.thought&&v.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(v0,{className:"h-3 w-3 text-muted-foreground"}),v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Thought Process"})]}),v.jsx("p",{className:"text-xs text-muted-foreground italic leading-relaxed",children:String(M.thought)})]}),(M?.actions||M?.providers||M?.source)&&v.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.actions?.map(ue=>v.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Action",children:ue},ue)),M.providers?.map(ue=>v.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Provider",children:ue},ue)),M.source&&v.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",children:M.source})]}),C.metadata&&Object.keys(C.metadata).length>0&&v.jsxs("details",{className:"text-xs",children:[v.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View metadata"}),v.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded text-[10px] font-mono overflow-x-auto",children:v.jsx("pre",{children:JSON.stringify(C.metadata,null,2)})})]})]})]})},"MemoryCard");return v.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Memories"}),!W&&v.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:Y.length})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(mn,{placeholder:"Search memories...",value:s,onChange:a(C=>o(C.target.value),"onChange"),className:"pl-10 w-full min-w-0 max-w-64"})]}),v.jsxs(js,{value:n,onValueChange:a(C=>i(C),"onValueChange"),children:[v.jsx(Ya,{className:"w-40",children:v.jsx(Ps,{placeholder:"Filter memories"})}),v.jsxs($a,{children:[v.jsx(Ir,{value:"all",children:"All Messages"}),r&&v.jsx(Ir,{value:"currentChat",children:"Current Chat"}),v.jsx(Ir,{value:"messagesSent",children:"Agent Messages"}),v.jsx(Ir,{value:"messagesReceived",children:"User Messages"}),v.jsx(Ir,{value:"facts",children:"Facts"})]})]})]})]}),v.jsx("div",{ref:m,className:"flex-1 overflow-y-auto px-4",children:Y.length===0?v.jsx(p,{}):v.jsxs("div",{className:"space-y-4",children:[Object.entries(k).map(([C,M])=>v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-3 py-2",children:[v.jsx(Pi,{className:"flex-1"}),v.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:C}),v.jsx(Pi,{className:"flex-1"})]}),v.jsx("div",{className:"space-y-3",children:M.map(U=>v.jsx(S,{memory:U},U.id||U.createdAt))})]},C)),N&&v.jsx("div",{className:"flex justify-center py-6",children:f?v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(pd,{className:"h-4 w-4 animate-spin"}),v.jsx("span",{className:"text-sm",children:"Loading more memories..."})]}):v.jsx(ct,{variant:"outline",onClick:a(()=>d(C=>C+Zh),"onClick"),className:"px-8",children:"Load More"})})]})}),l&&v.jsx(Q6e,{isOpen:!!l,onClose:a(()=>u(null),"onClose"),memory:l,agentId:e})]})}a(W6e,"AgentMemoryViewer");function AB(e){const[t,r]=H.useState(!1),{toast:n}=Gr(),i=Gn(),s=On();return{handleDelete:H.useCallback(async()=>{r(!0),n({title:"Deleting...",description:`Deleting agent "${e.name}"`});let l=!1,u=null;try{u=setTimeout(()=>{l||(s.invalidateQueries({queryKey:["agents"]}),i("/"),n({title:"Note",description:"Deletion is still processing in the background."}))},8e3);const c=Lr();if(!e.id)throw new Error("Agent ID is required for deletion");const d=await c.agents.deleteAgent(e.id);l=!0,u&&clearTimeout(u);const f=d?.partial;n(f?{title:"Processing",description:"Deletion is still in progress and will complete in the background."}:{title:"Success",description:"Agent deleted successfully"}),s.invalidateQueries({queryKey:["agents"]}),i("/")}catch(c){l=!0,u&&clearTimeout(u);const d=c?.message??"Failed to delete agent",f=c?.statusCode||c?.response?.status;f===409||d.includes("409")||d.includes("Conflict")||d.includes("foreign key constraint")||d.includes("active references")?n({title:"Cannot Delete",description:"This agent cannot be deleted because it has active references. Try stopping the agent first.",variant:"destructive"}):f===408||f===504||d.includes("408")||d.includes("504")||d.includes("timeout")||d.includes("timed out")?(n({title:"Operation Timeout",description:"The deletion is taking longer than expected and will continue in the background.",variant:"destructive"}),s.invalidateQueries({queryKey:["agents"]}),i("/")):n({title:"Error",description:d,variant:"destructive"})}finally{r(!1)}},[e,n,i,s]),isDeleting:t}}a(AB,"useDeleteAgent");function TB({agent:e,agentId:t,onSaveComplete:r}){const{toast:n}=Gr(),i=Gn(),s=On(),{confirm:o,isOpen:l,onOpenChange:u,onConfirm:c,options:d}=Ll(),f=e?.status===bn.ACTIVE,g=H.useRef(null),[m,y]=H.useState({}),{handleDelete:_,isDeleting:A}=AB(e),I=FD(e),{stopAgent:O,isAgentStopping:R}=Zu(),L=a(async()=>{try{await O(e),n({title:"Success",description:"Agent stopped successfully"})}catch(Z){n({title:"Error",description:Z instanceof Error?Z.message:"Failed to stop agent",variant:"destructive"})}},"handleStopAgent"),D=a(async()=>{if(!t){n({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const Z=a(async()=>{try{const V=Lr(),W=Object.keys(m).length>0?m:g.current?.getSecrets()||{},F=I.getChangedFields();if(W&&Object.keys(W).length>0){F.settings||(F.settings={});const h=Object.entries(W).filter(([w,b])=>b!==null).reduce((w,[b,x])=>({...w,[b]:x}),{});F.settings.secrets=h}if(Object.keys(F).length===0){const h=I.agent?.settings?.secrets;if(h&&Object.keys(h).length>0){const w={id:t,settings:{secrets:h}};await V.agents.updateAgent(t,w),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent secrets updated successfully"}),r?r():i("/");return}n({title:"No Changes",description:"No changes were made to the agent"}),r?r():i("/");return}const Y={id:t,...F};await V.agents.updateAgent(t,Y),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),n({title:"Success",description:"Agent updated successfully"}),r?r():i("/")}catch(V){throw n({title:"Error",description:V instanceof Error?V.message:"Failed to update agent",variant:"destructive"}),V}},"performSave");if(g?.current){const V=g.current.validateSecrets();if(!V.isValid){o({title:"Missing Required Secrets",description:`The following required secrets are missing: ${V.missingSecrets.join(", ")}. Do you want to save anyway?`,confirmText:"Save Anyway",cancelText:"Cancel",variant:"destructive"},Z);return}}await Z()},"handleSubmit"),P=a(()=>{A||o({title:"Delete Agent",description:`Are you sure you want to delete the agent "${e.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},_)},"handleDelete");return v.jsxs(v.Fragment,{children:[v.jsx(LD,{characterValue:I.agent,setCharacterValue:I,title:"Agent Settings",description:"Configure your AI agent's behaviour and capabilities.",onSubmit:D,onReset:I.reset,onDelete:P,onStopAgent:f?L:void 0,isAgent:!0,isDeleting:A,isStopping:R(t),customComponents:[{name:"Plugins",component:v.jsx(PD,{characterValue:I.agent,setCharacterValue:I,initialPlugins:e.plugins})},{name:"Secret",component:v.jsx(t3,{characterValue:I.agent,ref:g,onChange:a(Z=>{y(Z),I.updateSettings({secrets:Z})},"onChange")})},{name:"Avatar",component:v.jsx(DD,{characterValue:I.agent,setCharacterValue:I})}]}),v.jsx(Rl,{open:l,onOpenChange:u,title:d?.title||"",description:d?.description||"",confirmText:d?.confirmText,cancelText:d?.cancelText,variant:d?.variant,onConfirm:c})]})}a(TB,"AgentSettings");const bk="eliza-agent-tab-states";function X6e(e){const[t,r]=H.useState("details"),n=H.useCallback(()=>{try{const o=localStorage.getItem(bk);return o?JSON.parse(o):{}}catch(o){return We.error("Error reading agent tab states from localStorage:",o),{}}},[]),i=H.useCallback(o=>{try{localStorage.setItem(bk,JSON.stringify(o))}catch(l){We.error("Error saving agent tab states to localStorage:",l)}},[]);H.useEffect(()=>{if(!e){r("details");return}const l=n()[e]||"details";r(l)},[e,n]);const s=H.useCallback(o=>{if(r(o),e){const u={...n(),[e]:o};i(u)}},[e,n,i]);return{currentTab:t,setTab:s}}a(X6e,"useAgentTabState");class J6e{static{a(this,"ElizaSpanAdapter")}convertRunDetailToTraceSpans(t){const r=t.events;if(!r||r.length===0)return[];const n=[...r].sort((l,u)=>l.timestamp-u.timestamp),i=new Map,s=new Map,o=[];return n.forEach((l,u)=>{switch(l.type){case"RUN_STARTED":{const c=this.createRunSpan(t,l);o.push(c);break}case"ACTION_STARTED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,d=l.data.actionId||c;let f=i.get(d);f||(f={id:`action-${d}`,title:c,type:"agent_invocation",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]},i.set(d,f),o.push(f));const g=(f.children?.length||0)+1,m={id:`attempt-${d}-${g}`,title:`Attempt ${g}`,type:"span",status:"pending",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),children:[]};f.children=[...f.children||[],m],s.set(d,m);break}case"ACTION_COMPLETED":{const c=l.data.actionName||l.data.actionId||`Action ${u}`,d=l.data.actionId||c,f=i.get(d),g=s.get(d),m=this.extractPrompt(l.data),y=this.extractResponse(l.data);if(g){const _=l.data.success!==!1;g.status=_?"success":"error",g.endTime=new Date(l.timestamp),g.duration=l.timestamp-g.startTime.getTime(),m&&(g.input=m),y&&(g.output=y),s.delete(d)}if(f){const _=l.data.success!==!1;f.status=_?"success":"error",f.endTime=new Date(l.timestamp),f.duration=l.timestamp-f.startTime.getTime(),m&&!f.input&&(f.input=m),y&&!f.output&&(f.output=y)}break}case"MODEL_USED":{const c=l.data.modelType||"Model Call",d=this.extractPrompt(l.data),f=this.extractResponse(l.data),g={id:`model-${u}`,title:c,type:"llm_call",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.executionTime||0)),duration:l.data.executionTime||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data),input:d,output:f,tokensCount:this.extractTokensCount(l.data),cost:this.extractCost(l.data)},y=l.data.actionContext||void 0||Array.from(s.keys()).pop();if(y){const _=s.get(y);if(_)_.children=[..._.children||[],g];else{const A=i.get(y);if(A&&A.children&&A.children.length>0){const I=A.children[A.children.length-1];I.children=[...I.children||[],g]}}}else o.push(g);break}case"EVALUATOR_COMPLETED":{const c=l.data.evaluatorName||`Evaluator ${u}`,d={id:`evaluator-${u}`,title:c,type:"chain_operation",status:"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp),duration:0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)};o.push(d);break}case"EMBEDDING_EVENT":{const c=l.data.status||"completed",d={id:`embedding-${u}`,title:`Embedding ${c}`,type:"embedding",status:c==="failed"?"error":"success",startTime:new Date(l.timestamp),endTime:new Date(l.timestamp+(l.data.durationMs||0)),duration:l.data.durationMs||0,raw:JSON.stringify(l,null,2),attributes:this.convertEventDataToAttributes(l.data)},f=Array.from(s.keys()).pop();if(f){const g=s.get(f);g&&(g.children=[...g.children||[],d])}else o.push(d);break}}}),o}createRunSpan(t,r){const n=t.summary,i=n.durationMs||0,s=new Date(r.timestamp),o=new Date(r.timestamp+i);return{id:n.runId,title:`Run ${new Date(n.startedAt||Date.now()).toLocaleTimeString()}`,type:"agent_invocation",status:this.convertRunStatus(n.status),startTime:s,endTime:o,duration:i,raw:JSON.stringify(t,null,2),attributes:[{key:"run.id",value:{stringValue:n.runId}},{key:"run.status",value:{stringValue:n.status}},...n.messageId?[{key:"message.id",value:{stringValue:n.messageId}}]:[],...n.roomId?[{key:"room.id",value:{stringValue:n.roomId}}]:[]],children:[]}}convertRunStatus(t){switch(t){case"completed":return"success";case"error":return"error";case"timeout":return"warning";case"started":return"pending";default:return"pending"}}convertEventDataToAttributes(t){return Object.entries(t).map(([r,n])=>({key:r,value:this.convertValueToAttributeValue(n)}))}convertValueToAttributeValue(t){return typeof t=="string"?{stringValue:t}:typeof t=="number"?{intValue:t.toString()}:typeof t=="boolean"?{boolValue:t}:{stringValue:JSON.stringify(t)}}coerceToNumber(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string"){const r=Number(t);return Number.isFinite(r)?r:void 0}}extractTokensCount(t){const r=Object.prototype.hasOwnProperty.call(t,"inputTokens"),n=Object.prototype.hasOwnProperty.call(t,"outputTokens");if(r||n){const o=this.coerceToNumber(t.inputTokens)??0,l=this.coerceToNumber(t.outputTokens)??0;return o+l}const i=a(o=>{if(!o||typeof o!="object")return;const l=o,u=this.coerceToNumber(l.total_tokens);if(u!==void 0)return u;const c=Object.prototype.hasOwnProperty.call(l,"prompt_tokens"),d=Object.prototype.hasOwnProperty.call(l,"completion_tokens");if(c||d){const f=this.coerceToNumber(l.prompt_tokens)??0,g=this.coerceToNumber(l.completion_tokens)??0;return f+g}},"extractFromUsage");if(t.response&&typeof t.response=="object"){const o=t.response,l=i(o.usage);if(l!==void 0)return l}const s=i(t.usage);if(s!==void 0)return s}extractCost(t){if(t.cost&&typeof t.cost=="number")return t.cost;if(t.response&&typeof t.response=="object"){const r=t.response;if(r.cost&&typeof r.cost=="number")return r.cost}}extractPrompt(t){if(t.prompts&&Array.isArray(t.prompts)){const r=t.prompts;if(r.length>0)return r.map((n,i)=>(r.length>1?`[Prompt ${i+1}${n.modelType?` - ${n.modelType}`:""}]
`:"")+(n.prompt||"")).join(`

---

`)}if(t.prompt&&typeof t.prompt=="string")return t.prompt;if(t.params&&typeof t.params=="object"){const r=t.params;if(r.prompt&&typeof r.prompt=="string")return r.prompt;const{prompt:n,...i}=r;if(Object.keys(i).length>0)return JSON.stringify(i,null,2)}if(t.input&&typeof t.input=="string")return t.input}extractResponse(t){if(t.response){if(typeof t.response=="string")return t.response;if(typeof t.response=="object"){const r=t.response;return r.content&&typeof r.content=="string"?r.content:r.text&&typeof r.text=="string"?r.text:r.message&&typeof r.message=="string"?r.message:JSON.stringify(r,null,2)}return String(t.response)}if(t.output)return typeof t.output=="string"?t.output:JSON.stringify(t.output,null,2);if(t.result)return typeof t.result=="string"?t.result:JSON.stringify(t.result,null,2)}convertRunSummaryToTraceRecord(t){const r=t.runId.slice(0,8);return{id:t.runId,name:`Run ${r}`,spansCount:Object.values(t.counts||{}).reduce((n,i)=>n+i,0),durationMs:t.durationMs||0,agentDescription:`Status: ${t.status}`,startTime:t.startedAt||void 0}}}const vk=new J6e,NB=a(e=>{const t=+e.startTime;return+e.endTime-t},"getDurationMs"),yu=a(e=>{if(e<=0)return"0ms";if(e<1e3)return`${Math.round(e)}ms`;if(e<6e4)return`${Math.round(e/1e3)}s`;if(e<36e5){const n=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3);return i>0?`${n}m ${i}s`:`${n}m`}const t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return r>0?`${t}h ${r}m`:`${t}h`},"formatDuration"),IB=a(({spanCard:e,minStart:t,maxEnd:r})=>{const n=+e.startTime,i=r-t,s=NB(e),o=(n-t)/i*100,l=s/i*100;return{durationMs:s,startPercent:o,widthPercent:l}},"getTimelineData"),CB=a(e=>{const t=[],r=a(n=>{n.forEach(i=>{t.push(i),i.children?.length&&r(i.children)})},"traverse");return r(e),t},"flattenSpans");function q6e(e){return e.reduce((t,r)=>{const n=+new Date(r.startTime),i=+new Date(r.endTime);return{minStart:Math.min(t.minStart,n),maxEnd:Math.max(t.maxEnd,i)}},{minStart:e.length>0?+new Date(e[0].startTime):1/0,maxEnd:e.length>0?+new Date(e[0].endTime):-1/0})}a(q6e,"findTimeRange");function MB(e,t){const r=t.toLowerCase().trim();if(!r)return e;const n=[];for(const i of e){const s=i.title.toLowerCase().includes(r),o=i.type.toLowerCase().includes(r),l=i.attributes?.some(d=>d.key.toLowerCase().includes(r)||d.value.stringValue?.toLowerCase().includes(r)||d.value.intValue?.toLowerCase().includes(r)),u=s||o||l,c=i.children?MB(i.children,t):[];(u||c.length>0)&&n.push({...i,children:c.length>0?c:i.children})}return n}a(MB,"filterSpansRecursively");const OB={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},e3e={purple:{bg:"bg-purple-100",darkBg:"dark:bg-purple-950/60",text:"text-purple-500",darkText:"dark:text-purple-300"},indigo:{bg:"bg-indigo-100",darkBg:"dark:bg-indigo-950/60",text:"text-indigo-500",darkText:"dark:text-indigo-300"},orange:{bg:"bg-orange-100",darkBg:"dark:bg-orange-950/60",text:"text-orange-600",darkText:"dark:text-orange-300"},teal:{bg:"bg-teal-100",darkBg:"dark:bg-teal-950/60",text:"text-teal-600",darkText:"dark:text-teal-300"},cyan:{bg:"bg-cyan-100",darkBg:"dark:bg-cyan-950/60",text:"text-cyan-600",darkText:"dark:text-cyan-300"},sky:{bg:"bg-sky-100",darkBg:"dark:bg-sky-950/60",text:"text-sky-600",darkText:"dark:text-sky-300"},yellow:{bg:"bg-yellow-100",darkBg:"dark:bg-yellow-950/60",text:"text-yellow-700",darkText:"dark:text-yellow-300"},emerald:{bg:"bg-emerald-100",darkBg:"dark:bg-emerald-950/60",text:"text-emerald-600",darkText:"dark:text-emerald-300"},red:{bg:"bg-red-100",darkBg:"dark:bg-red-950/60",text:"text-red-600",darkText:"dark:text-red-300"},gray:{bg:"bg-gray-100",darkBg:"dark:bg-gray-900",text:"text-gray-600",darkText:"dark:text-gray-300"}},_w={llm_call:{label:"LLM",theme:"purple",icon:h2},tool_execution:{label:"TOOL",theme:"orange",icon:cU},agent_invocation:{label:"AGENT INVOCATION",theme:"indigo",icon:p2},chain_operation:{label:"CHAIN",theme:"teal",icon:uU},retrieval:{label:"RETRIEVAL",theme:"cyan",icon:sf},embedding:{label:"EMBEDDING",theme:"emerald",icon:lU},create_agent:{label:"CREATE AGENT",theme:"sky",icon:Tp},span:{label:"SPAN",theme:"cyan",icon:oU},event:{label:"EVENT",theme:"emerald",icon:sU},guardrail:{label:"GUARDRAIL",theme:"red",icon:aU},unknown:{label:"UNKNOWN",theme:"gray",icon:iU}};function Ew(e){return _w[e].theme}a(Ew,"getSpanCategoryTheme");function RB(e){return _w[e].label}a(RB,"getSpanCategoryLabel");function LB(e){return _w[e].icon}a(LB,"getSpanCategoryIcon");const t3e="inline-flex items-center justify-center font-medium transition-all duration-200",r3e={6:"h-6 px-2 gap-1 text-xs",7:"h-7 px-2 gap-1 text-xs",8:"h-8 px-2 gap-1 text-xs",9:"h-9 px-2.5 gap-2 text-sm",10:"h-10 px-4 gap-2 text-sm",11:"h-11 px-5 gap-3 text-base",12:"h-12 px-5 gap-2.5 text-base",16:"h-16 px-7 gap-3 text-lg"},yk={gray:"bg-muted text-muted-foreground",purple:"bg-primary text-primary-foreground",indigo:"bg-primary text-primary-foreground",orange:"bg-chart-1 text-primary-foreground",teal:"bg-chart-2 text-primary-foreground",cyan:"bg-chart-3 text-primary-foreground",sky:"bg-chart-4 text-primary-foreground",yellow:"bg-chart-5 text-primary-foreground",emerald:"bg-accent text-accent-foreground",red:"bg-destructive text-destructive-foreground"},n3e={filled:"",outlined:"border border-2 bg-transparent text-foreground border-border",ghost:"bg-transparent text-muted-foreground"},wk=a(({children:e,size:t="6",theme:r="gray",rounded:n="md",variant:i="filled",fullWidth:s=!1,disabled:o=!1,iconStart:l,iconEnd:u,type:c="button",onClick:d,className:f="",...g})=>{const m=s?"w-full":"",y=o?"cursor-not-allowed opacity-50":"hover:opacity-70",_=i==="filled"?yk[r]||yk.gray:"";return v.jsxs("button",{type:c,onClick:d,disabled:o,className:Ve(t3e,r3e[t],OB[n],n3e[i],_,m,y,f),...g,children:[l&&v.jsx("span",{className:"mr-1",children:l}),e,u&&v.jsx("span",{className:"ml-1",children:u})]})},"Button"),i3e={6:"h-6 min-h-6",7:"h-7 min-h-7",8:"h-8 min-h-8",9:"h-9 min-h-9",10:"h-10 min-h-10",11:"h-11 min-h-11",12:"h-12 min-h-12",16:"h-16 min-h-16"},a3e={default:"border border-border bg-transparent ",ghost:"bg-transparent"},ig=a(({children:e,className:t,size:r="6",variant:n="default",type:i="button","aria-label":s,...o})=>v.jsx("button",{type:i,"aria-label":s,className:Ve(t,i3e[r],"inline-flex aspect-square shrink-0 items-center justify-center","rounded-md",a3e[n],"text-muted-foreground ","hover:bg-gray-200 dark:hover:bg-gray-800"),...o,children:e}),"IconButton"),DB=a(({onExpandAll:e,...t})=>v.jsx(ig,{size:"7",onClick:e,"aria-label":"Expand all",...t,children:v.jsx(dU,{className:"size-3.5"})}),"ExpandAllButton"),jB=a(({onCollapseAll:e,...t})=>v.jsx(ig,{size:"7",onClick:e,"aria-label":"Collapse all",...t,children:v.jsx(fU,{className:"size-3.5"})}),"CollapseAllButton"),xk="text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",s3e={underline:{list:"h-9 flex border-b border-border ",trigger:`w-full justify-center px-3 ${xk} 
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      border-b-2 border-transparent data-[state=active]:border-primary 
      dark:data-[state=active]:border-muted -mb-[2px]
      hover:border-muted `},pill:{list:"h-9 inline-flex gap-1 p-1 bg-muted rounded-lg",trigger:`px-3 ${xk} rounded-md
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      hover:bg-accent data-[state=active]:bg-card data-[state=active]:shadow-sm
      dark:hover:bg-gray-700 dark:data-[state=active]:bg-gray-600 dark:data-[state=active]:shadow-none`}},PB=a(({items:e,defaultValue:t,value:r,onValueChange:n,theme:i="underline",className:s="",tabsListClassName:o="",triggerClassName:l="",dir:u,...c})=>{const d=t||e[0]?.value,f=s3e[i];return v.jsx(Uk,{className:s,defaultValue:r?void 0:d,value:r,onValueChange:n,dir:u,...c,children:v.jsx(s2,{className:Ve(f.list,o),"aria-label":"Navigation tabs",children:e.map(g=>v.jsxs(o2,{value:g.value,disabled:g.disabled,className:Ve("flex items-center overflow-hidden",f.trigger,l),children:[g.icon&&v.jsx("span",{className:"mr-2 text-muted-foreground group-data-[state=active]:text-current ",children:g.icon}),v.jsx("span",{className:"truncate",children:g.label})]},g.value))})})},"Tabs"),zB=a(({title:e,rightContent:t,children:r,defaultOpen:n=!1,className:i="",triggerClassName:s="",contentClassName:o="",onOpenChange:l})=>{const[u,c]=H.useState(n),d=H.useCallback(g=>{c(g),l?.(g)},[l]),f=H.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),d(!u))},[d,u]);return v.jsxs(f2,{open:u,onOpenChange:d,className:Ve("rounded-lg",i),children:[v.jsx(AA,{asChild:!0,children:v.jsxs("div",{tabIndex:0,role:"button",className:Ve("mb-1 flex w-full items-center justify-between gap-2 rounded-lg px-1 py-3 text-left text-sm font-medium text-foreground",s),onKeyDown:f,"aria-expanded":u,"aria-label":`${u?"Collapse":"Expand"} content of "${e}" section`,children:[v.jsxs("div",{className:"flex w-full items-center gap-2",children:[v.jsx(Ja,{className:Ve("h-3 w-3 text-muted-foreground transition-transform duration-200",u&&"rotate-180")}),v.jsx("span",{className:"truncate",children:e})]}),t]})}),v.jsx(TA,{className:Ve("data-[state=closed]:animate-slideUp data-[state=open]:animate-slideDown",o),children:r})]})},"CollapsibleSection"),_k="absolute top-1/2 -translate-y-1/2 flex items-center justify-center text-foreground",BB=a(({className:e,onChange:t,onValueChange:r,startIcon:n,onClear:i,ref:s,inputClassName:o,label:l,hideLabel:u=!1,id:c,...d})=>{const f=H.useRef(null),g=a(y=>{t?.(y),r?.(y.target.value)},"handleChange"),m=a(()=>{if(i?.(),s){s.current?.focus();return}f.current?.focus()},"handleClear");return v.jsxs("div",{className:Ve("w-full",e),children:[l&&v.jsx("label",{htmlFor:c,className:Ve("block text-sm font-medium text-foreground ",u&&"sr-only"),children:l}),v.jsxs("div",{className:Ve("relative flex w-full items-center justify-center",l&&!u&&"mt-1"),children:[v.jsx("input",{id:c,ref:s||f,onChange:g,className:Ve(o,"flex h-7 items-center truncate","w-full px-2",!!n&&"pl-8",!!i&&"pr-8","rounded border border-border bg-transparent ","text-foreground placeholder:text-muted-foreground ","hover:border-border dark:hover:border-gray-700"),...d}),n&&v.jsx("div",{className:Ve(_k,"left-2"),"aria-hidden":!0,children:n}),i&&d.value&&v.jsx("button",{className:Ve(_k,"right-2"),"aria-label":"Clear input value",onClick:m,type:"button",children:v.jsx(vi,{className:"size-4"})})]})]})},"TextInput"),o3e=a(({data:e})=>v.jsxs("div",{className:"space-y-6",children:[(!e.attributes||e.attributes.length===0)&&v.jsx("div",{className:"p-6 text-center",children:v.jsx("p",{className:"text-muted-foreground ",children:"No attributes available for this span."})}),(e.attributes||[]).map((t,r)=>{const n=t.value.stringValue||t.value.intValue||t.value.boolValue?.toString()||"N/A";return v.jsx(zB,{title:t.key,defaultOpen:!0,children:v.jsx(BB,{id:`${e.id}-attribute-${r}`,value:n,disabled:!0,readOnly:!0,inputClassName:"font-mono text-xs",className:"w-full"})},`${t.key}-${r}`)})]}),"DetailsViewAttributesTab"),l3e={4:"size-4 text-xs",6:"size-6 text-xs",8:"size-8 text-xs",9:"size-9 text-sm",10:"size-10 text-base",11:"size-11 text-lg",12:"size-12 text-xl",16:"size-16 text-2xl"},u3e={4:"size-3",6:"size-4",8:"size-6",9:"size-7",10:"size-8",11:"size-9",12:"size-10",16:"size-12"},c3e={4:"text-xs",6:"text-xs",8:"text-xs",9:"text-sm",10:"text-base",11:"text-lg",12:"text-xl",16:"text-2xl"},d3e={gray:"bg-muted-foreground",red:"bg-destructive",orange:"bg-chart-1",yellow:"bg-chart-5",teal:"bg-chart-2",indigo:"bg-primary",purple:"bg-primary",sky:"bg-chart-4",cyan:"bg-chart-3",emerald:"bg-accent"},Sw=a(({src:e,alt:t="Avatar",size:r="10",rounded:n="full",bgColor:i="gray",textColor:s="white",letter:o,className:l="",...u})=>{const[c,d]=H.useState(!1),f=o?o.charAt(0):t.charAt(0).toUpperCase(),g=s==="white"?"text-white":"text-black";return v.jsx("div",{className:Ve("flex items-center justify-center overflow-hidden","bg-muted",c&&"border border-border",l3e[r],c3e[r],OB[n],l),...u,children:c?v.jsx(kA,{className:Ve(u3e[r],"text-muted-foreground")}):v.jsx(v.Fragment,{children:e?v.jsx("img",{src:e,alt:t,className:"h-full w-full object-cover",onError:a(()=>d(!0),"onError")}):v.jsx("div",{className:Ve("flex h-full w-full items-center justify-center",d3e[i],g,"font-medium"),children:f})})})},"Avatar"),f3e={success:"bg-green-500 dark:bg-green-500",error:"bg-red-500 dark:bg-red-500",pending:"bg-violet-500 dark:bg-violet-500",warning:"bg-yellow-500 dark:bg-yellow-500"},h3e={success:"bg-green-100 dark:bg-green-950 text-green-600 dark:text-green-400",error:"bg-red-100 dark:bg-red-950 text-red-600 dark:text-red-400",pending:"bg-violet-100 dark:bg-violet-950 text-violet-600 dark:text-violet-400",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-600 dark:text-yellow-400"},a2=a(({status:e,variant:t="dot",...r})=>{const n=`Status: ${e}`;return v.jsx("div",{className:"flex size-4 items-center justify-center",...r,children:t==="dot"?v.jsx(p3e,{status:e,title:n}):v.jsx(m3e,{status:e,title:n})})},"SpanStatus"),p3e=a(({status:e,title:t})=>v.jsx("span",{className:Ve("block size-1.5 rounded-full",f3e[e]),"aria-label":t,title:t}),"SpanStatusDot"),m3e=a(({status:e,title:t})=>v.jsxs("span",{className:Ve("inline-flex items-center justify-center","h-3.5 w-4 rounded",h3e[e]),"aria-label":t,title:t,children:[e==="success"&&v.jsx(Fs,{className:"size-2.5","aria-hidden":!0}),e==="error"&&v.jsx(my,{className:"size-2.5","aria-hidden":!0}),e==="warning"&&v.jsx(u2,{className:"size-2.5","aria-hidden":!0}),e==="pending"&&v.jsx(d2,{className:"size-2.5","aria-hidden":!0})]}),"SpanStatusBadge"),g3e=a(({data:e,avatar:t,copyButton:r,actions:n,className:i="mb-4 flex flex-wrap items-center gap-4"})=>{const[s,o]=H.useState(!1),l=a(()=>{r?.onCopy&&(r.onCopy(e),o(!0),setTimeout(()=>o(!1),2e3))},"handleCopy");return v.jsxs("div",{className:i,children:[v.jsxs("div",{className:"flex items-center gap-1.5",children:[t&&v.jsx(Sw,{size:"4",...t}),v.jsx("span",{className:"text-base tracking-wide text-foreground ",children:e.title}),v.jsx("div",{className:"flex size-5 items-center justify-center",children:v.jsx(a2,{status:e.status})}),r&&v.jsx(ig,{"aria-label":r.isEnabled?"Copy span details":"Copy disabled",variant:"ghost",onClick:l,children:s?v.jsx(Fs,{className:"size-3 text-muted-foreground"}):v.jsx(Ua,{className:"size-3 text-muted-foreground"})})]}),n]})},"DetailsViewHeader"),b3e=a(({data:e})=>{const t=!!e.input,r=!!e.output;if(!t&&!r)return v.jsx("div",{className:"p-6 text-center",children:v.jsx("p",{className:"text-muted-foreground ",children:"No input or output data available for this span."})});let n=null,i=null;if(typeof e.input=="string")try{n=JSON.parse(e.input)}catch{n=null}if(typeof e.output=="string")try{i=JSON.parse(e.output)}catch{i=null}return v.jsxs("div",{className:"space-y-3",children:[typeof e.input=="string"&&v.jsx(Ek,{section:"Input",content:e.input,parsedContent:n}),typeof e.output=="string"&&v.jsx(Ek,{section:"Output",content:e.output,parsedContent:i})]})},"DetailsViewInputOutputTab"),Ek=a(({section:e,content:t,parsedContent:r})=>{const[n,i]=H.useState("plain"),[s,o]=H.useState(!0),l=[{value:"json",label:"JSON",disabled:!r},{value:"plain",label:"Plain"}];return v.jsx(zB,{title:e,defaultOpen:!0,onOpenChange:o,rightContent:s?v.jsx(PB,{items:l,defaultValue:"plain",value:n,onValueChange:i,theme:"pill",onClick:a(u=>u.stopPropagation(),"onClick")}):null,triggerClassName:"min-h-16",children:v.jsx(v3e,{content:t,section:e,tab:n,parsedContent:r})})},"IOSection"),v3e=a(({tab:e,content:t,section:r,parsedContent:n})=>t?v.jsxs("div",{className:"relative rounded-lg border border-border ",children:[v.jsx(y3e,{section:r,content:t}),e==="json"&&v.jsx(v.Fragment,{children:n?v.jsx(NA,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:n,id:`json-pretty-${r}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"}):v.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Invalid JSON format"})}),e==="plain"&&v.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:v.jsx("pre",{className:"overflow-x-auto whitespace-pre-wrap text-left font-mono text-xs text-foreground",children:t})})]}):v.jsx("p",{className:"p-3 text-sm italic text-muted-foreground ",children:"No data available"}),"IOContent"),y3e=a(({section:e,content:t})=>{const[r,n]=H.useState(!1),i=a(()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)},"onClick");return v.jsx(ig,{onClick:i,"aria-label":r?`${e} Data Copied`:`Copy ${e} Data`,variant:"ghost",className:"absolute right-1.5 top-1.5",children:r?v.jsx(Fs,{className:"size-3"}):v.jsx(Ua,{className:"size-3"})})},"CopyButton"),w3e={4:"px-1 gap-1 h-4",5:"px-1.5 gap-1 h-5",6:"px-2 gap-1.5 h-6",7:"px-2.5 gap-2 h-7"},x3e={4:"text-xs font-normal leading-3",5:"text-xs font-medium",6:"text-sm font-medium",7:"text-sm font-medium"},Pn=a(({label:e,theme:t="gray",variant:r="solid",size:n="4",iconStart:i,iconEnd:s,className:o="",...l})=>{const{bg:u,darkBg:c,text:d,darkText:f}=e3e[t],g=r==="outline"?`border ${d} ${f} bg-transparent dark:bg-transparent border-current`:`${u} ${d} ${c} ${f}`;return v.jsxs("span",{className:Ve("inline-flex min-w-0 items-center overflow-hidden rounded font-medium",g,w3e[n],o),...l,children:[i&&v.jsx("span",{className:"shrink-0",children:i}),v.jsx("span",{className:Ve(x3e[n],"min-w-0 max-w-full flex-shrink-0 truncate tracking-normal"),children:e}),s&&v.jsx("span",{className:"shrink-0",children:s})]})},"Badge"),FB=a(({timestamp:e,size:t,...r})=>v.jsx(Pn,{variant:"outline",theme:"gray",size:t,...r,label:_3e(e)}),"TimestampBadge");function _3e(e){return new Date(e).toLocaleString()}a(_3e,"formatTimestamp");const E3e=a(({data:e})=>{const t=LB(e.type),r=NB(e);return v.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-start gap-1",children:[v.jsx(Pn,{iconStart:v.jsx(t,{className:"size-2.5"}),theme:Ew(e.type),size:"4",label:RB(e.type)}),typeof e.tokensCount=="number"&&v.jsx(Pn,{iconStart:v.jsx(IA,{className:"size-2.5"}),theme:"gray",size:"4",label:e.tokensCount}),typeof e.cost=="number"&&v.jsx(Pn,{theme:"gray",size:"4",label:`$ ${e.cost.toFixed(4)}`}),v.jsxs("span",{className:"text-xs text-muted-foreground",children:["LATENCY: ",yu(r)]}),typeof e.startTime=="number"&&v.jsx(FB,{timestamp:e.startTime})]})},"DetailsViewMetrics"),S3e=a(({data:e})=>v.jsx("div",{className:"pt-4",children:v.jsx("div",{className:"rounded border border-border bg-transparent ",children:v.jsx(NA,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:e.raw,id:`json-pretty-${e.id||"span-details"}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"})})}),"DetailsViewRawDataTab"),UB=a(({data:e,avatar:t,defaultTab:r,className:n,copyButton:i,headerActions:s,customHeader:o,onTabChange:l})=>{const[u,c]=H.useState(r||"input-output"),d=[{value:"input-output",label:"In/Out",icon:v.jsx(hU,{className:"size-4"})},{value:"attributes",label:"Attributes",icon:v.jsx(pU,{className:"size-4"})},{value:"raw",label:"RAW",icon:v.jsx(mU,{className:"size-4"})}];function f(y){c(y),l?.(y)}a(f,"handleTabChange");const g=typeof s=="function"?s(e):s,m=o?typeof o=="function"?o({data:e}):o:v.jsx(g3e,{data:e,avatar:t,copyButton:i,actions:g});return v.jsxs("div",{className:Ve("min-w-0 rounded-lg border border-border bg-card p-4 shadow-sm",n),children:[m,v.jsx(E3e,{data:e}),v.jsx(PB,{items:d,value:u,onValueChange:f,theme:"underline",defaultValue:r}),u==="input-output"&&v.jsx(b3e,{data:e}),u==="attributes"&&v.jsx(o3e,{data:e}),u==="raw"&&v.jsx(S3e,{data:e})]})},"DetailsView"),HB=a(({...e})=>v.jsx(BB,{startIcon:v.jsx(sf,{className:"size-4"}),placeholder:"Filter...",...e}),"SearchInput"),GB=a(({cost:e,size:t,...r})=>v.jsx(Pn,{theme:"gray",size:t,...r,label:`$ ${e}`}),"PriceBadge"),VB=a(({tokensCount:e,size:t,...r})=>v.jsx(Pn,{iconStart:v.jsx(IA,{className:"size-2.5"}),theme:"gray",size:t,...r,label:e}),"TokensBadge"),KB=a(({trace:e,avatar:t})=>v.jsxs("header",{className:"flex min-w-0 flex-wrap items-center justify-between gap-2",children:[v.jsxs("div",{className:"flex min-w-0 items-center gap-1.5 overflow-hidden",children:[t&&v.jsx(Sw,{size:"4",...t}),v.jsx("h3",{className:"font-medium max-w-full truncate text-sm text-foreground",children:e.name})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Pn,{size:"5",theme:"gray",variant:"outline",label:e.spansCount===1?"1 span":`${e.spansCount} spans`}),v.jsx(Pn,{size:"5",theme:"gray",variant:"outline",label:yu(e.durationMs)})]})]}),"TraceListItemHeader"),k3e=a(({trace:e,avatar:t,onClick:r,badges:n,isSelected:i})=>{const s=H.useCallback(f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),r?.())},[r]),{name:o,agentDescription:l,totalCost:u,totalTokens:c,startTime:d}=e;return v.jsxs("div",{className:Ve("group w-full","flex flex-col gap-2.5 p-4","cursor-pointer",i?"bg-muted":"bg-card"),role:"button",tabIndex:0,onClick:r,onKeyDown:s,"aria-label":`Select trace ${o}`,children:[v.jsx(KB,{trace:e,avatar:t}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("span",{className:"mr-4 max-w-full truncate text-sm text-muted-foreground ",children:l}),typeof u=="number"&&v.jsx(GB,{cost:u}),typeof c=="number"&&v.jsx(VB,{tokensCount:c}),n?.map((f,g)=>v.jsx(Pn,{theme:f.theme,size:"4",label:f.label},g)),typeof d=="number"&&v.jsx(FB,{timestamp:d})]})]})},"TraceListItem"),A3e=a(({traces:e,expanded:t,onExpandStateChange:r,className:n,onTraceSelect:i,selectedTrace:s})=>v.jsxs("div",{className:Ve("w-full min-w-0","flex flex-col gap-3",t?"w-full":"w-fit",n),children:[v.jsx("header",{className:"flex min-h-6 items-center justify-between gap-2",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:Ve("font-semibold text-lg text-foreground",!t&&"hidden"),children:"Traces"}),v.jsx(Pn,{size:"5",theme:"teal","aria-label":`Total number of traces: ${e.length}`,label:e.length})]})}),t&&v.jsx("ul",{className:"flex flex-col items-center overflow-hidden rounded border border-border ",children:e.map(o=>v.jsx("li",{className:"w-full list-none border-b-border [&:not(:last-child)]:border-b",children:v.jsx(k3e,{trace:o,onClick:a(()=>i?.(o),"onClick"),isSelected:s?.id===o.id,badges:o.badges})},o.id))})]}),"TraceList"),T3e=a(({data:e})=>{const t=LB(e.type);return v.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-1",children:[v.jsx(Pn,{iconStart:v.jsx(t,{className:"size-2.5"}),theme:Ew(e.type),size:"4",label:RB(e.type)}),typeof e.tokensCount=="number"&&v.jsx(VB,{tokensCount:e.tokensCount}),typeof e.cost=="number"&&v.jsx(GB,{cost:e.cost})]})},"SpanCardBadges"),Sk=a(({type:e})=>e==="empty"?v.jsx("div",{className:"w-5 shrink-0 grow"}):v.jsxs("div",{className:"relative w-5 shrink-0 grow",children:[(e==="vertical"||e==="t-right")&&v.jsx("div",{className:"absolute bottom-0 left-1/2 top-0 w-0.5 -translate-x-1/2 bg-muted"}),e==="t-right"&&v.jsx("div",{className:"absolute left-2.5 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),e==="corner-top-right"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"absolute left-1/2 top-2 size-0.5 -translate-x-1/2 -translate-y-px bg-muted"}),v.jsx("div",{className:"absolute left-1/2 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),v.jsx("div",{className:"absolute left-1/2 top-0 h-[7px] w-0.5 -translate-x-px bg-muted"})]})]}),"SpanCardConnector"),N3e={purple:"bg-primary",indigo:"bg-primary",orange:"bg-chart-1",teal:"bg-chart-2",cyan:"bg-chart-3",sky:"bg-chart-4",yellow:"bg-chart-5",emerald:"bg-accent",red:"bg-destructive",gray:"bg-muted-foreground"},I3e=a(({spanCard:e,theme:t,minStart:r,maxEnd:n,className:i})=>{const{startPercent:s,widthPercent:o}=IB({spanCard:e,minStart:r,maxEnd:n});return v.jsx("span",{className:Ve("relative flex h-4 min-w-20 flex-1 rounded bg-muted",i),children:v.jsx("span",{className:"pointer-events-none absolute inset-x-1 top-1/2 h-1.5 -translate-y-1/2",children:v.jsx("span",{className:`absolute h-full rounded-sm ${N3e[t]}`,style:{left:`${s}%`,width:`${o}%`}})})})},"SpanCardTimeline"),kk=a(({isExpanded:e,title:t,onToggleClick:r})=>v.jsx(AA,{asChild:!0,children:v.jsx("button",{className:"flex h-4 w-5 shrink-0 items-center justify-center",onClick:r,onKeyDown:r,"aria-label":`${e?"Collapse":"Expand"} ${t} children`,"aria-expanded":e,type:"button",children:e?v.jsx(Ja,{"aria-hidden":"true",className:"size-3 text-muted-foreground"}):v.jsx(nA,{"aria-hidden":"true",className:"size-3 text-muted-foreground"})})}),"SpanCardToggle"),il={CONNECTOR_WIDTH:20,CONTENT_BASE_WIDTH:320},g0={withStatus:!0,expandButton:"inside"},C3e=a(({level:e,hasExpandButton:t,contentPadding:r,expandButton:n})=>{let i=il.CONTENT_BASE_WIDTH-e*il.CONNECTOR_WIDTH;return t&&n==="inside"&&(i-=il.CONNECTOR_WIDTH),n==="outside"&&e===0&&(i-=il.CONNECTOR_WIDTH),i-r},"getContentWidth"),M3e=a(({connectorsColumnWidth:e,expandButton:t})=>t==="inside"?`${e}px 1fr`:`${e}px 1fr ${il.CONNECTOR_WIDTH}px`,"getGridTemplateColumns"),O3e=a(({level:e,hasExpandButton:t})=>e===0?0:t?4:8,"getContentPadding"),R3e=a(({level:e,hasExpandButton:t,isLastChild:r,prevConnectors:n,expandButton:i})=>{const s=[];if(e===0)return{connectors:i==="inside"?[]:["vertical"],connectorsColumnWidth:20};for(let l=0;l<e-1;l++)s.push("vertical");r||s.push("t-right"),r&&s.push("corner-top-right");let o=s.length*il.CONNECTOR_WIDTH;t&&(o+=il.CONNECTOR_WIDTH);for(let l=0;l<n.length;l++)(n[l]==="empty"||n[l]==="corner-top-right")&&(s[l]="empty");return{connectors:s,connectorsColumnWidth:o}},"getConnectorsLayout"),L3e=a((e,t)=>{const r=H.useCallback(()=>{t?.(e)},[e,t]),n=H.useCallback(s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),r())},[r]),i=H.useCallback(s=>{s.stopPropagation()},[]);return{handleCardClick:r,handleKeyDown:n,handleToggleClick:i}},"useSpanCardEventHandlers"),D3e=a(({data:e,level:t,selectedSpan:r,onSpanSelect:n,minStart:i,maxEnd:s,prevLevelConnectors:o,expandedSpansIds:l,onExpandSpansIdsChange:u,viewOptions:c=g0})=>e.children?.length?v.jsx("div",{className:"relative",children:v.jsx(TA,{children:v.jsx("ul",{role:"group",children:e.children.map((d,f)=>v.jsx(ZB,{viewOptions:c,data:d,minStart:i,maxEnd:s,level:t+1,selectedSpan:r,onSpanSelect:n,isLastChild:f===(e.children||[]).length-1,prevLevelConnectors:o,expandedSpansIds:l,onExpandSpansIdsChange:u},d.id))})})}):null,"SpanCardChildren"),ZB=a(({data:e,level:t=0,selectedSpan:r,onSpanSelect:n,viewOptions:i=g0,avatar:s,minStart:o,maxEnd:l,isLastChild:u,prevLevelConnectors:c=[],expandedSpansIds:d,onExpandSpansIdsChange:f})=>{const g=d.includes(e.id),m=i.withStatus??g0.withStatus,y=i.expandButton||g0.expandButton,_=H.useCallback(W=>{const F=d.includes(e.id);F&&!W&&f(d.filter(Y=>Y!==e.id)),!F&&W&&f([...d,e.id])},[g,d,e.id,f]),A={isExpanded:g,hasChildren:!!e.children?.length,isSelected:r?.id===e.id},I=L3e(e,n),{durationMs:O}=IB({spanCard:e,minStart:o,maxEnd:l}),R=y==="inside"&&A.hasChildren,L=O3e({level:t,hasExpandButton:R}),D=C3e({level:t,hasExpandButton:R,contentPadding:L,expandButton:y}),{connectors:P,connectorsColumnWidth:Z}=R3e({level:t,hasExpandButton:R,isLastChild:u,prevConnectors:c,expandButton:y}),V=M3e({connectorsColumnWidth:Z,expandButton:y});return v.jsx("li",{role:"treeitem","aria-expanded":A.hasChildren?A.isExpanded:void 0,className:"list-none",children:v.jsxs(f2,{open:A.isExpanded,onOpenChange:_,children:[v.jsxs("div",{className:Ve("relative grid w-full rounded-md transition-colors",A.isSelected?"bg-accent/50 border border-accent":"hover:bg-muted/30"),style:{gridTemplateColumns:V},onClick:I.handleCardClick,onKeyDown:I.handleKeyDown,tabIndex:0,role:"button","aria-pressed":A.isSelected,"aria-describedby":`span-card-desc-${e.id}`,"aria-expanded":A.hasChildren?A.isExpanded:void 0,"aria-label":`${A.isSelected?"Selected":"Not selected"} span card for ${e.title} at level ${t}`,children:[v.jsxs("div",{className:"flex flex-nowrap",children:[P.map((W,F)=>v.jsx(Sk,{type:W},`${W}-${F}`)),R&&v.jsxs("div",{className:"flex w-5 flex-col items-center",children:[v.jsx(kk,{isExpanded:A.isExpanded,title:e.title,onToggleClick:I.handleToggleClick}),A.isExpanded&&v.jsx(Sk,{type:"vertical"})]})]}),v.jsxs("div",{className:Ve("flex flex-nowrap items-center align-middle gap-x-3 gap py-3 px-2","min-h-5 w-full cursor-pointer",t!==0&&!R&&"pl-2",t!==0&&R&&"pl-1"),children:[v.jsxs("div",{className:"relative flex min-h-4 flex-shrink-0 flex-grow-0 flex-wrap items-start gap-1",style:{width:`min(${D}px, 100%)`,minWidth:140},children:[s&&v.jsx(Sw,{size:"4",...s}),v.jsx("h3",{className:"mr-1 h-4 max-w-32 truncate text-sm leading-[14px] text-foreground ",title:e.title,children:e.title}),v.jsx(T3e,{data:e})]}),v.jsxs("div",{className:"flex flex-shrink flex-grow flex-nowrap items-center justify-end gap-1 min-w-0",children:[y==="outside"&&m&&v.jsx("div",{className:"flex-shrink-0",children:v.jsx(a2,{status:e.status})}),v.jsx(I3e,{theme:Ew(e.type),minStart:o,maxEnd:l,spanCard:e,className:"max-w-48 flex-shrink"}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx("span",{className:"inline-block w-14 whitespace-nowrap px-1 text-right text-xs text-foreground",children:yu(O)}),y==="inside"&&m&&v.jsx("div",{children:v.jsx(a2,{status:e.status})})]})]})]}),y==="outside"&&(A.hasChildren?v.jsx(kk,{isExpanded:A.isExpanded,title:e.title,onToggleClick:I.handleToggleClick}):v.jsx("div",{}))]}),v.jsx(D3e,{minStart:o,maxEnd:l,viewOptions:i,data:e,level:t,selectedSpan:r,onSpanSelect:n,prevLevelConnectors:P,expandedSpansIds:d,onExpandSpansIdsChange:f})]})})},"SpanCard"),YB=a(({spans:e,onSpanSelect:t,className:r="",selectedSpan:n,expandedSpansIds:i,onExpandSpansIdsChange:s,spanCardViewOptions:o})=>{const l=CB(e),{minStart:u,maxEnd:c}=q6e(l);return v.jsx("div",{className:"w-full min-w-0 p-4",children:v.jsx("ul",{className:Ve(r,"overflow-x-auto space-y-1"),role:"tree","aria-label":"Hierarchical card list",children:e.map((d,f)=>v.jsx(ZB,{data:d,level:0,selectedSpan:n,onSpanSelect:t,minStart:u,maxEnd:c,isLastChild:f===e.length-1,expandedSpansIds:i,onExpandSpansIdsChange:s,viewOptions:o},d.id))})})},"TreeView"),j3e=a(({data:e})=>{const[t,r]=H.useState(e[0]?.traceRecord),[n,i]=H.useState(e[0]?.spans??[]),[s,o]=H.useState(e[0]?.spans?.[0]?.children?.[0]),[l,u]=H.useState(""),[c,d]=H.useState(!0),f=H.useMemo(()=>e.map(L=>({...L.traceRecord,badges:L.badges,spanCardViewOptions:L.spanCardViewOptions})),[e]),g=H.useMemo(()=>l.trim()?MB(n,l):n,[n,l]),m=H.useMemo(()=>CB(n).map(L=>L.id),[n]),[y,_]=H.useState(m);H.useEffect(()=>{_(m)},[m]);const A=H.useCallback(()=>{_(m)},[m]),I=H.useCallback(()=>{_([])},[]);H.useEffect(()=>{o(n[0])},[n]);const O=H.useCallback(L=>{r(L),i(e.find(D=>D.traceRecord.id===L.id)?.spans??[])},[e]),R={traceRecords:f,traceListExpanded:c,setTraceListExpanded:d,selectedTrace:t,setSelectedTrace:r,selectedTraceSpans:n,setSelectedTraceSpans:i,selectedSpan:s,setSelectedSpan:o,searchValue:l,setSearchValue:u,filteredSpans:g,expandedSpansIds:y,setExpandedSpansIds:_,handleExpandAll:A,handleCollapseAll:I,handleTraceSelect:O};return v.jsxs("div",{className:"h-full w-full p-4 lg:p-8",children:[v.jsx("div",{className:"hidden lg:block",children:v.jsx(P3e,{...R})}),v.jsx("div",{className:"lg:hidden",children:v.jsx(z3e,{...R})})]})},"TraceViewer"),P3e=a(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,selectedSpan:i,setSelectedSpan:s,searchValue:o,setSearchValue:l,filteredSpans:u,expandedSpansIds:c,setExpandedSpansIds:d,handleExpandAll:f,handleCollapseAll:g,handleTraceSelect:m})=>v.jsx("div",{className:"flex flex-col gap-4",children:n?v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs(js,{value:n.id,onValueChange:a(y=>{const _=e.find(A=>A.id===y);_&&m(_)},"onValueChange"),children:[v.jsx(Ya,{className:"w-full h-auto py-3",children:v.jsx(Ps,{children:v.jsxs("div",{className:"flex items-center gap-4 w-full",children:[v.jsx("span",{className:"font-semibold text-base",children:n.name}),v.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[typeof n.startTime=="number"&&v.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(n.startTime).toLocaleTimeString()}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:`${n.spansCount} span${n.spansCount===1?"":"s"}`}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:yu(n.durationMs)})]})]})})}),v.jsx($a,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(y=>v.jsx(Ir,{value:y.id,className:"py-2.5 px-4 cursor-pointer",children:v.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[v.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[v.jsx("span",{className:"font-semibold text-base text-foreground",children:y.name}),y.agentDescription&&v.jsx("span",{className:"text-xs text-muted-foreground",children:y.agentDescription})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof y.startTime=="number"&&v.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(y.startTime).toLocaleTimeString()}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:`${y.spansCount} span${y.spansCount===1?"":"s"}`}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:yu(y.durationMs)})]})]})},y.id))})]}),v.jsxs("div",{className:"rounded-lg border border-border bg-card shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-4",children:[v.jsx(HB,{id:"span-search-desktop",name:"search",onClear:a(()=>l(""),"onClear"),value:o,onValueChange:l,className:"max-w-60 grow"}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[v.jsx(DB,{onExpandAll:f}),v.jsx(jB,{onCollapseAll:g})]})})]}),u.length===0?v.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):v.jsx(YB,{spans:u,onSpanSelect:s,selectedSpan:i,expandedSpansIds:c,onExpandSpansIdsChange:d,spanCardViewOptions:n.spanCardViewOptions})]}),i?v.jsx(UB,{data:i}):v.jsx(Ak,{title:"Select a span to see the details"})]}):v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs(js,{value:"",onValueChange:a(y=>{const _=e.find(A=>A.id===y);_&&m(_)},"onValueChange"),children:[v.jsx(Ya,{className:"w-full",children:v.jsx(Ps,{placeholder:"Select a trace to view details..."})}),v.jsx($a,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(y=>v.jsx(Ir,{value:y.id,className:"py-2.5 px-4 cursor-pointer",children:v.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[v.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[v.jsx("span",{className:"font-semibold text-base text-foreground",children:y.name}),y.agentDescription&&v.jsx("span",{className:"text-xs text-muted-foreground",children:y.agentDescription})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof y.startTime=="number"&&v.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(y.startTime).toLocaleTimeString()}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:`${y.spansCount} span${y.spansCount===1?"":"s"}`}),v.jsx(Pn,{size:"4",theme:"gray",variant:"outline",label:yu(y.durationMs)})]})]})},y.id))})]}),v.jsx(Ak,{title:"Select a trace to see the details"})]})}),"DesktopLayout"),z3e=a(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:n,setSelectedTrace:i,selectedTraceSpans:s,setSelectedTraceSpans:o,selectedSpan:l,setSelectedSpan:u,searchValue:c,setSearchValue:d,filteredSpans:f,expandedSpansIds:g,setExpandedSpansIds:m,handleExpandAll:y,handleCollapseAll:_,handleTraceSelect:A})=>n?n&&s.length&&!l?v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx(wk,{onClick:a(()=>{i(void 0),o([])},"onClick"),iconStart:v.jsx(gy,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Traces list"}),v.jsx(KB,{trace:n}),v.jsxs("div",{className:"rounded border border-border bg-card",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-3",children:[v.jsx(HB,{id:"span-search-mobile",name:"search",onClear:a(()=>d(""),"onClear"),value:c,onValueChange:d,className:"max-w-60 grow"}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[v.jsx(DB,{onExpandAll:y}),v.jsx(jB,{onCollapseAll:_})]})})]}),f.length===0?v.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):v.jsx(YB,{spans:f,spanCardViewOptions:n.spanCardViewOptions,onSpanSelect:u,selectedSpan:l,expandedSpansIds:g,onExpandSpansIdsChange:m})]})]}):n&&s.length&&l?v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsx(wk,{onClick:a(()=>{u(void 0)},"onClick"),iconStart:v.jsx(gy,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Tree View"}),v.jsx(UB,{data:l})]}):null:v.jsx(A3e,{traces:e,expanded:t,onExpandStateChange:r,onTraceSelect:A,selectedTrace:n}),"MobileLayout"),Ak=a(({title:e})=>v.jsx("p",{className:"hidden items-center justify-center rounded-lg bg-muted p-4 text-center text-muted-foreground lg:flex",children:e}),"Placeholder"),B3e=Lr(),F3e=a(({agentId:e})=>{const t=wle(e),r=t.data?.runs??[],n=pA({queries:r.map(c=>({queryKey:["agent",e,"runs","detail",c.runId,null],queryFn:a(async()=>B3e.runs.getRun(e,c.runId),"queryFn"),enabled:!!(e&&c.runId),staleTime:3e4}))}),i=H.useMemo(()=>r.map((c,d)=>{const f=n[d];return f?.data?{traceRecord:vk.convertRunSummaryToTraceRecord(c),spans:vk.convertRunDetailToTraceSpans(f.data)}:null}).filter(c=>c!==null),[r,...n.map(c=>c.data)]),s=t.isLoading,o=t.error?t.error.message:void 0,l=r.length>0,u=i.length>0;return s?v.jsx("div",{className:"flex items-center justify-center h-32",children:v.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):o?v.jsxs("div",{className:"px-4 py-3 text-sm text-destructive",children:["Failed to load runs: ",o]}):l?u?v.jsx("div",{className:"h-full w-full",children:v.jsx(j3e,{data:i})}):v.jsxs("div",{className:"flex items-center justify-center h-32",children:[v.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"}),v.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading run details..."})]}):v.jsx("div",{className:"px-4 py-8 text-sm text-center text-muted-foreground",children:"No agent runs yet. Runs will appear here after the agent processes messages."})},"AgentRunTimeline");function Tk({agentId:e,agentName:t,channelId:r}){const{currentTab:n,setTab:i}=X6e(e),{data:s,isLoading:o}=Tle(e,{enabled:!!e}),{data:l,isLoading:u,error:c}=Nf(e,{enabled:!!e&&n==="details"}),d=l?.data,f=H.useMemo(()=>s?.data||[],[s]),g=H.useMemo(()=>{const m=[{value:"details",label:"Details",icon:v.jsx(u2,{className:"h-4 w-4"})},{value:"timeline",label:"Timeline",icon:v.jsx(SA,{className:"h-4 w-4"})},{value:"actions",label:"Model Calls",icon:v.jsx(za,{className:"h-4 w-4"})},{value:"memories",label:"Memories",icon:v.jsx(yo,{className:"h-4 w-4"})},{value:"logs",label:"Logs",icon:v.jsx(bU,{className:"h-4 w-4"})}],y=f.map(_=>({value:_.name,label:_.name,icon:v.jsx(gU,{className:"h-4 w-4"})}));return[...m,...y]},[f]);return v.jsxs(w2,{defaultValue:"details",value:n,onValueChange:i,className:"flex flex-col h-screen w-full max-w-full",children:[v.jsxs(zp,{className:"flex w-full max-w-full overflow-x-auto flex-shrink-0",children:[g.map(m=>v.jsxs(vd,{value:m.value,className:"flex items-center gap-1.5 flex-shrink-0",children:[m.icon,v.jsx("span",{className:"truncate",children:m.label})]},m.value)),o&&v.jsx(v.Fragment,{children:[...Array(2)].map((m,y)=>v.jsx(bd,{className:"h-9 w-full rounded-md flex-shrink-0"},`skel-tab-${y}`))})]}),v.jsxs(la,{value:"details",className:"overflow-y-auto overflow-x-hidden flex-1 p-4 w-full max-w-full min-h-0",children:[n==="details"&&e&&v.jsxs(v.Fragment,{children:[u&&v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx(zn,{className:"h-6 w-6 animate-spin text-primary"})}),c&&v.jsxs("div",{className:"text-red-500 break-words",children:["Error loading agent details: ",c.message]}),!u&&!c&&d&&v.jsx("div",{className:"w-full max-w-full",children:v.jsx(TB,{agent:d,agentId:e,onSaveComplete:a(()=>{},"onSaveComplete")})}),!u&&!c&&!d&&!o&&v.jsx("div",{className:"text-muted-foreground",children:"Agent details not found."})]}),n==="details"&&!e&&v.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their details."})]}),v.jsxs(la,{value:"timeline",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0 p-0",children:[n==="timeline"&&e&&v.jsx("div",{className:"w-full max-w-full h-full",children:v.jsx(F3e,{agentId:e})}),n==="timeline"&&!e&&v.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see run activity."})]}),v.jsxs(la,{value:"actions",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="actions"&&e&&v.jsx("div",{className:"w-full max-w-full",children:v.jsx($6e,{agentId:e})}),n==="actions"&&!e&&v.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their actions."})]}),v.jsxs(la,{value:"logs",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="logs"&&e&&v.jsx("div",{className:"w-full max-w-full",children:v.jsx(f9,{agentName:t,level:"all"})}),n==="logs"&&!e&&v.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their logs."})]}),v.jsxs(la,{value:"memories",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[n==="memories"&&e&&v.jsx("div",{className:"w-full max-w-full",children:v.jsx(W6e,{agentId:e,agentName:t,channelId:r})}),n==="memories"&&!e&&v.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their memories."})]}),f.map(m=>v.jsx(la,{value:m.name,className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:n===m.name&&e&&v.jsx("iframe",{src:m.url,title:m.name,className:"w-full h-full border-0 flex-1 max-w-full"})},m.name))]})}a(Tk,"AgentSidebar");const U3e=160,$B=H.forwardRef(({className:e,...t},r)=>{const n=H.useRef(null),i=a(o=>{typeof r=="function"?r(o):r&&(r.current=o),n.current=o},"combinedRef"),s=a(()=>{const o=n.current;o&&(o.style.height="auto",o.style.height=Math.min(o.scrollHeight,U3e)+"px")},"resizeTextarea");return H.useEffect(()=>{s()},[t.value]),v.jsx(of,{autoComplete:"off",ref:i,name:"message",className:Ve("px-4 py-3 bg-background text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-md flex items-center h-16 resize-none",e),...t})});$B.displayName="ChatInput";let Pc,zc=[],Yh;const Nk=a((e,t)=>String(e).padStart(t,"0"),"padWithLeadingZeros"),H3e=a(({className:e,timerClassName:t,agentId:r,onChange:n})=>{const{toast:i}=Gr(),[s,o]=H.useState(!1),[l,u]=H.useState(!1),[c,d]=H.useState(0),[f,g]=H.useState({id:-1,name:"",file:null}),m=Math.floor(c%3600/60),y=c%60,[_,A]=H.useMemo(()=>Nk(m,2).split(""),[m]),[I,O]=H.useMemo(()=>Nk(y,2).split(""),[y]),R=H.useRef({stream:null,analyser:null,mediaRecorder:null,audioContext:null}),L=Lr(),D=Ri({mutationKey:["whisper"],mutationFn:a(F=>L.audio.transcribe(r,{audio:F}),"mutationFn"),onSuccess:a(F=>{F?.text&&n(F.text)},"onSuccess"),onError:a(F=>{i({variant:"destructive",title:"Unable to start recording",description:F.message}),console.log(F)},"onError")});function P(){navigator.mediaDevices?.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then(F=>{o(!0);const Y=window.AudioContext,h=new Y,w=h.createAnalyser();h.createMediaStreamSource(F).connect(w),R.current={stream:F,analyser:w,mediaRecorder:null,audioContext:h};const E={mimeType:MediaRecorder.isTypeSupported("audio/mpeg")?"audio/mpeg":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/wav"};R.current.mediaRecorder=new MediaRecorder(F,E),R.current.mediaRecorder.start(),zc=[],Pc=new MediaRecorder(F),Pc.start(),Pc.ondataavailable=T=>{zc.push(T.data)}}).catch(F=>{i({variant:"destructive",title:"Unable to start recording",description:F.message}),console.log(F)})}a(P,"startRecording");function Z(){Pc.onstop=()=>{const F=new Blob(zc,{type:"audio/wav"});D.mutate(F),g({...f,file:window.URL.createObjectURL(F)}),zc=[]},Pc.stop(),o(!1),u(!0),d(0),clearTimeout(Yh)}a(Z,"stopRecording");function V(){const{mediaRecorder:F,stream:Y,analyser:h,audioContext:w}=R.current;if(F&&(F.onstop=()=>{zc=[]},F.stop()),h&&h.disconnect(),Y)for(const b of Y.getTracks())b.stop();w&&w.close(),o(!1),u(!0),d(0),clearTimeout(Yh)}a(V,"resetRecording");const W=a(()=>{Z()},"handleSubmit");return H.useEffect(()=>(s&&(Yh=setTimeout(()=>{d(c+1)},1e3)),()=>clearTimeout(Yh)),[s,c]),D?.isPending?v.jsx(ct,{variant:"ghost",disabled:!0,size:"icon",children:v.jsx(d2,{className:"size-4"})}):v.jsxs("div",{className:Ve("flex items-center justify-center gap-2 border-l border-l-transparent border-opacity-0 transition-all duration-300",{"border-opacity-100 border-l-border pl-2":s},e),children:[s?v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("div",{className:"bg-red-500 rounded-full h-2.5 w-2.5 animate-pulse"}),v.jsx(QB,{minuteLeft:_,minuteRight:A,secondLeft:I,secondRight:O,timerClassName:t})]}):null,v.jsxs("div",{className:"flex items-center gap-2",children:[s?v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{onClick:V,size:"icon",variant:"ghost",children:v.jsx(af,{className:"size-4"})})}),v.jsx(on,{className:"m-2",children:v.jsx("span",{children:" Reset recording"})})]}):null,v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:s?v.jsx(ct,{onClick:W,variant:"ghost",size:"icon",children:v.jsx(CA,{className:"size-4"})}):v.jsxs(ct,{variant:"ghost",size:"icon",onClick:a(()=>P(),"onClick"),children:[v.jsx(vU,{className:"size-4"}),v.jsx("span",{className:"sr-only",children:"Use Microphone"})]})}),v.jsx(on,{side:"right",children:v.jsxs("span",{children:[s?"Send":"Start"," "]})})]})]})]})},"AudioRecorder"),QB=Mp.memo(({minuteLeft:e,minuteRight:t,secondLeft:r,secondRight:n,timerClassName:i})=>v.jsx("div",{className:Ve("text-sm animate-in duration-1000 fade-in-0 select-none",i),children:v.jsxs("p",{children:[e,t,":",r,n]})}));QB.displayName="Timer";const Ik=a(({input:e,setInput:t,inputDisabled:r,selectedFiles:n,removeFile:i,handleFileChange:s,handleSendMessage:o,handleKeyDown:l,chatType:u,targetAgentData:c,formRef:d,inputRef:f,fileInputRef:g})=>v.jsxs("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 mt-auto flex-shrink-0","data-testid":"chat-container",children:[r&&v.jsxs("div",{className:"px-2 pb-2 text-sm text-muted-foreground flex items-center gap-2",children:[v.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[v.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0s]"}),v.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.2s]"}),v.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.4s]"})]}),v.jsx("span",{className:"text-xs sm:text-sm",children:u===Gt.DM&&c?`${c.name} is thinking`:"Agent is thinking"}),v.jsxs("div",{className:"flex",children:[v.jsx("span",{className:"animate-pulse [animation-delay:0ms]",children:"."}),v.jsx("span",{className:"animate-pulse [animation-delay:200ms]",children:"."}),v.jsx("span",{className:"animate-pulse [animation-delay:400ms]",children:"."})]})]}),v.jsxs("form",{ref:d,onSubmit:o,className:"relative rounded-md border bg-card p-2 sm:p-3",children:[n.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 p-2 sm:p-3 pb-0 max-h-32 sm:max-h-40 overflow-y-auto",children:n.map(m=>{const y=m.blobUrl||URL.createObjectURL(m.file);return v.jsxs("div",{className:"relative p-1 sm:p-2",children:[v.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border bg-muted",children:[m.isUploading&&v.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:v.jsx(zn,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-white"})}),m.file.type.startsWith("image/")?v.jsx("img",{alt:"Selected file",src:y,className:"w-full h-full object-cover"}):m.file.type.startsWith("video/")?v.jsx("video",{src:y,className:"w-full h-full object-cover",muted:!0}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:v.jsx(al,{className:"h-4 w-4 sm:h-8 sm:w-8 text-muted-foreground"})}),m.error&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center",children:"Error"})]}),v.jsx(ct,{onClick:a(()=>i(m.id),"onClick"),className:"absolute -right-1 -top-1 size-[16px] sm:size-[20px] ring-2 ring-background z-20",variant:"outline",size:"icon",disabled:m.isUploading,children:v.jsx(vi,{className:"h-2 w-2 sm:h-3 sm:w-3"})}),v.jsx("div",{className:"text-xs text-center mt-1 truncate w-12 sm:w-16",children:m.file.name})]},m.id)})}),v.jsx($B,{ref:f,onKeyDown:l,value:e,onChange:a(({target:m})=>t(m.value),"onChange"),placeholder:r?u===Gt.DM&&c?`${c.name} is thinking...`:"Agent is processing...":u===Gt.DM?"Type your message here...":"Message group...",className:"min-h-12 resize-none rounded-none bg-card border-0 px-0 py-0 shadow-none focus-visible:ring-0 text-sm sm:text-base",disabled:r||u===Gt.DM&&c?.status==="inactive","data-testid":"chat-input"}),v.jsxs("div",{className:"flex items-center pt-0 gap-1",children:[v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsxs("div",{children:[v.jsxs(ct,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",onClick:a(()=>{g.current&&g.current.click()},"onClick"),children:[v.jsx(yU,{className:"size-3 sm:size-4"}),v.jsx("span",{className:"sr-only",children:"Attach file"})]}),v.jsx("input",{type:"file",ref:g,onChange:s,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.rtf,...",multiple:!0,className:"hidden"})]})}),v.jsx(on,{side:"left",children:v.jsx("p",{children:"Attach files"})})]}),u===Gt.DM&&c?.id&&v.jsx(H3e,{agentId:c.id,onChange:a(m=>t(m),"onChange")}),v.jsx(ct,{disabled:r||u===Gt.DM&&c?.status==="inactive"||n.some(m=>m.isUploading),type:"submit",size:"sm",className:"ml-auto gap-1.5 h-[26px] sm:h-[30px] px-2 sm:px-3","data-testid":"send-button",children:r||n.some(m=>m.isUploading)?v.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[v.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0s]"}),v.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),v.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}):v.jsx(CA,{className:"size-3 sm:size-3.5"})})]})]})]}),"ChatInputArea"),WB=H.forwardRef(({className:e,children:t,scrollRef:r,contentRef:n,isAtBottom:i,scrollToBottom:s,disableAutoScroll:o,...l},u)=>v.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[v.jsx("div",{className:`flex flex-col w-full h-full p-2 overflow-y-auto ${e}`,ref:r,onWheel:o,onTouchMove:o,...l,children:v.jsx("div",{className:"flex flex-col gap-10",ref:n,children:t})}),!i&&v.jsx(ct,{onClick:a(()=>{s()},"onClick"),size:"icon",variant:"outline",className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 inline-flex rounded-full shadow-md",children:v.jsx(wU,{className:"h-4 w-4"})})]}));WB.displayName="ChatMessageList";const Ck=a(({messages:e,isLoadingMessages:t,chatType:r,currentClientEntityId:n,targetAgentData:i,allAgents:s,animatedMessageId:o,scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:d,disableAutoScroll:f,finalChannelId:g,getAgentInMessage:m,agentAvatarMap:y,onDeleteMessage:_,onRetryMessage:A,selectedGroupAgentId:I})=>{const O=Mp.useMemo(()=>r===Gt.GROUP&&I?e.filter(R=>{const L=R.senderId===n,D=R.senderId===I;return L||D}):e,[e,r,I,n]);return v.jsxs(WB,{scrollRef:l,contentRef:u,isAtBottom:c,scrollToBottom:d,disableAutoScroll:f,className:"h-full w-full","data-testid":"chat-messages",children:[t&&O.length===0&&v.jsx("div",{className:"flex flex-1 justify-center items-center",children:v.jsx("p",{children:"Loading messages..."})}),!t&&O.length===0&&v.jsx("div",{className:"flex flex-1 justify-center items-center",children:v.jsx("p",{children:"No messages yet. Start the conversation!"})}),O.map((R,L)=>{const D=R.senderId===n,P=L===O.length-1&&R.isAgent&&R.id===o,Z=!D&&m?m(R.senderId):void 0;return v.jsx("div",{className:Ve("flex gap-1",D?"justify-end":"justify-start"),children:v.jsxs(k9,{variant:D?"sent":"received",className:`flex flex-col gap-1 ${D?"flex-row-reverse":""}`,children:[!D&&r===Gt.GROUP&&v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(ko,{className:"size-5 border rounded-full select-none",children:v.jsx(Al,{src:gd(Z||(y&&R.senderId&&s?s.find(V=>V.id===R.senderId):void 0))})}),v.jsx("div",{children:Z?.name})]}),v.jsx(nwe,{message:R,agentForTts:r===Gt.DM?i:Z,shouldAnimate:P,onDelete:_,onRetry:A,isUser:D,getAgentInMessage:r===Gt.GROUP?m:void 0,agentAvatarMap:r===Gt.GROUP?y:void 0,chatType:r})]})},`${R.id}-${R.createdAt}`)})]},g||"no-channel")},"ChatMessageListComponent");function G3e({options:e=[],className:t="",onSelect:r,initialSelected:n=[]}){const[i,s]=H.useState(n),[o,l]=H.useState(!1),u=H.useRef(null);H.useEffect(()=>{s(n)},[n]),H.useEffect(()=>{const m=a(y=>{u.current&&!u.current.contains(y.target)&&l(!1)},"handleClickOutside");return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const c=a(m=>i.some(y=>m.id&&y.id?y.id===m.id:y.label===m.label),"isOptionSelected"),d=a(m=>{console.log("[MultiSelectCombobox] toggleSelection called with:",m),s(y=>{const _=c(m);let A;return _?A=y.filter(I=>m.id&&I.id?I.id!==m.id:I.label!==m.label):A=[...y,m],console.log("[MultiSelectCombobox] New selection:",A),r&&r(A),A})},"toggleSelection"),f=a(m=>{s(y=>{const _=y.filter(A=>m.id&&A.id?A.id!==m.id:A.label!==m.label);return r&&r(_),_})},"removeSelection"),g=a(()=>{s(m=>{const y=m.slice(0,3);return r&&r(y),y})},"removeExtraSelections");return v.jsxs("div",{className:`relative w-80 ${t}`,ref:u,children:[v.jsxs("div",{className:`flex items-center gap-2 border p-2 bg-background rounded cursor-pointer ${o?"border-primary":"border-input"}`,onClick:a(()=>l(!o),"onClick"),children:[v.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:i.length>0?v.jsxs(v.Fragment,{children:[i.slice(0,3).map((m,y)=>v.jsxs(ca,{className:"flex items-center gap-1 px-2",children:[m.label,v.jsx(vi,{size:12,className:"cursor-pointer",onClick:a(_=>{_.stopPropagation(),f(m)},"onClick")})]},m.id||m.label||y)),i.length>3&&v.jsxs(ca,{className:"px-2 cursor-pointer",onClick:a(m=>{m.stopPropagation(),g()},"onClick"),children:["+",i.length-3," more"]})]}):v.jsx("span",{className:"text-muted-foreground",children:"Select agents..."})}),v.jsx(Ja,{size:16})]}),o&&v.jsx(is,{className:"absolute left-0 mt-2 w-full shadow-md border border-border rounded z-40 max-h-60 overflow-y-auto",children:e.length===0?v.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"No agents available"}):e.map((m,y)=>v.jsxs("div",{className:`flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-muted ${c(m)?"bg-muted":"bg-card"}`,onClick:a(()=>d(m),"onClick"),children:[v.jsx("div",{className:"bg-gray-500 rounded-full w-4 h-4 flex justify-center items-center overflow-hidden text-xs",children:m.icon?v.jsx("img",{src:m.icon,alt:m.label,className:"w-full h-full object-cover"}):gl(m.label)}),m.label]},m.id||m.label||y))})]})}a(G3e,"MultiSelectCombobox");const V3e="00000000-0000-0000-0000-000000000000";function K3e(e){return!!e.id&&!!Qd(e.id)&&typeof e.name=="string"&&e.name.trim()!==""}a(K3e,"isAgentSelectable");function ag({onClose:e,channelId:t}){const[r,n]=H.useState(""),[i,s]=H.useState([]),[o,l]=H.useState(""),[u,c]=H.useState([]),d=V3e,f=H.useRef(!1),g=H.useRef(t),m=H.useRef(!1),{data:y}=h3(t?d:void 0,{enabled:!!t}),{data:_,isLoading:A,isError:I}=Vu(),O=H.useMemo(()=>(_?.agents||[]).filter(K3e),[_]),R=On(),L=Gn(),{toast:D}=Gr(),{confirm:P,isOpen:Z,onOpenChange:V,onConfirm:W,options:F}=Ll();H.useEffect(()=>{t&&(R.invalidateQueries({queryKey:["channelParticipants",t]}),R.refetchQueries({queryKey:["channelParticipants",t]}))},[t,R]);const Y=Ri({mutationFn:a(async({name:G,participantIds:J})=>{const ue=Lr(),se=Us(),oe=[...J,se];return await ue.messaging.createGroupChannel({name:G,participantIds:oe,metadata:{type:Gt.GROUP,server_id:d,source:Fc}})},"mutationFn"),onSuccess:a(G=>{G&&(D({title:"Success",description:"Group created successfully."}),R.invalidateQueries({queryKey:["channels",d]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{L(`/group/${G.id}?messageServerId=${d}`)},100))},"onSuccess"),onError:a(G=>{We.error("Failed to create group",G);const J=G instanceof Error?G.message:"Failed to create group.";D({title:"Error",description:J,variant:"destructive"})},"onError")}),h=Ri({mutationFn:a(async({name:G,participantIds:J})=>{if(!t)throw new Error("Channel ID is required for update");return await Lr().messaging.updateChannel(t,{name:G,participantCentralUserIds:J})},"mutationFn"),onSuccess:a(()=>{D({title:"Group Updated",description:"Group details updated successfully."}),R.invalidateQueries({queryKey:["channels",d]}),R.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{L(`/group/${t}?messageServerId=${d}`)},100)},"onSuccess"),onError:a(G=>{We.error("Failed to update group",G),console.error("Group update error details:",G);const J=G instanceof Error?G.message:"Failed to update group.";D({title:"Error",description:J,variant:"destructive"})},"onError")}),w=Ri({mutationFn:a(async()=>{if(!t)throw new Error("Channel ID is required for delete");return await Lr().messaging.deleteChannel(t)},"mutationFn"),onSuccess:a(()=>{D({title:"Group Deleted",description:"The group has been successfully deleted."}),R.invalidateQueries({queryKey:["channels",d]}),R.invalidateQueries({queryKey:["channels"]}),L("/"),e()},"onSuccess"),onError:a(G=>{We.error("Failed to delete channel",G);const J=G instanceof Error?G.message:"Could not delete group.";typeof G=="object"&&G!==null&&G.statusCode===404?D({title:"Error Deleting Group",description:"Delete operation not found on server.",variant:"destructive"}):D({title:"Error Deleting Group",description:J,variant:"destructive"})},"onError")}),{data:b,isLoading:x,isError:E,error:T}=Mn({queryKey:["channelParticipants",t],queryFn:a(async()=>{if(!t)return{success:!0,data:[]};try{const J=await Lr().messaging.getChannelParticipants(t);let ue=[];return J&&Array.isArray(J.participants)?ue=J.participants.map(se=>se.userId):J&&Array.isArray(J)&&(ue=J.map(se=>se.userId||se.id||se)),{success:!0,data:ue}}catch(G){return console.error("[GroupPanel] Error fetching channel participants:",G),{success:!1,error:{message:G instanceof Error?G.message:"Unknown error"}}}},"queryFn"),enabled:!!t,retry:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});H.useEffect(()=>{if(t&&y?.data?.channels){const G=y.data.channels.find(J=>J.id===t);if(!f.current||g.current!==t){const J=G?.name||"";n(J),l(J),f.current=!0,g.current=t,m.current=!1}}else t||(f.current=!1,n(""),s([]),l(""),c([]))},[t,y]),H.useEffect(()=>{if(!A&&!(t&&x)){if(!t){m.current=!1;return}if(!(m.current&&g.current===t)){if(E){D({title:"Error",description:`Could not load group participants: ${T?.message||"Unknown error"}`,variant:"destructive"}),s([]),c([]),m.current=!0;return}if(b?.success&&b.data){const G=b.data,J=O.filter(ue=>G.includes(ue.id));s(J),c(J.map(ue=>ue.id)),m.current=!0}else b&&!b.success?(D({title:"Error",description:`Could not load group participants: ${b.error?.message||"Server error"}`,variant:"destructive"}),s([]),c([]),m.current=!0):(s([]),c([]),m.current=!0)}}},[t,A,x,b,O,E,T,D]);const N=H.useMemo(()=>A||I?[]:O.map(G=>({id:G.id,label:`${G.name}${G.status===bn.INACTIVE?" (Inactive)":""}`,icon:typeof G.settings?.avatar=="string"?G.settings.avatar:""})),[O,A,I]),k=H.useMemo(()=>[],[]),p=H.useMemo(()=>A||!t||t&&!m.current?k:i.map(J=>({id:J.id,label:`${J.name}${J.status===bn.INACTIVE?" (Inactive)":""}`,icon:typeof J.settings?.avatar=="string"?J.settings.avatar:""})),[t,i,A,k]),S=H.useCallback(G=>{const J=O.filter(ue=>G.some(se=>se.id===ue.id));s(J)},[O]),C=H.useCallback(async()=>{if(!t)return;const G=y?.data?.channels.find(J=>J.id===t);P({title:"Delete Group",description:`Are you sure you want to permanently delete the group chat "${G?.name||r||"this group"}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},()=>{w.mutate()})},[t,r,y,w]),M=H.useMemo(()=>{if(!t)return!0;const G=r.trim()!==o.trim(),J=i.map(oe=>oe.id).sort(),ue=u.sort(),se=JSON.stringify(J)!==JSON.stringify(ue);return G||se},[t,r,o,i,u]),U=H.useCallback(async()=>{if(!t&&i.length===0){D({title:"Validation Error",description:"Please select at least one agent for the group.",variant:"destructive"});return}const G=a(()=>{const J=i.map(se=>se.id),ue=r.trim()||(i.length>0?i.map(se=>se.name).join(", "):"Empty Group");t?h.mutate({name:ue,participantIds:J}):Y.mutate({name:ue,participantIds:J})},"proceed");if(t&&i.length===0){P({title:"Remove All Agents?",description:"Are you sure you want to remove all agents from this group? This will leave the group with no participants.",confirmText:"Remove All",variant:"destructive"},()=>{G()});return}G()},[t,r,i,Y,h,D]),B=t?!M||Y.isPending||h.isPending||w.isPending:i.length===0||Y.isPending||h.isPending||w.isPending;return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:e,children:v.jsxs(is,{className:"w-[80%] max-w-2xl",onClick:a(G=>G.stopPropagation(),"onClick"),children:[v.jsxs(Cm,{className:"flex flex-row items-center justify-between space-y-0",children:[v.jsx(g3,{className:"text-xl font-semibold",children:t?"Edit Group Chat":"Create Group Chat"}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:e,children:v.jsx(vi,{className:"h-4 w-4"})})]}),v.jsx(Pi,{}),v.jsx(Dl,{className:"pt-4",children:v.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[v.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[v.jsx("label",{htmlFor:"chat-name",className:"text-sm font-medium",children:"Chat Name (Optional)"}),v.jsx(mn,{id:"chat-name",value:r,onChange:a(G=>n(G.target.value),"onChange"),className:"w-full bg-background text-foreground",placeholder:"Leave blank to auto-generate from participants",disabled:Y.isPending||h.isPending||w.isPending})]}),v.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[v.jsxs("label",{htmlFor:"invite-agents",className:"text-sm font-medium",children:["Select Agents"," ",!t&&v.jsx("span",{className:"text-muted-foreground",children:"(Required)"})]}),A?v.jsxs("div",{className:"flex items-center justify-center p-4",children:[v.jsx(zn,{className:"h-6 w-6 animate-spin text-muted-foreground"}),v.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading agents..."})]}):I?v.jsx("div",{className:"flex items-center justify-center p-4 text-red-500",children:"Error loading agents. Please try again later."}):v.jsx(G3e,{options:N,onSelect:S,className:"w-full",initialSelected:p},`group-panel-combobox-${t||"create"}-${O.length}`),i.length>0&&v.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," agent",i.length>1?"s":""," selected"]}),t&&M&&v.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"You have unsaved changes"})]})]})}),v.jsxs(Mm,{className:"flex justify-between pt-4",children:[t&&v.jsxs(ct,{variant:"destructive",onClick:C,disabled:w.isPending||Y.isPending||h.isPending||A,children:[w.isPending?v.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}):v.jsx(af,{className:"mr-2 h-4 w-4"}),"Delete Group"]}),v.jsxs(ct,{variant:"default",className:t?"":"w-full",onClick:U,disabled:B,children:[(Y.isPending||h.isPending)&&v.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Group":"Create Group"]})]})]})}),v.jsx(Rl,{open:Z,onOpenChange:V,title:F?.title||"",description:F?.description||"",confirmText:F?.confirmText,cancelText:F?.cancelText,variant:F?.variant,onConfirm:W})]})}a(ag,"GroupPanel");function Z3e(e,t="00000000-0000-0000-0000-000000000000"){const r=Us();return Mn({queryKey:["dmChannels",e,r,t],queryFn:a(async()=>{if(!e)return[];We.info("[useDmChannelsForAgent] Fetching distinct DM channels for agent:",e);const l=((await Lr().messaging.getMessageServerChannels(t)).channels||[]).map(d3).filter(u=>{const c=u.metadata||{},d=u.type===Gt.DM,f=c.isDm===!0,g=c.forAgent===e,m=c.user1===r&&c.user2===e||c.user1===e&&c.user2===r;if(d&&f&&g&&m)return!0;if(u.type===Gt.DM&&!c.isDm&&!c.forAgent){const y=u.name.toLowerCase(),_=`dm-${r}-${e}`.toLowerCase(),A=`dm-${e}-${r}`.toLowerCase();if(y===_||y===A)return We.warn("[useDmChannelsForAgent] Matched a canonical DM channel by name convention:",u.id,u.name),!0}return!1});return We.info("[useDmChannelsForAgent] Found distinct DM channels:",l.length,l.map(u=>({id:u.id,name:u.name,metadata:u.metadata}))),l.sort((u,c)=>{const d=new Date(u.updatedAt||u.createdAt).getTime();return new Date(c.updatedAt||c.createdAt).getTime()-d})},"queryFn"),enabled:!!e,staleTime:Mr.FREQUENT,refetchInterval:Mr.STANDARD})}a(Z3e,"useDmChannelsForAgent");function Y3e(){const e=On(),{toast:t}=Gr(),r=Us();return Ri({mutationFn:a(async({agentId:n,channelName:i,messageServerId:s="00000000-0000-0000-0000-000000000000"})=>{if(We.info("[useCreateDmChannel] Creating new distinct DM channel with agent:",{agentId:n,channelName:i,messageServerId:s}),!i||!i.trim())throw new Error("Channel name cannot be empty for a new DM conversation.");return await Lr().messaging.createGroupChannel({name:i.trim(),participantIds:[r,n],metadata:{type:Gt.DM,message_server_id:s,isDm:!0,user1:r,user2:n,forAgent:n,createdAt:new Date().toISOString()}})},"mutationFn"),onSuccess:a((n,i)=>{We.info("[useCreateDmChannel] Distinct DM channel created successfully:",n),t({title:"New Chat Started",description:`Conversation "${n.name}" created.`}),e.invalidateQueries({queryKey:["dmChannels",i.agentId,r,i.messageServerId]}),e.invalidateQueries({queryKey:["channels"]})},"onSuccess"),onError:a(n=>{We.error("[useCreateDmChannel] Error creating distinct DM channel:",n),t({title:"Error Creating Chat",description:n instanceof Error?n.message:"Could not start new chat.",variant:"destructive"})},"onError")})}a(Y3e,"useCreateDmChannel");function $3e(){return Mn({queryKey:["currentMessageServer"],queryFn:a(async()=>{We.info("[useCurrentMessageServer] Fetching current message server ID from backend");const t=await Lr().messaging.getCurrentMessageServer();return We.info("[useCurrentServer] Current server ID:",t.messageServerId),t.messageServerId},"queryFn"),staleTime:Mr.RARE,refetchOnWindowFocus:!0,retry:3})}a($3e,"useCurrentMessageServer");const Mk="eliza-agent-sidebar-visible";function Q3e(){const[e,t]=H.useState(!1);H.useEffect(()=>{try{const i=localStorage.getItem(Mk);if(i!==null){const s=JSON.parse(i);t(s)}}catch(i){We.error("Error reading sidebar state from localStorage:",i),t(!1)}},[]);const r=H.useCallback(i=>{t(i);try{localStorage.setItem(Mk,JSON.stringify(i))}catch(s){We.error("Error saving sidebar state to localStorage:",s)}},[]),n=H.useCallback(()=>{r(!e)},[e,r]);return{isVisible:e,setSidebarVisible:r,toggleSidebar:n}}a(Q3e,"useSidebarState");const ly="eliza-main-panel-width",uy="eliza-sidebar-panel-width",cy="eliza-floating-threshold",dy=70,fy=30,hy=1400;function W3e(){const[e,t]=H.useState(dy),[r,n]=H.useState(fy),[i,s]=H.useState(!1),[o,l]=H.useState(hy);H.useEffect(()=>{try{const m=localStorage.getItem(ly),y=localStorage.getItem(uy),_=localStorage.getItem(cy);if(m!==null){const A=parseFloat(m);!isNaN(A)&&A>0&&A<=100&&t(A)}if(y!==null){const A=parseFloat(y);!isNaN(A)&&A>0&&A<=100&&n(A)}if(_!==null){const A=parseFloat(_);!isNaN(A)&&A>0&&l(A)}}catch(m){We.error("Error reading panel sizes from localStorage:",m),t(dy),n(fy),l(hy)}},[]),H.useEffect(()=>{const m=a(()=>{const y=window.innerWidth<o;s(y)},"checkFloatingMode");return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[o]);const u=H.useCallback(m=>{const y=Math.max(20,Math.min(80,m));t(y);try{localStorage.setItem(ly,y.toString())}catch(_){We.error("Error saving main panel size to localStorage:",_)}},[]),c=H.useCallback(m=>{const y=Math.max(20,Math.min(80,m));n(y);try{localStorage.setItem(uy,y.toString())}catch(_){We.error("Error saving sidebar panel size to localStorage:",_)}},[]),d=H.useCallback(m=>{const y=Math.max(320,Math.min(2560,m));l(y);try{localStorage.setItem(cy,y.toString())}catch(_){We.error("Error saving floating threshold to localStorage:",_)}},[]),f=H.useCallback(()=>{s(m=>!m)},[]),g=H.useCallback(()=>{t(dy),n(fy),l(hy);try{localStorage.removeItem(ly),localStorage.removeItem(uy),localStorage.removeItem(cy)}catch(m){We.error("Error clearing panel sizes from localStorage:",m)}},[]);return{mainPanelSize:e,sidebarPanelSize:r,isFloatingMode:i,floatingThreshold:o,setMainPanelSize:u,setSidebarPanelSize:c,setFloatingThreshold:d,toggleFloatingMode:f,resetPanelSizes:g}}a(W3e,"usePanelWidthState");var b0={exports:{}},X3e=b0.exports,Ok;function J3e(){return Ok||(Ok=1,(function(e,t){(function(r,n){e.exports=n()})(X3e,(function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,d,f,g){return s.fromToBase(c,d,f,g)}a(l,"i"),i.en.relativeTime=o,s.fromToBase=function(c,d,f,g,m){for(var y,_,A,I=f.$locale().relativeTime||o,O=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=O.length,L=0;L<R;L+=1){var D=O[L];D.d&&(y=g?i(c).diff(f,D.d,!0):f.diff(c,D.d,!0));var P=(r.rounding||Math.round)(Math.abs(y));if(A=y>0,P<=D.r||!D.r){P<=1&&L>0&&(D=O[L-1]);var Z=I[D.l];m&&(P=m(""+P)),_=typeof Z=="string"?Z.replace("%d",P):Z(P,d,D.l,A);break}}if(d)return _;var V=A?I.future:I.past;return typeof V=="function"?V(_):V.replace("%s",_)},s.to=function(c,d){return l(c,d,this,!0)},s.from=function(c,d){return l(c,d,this)};var u=a(function(c){return c.$u?i.utc():i()},"d");s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}}))})(b0)),b0.exports}a(J3e,"requireRelativeTime");var q3e=J3e();const ewe=Du(q3e);sl.extend(ewe);const twe="00000000-0000-0000-0000-000000000000",rwe=a(e=>{const t=e.rawMessage,r=a(d=>{switch(d){case"pending":case"executing":case"running":return"input-streaming";case"completed":case"success":return"output-available";case"failed":case"error":return"output-error";default:return"input-available"}},"mapActionStatusToState"),n=t.actions?.[0]||t.action||"ACTION",i=t.actionStatus||"completed",s=t.actionId,o={};t.actions&&(o.actions=t.actions),t.action&&(o.action=t.action),t.thought&&(o.thought=t.thought);const l={};t.text&&(l.result=t.text),l.status=i,t.thought&&(l.thought=t.thought),t.actionResult&&(l.actionResult=t.actionResult);const c=i==="failed"||i==="error"?t.text||"Action failed":void 0;return{type:n,state:r(i),toolCallId:s,input:Object.keys(o).length>0?o:void 0,output:Object.keys(l).length>0?l:void 0,errorText:c}},"convertActionMessageToToolPart"),nwe=Mp.memo(iwe,(e,t)=>e.message.id===t.message.id&&e.message.text===t.message.text&&e.message.isLoading===t.message.isLoading&&e.shouldAnimate===t.shouldAnimate&&e.isUser===t.isUser);function iwe({message:e,agentForTts:t,shouldAnimate:r,onDelete:n,onRetry:i,isUser:s,getAgentInMessage:o,agentAvatarMap:l,chatType:u}){const c=e.type==="agent_action"||e.source==="agent_action";return v.jsxs("div",{className:"flex flex-col w-full",children:[v.jsxs(A9,{isLoading:e.isLoading,...s?{variant:"sent"}:{},...!e.text&&!e.attachments?.length?{className:"bg-transparent"}:{},children:[c?v.jsx(O6e,{toolPart:rwe(e),defaultOpen:!1,className:"max-w-none"}):v.jsx("div",{children:(()=>{if(!e.text)return null;const d=SB(e.text),f=new Set(e.attachments?.map(y=>y.url).filter(Boolean)||[]),g=d.filter(y=>!f.has(y.url)),m=F6e(e.text,d);return v.jsxs("div",{className:"space-y-3",children:[m.trim()&&v.jsx("div",{children:s?v.jsx("div",{className:"whitespace-pre-wrap",children:m}):v.jsx(xB,{className:"max-w-none",isAnimating:r,children:m})}),g.length>0&&v.jsx("div",{className:"space-y-2",children:g.map((y,_)=>v.jsx("div",{children:v.jsx(nE,{url:y.url,title:"Shared media"})},`${y.url}-${_}`))})]})})()}),e.attachments?.filter(d=>d.url&&d.url.trim()!=="").map(d=>v.jsx(nE,{url:d.url,title:d.title||"Attachment"},`${d.url}-${d.title}`))]}),v.jsxs("div",{className:"flex items-center justify-between w-full py-1",children:[v.jsx("div",{children:!s&&(e.text||e.attachments?.length)&&e.createdAt&&v.jsx(Zue,{className:"text-muted-foreground",timestamp:sl(e.createdAt).format("LT")})}),v.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[!s&&e.text&&!e.isLoading&&t?.id&&v.jsxs(v.Fragment,{children:[v.jsx(Oue,{text:e.text}),v.jsx($ue,{agentId:t.id,text:e.text})]}),s&&e.text&&!e.isLoading&&i&&v.jsx(Lue,{onClick:a(()=>i(e.text||""),"onClick")}),v.jsx(Rue,{onClick:a(()=>n(e.id),"onClick")})]})]})]})}a(iwe,"MessageContent");function XB({chatType:e,contextId:t,messageServerId:r,initialDmChannelId:n}){const{toast:i}=Gr(),s=On(),{data:o,isLoading:l}=$3e(),{isVisible:u,setSidebarVisible:c,toggleSidebar:d}=Q3e(),{mainPanelSize:f,sidebarPanelSize:g,isFloatingMode:m,setMainPanelSize:y,setSidebarPanelSize:_}=W3e(),[A,I]=H.useState({showGroupEditPanel:!1,showProfileOverlay:!1,input:"",inputDisabled:!1,selectedGroupAgentId:null,currentDmChannelId:null,isCreatingDM:!1,isMobile:!1}),L=Ap().state?.forceNew||!1;Gn();const[D,P]=H.useState(L),Z=m||A.isMobile,{confirm:V,isOpen:W,onOpenChange:F,onConfirm:Y,options:h}=Ll(),{stopAgent:w,isAgentStopping:b}=Zu(),x=H.useCallback(nt=>{I(ft=>({...ft,...nt}))},[]),E=Us(),T=H.useRef(null),N=H.useRef(null),k=H.useRef(null),p=H.useRef(!1),S=H.useRef(!1),C=H.useRef(""),{data:M,isLoading:U}=Nf(e===Gt.DM?t:void 0,{enabled:e===Gt.DM}),B=M?.data?{...M.data,createdAt:M.data.createdAt||Date.now(),updatedAt:M.data.updatedAt||Date.now()}:void 0,{handleDelete:G,isDeleting:J}=AB(B||{}),ue=H.useMemo(()=>r||o||twe,[r,o]),{data:se=[],isLoading:oe}=Z3e(e===Gt.DM?t:void 0,ue),Pe=Y3e(),{data:Ee}=Nle(e===Gt.GROUP?t:void 0),{data:be}=p3(e===Gt.GROUP?t:void 0),Ce=be?.data,{data:X}=Vu(),ce=X?.agents||[],te=se[0],ie=e===Gt.DM?A.currentDmChannelId||void 0:t||void 0,{data:me=[],isLoading:xe}=o7(te?.id,ue),{data:Oe=[],isLoading:de,addMessage:Q,updateMessage:ne,removeMessage:q,clearMessages:$}=o7(ie,ue),re=H.useMemo(()=>e!==Gt.GROUP||!Ce?[]:Ce.map(nt=>ce.find(ft=>ft.id===nt)).filter(Boolean),[e,Ce,ce]),ae=H.useMemo(()=>ce.reduce((nt,ft)=>(ft.id&&typeof ft.settings?.avatar=="string"&&(nt[ft.id]=ft.settings.avatar),nt),{}),[ce]),Be=H.useCallback(nt=>ce.find(ft=>ft.id===nt),[ce]),{scrollRef:Ie,contentRef:Ke,isAtBottom:kt,scrollToBottom:Te,disableAutoScroll:Xe,autoScrollEnabled:we}=A6e({smooth:!0}),Ne=H.useRef(0),Fe=H.useCallback(()=>{Ie.current&&setTimeout(()=>Te(),0)},[Te,Ie]),Ze=H.useRef(!1),Ue=H.useRef(null),qe=H.useCallback(async nt=>{if(!nt||e!=="DM")return;if(te)try{const cr=await Lr().messaging.getChannelMessages(te.id,{limit:30}),tr=rt(te.name),xr=(cr?.messages?.length??0)===0;if(tr&&xr){A.currentDmChannelId===te.id?i({title:"Already in a fresh chat",description:`You're already in a new chat with ${B?.name||"the agent"}.`}):(x({currentDmChannelId:te.id}),i({title:"Chat opened",description:`You can now start chatting with ${B?.name||"the agent"}.`})),x({currentDmChannelId:te.id});return}else We.info("[Chat] Latest DM channel has messages or customized name, proceeding to create a new one.")}catch(Mt){We.error("[Chat] Failed to fetch latest DM channel messages:",Mt)}const ft=`Chat - ${sl().format("MMM D, HH:mm:ss")}`;We.info(`[Chat] Creating new distinct DM channel with agent ${nt}, name: "${ft}"`),x({isCreatingDM:!0});try{Ze.current=!0,We.info("[Chat] About to create DM channel with messageServerId:",ue);const Mt=await Pe.mutateAsync({agentId:nt,channelName:ft,messageServerId:ue});x({currentDmChannelId:Mt.id,input:""}),setTimeout(()=>Fe(),150)}catch(Mt){We.error("[Chat] Error creating new distinct DM channel:",Mt),x({currentDmChannelId:null,input:""})}finally{x({isCreatingDM:!1}),i({title:"Chat opened",description:`You can now start chatting with ${B?.name||"the agent"}.`})}},[e,Pe,x,Fe,te,ue,B,i]),Rt=H.useCallback(nt=>{const ft=se.find(Mt=>Mt.id===nt);ft&&(We.info(`[Chat] DM Channel selected: ${ft.name} (Channel ID: ${ft.id})`),x({currentDmChannelId:ft.id,input:""}),setTimeout(()=>Fe(),150))},[se,x,Fe]),Je=H.useCallback(()=>{if(e!==Gt.DM||!A.currentDmChannelId||!B?.id)return;const nt=se.find(ft=>ft.id===A.currentDmChannelId);nt&&V({title:"Delete Chat",description:`Are you sure you want to delete the chat "${nt.name}" with ${B.name}? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},async()=>{We.info(`[Chat] Deleting DM channel ${nt.id}`);try{await Lr().messaging.deleteChannel(nt.id),s.setQueryData(["dmChannels",B.id,E],cr=>cr?.filter(tr=>tr.id!==nt.id)),s.invalidateQueries({queryKey:["dmChannels",B.id,E]}),s.invalidateQueries({queryKey:["channels"]}),i({title:"Chat Deleted",description:`"${nt.name}" was deleted.`});const Mt=s.getQueryData(["dmChannels",B.id,E])||[];Mt.length>0?(x({currentDmChannelId:Mt[0].id}),We.info("[Chat] Switched to DM channel:",Mt[0].id)):(We.info("[Chat] No DM channels left after deletion. Will create a fresh chat once."),x({currentDmChannelId:null}),Ze.current=!1,await qe(B.id))}catch(ft){We.error("[Chat] Error deleting DM channel:",ft),i({title:"Error",description:"Could not delete chat. The server might not support this action yet.",variant:"destructive"})}})},[e,A.currentDmChannelId,B,se,V,i,x,qe,s,E]);H.useEffect(()=>{te&&!xe&&me&&B?.id&&D&&(qe(B.id),P(!1))},[D,P,qe,B?.id,te,me,xe]),H.useEffect(()=>{p.current=A.inputDisabled},[A.inputDisabled]),H.useEffect(()=>{const nt=se.find(ft=>ft.id===A.currentDmChannelId);nt?.name&&(C.current=nt.name)},[se,A.currentDmChannelId]),H.useEffect(()=>{!oe&&se.length>0&&(We.info("[Chat] Selecting first available DM channel:",se[0].id),x({currentDmChannelId:se[0].id}))},[se,oe,x]);const Re=H.useCallback(nt=>{if(e===Gt.DM&&t&&nt&&typeof window<"u"){const ft=`/chat/${t}/${nt}`;window.location.pathname!==ft&&window.history&&window.history.replaceState(null,"",ft)}},[e,t]);H.useEffect(()=>{A.currentDmChannelId&&Re(A.currentDmChannelId)},[A.currentDmChannelId,Re]),H.useEffect(()=>{if(We.info("[Chat] URL navigation effect triggered",{initialDmChannelId:n,agentDmChannelsLength:se.length,isLoadingAgentDmChannels:oe,currentDmChannelId:A.currentDmChannelId}),n&&se.length>0&&!oe&&!S.current){if(!Qd(n)){We.warn("[Chat] Invalid channel ID format from URL:",n),S.current=!0;return}se.some(Mt=>Mt.id===n)?(We.info("[Chat] Switching to channel from URL:",n),x({currentDmChannelId:n}),S.current=!0):(We.warn("[Chat] Channel from URL not found, staying with current channel",{initialDmChannelId:n,availableChannels:se.map(Mt=>Mt.id)}),S.current=!0)}},[n,se,oe,x]),H.useEffect(()=>{if(e===Gt.DM&&B?.id){if(!(!A.currentDmChannelId||se.some(ft=>ft.id===A.currentDmChannelId))&&!oe&&!A.isCreatingDM&&!Pe.isPending){We.info(`[Chat] Current DM channel ${A.currentDmChannelId} doesn't belong to agent ${B.id}, clearing it`),x({currentDmChannelId:null});return}!oe&&!l&&se.length===0&&!n&&!Ze.current&&!A.isCreatingDM&&!Pe.isPending&&(We.info("[Chat] No existing DM channels found; auto-creating a fresh one."),Ze.current=!0,qe(B.id))}else e!==Gt.DM&&A.currentDmChannelId!==null&&x({currentDmChannelId:null})},[e,B?.id,se,oe,l,Pe.isPending,A.isCreatingDM,A.currentDmChannelId,n,x,qe]),H.useEffect(()=>(se.length>0&&Ue.current&&(clearTimeout(Ue.current),Ue.current=null),()=>{Ue.current&&(clearTimeout(Ue.current),Ue.current=null)}),[se]),H.useEffect(()=>{e===Gt.GROUP&&re.length===1&&!A.selectedGroupAgentId&&(x({selectedGroupAgentId:re[0].id}),u||c(!0))},[e,re,A.selectedGroupAgentId,x,u,c]);const{mutate:et}=Ile(),{mutate:ze}=Cle();H.useEffect(()=>{const nt=Ne.current===0&&Oe.length>0,ft=Oe.length!==Ne.current&&Ne.current!==0;nt?(We.debug("[chat] Initial messages loaded, scrolling to bottom.",{count:Oe.length}),Fe()):ft&&(we?(We.debug("[chat] New messages and autoScroll enabled, scrolling."),Fe()):We.debug("[chat] New messages, but autoScroll is disabled (user scrolled up).")),Ne.current=Oe.length},[Oe,we,Fe,ie]);function rt(nt){return!!nt?.match(/^Chat - [A-Z][a-z]{2} \d{1,2}, \d{2}:\d{2}(:\d{2})?$/)}a(rt,"isAutoGeneratedChatName");const Tt=a(async()=>{if(!(!!C.current&&rt(C.current)&&e===Gt.DM))return;if(!ie||!A.currentDmChannelId){We.warn("Cannot update chat title: missing channel ID");return}const ft=Lr(),cr=(await ft.messaging.generateChannelTitle(ie,t))?.title,tr=await ft.messaging.getChannelParticipants(A.currentDmChannelId);if(cr&&tr){let xr=[];tr&&Array.isArray(tr.participants)?xr=tr.participants.map(kr=>kr.userId):tr&&Array.isArray(tr)&&(xr=tr.map(kr=>kr.userId||kr.id||kr)),await ft.messaging.updateChannel(ie,{name:cr,participantCentralUserIds:xr});const Pr=Us();s.invalidateQueries({queryKey:["dmChannels",t,Pr]})}},"updateChatTitle"),{sendMessage:pe,animatedMessageId:ye}=L6e({channelId:ie,currentUserId:E,contextId:t,chatType:e,allAgents:ce,messages:Oe,onAddMessage:a(nt=>{Q(nt),Tt(),nt.isAgent&&Fe()},"onAddMessage"),onUpdateMessage:a((nt,ft)=>{ne(nt,ft),!ft.isLoading&&ft.isLoading!==void 0&&Fe()},"onUpdateMessage"),onDeleteMessage:a(nt=>{q(nt)},"onDeleteMessage"),onClearMessages:a(()=>{$()},"onClearMessages"),onInputDisabledChange:a(nt=>x({inputDisabled:nt}),"onInputDisabledChange")}),{selectedFiles:$e,handleFileChange:Le,removeFile:He,createBlobUrls:ut,uploadFiles:he,cleanupBlobUrls:je,clearFiles:lt}=R6e({agentId:B?.id,channelId:ie,chatType:e}),Me=a(nt=>{nt.key==="Enter"&&!nt.shiftKey&&!nt.nativeEvent.isComposing&&(nt.preventDefault(),ot(nt))},"handleKeyDown"),ot=a(async nt=>{nt.preventDefault();let ft=ie;if(e===Gt.DM&&!ft&&B?.id){if(A.isCreatingDM||Pe.isPending){We.info("[Chat] DM channel creation already in progress; will wait for it to finish instead of creating another.");return}We.info("[Chat] No DM channel selected, creating one before sending message");try{Ze.current=!0;const br=await Pe.mutateAsync({agentId:B.id,channelName:`Chat - ${sl().format("MMM D, HH:mm")}`,messageServerId:ue});x({currentDmChannelId:br.id}),ft=br.id,await new Promise(Kr=>setTimeout(Kr,100))}catch(br){We.error("[Chat] Failed to create DM channel before sending message:",br),i({title:"Error",description:"Failed to create chat channel. Please try again.",variant:"destructive"}),x({inputDisabled:!1});return}}if(!A.input.trim()&&$e.length===0||p.current||!ft||!ue||!E||e===Gt.DM&&!B?.id)return;const Mt=Os();let cr=A.input.trim();const tr=A.input;x({input:"",inputDisabled:!0});const xr=[...$e];lt(),k.current?.reset();const Pr=ut(xr),kr={id:Mt,text:cr,name:iu,createdAt:Date.now(),senderId:E,isAgent:!1,isLoading:!0,channelId:ft,messageServerId:ue,source:e===Gt.DM?Uf:Fc,attachments:Pr};(cr||xr.length>0)&&Q(kr),Fe();try{let br=[];if(xr.length>0){const{uploaded:Ar,failed:Br,blobUrls:Jr}=await he(xr);br=Ar,Br.length>0&&ne(Mt,{attachments:kr.attachments?.filter(Yr=>!Br.some(qs=>qs.file.id===Yr.id))}),je(Jr),!cr.trim()&&br.length>0&&(cr=`Shared ${br.length} file(s).`)}const $r=SB(tr).map((Ar,Br)=>({id:`textmedia-${Mt}-${Br}`,url:Ar.url,title:Ar.type==="image"?"Image":Ar.type==="video"?"Video":"Media Link",source:"user_input_url",contentType:Ar.type==="image"?E0.IMAGE:Ar.type==="video"?E0.VIDEO:void 0})),zr=[...br,...$r],Zr=cr||(zr.length>0?"Shared content.":"");if(!Zr.trim()&&zr.length===0){x({inputDisabled:!1}),q(Mt);return}await pe(Zr,ue,e===Gt.DM?Uf:Fc,zr.length>0?zr:void 0,Mt,void 0,ft)}catch(br){We.error("Error sending message or uploading files:",br),i({title:"Error Sending Message",description:br instanceof Error?br.message:"Could not send message.",variant:"destructive"}),ne(Mt,{isLoading:!1,text:`${kr.text||"Attachment(s)"} (Failed to send)`}),x({inputDisabled:!1})}finally{T.current?.focus()}},"handleSendMessage"),Ft=a(nt=>{if(!ie||!nt)return;const ft=Qd(nt);ft&&(q(nt),et({channelId:ie,messageId:ft}))},"handleDeleteMessage"),at=a(async nt=>{if(p.current||!nt.text?.trim()&&nt.attachments?.length===0)return;x({inputDisabled:!0});const ft=Os(),Mt=nt.text?.trim()||`Shared ${nt.attachments?.length} file(s).`,cr={id:ft,text:nt.text,name:iu,createdAt:Date.now(),senderId:E,isAgent:!1,isLoading:!0,channelId:nt.channelId,messageServerId:ue,source:e===Gt.DM?Uf:Fc,attachments:nt.attachments};if(Q(cr),Fe(),!ue||!ie){We.error("Cannot retry message: missing server or channel ID"),i({title:"Error Sending Message",description:"Missing required channel information.",variant:"destructive"}),x({inputDisabled:!1}),q(ft);return}try{await pe(Mt,ue,e===Gt.DM?Uf:Fc,nt.attachments,ft,void 0,ie)}catch(tr){We.error("Error sending message or uploading files:",tr),i({title:"Error Sending Message",description:tr instanceof Error?tr.message:"Could not send message.",variant:"destructive"}),ne(ft,{isLoading:!1,text:`${cr.text||"Attachment(s)"} (Failed to send)`}),x({inputDisabled:!1})}},"handleRetryMessage"),mt=a(()=>{if(!ie)return;const nt=e===Gt.DM?`Clear all messages in this chat with ${B?.name}?`:"Clear all messages in this group chat?";V({title:"Clear Chat",description:`${nt} This action cannot be undone.`,confirmText:"Clear",variant:"destructive"},()=>{ze(ie)})},"handleClearChat");if(H.useEffect(()=>{const nt=a(()=>{const ft=window.innerWidth<768;x({isMobile:ft})},"checkMobile");return nt(),window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)},[x]),e===Gt.DM&&(U||!B&&t||oe))return v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx(zn,{className:"h-8 w-8 animate-spin text-primary"})});if(!ie||!ue||e===Gt.DM&&!B)return v.jsx("div",{className:"flex flex-1 justify-center items-center",children:v.jsx("p",{children:"Loading chat context..."})});const Kt=a(()=>{J||V({title:"Delete Agent",description:`Are you sure you want to delete the agent "${B?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},G)},"onDeleteAgent"),Qt=a(()=>{if(e===Gt.DM&&B)return v.jsxs("div",{className:"flex items-center justify-between mb-4 p-3",children:[v.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:v.jsxs(yd,{children:[v.jsx(wd,{asChild:!0,children:v.jsxs(ct,{variant:"ghost",size:"sm",className:"py-6 px-2 flex-shrink-0",children:[v.jsxs("div",{className:"relative flex-shrink-0",children:[v.jsx(ko,{className:"size-4 sm:size-10 border rounded-full",children:v.jsx(Al,{src:gd(B)})}),B?.status===bn.ACTIVE?v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-green-500"})}),v.jsx(on,{side:"right",children:v.jsx("p",{children:"Agent is active"})})]}):v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-muted-foreground"})}),v.jsx(on,{side:"right",children:v.jsx("p",{children:"Agent is inactive"})})]})]}),v.jsx("div",{children:v.jsx("h2",{className:"font-semibold text-lg truncate max-w-[80px] sm:max-w-none",children:B?.name||"Agent"})}),v.jsx(Ja,{className:"size-4"})]})}),v.jsxs(xd,{align:"start",side:"bottom",className:"min-w-36 w-[var(--radix-dropdown-menu-trigger-width)]",children:[v.jsxs(Ha,{onClick:a(()=>{x2(B,i)},"onClick"),children:[v.jsx(aA,{className:"h-4 w-4 mr-2"}),"Export"]}),v.jsx(w0,{}),v.jsxs(Ha,{onClick:a(()=>{B&&!b(B.id)&&w(B)},"onClick"),children:[v.jsx(l2,{className:"h-4 w-4 mr-2"}),"Stop Agent"]}),v.jsxs(Ha,{onClick:a(()=>{B&&!J&&Kt()},"onClick"),className:"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50",children:[v.jsx(af,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})]})]})}),v.jsx("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:e===Gt.DM&&v.jsxs("div",{className:"flex items-center gap-2",children:[se.length>0&&v.jsxs(yd,{children:[v.jsx(wd,{asChild:!0,children:v.jsxs(ct,{variant:"outline",size:"sm",className:"w-8 h-9 sm:max-w-[300px] sm:w-auto rounded-[12px]",children:[v.jsx(Ip,{className:"size-4 flex-shrink-0 text-muted-foreground"}),v.jsx("span",{className:"hidden md:inline truncate text-xs sm:text-sm",children:se.find(nt=>nt.id===A.currentDmChannelId)?.name||"Select Chat"}),v.jsx(Ja,{className:"hidden md:inline-flex size-4 text-muted-foreground"})]})}),v.jsxs(xd,{align:"end",className:"w-[280px] sm:w-[320px]",children:[v.jsxs(mG,{className:"font-medium",children:["Chat History with ",B.name]}),v.jsx(w0,{}),v.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:se.map(nt=>v.jsx(Ha,{onClick:a(()=>Rt(nt.id),"onClick"),className:Ve("cursor-pointer",nt.id===A.currentDmChannelId&&"bg-muted"),children:v.jsxs("div",{className:"flex items-center justify-between w-full",children:[v.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[v.jsx("span",{className:Ve("text-sm truncate",nt.id===A.currentDmChannelId&&"font-medium"),children:nt.name}),v.jsx("span",{className:"text-xs text-muted-foreground",children:sl((typeof nt.metadata?.createdAt=="string"||typeof nt.metadata?.createdAt=="number"?nt.metadata.createdAt:null)||nt.updatedAt||nt.createdAt).fromNow()})]}),nt.id===A.currentDmChannelId&&v.jsx(ca,{variant:"default",className:"text-xs flex-shrink-0 ml-2",children:"Current"})]})},nt.id))})]})]}),v.jsx(i2,{mainAction:{label:A.isCreatingDM?"Creating...":v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"sm:hidden",children:"New"}),v.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]}),onClick:a(()=>qe(B?.id),"onClick"),icon:A.isCreatingDM?v.jsx(zn,{className:"size-4 animate-spin"}):v.jsx(Tp,{className:"size-4"}),disabled:A.isCreatingDM||oe},actions:[{label:"Clear Chat",onClick:mt,icon:v.jsx(Mw,{className:"size-4"}),disabled:!Oe||Oe.length===0},{label:"Delete Chat",onClick:Je,icon:v.jsx(pl,{className:"size-4"}),disabled:!A.currentDmChannelId,variant:"destructive"}],variant:"outline",size:"sm",mainButtonClassName:"rounded-l-[12px] h-9",dropdownButtonClassName:"rounded-r-[12px] h-9"}),v.jsxs(fn,{children:[v.jsx(hn,{asChild:!0,children:v.jsx(ct,{className:"w-9 h-9 rounded-[12px]",variant:"outline",onClick:d,children:u?v.jsx(cg,{className:"size-4"}):v.jsx(Ow,{className:"size-4"})})}),v.jsx(on,{side:"bottom",children:v.jsx("p",{children:u?"Close SidePanel":"Open SidePanel"})})]})]})})]});if(e===Gt.GROUP){const nt=b2(Ee?.data||void 0,re,E);return v.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[v.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[v.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:v.jsx("h2",{className:"font-semibold text-lg truncate",title:nt,children:nt})}),v.jsxs("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:[v.jsx(i2,{mainAction:{label:"Edit Group",onClick:a(()=>x({showGroupEditPanel:!0}),"onClick"),icon:v.jsx(xU,{className:"size-4"})},actions:[{label:"Clear Messages",onClick:mt,icon:v.jsx(Mw,{className:"size-4"}),disabled:!Oe||Oe.length===0},{label:"Delete Group",onClick:a(()=>{if(!ie||!ue)return;const ft=ie;V({title:"Delete Group",description:"Are you sure you want to delete this group? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{await Lr().messaging.deleteChannel(ft),i({title:"Group Deleted",description:"The group has been successfully deleted."}),window.location.href="/"}catch(Mt){We.error("[Chat] Error deleting group:",Mt),i({title:"Error",description:"Could not delete group.",variant:"destructive"})}})},"onClick"),icon:v.jsx(pl,{className:"size-4"}),disabled:!ie||!ue,variant:"destructive"}],variant:"outline",size:"sm",className:"px-2 sm:px-3"}),v.jsx(ct,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 h-8 w-8 sm:w-auto",onClick:d,children:u?v.jsx(cg,{className:"h-4 w-4"}):v.jsx(Ow,{className:"h-4 w-4"})})]})]}),re.length>0&&v.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card rounded-lg border overflow-x-auto",children:[v.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Agents:"}),v.jsxs("div",{className:"flex gap-2 min-w-0",children:[v.jsx(ct,{variant:A.selectedGroupAgentId?"ghost":"default",size:"sm",onClick:a(()=>x({selectedGroupAgentId:null}),"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:v.jsx("span",{children:"All"})}),re.map(ft=>v.jsxs(ct,{variant:A.selectedGroupAgentId===ft?.id?"default":"ghost",size:"sm",onClick:a(()=>{x({selectedGroupAgentId:ft?.id||null}),ft?.id&&!u&&c(!0)},"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx(ko,{className:"size-5",children:v.jsx(Al,{src:gd(ft)})}),v.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:ft?.name})]},ft?.id))]})]})]})}return null},"renderChatHeader");return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[Z?v.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[v.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qt()}),v.jsxs("div",{className:Ve("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:v.jsx(Ck,{messages:Oe,isLoadingMessages:de,chatType:e,currentClientEntityId:E,targetAgentData:B,allAgents:ce,animatedMessageId:ye,scrollRef:Ie,contentRef:Ke,isAtBottom:kt,scrollToBottom:Te,disableAutoScroll:Xe,finalChannelId:ie,getAgentInMessage:Be,agentAvatarMap:ae,onDeleteMessage:Ft,onRetryMessage:a(nt=>{if(!ie){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const ft={id:Os(),text:nt,name:iu,senderId:E,isAgent:!1,createdAt:Date.now(),channelId:ie,messageServerId:ue};at(ft)},"onRetryMessage"),selectedGroupAgentId:A.selectedGroupAgentId})}),v.jsx("div",{className:"flex-shrink-0",children:v.jsx(Ik,{input:A.input,setInput:a(nt=>x({input:nt}),"setInput"),inputDisabled:A.inputDisabled,selectedFiles:$e,removeFile:He,handleFileChange:Le,handleSendMessage:ot,handleKeyDown:Me,chatType:e,targetAgentData:B,formRef:k,inputRef:T,fileInputRef:N})})]})]}):v.jsxs(T6e,{direction:"horizontal",className:"h-full flex-1 overflow-hidden",onLayout:a(nt=>{nt.length>=2&&u&&!A.isMobile&&(y(nt[0]),_(nt[1]))},"onLayout"),children:[v.jsx(mk,{defaultSize:u&&!A.isMobile?f:100,minSize:A.isMobile?100:50,children:v.jsx("div",{className:"relative h-full overflow-hidden",children:v.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[v.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qt()}),v.jsxs("div",{className:Ve("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:v.jsx(Ck,{messages:Oe,isLoadingMessages:de,chatType:e,currentClientEntityId:E,targetAgentData:B,allAgents:ce,animatedMessageId:ye,scrollRef:Ie,contentRef:Ke,isAtBottom:kt,scrollToBottom:Te,disableAutoScroll:Xe,finalChannelId:ie,getAgentInMessage:Be,agentAvatarMap:ae,onDeleteMessage:Ft,onRetryMessage:a(nt=>{if(!ie){i({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const ft={id:Os(),text:nt,name:iu,senderId:E,isAgent:!1,createdAt:Date.now(),channelId:ie,messageServerId:ue};at(ft)},"onRetryMessage"),selectedGroupAgentId:A.selectedGroupAgentId})}),v.jsx("div",{className:"flex-shrink-0",children:v.jsx(Ik,{input:A.input,setInput:a(nt=>x({input:nt}),"setInput"),inputDisabled:A.inputDisabled,selectedFiles:$e,removeFile:He,handleFileChange:Le,handleSendMessage:ot,handleKeyDown:Me,chatType:e,targetAgentData:B,formRef:k,inputRef:T,fileInputRef:N})})]})]})})}),(()=>{let nt,ft="Agent",Mt;return e===Gt.DM?(nt=t,ft=B?.name||"Agent",Mt=A.currentDmChannelId||void 0):e===Gt.GROUP&&A.selectedGroupAgentId?(nt=A.selectedGroupAgentId,ft=ce.find(tr=>tr.id===A.selectedGroupAgentId)?.name||"Group Member",Mt=t):e===Gt.GROUP&&!A.selectedGroupAgentId&&(ft="Group",Mt=t),u&&!A.isMobile&&v.jsxs(v.Fragment,{children:[v.jsx(N6e,{withHandle:!0}),v.jsx(mk,{defaultSize:g,minSize:15,maxSize:85,children:v.jsx(Tk,{agentId:nt,agentName:ft,channelId:Mt})})]})})()]}),(()=>{let nt,ft="Agent",Mt;return e===Gt.DM?(nt=t,ft=B?.name||"Agent",Mt=A.currentDmChannelId||void 0):e===Gt.GROUP&&A.selectedGroupAgentId?(nt=A.selectedGroupAgentId,ft=ce.find(tr=>tr.id===A.selectedGroupAgentId)?.name||"Group Member",Mt=t):e===Gt.GROUP&&!A.selectedGroupAgentId&&(ft="Group",Mt=t),u&&Z&&v.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm",children:v.jsx("div",{className:"absolute inset-0 bg-background shadow-lg",children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h3",{className:"font-semibold text-lg",children:ft}),v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(()=>c(!1),"onClick"),className:"h-8 w-8 p-0",children:v.jsx(cg,{className:"h-4 w-4"})})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(Tk,{agentId:nt,agentName:ft,channelId:Mt})})]})})})})()]}),A.showGroupEditPanel&&e===Gt.GROUP&&v.jsx(ag,{onClose:a(()=>x({showGroupEditPanel:!1}),"onClose"),channelId:t}),A.showProfileOverlay&&e===Gt.DM&&B?.id&&v.jsx(S9,{isOpen:A.showProfileOverlay,onClose:a(()=>x({showProfileOverlay:!1}),"onClose"),agentId:B.id}),v.jsx(Rl,{open:W,onOpenChange:F,title:h?.title||"",description:h?.description||"",confirmText:h?.confirmText,cancelText:h?.cancelText,variant:h?.variant,onConfirm:Y})]})}a(XB,"Chat");function awe(){const{agentId:e,channelId:t}=m2(),r=Gn();H.useEffect(()=>(We.info("[AgentRoute] Component mounted/updated",{agentId:e,channelId:t}),()=>{We.info("[AgentRoute] Component unmounted",{agentId:e,channelId:t})}),[e,t]);const{data:n,isLoading:i}=Nf(e),{startAgent:s,isAgentStarting:o}=Zu(),l=n?.data?{...n.data,status:n.data.status==="active"?bn.ACTIVE:(n.data.status==="inactive",bn.INACTIVE),username:n.data.username||n.data.name||"Unknown",bio:n.data.bio||"",messageExamples:n.data.messageExamples||[],postExamples:n.data.postExamples||[],topics:n.data.topics||[],adjectives:n.data.adjectives||[],knowledge:n.data.knowledge||[],plugins:n.data.plugins||[],settings:n.data.settings||{},secrets:n.data.secrets||{},style:n.data.style||{},templates:n.data.templates||{},enabled:typeof n.data.enabled=="boolean"?n.data.enabled:!0,createdAt:typeof n.data.createdAt=="number"?n.data.createdAt:Date.now(),updatedAt:typeof n.data.updatedAt=="number"?n.data.updatedAt:Date.now()}:void 0;if(!e)return v.jsx("div",{className:"p-4",children:"Agent ID not provided."});if(i||!l)return v.jsx("div",{className:"p-4 flex items-center justify-center h-full","data-testid":"loader",children:v.jsx(zn,{className:"h-8 w-8 animate-spin text-primary"})});const u=l.status===bn.ACTIVE,c=o(l.id),d=a(()=>{l&&s(l)},"handleStartAgent");return u?(We.info("[AgentRoute] Agent is active, rendering chat for DM",{agentName:l?.name,dmChannelIdFromRoute:t}),v.jsx(XB,{chatType:Gt.DM,contextId:e,initialDmChannelId:t},`${e}-${t||"no-dm-channel"}`)):(We.info("[AgentRoute] Agent is not active, rendering inactive state UI",{agentName:l?.name}),v.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 text-center",children:[v.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[l.name," is not active."]}),v.jsx("p",{className:"text-muted-foreground mb-6",children:"Press the button below to start this agent."}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx(ct,{onClick:a(()=>r(`/settings/${e}`),"onClick"),variant:"outline",size:"lg",children:v.jsx(ml,{className:"h-5 w-5"})}),v.jsxs(ct,{onClick:d,disabled:c,size:"lg",children:[c?v.jsx(zn,{className:"mr-2 h-5 w-5 animate-spin"}):v.jsx(c2,{className:"mr-2 h-5 w-5"}),c?"Starting Agent...":"Start Agent"]})]})]}))}a(awe,"AgentRouteContent");function Rk(){return v.jsx(awe,{})}a(Rk,"AgentRoute");function swe(){return v.jsx("div",{className:"h-full w-full overflow-y-auto",children:v.jsx("div",{className:"min-h-full flex w-full justify-center px-4 sm:px-6 py-4",children:v.jsx("div",{className:"w-full max-w-4xl min-w-0",children:v.jsx(UD,{})})})})}a(swe,"AgentCreatorRoute");function owe({className:e,...t}){return v.jsx(_U,{"data-slot":"switch",className:Ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-4 w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",e),...t,children:v.jsx(EU,{"data-slot":"switch-thumb",className:Ve("bg-background dark:data-[state=unchecked]:bg-primary-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block h-2.5 w-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+10px)] data-[state=unchecked]:translate-x-0")})})}a(owe,"Switch");const lwe=a(({agent:e,onChat:t})=>{const r=Gn(),{startAgent:n,stopAgent:i,isAgentStarting:s,isAgentStopping:o}=Zu();if(!e||!e.id)return We.error("[AgentCard] Agent data or ID is missing",{agent:e}),v.jsx(is,{className:"p-4 min-h-[100px] flex items-center justify-center text-muted-foreground",children:"Agent data not available."});const l=e.id,u=e.name||"Unnamed Agent",c=Array.isArray(e.bio)?e.bio.filter(Boolean).join(" ").trim():typeof e.bio=="string"&&e.bio.trim()||"Engages with all types of questions and conversations",d=e.status===bn.ACTIVE,f=s(e.id),g=o(e.id),m={id:e.id,name:u,username:e.username||u,bio:e.bio||"",messageExamples:e.messageExamples||[],postExamples:e.postExamples||[],topics:e.topics||[],adjectives:e.adjectives||[],knowledge:e.knowledge||[],plugins:e.plugins||[],settings:e.settings||{},secrets:e.secrets||{},style:e.style||{},system:e.system||void 0,templates:e.templates||{},enabled:typeof e.enabled=="boolean"?e.enabled:!0,status:e.status||bn.INACTIVE,createdAt:typeof e.createdAt=="number"?e.createdAt:Date.now(),updatedAt:typeof e.updatedAt=="number"?e.updatedAt:Date.now()},y=a(()=>{n(m)},"handleStart"),_=a(()=>{i(m)},"handleStop"),A=a((R=!1)=>{t(R)},"handleNewChat"),I=a(()=>{r(`/settings/${l}`)},"handleSettings"),O=a(()=>{d?_():y()},"handleToggle");return v.jsx(is,{className:Ve("w-full transition-all bg-card border border-border/50 rounded-sm hover:bg-card/50 cursor-pointer",d?"":"opacity-75"),"data-testid":"agent-card",onClick:a(R=>{R.stopPropagation(),A()},"onClick"),children:v.jsxs(Dl,{className:"p-0 relative h-full",children:[v.jsx("div",{className:"absolute top-3 right-3",children:v.jsx(owe,{checked:d,onCheckedChange:a(R=>{R!==d&&O()},"onCheckedChange"),onClick:a(R=>R.stopPropagation(),"onClick"),"aria-label":`Toggle ${u}`,disabled:f||g,className:Ve(d?"data-[state=checked]:!bg-green-600":"data-[state=unchecked]:!bg-gray-500/80")})}),v.jsxs("div",{className:"flex flex-col justify-between h-full",children:[v.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[v.jsxs(ko,{className:"h-16 w-16 flex-shrink-0 rounded-sm",children:[v.jsx(Al,{src:gd(e),alt:u}),v.jsx(Im,{className:"text-lg font-medium rounded-sm",children:gl(u)})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:u,children:u}),v.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:c})]})]}),v.jsx("div",{className:"border-t border-muted"}),v.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(R=>{R.stopPropagation(),I()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:v.jsx(ml,{className:"h-4 w-4 text-muted-foreground"})}),v.jsx(ct,{variant:"outline",size:"sm",onClick:a(R=>{R.stopPropagation(),A(!0)},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"New Chat"})]})]})]})})},"AgentCard"),uwe=a(({group:e})=>{const t=Gn(),r=Us(),[n,i]=H.useState(!1);if(!e||!e.id)return v.jsx(is,{className:"p-4 min-h-[180px] flex items-center justify-center text-muted-foreground",children:"Group data not available."});const s=b2(e,e.participants||[],r),o=a(()=>{t(`/group/${e.id}?messageServerId=${e.server_id}`)},"handleChatClick"),{data:l}=Vu(),u=l?.agents||[],{data:c}=p3(e.id),d=c?.data,f=d&&Array.isArray(d)?d:[],g=f?u.filter(_=>_.id&&f.includes(_.id)):[],m=a(()=>{i(!0)},"handleSettings"),y=g.map(_=>_.name).filter(Boolean).join(", ")||"No members";return v.jsxs(v.Fragment,{children:[v.jsx(is,{className:"w-full transition-all bg-card border border-border/50 rounded-sm","data-testid":"agent-card",children:v.jsx(Dl,{className:"p-0 relative h-full",children:v.jsxs("div",{className:"flex flex-col justify-between h-full",children:[v.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[v.jsx(ko,{className:"bg-[#282829] h-16 w-16 flex-shrink-0 rounded-[3px] relative overflow-hidden",children:g&&g.length>0?v.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 w-full h-full p-1",children:[g.slice(0,3).map(_=>{const A=typeof _.settings?.avatar=="string"?_.settings.avatar:null;return A?v.jsx("img",{src:A,alt:_.name,className:"object-cover w-full h-full rounded-[3px]"},_.id):v.jsx("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:gl(_.name)},_.id)}),g.length>3?v.jsxs("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:["+",g.length-3]}):Array.from({length:4-g.slice(0,3).length}).map((_,A)=>v.jsx("div",{className:"flex items-center justify-center bg-[#2D2D2D] text-xs font-medium w-full h-full rounded-[3px]"},`empty-${A}`))]}):v.jsx("div",{className:"flex items-center justify-center bg-muted text-lg font-medium w-full h-full",children:gl(s)})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:s,children:s}),v.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:y})]})]}),v.jsx("div",{className:"border-t border-muted"}),v.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[v.jsx(ct,{variant:"ghost",size:"sm",onClick:a(_=>{_.stopPropagation(),m()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:v.jsx(ml,{className:"h-4 w-4 text-muted-foreground"})}),v.jsx(ct,{variant:"outline",size:"sm",onClick:a(_=>{_.stopPropagation(),o()},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"Chat"})]})]})})}),n&&v.jsx(ag,{onClose:a(()=>i(!1),"onClose"),channelId:e.id})]})},"GroupCard");function cwe(){const{data:e,isLoading:t,isError:r,error:n}=Vu(),i=Gn(),s=H.useMemo(()=>e?.agents||[],[e]),o=s.filter(P=>P.status===bn.ACTIVE).length,{data:l}=u9(),u=l?.data?.servers||[],[c,d]=H.useState(!1),[f,g]=H.useState(!1),[m,y]=H.useState(null),[_,A]=H.useState(null),[I,O]=H.useState("agents"),R=a(()=>{y(null),d(!1)},"closeOverlay"),L=a(async(P,Z)=>{P.id&&(We.info(`[Home] Navigating to chat/${P.id}`),i(`/chat/${P.id}`,{state:{forceNew:Z}}))},"handleNavigateToDm"),D=a(()=>{i("/group/new")},"handleCreateGroup");return H.useEffect(()=>{We.info("[Home] Component mounted/re-rendered. Key might have changed.")},[]),v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"flex-1 w-full overflow-y-auto bg-background",children:v.jsx("div",{className:"flex flex-col w-full h-full",children:v.jsxs(w2,{value:I,onValueChange:O,className:"w-full h-full flex flex-col",children:[v.jsx("div",{className:"w-full",children:v.jsxs("div",{className:"w-full md:max-w-4xl mx-auto px-6 pt-6 pb-2",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsxs(zp,{className:"h-auto p-0 bg-transparent border-0 border-b-0 gap-2 w-auto",children:[v.jsxs(vd,{value:"agents",className:"relative rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:["Agents",v.jsx("span",{className:`
                          absolute -top-2.5 right-0 inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-white text-[8px] font-semibold border border-black
                          transition-all duration-300 ease-in-out
                          ${I==="agents"&&o>0?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none"}
                        `,children:o})]}),v.jsx(vd,{value:"groups",className:"rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:"Groups"})]}),v.jsxs(ct,{variant:"ghost",onClick:a(()=>{I==="agents"?i("/create"):D()},"onClick"),className:"create-agent-button cursor-pointer gap-1",children:[v.jsx(Tp,{className:"w-4 h-4"}),I==="agents"?"Create New Agent":"Create New Group"]})]}),v.jsx(Pi,{})]})}),v.jsx(la,{value:"agents",className:"flex-1 mt-0 bg-background",children:v.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:[t&&v.jsx("div",{className:"text-center py-8",children:"Loading agents..."}),r&&v.jsxs("div",{className:"text-center py-8",children:["Error loading agents: ",n instanceof Error?n.message:"Unknown error"]}),s.length===0&&!t&&v.jsx("div",{className:"text-center py-8 flex flex-col items-center gap-4",children:v.jsx("p",{className:"text-muted-foreground",children:"No agents currently running. Start a character to begin."})}),!t&&!r&&v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 agents-section",children:s.sort((P,Z)=>{const V=P.status===bn.ACTIVE?1:0;return(Z.status===bn.ACTIVE?1:0)-V}).map(P=>v.jsx(lwe,{agent:P,onChat:a(Z=>L(P,Z),"onChat")},P.id))})]})}),v.jsx(la,{value:"groups",className:"flex-1 mt-0 bg-background",children:v.jsx("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:!t&&!r&&v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 groups-section",children:u.map(P=>v.jsx(JB,{serverId:P.id},P.id))})})})]})})}),m?.id&&v.jsx(S9,{isOpen:c,onClose:R,agentId:m.id}),f&&v.jsx(ag,{onClose:a(()=>{A(null),g(!1)},"onClose"),channelId:_??void 0})]})}a(cwe,"Home");const JB=Mp.memo(({serverId:e})=>{const{data:t,isLoading:r}=h3(e),n=H.useMemo(()=>t?.data?.channels?.filter(i=>i.type===Gt.GROUP)||[],[t]);return r?v.jsx("p",{children:"Loading channels for server..."}):!n||n.length===0?v.jsx("p",{className:"text-sm text-muted-foreground",children:"No group channels in this server."}):v.jsx(v.Fragment,{children:n.map(i=>v.jsx(uwe,{group:{...i,server_id:e}},i.id))})});JB.displayName="ServerChannels";function dwe(){const t=Ap().pathname,r=t.startsWith("/api/")||t.includes("/agents/")||t.includes("/memory/")||t.includes("/speech/");return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[v.jsx("div",{className:"flex items-center justify-center mb-8",children:v.jsx("div",{className:"bg-red-900/20 h-24 w-24 rounded-full flex items-center justify-center",children:v.jsx(Yi,{className:"h-14 w-14 text-red-500"})})}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),v.jsxs("div",{className:"max-w-lg",children:[r?v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-lg mb-6 text-muted-foreground",children:["The endpoint ",v.jsx("span",{className:"font-mono text-red-400",children:t})," does not exist."]}),v.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-8 text-left",children:[v.jsxs("h3",{className:"text-red-400 font-medium mb-2 flex items-center",children:[v.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Endpoint Not Found"]}),v.jsx("p",{className:"text-sm text-red-300/80 mb-2",children:"The requested API endpoint does not exist on this server. Please check that:"}),v.jsxs("ul",{className:"text-sm text-red-300/80 list-disc pl-5 space-y-1",children:[v.jsx("li",{children:"The URL is spelled correctly"}),v.jsx("li",{children:"You're using the correct version of the API"}),v.jsx("li",{children:"The endpoint is available in this version of Eliza"})]})]})]}):v.jsx("p",{className:"text-lg mb-6 text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsx(ct,{asChild:!0,variant:"default",children:v.jsxs(SU,{to:"/",children:[v.jsx(kU,{className:"h-4 w-4 mr-2"}),"Go to Home"]})}),v.jsx(ct,{asChild:!0,variant:"outline",children:v.jsxs("a",{onClick:a(()=>window.history.back(),"onClick"),children:[v.jsx(gy,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})]})]})}a(dwe,"NotFound");function fwe(){const{channelId:e}=m2(),[t]=AU(),r=t.get("messageServerId"),n=Qd(e),i=Qd(r||"");return!n||!i?v.jsx("div",{className:"flex flex-1 justify-center items-center",children:v.jsx("p",{children:"Missing channel or server information."})}):v.jsx(XB,{chatType:Gt.GROUP,contextId:n,messageServerId:i},n)}a(fwe,"GroupRouteContent");function hwe(){return v.jsx(fwe,{})}a(hwe,"GroupRoute");function pwe(){const e=Gn();return v.jsx("div",{className:"pt-4 md:pt-8",children:v.jsx(ag,{onClose:a(()=>e(-1),"onClose")})})}a(pwe,"GroupNew");function mwe(){const{agentId:e}=m2(),t=Gn(),{data:r,isLoading:n}=Nf(e);if(n)return v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx(zn,{className:"h-8 w-8 animate-spin"})});if(!r?.data)return v.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[v.jsx("p",{className:"text-muted-foreground",children:"Agent not found"}),v.jsx(ct,{onClick:a(()=>t("/"),"onClick"),children:"Back to Home"})]});const i={...r.data,createdAt:r.data.createdAt??Date.now(),bio:r.data.bio??[],topics:r.data.topics??[],adjectives:r.data.adjectives??[],style:r.data.style??{all:[],chat:[],post:[]},settings:r.data.settings??{secrets:{}}};return v.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:v.jsx("div",{className:"w-full md:max-w-4xl py-6",children:v.jsx(TB,{agent:i,agentId:e,onSaveComplete:a(()=>{},"onSaveComplete")})})})}a(mwe,"AgentSettingsRoute");const qB=new NU({defaultOptions:{queries:{staleTime:Mr.STANDARD,refetchInterval:!1,retry:a((e,t)=>t?.response?.status===401||t?.response?.status===403?!1:e<3,"retry"),retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay"),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:a((e,t)=>t?.response?.status===401||t?.response?.status===403?!1:e<3,"retry"),retryDelay:a(e=>Math.min(1e3*2**e,3e4),"retryDelay")}}}),gwe=a(async()=>{try{await qB.prefetchQuery({queryKey:["agents"],queryFn:a(async()=>({data:await Lr().agents.listAgents()}),"queryFn"),staleTime:Mr.FREQUENT})}catch(e){console.error("Error prefetching initial data:",e)}},"prefetchInitialData");function bwe(){Mue();const{status:e}=c3(),[t,r]=H.useState(!1),[n,i]=H.useState(Date.now()),s=On();H.useEffect(()=>{We.info("[AppContent] Mounted/Updated"),gwe()},[]);const o=a(()=>{We.info("[AppContent] refreshHomePage called. Current homeKey:",n);const l=Date.now();i(l),We.info("[AppContent] New homeKey set to:",l),We.info("[AppContent] Invalidating queries for Home page refresh."),s.invalidateQueries({queryKey:["agents"]}),s.invalidateQueries({queryKey:["servers"]})},"refreshHomePage");return v.jsxs(cu,{delayDuration:0,children:[v.jsxs(WA,{children:[v.jsx(u7,{refreshHomePage:o}),v.jsxs(JA,{className:"h-screen flex flex-col md:ml-72 overflow-hidden",children:[v.jsx("div",{className:"md:hidden absolute top-4 left-4 z-50",children:v.jsxs(YA,{open:t,onOpenChange:r,children:[v.jsx(TH,{asChild:!0,children:v.jsxs(ct,{variant:"ghost",size:"icon","data-testid":"mobile-menu-button",children:[v.jsx(CU,{className:"h-5 w-5"}),v.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),v.jsx(y2,{side:"left",className:"w-80 p-0 z-50",children:v.jsx(u7,{isMobile:!0,refreshHomePage:o})})]})}),v.jsx("div",{className:"flex w-full justify-center pt-16 md:pt-0 flex-shrink-0",children:v.jsx("div",{className:"w-full md:max-w-4xl",children:v.jsx(Ble,{})})}),v.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:v.jsxs(MU,{children:[v.jsx(Xi,{path:"/",element:v.jsx(cwe,{},n)}),v.jsx(Xi,{path:"chat/:agentId/:channelId",element:v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(Rk,{})})}),v.jsx(Xi,{path:"chat/:agentId",element:v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(Rk,{})})}),v.jsx(Xi,{path:"settings/:agentId",element:v.jsx(mwe,{})}),v.jsx(Xi,{path:"group/new",element:v.jsx(pwe,{})}),v.jsx(Xi,{path:"agents/new",element:v.jsx(swe,{})}),v.jsx(Xi,{path:"/create",element:v.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:v.jsx("div",{className:"w-full md:max-w-4xl",children:v.jsx(UD,{})})})}),v.jsx(Xi,{path:"/logs",element:v.jsx("div",{className:"flex w-full justify-center",children:v.jsxs("div",{className:"w-full md:max-w-4xl",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsx("h2",{className:"text-2xl p-4 font-bold",children:"System Logs"})}),v.jsx(f9,{})]})})}),v.jsx(Xi,{path:"group/:channelId",element:v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(hwe,{})})}),v.jsx(Xi,{path:"settings/",element:v.jsx("div",{className:"flex w-full justify-center overflow-y-auto",children:v.jsx("div",{className:"w-full md:max-w-4xl",children:v.jsx(Hle,{})})})}),v.jsx(Xi,{path:"*",element:v.jsx(dwe,{})})]})})]})]}),v.jsx(eue,{}),e!=="unauthorized"&&v.jsx(Xle,{})]})}a(bwe,"AppContent");function vwe(){return v.jsx(TU,{client:qB,children:v.jsx("div",{className:"dark antialiased font-sans",style:{colorScheme:"dark"},children:v.jsx(IU,{children:v.jsx(rue,{children:v.jsx(dle,{children:v.jsx(bwe,{})})})})})})}a(vwe,"App");const eF=document.getElementById("root");if(!eF)throw new Error("Root element not found");OU.createRoot(eF).render(v.jsx(H.StrictMode,{children:v.jsx(vwe,{})}));const Awe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ywe=Object.freeze(Object.defineProperty({__proto__:null,Mermaid:wB},Symbol.toStringTag,{value:"Module"}));export{_a as C,B4e as D,D9 as a,j9 as b,yS as c,OA as d,ehe as e,zm as f,kwe as g,Of as h,Cr as k,Awe as m,Lo as s,ar as u,$ye as w,qj as z};
//# sourceMappingURL=mermaid-NA5CF7SZ-B2UBYqOn.js.map
