{"version":3,"sources":["../../../node_modules/.pnpm/ts-case-convert@2.0.7/node_modules/ts-case-convert/src/caseConvert.ts","../../../node_modules/.pnpm/ts-case-convert@2.0.7/node_modules/ts-case-convert/src/index.ts","../../../node_modules/.pnpm/openapi-fetch@0.11.2/node_modules/openapi-fetch/dist/index.js","../../api-core/src/client.ts","../../api-core/src/requests/index.ts","../../api-utils/src/metadata/parser.ts","../../api-utils/src/metadata/index.ts","../../api-utils/src/readable/activity/theme.ts","../../api-utils/src/readable/number/index.ts","../../api-utils/src/readable/activity/token.ts","../../api-utils/src/readable/activity/index.ts","../../api-utils/src/name-service.ts","../../api-utils/src/readable/address/index.ts","../../api-utils/src/readable/asset/index.ts","../../api-utils/src/readable/content/index.ts","../../api-utils/src/is-spam-activity.ts","../../api-utils/src/const.ts","../../api-utils/src/get-icon-url.ts"],"names":["convertObject","obj","keyConverter","out","k","v","item","toCamel","term","m","exports","objectToCamel","toSnake","result","circuitBreaker","_a","_all","$1","$2","_b","objectToSnake","toPascal","objectToPascal","caseConvert_1","DEFAULT_HEADERS","PATH_PARAM_RE","CustomRequest","input","init","key","randomID","createClient","clientOptions","baseUrl","baseFetch","globalQuerySerializer","globalBodySerializer","baseHeaders","baseOptions","removeTrailingSlash","mergeHeaders","middlewares","coreFetch","schemaPath","fetchOptions","localBaseUrl","fetch","headers","params","parseAs","requestQuerySerializer","bodySerializer","defaultBodySerializer","querySerializer","createQuerySerializer","requestInit","id","options","request","createFinalURL","response","i","error","url","middleware","serializePrimitiveParam","name","value","serializeObjectParam","values","joiner","final","finalName","serializeArrayParam","queryParams","search","defaultPathSerializer","pathname","pathParams","nextURL","match","explode","style","body","finalURL","allHeaders","finalHeaders","h","iterator","v2","client","getDefaultClient","setDefaultClient","newClient","buildRequest","path","method","_request","mapResult","data","getInit","getActivity","query","getActivities","account","meta","getActivitiesByAccounts","getRSSActivity","getNetworkActivities","getPlatformActivities","getFederatedActivitiesByAccount","getFederatedActivity","getFederatedActivitiesByAccounts","getFederatedNetworkActivities","getFederatedPlatformActivities","getBridgingTransactions","getBridgingTransaction","getStakingTransactions","getStakingTransaction","getStakings","getStakingProfit","getChips","getChip","getChipSvgURL","getChipSvgSrc","getChipSvg","getNodeCountSnapshot","getStakerCountSnapshot","getStakerProfitSnapshot","getStakingStat","getOperationProfitSnapshot","getEpochsApySnapshot","getAllNodes","getNode","getNodeAvatarSvgURL","getNodeAvatarSvgSrc","getNodeAvatarSvg","getNodeEvents","address","getNodeOperationProfit","getEpochs","getEpoch","getEpochTransaction","getNodeRewards","getAverageEpochsApy","getNetworkAssets","getNetworkConfig","getTotalRequests","getTokenSupply","getTokenTvl","renderItemActionToHTML","actions","joint","action","tag","renderSocialTagContent","renderCollectibleTagContent","renderMetaverseTagContent","renderExchange","renderTransaction","type","metadata","extractMetadata","buildHTML","buildSectionFooterHTML","token","from","to","media","_tag","_type","arr","string","getTagType","handleMetadata","handlers","themePlain","c","ellipsis","stripHTMLTags","content","max","s","formatTokenValue","amount_","decimals","money","amount","formatUnits","matched","bigNum","unit","formatThousands","num","withDecimal","formatPrecision","n","scale","tokenSpace","tokenText","tokenSeparator","join","tokens","sep","acc","t","tokenName","tokenImage","tokenNetwork","tokenTime","tokenAddr","tokenHandle","addr","network","INFINITY_VALUE","tokenValue","tokenPlatform","platform","tokenPost","tokenAsset","img","getSummaryActions","formatPlain","activity","list","format","clean","theme","tokenizeActivity","tokenizeAction","tokenizeToActions","tokenizeToSummaryActions","direction","res","hasMultiPrimaryActions","count","flatActivity","SUPPORTED_NAME_SERVICES","isSupportedNS","handle","_handle","ns","isAddress","isMastodon","formatAddress","formatAddressAndNS","addressToAvatarURL","size","extractAsset","extractNFT","formatContent","extractContent","extractSocialPost","formatTitle","title","_title","checkTargetExist","target","raw","isSpamActivity","EMPTY_ADDRESS","getIconURL"],"mappings":"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","file":"index.global.js","sourcesContent":["function convertObject<\n  TInput extends object,\n  TResult extends\n    | ObjectToCamel<TInput>\n    | ObjectToSnake<TInput>\n    | ObjectToPascal<TInput>,\n>(obj: TInput, keyConverter: (arg: string) => string): TResult {\n  if (obj === null || typeof obj === 'undefined' || typeof obj !== 'object') {\n    return obj;\n  }\n\n  const out = (Array.isArray(obj) ? [] : {}) as TResult;\n  for (const [k, v] of Object.entries(obj)) {\n    // eslint-disable-next-line\n    // @ts-ignore\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    out[keyConverter(k)] = Array.isArray(v)\n      ? (v.map(<ArrayItem extends object>(item: ArrayItem) =>\n          typeof item === 'object' &&\n          !(item instanceof Uint8Array) &&\n          !(item instanceof Date)\n            ? convertObject<\n                ArrayItem,\n                TResult extends ObjectToCamel<TInput>\n                  ? ObjectToCamel<ArrayItem>\n                  : TResult extends ObjectToPascal<TInput>\n                  ? ObjectToPascal<ArrayItem>\n                  : ObjectToSnake<ArrayItem>\n              >(item, keyConverter)\n            : item,\n        ) as unknown[])\n      : v instanceof Uint8Array || v instanceof Date\n      ? v\n      : typeof v === 'object'\n      ? convertObject<\n          typeof v,\n          TResult extends ObjectToCamel<TInput>\n            ? ObjectToCamel<typeof v>\n            : TResult extends ObjectToPascal<TInput>\n            ? ObjectToPascal<typeof v>\n            : ObjectToSnake<typeof v>\n        >(v, keyConverter)\n      : (v as unknown);\n  }\n  return out;\n}\n\nexport function toCamel<T extends string>(term: T): ToCamel<T> {\n  return (\n    term.length === 1\n      ? term.toLowerCase()\n      : term\n          .replace(/^([A-Z])/, (m) => m[0].toLowerCase())\n          .replace(/[_-]([a-z0-9])/g, (m) => m[1].toUpperCase())\n  ) as ToCamel<T>;\n}\n\nexport function objectToCamel<T extends object>(obj: T): ObjectToCamel<T> {\n  return convertObject(obj, toCamel);\n}\n\nexport function toSnake<T extends string>(term: T): ToSnake<T> {\n  let result: string = term;\n  let circuitBreaker = 0;\n\n  while (\n    (/([a-z])([0-9])/.exec(result)?.length || 0) > 2 &&\n    circuitBreaker < 10\n  ) {\n    result = result.replace(\n      /([a-z])([0-9])/,\n      (_all, $1: string, $2: string) =>\n        `${$1.toLowerCase()}_${$2.toLowerCase()}`,\n    );\n\n    circuitBreaker += 1;\n  }\n\n  while (\n    (/(.+?)([A-Z])/.exec(result)?.length || 0) > 2 &&\n    circuitBreaker < 10\n  ) {\n    result = result.replace(\n      /(.+?)([A-Z])/,\n      (_all, $1: string, $2: string) =>\n        `${$1.toLowerCase()}_${$2.toLowerCase()}`,\n    );\n    circuitBreaker += 1;\n  }\n\n  return result.toLowerCase() as ToSnake<T>;\n}\n\nexport function objectToSnake<T extends object>(obj: T): ObjectToSnake<T> {\n  return convertObject(obj, toSnake);\n}\n\nexport function toPascal<T extends string>(term: T): ToPascal<T> {\n  return toCamel(term).replace(/^([a-z])/, (m) =>\n    m[0].toUpperCase(),\n  ) as ToPascal<T>;\n}\n\nexport function objectToPascal<T extends object>(obj: T): ObjectToPascal<T> {\n  return convertObject(obj, toPascal);\n}\n\nexport type ToCamel<S extends string | number | symbol> = S extends string\n  ? S extends `${infer Head}_${infer Tail}`\n    ? `${ToCamel<Uncapitalize<Head>>}${Capitalize<ToCamel<Tail>>}`\n    : S extends `${infer Head}-${infer Tail}`\n    ? `${ToCamel<Uncapitalize<Head>>}${Capitalize<ToCamel<Tail>>}`\n    : Uncapitalize<S>\n  : never;\n\nexport type ObjectToCamel<T extends object | undefined | null> =\n  T extends undefined\n    ? undefined\n    : T extends null\n    ? null\n    : T extends Array<infer ArrayType>\n    ? ArrayType extends object\n      ? Array<ObjectToCamel<ArrayType>>\n      : Array<ArrayType>\n    : T extends Uint8Array\n    ? Uint8Array\n    : T extends Date\n    ? Date\n    : {\n        [K in keyof T as ToCamel<K>]: T[K] extends\n          | Array<infer ArrayType>\n          | undefined\n          | null\n          ? ArrayType extends object\n            ? Array<ObjectToCamel<ArrayType>>\n            : Array<ArrayType>\n          : T[K] extends object | undefined | null\n          ? ObjectToCamel<T[K]>\n          : T[K];\n      };\n\nexport type ToPascal<S extends string | number | symbol> = S extends string\n  ? S extends `${infer Head}_${infer Tail}`\n    ? `${Capitalize<ToCamel<Head>>}${Capitalize<ToCamel<Tail>>}`\n    : S extends `${infer Head}-${infer Tail}`\n    ? `${Capitalize<ToCamel<Head>>}${Capitalize<ToCamel<Tail>>}`\n    : Capitalize<S>\n  : never;\n\nexport type ObjectToPascal<T extends object | undefined | null> =\n  T extends undefined\n    ? undefined\n    : T extends null\n    ? null\n    : T extends Array<infer ArrayType>\n    ? ArrayType extends object\n      ? Array<ObjectToPascal<ArrayType>>\n      : Array<ArrayType>\n    : T extends Uint8Array\n    ? Uint8Array\n    : T extends Date\n    ? Date\n    : {\n        [K in keyof T as ToPascal<K>]: T[K] extends\n          | Array<infer ArrayType>\n          | undefined\n          | null\n          ? ArrayType extends object\n            ? Array<ObjectToPascal<ArrayType>>\n            : Array<ArrayType>\n          : T[K] extends object | undefined | null\n          ? ObjectToPascal<T[K]>\n          : T[K];\n      };\n\nexport type ToSnake<S extends string | number | symbol> = S extends string\n  ? S extends `${infer Head}${CapitalChars}${infer Tail}` // string has a capital char somewhere\n    ? Head extends '' // there is a capital char in the first position\n      ? Tail extends ''\n        ? Lowercase<S> /*  'A' */\n        : S extends `${infer Caps}${Tail}` // tail exists, has capital characters\n        ? Caps extends CapitalChars\n          ? Tail extends CapitalLetters\n            ? `${Lowercase<Caps>}_${Lowercase<Tail>}` /* 'AB' */\n            : Tail extends `${CapitalLetters}${string}`\n            ? `${ToSnake<Caps>}_${ToSnake<Tail>}` /* first tail char is upper? 'ABcd' */\n            : `${ToSnake<Caps>}${ToSnake<Tail>}` /* 'AbCD','AbcD',  */ /* TODO: if tail is only numbers, append without underscore */\n          : never /* never reached, used for inference of caps */\n        : never\n      : Tail extends '' /* 'aB' 'abCD' 'ABCD' 'AB' */\n      ? S extends `${Head}${infer Caps}`\n        ? Caps extends CapitalChars\n          ? Head extends Lowercase<Head> /* 'abcD' */\n            ? Caps extends Numbers\n              ? // Head exists and is lowercase, tail does not, Caps is a number, we may be in a sub-select\n                // if head ends with number, don't split head an Caps, keep contiguous numbers together\n                Head extends `${string}${Numbers}`\n                ? never\n                : // head does not end in number, safe to split. 'abc2' -> 'abc_2'\n                  `${ToSnake<Head>}_${Caps}`\n              : `${ToSnake<Head>}_${ToSnake<Caps>}` /* 'abcD' 'abc25' */\n            : never /* stop union type forming */\n          : never\n        : never /* never reached, used for inference of caps */\n      : S extends `${Head}${infer Caps}${Tail}` /* 'abCd' 'ABCD' 'AbCd' 'ABcD' */\n      ? Caps extends CapitalChars\n        ? Head extends Lowercase<Head> /* is 'abCd' 'abCD' ? */\n          ? Tail extends CapitalLetters /* is 'abCD' where Caps = 'C' */\n            ? `${ToSnake<Head>}_${ToSnake<Caps>}_${Lowercase<Tail>}` /* aBCD Tail = 'D', Head = 'aB' */\n            : Tail extends `${CapitalLetters}${string}` /* is 'aBCd' where Caps = 'B' */\n            ? Head extends Numbers\n              ? never /* stop union type forming */\n              : Head extends `${string}${Numbers}`\n              ? never /* stop union type forming */\n              : `${Head}_${ToSnake<Caps>}_${ToSnake<Tail>}` /* 'aBCd' => `${'a'}_${Lowercase<'B'>}_${ToSnake<'Cd'>}` */\n            : `${ToSnake<Head>}_${Lowercase<Caps>}${ToSnake<Tail>}` /* 'aBcD' where Caps = 'B' tail starts as lowercase */\n          : never\n        : never\n      : never\n    : S /* 'abc'  */\n  : never;\n\nexport type ObjectToSnake<T extends object | undefined | null> =\n  T extends undefined\n    ? undefined\n    : T extends null\n    ? null\n    : T extends Array<infer ArrayType>\n    ? ArrayType extends object\n      ? Array<ObjectToSnake<ArrayType>>\n      : Array<ArrayType>\n    : T extends Uint8Array\n    ? Uint8Array\n    : T extends Date\n    ? Date\n    : {\n        [K in keyof T as ToSnake<K>]: T[K] extends\n          | Array<infer ArrayType>\n          | undefined\n          | null\n          ? ArrayType extends object\n            ? Array<ObjectToSnake<ArrayType>>\n            : Array<ArrayType>\n          : T[K] extends object | undefined | null\n          ? ObjectToSnake<T[K]>\n          : T[K];\n      };\n\ntype CapitalLetters =\n  | 'A'\n  | 'B'\n  | 'C'\n  | 'D'\n  | 'E'\n  | 'F'\n  | 'G'\n  | 'H'\n  | 'I'\n  | 'J'\n  | 'K'\n  | 'L'\n  | 'M'\n  | 'N'\n  | 'O'\n  | 'P'\n  | 'Q'\n  | 'R'\n  | 'S'\n  | 'T'\n  | 'U'\n  | 'V'\n  | 'W'\n  | 'X'\n  | 'Y'\n  | 'Z';\n\ntype Numbers = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9';\n\ntype CapitalChars = CapitalLetters | Numbers;\n","export {\n  objectToCamel,\n  objectToSnake,\n  toSnake,\n  toCamel,\n  toPascal,\n  objectToPascal,\n} from './caseConvert';\n","// settings & const\nconst DEFAULT_HEADERS = {\n  \"Content-Type\": \"application/json\",\n};\n\nconst PATH_PARAM_RE = /\\{[^{}]+\\}/g;\n\n/** Add custom parameters to Request object */\nclass CustomRequest extends Request {\n  constructor(input, init) {\n    super(input, init);\n\n    // add custom parameters\n    for (const key in init) {\n      if (!(key in this)) {\n        this[key] = init[key];\n      }\n    }\n  }\n}\n\n/**\n * Returns a cheap, non-cryptographically-secure random ID\n * Courtesy of @imranbarbhuiya (https://github.com/imranbarbhuiya)\n */\nexport function randomID() {\n  return Math.random().toString(36).slice(2, 11);\n}\n\n/**\n * Create an openapi-fetch client.\n * @type {import(\"./index.js\").default}\n */\nexport default function createClient(clientOptions) {\n  let {\n    baseUrl = \"\",\n    fetch: baseFetch = globalThis.fetch,\n    querySerializer: globalQuerySerializer,\n    bodySerializer: globalBodySerializer,\n    headers: baseHeaders,\n    ...baseOptions\n  } = { ...clientOptions };\n  baseUrl = removeTrailingSlash(baseUrl);\n  baseHeaders = mergeHeaders(DEFAULT_HEADERS, baseHeaders);\n  const middlewares = [];\n\n  /**\n   * Per-request fetch (keeps settings created in createClient()\n   * @param {T} url\n   * @param {import('./index.js').FetchOptions<T>} fetchOptions\n   */\n  async function coreFetch(schemaPath, fetchOptions) {\n    const {\n      baseUrl: localBaseUrl,\n      fetch = baseFetch,\n      headers,\n      params = {},\n      parseAs = \"json\",\n      querySerializer: requestQuerySerializer,\n      bodySerializer = globalBodySerializer ?? defaultBodySerializer,\n      ...init\n    } = fetchOptions || {};\n    if (localBaseUrl) {\n      baseUrl = removeTrailingSlash(localBaseUrl);\n    }\n\n    let querySerializer =\n      typeof globalQuerySerializer === \"function\"\n        ? globalQuerySerializer\n        : createQuerySerializer(globalQuerySerializer);\n    if (requestQuerySerializer) {\n      querySerializer =\n        typeof requestQuerySerializer === \"function\"\n          ? requestQuerySerializer\n          : createQuerySerializer({\n              ...(typeof globalQuerySerializer === \"object\" ? globalQuerySerializer : {}),\n              ...requestQuerySerializer,\n            });\n    }\n\n    const requestInit = {\n      redirect: \"follow\",\n      ...baseOptions,\n      ...init,\n      headers: mergeHeaders(baseHeaders, headers, params.header),\n    };\n    if (requestInit.body) {\n      requestInit.body = bodySerializer(requestInit.body);\n      // remove `Content-Type` if serialized body is FormData; browser will correctly set Content-Type & boundary expression\n      if (requestInit.body instanceof FormData) {\n        requestInit.headers.delete(\"Content-Type\");\n      }\n    }\n\n    let id;\n    let options;\n    let request = new CustomRequest(createFinalURL(schemaPath, { baseUrl, params, querySerializer }), requestInit);\n\n    if (middlewares.length) {\n      id = randomID();\n\n      // middleware (request)\n      options = Object.freeze({\n        baseUrl,\n        fetch,\n        parseAs,\n        querySerializer,\n        bodySerializer,\n      });\n      for (const m of middlewares) {\n        if (m && typeof m === \"object\" && typeof m.onRequest === \"function\") {\n          const result = await m.onRequest({\n            request,\n            schemaPath,\n            params,\n            options,\n            id,\n          });\n          if (result) {\n            if (!(result instanceof Request)) {\n              throw new Error(\"onRequest: must return new Request() when modifying the request\");\n            }\n            request = result;\n          }\n        }\n      }\n    }\n\n    // fetch!\n    let response = await fetch(request);\n\n    // middleware (response)\n    // execute in reverse-array order (first priority gets last transform)\n    if (middlewares.length) {\n      for (let i = middlewares.length - 1; i >= 0; i--) {\n        const m = middlewares[i];\n        if (m && typeof m === \"object\" && typeof m.onResponse === \"function\") {\n          const result = await m.onResponse({\n            request,\n            response,\n            schemaPath,\n            params,\n            options,\n            id,\n          });\n          if (result) {\n            if (!(result instanceof Response)) {\n              throw new Error(\"onResponse: must return new Response() when modifying the response\");\n            }\n            response = result;\n          }\n        }\n      }\n    }\n\n    // handle empty content\n    // note: we return `{}` because we want user truthy checks for `.data` or `.error` to succeed\n    if (response.status === 204 || response.headers.get(\"Content-Length\") === \"0\") {\n      return response.ok ? { data: {}, response } : { error: {}, response };\n    }\n\n    // parse response (falling back to .text() when necessary)\n    if (response.ok) {\n      // if \"stream\", skip parsing entirely\n      if (parseAs === \"stream\") {\n        return { data: response.body, response };\n      }\n      return { data: await response[parseAs](), response };\n    }\n\n    // handle errors\n    let error = await response.text();\n    try {\n      error = JSON.parse(error); // attempt to parse as JSON\n    } catch {\n      // noop\n    }\n    return { error, response };\n  }\n\n  return {\n    /** Call a GET endpoint */\n    GET(url, init) {\n      return coreFetch(url, { ...init, method: \"GET\" });\n    },\n    /** Call a PUT endpoint */\n    PUT(url, init) {\n      return coreFetch(url, { ...init, method: \"PUT\" });\n    },\n    /** Call a POST endpoint */\n    POST(url, init) {\n      return coreFetch(url, { ...init, method: \"POST\" });\n    },\n    /** Call a DELETE endpoint */\n    DELETE(url, init) {\n      return coreFetch(url, { ...init, method: \"DELETE\" });\n    },\n    /** Call a OPTIONS endpoint */\n    OPTIONS(url, init) {\n      return coreFetch(url, { ...init, method: \"OPTIONS\" });\n    },\n    /** Call a HEAD endpoint */\n    HEAD(url, init) {\n      return coreFetch(url, { ...init, method: \"HEAD\" });\n    },\n    /** Call a PATCH endpoint */\n    PATCH(url, init) {\n      return coreFetch(url, { ...init, method: \"PATCH\" });\n    },\n    /** Call a TRACE endpoint */\n    TRACE(url, init) {\n      return coreFetch(url, { ...init, method: \"TRACE\" });\n    },\n    /** Register middleware */\n    use(...middleware) {\n      for (const m of middleware) {\n        if (!m) {\n          continue;\n        }\n        if (typeof m !== \"object\" || !(\"onRequest\" in m || \"onResponse\" in m)) {\n          throw new Error(\"Middleware must be an object with one of `onRequest()` or `onResponse()`\");\n        }\n        middlewares.push(m);\n      }\n    },\n    /** Unregister middleware */\n    eject(...middleware) {\n      for (const m of middleware) {\n        const i = middlewares.indexOf(m);\n        if (i !== -1) {\n          middlewares.splice(i, 1);\n        }\n      }\n    },\n  };\n}\n\nclass PathCallForwarder {\n  constructor(client, url) {\n    this.client = client;\n    this.url = url;\n  }\n\n  GET(init) {\n    return this.client.GET(this.url, init);\n  }\n  PUT(init) {\n    return this.client.PUT(this.url, init);\n  }\n  POST(init) {\n    return this.client.POST(this.url, init);\n  }\n  DELETE(init) {\n    return this.client.DELETE(this.url, init);\n  }\n  OPTIONS(init) {\n    return this.client.OPTIONS(this.url, init);\n  }\n  HEAD(init) {\n    return this.client.HEAD(this.url, init);\n  }\n  PATCH(init) {\n    return this.client.PATCH(this.url, init);\n  }\n  TRACE(init) {\n    return this.client.TRACE(this.url, init);\n  }\n}\n\nclass PathClientProxyHandler {\n  constructor() {\n    this.client = null;\n  }\n\n  // Assume the property is an URL.\n  get(coreClient, url) {\n    const forwarder = new PathCallForwarder(coreClient, url);\n    this.client[url] = forwarder;\n    return forwarder;\n  }\n}\n\n/**\n * Wrap openapi-fetch client to support a path based API.\n * @type {import(\"./index.js\").wrapAsPathBasedClient}\n */\nexport function wrapAsPathBasedClient(coreClient) {\n  const handler = new PathClientProxyHandler();\n  const proxy = new Proxy(coreClient, handler);\n\n  // Put the proxy on the prototype chain of the actual client.\n  // This means if we do not have a memoized PathCallForwarder,\n  // we fall back to the proxy to synthesize it.\n  // However, the proxy itself is not on the hot-path (if we fetch the same\n  // endpoint multiple times, only the first call will hit the proxy).\n  function Client() {}\n  Client.prototype = proxy;\n\n  const client = new Client();\n\n  // Feed the client back to the proxy handler so it can store the generated\n  // PathCallForwarder.\n  handler.client = client;\n\n  return client;\n}\n\n/**\n * Convenience method to an openapi-fetch path based client.\n * Strictly equivalent to `wrapAsPathBasedClient(createClient(...))`.\n * @type {import(\"./index.js\").createPathBasedClient}\n */\nexport function createPathBasedClient(clientOptions) {\n  return wrapAsPathBasedClient(createClient(clientOptions));\n}\n\n// utils\n\n/**\n * Serialize primitive param values\n * @type {import(\"./index.js\").serializePrimitiveParam}\n */\nexport function serializePrimitiveParam(name, value, options) {\n  if (value === undefined || value === null) {\n    return \"\";\n  }\n  if (typeof value === \"object\") {\n    throw new Error(\n      \"Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.\",\n    );\n  }\n  return `${name}=${options?.allowReserved === true ? value : encodeURIComponent(value)}`;\n}\n\n/**\n * Serialize object param (shallow only)\n * @type {import(\"./index.js\").serializeObjectParam}\n */\nexport function serializeObjectParam(name, value, options) {\n  if (!value || typeof value !== \"object\") {\n    return \"\";\n  }\n  const values = [];\n  const joiner =\n    {\n      simple: \",\",\n      label: \".\",\n      matrix: \";\",\n    }[options.style] || \"&\";\n\n  // explode: false\n  if (options.style !== \"deepObject\" && options.explode === false) {\n    for (const k in value) {\n      values.push(k, options.allowReserved === true ? value[k] : encodeURIComponent(value[k]));\n    }\n    const final = values.join(\",\"); // note: values are always joined by comma in explode: false (but joiner can prefix)\n    switch (options.style) {\n      case \"form\": {\n        return `${name}=${final}`;\n      }\n      case \"label\": {\n        return `.${final}`;\n      }\n      case \"matrix\": {\n        return `;${name}=${final}`;\n      }\n      default: {\n        return final;\n      }\n    }\n  }\n\n  // explode: true\n  for (const k in value) {\n    const finalName = options.style === \"deepObject\" ? `${name}[${k}]` : k;\n    values.push(serializePrimitiveParam(finalName, value[k], options));\n  }\n  const final = values.join(joiner);\n  return options.style === \"label\" || options.style === \"matrix\" ? `${joiner}${final}` : final;\n}\n\n/**\n * Serialize array param (shallow only)\n * @type {import(\"./index.js\").serializeArrayParam}\n */\nexport function serializeArrayParam(name, value, options) {\n  if (!Array.isArray(value)) {\n    return \"\";\n  }\n\n  // explode: false\n  if (options.explode === false) {\n    const joiner = { form: \",\", spaceDelimited: \"%20\", pipeDelimited: \"|\" }[options.style] || \",\"; // note: for arrays, joiners vary wildly based on style + explode behavior\n    const final = (options.allowReserved === true ? value : value.map((v) => encodeURIComponent(v))).join(joiner);\n    switch (options.style) {\n      case \"simple\": {\n        return final;\n      }\n      case \"label\": {\n        return `.${final}`;\n      }\n      case \"matrix\": {\n        return `;${name}=${final}`;\n      }\n      // case \"spaceDelimited\":\n      // case \"pipeDelimited\":\n      default: {\n        return `${name}=${final}`;\n      }\n    }\n  }\n\n  // explode: true\n  const joiner = { simple: \",\", label: \".\", matrix: \";\" }[options.style] || \"&\";\n  const values = [];\n  for (const v of value) {\n    if (options.style === \"simple\" || options.style === \"label\") {\n      values.push(options.allowReserved === true ? v : encodeURIComponent(v));\n    } else {\n      values.push(serializePrimitiveParam(name, v, options));\n    }\n  }\n  return options.style === \"label\" || options.style === \"matrix\"\n    ? `${joiner}${values.join(joiner)}`\n    : values.join(joiner);\n}\n\n/**\n * Serialize query params to string\n * @type {import(\"./index.js\").createQuerySerializer}\n */\nexport function createQuerySerializer(options) {\n  return function querySerializer(queryParams) {\n    const search = [];\n    if (queryParams && typeof queryParams === \"object\") {\n      for (const name in queryParams) {\n        const value = queryParams[name];\n        if (value === undefined || value === null) {\n          continue;\n        }\n        if (Array.isArray(value)) {\n          search.push(\n            serializeArrayParam(name, value, {\n              style: \"form\",\n              explode: true,\n              ...options?.array,\n              allowReserved: options?.allowReserved || false,\n            }),\n          );\n          continue;\n        }\n        if (typeof value === \"object\") {\n          search.push(\n            serializeObjectParam(name, value, {\n              style: \"deepObject\",\n              explode: true,\n              ...options?.object,\n              allowReserved: options?.allowReserved || false,\n            }),\n          );\n          continue;\n        }\n        search.push(serializePrimitiveParam(name, value, options));\n      }\n    }\n    return search.join(\"&\");\n  };\n}\n\n/**\n * Handle different OpenAPI 3.x serialization styles\n * @type {import(\"./index.js\").defaultPathSerializer}\n * @see https://swagger.io/docs/specification/serialization/#path\n */\nexport function defaultPathSerializer(pathname, pathParams) {\n  let nextURL = pathname;\n  for (const match of pathname.match(PATH_PARAM_RE) ?? []) {\n    let name = match.substring(1, match.length - 1);\n    let explode = false;\n    let style = \"simple\";\n    if (name.endsWith(\"*\")) {\n      explode = true;\n      name = name.substring(0, name.length - 1);\n    }\n    if (name.startsWith(\".\")) {\n      style = \"label\";\n      name = name.substring(1);\n    } else if (name.startsWith(\";\")) {\n      style = \"matrix\";\n      name = name.substring(1);\n    }\n    if (!pathParams || pathParams[name] === undefined || pathParams[name] === null) {\n      continue;\n    }\n    const value = pathParams[name];\n    if (Array.isArray(value)) {\n      nextURL = nextURL.replace(match, serializeArrayParam(name, value, { style, explode }));\n      continue;\n    }\n    if (typeof value === \"object\") {\n      nextURL = nextURL.replace(match, serializeObjectParam(name, value, { style, explode }));\n      continue;\n    }\n    if (style === \"matrix\") {\n      nextURL = nextURL.replace(match, `;${serializePrimitiveParam(name, value)}`);\n      continue;\n    }\n    nextURL = nextURL.replace(match, style === \"label\" ? `.${encodeURIComponent(value)}` : encodeURIComponent(value));\n  }\n  return nextURL;\n}\n\n/**\n * Serialize body object to string\n * @type {import(\"./index.js\").defaultBodySerializer}\n */\nexport function defaultBodySerializer(body) {\n  if (body instanceof FormData) {\n    return body;\n  }\n  return JSON.stringify(body);\n}\n\n/**\n * Construct URL string from baseUrl and handle path and query params\n * @type {import(\"./index.js\").createFinalURL}\n */\nexport function createFinalURL(pathname, options) {\n  let finalURL = `${options.baseUrl}${pathname}`;\n  if (options.params?.path) {\n    finalURL = defaultPathSerializer(finalURL, options.params.path);\n  }\n  let search = options.querySerializer(options.params.query ?? {});\n  if (search.startsWith(\"?\")) {\n    search = search.substring(1);\n  }\n  if (search) {\n    finalURL += `?${search}`;\n  }\n  return finalURL;\n}\n\n/**\n * Merge headers a and b, with b taking priority\n * @type {import(\"./index.js\").mergeHeaders}\n */\nexport function mergeHeaders(...allHeaders) {\n  const finalHeaders = new Headers();\n  for (const h of allHeaders) {\n    if (!h || typeof h !== \"object\") {\n      continue;\n    }\n    const iterator = h instanceof Headers ? h.entries() : Object.entries(h);\n    for (const [k, v] of iterator) {\n      if (v === null) {\n        finalHeaders.delete(k);\n      } else if (Array.isArray(v)) {\n        for (const v2 of v) {\n          finalHeaders.append(k, v2);\n        }\n      } else if (v !== undefined) {\n        finalHeaders.set(k, v);\n      }\n    }\n  }\n  return finalHeaders;\n}\n\n/**\n * Remove trailing slash from url\n * @type {import(\"./index.js\").removeTrailingSlash}\n */\nexport function removeTrailingSlash(url) {\n  if (url.endsWith(\"/\")) {\n    return url.substring(0, url.length - 1);\n  }\n  return url;\n}\n","import _createClient, { type ClientOptions } from \"openapi-fetch\";\n\nimport type { paths } from \"./schema.js\";\n\nexport type Client = Readonly<\n\t{ baseUrl: string } & ReturnType<typeof createClient>\n>;\n\nlet client: Client | null = null;\n\nexport function getDefaultClient(): Client {\n\tif (!client) {\n\t\tclient = createClient();\n\t}\n\n\treturn client;\n}\n\nexport function setDefaultClient(newClient: Client) {\n\tclient = newClient;\n}\n\nexport function createClient({\n\tbaseUrl = \"https://gi.rss3.io\",\n\t...options\n}: ClientOptions = {}) {\n\treturn Object.freeze(\n\t\tObject.assign({ baseUrl }, _createClient<paths>({ baseUrl, ...options })),\n\t);\n}\n","import type { FetchResponse, MaybeOptionalInit } from \"openapi-fetch\";\nimport { objectToCamel, objectToSnake } from \"ts-case-convert\";\nimport type { CamelCasedPropertiesDeep, SetRequired } from \"type-fest\";\n\nimport { type Client, getDefaultClient } from \"../client.js\";\nimport type { paths } from \"../schema.js\";\nimport type { HttpMethod, PathParams } from \"../types/utilities.js\";\n\ntype MarkRequired<T> = {\n\t[P in keyof T]-?: Exclude<T[P], undefined>;\n};\n\ntype DefaultFetchInit<\n\tPath extends keyof paths,\n\tMethod extends HttpMethod,\n> = MaybeOptionalInit<MarkRequired<paths[Path]>, Method>;\n\ntype CreateRequestResult<\n\tPath extends keyof paths,\n\tMethod extends HttpMethod,\n\tFetchInit extends DefaultFetchInit<Path, Method>,\n> = CamelCasedPropertiesDeep<\n\tRequired<\n\t\tFetchResponse<paths[Path][Method], FetchInit, `${string}/${string}`>\n\t>[\"data\"]\n>;\n\nfunction buildRequest<Path extends keyof paths, Method extends HttpMethod>(\n\tpath: Path,\n\tmethod: Method,\n) {\n\tconst _request = async <\n\t\tResult,\n\t\tFetchInit extends DefaultFetchInit<Path, Method>,\n\t>(\n\t\tclient: Client,\n\t\tinit?: FetchInit | null,\n\t\tmapResult?: (data: CreateRequestResult<Path, Method, FetchInit>) => Result,\n\t): Promise<Result> => {\n\t\t// biome-ignore lint/suspicious/noExplicitAny: Too complex to type\n\t\tconst { data, error } = await (client as any)[\n\t\t\tmethod.toUpperCase() as Uppercase<Method>\n\t\t](path, init);\n\n\t\tif (error || !data) {\n\t\t\tthrow new Error(\n\t\t\t\t[\n\t\t\t\t\t\"Request failed:\",\n\t\t\t\t\t`path: ${path}`,\n\t\t\t\t\t`error: ${error}`,\n\t\t\t\t\t`data: ${data}`,\n\t\t\t\t].join(\"\\n  \"),\n\t\t\t);\n\t\t}\n\n\t\tconst result = objectToCamel(data) as CreateRequestResult<\n\t\t\tPath,\n\t\t\tMethod,\n\t\t\tFetchInit\n\t\t>;\n\n\t\treturn (mapResult?.(result) ?? result) as Result;\n\t};\n\n\treturn {\n\t\twithParams<\n\t\t\tFetchInit extends DefaultFetchInit<Path, Method>,\n\t\t\tParams = PathParams<Path, Method>,\n\t\t\tResult = CreateRequestResult<Path, Method, FetchInit>,\n\t\t>(\n\t\t\tgetInit: (params: Params) => FetchInit,\n\t\t\tmapResult?: (res: CreateRequestResult<Path, Method, FetchInit>) => Result,\n\t\t) {\n\t\t\treturn async (\n\t\t\t\tparams: Params,\n\t\t\t\tinit?: Omit<DefaultFetchInit<Path, Method>, \"params\"> | null,\n\t\t\t\tclient: Client = getDefaultClient(),\n\t\t\t): Promise<Result> =>\n\t\t\t\t_request(client, { ...getInit(params), ...init }, mapResult);\n\t\t},\n\n\t\twithoutParams<\n\t\t\tFetchInit extends DefaultFetchInit<Path, Method>,\n\t\t\tResult = CreateRequestResult<Path, Method, FetchInit>,\n\t\t>(\n\t\t\tmapResult?: (res: CreateRequestResult<Path, Method, FetchInit>) => Result,\n\t\t) {\n\t\t\treturn async (\n\t\t\t\tinit?: FetchInit | null,\n\t\t\t\tclient: Client = getDefaultClient(),\n\t\t\t) => _request(client, init, mapResult);\n\t\t},\n\t};\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: Need any here\ntype RequestParams<T extends (...args: any) => any> =\n\tParameters<T>[2] extends undefined ? never : Parameters<T>[0];\n\n// biome-ignore lint/suspicious/noExplicitAny: Need any here\ntype RequestResult<T extends (...args: any) => Promise<any>> = Exclude<\n\tAwaited<ReturnType<T>>,\n\tundefined\n>;\n\nexport type GetActivityParams = RequestParams<typeof getActivity>;\nexport type GetActivityResult = RequestResult<typeof getActivity>;\nexport const getActivity = buildRequest(\n\t\"/decentralized/tx/{id}\",\n\t\"get\",\n).withParams(({ id, ...query }) => ({\n\tparams: objectToSnake({ path: { id }, query: query }),\n}));\n\nexport type GetActivitiesParams = RequestParams<typeof getActivities>;\nexport type GetActivitiesResult = RequestResult<typeof getActivities>;\nexport const getActivities = buildRequest(\n\t\"/decentralized/{account}\",\n\t\"get\",\n).withParams(\n\t({ account, ...query }) => ({\n\t\tparams: objectToSnake({ path: { account }, query: query }),\n\t}),\n\t({ data, meta }) => ({\n\t\tdata,\n\t\tcursor: meta?.cursor,\n\t}),\n);\n\nexport type GetActivitiesByAccountsParams = SetRequired<\n\tPartial<PathParams<\"/decentralized/accounts\", \"post\">>,\n\t\"accounts\"\n>;\nexport type GetActivitiesByAccountsResult = RequestResult<\n\ttypeof getActivitiesByAccounts\n>;\nexport const getActivitiesByAccounts = buildRequest(\n\t\"/decentralized/accounts\",\n\t\"post\",\n).withParams(\n\t(body: GetActivitiesByAccountsParams) => ({\n\t\tbody: objectToSnake({\n\t\t\tlimit: 20,\n\t\t\tactionLimit: 10,\n\t\t\t...body,\n\t\t}),\n\t}),\n\t({ data, meta }) => ({\n\t\tdata,\n\t\tcursor: meta?.cursor,\n\t}),\n);\n\nexport type GetRSSActivityParams = RequestParams<typeof getRSSActivity>;\nexport type GetRSSActivityResult = RequestResult<typeof getRSSActivity>;\nexport const getRSSActivity = buildRequest(\"/rss/{path}\", \"get\").withParams(\n\t(path) => ({\n\t\tparams: objectToSnake({ path }),\n\t}),\n\t({ data, meta }) => ({\n\t\tdata,\n\t\tcursor: meta?.cursor,\n\t}),\n);\n\nexport type GetNetworkActivitiesParams = RequestParams<\n\ttypeof getNetworkActivities\n>;\nexport type GetNetworkActivitiesResult = RequestResult<\n\ttypeof getNetworkActivities\n>;\nexport const getNetworkActivities = buildRequest(\n\t\"/decentralized/network/{network}\",\n\t\"get\",\n).withParams(\n\t(path) => ({\n\t\tparams: objectToSnake({ path }),\n\t}),\n\t({ data, meta }) => ({\n\t\tdata,\n\t\tcursor: meta?.cursor,\n\t}),\n);\n\nexport type GetPlatformActivitiesParams = RequestParams<\n\ttypeof getPlatformActivities\n>;\nexport type GetPlatformActivitiesResult = RequestResult<\n\ttypeof getPlatformActivities\n>;\nexport const getPlatformActivities = buildRequest(\n\t\"/decentralized/platform/{platform}\",\n\t\"get\",\n).withParams(\n\t(path) => ({\n\t\tparams: objectToSnake({ path }),\n\t}),\n\t({ data, meta }) => ({\n\t\tdata,\n\t\tcursor: meta?.cursor,\n\t}),\n);\n\nexport type GetFederatedActivitiesByAccountParams = RequestParams<\n\ttypeof getFederatedActivitiesByAccount\n>;\nexport type GetFederatedActivitiesByAccountResult = RequestResult<\n\ttypeof getFederatedActivitiesByAccount\n>;\nexport const getFederatedActivitiesByAccount = buildRequest(\n\t\"/federated/{account}\",\n\t\"get\",\n).withParams(({ account, ...query }) => ({\n\tparams: objectToSnake({ path: { account }, query }),\n}));\n\nexport type GetFederatedActivityParams = RequestParams<\n\ttypeof getFederatedActivity\n>;\nexport type GetFederatedActivityResult = RequestResult<\n\ttypeof getFederatedActivity\n>;\nexport const getFederatedActivity = buildRequest(\n\t\"/federated/tx/{id}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetFederatedActivitiesByAccountsParams = RequestParams<\n\ttypeof getFederatedActivitiesByAccounts\n>;\nexport type GetFederatedActivitiesByAccountsResult = RequestResult<\n\ttypeof getFederatedActivitiesByAccounts\n>;\nexport const getFederatedActivitiesByAccounts = buildRequest(\n\t\"/federated/accounts\",\n\t\"post\",\n).withParams((body) => ({\n\tbody: objectToSnake(body),\n}));\n\nexport type GetFederatedNetworkActivitiesParams = RequestParams<\n\ttypeof getFederatedNetworkActivities\n>;\nexport type GetFederatedNetworkActivitiesResult = RequestResult<\n\ttypeof getFederatedNetworkActivities\n>;\nexport const getFederatedNetworkActivities = buildRequest(\n\t\"/federated/network/{network}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetFederatedPlatformActivitiesParams = RequestParams<\n\ttypeof getFederatedPlatformActivities\n>;\nexport type GetFederatedPlatformActivitiesResult = RequestResult<\n\ttypeof getFederatedPlatformActivities\n>;\nexport const getFederatedPlatformActivities = buildRequest(\n\t\"/federated/platform/{platform}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetBridgingTransactionsParams = RequestParams<\n\ttypeof getBridgingTransactions\n>;\nexport type GetBridgingTransactionsResult = RequestResult<\n\ttypeof getBridgingTransactions\n>;\nexport const getBridgingTransactions = buildRequest(\n\t\"/nta/bridgings/transactions\",\n\t\"get\",\n).withParams((query) => ({\n\tparams: objectToSnake({ query }),\n}));\n\nexport type GetBridgingTransactionParams = RequestParams<\n\ttypeof getBridgingTransaction\n>;\nexport type GetBridgingTransactionResult = RequestResult<\n\ttypeof getBridgingTransaction\n>;\nexport const getBridgingTransaction = buildRequest(\n\t\"/nta/bridgings/transactions/{transaction_hash}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetStakingTransactionsParams = RequestParams<\n\ttypeof getStakingTransactions\n>;\nexport type GetStakingTransactionsResult = RequestResult<\n\ttypeof getStakingTransactions\n>;\nexport const getStakingTransactions = buildRequest(\n\t\"/nta/stakings/transactions\",\n\t\"get\",\n).withParams((query) => ({\n\tparams: objectToSnake({ query }),\n}));\n\nexport type GetStakingTransactionParams = RequestParams<\n\ttypeof getStakingTransaction\n>;\nexport type GetStakingTransactionResult = RequestResult<\n\ttypeof getStakingTransaction\n>;\nexport const getStakingTransaction = buildRequest(\n\t\"/nta/stakings/transactions/{transaction_hash}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetStakingsParams = RequestParams<typeof getStakings>;\nexport type GetStakingsResult = RequestResult<typeof getStakings>;\nexport const getStakings = buildRequest(\n\t\"/nta/stakings/stakings\",\n\t\"get\",\n).withParams((query) => ({\n\tparams: objectToSnake({ query }),\n}));\n\nexport type GetStakingProfitParams = RequestParams<typeof getStakingProfit>;\nexport type GetStakingProfitResult = RequestResult<typeof getStakingProfit>;\nexport const getStakingProfit = buildRequest(\n\t\"/nta/stakings/{staker_address}/profit\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetChipsParams = RequestParams<typeof getChips>;\nexport type GetChipsResult = RequestResult<typeof getChips>;\nexport const getChips = buildRequest(\"/nta/chips\", \"get\").withParams(\n\t(query) => ({\n\t\tparams: objectToSnake({ query }),\n\t}),\n);\n\nexport type GetChipParams = RequestParams<typeof getChip>;\nexport type GetChipResult = RequestResult<typeof getChip>;\nexport const getChip = buildRequest(\"/nta/chips/{chip_id}\", \"get\").withParams(\n\t(path) => ({\n\t\tparams: objectToSnake({ path }),\n\t}),\n);\n\nexport type GetChipSvgParams = RequestParams<typeof getChipSvg>;\nexport type GetChipSvgResult = RequestResult<typeof getChipSvg>;\nexport const getChipSvgURL = (\n\tparams: GetChipSvgParams,\n\tclient: Client = getDefaultClient(),\n) => new URL(`/nta/chips/${params.chipId}/image.svg`, client.baseUrl);\nexport const getChipSvgSrc = (\n\tparams: GetChipSvgParams,\n\tclient: Client = getDefaultClient(),\n) => getChipSvgURL(params, client).href;\nexport const getChipSvg = buildRequest(\n\t\"/nta/chips/{chip_id}/image.svg\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetNodeCountSnapshotParams = RequestParams<\n\ttypeof getNodeCountSnapshot\n>;\nexport type GetNodeCountSnapshotResult = RequestResult<\n\ttypeof getNodeCountSnapshot\n>;\nexport const getNodeCountSnapshot = buildRequest(\n\t\"/nta/snapshots/nodes/count\",\n\t\"get\",\n).withoutParams();\n\nexport type GetStakerCountSnapshotParams = RequestParams<\n\ttypeof getStakerCountSnapshot\n>;\nexport type GetStakerCountSnapshotResult = RequestResult<\n\ttypeof getStakerCountSnapshot\n>;\nexport const getStakerCountSnapshot = buildRequest(\n\t\"/nta/snapshots/stakers/count\",\n\t\"get\",\n).withoutParams();\n\nexport type GetStakerProfitSnapshotParams = RequestParams<\n\ttypeof getStakerProfitSnapshot\n>;\nexport type GetStakerProfitSnapshotResult = RequestResult<\n\ttypeof getStakerProfitSnapshot\n>;\nexport const getStakerProfitSnapshot = buildRequest(\n\t\"/nta/snapshots/stakers/profit\",\n\t\"get\",\n).withParams((query) => ({\n\tparams: objectToSnake({ query }),\n}));\n\nexport type GetStakingStatParams = RequestParams<typeof getStakingStat>;\nexport type GetStakingStatResult = RequestResult<typeof getStakingStat>;\nexport const getStakingStat = buildRequest(\n\t\"/nta/stakings/{staker_address}/stat\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetOperationProfitSnapshotParams = RequestParams<\n\ttypeof getOperationProfitSnapshot\n>;\nexport type GetOperationProfitSnapshotResult = RequestResult<\n\ttypeof getOperationProfitSnapshot\n>;\nexport const getOperationProfitSnapshot = buildRequest(\n\t\"/nta/snapshots/nodes/operation/profit\",\n\t\"get\",\n).withParams((query) => ({\n\tparams: objectToSnake({ query }),\n}));\n\nexport type GetEpochsApySnapshotParams = RequestParams<\n\ttypeof getEpochsApySnapshot\n>;\nexport type GetEpochsApySnapshotResult = RequestResult<\n\ttypeof getEpochsApySnapshot\n>;\nexport const getEpochsApySnapshot = buildRequest(\n\t\"/nta/snapshots/epochs/apy\",\n\t\"get\",\n).withoutParams();\n\nexport type GetAllNodesParams = RequestParams<typeof getAllNodes>;\nexport type GetAllNodesResult = RequestResult<typeof getAllNodes>;\nexport const getAllNodes = buildRequest(\"/nta/nodes\", \"get\").withParams(\n\t(query) => ({\n\t\tparams: objectToSnake({ query }),\n\t}),\n);\n\nexport type GetNodeParams = RequestParams<typeof getNode>;\nexport type GetNodeResult = RequestResult<typeof getNode>;\nexport const getNode = buildRequest(\"/nta/nodes/{address}\", \"get\").withParams(\n\t(path) => ({\n\t\tparams: objectToSnake({ path }),\n\t}),\n);\n\nexport type GetNodeAvatarSvgParams = RequestParams<typeof getNodeAvatarSvg>;\nexport type GetNodeAvatarSvgResult = RequestResult<typeof getNodeAvatarSvg>;\nexport const getNodeAvatarSvgURL = (\n\tparams: GetNodeAvatarSvgParams,\n\tclient: Client = getDefaultClient(),\n) => new URL(`/nta/nodes/${params.address}/avatar.svg`, client.baseUrl);\nexport const getNodeAvatarSvgSrc = (\n\tparams: GetNodeAvatarSvgParams,\n\tclient: Client = getDefaultClient(),\n) => getNodeAvatarSvgURL(params, client).href;\nexport const getNodeAvatarSvg = buildRequest(\n\t\"/nta/nodes/{address}/avatar.svg\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetNodeEventsParams = RequestParams<typeof getNodeEvents>;\nexport type GetNodeEventsResult = RequestResult<typeof getNodeEvents>;\nexport const getNodeEvents = buildRequest(\n\t\"/nta/nodes/{address}/events\",\n\t\"get\",\n).withParams(({ address, ...query }) => ({\n\tparams: objectToSnake({ path: { address }, query }),\n}));\n\nexport type GetNodeOperationProfitParams = RequestParams<\n\ttypeof getNodeOperationProfit\n>;\nexport type GetNodeOperationProfitResult = RequestResult<\n\ttypeof getNodeOperationProfit\n>;\nexport const getNodeOperationProfit = buildRequest(\n\t\"/nta/nodes/{address}/operation/profit\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetEpochsParams = RequestParams<typeof getEpochs>;\nexport type GetEpochsResult = RequestResult<typeof getEpochs>;\nexport const getEpochs = buildRequest(\"/nta/epochs\", \"get\").withParams(\n\t(query) => ({\n\t\tparams: objectToSnake({ query }),\n\t}),\n);\n\nexport type GetEpochParams = RequestParams<typeof getEpoch>;\nexport type GetEpochResult = RequestResult<typeof getEpoch>;\nexport const getEpoch = buildRequest(\n\t\"/nta/epochs/{epoch_id}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetEpochTransactionParams = RequestParams<\n\ttypeof getEpochTransaction\n>;\nexport type GetEpochTransactionResult = RequestResult<\n\ttypeof getEpochTransaction\n>;\nexport const getEpochTransaction = buildRequest(\n\t\"/nta/epochs/distributions/{transaction_hash}\",\n\t\"get\",\n).withParams((path) => ({\n\tparams: objectToSnake({ path }),\n}));\n\nexport type GetNodeRewardsParams = RequestParams<typeof getNodeRewards>;\nexport type GetNodeRewardsResult = RequestResult<typeof getNodeRewards>;\nexport const getNodeRewards = buildRequest(\n\t\"/nta/epochs/{address}/rewards\",\n\t\"get\",\n).withParams(({ address, ...query }) => ({\n\tparams: objectToSnake({ path: { address }, query }),\n}));\n\nexport type GetAverageEpochsApyParams = RequestParams<\n\ttypeof getAverageEpochsApy\n>;\nexport type GetAverageEpochsApyResult = RequestResult<\n\ttypeof getAverageEpochsApy\n>;\nexport const getAverageEpochsApy = buildRequest(\n\t\"/nta/epochs/apy\",\n\t\"get\",\n).withoutParams();\n\nexport type GetNetworkAssetsParams = RequestParams<typeof getNetworkAssets>;\nexport type GetNetworkAssetsResult = RequestResult<typeof getNetworkAssets>;\nexport const getNetworkAssets = buildRequest(\n\t\"/nta/networks/assets\",\n\t\"get\",\n).withoutParams();\n\nexport type GetNetworkConfigParams = RequestParams<typeof getNetworkConfig>;\nexport type GetNetworkConfigResult = RequestResult<typeof getNetworkConfig>;\nexport const getNetworkConfig = buildRequest(\n\t\"/nta/networks/config\",\n\t\"get\",\n).withoutParams();\n\nexport type GetTotalRequestsParams = RequestParams<typeof getTotalRequests>;\nexport type GetTotalRequestsResult = RequestResult<typeof getTotalRequests>;\nexport const getTotalRequests = buildRequest(\n\t\"/nta/dsl/total_requests\",\n\t\"get\",\n).withoutParams();\n\nexport type GetTokenSupplyParams = RequestParams<typeof getTokenSupply>;\nexport type GetTokenSupplyResult = RequestResult<typeof getTokenSupply>;\nexport const getTokenSupply = buildRequest(\n\t\"/nta/token/supply\",\n\t\"get\",\n).withoutParams();\n\nexport type GetTokenTvlParams = RequestParams<typeof getTokenTvl>;\nexport type GetTokenTvlResult = RequestResult<typeof getTokenTvl>;\nexport const getTokenTvl = buildRequest(\n\t\"/nta/token/tvl\",\n\t\"get\",\n).withoutParams();\n","import type {\n\tAction,\n\tCollectibleApproval,\n\tCollectibleBurn,\n\tCollectibleMint,\n\tCollectibleTrade,\n\tCollectibleTransfer,\n\tExchangeLiquidity,\n\tExchangeStaking,\n\tExchangeSwap,\n\tMetaverseBurn,\n\tMetaverseMint,\n\tMetaverseTrade,\n\tMetaverseTransfer,\n\tSocialComment,\n\tSocialDelete,\n\tSocialMint,\n\tSocialPost,\n\tSocialProfile,\n\tSocialProxy,\n\tSocialRevise,\n\tSocialReward,\n\tSocialShare,\n\tStakeStaking,\n\tStakeTransaction,\n\tStakerProfitSnapshot,\n\tTransactionApproval,\n\tTransactionBridge,\n\tTransactionBurn,\n\tTransactionEvent,\n\tTransactionMint,\n\tTransactionTransfer,\n} from \"@rss3/api-core\";\n\nexport function renderItemActionToHTML(actions: Action[]): string | undefined {\n\tlet joint = \"\";\n\n\tlet i = 0;\n\tfor (const action of actions) {\n\t\tconst metadata = action.metadata;\n\t\tif (!metadata) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst { tag } = action;\n\t\tswitch (tag) {\n\t\t\tcase \"social\":\n\t\t\t\tjoint += renderSocialTagContent(action);\n\t\t\t\tbreak;\n\t\t\tcase \"collectible\":\n\t\t\t\tjoint += renderCollectibleTagContent(action);\n\t\t\t\tbreak;\n\t\t\tcase \"metaverse\":\n\t\t\t\tjoint += renderMetaverseTagContent(action);\n\t\t\t\tbreak;\n\t\t\tcase \"exchange\":\n\t\t\t\tjoint += renderExchange(action);\n\t\t\t\tbreak;\n\t\t\tcase \"transaction\":\n\t\t\t\tjoint += renderTransaction(action);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (i < actions.length - 1) joint += \"<br />\";\n\t\ti++;\n\t}\n\n\treturn joint;\n}\n\nconst renderTransaction = (action: Action) => {\n\tlet joint = \"\";\n\tconst { type } = action;\n\tconst tag = \"transaction\";\n\tswitch (type) {\n\t\tcase \"transfer\":\n\t\tcase \"burn\":\n\t\tcase \"mint\":\n\t\tcase \"approval\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<h4>Transaction ${\n\t\t\t\t\ttype.toUpperCase().at(0) + type.slice(1)\n\t\t\t\t}</h4>`,\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p><strong>Standard:</strong> ${metadata.standard}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Decimals:</strong> ${metadata.decimals}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"event\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Transaction Event</h4>\",\n\t\t\t\t/* html */ `<p><strong>Block Hash:</strong> ${metadata.block.hash}</p>`,\n\t\t\t\t/* html */ `<p><strong>Transaction Hash:</strong> ${metadata.transaction.hash}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"bridge\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Transaction Bridge</h4>\",\n\t\t\t\t/* html */ `<p><strong>Action:</strong> ${metadata.action}</p>`,\n\t\t\t\t/* html */ `<p><strong>Source Network:</strong> ${metadata.sourceNetwork}</p>`,\n\t\t\t\t/* html */ `<p><strong>Target Network:</strong> ${metadata.targetNetwork}</p>`,\n\t\t\t\tmetadata.token &&\n\t\t\t\t\t/* html */ `<p><strong>Token name:</strong> ${metadata.token.name}</p>`,\n\t\t\t\tmetadata.token &&\n\t\t\t\t\t/* html */ `<p><strong>Token Symbol:</strong> ${metadata.token.symbol}</p>`,\n\t\t\t\tmetadata.token &&\n\t\t\t\t\t/* html */ `<p><strong>Token Value:</strong> ${metadata.token.value}</p>`,\n\t\t\t\tmetadata.token &&\n\t\t\t\t\t/* html */ `<p><strong>Token Address:</strong> ${metadata.token.address}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn buildSectionFooterHTML(joint, action);\n};\n\nconst renderExchange = (action: Action) => {\n\tlet joint = \"\";\n\tconst { type } = action;\n\tconst tag = \"exchange\";\n\tswitch (type) {\n\t\tcase \"liquidity\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Exchange Liquidity</h4>\",\n\t\t\t\t/* html */ `<p><strong>Action:</strong> ${metadata.action}</p>`,\n\t\t\t\t/* html */ `<p>\n            <table>\n              <thead>\n                <tr>\n                  <th>Address</th>\n                  <th>Value</th>\n                  <th>Name</th>\n                  <th>Symbol</th>\n                  <th>Decimals</th>\n                  <th>Standard</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${metadata.tokens.map(\n\t\t\t\t\t\t\t\t\t(token) => /* html */ `<tr>\n                  <td>${token.address}</td>\n                  <td>${token.value}</td>\n                  <td>${token.name}</td>\n                  <td>${token.symbol}</td>\n                  <td>${token.decimals}</td>\n                  <td>${token.standard}</td>\n                </tr>`,\n\t\t\t\t\t\t\t\t)}\n              </tbody>\n          </table>\n        </p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"staking\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Exchange Liquidity</h4>\",\n\t\t\t\t/* html */ `<p><strong>Action:</strong> ${metadata.action}</p>`,\n\t\t\t\tmetadata.token &&\n\t\t\t\t\t/* html */ `<p>\n\n           <strong>Token:</strong>\n           <ul>\n            <li><strong>Address:</strong> ${metadata.token.address}</li>\n            <li><strong>Value:</strong> ${metadata.token.value}</li>\n            <li><strong>Name:</strong> ${metadata.token.name}</li>\n            <li><strong>Symbol:</strong> ${metadata.token.symbol}</li>\n            <li><strong>Decimals:</strong> ${metadata.token.decimals}</li>\n            <li><strong>Standard:</strong> ${metadata.token.standard}</li>\n           </ul>\n        </p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"swap\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Exchange Swap</h4>\",\n\t\t\t\t/* html */ metadata.from &&\n\t\t\t\t\t`<p><strong>From:</strong> ${metadata.from.address}</p>`,\n\t\t\t\t/* html */ metadata.to &&\n\t\t\t\t\t`<p><strong>To:</strong> ${metadata.to?.address}</p>`,\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn buildSectionFooterHTML(joint, action);\n};\n\nconst renderMetaverseTagContent = (action: Action) => {\n\tlet joint = \"\";\n\tconst { from, to, type } = action;\n\tconst tag = \"metaverse\";\n\tswitch (type) {\n\t\tcase \"burn\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Metaverse Burn</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"trade\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Metaverse Trade</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mint\":\n\t\t\t{\n\t\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\t\tif (!metadata) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tjoint += buildHTML([\n\t\t\t\t\t/* html */ \"<h4>Metaverse Mint</h4>\",\n\t\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t\t]);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"transfer\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Metaverse Transfer</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn buildSectionFooterHTML(joint, action);\n};\nconst renderCollectibleTagContent = (action: Action) => {\n\tlet joint = \"\";\n\tconst { from, to, type } = action;\n\tconst tag = \"collectible\";\n\tswitch (type) {\n\t\tcase \"approval\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Collectible Approval</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\n\t\t\tbreak;\n\t\t}\n\t\tcase \"burn\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Collectible Burn</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"trade\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Collectible Trade</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mint\":\n\t\t\t{\n\t\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\t\tif (!metadata) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tjoint += buildHTML([\n\t\t\t\t\t/* html */ \"<h4>Collectible Mint</h4>\",\n\t\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t\t]);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"transfer\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ \"<h4>Collectible Transfer</h4>\",\n\t\t\t\t/* html */ `<p><strong>Name:</strong> ${metadata.name}</p>`,\n\t\t\t\t/* html */ `<p><strong>Address:</strong> ${metadata.address}</p>`,\n\t\t\t\t/* html */ `<p><strong>Symbol:</strong> ${metadata.symbol}</p>`,\n\t\t\t\t/* html */ `<p><strong>Value:</strong> ${metadata.value}</p>`,\n\t\t\t\t/* html */ `<p>${from} --> ${to}</p>`,\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn buildSectionFooterHTML(joint, action);\n};\n\nconst renderSocialTagContent = (action: Action) => {\n\tlet joint = \"\";\n\tconst { type } = action;\n\tconst tag = \"social\";\n\tswitch (type) {\n\t\tcase \"profile\": {\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mint\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} mited a post</small><br/>`,\n\t\t\t\t/* html */ metadata.body,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"delete\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} deleted a post</small><br/>`,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"post\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata || !metadata.body) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += metadata.body;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"comment\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata || !metadata.target) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} commented on ${metadata.target.handle}'s post</small><br/>`,\n\t\t\t\t/* html */ `<blockquote>${metadata.target.body}</blockquote>`,\n\t\t\t\t/* html */ `RT: ${metadata.body}`,\n\t\t\t\t/* html */ metadata.media\n\t\t\t\t\t?.map(\n\t\t\t\t\t\t(media) =>\n\t\t\t\t\t\t\t`<img src=\"${media.address}\" style=\"max-width:100%; height:auto;\"/>`,\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"\"),\n\t\t\t]);\n\n\t\t\tbreak;\n\t\t}\n\t\tcase \"reward\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} rewarded a post</small><br/>`,\n\t\t\t\t/* html */ metadata.body,\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"revise\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} revised a post</small><br/>`,\n\t\t\t\t/* html */ metadata.body,\n\t\t\t]);\n\n\t\t\tbreak;\n\t\t}\n\t\tcase \"proxy\": {\n\t\t\tbreak;\n\t\t}\n\t\tcase \"share\": {\n\t\t\tconst metadata = extractMetadata(tag, type, action);\n\t\t\tif (!metadata || !metadata.target) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tjoint += buildHTML([\n\t\t\t\t/* html */ `<small>${metadata.handle} shared a post by <a href=\"${metadata.target.authorUrl}\" target=\"_blank\">${metadata.target.handle}</a></small><br/>`,\n\t\t\t\t/* html */ metadata.target?.body,\n\t\t\t\tmetadata.target.media\n\t\t\t\t\t?.map(\n\t\t\t\t\t\t(media) =>\n\t\t\t\t\t\t\t`<img src=\"${media.address}\" style=\"max-width:100%; height:auto;\"/>`,\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"\"),\n\t\t\t]);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn joint;\n};\n\nfunction extractMetadata<T1 extends string, T2 extends string>(\n\t_tag: T1,\n\t_type: T2,\n\tdata: Action,\n): GetRSS3DataMetadata<T1, T2> | null {\n\tconst metadata = data.metadata;\n\tif (!metadata) {\n\t\treturn null;\n\t}\n\treturn data.metadata as GetRSS3DataMetadata<T1, T2>;\n}\n\nfunction buildHTML(arr: (string | boolean | undefined | null)[]): string {\n\treturn arr.filter(Boolean).join(\"\\n\");\n}\n\nconst buildSectionFooterHTML = (string: string, action: Action) =>\n\tbuildHTML([\n\t\tstring,\n\t\t!!action.platform && `<p><strong>Platform:</strong> ${action.platform}</p>`,\n\n\t\t/* html */ `<p><strong>Related URLs:</strong>\n      <ul><li>${action.relatedUrls\n\t\t\t\t.map((url) => `<a href=\"${url}\" target=\"_blank\">${url}</a>`)\n\t\t\t\t.join(\"</li><li>\")}</li></ul></p>`,\n\t]);\n\nexport type RSS3DataModels = {\n\tCollectibleApproval: CollectibleApproval;\n\tCollectibleBurn: CollectibleBurn;\n\tCollectibleMint: CollectibleMint;\n\tCollectibleTrade: CollectibleTrade;\n\tCollectibleTransfer: CollectibleTransfer;\n\tMetaverseBurn: MetaverseBurn;\n\tMetaverseMint: MetaverseMint;\n\tMetaverseTrade: MetaverseTrade;\n\tMetaverseTransfer: MetaverseTransfer;\n\tSocialComment: SocialComment;\n\tSocialDelete: SocialDelete;\n\tSocialMint: SocialMint;\n\tSocialPost: SocialPost;\n\tSocialProfile: SocialProfile;\n\tSocialProxy: SocialProxy;\n\tSocialRevise: SocialRevise;\n\tSocialReward: SocialReward;\n\tSocialShare: SocialShare;\n\tStakeStaking: StakeStaking;\n\tStakeTransaction: StakeTransaction;\n\tStakerProfitSnapshot: StakerProfitSnapshot;\n\tTransactionApproval: TransactionApproval;\n\tTransactionBridge: TransactionBridge;\n\tTransactionBurn: TransactionBurn;\n\tTransactionEvent: TransactionEvent;\n\tTransactionMint: TransactionMint;\n\tTransactionTransfer: TransactionTransfer;\n\tExchangeLiquidity: ExchangeLiquidity;\n\tExchangeStaking: ExchangeStaking;\n\tExchangeSwap: ExchangeSwap;\n};\nexport type GetRSS3DataMetadata<\n\tFirstKey extends string,\n\tSecondKey extends string,\n> = `${Capitalize<FirstKey>}${Capitalize<SecondKey>}` extends keyof RSS3DataModels\n\t? RSS3DataModels[`${Capitalize<FirstKey>}${Capitalize<SecondKey>}`]\n\t: null;\n","import type { Action } from \"@rss3/api-core\";\n\nimport type { MetadataDoc } from \"./doc.js\";\n\ntype Handlers = {\n\t[K in keyof MetadataDoc]: (metadata: MetadataDoc[K][\"ref\"]) => void;\n};\n\nexport function getTagType(action: Action) {\n\treturn `${action.tag}-${action.type}` as keyof Handlers;\n}\n\nexport function handleMetadata(action: Action, handlers: Partial<Handlers>) {\n\t// biome-ignore lint/suspicious/noExplicitAny: Use of any is necessary here\n\thandlers[getTagType(action)]?.(action.metadata as any);\n}\n\nexport { renderItemActionToHTML } from \"./parser.js\";\n","import type { Token, TokenType } from \"./token.js\";\n\nexport type Theme<T> = {\n\t[key in TokenType]: (content: string, meta?: Token[\"meta\"]) => T;\n};\n\nexport const themePlain: Theme<string> = {\n\thtml: (c) => JSON.stringify(ellipsis(stripHTMLTags(c))),\n\tname: (c) => JSON.stringify(c),\n\tplatform: (c) => c,\n\taddress: (c) => c,\n\tnetwork: (c) => JSON.stringify(c),\n\tnumber: (c) => c,\n\timage: () => \"\",\n\tsymbolImage: () => \"\",\n\tassetImage: () => \"\",\n\tsymbol: (c) => c,\n\ttext: (c) => c,\n\ttime: (c) => `[${c}]`,\n\tseparator: (c) => c,\n\tunknown: (c) => c,\n};\n\nfunction ellipsis(content: string, max = 50): string {\n\tlet result = content;\n\n\tif (/\\n/.test(content)) {\n\t\tresult = result.replace(/\\n[\\s\\S]+/g, \" \").trim();\n\t}\n\n\treturn result.length > max ? `${result.slice(0, max)}...` : result;\n}\n\nfunction stripHTMLTags(s: string) {\n\treturn s.replace(/<[^>]*>?/gm, \"\");\n}\n","export function formatTokenValue(amount_?: string | null, decimals?: number) {\n\tlet result = \"0.00\";\n\tlet money: string;\n\tlet amount = amount_;\n\n\tif (amount) {\n\t\tif (Number.isNaN(Number(amount)) || Number(amount) === 0) {\n\t\t\treturn \"0.00\";\n\t\t}\n\n\t\tif (Number(amount) > 0 && decimals !== undefined) {\n\t\t\tamount = formatUnits(amount, decimals);\n\t\t}\n\n\t\tconst matched = amount.match(/^(0.0+)(.*)/);\n\t\tif (Number(amount) > 0 && Number(amount) < 1) {\n\t\t\tmoney = matched\n\t\t\t\t? // biome-ignore lint/style/noNonNullAssertion: Already checked the matched value is not null\n\t\t\t\t\tmatched[1] + matched[2]!.slice(0, 3)\n\t\t\t\t: `0.${amount.split(\"0.\")[1]?.slice(0, 3) ?? \"0\"}`;\n\t\t} else {\n\t\t\tmoney = Number(Number(amount).toFixed(3)).toString();\n\t\t}\n\n\t\tif (!money.includes(\".\")) {\n\t\t\tmoney = Number(amount).toFixed(2);\n\t\t}\n\n\t\tresult = money.replace(/(\\d)(?=(\\d{3})+\\.\\d+)/g, \"$1,\");\n\t}\n\n\treturn result;\n}\n\nexport function formatUnits(bigNum: string, unit: number) {\n\treturn (\n\t\tbigNum.length > unit\n\t\t\t? `${bigNum.slice(0, bigNum.length - unit)}.${bigNum.slice(-unit)}`\n\t\t\t: `0.${\"0\".repeat(unit - bigNum.length)}${bigNum}`\n\t).replace(/0+$/, \"\");\n}\n\nexport function formatThousands(num: number) {\n\tif (Number.isNaN(num)) return num.toString();\n\n\tconst withDecimal = Number(num > 1 ? num.toFixed(2) : num.toFixed(4))\n\t\t.toString()\n\t\t.split(\".\");\n\n\tif (withDecimal.length > 0) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: Already checked the length of withDecimal is greater than 0\n\t\twithDecimal[0] = withDecimal[0]!.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\t}\n\n\treturn withDecimal.join(\".\");\n}\n\nexport function formatPrecision(num: number, n = 2) {\n\tconst scale = 10 ** n;\n\treturn Math.round(num * scale) / scale;\n}\n","import type { Action, Activity } from \"@rss3/api-core\";\n\nimport { formatTokenValue } from \"../number/index.js\";\n\nexport type TokenType =\n\t| \"text\" // plain text\n\t| \"html\" // html text\n\t| \"number\" // number value, such as token exchange rate\n\t| \"image\" // image url\n\t| \"symbolImage\" // symbol image url\n\t| \"assetImage\" // asset image url\n\t| \"symbol\" // short name for a token, such as BTC, ETH\n\t| \"address\" // wallet address or txn address, such as https://help.coinbase.com/en/coinbase/getting-started/crypto-education/what-is-a-transaction-hash-hash-id\n\t| \"name\" // name for NFT, etc\n\t| \"platform\" // platform name\n\t| \"network\" // network name\n\t| \"separator\" // separator for actions\n\t| \"time\" // time\n\t| \"unknown\"; // unknown data type to tokenize\n\nexport type Token = {\n\ttype: TokenType;\n\tcontent: string;\n\tmeta?: {\n\t\taddress?: string | null;\n\t\tnetwork?: string | null;\n\t\tid?: string | null;\n\t\tpreview?: string;\n\t};\n};\n\nexport function token(\n\ttype: Token[\"type\"],\n\tcontent = \"\",\n\tmeta?: Token[\"meta\"],\n): Token {\n\treturn { type, content, meta };\n}\n\nexport const tokenSpace = tokenText(\" \");\n\nexport const tokenSeparator = token(\"separator\", \"; \");\n\nexport function join(tokens: Token[], sep = tokenSpace): Token[] {\n\treturn tokens\n\t\t.reduce((acc, t) => {\n\t\t\tacc.push(sep, t);\n\t\t\treturn acc;\n\t\t}, [] as Token[])\n\t\t.slice(1);\n}\n\nexport function tokenText(t: string): Token {\n\treturn token(\"text\", t);\n}\n\nexport function tokenName(t: string): Token {\n\treturn token(\"name\", t);\n}\n\nexport function tokenImage(t: string | null | undefined) {\n\treturn token(\"image\", t || \"\");\n}\n\nexport function tokenNetwork(t: string | null | undefined) {\n\treturn token(\"network\", t || \"\");\n}\n\nexport function tokenTime(t: number) {\n\treturn token(\"time\", new Date(t * 1000).toJSON());\n}\n\nexport function tokenAddr(t: string | null | undefined) {\n\treturn token(\"address\", t || \"\");\n}\n\nexport function tokenHandle(\n\tt: string | null | undefined,\n\taddr: string | null | undefined,\n\tnetwork: string | null | undefined,\n) {\n\tif (!addr) return token(\"address\", t || \"\");\n\treturn token(\"address\", t || \"\", { address: addr, network: network || \"\" });\n}\n\nexport type TokenMetadata = {\n\tsymbol?: string;\n\tdecimals?: number;\n\timage?: string;\n\tvalue?: string | null;\n};\n\n// maximum value of uint256\nconst INFINITY_VALUE =\n\t\"115792089237316195423570985008687907853269984665640564039457584007913129639935\";\n\nexport function tokenValue(t: TokenMetadata | null | undefined) {\n\tif (!t) return [token(\"number\", \"0\")];\n\tif (t.value === INFINITY_VALUE)\n\t\treturn [token(\"number\", \"infinite\"), token(\"symbol\", t.symbol)];\n\treturn [\n\t\ttoken(\"symbolImage\", t.image),\n\t\ttoken(\"number\", formatTokenValue(t.value, t.decimals) || \"0\"),\n\t\ttoken(\"symbol\", t.symbol),\n\t];\n}\n\nexport function tokenPlatform(t: Activity | Action) {\n\tlet platform = \"\";\n\tif (t.platform) {\n\t\tplatform = t.platform;\n\t\treturn [tokenText(\"on\"), token(\"platform\", platform)];\n\t}\n\treturn [];\n}\n\nexport function tokenPost(t: Action) {\n\tif (t.tag !== \"social\") {\n\t\treturn tokenText(\"\");\n\t}\n\n\tif (t.metadata) {\n\t\tif (\n\t\t\t\"title\" in t.metadata &&\n\t\t\tt.metadata.title &&\n\t\t\t!(t.platform === \"Lens\" && t.metadata.title)\n\t\t) {\n\t\t\treturn token(\"html\", t.metadata.title);\n\t\t}\n\n\t\tif (\"body\" in t.metadata && t.metadata.body) {\n\t\t\treturn token(\"html\", t.metadata.body);\n\t\t}\n\n\t\tif (\n\t\t\t\"target\" in t.metadata &&\n\t\t\tt.metadata.target &&\n\t\t\t\"body\" in t.metadata.target &&\n\t\t\t// FIXME: remove ts-ignore after GI fixing the type\n\t\t\t// @ts-ignore target is not null\n\t\t\tt.metadata.target.body\n\t\t) {\n\t\t\t// @ts-ignore target is not null\n\t\t\treturn token(\"html\", t.metadata.target.body);\n\t\t}\n\t}\n\n\treturn token(\"html\", \"\");\n}\n\nexport function tokenAsset(name: string, meta?: Token[\"meta\"]) {\n\tconst img = meta?.preview;\n\tif (img) {\n\t\treturn [token(\"assetImage\", img), token(\"name\", name, meta)];\n\t}\n\treturn [token(\"name\", name, meta)];\n}\n","import type { Action, Activity } from \"@rss3/api-core\";\n\nimport { handleMetadata } from \"../../metadata/index.js\";\nimport { type Theme, themePlain } from \"./theme.js\";\nimport {\n\ttype Token,\n\tjoin,\n\ttoken,\n\ttokenAddr,\n\ttokenAsset,\n\ttokenHandle,\n\ttokenImage,\n\ttokenName,\n\ttokenNetwork,\n\ttokenPlatform,\n\ttokenPost,\n\ttokenSeparator,\n\ttokenSpace,\n\ttokenText,\n\ttokenTime,\n\ttokenValue,\n} from \"./token.js\";\n\nexport * from \"./theme.js\";\n\nexport function getSummaryActions({ actions, tag, type }: Activity): Action[] {\n\tif (!actions) return [];\n\tif (actions.length === 1) return actions;\n\n\tconst list = [\"transaction-multisig\"];\n\n\treturn list.includes(`${tag}-${type}`)\n\t\t? actions\n\t\t: actions.filter((t) => t.tag === tag && t.type === type);\n}\n\nexport function formatPlain(activity: Activity): string {\n\tconst list = format(activity, themePlain).filter((s) => s !== \"\");\n\n\tconst clean: string[] = [];\n\tfor (let i = 0; i < list.length; i++) {\n\t\tif (list[i] === \" \" && list[i + 1] === \" \") continue;\n\t\tclean.push(list[i] ?? \"\");\n\t}\n\n\treturn clean.join(\"\");\n}\n\n/**\n * Format an activity into a list of tokens that can be used to custom render the output of a activity, such as CLI output.\n */\nexport function format<T>(activity: Activity, theme: Theme<T>): T[] {\n\tconst ts = tokenizeActivity(activity);\n\treturn ts.map((t) => {\n\t\tif (!theme[t.type]) {\n\t\t\treturn theme.unknown(t.content);\n\t\t}\n\n\t\treturn theme[t.type](t.content);\n\t});\n}\n\n/**\n * Returns a list of tokens that can be used to custom render the output of a activity, such as CLI output\n * all the symbols in blue color.\n */\nexport function tokenizeActivity(activity: Activity): Token[] {\n\tconst actions = getSummaryActions(activity);\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn tokenizeAction(activity, actions[0]!);\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [token(\"unknown\", \"Carried out an activity\")];\n\t}\n\n\tconst tokens = actions.reduce((acc, action) => {\n\t\tif (acc.length > 0) {\n\t\t\tacc.push(tokenSeparator);\n\t\t}\n\n\t\tacc.push(...tokenizeAction(activity, action));\n\n\t\treturn acc;\n\t}, [] as Token[]);\n\n\t// biome-ignore lint/style/noNonNullAssertion: FIXME: Remove the non-null assertion once GI's OpenAPI spec is updated\n\ttokens.push(tokenSpace, tokenTime(activity.timestamp!));\n\n\treturn tokens;\n}\n\nexport function tokenizeToActions(activity: Activity): Token[][] {\n\tconst actions = activity.actions ?? [];\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn [tokenizeAction(activity, actions[0]!)];\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [[token(\"unknown\", \"Carried out an activity\")]];\n\t}\n\n\treturn actions.map((action) => tokenizeAction(activity, action));\n}\n\nexport function tokenizeToSummaryActions(activity: Activity): Token[][] {\n\tconst actions = getSummaryActions(activity);\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn [tokenizeAction(activity, actions[0]!)];\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [[token(\"unknown\", \"Carried out an activity\")]];\n\t}\n\n\treturn actions.map((action) => tokenizeAction(activity, action));\n}\n\n/**\n * Returns a list of tokens that can be used to custom render the output of an action, such as CLI output\n */\nexport function tokenizeAction(activity: Activity, action: Action): Token[] {\n\tconst direction = activity.direction;\n\tlet res = [tokenText(\"Carried out an activity\")];\n\thandleMetadata(action, {\n\t\t\"transaction-transfer\": (m) => {\n\t\t\tif (direction === \"in\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\ttokenText(\"received\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sent\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"transaction-approval\": (m) => {\n\t\t\tif (m.action === \"approve\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"revoked the approval of\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"transaction-mint\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\t...tokenValue(m),\n\t\t\t]);\n\t\t},\n\t\t\"transaction-burn\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\t...tokenValue(m),\n\t\t\t]);\n\t\t},\n\t\t\"transaction-bridge\": (m) => {\n\t\t\tlet network: Token[] = [];\n\t\t\tif (m.sourceNetwork) {\n\t\t\t\tnetwork = [\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenNetwork(m.sourceNetwork),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenNetwork(m.targetNetwork),\n\t\t\t\t];\n\t\t\t}\n\t\t\tif (m.action === \"deposit\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"deposited\"),\n\t\t\t\t\t...tokenValue(m.token),\n\t\t\t\t\t...network,\n\t\t\t\t\t...tokenPlatform(activity),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"withdrew\"),\n\t\t\t\t\t...tokenValue(m.token),\n\t\t\t\t\t...network,\n\t\t\t\t\t...tokenPlatform(activity),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t// for collectible or nft related action, it will use image_url as the image link\n\t\t\"collectible-transfer\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"transferred\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-approval\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tif (m.action === \"approve\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\t...tokenAsset(m.name || \"collection\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"revoked the approval of\"),\n\t\t\t\t\t...tokenAsset(m.name || \"collection\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"collectible-mint\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-burn\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-trade\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tif (m.action === \"buy\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\ttokenText(\"bought\"),\n\t\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sold\"),\n\t\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"exchange-swap\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"swapped\"),\n\t\t\t\t...tokenValue(m.from),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\t...tokenValue(m.to),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t// todo add the action invoker\n\t\t\"exchange-liquidity\": (m) => {\n\t\t\tconst tokens = m.tokens\n\t\t\t\t.flatMap((t) => join([...tokenValue(t), tokenText(\",\")]))\n\t\t\t\t.slice(0, -1);\n\t\t\tif (m.action === \"add\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"added\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"remove\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"removed\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"collect\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"collected\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"borrow\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"borrowed\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"repay\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"repaid\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"supply\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"supplied\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"withdraw\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"withDrew\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"social-post\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenHandle(m.handle || action.from, action.from, activity.network),\n\t\t\t\ttokenText(\"published a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-comment\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenHandle(m.handle || action.from, action.from, activity.network),\n\t\t\t\ttokenText(\"made a comment\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-share\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"shared a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-mint\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-revise\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\ttokenText(\"revised a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-profile\": (m) => {\n\t\t\tif (m.action === \"create\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"created a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"update\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"updated a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"renew\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"renewed a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"wrap\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"wrapped a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"unwrap\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"unwrapped a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"social-delete\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"deleted a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-proxy\": (m) => {\n\t\t\tif (m.action === \"appoint\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved a proxy\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"removed a proxy\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"metaverse-transfer\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"transferred\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-mint\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-burn\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-trade\": (m) => {\n\t\t\tif (m.action === \"buy\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"bought\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"sell\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sold\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"list\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"listed\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t});\n\treturn res;\n}\n\nexport function hasMultiPrimaryActions(activity: Activity): boolean {\n\tconst actions = getSummaryActions(activity);\n\tlet count = 0;\n\n\tfor (const action of actions) {\n\t\tif (action.type === activity.type && action.tag === activity.tag) {\n\t\t\tcount++;\n\n\t\t\tif (count > 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function flatActivity(activity: Activity) {\n\tconst hasMulti = hasMultiPrimaryActions(activity);\n\n\tif (hasMulti) {\n\t\treturn getSummaryActions(activity).map(\n\t\t\t(action): Activity => ({\n\t\t\t\t...activity,\n\t\t\t\tactions: [action],\n\t\t\t}),\n\t\t);\n\t}\n\treturn [activity];\n}\n","export const SUPPORTED_NAME_SERVICES = [\n\t\".eth\",\n\t\".lens\",\n\t\".csb\",\n\t\".bnb\",\n\t\".bit\",\n\t\".crypto\",\n\t\".zil\",\n\t\".nft\",\n\t\".x\",\n\t\".wallet\",\n\t\".bitcoin\",\n\t\".dao\",\n\t\".888\",\n\t\".blockchain\",\n\t\".avax\",\n\t\".arb\",\n\t\".cyber\",\n] as const;\n\nexport type SupportedNameService = (typeof SUPPORTED_NAME_SERVICES)[number];\n\n/**\n * Check if the handle's name service is supported.\n * @param handle\n */\nexport function isSupportedNS(\n\thandle?: string | null,\n): handle is `${string}${SupportedNameService}` {\n\tif (!handle) return false;\n\tconst _handle = handle.toLowerCase();\n\treturn SUPPORTED_NAME_SERVICES.some((ns) => _handle.endsWith(ns));\n}\n","import { isSupportedNS } from \"../../name-service.js\";\n\nexport function isAddress(address: string): boolean {\n\treturn /^(0x)?[\\dA-Fa-f]{40}$/.test(address);\n}\n\nexport function isMastodon(handle: string) {\n\treturn /^\\w{1,30}@[\\d.A-Za-z-]+\\.[A-Za-z]{2,}$/.test(handle);\n}\n\nexport function formatAddress(address: string): string {\n\tif (!address) return \"\";\n\tif (!isAddress(address)) return address;\n\treturn `${address.slice(0, 6)}...${address.slice(-4)}`;\n}\n\n/**\n * it will format the address, eg: 0x1234567890abcdef1234567890abcdef12345678 -> 0x1234...5678\n * also format the long handle, eg: 0x1234567890abcdef1234567890abcdef12345678.csb -> 0x1234...5678.csb\n */\nexport function formatAddressAndNS(address: string): string {\n\tif (isAddress(address)) {\n\t\treturn formatAddress(address);\n\t}\n\n\tif (isSupportedNS(address)) {\n\t\treturn address\n\t\t\t.split(\".\")\n\t\t\t.map((value: string) => formatAddress(value))\n\t\t\t.join(\".\");\n\t}\n\n\treturn address;\n}\n\nexport function addressToAvatarURL(address: string, size: number): string {\n\treturn `https://cdn.stamp.fyi/avatar/${address}?s=${size}`;\n}\n","import type {\n\tAction,\n\tCollectibleApproval,\n\tCollectibleTrade,\n\tCollectibleTransfer,\n} from \"@rss3/api-core\";\n\nimport { handleMetadata } from \"../../metadata/index.js\";\n\nexport type BriefAsset = {\n\tcontract?: string | null;\n\tid?: string | null;\n\turl?: string;\n\ttitle?: string;\n\tdescription?: string;\n};\n\nexport function extractAsset(action: Action) {\n\tlet res: BriefAsset | undefined;\n\n\thandleMetadata(action, {\n\t\t\"collectible-transfer\": (m) => {\n\t\t\tres = extractNFT(m);\n\t\t},\n\t\t\"collectible-approval\": (m) => {\n\t\t\tres = extractNFT(m);\n\t\t},\n\t\t\"collectible-mint\": (m) => {\n\t\t\tres = extractNFT(m);\n\t\t},\n\t\t\"collectible-burn\": (m) => {\n\t\t\tres = extractNFT(m);\n\t\t},\n\t\t\"collectible-trade\": (m) => {\n\t\t\tres = extractNFT(m);\n\t\t},\n\t});\n\n\treturn res;\n}\n\nexport function extractNFT(\n\tm: CollectibleTransfer | CollectibleTrade | CollectibleApproval,\n) {\n\treturn {\n\t\taddress: m.address,\n\t\tid: m.id,\n\t\turl: m.parsedImageUrl,\n\t\ttitle: m.name,\n\t\tstandard: m.standard,\n\t};\n}\n","import type { Action, Activity, SocialPost } from \"@rss3/api-core\";\n\nimport { handleMetadata } from \"../../metadata/index.js\";\n\nexport type Content = {\n\tauthorUrl?: string;\n\thandle?: string;\n\taddress?: string;\n\tprofileId?: string | number | null;\n\ttitle?: string;\n\tbody?: string;\n\tmedia?: SocialPost[\"media\"];\n};\n\nexport type PostContent = Content & {\n\ttarget?: Content;\n};\n\nexport function formatContent(activity: Activity) {\n\tconst [action] = activity.actions ?? [];\n\treturn action ? extractContent(activity, action) : undefined;\n}\n\nexport function extractContent(\n\tactivity: Activity,\n\taction: Action,\n): PostContent | undefined {\n\tlet content: PostContent | undefined;\n\thandleMetadata(action, {\n\t\t\"social-post\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t\t\"social-comment\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t\t\"social-mint\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t\t\"social-share\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t\t\"social-revise\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t\t\"social-delete\": (metadata) => {\n\t\t\tcontent = extractSocialPost(activity, action, metadata);\n\t\t},\n\t});\n\treturn content;\n}\n\n/**\n * The special case for lens post, which will use the first sentence of the body as the title\n */\nexport function formatTitle(title?: string, body?: string) {\n\tif (!title) return title;\n\n\tconst _title = title.replaceAll(\"\", \"\");\n\n\treturn body?.startsWith(_title) ? undefined : _title;\n}\n\nexport function checkTargetExist(\n\ttarget?: Pick<Content, \"body\" | \"media\" | \"title\">,\n) {\n\tif (!target) return false;\n\tif (!!target.body || !!target.media || !!target.title) return true;\n\treturn false;\n}\n\nfunction extractSocialPost(\n\tactivity: Activity,\n\taction: Action,\n\tmetadata: SocialPost,\n): PostContent {\n\tconst raw = metadata.target;\n\tconst target = raw\n\t\t? {\n\t\t\t\tauthorUrl: raw.authorUrl,\n\t\t\t\thandle: raw.handle,\n\t\t\t\taddress: action.to,\n\t\t\t\tprofileId: raw.profileId,\n\t\t\t\ttitle: formatTitle(raw.title, raw.body),\n\t\t\t\tbody: raw.body,\n\t\t\t\tmedia: raw.media,\n\t\t\t}\n\t\t: undefined;\n\t// remove the first media, which is the avatar of the author\n\t// this case only happens in mastodon\n\tif (target?.media && activity.network?.toLowerCase() === \"mastodon\") {\n\t\ttarget.media = target.media.slice(1);\n\t}\n\tconst res = {\n\t\tauthorUrl: metadata.authorUrl,\n\t\thandle: metadata.handle,\n\t\taddress: action.from,\n\t\tprofileId: metadata.profileId,\n\t\ttitle: formatTitle(metadata.title, metadata.body),\n\t\tbody: metadata.body,\n\t\tmedia: metadata.media,\n\t\ttarget: target,\n\t};\n\t// the same as the target\n\tif (res.media && activity.network?.toLowerCase() === \"mastodon\") {\n\t\tres.media = res.media.slice(1);\n\t}\n\treturn res;\n}\n","import type { Activity } from \"@rss3/api-core\";\n\nexport function isSpamActivity(activity: Activity) {\n\treturn activity.totalActions !== activity.actions.length;\n}\n","export const EMPTY_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n","import type { Network, Tag } from \"@rss3/api-core\";\n\nexport function getIconURL(name: Tag | Network | string) {\n\treturn `https://assets.rss3.io/web3-icons/${name}.png`;\n}\n"]}