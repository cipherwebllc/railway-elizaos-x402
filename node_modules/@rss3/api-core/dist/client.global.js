var DslApiCore = (function (exports) {
	'use strict';

	var N={"Content-Type":"application/json"},k=/\{[^{}]+\}/g,S=class extends Request{constructor(t,e){super(t,e);for(let n in e)n in this||(this[n]=e[n]);}};function v(){return Math.random().toString(36).slice(2,11)}function O(r){let{baseUrl:t="",fetch:e=globalThis.fetch,querySerializer:n,bodySerializer:i,headers:o,...l}={...r};t=P(t),o=U(N,o);let c=[];async function u(a,s){let{baseUrl:y,fetch:$=e,headers:I,params:m={},parseAs:T="json",querySerializer:b,bodySerializer:z=i??F,...L}=s||{};y&&(t=P(y));let j=typeof n=="function"?n:D(n);b&&(j=typeof b=="function"?b:D({...typeof n=="object"?n:{},...b}));let p={redirect:"follow",...l,...L,headers:U(o,I,m.header)};p.body&&(p.body=z(p.body),p.body instanceof FormData&&p.headers.delete("Content-Type"));let E,g,R=new S(W(a,{baseUrl:t,params:m,querySerializer:j}),p);if(c.length){E=v(),g=Object.freeze({baseUrl:t,fetch:$,parseAs:T,querySerializer:j,bodySerializer:z});for(let d of c)if(d&&typeof d=="object"&&typeof d.onRequest=="function"){let h=await d.onRequest({request:R,schemaPath:a,params:m,options:g,id:E});if(h){if(!(h instanceof Request))throw new Error("onRequest: must return new Request() when modifying the request");R=h;}}}let f=await $(R);if(c.length)for(let d=c.length-1;d>=0;d--){let h=c[d];if(h&&typeof h=="object"&&typeof h.onResponse=="function"){let A=await h.onResponse({request:R,response:f,schemaPath:a,params:m,options:g,id:E});if(A){if(!(A instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");f=A;}}}if(f.status===204||f.headers.get("Content-Length")==="0")return f.ok?{data:{},response:f}:{error:{},response:f};if(f.ok)return T==="stream"?{data:f.body,response:f}:{data:await f[T](),response:f};let C=await f.text();try{C=JSON.parse(C);}catch{}return {error:C,response:f}}return {GET(a,s){return u(a,{...s,method:"GET"})},PUT(a,s){return u(a,{...s,method:"PUT"})},POST(a,s){return u(a,{...s,method:"POST"})},DELETE(a,s){return u(a,{...s,method:"DELETE"})},OPTIONS(a,s){return u(a,{...s,method:"OPTIONS"})},HEAD(a,s){return u(a,{...s,method:"HEAD"})},PATCH(a,s){return u(a,{...s,method:"PATCH"})},TRACE(a,s){return u(a,{...s,method:"TRACE"})},use(...a){for(let s of a)if(s){if(typeof s!="object"||!("onRequest"in s||"onResponse"in s))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");c.push(s);}},eject(...a){for(let s of a){let y=c.indexOf(s);y!==-1&&c.splice(y,1);}}}}function w(r,t,e){if(t==null)return "";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${r}=${e?.allowReserved===!0?t:encodeURIComponent(t)}`}function q(r,t,e){if(!t||typeof t!="object")return "";let n=[],i={simple:",",label:".",matrix:";"}[e.style]||"&";if(e.style!=="deepObject"&&e.explode===!1){for(let c in t)n.push(c,e.allowReserved===!0?t[c]:encodeURIComponent(t[c]));let l=n.join(",");switch(e.style){case"form":return `${r}=${l}`;case"label":return `.${l}`;case"matrix":return `;${r}=${l}`;default:return l}}for(let l in t){let c=e.style==="deepObject"?`${r}[${l}]`:l;n.push(w(c,t[l],e));}let o=n.join(i);return e.style==="label"||e.style==="matrix"?`${i}${o}`:o}function H(r,t,e){if(!Array.isArray(t))return "";if(e.explode===!1){let o={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[e.style]||",",l=(e.allowReserved===!0?t:t.map(c=>encodeURIComponent(c))).join(o);switch(e.style){case"simple":return l;case"label":return `.${l}`;case"matrix":return `;${r}=${l}`;default:return `${r}=${l}`}}let n={simple:",",label:".",matrix:";"}[e.style]||"&",i=[];for(let o of t)e.style==="simple"||e.style==="label"?i.push(e.allowReserved===!0?o:encodeURIComponent(o)):i.push(w(r,o,e));return e.style==="label"||e.style==="matrix"?`${n}${i.join(n)}`:i.join(n)}function D(r){return function(e){let n=[];if(e&&typeof e=="object")for(let i in e){let o=e[i];if(o!=null){if(Array.isArray(o)){n.push(H(i,o,{style:"form",explode:!0,...r?.array,allowReserved:r?.allowReserved||!1}));continue}if(typeof o=="object"){n.push(q(i,o,{style:"deepObject",explode:!0,...r?.object,allowReserved:r?.allowReserved||!1}));continue}n.push(w(i,o,r));}}return n.join("&")}}function B(r,t){let e=r;for(let n of r.match(k)??[]){let i=n.substring(1,n.length-1),o=!1,l="simple";if(i.endsWith("*")&&(o=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(l="label",i=i.substring(1)):i.startsWith(";")&&(l="matrix",i=i.substring(1)),!t||t[i]===void 0||t[i]===null)continue;let c=t[i];if(Array.isArray(c)){e=e.replace(n,H(i,c,{style:l,explode:o}));continue}if(typeof c=="object"){e=e.replace(n,q(i,c,{style:l,explode:o}));continue}if(l==="matrix"){e=e.replace(n,`;${w(i,c)}`);continue}e=e.replace(n,l==="label"?`.${encodeURIComponent(c)}`:encodeURIComponent(c));}return e}function F(r){return r instanceof FormData?r:JSON.stringify(r)}function W(r,t){let e=`${t.baseUrl}${r}`;t.params?.path&&(e=B(e,t.params.path));let n=t.querySerializer(t.params.query??{});return n.startsWith("?")&&(n=n.substring(1)),n&&(e+=`?${n}`),e}function U(...r){let t=new Headers;for(let e of r){if(!e||typeof e!="object")continue;let n=e instanceof Headers?e.entries():Object.entries(e);for(let[i,o]of n)if(o===null)t.delete(i);else if(Array.isArray(o))for(let l of o)t.append(i,l);else o!==void 0&&t.set(i,o);}return t}function P(r){return r.endsWith("/")?r.substring(0,r.length-1):r}var x=null;function Q(){return x||(x=G()),x}function J(r){x=r;}function G({baseUrl:r="https://gi.rss3.io",...t}={}){return Object.freeze(Object.assign({baseUrl:r},O({baseUrl:r,...t})))}

	exports.createClient = G;
	exports.getDefaultClient = Q;
	exports.setDefaultClient = J;

	return exports;

})({});
//# sourceMappingURL=client.global.js.map
//# sourceMappingURL=client.global.js.map