{"version":3,"sources":["../../../src/readable/activity/index.ts"],"names":["themePlain","token","tokenSeparator","tokenSpace","tokenTime","tokenText","handleMetadata","join","tokenAddr","tokenValue","tokenNetwork","tokenPlatform","tokenAsset","tokenImage","tokenHandle","tokenPost","tokenName"],"mappings":"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","file":"index.cjs","sourcesContent":["import type { Action, Activity } from \"@rss3/api-core\";\n\nimport { handleMetadata } from \"../../metadata/index.js\";\nimport { type Theme, themePlain } from \"./theme.js\";\nimport {\n\ttype Token,\n\tjoin,\n\ttoken,\n\ttokenAddr,\n\ttokenAsset,\n\ttokenHandle,\n\ttokenImage,\n\ttokenName,\n\ttokenNetwork,\n\ttokenPlatform,\n\ttokenPost,\n\ttokenSeparator,\n\ttokenSpace,\n\ttokenText,\n\ttokenTime,\n\ttokenValue,\n} from \"./token.js\";\n\nexport * from \"./theme.js\";\n\nexport function getSummaryActions({ actions, tag, type }: Activity): Action[] {\n\tif (!actions) return [];\n\tif (actions.length === 1) return actions;\n\n\tconst list = [\"transaction-multisig\"];\n\n\treturn list.includes(`${tag}-${type}`)\n\t\t? actions\n\t\t: actions.filter((t) => t.tag === tag && t.type === type);\n}\n\nexport function formatPlain(activity: Activity): string {\n\tconst list = format(activity, themePlain).filter((s) => s !== \"\");\n\n\tconst clean: string[] = [];\n\tfor (let i = 0; i < list.length; i++) {\n\t\tif (list[i] === \" \" && list[i + 1] === \" \") continue;\n\t\tclean.push(list[i] ?? \"\");\n\t}\n\n\treturn clean.join(\"\");\n}\n\n/**\n * Format an activity into a list of tokens that can be used to custom render the output of a activity, such as CLI output.\n */\nexport function format<T>(activity: Activity, theme: Theme<T>): T[] {\n\tconst ts = tokenizeActivity(activity);\n\treturn ts.map((t) => {\n\t\tif (!theme[t.type]) {\n\t\t\treturn theme.unknown(t.content);\n\t\t}\n\n\t\treturn theme[t.type](t.content);\n\t});\n}\n\n/**\n * Returns a list of tokens that can be used to custom render the output of a activity, such as CLI output\n * all the symbols in blue color.\n */\nexport function tokenizeActivity(activity: Activity): Token[] {\n\tconst actions = getSummaryActions(activity);\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn tokenizeAction(activity, actions[0]!);\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [token(\"unknown\", \"Carried out an activity\")];\n\t}\n\n\tconst tokens = actions.reduce((acc, action) => {\n\t\tif (acc.length > 0) {\n\t\t\tacc.push(tokenSeparator);\n\t\t}\n\n\t\tacc.push(...tokenizeAction(activity, action));\n\n\t\treturn acc;\n\t}, [] as Token[]);\n\n\t// biome-ignore lint/style/noNonNullAssertion: FIXME: Remove the non-null assertion once GI's OpenAPI spec is updated\n\ttokens.push(tokenSpace, tokenTime(activity.timestamp!));\n\n\treturn tokens;\n}\n\nexport function tokenizeToActions(activity: Activity): Token[][] {\n\tconst actions = activity.actions ?? [];\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn [tokenizeAction(activity, actions[0]!)];\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [[token(\"unknown\", \"Carried out an activity\")]];\n\t}\n\n\treturn actions.map((action) => tokenizeAction(activity, action));\n}\n\nexport function tokenizeToSummaryActions(activity: Activity): Token[][] {\n\tconst actions = getSummaryActions(activity);\n\n\t// used for social actions, remove the duplicate action\n\tif (activity.tag === \"social\" && actions.length > 1) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: The actions[0] is not null here\n\t\treturn [tokenizeAction(activity, actions[0]!)];\n\t}\n\n\t// handle unknown activity\n\tif (activity.tag === \"unknown\" || activity.type === \"unknown\") {\n\t\treturn [[token(\"unknown\", \"Carried out an activity\")]];\n\t}\n\n\treturn actions.map((action) => tokenizeAction(activity, action));\n}\n\n/**\n * Returns a list of tokens that can be used to custom render the output of an action, such as CLI output\n */\nexport function tokenizeAction(activity: Activity, action: Action): Token[] {\n\tconst direction = activity.direction;\n\tlet res = [tokenText(\"Carried out an activity\")];\n\thandleMetadata(action, {\n\t\t\"transaction-transfer\": (m) => {\n\t\t\tif (direction === \"in\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\ttokenText(\"received\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sent\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"transaction-approval\": (m) => {\n\t\t\tif (m.action === \"approve\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"revoked the approval of\"),\n\t\t\t\t\t...tokenValue(m),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"transaction-mint\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\t...tokenValue(m),\n\t\t\t]);\n\t\t},\n\t\t\"transaction-burn\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\t...tokenValue(m),\n\t\t\t]);\n\t\t},\n\t\t\"transaction-bridge\": (m) => {\n\t\t\tlet network: Token[] = [];\n\t\t\tif (m.sourceNetwork) {\n\t\t\t\tnetwork = [\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenNetwork(m.sourceNetwork),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenNetwork(m.targetNetwork),\n\t\t\t\t];\n\t\t\t}\n\t\t\tif (m.action === \"deposit\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"deposited\"),\n\t\t\t\t\t...tokenValue(m.token),\n\t\t\t\t\t...network,\n\t\t\t\t\t...tokenPlatform(activity),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"withdrew\"),\n\t\t\t\t\t...tokenValue(m.token),\n\t\t\t\t\t...network,\n\t\t\t\t\t...tokenPlatform(activity),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t// for collectible or nft related action, it will use image_url as the image link\n\t\t\"collectible-transfer\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"transferred\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-approval\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tif (m.action === \"approve\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\t...tokenAsset(m.name || \"collection\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"revoked the approval of\"),\n\t\t\t\t\t...tokenAsset(m.name || \"collection\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"collectible-mint\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-burn\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t]);\n\t\t},\n\t\t\"collectible-trade\": (m) => {\n\t\t\tconst meta = {\n\t\t\t\taddress: m.address,\n\t\t\t\tid: m.id,\n\t\t\t\tnetwork: activity.network,\n\t\t\t\tpreview: m.parsedImageUrl,\n\t\t\t};\n\t\t\tif (m.action === \"buy\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\ttokenText(\"bought\"),\n\t\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sold\"),\n\t\t\t\t\t...tokenAsset(m.name || \"an asset\", meta),\n\t\t\t\t\ttokenText(\"to\"),\n\t\t\t\t\ttokenAddr(action.to),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"exchange-swap\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"swapped\"),\n\t\t\t\t...tokenValue(m.from),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\t...tokenValue(m.to),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t// todo add the action invoker\n\t\t\"exchange-liquidity\": (m) => {\n\t\t\tconst tokens = m.tokens\n\t\t\t\t.flatMap((t) => join([...tokenValue(t), tokenText(\",\")]))\n\t\t\t\t.slice(0, -1);\n\t\t\tif (m.action === \"add\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"added\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"remove\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"removed\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"collect\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"collected\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"borrow\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"borrowed\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"repay\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"repaid\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"supply\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"supplied\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"to liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"withdraw\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"withDrew\"),\n\t\t\t\t\t...tokens,\n\t\t\t\t\ttokenText(\"from liquidity\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"social-post\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenHandle(m.handle || action.from, action.from, activity.network),\n\t\t\t\ttokenText(\"published a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-comment\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenHandle(m.handle || action.from, action.from, activity.network),\n\t\t\t\ttokenText(\"made a comment\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-share\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"shared a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-mint\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-revise\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\ttokenText(\"revised a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-profile\": (m) => {\n\t\t\tif (m.action === \"create\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"created a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"update\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"updated a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"renew\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"renewed a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"wrap\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"wrapped a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"unwrap\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(m.handle || action.from),\n\t\t\t\t\ttokenText(\"unwrapped a profile\"),\n\t\t\t\t\ttokenImage(m.imageUri),\n\t\t\t\t\ttokenName(m.name || m.handle || \"\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"social-delete\": () => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"deleted a post\"),\n\t\t\t\ttokenPost(action),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"social-proxy\": (m) => {\n\t\t\tif (m.action === \"appoint\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"approved a proxy\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"removed a proxy\"),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t\t\"metaverse-transfer\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"transferred\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\ttokenText(\"to\"),\n\t\t\t\ttokenAddr(action.to),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-mint\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"minted\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-burn\": (m) => {\n\t\t\tres = join([\n\t\t\t\ttokenAddr(action.from),\n\t\t\t\ttokenText(\"burned\"),\n\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t...tokenPlatform(action),\n\t\t\t]);\n\t\t},\n\t\t\"metaverse-trade\": (m) => {\n\t\t\tif (m.action === \"buy\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"bought\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"sell\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"sold\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t} else if (m.action === \"list\") {\n\t\t\t\tres = join([\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\ttokenText(\"listed\"),\n\t\t\t\t\ttokenImage(m.parsedImageUrl),\n\t\t\t\t\ttokenName(m.name || \"an asset\"),\n\t\t\t\t\ttokenText(\"from\"),\n\t\t\t\t\ttokenAddr(action.from),\n\t\t\t\t\t...tokenPlatform(action),\n\t\t\t\t]);\n\t\t\t}\n\t\t},\n\t});\n\treturn res;\n}\n\nexport function hasMultiPrimaryActions(activity: Activity): boolean {\n\tconst actions = getSummaryActions(activity);\n\tlet count = 0;\n\n\tfor (const action of actions) {\n\t\tif (action.type === activity.type && action.tag === activity.tag) {\n\t\t\tcount++;\n\n\t\t\tif (count > 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function flatActivity(activity: Activity) {\n\tconst hasMulti = hasMultiPrimaryActions(activity);\n\n\tif (hasMulti) {\n\t\treturn getSummaryActions(activity).map(\n\t\t\t(action): Activity => ({\n\t\t\t\t...activity,\n\t\t\t\tactions: [action],\n\t\t\t}),\n\t\t);\n\t}\n\treturn [activity];\n}\n"]}