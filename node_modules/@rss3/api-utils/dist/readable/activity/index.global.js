var DslApiUtils = (function (exports) {
	'use strict';

	function U(r){return `${r.tag}-${r.type}`}function b(r,e){e[U(r)]?.(r.metadata);}var x={html:r=>JSON.stringify(M(S(r))),name:r=>JSON.stringify(r),platform:r=>r,address:r=>r,network:r=>JSON.stringify(r),number:r=>r,image:()=>"",symbolImage:()=>"",assetImage:()=>"",symbol:r=>r,text:r=>r,time:r=>`[${r}]`,separator:r=>r,unknown:r=>r};function M(r,e=50){let i=r;return /\n/.test(r)&&(i=i.replace(/\n[\s\S]+/g," ").trim()),i.length>e?`${i.slice(0,e)}...`:i}function S(r){return r.replace(/<[^>]*>?/gm,"")}function A(r,e){let i="0.00",n,t=r;if(t){if(Number.isNaN(Number(t))||Number(t)===0)return "0.00";Number(t)>0&&e!==void 0&&(t=$(t,e));let d=t.match(/^(0.0+)(.*)/);Number(t)>0&&Number(t)<1?n=d?d[1]+d[2].slice(0,3):`0.${t.split("0.")[1]?.slice(0,3)??"0"}`:n=Number(Number(t).toFixed(3)).toString(),n.includes(".")||(n=Number(t).toFixed(2)),i=n.replace(/(\d)(?=(\d{3})+\.\d+)/g,"$1,");}return i}function $(r,e){return (r.length>e?`${r.slice(0,r.length-e)}.${r.slice(-e)}`:`0.${"0".repeat(e-r.length)}${r}`).replace(/0+$/,"")}function f(r,e="",i){return {type:r,content:e,meta:i}}var w=o(" "),I=f("separator","; ");function s(r,e=w){return r.reduce((i,n)=>(i.push(e,n),i),[]).slice(1)}function o(r){return f("text",r)}function p(r){return f("name",r)}function u(r){return f("image",r||"")}function y(r){return f("network",r||"")}function N(r){return f("time",new Date(r*1e3).toJSON())}function a(r){return f("address",r||"")}function T(r,e,i){return e?f("address",r||"",{address:e,network:i||""}):f("address",r||"")}var P="115792089237316195423570985008687907853269984665640564039457584007913129639935";function m(r){return r?r.value===P?[f("number","infinite"),f("symbol",r.symbol)]:[f("symbolImage",r.image),f("number",A(r.value,r.decimals)||"0"),f("symbol",r.symbol)]:[f("number","0")]}function l(r){let e="";return r.platform?(e=r.platform,[o("on"),f("platform",e)]):[]}function g(r){if(r.tag!=="social")return o("");if(r.metadata){if("title"in r.metadata&&r.metadata.title&&!(r.platform==="Lens"&&r.metadata.title))return f("html",r.metadata.title);if("body"in r.metadata&&r.metadata.body)return f("html",r.metadata.body);if("target"in r.metadata&&r.metadata.target&&"body"in r.metadata.target&&r.metadata.target.body)return f("html",r.metadata.target.body)}return f("html","")}function k(r,e){let i=e?.preview;return i?[f("assetImage",i),f("name",r,e)]:[f("name",r,e)]}function h({actions:r,tag:e,type:i}){return r?r.length===1||["transaction-multisig"].includes(`${e}-${i}`)?r:r.filter(t=>t.tag===e&&t.type===i):[]}function K(r){let e=q(r,x).filter(n=>n!==""),i=[];for(let n=0;n<e.length;n++)e[n]===" "&&e[n+1]===" "||i.push(e[n]??"");return i.join("")}function q(r,e){return H(r).map(n=>e[n.type]?e[n.type](n.content):e.unknown(n.content))}function H(r){let e=h(r);if(r.tag==="social"&&e.length>1)return c(r,e[0]);if(r.tag==="unknown"||r.type==="unknown")return [f("unknown","Carried out an activity")];let i=e.reduce((n,t)=>(n.length>0&&n.push(I),n.push(...c(r,t)),n),[]);return i.push(w,N(r.timestamp)),i}function B(r){let e=r.actions??[];return r.tag==="social"&&e.length>1?[c(r,e[0])]:r.tag==="unknown"||r.type==="unknown"?[[f("unknown","Carried out an activity")]]:e.map(i=>c(r,i))}function E(r){let e=h(r);return r.tag==="social"&&e.length>1?[c(r,e[0])]:r.tag==="unknown"||r.type==="unknown"?[[f("unknown","Carried out an activity")]]:e.map(i=>c(r,i))}function c(r,e){let i=r.direction,n=[o("Carried out an activity")];return b(e,{"transaction-transfer":t=>{i==="in"?n=s([a(e.to),o("received"),...m(t),o("from"),a(e.from)]):n=s([a(e.from),o("sent"),...m(t),o("to"),a(e.to)]);},"transaction-approval":t=>{t.action==="approve"?n=s([a(e.from),o("approved"),...m(t),o("to"),a(e.to)]):n=s([a(e.from),o("revoked the approval of"),...m(t),o("to"),a(e.to)]);},"transaction-mint":t=>{n=s([a(e.from),o("minted"),...m(t)]);},"transaction-burn":t=>{n=s([a(e.from),o("burned"),...m(t)]);},"transaction-bridge":t=>{let d=[];t.sourceNetwork&&(d=[o("from"),y(t.sourceNetwork),o("to"),y(t.targetNetwork)]),t.action==="deposit"?n=s([a(e.from),o("deposited"),...m(t.token),...d,...l(r)]):n=s([a(e.from),o("withdrew"),...m(t.token),...d,...l(r)]);},"collectible-transfer":t=>{let d={address:t.address,id:t.id,network:r.network,preview:t.parsedImageUrl};n=s([a(e.from),o("transferred"),...k(t.name||"an asset",d),o("to"),a(e.to)]);},"collectible-approval":t=>{let d={address:t.address,id:t.id,network:r.network,preview:t.parsedImageUrl};t.action==="approve"?n=s([a(e.from),o("approved"),u(t.parsedImageUrl),...k(t.name||"collection",d),o("to"),a(e.to)]):n=s([a(e.from),o("revoked the approval of"),...k(t.name||"collection",d),o("to"),a(e.to)]);},"collectible-mint":t=>{let d={address:t.address,id:t.id,network:r.network,preview:t.parsedImageUrl};n=s([a(e.from),o("minted"),...k(t.name||"an asset",d),o("to"),a(e.to)]);},"collectible-burn":t=>{let d={address:t.address,id:t.id,network:r.network,preview:t.parsedImageUrl};n=s([a(e.from),o("burned"),...k(t.name||"an asset",d)]);},"collectible-trade":t=>{let d={address:t.address,id:t.id,network:r.network,preview:t.parsedImageUrl};t.action==="buy"?n=s([a(e.to),o("bought"),...k(t.name||"an asset",d),o("from"),a(e.from),...l(e)]):n=s([a(e.from),o("sold"),...k(t.name||"an asset",d),o("to"),a(e.to),...l(e)]);},"exchange-swap":t=>{n=s([a(e.from),o("swapped"),...m(t.from),o("to"),...m(t.to),...l(e)]);},"exchange-liquidity":t=>{let d=t.tokens.flatMap(v=>s([...m(v),o(",")])).slice(0,-1);t.action==="add"?n=s([a(e.from),o("added"),...d,o("to liquidity"),...l(e)]):t.action==="remove"?n=s([a(e.from),o("removed"),...d,o("from liquidity"),...l(e)]):t.action==="collect"?n=s([a(e.from),o("collected"),...d,o("from liquidity"),...l(e)]):t.action==="borrow"?n=s([a(e.from),o("borrowed"),...d,o("from liquidity"),...l(e)]):t.action==="repay"?n=s([a(e.from),o("repaid"),...d,o("to liquidity"),...l(e)]):t.action==="supply"?n=s([a(e.from),o("supplied"),...d,o("to liquidity"),...l(e)]):t.action==="withdraw"&&(n=s([a(e.from),o("withDrew"),...d,o("from liquidity"),...l(e)]));},"social-post":t=>{n=s([T(t.handle||e.from,e.from,r.network),o("published a post"),g(e),...l(e)]);},"social-comment":t=>{n=s([T(t.handle||e.from,e.from,r.network),o("made a comment"),g(e),...l(e)]);},"social-share":()=>{n=s([a(e.from),o("shared a post"),g(e),...l(e)]);},"social-mint":()=>{n=s([a(e.from),o("minted a post"),g(e),...l(e)]);},"social-revise":t=>{n=s([a(t.handle||e.from),o("revised a post"),g(e),...l(e)]);},"social-profile":t=>{t.action==="create"?n=s([a(t.handle||e.from),o("created a profile"),u(t.imageUri),p(t.name||t.handle||""),...l(e)]):t.action==="update"?n=s([a(t.handle||e.from),o("updated a profile"),u(t.imageUri),p(t.name||t.handle||""),...l(e)]):t.action==="renew"?n=s([a(t.handle||e.from),o("renewed a profile"),u(t.imageUri),p(t.name||t.handle||""),...l(e)]):t.action==="wrap"?n=s([a(t.handle||e.from),o("wrapped a profile"),u(t.imageUri),p(t.name||t.handle||""),...l(e)]):t.action==="unwrap"&&(n=s([a(t.handle||e.from),o("unwrapped a profile"),u(t.imageUri),p(t.name||t.handle||""),...l(e)]));},"social-delete":()=>{n=s([a(e.from),o("deleted a post"),g(e),...l(e)]);},"social-proxy":t=>{t.action==="appoint"?n=s([a(e.from),o("approved a proxy"),...l(e)]):n=s([a(e.from),o("removed a proxy"),...l(e)]);},"metaverse-transfer":t=>{n=s([a(e.from),o("transferred"),u(t.parsedImageUrl),p(t.name||"an asset"),o("to"),a(e.to)]);},"metaverse-mint":t=>{n=s([a(e.from),o("minted"),u(t.parsedImageUrl),p(t.name||"an asset"),...l(e)]);},"metaverse-burn":t=>{n=s([a(e.from),o("burned"),u(t.parsedImageUrl),p(t.name||"an asset"),...l(e)]);},"metaverse-trade":t=>{t.action==="buy"?n=s([a(e.from),o("bought"),u(t.parsedImageUrl),p(t.name||"an asset"),o("from"),a(e.from),...l(e)]):t.action==="sell"?n=s([a(e.from),o("sold"),u(t.parsedImageUrl),p(t.name||"an asset"),o("from"),a(e.from),...l(e)]):t.action==="list"&&(n=s([a(e.from),o("listed"),u(t.parsedImageUrl),p(t.name||"an asset"),o("from"),a(e.from),...l(e)]));}}),n}function j(r){let e=h(r),i=0;for(let n of e)if(n.type===r.type&&n.tag===r.tag&&(i++,i>1))return !0;return !1}function Y(r){return j(r)?h(r).map(i=>({...r,actions:[i]})):[r]}

	exports.flatActivity = Y;
	exports.format = q;
	exports.formatPlain = K;
	exports.getSummaryActions = h;
	exports.hasMultiPrimaryActions = j;
	exports.themePlain = x;
	exports.tokenizeAction = c;
	exports.tokenizeActivity = H;
	exports.tokenizeToActions = B;
	exports.tokenizeToSummaryActions = E;

	return exports;

})({});
//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map