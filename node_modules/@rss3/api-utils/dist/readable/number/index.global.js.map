{"version":3,"sources":["../../../src/readable/number/index.ts"],"names":["formatTokenValue","amount_","decimals","result","money","amount","formatUnits","matched","bigNum","unit","formatThousands","num","withDecimal","formatPrecision","n","scale"],"mappings":";;;CAAO,SAASA,CAAAA,CAAiBC,EAAyBC,CAAmB,CAAA,CAC5E,IAAIC,CAAS,CAAA,MAAA,CACTC,CACAC,CAAAA,CAAAA,CAASJ,CAEb,CAAA,GAAII,EAAQ,CACX,GAAI,MAAO,CAAA,KAAA,CAAM,MAAOA,CAAAA,CAAM,CAAC,CAAK,EAAA,MAAA,CAAOA,CAAM,CAAA,GAAM,CACtD,CAAA,OAAO,OAGJ,MAAOA,CAAAA,CAAM,EAAI,CAAKH,EAAAA,CAAAA,GAAa,SACtCG,CAASC,CAAAA,CAAAA,CAAYD,CAAQH,CAAAA,CAAQ,CAGtC,CAAA,CAAA,IAAMK,EAAUF,CAAO,CAAA,KAAA,CAAM,aAAa,CAAA,CACtC,MAAOA,CAAAA,CAAM,EAAI,CAAK,EAAA,MAAA,CAAOA,CAAM,CAAA,CAAI,CAC1CD,CAAAA,CAAAA,CAAQG,EAENA,CAAQ,CAAA,CAAC,EAAIA,CAAQ,CAAA,CAAC,EAAG,KAAM,CAAA,CAAA,CAAG,CAAC,CAAA,CAClC,CAAKF,EAAAA,EAAAA,CAAAA,CAAO,MAAM,IAAI,CAAA,CAAE,CAAC,CAAA,EAAG,KAAM,CAAA,CAAA,CAAG,CAAC,CAAK,EAAA,GAAG,CAEjDD,CAAAA,CAAAA,CAAAA,CAAQ,MAAO,CAAA,MAAA,CAAOC,CAAM,CAAE,CAAA,OAAA,CAAQ,CAAC,CAAC,CAAE,CAAA,QAAA,GAGtCD,CAAM,CAAA,QAAA,CAAS,GAAG,CAAA,GACtBA,CAAQ,CAAA,MAAA,CAAOC,CAAM,CAAE,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAA,CAGjCF,CAASC,CAAAA,CAAAA,CAAM,QAAQ,wBAA0B,CAAA,KAAK,EACvD,CAEA,OAAOD,CACR,CAEO,SAASG,CAAAA,CAAYE,EAAgBC,CAAc,CAAA,CACzD,QACCD,CAAO,CAAA,MAAA,CAASC,CACb,CAAA,CAAA,EAAGD,CAAO,CAAA,KAAA,CAAM,EAAGA,CAAO,CAAA,MAAA,CAASC,CAAI,CAAC,CAAID,CAAAA,EAAAA,CAAAA,CAAO,MAAM,CAACC,CAAI,CAAC,CAAA,CAAA,CAC/D,CAAK,EAAA,EAAA,GAAA,CAAI,OAAOA,CAAOD,CAAAA,CAAAA,CAAO,MAAM,CAAC,CAAA,EAAGA,CAAM,CAChD,CAAA,EAAA,OAAA,CAAQ,KAAO,CAAA,EAAE,CACpB,CAEO,SAASE,CAAgBC,CAAAA,CAAAA,CAAa,CAC5C,GAAI,MAAO,CAAA,KAAA,CAAMA,CAAG,CAAG,CAAA,OAAOA,CAAI,CAAA,QAAA,EAElC,CAAA,IAAMC,EAAc,MAAOD,CAAAA,CAAAA,CAAM,EAAIA,CAAI,CAAA,OAAA,CAAQ,CAAC,CAAIA,CAAAA,CAAAA,CAAI,OAAQ,CAAA,CAAC,CAAC,CAAA,CAClE,UACA,CAAA,KAAA,CAAM,GAAG,CAAA,CAEX,OAAIC,CAAAA,CAAY,OAAS,CAExBA,GAAAA,CAAAA,CAAY,CAAC,CAAA,CAAIA,CAAY,CAAA,CAAC,EAAG,OAAQ,CAAA,uBAAA,CAAyB,GAAG,CAAA,CAAA,CAG/DA,CAAY,CAAA,IAAA,CAAK,GAAG,CAC5B,CAEO,SAASC,CAAAA,CAAgBF,CAAaG,CAAAA,CAAAA,CAAI,EAAG,CACnD,IAAMC,CAAQ,CAAA,EAAA,EAAMD,CACpB,CAAA,OAAO,KAAK,KAAMH,CAAAA,CAAAA,CAAMI,CAAK,CAAA,CAAIA,CAClC","file":"index.global.js","sourcesContent":["export function formatTokenValue(amount_?: string | null, decimals?: number) {\n\tlet result = \"0.00\";\n\tlet money: string;\n\tlet amount = amount_;\n\n\tif (amount) {\n\t\tif (Number.isNaN(Number(amount)) || Number(amount) === 0) {\n\t\t\treturn \"0.00\";\n\t\t}\n\n\t\tif (Number(amount) > 0 && decimals !== undefined) {\n\t\t\tamount = formatUnits(amount, decimals);\n\t\t}\n\n\t\tconst matched = amount.match(/^(0.0+)(.*)/);\n\t\tif (Number(amount) > 0 && Number(amount) < 1) {\n\t\t\tmoney = matched\n\t\t\t\t? // biome-ignore lint/style/noNonNullAssertion: Already checked the matched value is not null\n\t\t\t\t\tmatched[1] + matched[2]!.slice(0, 3)\n\t\t\t\t: `0.${amount.split(\"0.\")[1]?.slice(0, 3) ?? \"0\"}`;\n\t\t} else {\n\t\t\tmoney = Number(Number(amount).toFixed(3)).toString();\n\t\t}\n\n\t\tif (!money.includes(\".\")) {\n\t\t\tmoney = Number(amount).toFixed(2);\n\t\t}\n\n\t\tresult = money.replace(/(\\d)(?=(\\d{3})+\\.\\d+)/g, \"$1,\");\n\t}\n\n\treturn result;\n}\n\nexport function formatUnits(bigNum: string, unit: number) {\n\treturn (\n\t\tbigNum.length > unit\n\t\t\t? `${bigNum.slice(0, bigNum.length - unit)}.${bigNum.slice(-unit)}`\n\t\t\t: `0.${\"0\".repeat(unit - bigNum.length)}${bigNum}`\n\t).replace(/0+$/, \"\");\n}\n\nexport function formatThousands(num: number) {\n\tif (Number.isNaN(num)) return num.toString();\n\n\tconst withDecimal = Number(num > 1 ? num.toFixed(2) : num.toFixed(4))\n\t\t.toString()\n\t\t.split(\".\");\n\n\tif (withDecimal.length > 0) {\n\t\t// biome-ignore lint/style/noNonNullAssertion: Already checked the length of withDecimal is greater than 0\n\t\twithDecimal[0] = withDecimal[0]!.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\t}\n\n\treturn withDecimal.join(\".\");\n}\n\nexport function formatPrecision(num: number, n = 2) {\n\tconst scale = 10 ** n;\n\treturn Math.round(num * scale) / scale;\n}\n"]}