{"version":3,"sources":["../../../src/name-service.ts","../../../src/readable/address/index.ts"],"names":["SUPPORTED_NAME_SERVICES","isSupportedNS","handle","_handle","ns","isAddress","address","isMastodon","formatAddress","formatAddressAndNS","value","addressToAvatarURL","size"],"mappings":";;;CAAO,IAAMA,CAA0B,CAAA,CACtC,MACA,CAAA,OAAA,CACA,MACA,CAAA,MAAA,CACA,MACA,CAAA,SAAA,CACA,MACA,CAAA,MAAA,CACA,IACA,CAAA,SAAA,CACA,UACA,CAAA,MAAA,CACA,MACA,CAAA,aAAA,CACA,OACA,CAAA,MAAA,CACA,QACD,CAAA,CAQO,SAASC,CAAAA,CACfC,CAC+C,CAAA,CAC/C,GAAI,CAACA,CAAQ,CAAA,OAAO,CACpB,CAAA,CAAA,IAAMC,CAAUD,CAAAA,CAAAA,CAAO,WAAY,EAAA,CACnC,OAAOF,CAAAA,CAAwB,IAAMI,CAAAA,CAAAA,EAAOD,CAAQ,CAAA,QAAA,CAASC,CAAE,CAAC,CACjE,CC9BO,SAASC,CAAAA,CAAUC,CAA0B,CAAA,CACnD,OAAO,uBAAA,CAAwB,IAAKA,CAAAA,CAAO,CAC5C,CAEO,SAASC,CAAAA,CAAWL,CAAgB,CAAA,CAC1C,OAAO,wCAAA,CAAyC,KAAKA,CAAM,CAC5D,CAEO,SAASM,CAAcF,CAAAA,CAAAA,CAAyB,CACtD,OAAKA,CACAD,CAAAA,CAAAA,CAAUC,CAAO,CAAA,CACf,CAAGA,EAAAA,CAAAA,CAAQ,KAAM,CAAA,CAAA,CAAG,CAAC,CAAC,CAAMA,GAAAA,EAAAA,CAAAA,CAAQ,KAAM,CAAA,CAAA,CAAE,CAAC,CAAA,CAAA,CADpBA,CADX,CAAA,EAGtB,CAMO,SAASG,CAAmBH,CAAAA,CAAAA,CAAyB,CAC3D,OAAID,EAAUC,CAAO,CAAA,CACbE,CAAcF,CAAAA,CAAO,CAGzBL,CAAAA,CAAAA,CAAcK,CAAO,CAAA,CACjBA,CACL,CAAA,KAAA,CAAM,GAAG,CAAA,CACT,GAAKI,CAAAA,CAAAA,EAAkBF,CAAcE,CAAAA,CAAK,CAAC,CAAA,CAC3C,IAAK,CAAA,GAAG,CAGJJ,CAAAA,CACR,CAEO,SAASK,CAAmBL,CAAAA,CAAAA,CAAiBM,CAAsB,CAAA,CACzE,OAAO,CAAA,6BAAA,EAAgCN,CAAO,CAAA,GAAA,EAAMM,CAAI,CACzD,CAAA","file":"index.global.js","sourcesContent":["export const SUPPORTED_NAME_SERVICES = [\n\t\".eth\",\n\t\".lens\",\n\t\".csb\",\n\t\".bnb\",\n\t\".bit\",\n\t\".crypto\",\n\t\".zil\",\n\t\".nft\",\n\t\".x\",\n\t\".wallet\",\n\t\".bitcoin\",\n\t\".dao\",\n\t\".888\",\n\t\".blockchain\",\n\t\".avax\",\n\t\".arb\",\n\t\".cyber\",\n] as const;\n\nexport type SupportedNameService = (typeof SUPPORTED_NAME_SERVICES)[number];\n\n/**\n * Check if the handle's name service is supported.\n * @param handle\n */\nexport function isSupportedNS(\n\thandle?: string | null,\n): handle is `${string}${SupportedNameService}` {\n\tif (!handle) return false;\n\tconst _handle = handle.toLowerCase();\n\treturn SUPPORTED_NAME_SERVICES.some((ns) => _handle.endsWith(ns));\n}\n","import { isSupportedNS } from \"../../name-service.js\";\n\nexport function isAddress(address: string): boolean {\n\treturn /^(0x)?[\\dA-Fa-f]{40}$/.test(address);\n}\n\nexport function isMastodon(handle: string) {\n\treturn /^\\w{1,30}@[\\d.A-Za-z-]+\\.[A-Za-z]{2,}$/.test(handle);\n}\n\nexport function formatAddress(address: string): string {\n\tif (!address) return \"\";\n\tif (!isAddress(address)) return address;\n\treturn `${address.slice(0, 6)}...${address.slice(-4)}`;\n}\n\n/**\n * it will format the address, eg: 0x1234567890abcdef1234567890abcdef12345678 -> 0x1234...5678\n * also format the long handle, eg: 0x1234567890abcdef1234567890abcdef12345678.csb -> 0x1234...5678.csb\n */\nexport function formatAddressAndNS(address: string): string {\n\tif (isAddress(address)) {\n\t\treturn formatAddress(address);\n\t}\n\n\tif (isSupportedNS(address)) {\n\t\treturn address\n\t\t\t.split(\".\")\n\t\t\t.map((value: string) => formatAddress(value))\n\t\t\t.join(\".\");\n\t}\n\n\treturn address;\n}\n\nexport function addressToAvatarURL(address: string, size: number): string {\n\treturn `https://cdn.stamp.fyi/avatar/${address}?s=${size}`;\n}\n"]}