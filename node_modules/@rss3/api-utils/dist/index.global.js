var DslApiUtils = (function (exports) {
      'use strict';

      function B(e){let r="",o=0;for(let n of e){if(!n.metadata)continue;let{tag:s}=n;switch(s){case"social":r+=F(n);break;case"collectible":r+=q(n);break;case"metaverse":r+=j(n);break;case"exchange":r+=L(n);break;case"transaction":r+=V(n);break}o<e.length-1&&(r+="<br />"),o++;}return r}var V=e=>{let r="",{type:o}=e,n="transaction";switch(o){case"transfer":case"burn":case"mint":case"approval":{let t=c(n,o,e);if(!t)break;r+=f([`<h4>Transaction ${o.toUpperCase().at(0)+o.slice(1)}</h4>`,`<p><strong>Name:</strong> ${t.name}</p>`,`<p><strong>Value:</strong> ${t.value}</p>`,`<p><strong>Standard:</strong> ${t.standard}</p>`,`<p><strong>Symbol:</strong> ${t.symbol}</p>`,`<p><strong>Decimals:</strong> ${t.decimals}</p>`,`<p><strong>Address:</strong> ${t.address}</p>`]);break}case"event":{let t=c(n,o,e);if(!t)break;r+=f(["<h4>Transaction Event</h4>",`<p><strong>Block Hash:</strong> ${t.block.hash}</p>`,`<p><strong>Transaction Hash:</strong> ${t.transaction.hash}</p>`]);break}case"bridge":{let t=c(n,o,e);if(!t)break;r+=f(["<h4>Transaction Bridge</h4>",`<p><strong>Action:</strong> ${t.action}</p>`,`<p><strong>Source Network:</strong> ${t.sourceNetwork}</p>`,`<p><strong>Target Network:</strong> ${t.targetNetwork}</p>`,t.token&&`<p><strong>Token name:</strong> ${t.token.name}</p>`,t.token&&`<p><strong>Token Symbol:</strong> ${t.token.symbol}</p>`,t.token&&`<p><strong>Token Value:</strong> ${t.token.value}</p>`,t.token&&`<p><strong>Token Address:</strong> ${t.token.address}</p>`]);break}}return x(r,e)},L=e=>{let r="",{type:o}=e,n="exchange";switch(o){case"liquidity":{let t=c(n,o,e);if(!t)break;r+=f(["<h4>Exchange Liquidity</h4>",`<p><strong>Action:</strong> ${t.action}</p>`,`<p>
            <table>
              <thead>
                <tr>
                  <th>Address</th>
                  <th>Value</th>
                  <th>Name</th>
                  <th>Symbol</th>
                  <th>Decimals</th>
                  <th>Standard</th>
                </tr>
              </thead>
              <tbody>
                ${t.tokens.map(s=>`<tr>
                  <td>${s.address}</td>
                  <td>${s.value}</td>
                  <td>${s.name}</td>
                  <td>${s.symbol}</td>
                  <td>${s.decimals}</td>
                  <td>${s.standard}</td>
                </tr>`)}
              </tbody>
          </table>
        </p>`]);break}case"staking":{let t=c(n,o,e);if(!t)break;r+=f(["<h4>Exchange Liquidity</h4>",`<p><strong>Action:</strong> ${t.action}</p>`,t.token&&`<p>

           <strong>Token:</strong>
           <ul>
            <li><strong>Address:</strong> ${t.token.address}</li>
            <li><strong>Value:</strong> ${t.token.value}</li>
            <li><strong>Name:</strong> ${t.token.name}</li>
            <li><strong>Symbol:</strong> ${t.token.symbol}</li>
            <li><strong>Decimals:</strong> ${t.token.decimals}</li>
            <li><strong>Standard:</strong> ${t.token.standard}</li>
           </ul>
        </p>`]);break}case"swap":{let t=c(n,o,e);if(!t)break;r+=f(["<h4>Exchange Swap</h4>",t.from&&`<p><strong>From:</strong> ${t.from.address}</p>`,t.to&&`<p><strong>To:</strong> ${t.to?.address}</p>`]);}}return x(r,e)},j=e=>{let r="",{from:o,to:n,type:t}=e,s="metaverse";switch(t){case"burn":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Metaverse Burn</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);break}case"trade":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Metaverse Trade</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);break}case"mint":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Metaverse Mint</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);}break;case"transfer":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Metaverse Transfer</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);}}return x(r,e)},q=e=>{let r="",{from:o,to:n,type:t}=e,s="collectible";switch(t){case"approval":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Collectible Approval</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);break}case"burn":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Collectible Burn</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);break}case"trade":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Collectible Trade</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);break}case"mint":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Collectible Mint</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);}break;case"transfer":{let i=c(s,t,e);if(!i)break;r+=f(["<h4>Collectible Transfer</h4>",`<p><strong>Name:</strong> ${i.name}</p>`,`<p><strong>Address:</strong> ${i.address}</p>`,`<p><strong>Symbol:</strong> ${i.symbol}</p>`,`<p><strong>Value:</strong> ${i.value}</p>`,`<p>${o} --> ${n}</p>`]);}}return x(r,e)},F=e=>{let r="",{type:o}=e,n="social";switch(o){case"profile":break;case"mint":{let t=c(n,o,e);if(!t)break;r+=f([`<small>${t.handle} mited a post</small><br/>`,t.body]);break}case"delete":{let t=c(n,o,e);if(!t)break;r+=f([`<small>${t.handle} deleted a post</small><br/>`]);break}case"post":{let t=c(n,o,e);if(!t||!t.body)break;r+=t.body;break}case"comment":{let t=c(n,o,e);if(!t||!t.target)break;r+=f([`<small>${t.handle} commented on ${t.target.handle}'s post</small><br/>`,`<blockquote>${t.target.body}</blockquote>`,`RT: ${t.body}`,t.media?.map(s=>`<img src="${s.address}" style="max-width:100%; height:auto;"/>`).join("")]);break}case"reward":{let t=c(n,o,e);if(!t)break;r+=f([`<small>${t.handle} rewarded a post</small><br/>`,t.body]);break}case"revise":{let t=c(n,o,e);if(!t)break;r+=f([`<small>${t.handle} revised a post</small><br/>`,t.body]);break}case"proxy":break;case"share":{let t=c(n,o,e);if(!t||!t.target)break;r+=f([`<small>${t.handle} shared a post by <a href="${t.target.authorUrl}" target="_blank">${t.target.handle}</a></small><br/>`,t.target?.body,t.target.media?.map(s=>`<img src="${s.address}" style="max-width:100%; height:auto;"/>`).join("")]);break}}return r};function c(e,r,o){return o.metadata?o.metadata:null}function f(e){return e.filter(Boolean).join(`
`)}var x=(e,r)=>f([e,!!r.platform&&`<p><strong>Platform:</strong> ${r.platform}</p>`,`<p><strong>Related URLs:</strong>
      <ul><li>${r.relatedUrls.map(o=>`<a href="${o}" target="_blank">${o}</a>`).join("</li><li>")}</li></ul></p>`]);function H(e){return `${e.tag}-${e.type}`}function y(e,r){r[H(e)]?.(e.metadata);}var C={html:e=>JSON.stringify(_(z(e))),name:e=>JSON.stringify(e),platform:e=>e,address:e=>e,network:e=>JSON.stringify(e),number:e=>e,image:()=>"",symbolImage:()=>"",assetImage:()=>"",symbol:e=>e,text:e=>e,time:e=>`[${e}]`,separator:e=>e,unknown:e=>e};function _(e,r=50){let o=e;return /\n/.test(e)&&(o=o.replace(/\n[\s\S]+/g," ").trim()),o.length>r?`${o.slice(0,r)}...`:o}function z(e){return e.replace(/<[^>]*>?/gm,"")}function N(e,r){let o="0.00",n,t=e;if(t){if(Number.isNaN(Number(t))||Number(t)===0)return "0.00";Number(t)>0&&r!==void 0&&(t=K(t,r));let s=t.match(/^(0.0+)(.*)/);Number(t)>0&&Number(t)<1?n=s?s[1]+s[2].slice(0,3):`0.${t.split("0.")[1]?.slice(0,3)??"0"}`:n=Number(Number(t).toFixed(3)).toString(),n.includes(".")||(n=Number(t).toFixed(2)),o=n.replace(/(\d)(?=(\d{3})+\.\d+)/g,"$1,");}return o}function K(e,r){return (e.length>r?`${e.slice(0,e.length-r)}.${e.slice(-r)}`:`0.${"0".repeat(r-e.length)}${e}`).replace(/0+$/,"")}function re(e){if(Number.isNaN(e))return e.toString();let r=Number(e>1?e.toFixed(2):e.toFixed(4)).toString().split(".");return r.length>0&&(r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")),r.join(".")}function ne(e,r=2){let o=10**r;return Math.round(e*o)/o}function m(e,r="",o){return {type:e,content:r,meta:o}}var w=a(" "),P=m("separator","; ");function d(e,r=w){return e.reduce((o,n)=>(o.push(r,n),o),[]).slice(1)}function a(e){return m("text",e)}function g(e){return m("name",e)}function u(e){return m("image",e||"")}function v(e){return m("network",e||"")}function I(e){return m("time",new Date(e*1e3).toJSON())}function l(e){return m("address",e||"")}function M(e,r,o){return r?m("address",e||"",{address:r,network:o||""}):m("address",e||"")}var O="115792089237316195423570985008687907853269984665640564039457584007913129639935";function b(e){return e?e.value===O?[m("number","infinite"),m("symbol",e.symbol)]:[m("symbolImage",e.image),m("number",N(e.value,e.decimals)||"0"),m("symbol",e.symbol)]:[m("number","0")]}function p(e){let r="";return e.platform?(r=e.platform,[a("on"),m("platform",r)]):[]}function h(e){if(e.tag!=="social")return a("");if(e.metadata){if("title"in e.metadata&&e.metadata.title&&!(e.platform==="Lens"&&e.metadata.title))return m("html",e.metadata.title);if("body"in e.metadata&&e.metadata.body)return m("html",e.metadata.body);if("target"in e.metadata&&e.metadata.target&&"body"in e.metadata.target&&e.metadata.target.body)return m("html",e.metadata.target.body)}return m("html","")}function k(e,r){let o=r?.preview;return o?[m("assetImage",o),m("name",e,r)]:[m("name",e,r)]}function A({actions:e,tag:r,type:o}){return e?e.length===1||["transaction-multisig"].includes(`${r}-${o}`)?e:e.filter(t=>t.tag===r&&t.type===o):[]}function pe(e){let r=J(e,C).filter(n=>n!==""),o=[];for(let n=0;n<r.length;n++)r[n]===" "&&r[n+1]===" "||o.push(r[n]??"");return o.join("")}function J(e,r){return G(e).map(n=>r[n.type]?r[n.type](n.content):r.unknown(n.content))}function G(e){let r=A(e);if(e.tag==="social"&&r.length>1)return T(e,r[0]);if(e.tag==="unknown"||e.type==="unknown")return [m("unknown","Carried out an activity")];let o=r.reduce((n,t)=>(n.length>0&&n.push(P),n.push(...T(e,t)),n),[]);return o.push(w,I(e.timestamp)),o}function me(e){let r=e.actions??[];return e.tag==="social"&&r.length>1?[T(e,r[0])]:e.tag==="unknown"||e.type==="unknown"?[[m("unknown","Carried out an activity")]]:r.map(o=>T(e,o))}function ce(e){let r=A(e);return e.tag==="social"&&r.length>1?[T(e,r[0])]:e.tag==="unknown"||e.type==="unknown"?[[m("unknown","Carried out an activity")]]:r.map(o=>T(e,o))}function T(e,r){let o=e.direction,n=[a("Carried out an activity")];return y(r,{"transaction-transfer":t=>{o==="in"?n=d([l(r.to),a("received"),...b(t),a("from"),l(r.from)]):n=d([l(r.from),a("sent"),...b(t),a("to"),l(r.to)]);},"transaction-approval":t=>{t.action==="approve"?n=d([l(r.from),a("approved"),...b(t),a("to"),l(r.to)]):n=d([l(r.from),a("revoked the approval of"),...b(t),a("to"),l(r.to)]);},"transaction-mint":t=>{n=d([l(r.from),a("minted"),...b(t)]);},"transaction-burn":t=>{n=d([l(r.from),a("burned"),...b(t)]);},"transaction-bridge":t=>{let s=[];t.sourceNetwork&&(s=[a("from"),v(t.sourceNetwork),a("to"),v(t.targetNetwork)]),t.action==="deposit"?n=d([l(r.from),a("deposited"),...b(t.token),...s,...p(e)]):n=d([l(r.from),a("withdrew"),...b(t.token),...s,...p(e)]);},"collectible-transfer":t=>{let s={address:t.address,id:t.id,network:e.network,preview:t.parsedImageUrl};n=d([l(r.from),a("transferred"),...k(t.name||"an asset",s),a("to"),l(r.to)]);},"collectible-approval":t=>{let s={address:t.address,id:t.id,network:e.network,preview:t.parsedImageUrl};t.action==="approve"?n=d([l(r.from),a("approved"),u(t.parsedImageUrl),...k(t.name||"collection",s),a("to"),l(r.to)]):n=d([l(r.from),a("revoked the approval of"),...k(t.name||"collection",s),a("to"),l(r.to)]);},"collectible-mint":t=>{let s={address:t.address,id:t.id,network:e.network,preview:t.parsedImageUrl};n=d([l(r.from),a("minted"),...k(t.name||"an asset",s),a("to"),l(r.to)]);},"collectible-burn":t=>{let s={address:t.address,id:t.id,network:e.network,preview:t.parsedImageUrl};n=d([l(r.from),a("burned"),...k(t.name||"an asset",s)]);},"collectible-trade":t=>{let s={address:t.address,id:t.id,network:e.network,preview:t.parsedImageUrl};t.action==="buy"?n=d([l(r.to),a("bought"),...k(t.name||"an asset",s),a("from"),l(r.from),...p(r)]):n=d([l(r.from),a("sold"),...k(t.name||"an asset",s),a("to"),l(r.to),...p(r)]);},"exchange-swap":t=>{n=d([l(r.from),a("swapped"),...b(t.from),a("to"),...b(t.to),...p(r)]);},"exchange-liquidity":t=>{let s=t.tokens.flatMap(i=>d([...b(i),a(",")])).slice(0,-1);t.action==="add"?n=d([l(r.from),a("added"),...s,a("to liquidity"),...p(r)]):t.action==="remove"?n=d([l(r.from),a("removed"),...s,a("from liquidity"),...p(r)]):t.action==="collect"?n=d([l(r.from),a("collected"),...s,a("from liquidity"),...p(r)]):t.action==="borrow"?n=d([l(r.from),a("borrowed"),...s,a("from liquidity"),...p(r)]):t.action==="repay"?n=d([l(r.from),a("repaid"),...s,a("to liquidity"),...p(r)]):t.action==="supply"?n=d([l(r.from),a("supplied"),...s,a("to liquidity"),...p(r)]):t.action==="withdraw"&&(n=d([l(r.from),a("withDrew"),...s,a("from liquidity"),...p(r)]));},"social-post":t=>{n=d([M(t.handle||r.from,r.from,e.network),a("published a post"),h(r),...p(r)]);},"social-comment":t=>{n=d([M(t.handle||r.from,r.from,e.network),a("made a comment"),h(r),...p(r)]);},"social-share":()=>{n=d([l(r.from),a("shared a post"),h(r),...p(r)]);},"social-mint":()=>{n=d([l(r.from),a("minted a post"),h(r),...p(r)]);},"social-revise":t=>{n=d([l(t.handle||r.from),a("revised a post"),h(r),...p(r)]);},"social-profile":t=>{t.action==="create"?n=d([l(t.handle||r.from),a("created a profile"),u(t.imageUri),g(t.name||t.handle||""),...p(r)]):t.action==="update"?n=d([l(t.handle||r.from),a("updated a profile"),u(t.imageUri),g(t.name||t.handle||""),...p(r)]):t.action==="renew"?n=d([l(t.handle||r.from),a("renewed a profile"),u(t.imageUri),g(t.name||t.handle||""),...p(r)]):t.action==="wrap"?n=d([l(t.handle||r.from),a("wrapped a profile"),u(t.imageUri),g(t.name||t.handle||""),...p(r)]):t.action==="unwrap"&&(n=d([l(t.handle||r.from),a("unwrapped a profile"),u(t.imageUri),g(t.name||t.handle||""),...p(r)]));},"social-delete":()=>{n=d([l(r.from),a("deleted a post"),h(r),...p(r)]);},"social-proxy":t=>{t.action==="appoint"?n=d([l(r.from),a("approved a proxy"),...p(r)]):n=d([l(r.from),a("removed a proxy"),...p(r)]);},"metaverse-transfer":t=>{n=d([l(r.from),a("transferred"),u(t.parsedImageUrl),g(t.name||"an asset"),a("to"),l(r.to)]);},"metaverse-mint":t=>{n=d([l(r.from),a("minted"),u(t.parsedImageUrl),g(t.name||"an asset"),...p(r)]);},"metaverse-burn":t=>{n=d([l(r.from),a("burned"),u(t.parsedImageUrl),g(t.name||"an asset"),...p(r)]);},"metaverse-trade":t=>{t.action==="buy"?n=d([l(r.from),a("bought"),u(t.parsedImageUrl),g(t.name||"an asset"),a("from"),l(r.from),...p(r)]):t.action==="sell"?n=d([l(r.from),a("sold"),u(t.parsedImageUrl),g(t.name||"an asset"),a("from"),l(r.from),...p(r)]):t.action==="list"&&(n=d([l(r.from),a("listed"),u(t.parsedImageUrl),g(t.name||"an asset"),a("from"),l(r.from),...p(r)]));}}),n}function W(e){let r=A(e),o=0;for(let n of r)if(n.type===e.type&&n.tag===e.tag&&(o++,o>1))return !0;return !1}function fe(e){return W(e)?A(e).map(o=>({...e,actions:[o]})):[e]}var Y=[".eth",".lens",".csb",".bnb",".bit",".crypto",".zil",".nft",".x",".wallet",".bitcoin",".dao",".888",".blockchain",".avax",".arb",".cyber"];function U(e){if(!e)return !1;let r=e.toLowerCase();return Y.some(o=>r.endsWith(o))}function D(e){return /^(0x)?[\dA-Fa-f]{40}$/.test(e)}function he(e){return /^\w{1,30}@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/.test(e)}function E(e){return e?D(e)?`${e.slice(0,6)}...${e.slice(-4)}`:e:""}function ye(e){return D(e)?E(e):U(e)?e.split(".").map(r=>E(r)).join("."):e}function Te(e,r){return `https://cdn.stamp.fyi/avatar/${e}?s=${r}`}function xe(e){let r;return y(e,{"collectible-transfer":o=>{r=S(o);},"collectible-approval":o=>{r=S(o);},"collectible-mint":o=>{r=S(o);},"collectible-burn":o=>{r=S(o);},"collectible-trade":o=>{r=S(o);}}),r}function S(e){return {address:e.address,id:e.id,url:e.parsedImageUrl,title:e.name,standard:e.standard}}function ve(e){let[r]=e.actions??[];return r?Z(e,r):void 0}function Z(e,r){let o;return y(r,{"social-post":n=>{o=$(e,r,n);},"social-comment":n=>{o=$(e,r,n);},"social-mint":n=>{o=$(e,r,n);},"social-share":n=>{o=$(e,r,n);},"social-revise":n=>{o=$(e,r,n);},"social-delete":n=>{o=$(e,r,n);}}),o}function R(e,r){if(!e)return e;let o=e.replaceAll("\u2026","");return r?.startsWith(o)?void 0:o}function Me(e){return e?!!(e.body||e.media||e.title):!1}function $(e,r,o){let n=o.target,t=n?{authorUrl:n.authorUrl,handle:n.handle,address:r.to,profileId:n.profileId,title:R(n.title,n.body),body:n.body,media:n.media}:void 0;t?.media&&e.network?.toLowerCase()==="mastodon"&&(t.media=t.media.slice(1));let s={authorUrl:o.authorUrl,handle:o.handle,address:r.from,profileId:o.profileId,title:R(o.title,o.body),body:o.body,media:o.media,target:t};return s.media&&e.network?.toLowerCase()==="mastodon"&&(s.media=s.media.slice(1)),s}function Ne(e){return e.totalActions!==e.actions.length}var Ie="0x0000000000000000000000000000000000000000";function Ee(e){return `https://assets.rss3.io/web3-icons/${e}.png`}

      exports.EMPTY_ADDRESS = Ie;
      exports.SUPPORTED_NAME_SERVICES = Y;
      exports.addressToAvatarURL = Te;
      exports.checkTargetExist = Me;
      exports.extractAsset = xe;
      exports.extractContent = Z;
      exports.extractNFT = S;
      exports.flatActivity = fe;
      exports.format = J;
      exports.formatAddress = E;
      exports.formatAddressAndNS = ye;
      exports.formatContent = ve;
      exports.formatPlain = pe;
      exports.formatPrecision = ne;
      exports.formatThousands = re;
      exports.formatTitle = R;
      exports.formatTokenValue = N;
      exports.formatUnits = K;
      exports.getIconURL = Ee;
      exports.getSummaryActions = A;
      exports.getTagType = H;
      exports.handleMetadata = y;
      exports.hasMultiPrimaryActions = W;
      exports.isAddress = D;
      exports.isMastodon = he;
      exports.isSpamActivity = Ne;
      exports.isSupportedNS = U;
      exports.renderItemActionToHTML = B;
      exports.themePlain = C;
      exports.tokenizeAction = T;
      exports.tokenizeActivity = G;
      exports.tokenizeToActions = me;
      exports.tokenizeToSummaryActions = ce;

      return exports;

})({});
//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map